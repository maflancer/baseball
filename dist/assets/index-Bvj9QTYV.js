function oE(A,O){for(var q=0;q<O.length;q++){const ce=O[q];if(typeof ce!="string"&&!Array.isArray(ce)){for(const Ae in ce)if(Ae!=="default"&&!(Ae in A)){const _e=Object.getOwnPropertyDescriptor(ce,Ae);_e&&Object.defineProperty(A,Ae,_e.get?_e:{enumerable:!0,get:()=>ce[Ae]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const Ae of document.querySelectorAll('link[rel="modulepreload"]'))ce(Ae);new MutationObserver(Ae=>{for(const _e of Ae)if(_e.type==="childList")for(const G of _e.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&ce(G)}).observe(document,{childList:!0,subtree:!0});function q(Ae){const _e={};return Ae.integrity&&(_e.integrity=Ae.integrity),Ae.referrerPolicy&&(_e.referrerPolicy=Ae.referrerPolicy),Ae.crossOrigin==="use-credentials"?_e.credentials="include":Ae.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function ce(Ae){if(Ae.ep)return;Ae.ep=!0;const _e=q(Ae);fetch(Ae.href,_e)}})();function Pb(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function _c(A){if(A.__esModule)return A;var O=A.default;if(typeof O=="function"){var q=function ce(){return this instanceof ce?Reflect.construct(O,arguments,this.constructor):O.apply(this,arguments)};q.prototype=O.prototype}else q={};return Object.defineProperty(q,"__esModule",{value:!0}),Object.keys(A).forEach(function(ce){var Ae=Object.getOwnPropertyDescriptor(A,ce);Object.defineProperty(q,ce,Ae.get?Ae:{enumerable:!0,get:function(){return A[ce]}})}),q}var ET={exports:{}},Ny={},CT={exports:{}},xi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=Symbol.for("react.element"),sE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),uE=Symbol.for("react.strict_mode"),fE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),hE=Symbol.for("react.context"),vE=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),pE=Symbol.for("react.memo"),gE=Symbol.for("react.lazy"),f2=Symbol.iterator;function yE(A){return A===null||typeof A!="object"?null:(A=f2&&A[f2]||A["@@iterator"],typeof A=="function"?A:null)}var LT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PT=Object.assign,RT={};function Xd(A,O,q){this.props=A,this.context=O,this.refs=RT,this.updater=q||LT}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")};Xd.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function IT(){}IT.prototype=Xd.prototype;function Rb(A,O,q){this.props=A,this.context=O,this.refs=RT,this.updater=q||LT}var Ib=Rb.prototype=new IT;Ib.constructor=Rb;PT(Ib,Xd.prototype);Ib.isPureReactComponent=!0;var c2=Array.isArray,kT=Object.prototype.hasOwnProperty,kb={current:null},DT={key:!0,ref:!0,__self:!0,__source:!0};function _T(A,O,q){var ce,Ae={},_e=null,G=null;if(O!=null)for(ce in O.ref!==void 0&&(G=O.ref),O.key!==void 0&&(_e=""+O.key),O)kT.call(O,ce)&&!DT.hasOwnProperty(ce)&&(Ae[ce]=O[ce]);var H=arguments.length-2;if(H===1)Ae.children=q;else if(1<H){for(var e=Array(H),g=0;g<H;g++)e[g]=arguments[g+2];Ae.children=e}if(A&&A.defaultProps)for(ce in H=A.defaultProps,H)Ae[ce]===void 0&&(Ae[ce]=H[ce]);return{$$typeof:C0,type:A,key:_e,ref:G,props:Ae,_owner:kb.current}}function mE(A,O){return{$$typeof:C0,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function Db(A){return typeof A=="object"&&A!==null&&A.$$typeof===C0}function xE(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(q){return O[q]})}var h2=/\/+/g;function I1(A,O){return typeof A=="object"&&A!==null&&A.key!=null?xE(""+A.key):O.toString(36)}function Bg(A,O,q,ce,Ae){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var G=!1;if(A===null)G=!0;else switch(_e){case"string":case"number":G=!0;break;case"object":switch(A.$$typeof){case C0:case sE:G=!0}}if(G)return G=A,Ae=Ae(G),A=ce===""?"."+I1(G,0):ce,c2(Ae)?(q="",A!=null&&(q=A.replace(h2,"$&/")+"/"),Bg(Ae,O,q,"",function(g){return g})):Ae!=null&&(Db(Ae)&&(Ae=mE(Ae,q+(!Ae.key||G&&G.key===Ae.key?"":(""+Ae.key).replace(h2,"$&/")+"/")+A)),O.push(Ae)),1;if(G=0,ce=ce===""?".":ce+":",c2(A))for(var H=0;H<A.length;H++){_e=A[H];var e=ce+I1(_e,H);G+=Bg(_e,O,q,e,Ae)}else if(e=yE(A),typeof e=="function")for(A=e.call(A),H=0;!(_e=A.next()).done;)_e=_e.value,e=ce+I1(_e,H++),G+=Bg(_e,O,q,e,Ae);else if(_e==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return G}function pg(A,O,q){if(A==null)return A;var ce=[],Ae=0;return Bg(A,ce,"","",function(_e){return O.call(q,_e,Ae++)}),ce}function bE(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(q){(A._status===0||A._status===-1)&&(A._status=1,A._result=q)},function(q){(A._status===0||A._status===-1)&&(A._status=2,A._result=q)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var il={current:null},Ng={transition:null},wE={ReactCurrentDispatcher:il,ReactCurrentBatchConfig:Ng,ReactCurrentOwner:kb};function zT(){throw Error("act(...) is not supported in production builds of React.")}xi.Children={map:pg,forEach:function(A,O,q){pg(A,function(){O.apply(this,arguments)},q)},count:function(A){var O=0;return pg(A,function(){O++}),O},toArray:function(A){return pg(A,function(O){return O})||[]},only:function(A){if(!Db(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};xi.Component=Xd;xi.Fragment=lE;xi.Profiler=fE;xi.PureComponent=Rb;xi.StrictMode=uE;xi.Suspense=dE;xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE;xi.act=zT;xi.cloneElement=function(A,O,q){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ce=PT({},A.props),Ae=A.key,_e=A.ref,G=A._owner;if(O!=null){if(O.ref!==void 0&&(_e=O.ref,G=kb.current),O.key!==void 0&&(Ae=""+O.key),A.type&&A.type.defaultProps)var H=A.type.defaultProps;for(e in O)kT.call(O,e)&&!DT.hasOwnProperty(e)&&(ce[e]=O[e]===void 0&&H!==void 0?H[e]:O[e])}var e=arguments.length-2;if(e===1)ce.children=q;else if(1<e){H=Array(e);for(var g=0;g<e;g++)H[g]=arguments[g+2];ce.children=H}return{$$typeof:C0,type:A.type,key:Ae,ref:_e,props:ce,_owner:G}};xi.createContext=function(A){return A={$$typeof:hE,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:cE,_context:A},A.Consumer=A};xi.createElement=_T;xi.createFactory=function(A){var O=_T.bind(null,A);return O.type=A,O};xi.createRef=function(){return{current:null}};xi.forwardRef=function(A){return{$$typeof:vE,render:A}};xi.isValidElement=Db;xi.lazy=function(A){return{$$typeof:gE,_payload:{_status:-1,_result:A},_init:bE}};xi.memo=function(A,O){return{$$typeof:pE,type:A,compare:O===void 0?null:O}};xi.startTransition=function(A){var O=Ng.transition;Ng.transition={};try{A()}finally{Ng.transition=O}};xi.unstable_act=zT;xi.useCallback=function(A,O){return il.current.useCallback(A,O)};xi.useContext=function(A){return il.current.useContext(A)};xi.useDebugValue=function(){};xi.useDeferredValue=function(A){return il.current.useDeferredValue(A)};xi.useEffect=function(A,O){return il.current.useEffect(A,O)};xi.useId=function(){return il.current.useId()};xi.useImperativeHandle=function(A,O,q){return il.current.useImperativeHandle(A,O,q)};xi.useInsertionEffect=function(A,O){return il.current.useInsertionEffect(A,O)};xi.useLayoutEffect=function(A,O){return il.current.useLayoutEffect(A,O)};xi.useMemo=function(A,O){return il.current.useMemo(A,O)};xi.useReducer=function(A,O,q){return il.current.useReducer(A,O,q)};xi.useRef=function(A){return il.current.useRef(A)};xi.useState=function(A){return il.current.useState(A)};xi.useSyncExternalStore=function(A,O,q){return il.current.useSyncExternalStore(A,O,q)};xi.useTransition=function(){return il.current.useTransition()};xi.version="18.3.1";CT.exports=xi;var Wr=CT.exports;const pf=Pb(Wr),bx=oE({__proto__:null,default:pf},[Wr]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE=Wr,AE=Symbol.for("react.element"),SE=Symbol.for("react.fragment"),ME=Object.prototype.hasOwnProperty,EE=TE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CE={key:!0,ref:!0,__self:!0,__source:!0};function OT(A,O,q){var ce,Ae={},_e=null,G=null;q!==void 0&&(_e=""+q),O.key!==void 0&&(_e=""+O.key),O.ref!==void 0&&(G=O.ref);for(ce in O)ME.call(O,ce)&&!CE.hasOwnProperty(ce)&&(Ae[ce]=O[ce]);if(A&&A.defaultProps)for(ce in O=A.defaultProps,O)Ae[ce]===void 0&&(Ae[ce]=O[ce]);return{$$typeof:AE,type:A,key:_e,ref:G,props:Ae,_owner:EE.current}}Ny.Fragment=SE;Ny.jsx=OT;Ny.jsxs=OT;ET.exports=Ny;var xn=ET.exports,wx={},FT={exports:{}},$l={},BT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(A){function O(M,s){var E=M.length;M.push(s);e:for(;0<E;){var w=E-1>>>1,_=M[w];if(0<Ae(_,s))M[w]=s,M[E]=_,E=w;else break e}}function q(M){return M.length===0?null:M[0]}function ce(M){if(M.length===0)return null;var s=M[0],E=M.pop();if(E!==s){M[0]=E;e:for(var w=0,_=M.length,D=_>>>1;w<D;){var N=2*(w+1)-1,z=M[N],F=N+1,U=M[F];if(0>Ae(z,E))F<_&&0>Ae(U,z)?(M[w]=U,M[F]=E,w=F):(M[w]=z,M[N]=E,w=N);else if(F<_&&0>Ae(U,E))M[w]=U,M[F]=E,w=F;else break e}}return s}function Ae(M,s){var E=M.sortIndex-s.sortIndex;return E!==0?E:M.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;A.unstable_now=function(){return _e.now()}}else{var G=Date,H=G.now();A.unstable_now=function(){return G.now()-H}}var e=[],g=[],R=1,i=null,C=3,S=!1,v=!1,d=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(M){for(var s=q(g);s!==null;){if(s.callback===null)ce(g);else if(s.startTime<=M)ce(g),s.sortIndex=s.expirationTime,O(e,s);else break;s=q(g)}}function f(M){if(d=!1,n(M),!v)if(q(e)!==null)v=!0,m(u);else{var s=q(g);s!==null&&L(f,s.startTime-M)}}function u(M,s){v=!1,d&&(d=!1,t(h),h=-1),S=!0;var E=C;try{for(n(s),i=q(e);i!==null&&(!(i.expirationTime>s)||M&&!o());){var w=i.callback;if(typeof w=="function"){i.callback=null,C=i.priorityLevel;var _=w(i.expirationTime<=s);s=A.unstable_now(),typeof _=="function"?i.callback=_:i===q(e)&&ce(e),n(s)}else ce(e);i=q(e)}if(i!==null)var D=!0;else{var N=q(g);N!==null&&L(f,N.startTime-s),D=!1}return D}finally{i=null,C=E,S=!1}}var l=!1,y=null,h=-1,T=5,c=-1;function o(){return!(A.unstable_now()-c<T)}function p(){if(y!==null){var M=A.unstable_now();c=M;var s=!0;try{s=y(!0,M)}finally{s?x():(l=!1,y=null)}}else l=!1}var x;if(typeof a=="function")x=function(){a(p)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,P=b.port2;b.port1.onmessage=p,x=function(){P.postMessage(null)}}else x=function(){r(p,0)};function m(M){y=M,l||(l=!0,x())}function L(M,s){h=r(function(){M(A.unstable_now())},s)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(M){M.callback=null},A.unstable_continueExecution=function(){v||S||(v=!0,m(u))},A.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},A.unstable_getCurrentPriorityLevel=function(){return C},A.unstable_getFirstCallbackNode=function(){return q(e)},A.unstable_next=function(M){switch(C){case 1:case 2:case 3:var s=3;break;default:s=C}var E=C;C=s;try{return M()}finally{C=E}},A.unstable_pauseExecution=function(){},A.unstable_requestPaint=function(){},A.unstable_runWithPriority=function(M,s){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var E=C;C=M;try{return s()}finally{C=E}},A.unstable_scheduleCallback=function(M,s,E){var w=A.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?w+E:w):E=w,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=E+_,M={id:R++,callback:s,priorityLevel:M,startTime:E,expirationTime:_,sortIndex:-1},E>w?(M.sortIndex=E,O(g,M),q(e)===null&&M===q(g)&&(d?(t(h),h=-1):d=!0,L(f,E-w))):(M.sortIndex=_,O(e,M),v||S||(v=!0,m(u))),M},A.unstable_shouldYield=o,A.unstable_wrapCallback=function(M){var s=C;return function(){var E=C;C=s;try{return M.apply(this,arguments)}finally{C=E}}}})(NT);BT.exports=NT;var LE=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=Wr,Kl=LE;function xa(A){for(var O="https://reactjs.org/docs/error-decoder.html?invariant="+A,q=1;q<arguments.length;q++)O+="&args[]="+encodeURIComponent(arguments[q]);return"Minified React error #"+A+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UT=new Set,a0={};function Dv(A,O){Fd(A,O),Fd(A+"Capture",O)}function Fd(A,O){for(a0[A]=O,A=0;A<O.length;A++)UT.add(O[A])}var Rc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tx=Object.prototype.hasOwnProperty,RE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v2={},d2={};function IE(A){return Tx.call(d2,A)?!0:Tx.call(v2,A)?!1:RE.test(A)?d2[A]=!0:(v2[A]=!0,!1)}function kE(A,O,q,ce){if(q!==null&&q.type===0)return!1;switch(typeof O){case"function":case"symbol":return!0;case"boolean":return ce?!1:q!==null?!q.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function DE(A,O,q,ce){if(O===null||typeof O>"u"||kE(A,O,q,ce))return!0;if(ce)return!1;if(q!==null)switch(q.type){case 3:return!O;case 4:return O===!1;case 5:return isNaN(O);case 6:return isNaN(O)||1>O}return!1}function ol(A,O,q,ce,Ae,_e,G){this.acceptsBooleans=O===2||O===3||O===4,this.attributeName=ce,this.attributeNamespace=Ae,this.mustUseProperty=q,this.propertyName=A,this.type=O,this.sanitizeURL=_e,this.removeEmptyString=G}var Ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){Ps[A]=new ol(A,0,!1,A,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var O=A[0];Ps[O]=new ol(O,1,!1,A[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(A){Ps[A]=new ol(A,2,!1,A.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){Ps[A]=new ol(A,2,!1,A,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){Ps[A]=new ol(A,3,!1,A.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(A){Ps[A]=new ol(A,3,!0,A,null,!1,!1)});["capture","download"].forEach(function(A){Ps[A]=new ol(A,4,!1,A,null,!1,!1)});["cols","rows","size","span"].forEach(function(A){Ps[A]=new ol(A,6,!1,A,null,!1,!1)});["rowSpan","start"].forEach(function(A){Ps[A]=new ol(A,5,!1,A.toLowerCase(),null,!1,!1)});var _b=/[\-:]([a-z])/g;function zb(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var O=A.replace(_b,zb);Ps[O]=new ol(O,1,!1,A,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var O=A.replace(_b,zb);Ps[O]=new ol(O,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(A){var O=A.replace(_b,zb);Ps[O]=new ol(O,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(A){Ps[A]=new ol(A,1,!1,A.toLowerCase(),null,!1,!1)});Ps.xlinkHref=new ol("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(A){Ps[A]=new ol(A,1,!1,A.toLowerCase(),null,!0,!0)});function Ob(A,O,q,ce){var Ae=Ps.hasOwnProperty(O)?Ps[O]:null;(Ae!==null?Ae.type!==0:ce||!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&(DE(O,q,Ae,ce)&&(q=null),ce||Ae===null?IE(O)&&(q===null?A.removeAttribute(O):A.setAttribute(O,""+q)):Ae.mustUseProperty?A[Ae.propertyName]=q===null?Ae.type===3?!1:"":q:(O=Ae.attributeName,ce=Ae.attributeNamespace,q===null?A.removeAttribute(O):(Ae=Ae.type,q=Ae===3||Ae===4&&q===!0?"":""+q,ce?A.setAttributeNS(ce,O,q):A.setAttribute(O,q))))}var zc=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),gd=Symbol.for("react.portal"),yd=Symbol.for("react.fragment"),Fb=Symbol.for("react.strict_mode"),Ax=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),HT=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),Mx=Symbol.for("react.suspense_list"),Nb=Symbol.for("react.memo"),wh=Symbol.for("react.lazy"),GT=Symbol.for("react.offscreen"),p2=Symbol.iterator;function Ap(A){return A===null||typeof A!="object"?null:(A=p2&&A[p2]||A["@@iterator"],typeof A=="function"?A:null)}var Co=Object.assign,k1;function Np(A){if(k1===void 0)try{throw Error()}catch(q){var O=q.stack.trim().match(/\n( *(at )?)/);k1=O&&O[1]||""}return`
`+k1+A}var D1=!1;function _1(A,O){if(!A||D1)return"";D1=!0;var q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(O)if(O=function(){throw Error()},Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(g){var ce=g}Reflect.construct(A,[],O)}else{try{O.call()}catch(g){ce=g}A.call(O.prototype)}else{try{throw Error()}catch(g){ce=g}A()}}catch(g){if(g&&ce&&typeof g.stack=="string"){for(var Ae=g.stack.split(`
`),_e=ce.stack.split(`
`),G=Ae.length-1,H=_e.length-1;1<=G&&0<=H&&Ae[G]!==_e[H];)H--;for(;1<=G&&0<=H;G--,H--)if(Ae[G]!==_e[H]){if(G!==1||H!==1)do if(G--,H--,0>H||Ae[G]!==_e[H]){var e=`
`+Ae[G].replace(" at new "," at ");return A.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",A.displayName)),e}while(1<=G&&0<=H);break}}}finally{D1=!1,Error.prepareStackTrace=q}return(A=A?A.displayName||A.name:"")?Np(A):""}function _E(A){switch(A.tag){case 5:return Np(A.type);case 16:return Np("Lazy");case 13:return Np("Suspense");case 19:return Np("SuspenseList");case 0:case 2:case 15:return A=_1(A.type,!1),A;case 11:return A=_1(A.type.render,!1),A;case 1:return A=_1(A.type,!0),A;default:return""}}function Ex(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case yd:return"Fragment";case gd:return"Portal";case Ax:return"Profiler";case Fb:return"StrictMode";case Sx:return"Suspense";case Mx:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case HT:return(A.displayName||"Context")+".Consumer";case VT:return(A._context.displayName||"Context")+".Provider";case Bb:var O=A.render;return A=A.displayName,A||(A=O.displayName||O.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Nb:return O=A.displayName||null,O!==null?O:Ex(A.type)||"Memo";case wh:O=A._payload,A=A._init;try{return Ex(A(O))}catch{}}return null}function zE(A){var O=A.type;switch(A.tag){case 24:return"Cache";case 9:return(O.displayName||"Context")+".Consumer";case 10:return(O._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=O.render,A=A.displayName||A.name||"",O.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return O;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ex(O);case 8:return O===Fb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O}return null}function Oh(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function WT(A){var O=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(O==="checkbox"||O==="radio")}function OE(A){var O=WT(A)?"checked":"value",q=Object.getOwnPropertyDescriptor(A.constructor.prototype,O),ce=""+A[O];if(!A.hasOwnProperty(O)&&typeof q<"u"&&typeof q.get=="function"&&typeof q.set=="function"){var Ae=q.get,_e=q.set;return Object.defineProperty(A,O,{configurable:!0,get:function(){return Ae.call(this)},set:function(G){ce=""+G,_e.call(this,G)}}),Object.defineProperty(A,O,{enumerable:q.enumerable}),{getValue:function(){return ce},setValue:function(G){ce=""+G},stopTracking:function(){A._valueTracker=null,delete A[O]}}}}function yg(A){A._valueTracker||(A._valueTracker=OE(A))}function YT(A){if(!A)return!1;var O=A._valueTracker;if(!O)return!0;var q=O.getValue(),ce="";return A&&(ce=WT(A)?A.checked?"true":"false":A.value),A=ce,A!==q?(O.setValue(A),!0):!1}function ry(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function Cx(A,O){var q=O.checked;return Co({},O,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:q??A._wrapperState.initialChecked})}function g2(A,O){var q=O.defaultValue==null?"":O.defaultValue,ce=O.checked!=null?O.checked:O.defaultChecked;q=Oh(O.value!=null?O.value:q),A._wrapperState={initialChecked:ce,initialValue:q,controlled:O.type==="checkbox"||O.type==="radio"?O.checked!=null:O.value!=null}}function jT(A,O){O=O.checked,O!=null&&Ob(A,"checked",O,!1)}function Lx(A,O){jT(A,O);var q=Oh(O.value),ce=O.type;if(q!=null)ce==="number"?(q===0&&A.value===""||A.value!=q)&&(A.value=""+q):A.value!==""+q&&(A.value=""+q);else if(ce==="submit"||ce==="reset"){A.removeAttribute("value");return}O.hasOwnProperty("value")?Px(A,O.type,q):O.hasOwnProperty("defaultValue")&&Px(A,O.type,Oh(O.defaultValue)),O.checked==null&&O.defaultChecked!=null&&(A.defaultChecked=!!O.defaultChecked)}function y2(A,O,q){if(O.hasOwnProperty("value")||O.hasOwnProperty("defaultValue")){var ce=O.type;if(!(ce!=="submit"&&ce!=="reset"||O.value!==void 0&&O.value!==null))return;O=""+A._wrapperState.initialValue,q||O===A.value||(A.value=O),A.defaultValue=O}q=A.name,q!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,q!==""&&(A.name=q)}function Px(A,O,q){(O!=="number"||ry(A.ownerDocument)!==A)&&(q==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+q&&(A.defaultValue=""+q))}var Up=Array.isArray;function Ld(A,O,q,ce){if(A=A.options,O){O={};for(var Ae=0;Ae<q.length;Ae++)O["$"+q[Ae]]=!0;for(q=0;q<A.length;q++)Ae=O.hasOwnProperty("$"+A[q].value),A[q].selected!==Ae&&(A[q].selected=Ae),Ae&&ce&&(A[q].defaultSelected=!0)}else{for(q=""+Oh(q),O=null,Ae=0;Ae<A.length;Ae++){if(A[Ae].value===q){A[Ae].selected=!0,ce&&(A[Ae].defaultSelected=!0);return}O!==null||A[Ae].disabled||(O=A[Ae])}O!==null&&(O.selected=!0)}}function Rx(A,O){if(O.dangerouslySetInnerHTML!=null)throw Error(xa(91));return Co({},O,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function m2(A,O){var q=O.value;if(q==null){if(q=O.children,O=O.defaultValue,q!=null){if(O!=null)throw Error(xa(92));if(Up(q)){if(1<q.length)throw Error(xa(93));q=q[0]}O=q}O==null&&(O=""),q=O}A._wrapperState={initialValue:Oh(q)}}function XT(A,O){var q=Oh(O.value),ce=Oh(O.defaultValue);q!=null&&(q=""+q,q!==A.value&&(A.value=q),O.defaultValue==null&&A.defaultValue!==q&&(A.defaultValue=q)),ce!=null&&(A.defaultValue=""+ce)}function x2(A){var O=A.textContent;O===A._wrapperState.initialValue&&O!==""&&O!==null&&(A.value=O)}function ZT(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ix(A,O){return A==null||A==="http://www.w3.org/1999/xhtml"?ZT(O):A==="http://www.w3.org/2000/svg"&&O==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var mg,KT=function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(O,q,ce,Ae){MSApp.execUnsafeLocalFunction(function(){return A(O,q,ce,Ae)})}:A}(function(A,O){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=O;else{for(mg=mg||document.createElement("div"),mg.innerHTML="<svg>"+O.valueOf().toString()+"</svg>",O=mg.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;O.firstChild;)A.appendChild(O.firstChild)}});function i0(A,O){if(O){var q=A.firstChild;if(q&&q===A.lastChild&&q.nodeType===3){q.nodeValue=O;return}}A.textContent=O}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FE=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(A){FE.forEach(function(O){O=O+A.charAt(0).toUpperCase()+A.substring(1),Yp[O]=Yp[A]})});function $T(A,O,q){return O==null||typeof O=="boolean"||O===""?"":q||typeof O!="number"||O===0||Yp.hasOwnProperty(A)&&Yp[A]?(""+O).trim():O+"px"}function JT(A,O){A=A.style;for(var q in O)if(O.hasOwnProperty(q)){var ce=q.indexOf("--")===0,Ae=$T(q,O[q],ce);q==="float"&&(q="cssFloat"),ce?A.setProperty(q,Ae):A[q]=Ae}}var BE=Co({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kx(A,O){if(O){if(BE[A]&&(O.children!=null||O.dangerouslySetInnerHTML!=null))throw Error(xa(137,A));if(O.dangerouslySetInnerHTML!=null){if(O.children!=null)throw Error(xa(60));if(typeof O.dangerouslySetInnerHTML!="object"||!("__html"in O.dangerouslySetInnerHTML))throw Error(xa(61))}if(O.style!=null&&typeof O.style!="object")throw Error(xa(62))}}function Dx(A,O){if(A.indexOf("-")===-1)return typeof O.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _x=null;function Ub(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var zx=null,Pd=null,Rd=null;function b2(A){if(A=R0(A)){if(typeof zx!="function")throw Error(xa(280));var O=A.stateNode;O&&(O=Wy(O),zx(A.stateNode,A.type,O))}}function QT(A){Pd?Rd?Rd.push(A):Rd=[A]:Pd=A}function qT(){if(Pd){var A=Pd,O=Rd;if(Rd=Pd=null,b2(A),O)for(A=0;A<O.length;A++)b2(O[A])}}function e5(A,O){return A(O)}function t5(){}var z1=!1;function r5(A,O,q){if(z1)return A(O,q);z1=!0;try{return e5(A,O,q)}finally{z1=!1,(Pd!==null||Rd!==null)&&(t5(),qT())}}function o0(A,O){var q=A.stateNode;if(q===null)return null;var ce=Wy(q);if(ce===null)return null;q=ce[O];e:switch(O){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ce=!ce.disabled)||(A=A.type,ce=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!ce;break e;default:A=!1}if(A)return null;if(q&&typeof q!="function")throw Error(xa(231,O,typeof q));return q}var Ox=!1;if(Rc)try{var Sp={};Object.defineProperty(Sp,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,Sp)}catch{Ox=!1}function NE(A,O,q,ce,Ae,_e,G,H,e){var g=Array.prototype.slice.call(arguments,3);try{O.apply(q,g)}catch(R){this.onError(R)}}var jp=!1,ny=null,ay=!1,Fx=null,UE={onError:function(A){jp=!0,ny=A}};function VE(A,O,q,ce,Ae,_e,G,H,e){jp=!1,ny=null,NE.apply(UE,arguments)}function HE(A,O,q,ce,Ae,_e,G,H,e){if(VE.apply(this,arguments),jp){if(jp){var g=ny;jp=!1,ny=null}else throw Error(xa(198));ay||(ay=!0,Fx=g)}}function _v(A){var O=A,q=A;if(A.alternate)for(;O.return;)O=O.return;else{A=O;do O=A,O.flags&4098&&(q=O.return),A=O.return;while(A)}return O.tag===3?q:null}function n5(A){if(A.tag===13){var O=A.memoizedState;if(O===null&&(A=A.alternate,A!==null&&(O=A.memoizedState)),O!==null)return O.dehydrated}return null}function w2(A){if(_v(A)!==A)throw Error(xa(188))}function GE(A){var O=A.alternate;if(!O){if(O=_v(A),O===null)throw Error(xa(188));return O!==A?null:A}for(var q=A,ce=O;;){var Ae=q.return;if(Ae===null)break;var _e=Ae.alternate;if(_e===null){if(ce=Ae.return,ce!==null){q=ce;continue}break}if(Ae.child===_e.child){for(_e=Ae.child;_e;){if(_e===q)return w2(Ae),A;if(_e===ce)return w2(Ae),O;_e=_e.sibling}throw Error(xa(188))}if(q.return!==ce.return)q=Ae,ce=_e;else{for(var G=!1,H=Ae.child;H;){if(H===q){G=!0,q=Ae,ce=_e;break}if(H===ce){G=!0,ce=Ae,q=_e;break}H=H.sibling}if(!G){for(H=_e.child;H;){if(H===q){G=!0,q=_e,ce=Ae;break}if(H===ce){G=!0,ce=_e,q=Ae;break}H=H.sibling}if(!G)throw Error(xa(189))}}if(q.alternate!==ce)throw Error(xa(190))}if(q.tag!==3)throw Error(xa(188));return q.stateNode.current===q?A:O}function a5(A){return A=GE(A),A!==null?i5(A):null}function i5(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var O=i5(A);if(O!==null)return O;A=A.sibling}return null}var o5=Kl.unstable_scheduleCallback,T2=Kl.unstable_cancelCallback,WE=Kl.unstable_shouldYield,YE=Kl.unstable_requestPaint,Vo=Kl.unstable_now,jE=Kl.unstable_getCurrentPriorityLevel,Vb=Kl.unstable_ImmediatePriority,s5=Kl.unstable_UserBlockingPriority,iy=Kl.unstable_NormalPriority,XE=Kl.unstable_LowPriority,l5=Kl.unstable_IdlePriority,Uy=null,jf=null;function ZE(A){if(jf&&typeof jf.onCommitFiberRoot=="function")try{jf.onCommitFiberRoot(Uy,A,void 0,(A.current.flags&128)===128)}catch{}}var gf=Math.clz32?Math.clz32:JE,KE=Math.log,$E=Math.LN2;function JE(A){return A>>>=0,A===0?32:31-(KE(A)/$E|0)|0}var xg=64,bg=4194304;function Vp(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function oy(A,O){var q=A.pendingLanes;if(q===0)return 0;var ce=0,Ae=A.suspendedLanes,_e=A.pingedLanes,G=q&268435455;if(G!==0){var H=G&~Ae;H!==0?ce=Vp(H):(_e&=G,_e!==0&&(ce=Vp(_e)))}else G=q&~Ae,G!==0?ce=Vp(G):_e!==0&&(ce=Vp(_e));if(ce===0)return 0;if(O!==0&&O!==ce&&!(O&Ae)&&(Ae=ce&-ce,_e=O&-O,Ae>=_e||Ae===16&&(_e&4194240)!==0))return O;if(ce&4&&(ce|=q&16),O=A.entangledLanes,O!==0)for(A=A.entanglements,O&=ce;0<O;)q=31-gf(O),Ae=1<<q,ce|=A[q],O&=~Ae;return ce}function QE(A,O){switch(A){case 1:case 2:case 4:return O+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(A,O){for(var q=A.suspendedLanes,ce=A.pingedLanes,Ae=A.expirationTimes,_e=A.pendingLanes;0<_e;){var G=31-gf(_e),H=1<<G,e=Ae[G];e===-1?(!(H&q)||H&ce)&&(Ae[G]=QE(H,O)):e<=O&&(A.expiredLanes|=H),_e&=~H}}function Bx(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function u5(){var A=xg;return xg<<=1,!(xg&4194240)&&(xg=64),A}function O1(A){for(var O=[],q=0;31>q;q++)O.push(A);return O}function L0(A,O,q){A.pendingLanes|=O,O!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,O=31-gf(O),A[O]=q}function eC(A,O){var q=A.pendingLanes&~O;A.pendingLanes=O,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=O,A.mutableReadLanes&=O,A.entangledLanes&=O,O=A.entanglements;var ce=A.eventTimes;for(A=A.expirationTimes;0<q;){var Ae=31-gf(q),_e=1<<Ae;O[Ae]=0,ce[Ae]=-1,A[Ae]=-1,q&=~_e}}function Hb(A,O){var q=A.entangledLanes|=O;for(A=A.entanglements;q;){var ce=31-gf(q),Ae=1<<ce;Ae&O|A[ce]&O&&(A[ce]|=O),q&=~Ae}}var Vi=0;function f5(A){return A&=-A,1<A?4<A?A&268435455?16:536870912:4:1}var c5,Gb,h5,v5,d5,Nx=!1,wg=[],Lh=null,Ph=null,Rh=null,s0=new Map,l0=new Map,Ah=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A2(A,O){switch(A){case"focusin":case"focusout":Lh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":s0.delete(O.pointerId);break;case"gotpointercapture":case"lostpointercapture":l0.delete(O.pointerId)}}function Mp(A,O,q,ce,Ae,_e){return A===null||A.nativeEvent!==_e?(A={blockedOn:O,domEventName:q,eventSystemFlags:ce,nativeEvent:_e,targetContainers:[Ae]},O!==null&&(O=R0(O),O!==null&&Gb(O)),A):(A.eventSystemFlags|=ce,O=A.targetContainers,Ae!==null&&O.indexOf(Ae)===-1&&O.push(Ae),A)}function rC(A,O,q,ce,Ae){switch(O){case"focusin":return Lh=Mp(Lh,A,O,q,ce,Ae),!0;case"dragenter":return Ph=Mp(Ph,A,O,q,ce,Ae),!0;case"mouseover":return Rh=Mp(Rh,A,O,q,ce,Ae),!0;case"pointerover":var _e=Ae.pointerId;return s0.set(_e,Mp(s0.get(_e)||null,A,O,q,ce,Ae)),!0;case"gotpointercapture":return _e=Ae.pointerId,l0.set(_e,Mp(l0.get(_e)||null,A,O,q,ce,Ae)),!0}return!1}function p5(A){var O=wv(A.target);if(O!==null){var q=_v(O);if(q!==null){if(O=q.tag,O===13){if(O=n5(q),O!==null){A.blockedOn=O,d5(A.priority,function(){h5(q)});return}}else if(O===3&&q.stateNode.current.memoizedState.isDehydrated){A.blockedOn=q.tag===3?q.stateNode.containerInfo:null;return}}}A.blockedOn=null}function Ug(A){if(A.blockedOn!==null)return!1;for(var O=A.targetContainers;0<O.length;){var q=Ux(A.domEventName,A.eventSystemFlags,O[0],A.nativeEvent);if(q===null){q=A.nativeEvent;var ce=new q.constructor(q.type,q);_x=ce,q.target.dispatchEvent(ce),_x=null}else return O=R0(q),O!==null&&Gb(O),A.blockedOn=q,!1;O.shift()}return!0}function S2(A,O,q){Ug(A)&&q.delete(O)}function nC(){Nx=!1,Lh!==null&&Ug(Lh)&&(Lh=null),Ph!==null&&Ug(Ph)&&(Ph=null),Rh!==null&&Ug(Rh)&&(Rh=null),s0.forEach(S2),l0.forEach(S2)}function Ep(A,O){A.blockedOn===O&&(A.blockedOn=null,Nx||(Nx=!0,Kl.unstable_scheduleCallback(Kl.unstable_NormalPriority,nC)))}function u0(A){function O(Ae){return Ep(Ae,A)}if(0<wg.length){Ep(wg[0],A);for(var q=1;q<wg.length;q++){var ce=wg[q];ce.blockedOn===A&&(ce.blockedOn=null)}}for(Lh!==null&&Ep(Lh,A),Ph!==null&&Ep(Ph,A),Rh!==null&&Ep(Rh,A),s0.forEach(O),l0.forEach(O),q=0;q<Ah.length;q++)ce=Ah[q],ce.blockedOn===A&&(ce.blockedOn=null);for(;0<Ah.length&&(q=Ah[0],q.blockedOn===null);)p5(q),q.blockedOn===null&&Ah.shift()}var Id=zc.ReactCurrentBatchConfig,sy=!0;function aC(A,O,q,ce){var Ae=Vi,_e=Id.transition;Id.transition=null;try{Vi=1,Wb(A,O,q,ce)}finally{Vi=Ae,Id.transition=_e}}function iC(A,O,q,ce){var Ae=Vi,_e=Id.transition;Id.transition=null;try{Vi=4,Wb(A,O,q,ce)}finally{Vi=Ae,Id.transition=_e}}function Wb(A,O,q,ce){if(sy){var Ae=Ux(A,O,q,ce);if(Ae===null)j1(A,O,ce,ly,q),A2(A,ce);else if(rC(Ae,A,O,q,ce))ce.stopPropagation();else if(A2(A,ce),O&4&&-1<tC.indexOf(A)){for(;Ae!==null;){var _e=R0(Ae);if(_e!==null&&c5(_e),_e=Ux(A,O,q,ce),_e===null&&j1(A,O,ce,ly,q),_e===Ae)break;Ae=_e}Ae!==null&&ce.stopPropagation()}else j1(A,O,ce,null,q)}}var ly=null;function Ux(A,O,q,ce){if(ly=null,A=Ub(ce),A=wv(A),A!==null)if(O=_v(A),O===null)A=null;else if(q=O.tag,q===13){if(A=n5(O),A!==null)return A;A=null}else if(q===3){if(O.stateNode.current.memoizedState.isDehydrated)return O.tag===3?O.stateNode.containerInfo:null;A=null}else O!==A&&(A=null);return ly=A,null}function g5(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jE()){case Vb:return 1;case s5:return 4;case iy:case XE:return 16;case l5:return 536870912;default:return 16}default:return 16}}var Eh=null,Yb=null,Vg=null;function y5(){if(Vg)return Vg;var A,O=Yb,q=O.length,ce,Ae="value"in Eh?Eh.value:Eh.textContent,_e=Ae.length;for(A=0;A<q&&O[A]===Ae[A];A++);var G=q-A;for(ce=1;ce<=G&&O[q-ce]===Ae[_e-ce];ce++);return Vg=Ae.slice(A,1<ce?1-ce:void 0)}function Hg(A){var O=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&O===13&&(A=13)):A=O,A===10&&(A=13),32<=A||A===13?A:0}function Tg(){return!0}function M2(){return!1}function Jl(A){function O(q,ce,Ae,_e,G){this._reactName=q,this._targetInst=Ae,this.type=ce,this.nativeEvent=_e,this.target=G,this.currentTarget=null;for(var H in A)A.hasOwnProperty(H)&&(q=A[H],this[H]=q?q(_e):_e[H]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?Tg:M2,this.isPropagationStopped=M2,this}return Co(O.prototype,{preventDefault:function(){this.defaultPrevented=!0;var q=this.nativeEvent;q&&(q.preventDefault?q.preventDefault():typeof q.returnValue!="unknown"&&(q.returnValue=!1),this.isDefaultPrevented=Tg)},stopPropagation:function(){var q=this.nativeEvent;q&&(q.stopPropagation?q.stopPropagation():typeof q.cancelBubble!="unknown"&&(q.cancelBubble=!0),this.isPropagationStopped=Tg)},persist:function(){},isPersistent:Tg}),O}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=Jl(Zd),P0=Co({},Zd,{view:0,detail:0}),oC=Jl(P0),F1,B1,Cp,Vy=Co({},P0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xb,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Cp&&(Cp&&A.type==="mousemove"?(F1=A.screenX-Cp.screenX,B1=A.screenY-Cp.screenY):B1=F1=0,Cp=A),F1)},movementY:function(A){return"movementY"in A?A.movementY:B1}}),E2=Jl(Vy),sC=Co({},Vy,{dataTransfer:0}),lC=Jl(sC),uC=Co({},P0,{relatedTarget:0}),N1=Jl(uC),fC=Co({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=Jl(fC),hC=Co({},Zd,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),vC=Jl(hC),dC=Co({},Zd,{data:0}),C2=Jl(dC),pC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(A){var O=this.nativeEvent;return O.getModifierState?O.getModifierState(A):(A=yC[A])?!!O[A]:!1}function Xb(){return mC}var xC=Co({},P0,{key:function(A){if(A.key){var O=pC[A.key]||A.key;if(O!=="Unidentified")return O}return A.type==="keypress"?(A=Hg(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?gC[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xb,charCode:function(A){return A.type==="keypress"?Hg(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Hg(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),bC=Jl(xC),wC=Co({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L2=Jl(wC),TC=Co({},P0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xb}),AC=Jl(TC),SC=Co({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=Jl(SC),EC=Co({},Vy,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),CC=Jl(EC),LC=[9,13,27,32],Zb=Rc&&"CompositionEvent"in window,Xp=null;Rc&&"documentMode"in document&&(Xp=document.documentMode);var PC=Rc&&"TextEvent"in window&&!Xp,m5=Rc&&(!Zb||Xp&&8<Xp&&11>=Xp),P2=" ",R2=!1;function x5(A,O){switch(A){case"keyup":return LC.indexOf(O.keyCode)!==-1;case"keydown":return O.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b5(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var md=!1;function RC(A,O){switch(A){case"compositionend":return b5(O);case"keypress":return O.which!==32?null:(R2=!0,P2);case"textInput":return A=O.data,A===P2&&R2?null:A;default:return null}}function IC(A,O){if(md)return A==="compositionend"||!Zb&&x5(A,O)?(A=y5(),Vg=Yb=Eh=null,md=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(O.ctrlKey||O.altKey||O.metaKey)||O.ctrlKey&&O.altKey){if(O.char&&1<O.char.length)return O.char;if(O.which)return String.fromCharCode(O.which)}return null;case"compositionend":return m5&&O.locale!=="ko"?null:O.data;default:return null}}var kC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I2(A){var O=A&&A.nodeName&&A.nodeName.toLowerCase();return O==="input"?!!kC[A.type]:O==="textarea"}function w5(A,O,q,ce){QT(ce),O=uy(O,"onChange"),0<O.length&&(q=new jb("onChange","change",null,q,ce),A.push({event:q,listeners:O}))}var Zp=null,f0=null;function DC(A){k5(A,0)}function Hy(A){var O=wd(A);if(YT(O))return A}function _C(A,O){if(A==="change")return O}var T5=!1;if(Rc){var U1;if(Rc){var V1="oninput"in document;if(!V1){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),V1=typeof k2.oninput=="function"}U1=V1}else U1=!1;T5=U1&&(!document.documentMode||9<document.documentMode)}function D2(){Zp&&(Zp.detachEvent("onpropertychange",A5),f0=Zp=null)}function A5(A){if(A.propertyName==="value"&&Hy(f0)){var O=[];w5(O,f0,A,Ub(A)),r5(DC,O)}}function zC(A,O,q){A==="focusin"?(D2(),Zp=O,f0=q,Zp.attachEvent("onpropertychange",A5)):A==="focusout"&&D2()}function OC(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Hy(f0)}function FC(A,O){if(A==="click")return Hy(O)}function BC(A,O){if(A==="input"||A==="change")return Hy(O)}function NC(A,O){return A===O&&(A!==0||1/A===1/O)||A!==A&&O!==O}var mf=typeof Object.is=="function"?Object.is:NC;function c0(A,O){if(mf(A,O))return!0;if(typeof A!="object"||A===null||typeof O!="object"||O===null)return!1;var q=Object.keys(A),ce=Object.keys(O);if(q.length!==ce.length)return!1;for(ce=0;ce<q.length;ce++){var Ae=q[ce];if(!Tx.call(O,Ae)||!mf(A[Ae],O[Ae]))return!1}return!0}function _2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function z2(A,O){var q=_2(A);A=0;for(var ce;q;){if(q.nodeType===3){if(ce=A+q.textContent.length,A<=O&&ce>=O)return{node:q,offset:O-A};A=ce}e:{for(;q;){if(q.nextSibling){q=q.nextSibling;break e}q=q.parentNode}q=void 0}q=_2(q)}}function S5(A,O){return A&&O?A===O?!0:A&&A.nodeType===3?!1:O&&O.nodeType===3?S5(A,O.parentNode):"contains"in A?A.contains(O):A.compareDocumentPosition?!!(A.compareDocumentPosition(O)&16):!1:!1}function M5(){for(var A=window,O=ry();O instanceof A.HTMLIFrameElement;){try{var q=typeof O.contentWindow.location.href=="string"}catch{q=!1}if(q)A=O.contentWindow;else break;O=ry(A.document)}return O}function Kb(A){var O=A&&A.nodeName&&A.nodeName.toLowerCase();return O&&(O==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||O==="textarea"||A.contentEditable==="true")}function UC(A){var O=M5(),q=A.focusedElem,ce=A.selectionRange;if(O!==q&&q&&q.ownerDocument&&S5(q.ownerDocument.documentElement,q)){if(ce!==null&&Kb(q)){if(O=ce.start,A=ce.end,A===void 0&&(A=O),"selectionStart"in q)q.selectionStart=O,q.selectionEnd=Math.min(A,q.value.length);else if(A=(O=q.ownerDocument||document)&&O.defaultView||window,A.getSelection){A=A.getSelection();var Ae=q.textContent.length,_e=Math.min(ce.start,Ae);ce=ce.end===void 0?_e:Math.min(ce.end,Ae),!A.extend&&_e>ce&&(Ae=ce,ce=_e,_e=Ae),Ae=z2(q,_e);var G=z2(q,ce);Ae&&G&&(A.rangeCount!==1||A.anchorNode!==Ae.node||A.anchorOffset!==Ae.offset||A.focusNode!==G.node||A.focusOffset!==G.offset)&&(O=O.createRange(),O.setStart(Ae.node,Ae.offset),A.removeAllRanges(),_e>ce?(A.addRange(O),A.extend(G.node,G.offset)):(O.setEnd(G.node,G.offset),A.addRange(O)))}}for(O=[],A=q;A=A.parentNode;)A.nodeType===1&&O.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<O.length;q++)A=O[q],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var VC=Rc&&"documentMode"in document&&11>=document.documentMode,xd=null,Vx=null,Kp=null,Hx=!1;function O2(A,O,q){var ce=q.window===q?q.document:q.nodeType===9?q:q.ownerDocument;Hx||xd==null||xd!==ry(ce)||(ce=xd,"selectionStart"in ce&&Kb(ce)?ce={start:ce.selectionStart,end:ce.selectionEnd}:(ce=(ce.ownerDocument&&ce.ownerDocument.defaultView||window).getSelection(),ce={anchorNode:ce.anchorNode,anchorOffset:ce.anchorOffset,focusNode:ce.focusNode,focusOffset:ce.focusOffset}),Kp&&c0(Kp,ce)||(Kp=ce,ce=uy(Vx,"onSelect"),0<ce.length&&(O=new jb("onSelect","select",null,O,q),A.push({event:O,listeners:ce}),O.target=xd)))}function Ag(A,O){var q={};return q[A.toLowerCase()]=O.toLowerCase(),q["Webkit"+A]="webkit"+O,q["Moz"+A]="moz"+O,q}var bd={animationend:Ag("Animation","AnimationEnd"),animationiteration:Ag("Animation","AnimationIteration"),animationstart:Ag("Animation","AnimationStart"),transitionend:Ag("Transition","TransitionEnd")},H1={},E5={};Rc&&(E5=document.createElement("div").style,"AnimationEvent"in window||(delete bd.animationend.animation,delete bd.animationiteration.animation,delete bd.animationstart.animation),"TransitionEvent"in window||delete bd.transitionend.transition);function Gy(A){if(H1[A])return H1[A];if(!bd[A])return A;var O=bd[A],q;for(q in O)if(O.hasOwnProperty(q)&&q in E5)return H1[A]=O[q];return A}var C5=Gy("animationend"),L5=Gy("animationiteration"),P5=Gy("animationstart"),R5=Gy("transitionend"),I5=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bh(A,O){I5.set(A,O),Dv(O,[A])}for(var G1=0;G1<F2.length;G1++){var W1=F2[G1],HC=W1.toLowerCase(),GC=W1[0].toUpperCase()+W1.slice(1);Bh(HC,"on"+GC)}Bh(C5,"onAnimationEnd");Bh(L5,"onAnimationIteration");Bh(P5,"onAnimationStart");Bh("dblclick","onDoubleClick");Bh("focusin","onFocus");Bh("focusout","onBlur");Bh(R5,"onTransitionEnd");Fd("onMouseEnter",["mouseout","mouseover"]);Fd("onMouseLeave",["mouseout","mouseover"]);Fd("onPointerEnter",["pointerout","pointerover"]);Fd("onPointerLeave",["pointerout","pointerover"]);Dv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hp));function B2(A,O,q){var ce=A.type||"unknown-event";A.currentTarget=q,HE(ce,O,void 0,A),A.currentTarget=null}function k5(A,O){O=(O&4)!==0;for(var q=0;q<A.length;q++){var ce=A[q],Ae=ce.event;ce=ce.listeners;e:{var _e=void 0;if(O)for(var G=ce.length-1;0<=G;G--){var H=ce[G],e=H.instance,g=H.currentTarget;if(H=H.listener,e!==_e&&Ae.isPropagationStopped())break e;B2(Ae,H,g),_e=e}else for(G=0;G<ce.length;G++){if(H=ce[G],e=H.instance,g=H.currentTarget,H=H.listener,e!==_e&&Ae.isPropagationStopped())break e;B2(Ae,H,g),_e=e}}}if(ay)throw A=Fx,ay=!1,Fx=null,A}function io(A,O){var q=O[Xx];q===void 0&&(q=O[Xx]=new Set);var ce=A+"__bubble";q.has(ce)||(D5(O,A,2,!1),q.add(ce))}function Y1(A,O,q){var ce=0;O&&(ce|=4),D5(q,A,ce,O)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function h0(A){if(!A[Sg]){A[Sg]=!0,UT.forEach(function(q){q!=="selectionchange"&&(WC.has(q)||Y1(q,!1,A),Y1(q,!0,A))});var O=A.nodeType===9?A:A.ownerDocument;O===null||O[Sg]||(O[Sg]=!0,Y1("selectionchange",!1,O))}}function D5(A,O,q,ce){switch(g5(O)){case 1:var Ae=aC;break;case 4:Ae=iC;break;default:Ae=Wb}q=Ae.bind(null,O,q,A),Ae=void 0,!Ox||O!=="touchstart"&&O!=="touchmove"&&O!=="wheel"||(Ae=!0),ce?Ae!==void 0?A.addEventListener(O,q,{capture:!0,passive:Ae}):A.addEventListener(O,q,!0):Ae!==void 0?A.addEventListener(O,q,{passive:Ae}):A.addEventListener(O,q,!1)}function j1(A,O,q,ce,Ae){var _e=ce;if(!(O&1)&&!(O&2)&&ce!==null)e:for(;;){if(ce===null)return;var G=ce.tag;if(G===3||G===4){var H=ce.stateNode.containerInfo;if(H===Ae||H.nodeType===8&&H.parentNode===Ae)break;if(G===4)for(G=ce.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Ae||e.nodeType===8&&e.parentNode===Ae))return;G=G.return}for(;H!==null;){if(G=wv(H),G===null)return;if(e=G.tag,e===5||e===6){ce=_e=G;continue e}H=H.parentNode}}ce=ce.return}r5(function(){var g=_e,R=Ub(q),i=[];e:{var C=I5.get(A);if(C!==void 0){var S=jb,v=A;switch(A){case"keypress":if(Hg(q)===0)break e;case"keydown":case"keyup":S=bC;break;case"focusin":v="focus",S=N1;break;case"focusout":v="blur",S=N1;break;case"beforeblur":case"afterblur":S=N1;break;case"click":if(q.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=E2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=AC;break;case C5:case L5:case P5:S=cC;break;case R5:S=MC;break;case"scroll":S=oC;break;case"wheel":S=CC;break;case"copy":case"cut":case"paste":S=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=L2}var d=(O&4)!==0,r=!d&&A==="scroll",t=d?C!==null?C+"Capture":null:C;d=[];for(var a=g,n;a!==null;){n=a;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=o0(a,t),f!=null&&d.push(v0(a,f,n)))),r)break;a=a.return}0<d.length&&(C=new S(C,v,null,q,R),i.push({event:C,listeners:d}))}}if(!(O&7)){e:{if(C=A==="mouseover"||A==="pointerover",S=A==="mouseout"||A==="pointerout",C&&q!==_x&&(v=q.relatedTarget||q.fromElement)&&(wv(v)||v[Ic]))break e;if((S||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,S?(v=q.relatedTarget||q.toElement,S=g,v=v?wv(v):null,v!==null&&(r=_v(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=g),S!==v)){if(d=E2,f="onMouseLeave",t="onMouseEnter",a="mouse",(A==="pointerout"||A==="pointerover")&&(d=L2,f="onPointerLeave",t="onPointerEnter",a="pointer"),r=S==null?C:wd(S),n=v==null?C:wd(v),C=new d(f,a+"leave",S,q,R),C.target=r,C.relatedTarget=n,f=null,wv(R)===g&&(d=new d(t,a+"enter",v,q,R),d.target=n,d.relatedTarget=r,f=d),r=f,S&&v)t:{for(d=S,t=v,a=0,n=d;n;n=sd(n))a++;for(n=0,f=t;f;f=sd(f))n++;for(;0<a-n;)d=sd(d),a--;for(;0<n-a;)t=sd(t),n--;for(;a--;){if(d===t||t!==null&&d===t.alternate)break t;d=sd(d),t=sd(t)}d=null}else d=null;S!==null&&N2(i,C,S,d,!1),v!==null&&r!==null&&N2(i,r,v,d,!0)}}e:{if(C=g?wd(g):window,S=C.nodeName&&C.nodeName.toLowerCase(),S==="select"||S==="input"&&C.type==="file")var u=_C;else if(I2(C))if(T5)u=BC;else{u=OC;var l=zC}else(S=C.nodeName)&&S.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(u=FC);if(u&&(u=u(A,g))){w5(i,u,q,R);break e}l&&l(A,C,g),A==="focusout"&&(l=C._wrapperState)&&l.controlled&&C.type==="number"&&Px(C,"number",C.value)}switch(l=g?wd(g):window,A){case"focusin":(I2(l)||l.contentEditable==="true")&&(xd=l,Vx=g,Kp=null);break;case"focusout":Kp=Vx=xd=null;break;case"mousedown":Hx=!0;break;case"contextmenu":case"mouseup":case"dragend":Hx=!1,O2(i,q,R);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":O2(i,q,R)}var y;if(Zb)e:{switch(A){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else md?x5(A,q)&&(h="onCompositionEnd"):A==="keydown"&&q.keyCode===229&&(h="onCompositionStart");h&&(m5&&q.locale!=="ko"&&(md||h!=="onCompositionStart"?h==="onCompositionEnd"&&md&&(y=y5()):(Eh=R,Yb="value"in Eh?Eh.value:Eh.textContent,md=!0)),l=uy(g,h),0<l.length&&(h=new C2(h,A,null,q,R),i.push({event:h,listeners:l}),y?h.data=y:(y=b5(q),y!==null&&(h.data=y)))),(y=PC?RC(A,q):IC(A,q))&&(g=uy(g,"onBeforeInput"),0<g.length&&(R=new C2("onBeforeInput","beforeinput",null,q,R),i.push({event:R,listeners:g}),R.data=y))}k5(i,O)})}function v0(A,O,q){return{instance:A,listener:O,currentTarget:q}}function uy(A,O){for(var q=O+"Capture",ce=[];A!==null;){var Ae=A,_e=Ae.stateNode;Ae.tag===5&&_e!==null&&(Ae=_e,_e=o0(A,q),_e!=null&&ce.unshift(v0(A,_e,Ae)),_e=o0(A,O),_e!=null&&ce.push(v0(A,_e,Ae))),A=A.return}return ce}function sd(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function N2(A,O,q,ce,Ae){for(var _e=O._reactName,G=[];q!==null&&q!==ce;){var H=q,e=H.alternate,g=H.stateNode;if(e!==null&&e===ce)break;H.tag===5&&g!==null&&(H=g,Ae?(e=o0(q,_e),e!=null&&G.unshift(v0(q,e,H))):Ae||(e=o0(q,_e),e!=null&&G.push(v0(q,e,H)))),q=q.return}G.length!==0&&A.push({event:O,listeners:G})}var YC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function U2(A){return(typeof A=="string"?A:""+A).replace(YC,`
`).replace(jC,"")}function Mg(A,O,q){if(O=U2(O),U2(A)!==O&&q)throw Error(xa(425))}function fy(){}var Gx=null,Wx=null;function Yx(A,O){return A==="textarea"||A==="noscript"||typeof O.children=="string"||typeof O.children=="number"||typeof O.dangerouslySetInnerHTML=="object"&&O.dangerouslySetInnerHTML!==null&&O.dangerouslySetInnerHTML.__html!=null}var jx=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(A){return V2.resolve(null).then(A).catch(KC)}:jx;function KC(A){setTimeout(function(){throw A})}function X1(A,O){var q=O,ce=0;do{var Ae=q.nextSibling;if(A.removeChild(q),Ae&&Ae.nodeType===8)if(q=Ae.data,q==="/$"){if(ce===0){A.removeChild(Ae),u0(O);return}ce--}else q!=="$"&&q!=="$?"&&q!=="$!"||ce++;q=Ae}while(q);u0(O)}function Ih(A){for(;A!=null;A=A.nextSibling){var O=A.nodeType;if(O===1||O===3)break;if(O===8){if(O=A.data,O==="$"||O==="$!"||O==="$?")break;if(O==="/$")return null}}return A}function H2(A){A=A.previousSibling;for(var O=0;A;){if(A.nodeType===8){var q=A.data;if(q==="$"||q==="$!"||q==="$?"){if(O===0)return A;O--}else q==="/$"&&O++}A=A.previousSibling}return null}var Kd=Math.random().toString(36).slice(2),Wf="__reactFiber$"+Kd,d0="__reactProps$"+Kd,Ic="__reactContainer$"+Kd,Xx="__reactEvents$"+Kd,$C="__reactListeners$"+Kd,JC="__reactHandles$"+Kd;function wv(A){var O=A[Wf];if(O)return O;for(var q=A.parentNode;q;){if(O=q[Ic]||q[Wf]){if(q=O.alternate,O.child!==null||q!==null&&q.child!==null)for(A=H2(A);A!==null;){if(q=A[Wf])return q;A=H2(A)}return O}A=q,q=A.parentNode}return null}function R0(A){return A=A[Wf]||A[Ic],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function wd(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(xa(33))}function Wy(A){return A[d0]||null}var Zx=[],Td=-1;function Nh(A){return{current:A}}function oo(A){0>Td||(A.current=Zx[Td],Zx[Td]=null,Td--)}function qi(A,O){Td++,Zx[Td]=A.current,A.current=O}var Fh={},Ws=Nh(Fh),Ml=Nh(!1),Cv=Fh;function Bd(A,O){var q=A.type.contextTypes;if(!q)return Fh;var ce=A.stateNode;if(ce&&ce.__reactInternalMemoizedUnmaskedChildContext===O)return ce.__reactInternalMemoizedMaskedChildContext;var Ae={},_e;for(_e in q)Ae[_e]=O[_e];return ce&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=O,A.__reactInternalMemoizedMaskedChildContext=Ae),Ae}function El(A){return A=A.childContextTypes,A!=null}function cy(){oo(Ml),oo(Ws)}function G2(A,O,q){if(Ws.current!==Fh)throw Error(xa(168));qi(Ws,O),qi(Ml,q)}function _5(A,O,q){var ce=A.stateNode;if(O=O.childContextTypes,typeof ce.getChildContext!="function")return q;ce=ce.getChildContext();for(var Ae in ce)if(!(Ae in O))throw Error(xa(108,zE(A)||"Unknown",Ae));return Co({},q,ce)}function hy(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||Fh,Cv=Ws.current,qi(Ws,A),qi(Ml,Ml.current),!0}function W2(A,O,q){var ce=A.stateNode;if(!ce)throw Error(xa(169));q?(A=_5(A,O,Cv),ce.__reactInternalMemoizedMergedChildContext=A,oo(Ml),oo(Ws),qi(Ws,A)):oo(Ml),qi(Ml,q)}var Ec=null,Yy=!1,Z1=!1;function z5(A){Ec===null?Ec=[A]:Ec.push(A)}function QC(A){Yy=!0,z5(A)}function Uh(){if(!Z1&&Ec!==null){Z1=!0;var A=0,O=Vi;try{var q=Ec;for(Vi=1;A<q.length;A++){var ce=q[A];do ce=ce(!0);while(ce!==null)}Ec=null,Yy=!1}catch(Ae){throw Ec!==null&&(Ec=Ec.slice(A+1)),o5(Vb,Uh),Ae}finally{Vi=O,Z1=!1}}return null}var Ad=[],Sd=0,vy=null,dy=0,Eu=[],Cu=0,Lv=null,Cc=1,Lc="";function yv(A,O){Ad[Sd++]=dy,Ad[Sd++]=vy,vy=A,dy=O}function O5(A,O,q){Eu[Cu++]=Cc,Eu[Cu++]=Lc,Eu[Cu++]=Lv,Lv=A;var ce=Cc;A=Lc;var Ae=32-gf(ce)-1;ce&=~(1<<Ae),q+=1;var _e=32-gf(O)+Ae;if(30<_e){var G=Ae-Ae%5;_e=(ce&(1<<G)-1).toString(32),ce>>=G,Ae-=G,Cc=1<<32-gf(O)+Ae|q<<Ae|ce,Lc=_e+A}else Cc=1<<_e|q<<Ae|ce,Lc=A}function $b(A){A.return!==null&&(yv(A,1),O5(A,1,0))}function Jb(A){for(;A===vy;)vy=Ad[--Sd],Ad[Sd]=null,dy=Ad[--Sd],Ad[Sd]=null;for(;A===Lv;)Lv=Eu[--Cu],Eu[Cu]=null,Lc=Eu[--Cu],Eu[Cu]=null,Cc=Eu[--Cu],Eu[Cu]=null}var jl=null,Wl=null,vo=!1,df=null;function F5(A,O){var q=Pu(5,null,null,0);q.elementType="DELETED",q.stateNode=O,q.return=A,O=A.deletions,O===null?(A.deletions=[q],A.flags|=16):O.push(q)}function Y2(A,O){switch(A.tag){case 5:var q=A.type;return O=O.nodeType!==1||q.toLowerCase()!==O.nodeName.toLowerCase()?null:O,O!==null?(A.stateNode=O,jl=A,Wl=Ih(O.firstChild),!0):!1;case 6:return O=A.pendingProps===""||O.nodeType!==3?null:O,O!==null?(A.stateNode=O,jl=A,Wl=null,!0):!1;case 13:return O=O.nodeType!==8?null:O,O!==null?(q=Lv!==null?{id:Cc,overflow:Lc}:null,A.memoizedState={dehydrated:O,treeContext:q,retryLane:1073741824},q=Pu(18,null,null,0),q.stateNode=O,q.return=A,A.child=q,jl=A,Wl=null,!0):!1;default:return!1}}function Kx(A){return(A.mode&1)!==0&&(A.flags&128)===0}function $x(A){if(vo){var O=Wl;if(O){var q=O;if(!Y2(A,O)){if(Kx(A))throw Error(xa(418));O=Ih(q.nextSibling);var ce=jl;O&&Y2(A,O)?F5(ce,q):(A.flags=A.flags&-4097|2,vo=!1,jl=A)}}else{if(Kx(A))throw Error(xa(418));A.flags=A.flags&-4097|2,vo=!1,jl=A}}}function j2(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;jl=A}function Eg(A){if(A!==jl)return!1;if(!vo)return j2(A),vo=!0,!1;var O;if((O=A.tag!==3)&&!(O=A.tag!==5)&&(O=A.type,O=O!=="head"&&O!=="body"&&!Yx(A.type,A.memoizedProps)),O&&(O=Wl)){if(Kx(A))throw B5(),Error(xa(418));for(;O;)F5(A,O),O=Ih(O.nextSibling)}if(j2(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(xa(317));e:{for(A=A.nextSibling,O=0;A;){if(A.nodeType===8){var q=A.data;if(q==="/$"){if(O===0){Wl=Ih(A.nextSibling);break e}O--}else q!=="$"&&q!=="$!"&&q!=="$?"||O++}A=A.nextSibling}Wl=null}}else Wl=jl?Ih(A.stateNode.nextSibling):null;return!0}function B5(){for(var A=Wl;A;)A=Ih(A.nextSibling)}function Nd(){Wl=jl=null,vo=!1}function Qb(A){df===null?df=[A]:df.push(A)}var qC=zc.ReactCurrentBatchConfig;function Lp(A,O,q){if(A=q.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(q._owner){if(q=q._owner,q){if(q.tag!==1)throw Error(xa(309));var ce=q.stateNode}if(!ce)throw Error(xa(147,A));var Ae=ce,_e=""+A;return O!==null&&O.ref!==null&&typeof O.ref=="function"&&O.ref._stringRef===_e?O.ref:(O=function(G){var H=Ae.refs;G===null?delete H[_e]:H[_e]=G},O._stringRef=_e,O)}if(typeof A!="string")throw Error(xa(284));if(!q._owner)throw Error(xa(290,A))}return A}function Cg(A,O){throw A=Object.prototype.toString.call(O),Error(xa(31,A==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":A))}function X2(A){var O=A._init;return O(A._payload)}function N5(A){function O(t,a){if(A){var n=t.deletions;n===null?(t.deletions=[a],t.flags|=16):n.push(a)}}function q(t,a){if(!A)return null;for(;a!==null;)O(t,a),a=a.sibling;return null}function ce(t,a){for(t=new Map;a!==null;)a.key!==null?t.set(a.key,a):t.set(a.index,a),a=a.sibling;return t}function Ae(t,a){return t=zh(t,a),t.index=0,t.sibling=null,t}function _e(t,a,n){return t.index=n,A?(n=t.alternate,n!==null?(n=n.index,n<a?(t.flags|=2,a):n):(t.flags|=2,a)):(t.flags|=1048576,a)}function G(t){return A&&t.alternate===null&&(t.flags|=2),t}function H(t,a,n,f){return a===null||a.tag!==6?(a=tx(n,t.mode,f),a.return=t,a):(a=Ae(a,n),a.return=t,a)}function e(t,a,n,f){var u=n.type;return u===yd?R(t,a,n.props.children,f,n.key):a!==null&&(a.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===wh&&X2(u)===a.type)?(f=Ae(a,n.props),f.ref=Lp(t,a,n),f.return=t,f):(f=Kg(n.type,n.key,n.props,null,t.mode,f),f.ref=Lp(t,a,n),f.return=t,f)}function g(t,a,n,f){return a===null||a.tag!==4||a.stateNode.containerInfo!==n.containerInfo||a.stateNode.implementation!==n.implementation?(a=rx(n,t.mode,f),a.return=t,a):(a=Ae(a,n.children||[]),a.return=t,a)}function R(t,a,n,f,u){return a===null||a.tag!==7?(a=Ev(n,t.mode,f,u),a.return=t,a):(a=Ae(a,n),a.return=t,a)}function i(t,a,n){if(typeof a=="string"&&a!==""||typeof a=="number")return a=tx(""+a,t.mode,n),a.return=t,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case gg:return n=Kg(a.type,a.key,a.props,null,t.mode,n),n.ref=Lp(t,null,a),n.return=t,n;case gd:return a=rx(a,t.mode,n),a.return=t,a;case wh:var f=a._init;return i(t,f(a._payload),n)}if(Up(a)||Ap(a))return a=Ev(a,t.mode,n,null),a.return=t,a;Cg(t,a)}return null}function C(t,a,n,f){var u=a!==null?a.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:H(t,a,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case gg:return n.key===u?e(t,a,n,f):null;case gd:return n.key===u?g(t,a,n,f):null;case wh:return u=n._init,C(t,a,u(n._payload),f)}if(Up(n)||Ap(n))return u!==null?null:R(t,a,n,f,null);Cg(t,n)}return null}function S(t,a,n,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,H(a,t,""+f,u);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gg:return t=t.get(f.key===null?n:f.key)||null,e(a,t,f,u);case gd:return t=t.get(f.key===null?n:f.key)||null,g(a,t,f,u);case wh:var l=f._init;return S(t,a,n,l(f._payload),u)}if(Up(f)||Ap(f))return t=t.get(n)||null,R(a,t,f,u,null);Cg(a,f)}return null}function v(t,a,n,f){for(var u=null,l=null,y=a,h=a=0,T=null;y!==null&&h<n.length;h++){y.index>h?(T=y,y=null):T=y.sibling;var c=C(t,y,n[h],f);if(c===null){y===null&&(y=T);break}A&&y&&c.alternate===null&&O(t,y),a=_e(c,a,h),l===null?u=c:l.sibling=c,l=c,y=T}if(h===n.length)return q(t,y),vo&&yv(t,h),u;if(y===null){for(;h<n.length;h++)y=i(t,n[h],f),y!==null&&(a=_e(y,a,h),l===null?u=y:l.sibling=y,l=y);return vo&&yv(t,h),u}for(y=ce(t,y);h<n.length;h++)T=S(y,t,h,n[h],f),T!==null&&(A&&T.alternate!==null&&y.delete(T.key===null?h:T.key),a=_e(T,a,h),l===null?u=T:l.sibling=T,l=T);return A&&y.forEach(function(o){return O(t,o)}),vo&&yv(t,h),u}function d(t,a,n,f){var u=Ap(n);if(typeof u!="function")throw Error(xa(150));if(n=u.call(n),n==null)throw Error(xa(151));for(var l=u=null,y=a,h=a=0,T=null,c=n.next();y!==null&&!c.done;h++,c=n.next()){y.index>h?(T=y,y=null):T=y.sibling;var o=C(t,y,c.value,f);if(o===null){y===null&&(y=T);break}A&&y&&o.alternate===null&&O(t,y),a=_e(o,a,h),l===null?u=o:l.sibling=o,l=o,y=T}if(c.done)return q(t,y),vo&&yv(t,h),u;if(y===null){for(;!c.done;h++,c=n.next())c=i(t,c.value,f),c!==null&&(a=_e(c,a,h),l===null?u=c:l.sibling=c,l=c);return vo&&yv(t,h),u}for(y=ce(t,y);!c.done;h++,c=n.next())c=S(y,t,h,c.value,f),c!==null&&(A&&c.alternate!==null&&y.delete(c.key===null?h:c.key),a=_e(c,a,h),l===null?u=c:l.sibling=c,l=c);return A&&y.forEach(function(p){return O(t,p)}),vo&&yv(t,h),u}function r(t,a,n,f){if(typeof n=="object"&&n!==null&&n.type===yd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case gg:e:{for(var u=n.key,l=a;l!==null;){if(l.key===u){if(u=n.type,u===yd){if(l.tag===7){q(t,l.sibling),a=Ae(l,n.props.children),a.return=t,t=a;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===wh&&X2(u)===l.type){q(t,l.sibling),a=Ae(l,n.props),a.ref=Lp(t,l,n),a.return=t,t=a;break e}q(t,l);break}else O(t,l);l=l.sibling}n.type===yd?(a=Ev(n.props.children,t.mode,f,n.key),a.return=t,t=a):(f=Kg(n.type,n.key,n.props,null,t.mode,f),f.ref=Lp(t,a,n),f.return=t,t=f)}return G(t);case gd:e:{for(l=n.key;a!==null;){if(a.key===l)if(a.tag===4&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){q(t,a.sibling),a=Ae(a,n.children||[]),a.return=t,t=a;break e}else{q(t,a);break}else O(t,a);a=a.sibling}a=rx(n,t.mode,f),a.return=t,t=a}return G(t);case wh:return l=n._init,r(t,a,l(n._payload),f)}if(Up(n))return v(t,a,n,f);if(Ap(n))return d(t,a,n,f);Cg(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,a!==null&&a.tag===6?(q(t,a.sibling),a=Ae(a,n),a.return=t,t=a):(q(t,a),a=tx(n,t.mode,f),a.return=t,t=a),G(t)):q(t,a)}return r}var Ud=N5(!0),U5=N5(!1),py=Nh(null),gy=null,Md=null,qb=null;function e3(){qb=Md=gy=null}function t3(A){var O=py.current;oo(py),A._currentValue=O}function Jx(A,O,q){for(;A!==null;){var ce=A.alternate;if((A.childLanes&O)!==O?(A.childLanes|=O,ce!==null&&(ce.childLanes|=O)):ce!==null&&(ce.childLanes&O)!==O&&(ce.childLanes|=O),A===q)break;A=A.return}}function kd(A,O){gy=A,qb=Md=null,A=A.dependencies,A!==null&&A.firstContext!==null&&(A.lanes&O&&(Sl=!0),A.firstContext=null)}function Iu(A){var O=A._currentValue;if(qb!==A)if(A={context:A,memoizedValue:O,next:null},Md===null){if(gy===null)throw Error(xa(308));Md=A,gy.dependencies={lanes:0,firstContext:A}}else Md=Md.next=A;return O}var Tv=null;function r3(A){Tv===null?Tv=[A]:Tv.push(A)}function V5(A,O,q,ce){var Ae=O.interleaved;return Ae===null?(q.next=q,r3(O)):(q.next=Ae.next,Ae.next=q),O.interleaved=q,kc(A,ce)}function kc(A,O){A.lanes|=O;var q=A.alternate;for(q!==null&&(q.lanes|=O),q=A,A=A.return;A!==null;)A.childLanes|=O,q=A.alternate,q!==null&&(q.childLanes|=O),q=A,A=A.return;return q.tag===3?q.stateNode:null}var Th=!1;function n3(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H5(A,O){A=A.updateQueue,O.updateQueue===A&&(O.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Pc(A,O){return{eventTime:A,lane:O,tag:0,payload:null,callback:null,next:null}}function kh(A,O,q){var ce=A.updateQueue;if(ce===null)return null;if(ce=ce.shared,Ri&2){var Ae=ce.pending;return Ae===null?O.next=O:(O.next=Ae.next,Ae.next=O),ce.pending=O,kc(A,q)}return Ae=ce.interleaved,Ae===null?(O.next=O,r3(ce)):(O.next=Ae.next,Ae.next=O),ce.interleaved=O,kc(A,q)}function Gg(A,O,q){if(O=O.updateQueue,O!==null&&(O=O.shared,(q&4194240)!==0)){var ce=O.lanes;ce&=A.pendingLanes,q|=ce,O.lanes=q,Hb(A,q)}}function Z2(A,O){var q=A.updateQueue,ce=A.alternate;if(ce!==null&&(ce=ce.updateQueue,q===ce)){var Ae=null,_e=null;if(q=q.firstBaseUpdate,q!==null){do{var G={eventTime:q.eventTime,lane:q.lane,tag:q.tag,payload:q.payload,callback:q.callback,next:null};_e===null?Ae=_e=G:_e=_e.next=G,q=q.next}while(q!==null);_e===null?Ae=_e=O:_e=_e.next=O}else Ae=_e=O;q={baseState:ce.baseState,firstBaseUpdate:Ae,lastBaseUpdate:_e,shared:ce.shared,effects:ce.effects},A.updateQueue=q;return}A=q.lastBaseUpdate,A===null?q.firstBaseUpdate=O:A.next=O,q.lastBaseUpdate=O}function yy(A,O,q,ce){var Ae=A.updateQueue;Th=!1;var _e=Ae.firstBaseUpdate,G=Ae.lastBaseUpdate,H=Ae.shared.pending;if(H!==null){Ae.shared.pending=null;var e=H,g=e.next;e.next=null,G===null?_e=g:G.next=g,G=e;var R=A.alternate;R!==null&&(R=R.updateQueue,H=R.lastBaseUpdate,H!==G&&(H===null?R.firstBaseUpdate=g:H.next=g,R.lastBaseUpdate=e))}if(_e!==null){var i=Ae.baseState;G=0,R=g=e=null,H=_e;do{var C=H.lane,S=H.eventTime;if((ce&C)===C){R!==null&&(R=R.next={eventTime:S,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=A,d=H;switch(C=O,S=q,d.tag){case 1:if(v=d.payload,typeof v=="function"){i=v.call(S,i,C);break e}i=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=d.payload,C=typeof v=="function"?v.call(S,i,C):v,C==null)break e;i=Co({},i,C);break e;case 2:Th=!0}}H.callback!==null&&H.lane!==0&&(A.flags|=64,C=Ae.effects,C===null?Ae.effects=[H]:C.push(H))}else S={eventTime:S,lane:C,tag:H.tag,payload:H.payload,callback:H.callback,next:null},R===null?(g=R=S,e=i):R=R.next=S,G|=C;if(H=H.next,H===null){if(H=Ae.shared.pending,H===null)break;C=H,H=C.next,C.next=null,Ae.lastBaseUpdate=C,Ae.shared.pending=null}}while(!0);if(R===null&&(e=i),Ae.baseState=e,Ae.firstBaseUpdate=g,Ae.lastBaseUpdate=R,O=Ae.shared.interleaved,O!==null){Ae=O;do G|=Ae.lane,Ae=Ae.next;while(Ae!==O)}else _e===null&&(Ae.shared.lanes=0);Rv|=G,A.lanes=G,A.memoizedState=i}}function K2(A,O,q){if(A=O.effects,O.effects=null,A!==null)for(O=0;O<A.length;O++){var ce=A[O],Ae=ce.callback;if(Ae!==null){if(ce.callback=null,ce=q,typeof Ae!="function")throw Error(xa(191,Ae));Ae.call(ce)}}}var I0={},Xf=Nh(I0),p0=Nh(I0),g0=Nh(I0);function Av(A){if(A===I0)throw Error(xa(174));return A}function a3(A,O){switch(qi(g0,O),qi(p0,A),qi(Xf,I0),A=O.nodeType,A){case 9:case 11:O=(O=O.documentElement)?O.namespaceURI:Ix(null,"");break;default:A=A===8?O.parentNode:O,O=A.namespaceURI||null,A=A.tagName,O=Ix(O,A)}oo(Xf),qi(Xf,O)}function Vd(){oo(Xf),oo(p0),oo(g0)}function G5(A){Av(g0.current);var O=Av(Xf.current),q=Ix(O,A.type);O!==q&&(qi(p0,A),qi(Xf,q))}function i3(A){p0.current===A&&(oo(Xf),oo(p0))}var Mo=Nh(0);function my(A){for(var O=A;O!==null;){if(O.tag===13){var q=O.memoizedState;if(q!==null&&(q=q.dehydrated,q===null||q.data==="$?"||q.data==="$!"))return O}else if(O.tag===19&&O.memoizedProps.revealOrder!==void 0){if(O.flags&128)return O}else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===A)break;for(;O.sibling===null;){if(O.return===null||O.return===A)return null;O=O.return}O.sibling.return=O.return,O=O.sibling}return null}var K1=[];function o3(){for(var A=0;A<K1.length;A++)K1[A]._workInProgressVersionPrimary=null;K1.length=0}var Wg=zc.ReactCurrentDispatcher,$1=zc.ReactCurrentBatchConfig,Pv=0,Eo=null,rs=null,us=null,xy=!1,$p=!1,y0=0,eL=0;function Us(){throw Error(xa(321))}function s3(A,O){if(O===null)return!1;for(var q=0;q<O.length&&q<A.length;q++)if(!mf(A[q],O[q]))return!1;return!0}function l3(A,O,q,ce,Ae,_e){if(Pv=_e,Eo=O,O.memoizedState=null,O.updateQueue=null,O.lanes=0,Wg.current=A===null||A.memoizedState===null?aL:iL,A=q(ce,Ae),$p){_e=0;do{if($p=!1,y0=0,25<=_e)throw Error(xa(301));_e+=1,us=rs=null,O.updateQueue=null,Wg.current=oL,A=q(ce,Ae)}while($p)}if(Wg.current=by,O=rs!==null&&rs.next!==null,Pv=0,us=rs=Eo=null,xy=!1,O)throw Error(xa(300));return A}function u3(){var A=y0!==0;return y0=0,A}function Uf(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?Eo.memoizedState=us=A:us=us.next=A,us}function ku(){if(rs===null){var A=Eo.alternate;A=A!==null?A.memoizedState:null}else A=rs.next;var O=us===null?Eo.memoizedState:us.next;if(O!==null)us=O,rs=A;else{if(A===null)throw Error(xa(310));rs=A,A={memoizedState:rs.memoizedState,baseState:rs.baseState,baseQueue:rs.baseQueue,queue:rs.queue,next:null},us===null?Eo.memoizedState=us=A:us=us.next=A}return us}function m0(A,O){return typeof O=="function"?O(A):O}function J1(A){var O=ku(),q=O.queue;if(q===null)throw Error(xa(311));q.lastRenderedReducer=A;var ce=rs,Ae=ce.baseQueue,_e=q.pending;if(_e!==null){if(Ae!==null){var G=Ae.next;Ae.next=_e.next,_e.next=G}ce.baseQueue=Ae=_e,q.pending=null}if(Ae!==null){_e=Ae.next,ce=ce.baseState;var H=G=null,e=null,g=_e;do{var R=g.lane;if((Pv&R)===R)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),ce=g.hasEagerState?g.eagerState:A(ce,g.action);else{var i={lane:R,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(H=e=i,G=ce):e=e.next=i,Eo.lanes|=R,Rv|=R}g=g.next}while(g!==null&&g!==_e);e===null?G=ce:e.next=H,mf(ce,O.memoizedState)||(Sl=!0),O.memoizedState=ce,O.baseState=G,O.baseQueue=e,q.lastRenderedState=ce}if(A=q.interleaved,A!==null){Ae=A;do _e=Ae.lane,Eo.lanes|=_e,Rv|=_e,Ae=Ae.next;while(Ae!==A)}else Ae===null&&(q.lanes=0);return[O.memoizedState,q.dispatch]}function Q1(A){var O=ku(),q=O.queue;if(q===null)throw Error(xa(311));q.lastRenderedReducer=A;var ce=q.dispatch,Ae=q.pending,_e=O.memoizedState;if(Ae!==null){q.pending=null;var G=Ae=Ae.next;do _e=A(_e,G.action),G=G.next;while(G!==Ae);mf(_e,O.memoizedState)||(Sl=!0),O.memoizedState=_e,O.baseQueue===null&&(O.baseState=_e),q.lastRenderedState=_e}return[_e,ce]}function W5(){}function Y5(A,O){var q=Eo,ce=ku(),Ae=O(),_e=!mf(ce.memoizedState,Ae);if(_e&&(ce.memoizedState=Ae,Sl=!0),ce=ce.queue,f3(Z5.bind(null,q,ce,A),[A]),ce.getSnapshot!==O||_e||us!==null&&us.memoizedState.tag&1){if(q.flags|=2048,x0(9,X5.bind(null,q,ce,Ae,O),void 0,null),fs===null)throw Error(xa(349));Pv&30||j5(q,O,Ae)}return Ae}function j5(A,O,q){A.flags|=16384,A={getSnapshot:O,value:q},O=Eo.updateQueue,O===null?(O={lastEffect:null,stores:null},Eo.updateQueue=O,O.stores=[A]):(q=O.stores,q===null?O.stores=[A]:q.push(A))}function X5(A,O,q,ce){O.value=q,O.getSnapshot=ce,K5(O)&&$5(A)}function Z5(A,O,q){return q(function(){K5(O)&&$5(A)})}function K5(A){var O=A.getSnapshot;A=A.value;try{var q=O();return!mf(A,q)}catch{return!0}}function $5(A){var O=kc(A,1);O!==null&&yf(O,A,1,-1)}function $2(A){var O=Uf();return typeof A=="function"&&(A=A()),O.memoizedState=O.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:A},O.queue=A,A=A.dispatch=nL.bind(null,Eo,A),[O.memoizedState,A]}function x0(A,O,q,ce){return A={tag:A,create:O,destroy:q,deps:ce,next:null},O=Eo.updateQueue,O===null?(O={lastEffect:null,stores:null},Eo.updateQueue=O,O.lastEffect=A.next=A):(q=O.lastEffect,q===null?O.lastEffect=A.next=A:(ce=q.next,q.next=A,A.next=ce,O.lastEffect=A)),A}function J5(){return ku().memoizedState}function Yg(A,O,q,ce){var Ae=Uf();Eo.flags|=A,Ae.memoizedState=x0(1|O,q,void 0,ce===void 0?null:ce)}function jy(A,O,q,ce){var Ae=ku();ce=ce===void 0?null:ce;var _e=void 0;if(rs!==null){var G=rs.memoizedState;if(_e=G.destroy,ce!==null&&s3(ce,G.deps)){Ae.memoizedState=x0(O,q,_e,ce);return}}Eo.flags|=A,Ae.memoizedState=x0(1|O,q,_e,ce)}function J2(A,O){return Yg(8390656,8,A,O)}function f3(A,O){return jy(2048,8,A,O)}function Q5(A,O){return jy(4,2,A,O)}function q5(A,O){return jy(4,4,A,O)}function e6(A,O){if(typeof O=="function")return A=A(),O(A),function(){O(null)};if(O!=null)return A=A(),O.current=A,function(){O.current=null}}function t6(A,O,q){return q=q!=null?q.concat([A]):null,jy(4,4,e6.bind(null,O,A),q)}function c3(){}function r6(A,O){var q=ku();O=O===void 0?null:O;var ce=q.memoizedState;return ce!==null&&O!==null&&s3(O,ce[1])?ce[0]:(q.memoizedState=[A,O],A)}function n6(A,O){var q=ku();O=O===void 0?null:O;var ce=q.memoizedState;return ce!==null&&O!==null&&s3(O,ce[1])?ce[0]:(A=A(),q.memoizedState=[A,O],A)}function a6(A,O,q){return Pv&21?(mf(q,O)||(q=u5(),Eo.lanes|=q,Rv|=q,A.baseState=!0),O):(A.baseState&&(A.baseState=!1,Sl=!0),A.memoizedState=q)}function tL(A,O){var q=Vi;Vi=q!==0&&4>q?q:4,A(!0);var ce=$1.transition;$1.transition={};try{A(!1),O()}finally{Vi=q,$1.transition=ce}}function i6(){return ku().memoizedState}function rL(A,O,q){var ce=_h(A);if(q={lane:ce,action:q,hasEagerState:!1,eagerState:null,next:null},o6(A))s6(O,q);else if(q=V5(A,O,q,ce),q!==null){var Ae=nl();yf(q,A,ce,Ae),l6(q,O,ce)}}function nL(A,O,q){var ce=_h(A),Ae={lane:ce,action:q,hasEagerState:!1,eagerState:null,next:null};if(o6(A))s6(O,Ae);else{var _e=A.alternate;if(A.lanes===0&&(_e===null||_e.lanes===0)&&(_e=O.lastRenderedReducer,_e!==null))try{var G=O.lastRenderedState,H=_e(G,q);if(Ae.hasEagerState=!0,Ae.eagerState=H,mf(H,G)){var e=O.interleaved;e===null?(Ae.next=Ae,r3(O)):(Ae.next=e.next,e.next=Ae),O.interleaved=Ae;return}}catch{}finally{}q=V5(A,O,Ae,ce),q!==null&&(Ae=nl(),yf(q,A,ce,Ae),l6(q,O,ce))}}function o6(A){var O=A.alternate;return A===Eo||O!==null&&O===Eo}function s6(A,O){$p=xy=!0;var q=A.pending;q===null?O.next=O:(O.next=q.next,q.next=O),A.pending=O}function l6(A,O,q){if(q&4194240){var ce=O.lanes;ce&=A.pendingLanes,q|=ce,O.lanes=q,Hb(A,q)}}var by={readContext:Iu,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useInsertionEffect:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useId:Us,unstable_isNewReconciler:!1},aL={readContext:Iu,useCallback:function(A,O){return Uf().memoizedState=[A,O===void 0?null:O],A},useContext:Iu,useEffect:J2,useImperativeHandle:function(A,O,q){return q=q!=null?q.concat([A]):null,Yg(4194308,4,e6.bind(null,O,A),q)},useLayoutEffect:function(A,O){return Yg(4194308,4,A,O)},useInsertionEffect:function(A,O){return Yg(4,2,A,O)},useMemo:function(A,O){var q=Uf();return O=O===void 0?null:O,A=A(),q.memoizedState=[A,O],A},useReducer:function(A,O,q){var ce=Uf();return O=q!==void 0?q(O):O,ce.memoizedState=ce.baseState=O,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:O},ce.queue=A,A=A.dispatch=rL.bind(null,Eo,A),[ce.memoizedState,A]},useRef:function(A){var O=Uf();return A={current:A},O.memoizedState=A},useState:$2,useDebugValue:c3,useDeferredValue:function(A){return Uf().memoizedState=A},useTransition:function(){var A=$2(!1),O=A[0];return A=tL.bind(null,A[1]),Uf().memoizedState=A,[O,A]},useMutableSource:function(){},useSyncExternalStore:function(A,O,q){var ce=Eo,Ae=Uf();if(vo){if(q===void 0)throw Error(xa(407));q=q()}else{if(q=O(),fs===null)throw Error(xa(349));Pv&30||j5(ce,O,q)}Ae.memoizedState=q;var _e={value:q,getSnapshot:O};return Ae.queue=_e,J2(Z5.bind(null,ce,_e,A),[A]),ce.flags|=2048,x0(9,X5.bind(null,ce,_e,q,O),void 0,null),q},useId:function(){var A=Uf(),O=fs.identifierPrefix;if(vo){var q=Lc,ce=Cc;q=(ce&~(1<<32-gf(ce)-1)).toString(32)+q,O=":"+O+"R"+q,q=y0++,0<q&&(O+="H"+q.toString(32)),O+=":"}else q=eL++,O=":"+O+"r"+q.toString(32)+":";return A.memoizedState=O},unstable_isNewReconciler:!1},iL={readContext:Iu,useCallback:r6,useContext:Iu,useEffect:f3,useImperativeHandle:t6,useInsertionEffect:Q5,useLayoutEffect:q5,useMemo:n6,useReducer:J1,useRef:J5,useState:function(){return J1(m0)},useDebugValue:c3,useDeferredValue:function(A){var O=ku();return a6(O,rs.memoizedState,A)},useTransition:function(){var A=J1(m0)[0],O=ku().memoizedState;return[A,O]},useMutableSource:W5,useSyncExternalStore:Y5,useId:i6,unstable_isNewReconciler:!1},oL={readContext:Iu,useCallback:r6,useContext:Iu,useEffect:f3,useImperativeHandle:t6,useInsertionEffect:Q5,useLayoutEffect:q5,useMemo:n6,useReducer:Q1,useRef:J5,useState:function(){return Q1(m0)},useDebugValue:c3,useDeferredValue:function(A){var O=ku();return rs===null?O.memoizedState=A:a6(O,rs.memoizedState,A)},useTransition:function(){var A=Q1(m0)[0],O=ku().memoizedState;return[A,O]},useMutableSource:W5,useSyncExternalStore:Y5,useId:i6,unstable_isNewReconciler:!1};function hf(A,O){if(A&&A.defaultProps){O=Co({},O),A=A.defaultProps;for(var q in A)O[q]===void 0&&(O[q]=A[q]);return O}return O}function Qx(A,O,q,ce){O=A.memoizedState,q=q(ce,O),q=q==null?O:Co({},O,q),A.memoizedState=q,A.lanes===0&&(A.updateQueue.baseState=q)}var Xy={isMounted:function(A){return(A=A._reactInternals)?_v(A)===A:!1},enqueueSetState:function(A,O,q){A=A._reactInternals;var ce=nl(),Ae=_h(A),_e=Pc(ce,Ae);_e.payload=O,q!=null&&(_e.callback=q),O=kh(A,_e,Ae),O!==null&&(yf(O,A,Ae,ce),Gg(O,A,Ae))},enqueueReplaceState:function(A,O,q){A=A._reactInternals;var ce=nl(),Ae=_h(A),_e=Pc(ce,Ae);_e.tag=1,_e.payload=O,q!=null&&(_e.callback=q),O=kh(A,_e,Ae),O!==null&&(yf(O,A,Ae,ce),Gg(O,A,Ae))},enqueueForceUpdate:function(A,O){A=A._reactInternals;var q=nl(),ce=_h(A),Ae=Pc(q,ce);Ae.tag=2,O!=null&&(Ae.callback=O),O=kh(A,Ae,ce),O!==null&&(yf(O,A,ce,q),Gg(O,A,ce))}};function Q2(A,O,q,ce,Ae,_e,G){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(ce,_e,G):O.prototype&&O.prototype.isPureReactComponent?!c0(q,ce)||!c0(Ae,_e):!0}function u6(A,O,q){var ce=!1,Ae=Fh,_e=O.contextType;return typeof _e=="object"&&_e!==null?_e=Iu(_e):(Ae=El(O)?Cv:Ws.current,ce=O.contextTypes,_e=(ce=ce!=null)?Bd(A,Ae):Fh),O=new O(q,_e),A.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Xy,A.stateNode=O,O._reactInternals=A,ce&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=Ae,A.__reactInternalMemoizedMaskedChildContext=_e),O}function q2(A,O,q,ce){A=O.state,typeof O.componentWillReceiveProps=="function"&&O.componentWillReceiveProps(q,ce),typeof O.UNSAFE_componentWillReceiveProps=="function"&&O.UNSAFE_componentWillReceiveProps(q,ce),O.state!==A&&Xy.enqueueReplaceState(O,O.state,null)}function qx(A,O,q,ce){var Ae=A.stateNode;Ae.props=q,Ae.state=A.memoizedState,Ae.refs={},n3(A);var _e=O.contextType;typeof _e=="object"&&_e!==null?Ae.context=Iu(_e):(_e=El(O)?Cv:Ws.current,Ae.context=Bd(A,_e)),Ae.state=A.memoizedState,_e=O.getDerivedStateFromProps,typeof _e=="function"&&(Qx(A,O,_e,q),Ae.state=A.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof Ae.getSnapshotBeforeUpdate=="function"||typeof Ae.UNSAFE_componentWillMount!="function"&&typeof Ae.componentWillMount!="function"||(O=Ae.state,typeof Ae.componentWillMount=="function"&&Ae.componentWillMount(),typeof Ae.UNSAFE_componentWillMount=="function"&&Ae.UNSAFE_componentWillMount(),O!==Ae.state&&Xy.enqueueReplaceState(Ae,Ae.state,null),yy(A,q,Ae,ce),Ae.state=A.memoizedState),typeof Ae.componentDidMount=="function"&&(A.flags|=4194308)}function Hd(A,O){try{var q="",ce=O;do q+=_E(ce),ce=ce.return;while(ce);var Ae=q}catch(_e){Ae=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:A,source:O,stack:Ae,digest:null}}function q1(A,O,q){return{value:A,source:null,stack:q??null,digest:O??null}}function eb(A,O){try{console.error(O.value)}catch(q){setTimeout(function(){throw q})}}var sL=typeof WeakMap=="function"?WeakMap:Map;function f6(A,O,q){q=Pc(-1,q),q.tag=3,q.payload={element:null};var ce=O.value;return q.callback=function(){Ty||(Ty=!0,fb=ce),eb(A,O)},q}function c6(A,O,q){q=Pc(-1,q),q.tag=3;var ce=A.type.getDerivedStateFromError;if(typeof ce=="function"){var Ae=O.value;q.payload=function(){return ce(Ae)},q.callback=function(){eb(A,O)}}var _e=A.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(q.callback=function(){eb(A,O),typeof ce!="function"&&(Dh===null?Dh=new Set([this]):Dh.add(this));var G=O.stack;this.componentDidCatch(O.value,{componentStack:G!==null?G:""})}),q}function e4(A,O,q){var ce=A.pingCache;if(ce===null){ce=A.pingCache=new sL;var Ae=new Set;ce.set(O,Ae)}else Ae=ce.get(O),Ae===void 0&&(Ae=new Set,ce.set(O,Ae));Ae.has(q)||(Ae.add(q),A=wL.bind(null,A,O,q),O.then(A,A))}function t4(A){do{var O;if((O=A.tag===13)&&(O=A.memoizedState,O=O!==null?O.dehydrated!==null:!0),O)return A;A=A.return}while(A!==null);return null}function r4(A,O,q,ce,Ae){return A.mode&1?(A.flags|=65536,A.lanes=Ae,A):(A===O?A.flags|=65536:(A.flags|=128,q.flags|=131072,q.flags&=-52805,q.tag===1&&(q.alternate===null?q.tag=17:(O=Pc(-1,1),O.tag=2,kh(q,O,1))),q.lanes|=1),A)}var lL=zc.ReactCurrentOwner,Sl=!1;function rl(A,O,q,ce){O.child=A===null?U5(O,null,q,ce):Ud(O,A.child,q,ce)}function n4(A,O,q,ce,Ae){q=q.render;var _e=O.ref;return kd(O,Ae),ce=l3(A,O,q,ce,_e,Ae),q=u3(),A!==null&&!Sl?(O.updateQueue=A.updateQueue,O.flags&=-2053,A.lanes&=~Ae,Dc(A,O,Ae)):(vo&&q&&$b(O),O.flags|=1,rl(A,O,ce,Ae),O.child)}function a4(A,O,q,ce,Ae){if(A===null){var _e=q.type;return typeof _e=="function"&&!x3(_e)&&_e.defaultProps===void 0&&q.compare===null&&q.defaultProps===void 0?(O.tag=15,O.type=_e,h6(A,O,_e,ce,Ae)):(A=Kg(q.type,null,ce,O,O.mode,Ae),A.ref=O.ref,A.return=O,O.child=A)}if(_e=A.child,!(A.lanes&Ae)){var G=_e.memoizedProps;if(q=q.compare,q=q!==null?q:c0,q(G,ce)&&A.ref===O.ref)return Dc(A,O,Ae)}return O.flags|=1,A=zh(_e,ce),A.ref=O.ref,A.return=O,O.child=A}function h6(A,O,q,ce,Ae){if(A!==null){var _e=A.memoizedProps;if(c0(_e,ce)&&A.ref===O.ref)if(Sl=!1,O.pendingProps=ce=_e,(A.lanes&Ae)!==0)A.flags&131072&&(Sl=!0);else return O.lanes=A.lanes,Dc(A,O,Ae)}return tb(A,O,q,ce,Ae)}function v6(A,O,q){var ce=O.pendingProps,Ae=ce.children,_e=A!==null?A.memoizedState:null;if(ce.mode==="hidden")if(!(O.mode&1))O.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(Cd,Hl),Hl|=q;else{if(!(q&1073741824))return A=_e!==null?_e.baseLanes|q:q,O.lanes=O.childLanes=1073741824,O.memoizedState={baseLanes:A,cachePool:null,transitions:null},O.updateQueue=null,qi(Cd,Hl),Hl|=A,null;O.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce=_e!==null?_e.baseLanes:q,qi(Cd,Hl),Hl|=ce}else _e!==null?(ce=_e.baseLanes|q,O.memoizedState=null):ce=q,qi(Cd,Hl),Hl|=ce;return rl(A,O,Ae,q),O.child}function d6(A,O){var q=O.ref;(A===null&&q!==null||A!==null&&A.ref!==q)&&(O.flags|=512,O.flags|=2097152)}function tb(A,O,q,ce,Ae){var _e=El(q)?Cv:Ws.current;return _e=Bd(O,_e),kd(O,Ae),q=l3(A,O,q,ce,_e,Ae),ce=u3(),A!==null&&!Sl?(O.updateQueue=A.updateQueue,O.flags&=-2053,A.lanes&=~Ae,Dc(A,O,Ae)):(vo&&ce&&$b(O),O.flags|=1,rl(A,O,q,Ae),O.child)}function i4(A,O,q,ce,Ae){if(El(q)){var _e=!0;hy(O)}else _e=!1;if(kd(O,Ae),O.stateNode===null)jg(A,O),u6(O,q,ce),qx(O,q,ce,Ae),ce=!0;else if(A===null){var G=O.stateNode,H=O.memoizedProps;G.props=H;var e=G.context,g=q.contextType;typeof g=="object"&&g!==null?g=Iu(g):(g=El(q)?Cv:Ws.current,g=Bd(O,g));var R=q.getDerivedStateFromProps,i=typeof R=="function"||typeof G.getSnapshotBeforeUpdate=="function";i||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==ce||e!==g)&&q2(O,G,ce,g),Th=!1;var C=O.memoizedState;G.state=C,yy(O,ce,G,Ae),e=O.memoizedState,H!==ce||C!==e||Ml.current||Th?(typeof R=="function"&&(Qx(O,q,R,ce),e=O.memoizedState),(H=Th||Q2(O,q,H,ce,C,e,g))?(i||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(O.flags|=4194308)):(typeof G.componentDidMount=="function"&&(O.flags|=4194308),O.memoizedProps=ce,O.memoizedState=e),G.props=ce,G.state=e,G.context=g,ce=H):(typeof G.componentDidMount=="function"&&(O.flags|=4194308),ce=!1)}else{G=O.stateNode,H5(A,O),H=O.memoizedProps,g=O.type===O.elementType?H:hf(O.type,H),G.props=g,i=O.pendingProps,C=G.context,e=q.contextType,typeof e=="object"&&e!==null?e=Iu(e):(e=El(q)?Cv:Ws.current,e=Bd(O,e));var S=q.getDerivedStateFromProps;(R=typeof S=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==i||C!==e)&&q2(O,G,ce,e),Th=!1,C=O.memoizedState,G.state=C,yy(O,ce,G,Ae);var v=O.memoizedState;H!==i||C!==v||Ml.current||Th?(typeof S=="function"&&(Qx(O,q,S,ce),v=O.memoizedState),(g=Th||Q2(O,q,g,ce,C,v,e)||!1)?(R||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(ce,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(ce,v,e)),typeof G.componentDidUpdate=="function"&&(O.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(O.flags|=1024)):(typeof G.componentDidUpdate!="function"||H===A.memoizedProps&&C===A.memoizedState||(O.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===A.memoizedProps&&C===A.memoizedState||(O.flags|=1024),O.memoizedProps=ce,O.memoizedState=v),G.props=ce,G.state=v,G.context=e,ce=g):(typeof G.componentDidUpdate!="function"||H===A.memoizedProps&&C===A.memoizedState||(O.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===A.memoizedProps&&C===A.memoizedState||(O.flags|=1024),ce=!1)}return rb(A,O,q,ce,_e,Ae)}function rb(A,O,q,ce,Ae,_e){d6(A,O);var G=(O.flags&128)!==0;if(!ce&&!G)return Ae&&W2(O,q,!1),Dc(A,O,_e);ce=O.stateNode,lL.current=O;var H=G&&typeof q.getDerivedStateFromError!="function"?null:ce.render();return O.flags|=1,A!==null&&G?(O.child=Ud(O,A.child,null,_e),O.child=Ud(O,null,H,_e)):rl(A,O,H,_e),O.memoizedState=ce.state,Ae&&W2(O,q,!0),O.child}function p6(A){var O=A.stateNode;O.pendingContext?G2(A,O.pendingContext,O.pendingContext!==O.context):O.context&&G2(A,O.context,!1),a3(A,O.containerInfo)}function o4(A,O,q,ce,Ae){return Nd(),Qb(Ae),O.flags|=256,rl(A,O,q,ce),O.child}var nb={dehydrated:null,treeContext:null,retryLane:0};function ab(A){return{baseLanes:A,cachePool:null,transitions:null}}function g6(A,O,q){var ce=O.pendingProps,Ae=Mo.current,_e=!1,G=(O.flags&128)!==0,H;if((H=G)||(H=A!==null&&A.memoizedState===null?!1:(Ae&2)!==0),H?(_e=!0,O.flags&=-129):(A===null||A.memoizedState!==null)&&(Ae|=1),qi(Mo,Ae&1),A===null)return $x(O),A=O.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?(O.mode&1?A.data==="$!"?O.lanes=8:O.lanes=1073741824:O.lanes=1,null):(G=ce.children,A=ce.fallback,_e?(ce=O.mode,_e=O.child,G={mode:"hidden",children:G},!(ce&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=G):_e=$y(G,ce,0,null),A=Ev(A,ce,q,null),_e.return=O,A.return=O,_e.sibling=A,O.child=_e,O.child.memoizedState=ab(q),O.memoizedState=nb,A):h3(O,G));if(Ae=A.memoizedState,Ae!==null&&(H=Ae.dehydrated,H!==null))return uL(A,O,G,ce,H,Ae,q);if(_e){_e=ce.fallback,G=O.mode,Ae=A.child,H=Ae.sibling;var e={mode:"hidden",children:ce.children};return!(G&1)&&O.child!==Ae?(ce=O.child,ce.childLanes=0,ce.pendingProps=e,O.deletions=null):(ce=zh(Ae,e),ce.subtreeFlags=Ae.subtreeFlags&14680064),H!==null?_e=zh(H,_e):(_e=Ev(_e,G,q,null),_e.flags|=2),_e.return=O,ce.return=O,ce.sibling=_e,O.child=ce,ce=_e,_e=O.child,G=A.child.memoizedState,G=G===null?ab(q):{baseLanes:G.baseLanes|q,cachePool:null,transitions:G.transitions},_e.memoizedState=G,_e.childLanes=A.childLanes&~q,O.memoizedState=nb,ce}return _e=A.child,A=_e.sibling,ce=zh(_e,{mode:"visible",children:ce.children}),!(O.mode&1)&&(ce.lanes=q),ce.return=O,ce.sibling=null,A!==null&&(q=O.deletions,q===null?(O.deletions=[A],O.flags|=16):q.push(A)),O.child=ce,O.memoizedState=null,ce}function h3(A,O){return O=$y({mode:"visible",children:O},A.mode,0,null),O.return=A,A.child=O}function Lg(A,O,q,ce){return ce!==null&&Qb(ce),Ud(O,A.child,null,q),A=h3(O,O.pendingProps.children),A.flags|=2,O.memoizedState=null,A}function uL(A,O,q,ce,Ae,_e,G){if(q)return O.flags&256?(O.flags&=-257,ce=q1(Error(xa(422))),Lg(A,O,G,ce)):O.memoizedState!==null?(O.child=A.child,O.flags|=128,null):(_e=ce.fallback,Ae=O.mode,ce=$y({mode:"visible",children:ce.children},Ae,0,null),_e=Ev(_e,Ae,G,null),_e.flags|=2,ce.return=O,_e.return=O,ce.sibling=_e,O.child=ce,O.mode&1&&Ud(O,A.child,null,G),O.child.memoizedState=ab(G),O.memoizedState=nb,_e);if(!(O.mode&1))return Lg(A,O,G,null);if(Ae.data==="$!"){if(ce=Ae.nextSibling&&Ae.nextSibling.dataset,ce)var H=ce.dgst;return ce=H,_e=Error(xa(419)),ce=q1(_e,ce,void 0),Lg(A,O,G,ce)}if(H=(G&A.childLanes)!==0,Sl||H){if(ce=fs,ce!==null){switch(G&-G){case 4:Ae=2;break;case 16:Ae=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ae=32;break;case 536870912:Ae=268435456;break;default:Ae=0}Ae=Ae&(ce.suspendedLanes|G)?0:Ae,Ae!==0&&Ae!==_e.retryLane&&(_e.retryLane=Ae,kc(A,Ae),yf(ce,A,Ae,-1))}return m3(),ce=q1(Error(xa(421))),Lg(A,O,G,ce)}return Ae.data==="$?"?(O.flags|=128,O.child=A.child,O=TL.bind(null,A),Ae._reactRetry=O,null):(A=_e.treeContext,Wl=Ih(Ae.nextSibling),jl=O,vo=!0,df=null,A!==null&&(Eu[Cu++]=Cc,Eu[Cu++]=Lc,Eu[Cu++]=Lv,Cc=A.id,Lc=A.overflow,Lv=O),O=h3(O,ce.children),O.flags|=4096,O)}function s4(A,O,q){A.lanes|=O;var ce=A.alternate;ce!==null&&(ce.lanes|=O),Jx(A.return,O,q)}function ex(A,O,q,ce,Ae){var _e=A.memoizedState;_e===null?A.memoizedState={isBackwards:O,rendering:null,renderingStartTime:0,last:ce,tail:q,tailMode:Ae}:(_e.isBackwards=O,_e.rendering=null,_e.renderingStartTime=0,_e.last=ce,_e.tail=q,_e.tailMode=Ae)}function y6(A,O,q){var ce=O.pendingProps,Ae=ce.revealOrder,_e=ce.tail;if(rl(A,O,ce.children,q),ce=Mo.current,ce&2)ce=ce&1|2,O.flags|=128;else{if(A!==null&&A.flags&128)e:for(A=O.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&s4(A,q,O);else if(A.tag===19)s4(A,q,O);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===O)break e;for(;A.sibling===null;){if(A.return===null||A.return===O)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}ce&=1}if(qi(Mo,ce),!(O.mode&1))O.memoizedState=null;else switch(Ae){case"forwards":for(q=O.child,Ae=null;q!==null;)A=q.alternate,A!==null&&my(A)===null&&(Ae=q),q=q.sibling;q=Ae,q===null?(Ae=O.child,O.child=null):(Ae=q.sibling,q.sibling=null),ex(O,!1,Ae,q,_e);break;case"backwards":for(q=null,Ae=O.child,O.child=null;Ae!==null;){if(A=Ae.alternate,A!==null&&my(A)===null){O.child=Ae;break}A=Ae.sibling,Ae.sibling=q,q=Ae,Ae=A}ex(O,!0,q,null,_e);break;case"together":ex(O,!1,null,null,void 0);break;default:O.memoizedState=null}return O.child}function jg(A,O){!(O.mode&1)&&A!==null&&(A.alternate=null,O.alternate=null,O.flags|=2)}function Dc(A,O,q){if(A!==null&&(O.dependencies=A.dependencies),Rv|=O.lanes,!(q&O.childLanes))return null;if(A!==null&&O.child!==A.child)throw Error(xa(153));if(O.child!==null){for(A=O.child,q=zh(A,A.pendingProps),O.child=q,q.return=O;A.sibling!==null;)A=A.sibling,q=q.sibling=zh(A,A.pendingProps),q.return=O;q.sibling=null}return O.child}function fL(A,O,q){switch(O.tag){case 3:p6(O),Nd();break;case 5:G5(O);break;case 1:El(O.type)&&hy(O);break;case 4:a3(O,O.stateNode.containerInfo);break;case 10:var ce=O.type._context,Ae=O.memoizedProps.value;qi(py,ce._currentValue),ce._currentValue=Ae;break;case 13:if(ce=O.memoizedState,ce!==null)return ce.dehydrated!==null?(qi(Mo,Mo.current&1),O.flags|=128,null):q&O.child.childLanes?g6(A,O,q):(qi(Mo,Mo.current&1),A=Dc(A,O,q),A!==null?A.sibling:null);qi(Mo,Mo.current&1);break;case 19:if(ce=(q&O.childLanes)!==0,A.flags&128){if(ce)return y6(A,O,q);O.flags|=128}if(Ae=O.memoizedState,Ae!==null&&(Ae.rendering=null,Ae.tail=null,Ae.lastEffect=null),qi(Mo,Mo.current),ce)break;return null;case 22:case 23:return O.lanes=0,v6(A,O,q)}return Dc(A,O,q)}var m6,ib,x6,b6;m6=function(A,O){for(var q=O.child;q!==null;){if(q.tag===5||q.tag===6)A.appendChild(q.stateNode);else if(q.tag!==4&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===O)break;for(;q.sibling===null;){if(q.return===null||q.return===O)return;q=q.return}q.sibling.return=q.return,q=q.sibling}};ib=function(){};x6=function(A,O,q,ce){var Ae=A.memoizedProps;if(Ae!==ce){A=O.stateNode,Av(Xf.current);var _e=null;switch(q){case"input":Ae=Cx(A,Ae),ce=Cx(A,ce),_e=[];break;case"select":Ae=Co({},Ae,{value:void 0}),ce=Co({},ce,{value:void 0}),_e=[];break;case"textarea":Ae=Rx(A,Ae),ce=Rx(A,ce),_e=[];break;default:typeof Ae.onClick!="function"&&typeof ce.onClick=="function"&&(A.onclick=fy)}kx(q,ce);var G;q=null;for(g in Ae)if(!ce.hasOwnProperty(g)&&Ae.hasOwnProperty(g)&&Ae[g]!=null)if(g==="style"){var H=Ae[g];for(G in H)H.hasOwnProperty(G)&&(q||(q={}),q[G]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a0.hasOwnProperty(g)?_e||(_e=[]):(_e=_e||[]).push(g,null));for(g in ce){var e=ce[g];if(H=Ae!=null?Ae[g]:void 0,ce.hasOwnProperty(g)&&e!==H&&(e!=null||H!=null))if(g==="style")if(H){for(G in H)!H.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(q||(q={}),q[G]="");for(G in e)e.hasOwnProperty(G)&&H[G]!==e[G]&&(q||(q={}),q[G]=e[G])}else q||(_e||(_e=[]),_e.push(g,q)),q=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(_e=_e||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(_e=_e||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(a0.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&io("scroll",A),_e||H===e||(_e=[])):(_e=_e||[]).push(g,e))}q&&(_e=_e||[]).push("style",q);var g=_e;(O.updateQueue=g)&&(O.flags|=4)}};b6=function(A,O,q,ce){q!==ce&&(O.flags|=4)};function Pp(A,O){if(!vo)switch(A.tailMode){case"hidden":O=A.tail;for(var q=null;O!==null;)O.alternate!==null&&(q=O),O=O.sibling;q===null?A.tail=null:q.sibling=null;break;case"collapsed":q=A.tail;for(var ce=null;q!==null;)q.alternate!==null&&(ce=q),q=q.sibling;ce===null?O||A.tail===null?A.tail=null:A.tail.sibling=null:ce.sibling=null}}function Vs(A){var O=A.alternate!==null&&A.alternate.child===A.child,q=0,ce=0;if(O)for(var Ae=A.child;Ae!==null;)q|=Ae.lanes|Ae.childLanes,ce|=Ae.subtreeFlags&14680064,ce|=Ae.flags&14680064,Ae.return=A,Ae=Ae.sibling;else for(Ae=A.child;Ae!==null;)q|=Ae.lanes|Ae.childLanes,ce|=Ae.subtreeFlags,ce|=Ae.flags,Ae.return=A,Ae=Ae.sibling;return A.subtreeFlags|=ce,A.childLanes=q,O}function cL(A,O,q){var ce=O.pendingProps;switch(Jb(O),O.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(O),null;case 1:return El(O.type)&&cy(),Vs(O),null;case 3:return ce=O.stateNode,Vd(),oo(Ml),oo(Ws),o3(),ce.pendingContext&&(ce.context=ce.pendingContext,ce.pendingContext=null),(A===null||A.child===null)&&(Eg(O)?O.flags|=4:A===null||A.memoizedState.isDehydrated&&!(O.flags&256)||(O.flags|=1024,df!==null&&(vb(df),df=null))),ib(A,O),Vs(O),null;case 5:i3(O);var Ae=Av(g0.current);if(q=O.type,A!==null&&O.stateNode!=null)x6(A,O,q,ce,Ae),A.ref!==O.ref&&(O.flags|=512,O.flags|=2097152);else{if(!ce){if(O.stateNode===null)throw Error(xa(166));return Vs(O),null}if(A=Av(Xf.current),Eg(O)){ce=O.stateNode,q=O.type;var _e=O.memoizedProps;switch(ce[Wf]=O,ce[d0]=_e,A=(O.mode&1)!==0,q){case"dialog":io("cancel",ce),io("close",ce);break;case"iframe":case"object":case"embed":io("load",ce);break;case"video":case"audio":for(Ae=0;Ae<Hp.length;Ae++)io(Hp[Ae],ce);break;case"source":io("error",ce);break;case"img":case"image":case"link":io("error",ce),io("load",ce);break;case"details":io("toggle",ce);break;case"input":g2(ce,_e),io("invalid",ce);break;case"select":ce._wrapperState={wasMultiple:!!_e.multiple},io("invalid",ce);break;case"textarea":m2(ce,_e),io("invalid",ce)}kx(q,_e),Ae=null;for(var G in _e)if(_e.hasOwnProperty(G)){var H=_e[G];G==="children"?typeof H=="string"?ce.textContent!==H&&(_e.suppressHydrationWarning!==!0&&Mg(ce.textContent,H,A),Ae=["children",H]):typeof H=="number"&&ce.textContent!==""+H&&(_e.suppressHydrationWarning!==!0&&Mg(ce.textContent,H,A),Ae=["children",""+H]):a0.hasOwnProperty(G)&&H!=null&&G==="onScroll"&&io("scroll",ce)}switch(q){case"input":yg(ce),y2(ce,_e,!0);break;case"textarea":yg(ce),x2(ce);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(ce.onclick=fy)}ce=Ae,O.updateQueue=ce,ce!==null&&(O.flags|=4)}else{G=Ae.nodeType===9?Ae:Ae.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=ZT(q)),A==="http://www.w3.org/1999/xhtml"?q==="script"?(A=G.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof ce.is=="string"?A=G.createElement(q,{is:ce.is}):(A=G.createElement(q),q==="select"&&(G=A,ce.multiple?G.multiple=!0:ce.size&&(G.size=ce.size))):A=G.createElementNS(A,q),A[Wf]=O,A[d0]=ce,m6(A,O,!1,!1),O.stateNode=A;e:{switch(G=Dx(q,ce),q){case"dialog":io("cancel",A),io("close",A),Ae=ce;break;case"iframe":case"object":case"embed":io("load",A),Ae=ce;break;case"video":case"audio":for(Ae=0;Ae<Hp.length;Ae++)io(Hp[Ae],A);Ae=ce;break;case"source":io("error",A),Ae=ce;break;case"img":case"image":case"link":io("error",A),io("load",A),Ae=ce;break;case"details":io("toggle",A),Ae=ce;break;case"input":g2(A,ce),Ae=Cx(A,ce),io("invalid",A);break;case"option":Ae=ce;break;case"select":A._wrapperState={wasMultiple:!!ce.multiple},Ae=Co({},ce,{value:void 0}),io("invalid",A);break;case"textarea":m2(A,ce),Ae=Rx(A,ce),io("invalid",A);break;default:Ae=ce}kx(q,Ae),H=Ae;for(_e in H)if(H.hasOwnProperty(_e)){var e=H[_e];_e==="style"?JT(A,e):_e==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&KT(A,e)):_e==="children"?typeof e=="string"?(q!=="textarea"||e!=="")&&i0(A,e):typeof e=="number"&&i0(A,""+e):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(a0.hasOwnProperty(_e)?e!=null&&_e==="onScroll"&&io("scroll",A):e!=null&&Ob(A,_e,e,G))}switch(q){case"input":yg(A),y2(A,ce,!1);break;case"textarea":yg(A),x2(A);break;case"option":ce.value!=null&&A.setAttribute("value",""+Oh(ce.value));break;case"select":A.multiple=!!ce.multiple,_e=ce.value,_e!=null?Ld(A,!!ce.multiple,_e,!1):ce.defaultValue!=null&&Ld(A,!!ce.multiple,ce.defaultValue,!0);break;default:typeof Ae.onClick=="function"&&(A.onclick=fy)}switch(q){case"button":case"input":case"select":case"textarea":ce=!!ce.autoFocus;break e;case"img":ce=!0;break e;default:ce=!1}}ce&&(O.flags|=4)}O.ref!==null&&(O.flags|=512,O.flags|=2097152)}return Vs(O),null;case 6:if(A&&O.stateNode!=null)b6(A,O,A.memoizedProps,ce);else{if(typeof ce!="string"&&O.stateNode===null)throw Error(xa(166));if(q=Av(g0.current),Av(Xf.current),Eg(O)){if(ce=O.stateNode,q=O.memoizedProps,ce[Wf]=O,(_e=ce.nodeValue!==q)&&(A=jl,A!==null))switch(A.tag){case 3:Mg(ce.nodeValue,q,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&Mg(ce.nodeValue,q,(A.mode&1)!==0)}_e&&(O.flags|=4)}else ce=(q.nodeType===9?q:q.ownerDocument).createTextNode(ce),ce[Wf]=O,O.stateNode=ce}return Vs(O),null;case 13:if(oo(Mo),ce=O.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(vo&&Wl!==null&&O.mode&1&&!(O.flags&128))B5(),Nd(),O.flags|=98560,_e=!1;else if(_e=Eg(O),ce!==null&&ce.dehydrated!==null){if(A===null){if(!_e)throw Error(xa(318));if(_e=O.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(xa(317));_e[Wf]=O}else Nd(),!(O.flags&128)&&(O.memoizedState=null),O.flags|=4;Vs(O),_e=!1}else df!==null&&(vb(df),df=null),_e=!0;if(!_e)return O.flags&65536?O:null}return O.flags&128?(O.lanes=q,O):(ce=ce!==null,ce!==(A!==null&&A.memoizedState!==null)&&ce&&(O.child.flags|=8192,O.mode&1&&(A===null||Mo.current&1?ns===0&&(ns=3):m3())),O.updateQueue!==null&&(O.flags|=4),Vs(O),null);case 4:return Vd(),ib(A,O),A===null&&h0(O.stateNode.containerInfo),Vs(O),null;case 10:return t3(O.type._context),Vs(O),null;case 17:return El(O.type)&&cy(),Vs(O),null;case 19:if(oo(Mo),_e=O.memoizedState,_e===null)return Vs(O),null;if(ce=(O.flags&128)!==0,G=_e.rendering,G===null)if(ce)Pp(_e,!1);else{if(ns!==0||A!==null&&A.flags&128)for(A=O.child;A!==null;){if(G=my(A),G!==null){for(O.flags|=128,Pp(_e,!1),ce=G.updateQueue,ce!==null&&(O.updateQueue=ce,O.flags|=4),O.subtreeFlags=0,ce=q,q=O.child;q!==null;)_e=q,A=ce,_e.flags&=14680066,G=_e.alternate,G===null?(_e.childLanes=0,_e.lanes=A,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=G.childLanes,_e.lanes=G.lanes,_e.child=G.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=G.memoizedProps,_e.memoizedState=G.memoizedState,_e.updateQueue=G.updateQueue,_e.type=G.type,A=G.dependencies,_e.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),q=q.sibling;return qi(Mo,Mo.current&1|2),O.child}A=A.sibling}_e.tail!==null&&Vo()>Gd&&(O.flags|=128,ce=!0,Pp(_e,!1),O.lanes=4194304)}else{if(!ce)if(A=my(G),A!==null){if(O.flags|=128,ce=!0,q=A.updateQueue,q!==null&&(O.updateQueue=q,O.flags|=4),Pp(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!G.alternate&&!vo)return Vs(O),null}else 2*Vo()-_e.renderingStartTime>Gd&&q!==1073741824&&(O.flags|=128,ce=!0,Pp(_e,!1),O.lanes=4194304);_e.isBackwards?(G.sibling=O.child,O.child=G):(q=_e.last,q!==null?q.sibling=G:O.child=G,_e.last=G)}return _e.tail!==null?(O=_e.tail,_e.rendering=O,_e.tail=O.sibling,_e.renderingStartTime=Vo(),O.sibling=null,q=Mo.current,qi(Mo,ce?q&1|2:q&1),O):(Vs(O),null);case 22:case 23:return y3(),ce=O.memoizedState!==null,A!==null&&A.memoizedState!==null!==ce&&(O.flags|=8192),ce&&O.mode&1?Hl&1073741824&&(Vs(O),O.subtreeFlags&6&&(O.flags|=8192)):Vs(O),null;case 24:return null;case 25:return null}throw Error(xa(156,O.tag))}function hL(A,O){switch(Jb(O),O.tag){case 1:return El(O.type)&&cy(),A=O.flags,A&65536?(O.flags=A&-65537|128,O):null;case 3:return Vd(),oo(Ml),oo(Ws),o3(),A=O.flags,A&65536&&!(A&128)?(O.flags=A&-65537|128,O):null;case 5:return i3(O),null;case 13:if(oo(Mo),A=O.memoizedState,A!==null&&A.dehydrated!==null){if(O.alternate===null)throw Error(xa(340));Nd()}return A=O.flags,A&65536?(O.flags=A&-65537|128,O):null;case 19:return oo(Mo),null;case 4:return Vd(),null;case 10:return t3(O.type._context),null;case 22:case 23:return y3(),null;case 24:return null;default:return null}}var Pg=!1,Gs=!1,vL=typeof WeakSet=="function"?WeakSet:Set,za=null;function Ed(A,O){var q=A.ref;if(q!==null)if(typeof q=="function")try{q(null)}catch(ce){_o(A,O,ce)}else q.current=null}function ob(A,O,q){try{q()}catch(ce){_o(A,O,ce)}}var l4=!1;function dL(A,O){if(Gx=sy,A=M5(),Kb(A)){if("selectionStart"in A)var q={start:A.selectionStart,end:A.selectionEnd};else e:{q=(q=A.ownerDocument)&&q.defaultView||window;var ce=q.getSelection&&q.getSelection();if(ce&&ce.rangeCount!==0){q=ce.anchorNode;var Ae=ce.anchorOffset,_e=ce.focusNode;ce=ce.focusOffset;try{q.nodeType,_e.nodeType}catch{q=null;break e}var G=0,H=-1,e=-1,g=0,R=0,i=A,C=null;t:for(;;){for(var S;i!==q||Ae!==0&&i.nodeType!==3||(H=G+Ae),i!==_e||ce!==0&&i.nodeType!==3||(e=G+ce),i.nodeType===3&&(G+=i.nodeValue.length),(S=i.firstChild)!==null;)C=i,i=S;for(;;){if(i===A)break t;if(C===q&&++g===Ae&&(H=G),C===_e&&++R===ce&&(e=G),(S=i.nextSibling)!==null)break;i=C,C=i.parentNode}i=S}q=H===-1||e===-1?null:{start:H,end:e}}else q=null}q=q||{start:0,end:0}}else q=null;for(Wx={focusedElem:A,selectionRange:q},sy=!1,za=O;za!==null;)if(O=za,A=O.child,(O.subtreeFlags&1028)!==0&&A!==null)A.return=O,za=A;else for(;za!==null;){O=za;try{var v=O.alternate;if(O.flags&1024)switch(O.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var d=v.memoizedProps,r=v.memoizedState,t=O.stateNode,a=t.getSnapshotBeforeUpdate(O.elementType===O.type?d:hf(O.type,d),r);t.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var n=O.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xa(163))}}catch(f){_o(O,O.return,f)}if(A=O.sibling,A!==null){A.return=O.return,za=A;break}za=O.return}return v=l4,l4=!1,v}function Jp(A,O,q){var ce=O.updateQueue;if(ce=ce!==null?ce.lastEffect:null,ce!==null){var Ae=ce=ce.next;do{if((Ae.tag&A)===A){var _e=Ae.destroy;Ae.destroy=void 0,_e!==void 0&&ob(O,q,_e)}Ae=Ae.next}while(Ae!==ce)}}function Zy(A,O){if(O=O.updateQueue,O=O!==null?O.lastEffect:null,O!==null){var q=O=O.next;do{if((q.tag&A)===A){var ce=q.create;q.destroy=ce()}q=q.next}while(q!==O)}}function sb(A){var O=A.ref;if(O!==null){var q=A.stateNode;switch(A.tag){case 5:A=q;break;default:A=q}typeof O=="function"?O(A):O.current=A}}function w6(A){var O=A.alternate;O!==null&&(A.alternate=null,w6(O)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(O=A.stateNode,O!==null&&(delete O[Wf],delete O[d0],delete O[Xx],delete O[$C],delete O[JC])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function T6(A){return A.tag===5||A.tag===3||A.tag===4}function u4(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||T6(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function lb(A,O,q){var ce=A.tag;if(ce===5||ce===6)A=A.stateNode,O?q.nodeType===8?q.parentNode.insertBefore(A,O):q.insertBefore(A,O):(q.nodeType===8?(O=q.parentNode,O.insertBefore(A,q)):(O=q,O.appendChild(A)),q=q._reactRootContainer,q!=null||O.onclick!==null||(O.onclick=fy));else if(ce!==4&&(A=A.child,A!==null))for(lb(A,O,q),A=A.sibling;A!==null;)lb(A,O,q),A=A.sibling}function ub(A,O,q){var ce=A.tag;if(ce===5||ce===6)A=A.stateNode,O?q.insertBefore(A,O):q.appendChild(A);else if(ce!==4&&(A=A.child,A!==null))for(ub(A,O,q),A=A.sibling;A!==null;)ub(A,O,q),A=A.sibling}var Es=null,vf=!1;function xh(A,O,q){for(q=q.child;q!==null;)A6(A,O,q),q=q.sibling}function A6(A,O,q){if(jf&&typeof jf.onCommitFiberUnmount=="function")try{jf.onCommitFiberUnmount(Uy,q)}catch{}switch(q.tag){case 5:Gs||Ed(q,O);case 6:var ce=Es,Ae=vf;Es=null,xh(A,O,q),Es=ce,vf=Ae,Es!==null&&(vf?(A=Es,q=q.stateNode,A.nodeType===8?A.parentNode.removeChild(q):A.removeChild(q)):Es.removeChild(q.stateNode));break;case 18:Es!==null&&(vf?(A=Es,q=q.stateNode,A.nodeType===8?X1(A.parentNode,q):A.nodeType===1&&X1(A,q),u0(A)):X1(Es,q.stateNode));break;case 4:ce=Es,Ae=vf,Es=q.stateNode.containerInfo,vf=!0,xh(A,O,q),Es=ce,vf=Ae;break;case 0:case 11:case 14:case 15:if(!Gs&&(ce=q.updateQueue,ce!==null&&(ce=ce.lastEffect,ce!==null))){Ae=ce=ce.next;do{var _e=Ae,G=_e.destroy;_e=_e.tag,G!==void 0&&(_e&2||_e&4)&&ob(q,O,G),Ae=Ae.next}while(Ae!==ce)}xh(A,O,q);break;case 1:if(!Gs&&(Ed(q,O),ce=q.stateNode,typeof ce.componentWillUnmount=="function"))try{ce.props=q.memoizedProps,ce.state=q.memoizedState,ce.componentWillUnmount()}catch(H){_o(q,O,H)}xh(A,O,q);break;case 21:xh(A,O,q);break;case 22:q.mode&1?(Gs=(ce=Gs)||q.memoizedState!==null,xh(A,O,q),Gs=ce):xh(A,O,q);break;default:xh(A,O,q)}}function f4(A){var O=A.updateQueue;if(O!==null){A.updateQueue=null;var q=A.stateNode;q===null&&(q=A.stateNode=new vL),O.forEach(function(ce){var Ae=AL.bind(null,A,ce);q.has(ce)||(q.add(ce),ce.then(Ae,Ae))})}}function cf(A,O){var q=O.deletions;if(q!==null)for(var ce=0;ce<q.length;ce++){var Ae=q[ce];try{var _e=A,G=O,H=G;e:for(;H!==null;){switch(H.tag){case 5:Es=H.stateNode,vf=!1;break e;case 3:Es=H.stateNode.containerInfo,vf=!0;break e;case 4:Es=H.stateNode.containerInfo,vf=!0;break e}H=H.return}if(Es===null)throw Error(xa(160));A6(_e,G,Ae),Es=null,vf=!1;var e=Ae.alternate;e!==null&&(e.return=null),Ae.return=null}catch(g){_o(Ae,O,g)}}if(O.subtreeFlags&12854)for(O=O.child;O!==null;)S6(O,A),O=O.sibling}function S6(A,O){var q=A.alternate,ce=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(cf(O,A),Nf(A),ce&4){try{Jp(3,A,A.return),Zy(3,A)}catch(d){_o(A,A.return,d)}try{Jp(5,A,A.return)}catch(d){_o(A,A.return,d)}}break;case 1:cf(O,A),Nf(A),ce&512&&q!==null&&Ed(q,q.return);break;case 5:if(cf(O,A),Nf(A),ce&512&&q!==null&&Ed(q,q.return),A.flags&32){var Ae=A.stateNode;try{i0(Ae,"")}catch(d){_o(A,A.return,d)}}if(ce&4&&(Ae=A.stateNode,Ae!=null)){var _e=A.memoizedProps,G=q!==null?q.memoizedProps:_e,H=A.type,e=A.updateQueue;if(A.updateQueue=null,e!==null)try{H==="input"&&_e.type==="radio"&&_e.name!=null&&jT(Ae,_e),Dx(H,G);var g=Dx(H,_e);for(G=0;G<e.length;G+=2){var R=e[G],i=e[G+1];R==="style"?JT(Ae,i):R==="dangerouslySetInnerHTML"?KT(Ae,i):R==="children"?i0(Ae,i):Ob(Ae,R,i,g)}switch(H){case"input":Lx(Ae,_e);break;case"textarea":XT(Ae,_e);break;case"select":var C=Ae._wrapperState.wasMultiple;Ae._wrapperState.wasMultiple=!!_e.multiple;var S=_e.value;S!=null?Ld(Ae,!!_e.multiple,S,!1):C!==!!_e.multiple&&(_e.defaultValue!=null?Ld(Ae,!!_e.multiple,_e.defaultValue,!0):Ld(Ae,!!_e.multiple,_e.multiple?[]:"",!1))}Ae[d0]=_e}catch(d){_o(A,A.return,d)}}break;case 6:if(cf(O,A),Nf(A),ce&4){if(A.stateNode===null)throw Error(xa(162));Ae=A.stateNode,_e=A.memoizedProps;try{Ae.nodeValue=_e}catch(d){_o(A,A.return,d)}}break;case 3:if(cf(O,A),Nf(A),ce&4&&q!==null&&q.memoizedState.isDehydrated)try{u0(O.containerInfo)}catch(d){_o(A,A.return,d)}break;case 4:cf(O,A),Nf(A);break;case 13:cf(O,A),Nf(A),Ae=A.child,Ae.flags&8192&&(_e=Ae.memoizedState!==null,Ae.stateNode.isHidden=_e,!_e||Ae.alternate!==null&&Ae.alternate.memoizedState!==null||(p3=Vo())),ce&4&&f4(A);break;case 22:if(R=q!==null&&q.memoizedState!==null,A.mode&1?(Gs=(g=Gs)||R,cf(O,A),Gs=g):cf(O,A),Nf(A),ce&8192){if(g=A.memoizedState!==null,(A.stateNode.isHidden=g)&&!R&&A.mode&1)for(za=A,R=A.child;R!==null;){for(i=za=R;za!==null;){switch(C=za,S=C.child,C.tag){case 0:case 11:case 14:case 15:Jp(4,C,C.return);break;case 1:Ed(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){ce=C,q=C.return;try{O=ce,v.props=O.memoizedProps,v.state=O.memoizedState,v.componentWillUnmount()}catch(d){_o(ce,q,d)}}break;case 5:Ed(C,C.return);break;case 22:if(C.memoizedState!==null){h4(i);continue}}S!==null?(S.return=C,za=S):h4(i)}R=R.sibling}e:for(R=null,i=A;;){if(i.tag===5){if(R===null){R=i;try{Ae=i.stateNode,g?(_e=Ae.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(H=i.stateNode,e=i.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=$T("display",G))}catch(d){_o(A,A.return,d)}}}else if(i.tag===6){if(R===null)try{i.stateNode.nodeValue=g?"":i.memoizedProps}catch(d){_o(A,A.return,d)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===A)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===A)break e;for(;i.sibling===null;){if(i.return===null||i.return===A)break e;R===i&&(R=null),i=i.return}R===i&&(R=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:cf(O,A),Nf(A),ce&4&&f4(A);break;case 21:break;default:cf(O,A),Nf(A)}}function Nf(A){var O=A.flags;if(O&2){try{e:{for(var q=A.return;q!==null;){if(T6(q)){var ce=q;break e}q=q.return}throw Error(xa(160))}switch(ce.tag){case 5:var Ae=ce.stateNode;ce.flags&32&&(i0(Ae,""),ce.flags&=-33);var _e=u4(A);ub(A,_e,Ae);break;case 3:case 4:var G=ce.stateNode.containerInfo,H=u4(A);lb(A,H,G);break;default:throw Error(xa(161))}}catch(e){_o(A,A.return,e)}A.flags&=-3}O&4096&&(A.flags&=-4097)}function pL(A,O,q){za=A,M6(A)}function M6(A,O,q){for(var ce=(A.mode&1)!==0;za!==null;){var Ae=za,_e=Ae.child;if(Ae.tag===22&&ce){var G=Ae.memoizedState!==null||Pg;if(!G){var H=Ae.alternate,e=H!==null&&H.memoizedState!==null||Gs;H=Pg;var g=Gs;if(Pg=G,(Gs=e)&&!g)for(za=Ae;za!==null;)G=za,e=G.child,G.tag===22&&G.memoizedState!==null?v4(Ae):e!==null?(e.return=G,za=e):v4(Ae);for(;_e!==null;)za=_e,M6(_e),_e=_e.sibling;za=Ae,Pg=H,Gs=g}c4(A)}else Ae.subtreeFlags&8772&&_e!==null?(_e.return=Ae,za=_e):c4(A)}}function c4(A){for(;za!==null;){var O=za;if(O.flags&8772){var q=O.alternate;try{if(O.flags&8772)switch(O.tag){case 0:case 11:case 15:Gs||Zy(5,O);break;case 1:var ce=O.stateNode;if(O.flags&4&&!Gs)if(q===null)ce.componentDidMount();else{var Ae=O.elementType===O.type?q.memoizedProps:hf(O.type,q.memoizedProps);ce.componentDidUpdate(Ae,q.memoizedState,ce.__reactInternalSnapshotBeforeUpdate)}var _e=O.updateQueue;_e!==null&&K2(O,_e,ce);break;case 3:var G=O.updateQueue;if(G!==null){if(q=null,O.child!==null)switch(O.child.tag){case 5:q=O.child.stateNode;break;case 1:q=O.child.stateNode}K2(O,G,q)}break;case 5:var H=O.stateNode;if(q===null&&O.flags&4){q=H;var e=O.memoizedProps;switch(O.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&q.focus();break;case"img":e.src&&(q.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(O.memoizedState===null){var g=O.alternate;if(g!==null){var R=g.memoizedState;if(R!==null){var i=R.dehydrated;i!==null&&u0(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xa(163))}Gs||O.flags&512&&sb(O)}catch(C){_o(O,O.return,C)}}if(O===A){za=null;break}if(q=O.sibling,q!==null){q.return=O.return,za=q;break}za=O.return}}function h4(A){for(;za!==null;){var O=za;if(O===A){za=null;break}var q=O.sibling;if(q!==null){q.return=O.return,za=q;break}za=O.return}}function v4(A){for(;za!==null;){var O=za;try{switch(O.tag){case 0:case 11:case 15:var q=O.return;try{Zy(4,O)}catch(e){_o(O,q,e)}break;case 1:var ce=O.stateNode;if(typeof ce.componentDidMount=="function"){var Ae=O.return;try{ce.componentDidMount()}catch(e){_o(O,Ae,e)}}var _e=O.return;try{sb(O)}catch(e){_o(O,_e,e)}break;case 5:var G=O.return;try{sb(O)}catch(e){_o(O,G,e)}}}catch(e){_o(O,O.return,e)}if(O===A){za=null;break}var H=O.sibling;if(H!==null){H.return=O.return,za=H;break}za=O.return}}var gL=Math.ceil,wy=zc.ReactCurrentDispatcher,v3=zc.ReactCurrentOwner,Ru=zc.ReactCurrentBatchConfig,Ri=0,fs=null,Jo=null,Ls=0,Hl=0,Cd=Nh(0),ns=0,b0=null,Rv=0,Ky=0,d3=0,Qp=null,Al=null,p3=0,Gd=1/0,Mc=null,Ty=!1,fb=null,Dh=null,Rg=!1,Ch=null,Ay=0,qp=0,cb=null,Xg=-1,Zg=0;function nl(){return Ri&6?Vo():Xg!==-1?Xg:Xg=Vo()}function _h(A){return A.mode&1?Ri&2&&Ls!==0?Ls&-Ls:qC.transition!==null?(Zg===0&&(Zg=u5()),Zg):(A=Vi,A!==0||(A=window.event,A=A===void 0?16:g5(A.type)),A):1}function yf(A,O,q,ce){if(50<qp)throw qp=0,cb=null,Error(xa(185));L0(A,q,ce),(!(Ri&2)||A!==fs)&&(A===fs&&(!(Ri&2)&&(Ky|=q),ns===4&&Sh(A,Ls)),Cl(A,ce),q===1&&Ri===0&&!(O.mode&1)&&(Gd=Vo()+500,Yy&&Uh()))}function Cl(A,O){var q=A.callbackNode;qE(A,O);var ce=oy(A,A===fs?Ls:0);if(ce===0)q!==null&&T2(q),A.callbackNode=null,A.callbackPriority=0;else if(O=ce&-ce,A.callbackPriority!==O){if(q!=null&&T2(q),O===1)A.tag===0?QC(d4.bind(null,A)):z5(d4.bind(null,A)),ZC(function(){!(Ri&6)&&Uh()}),q=null;else{switch(f5(ce)){case 1:q=Vb;break;case 4:q=s5;break;case 16:q=iy;break;case 536870912:q=l5;break;default:q=iy}q=D6(q,E6.bind(null,A))}A.callbackPriority=O,A.callbackNode=q}}function E6(A,O){if(Xg=-1,Zg=0,Ri&6)throw Error(xa(327));var q=A.callbackNode;if(Dd()&&A.callbackNode!==q)return null;var ce=oy(A,A===fs?Ls:0);if(ce===0)return null;if(ce&30||ce&A.expiredLanes||O)O=Sy(A,ce);else{O=ce;var Ae=Ri;Ri|=2;var _e=L6();(fs!==A||Ls!==O)&&(Mc=null,Gd=Vo()+500,Mv(A,O));do try{xL();break}catch(H){C6(A,H)}while(!0);e3(),wy.current=_e,Ri=Ae,Jo!==null?O=0:(fs=null,Ls=0,O=ns)}if(O!==0){if(O===2&&(Ae=Bx(A),Ae!==0&&(ce=Ae,O=hb(A,Ae))),O===1)throw q=b0,Mv(A,0),Sh(A,ce),Cl(A,Vo()),q;if(O===6)Sh(A,ce);else{if(Ae=A.current.alternate,!(ce&30)&&!yL(Ae)&&(O=Sy(A,ce),O===2&&(_e=Bx(A),_e!==0&&(ce=_e,O=hb(A,_e))),O===1))throw q=b0,Mv(A,0),Sh(A,ce),Cl(A,Vo()),q;switch(A.finishedWork=Ae,A.finishedLanes=ce,O){case 0:case 1:throw Error(xa(345));case 2:mv(A,Al,Mc);break;case 3:if(Sh(A,ce),(ce&130023424)===ce&&(O=p3+500-Vo(),10<O)){if(oy(A,0)!==0)break;if(Ae=A.suspendedLanes,(Ae&ce)!==ce){nl(),A.pingedLanes|=A.suspendedLanes&Ae;break}A.timeoutHandle=jx(mv.bind(null,A,Al,Mc),O);break}mv(A,Al,Mc);break;case 4:if(Sh(A,ce),(ce&4194240)===ce)break;for(O=A.eventTimes,Ae=-1;0<ce;){var G=31-gf(ce);_e=1<<G,G=O[G],G>Ae&&(Ae=G),ce&=~_e}if(ce=Ae,ce=Vo()-ce,ce=(120>ce?120:480>ce?480:1080>ce?1080:1920>ce?1920:3e3>ce?3e3:4320>ce?4320:1960*gL(ce/1960))-ce,10<ce){A.timeoutHandle=jx(mv.bind(null,A,Al,Mc),ce);break}mv(A,Al,Mc);break;case 5:mv(A,Al,Mc);break;default:throw Error(xa(329))}}}return Cl(A,Vo()),A.callbackNode===q?E6.bind(null,A):null}function hb(A,O){var q=Qp;return A.current.memoizedState.isDehydrated&&(Mv(A,O).flags|=256),A=Sy(A,O),A!==2&&(O=Al,Al=q,O!==null&&vb(O)),A}function vb(A){Al===null?Al=A:Al.push.apply(Al,A)}function yL(A){for(var O=A;;){if(O.flags&16384){var q=O.updateQueue;if(q!==null&&(q=q.stores,q!==null))for(var ce=0;ce<q.length;ce++){var Ae=q[ce],_e=Ae.getSnapshot;Ae=Ae.value;try{if(!mf(_e(),Ae))return!1}catch{return!1}}}if(q=O.child,O.subtreeFlags&16384&&q!==null)q.return=O,O=q;else{if(O===A)break;for(;O.sibling===null;){if(O.return===null||O.return===A)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}function Sh(A,O){for(O&=~d3,O&=~Ky,A.suspendedLanes|=O,A.pingedLanes&=~O,A=A.expirationTimes;0<O;){var q=31-gf(O),ce=1<<q;A[q]=-1,O&=~ce}}function d4(A){if(Ri&6)throw Error(xa(327));Dd();var O=oy(A,0);if(!(O&1))return Cl(A,Vo()),null;var q=Sy(A,O);if(A.tag!==0&&q===2){var ce=Bx(A);ce!==0&&(O=ce,q=hb(A,ce))}if(q===1)throw q=b0,Mv(A,0),Sh(A,O),Cl(A,Vo()),q;if(q===6)throw Error(xa(345));return A.finishedWork=A.current.alternate,A.finishedLanes=O,mv(A,Al,Mc),Cl(A,Vo()),null}function g3(A,O){var q=Ri;Ri|=1;try{return A(O)}finally{Ri=q,Ri===0&&(Gd=Vo()+500,Yy&&Uh())}}function Iv(A){Ch!==null&&Ch.tag===0&&!(Ri&6)&&Dd();var O=Ri;Ri|=1;var q=Ru.transition,ce=Vi;try{if(Ru.transition=null,Vi=1,A)return A()}finally{Vi=ce,Ru.transition=q,Ri=O,!(Ri&6)&&Uh()}}function y3(){Hl=Cd.current,oo(Cd)}function Mv(A,O){A.finishedWork=null,A.finishedLanes=0;var q=A.timeoutHandle;if(q!==-1&&(A.timeoutHandle=-1,XC(q)),Jo!==null)for(q=Jo.return;q!==null;){var ce=q;switch(Jb(ce),ce.tag){case 1:ce=ce.type.childContextTypes,ce!=null&&cy();break;case 3:Vd(),oo(Ml),oo(Ws),o3();break;case 5:i3(ce);break;case 4:Vd();break;case 13:oo(Mo);break;case 19:oo(Mo);break;case 10:t3(ce.type._context);break;case 22:case 23:y3()}q=q.return}if(fs=A,Jo=A=zh(A.current,null),Ls=Hl=O,ns=0,b0=null,d3=Ky=Rv=0,Al=Qp=null,Tv!==null){for(O=0;O<Tv.length;O++)if(q=Tv[O],ce=q.interleaved,ce!==null){q.interleaved=null;var Ae=ce.next,_e=q.pending;if(_e!==null){var G=_e.next;_e.next=Ae,ce.next=G}q.pending=ce}Tv=null}return A}function C6(A,O){do{var q=Jo;try{if(e3(),Wg.current=by,xy){for(var ce=Eo.memoizedState;ce!==null;){var Ae=ce.queue;Ae!==null&&(Ae.pending=null),ce=ce.next}xy=!1}if(Pv=0,us=rs=Eo=null,$p=!1,y0=0,v3.current=null,q===null||q.return===null){ns=1,b0=O,Jo=null;break}e:{var _e=A,G=q.return,H=q,e=O;if(O=Ls,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,R=H,i=R.tag;if(!(R.mode&1)&&(i===0||i===11||i===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var S=t4(G);if(S!==null){S.flags&=-257,r4(S,G,H,_e,O),S.mode&1&&e4(_e,g,O),O=S,e=g;var v=O.updateQueue;if(v===null){var d=new Set;d.add(e),O.updateQueue=d}else v.add(e);break e}else{if(!(O&1)){e4(_e,g,O),m3();break e}e=Error(xa(426))}}else if(vo&&H.mode&1){var r=t4(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),r4(r,G,H,_e,O),Qb(Hd(e,H));break e}}_e=e=Hd(e,H),ns!==4&&(ns=2),Qp===null?Qp=[_e]:Qp.push(_e),_e=G;do{switch(_e.tag){case 3:_e.flags|=65536,O&=-O,_e.lanes|=O;var t=f6(_e,e,O);Z2(_e,t);break e;case 1:H=e;var a=_e.type,n=_e.stateNode;if(!(_e.flags&128)&&(typeof a.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Dh===null||!Dh.has(n)))){_e.flags|=65536,O&=-O,_e.lanes|=O;var f=c6(_e,H,O);Z2(_e,f);break e}}_e=_e.return}while(_e!==null)}R6(q)}catch(u){O=u,Jo===q&&q!==null&&(Jo=q=q.return);continue}break}while(!0)}function L6(){var A=wy.current;return wy.current=by,A===null?by:A}function m3(){(ns===0||ns===3||ns===2)&&(ns=4),fs===null||!(Rv&268435455)&&!(Ky&268435455)||Sh(fs,Ls)}function Sy(A,O){var q=Ri;Ri|=2;var ce=L6();(fs!==A||Ls!==O)&&(Mc=null,Mv(A,O));do try{mL();break}catch(Ae){C6(A,Ae)}while(!0);if(e3(),Ri=q,wy.current=ce,Jo!==null)throw Error(xa(261));return fs=null,Ls=0,ns}function mL(){for(;Jo!==null;)P6(Jo)}function xL(){for(;Jo!==null&&!WE();)P6(Jo)}function P6(A){var O=k6(A.alternate,A,Hl);A.memoizedProps=A.pendingProps,O===null?R6(A):Jo=O,v3.current=null}function R6(A){var O=A;do{var q=O.alternate;if(A=O.return,O.flags&32768){if(q=hL(q,O),q!==null){q.flags&=32767,Jo=q;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{ns=6,Jo=null;return}}else if(q=cL(q,O,Hl),q!==null){Jo=q;return}if(O=O.sibling,O!==null){Jo=O;return}Jo=O=A}while(O!==null);ns===0&&(ns=5)}function mv(A,O,q){var ce=Vi,Ae=Ru.transition;try{Ru.transition=null,Vi=1,bL(A,O,q,ce)}finally{Ru.transition=Ae,Vi=ce}return null}function bL(A,O,q,ce){do Dd();while(Ch!==null);if(Ri&6)throw Error(xa(327));q=A.finishedWork;var Ae=A.finishedLanes;if(q===null)return null;if(A.finishedWork=null,A.finishedLanes=0,q===A.current)throw Error(xa(177));A.callbackNode=null,A.callbackPriority=0;var _e=q.lanes|q.childLanes;if(eC(A,_e),A===fs&&(Jo=fs=null,Ls=0),!(q.subtreeFlags&2064)&&!(q.flags&2064)||Rg||(Rg=!0,D6(iy,function(){return Dd(),null})),_e=(q.flags&15990)!==0,q.subtreeFlags&15990||_e){_e=Ru.transition,Ru.transition=null;var G=Vi;Vi=1;var H=Ri;Ri|=4,v3.current=null,dL(A,q),S6(q,A),UC(Wx),sy=!!Gx,Wx=Gx=null,A.current=q,pL(q),YE(),Ri=H,Vi=G,Ru.transition=_e}else A.current=q;if(Rg&&(Rg=!1,Ch=A,Ay=Ae),_e=A.pendingLanes,_e===0&&(Dh=null),ZE(q.stateNode),Cl(A,Vo()),O!==null)for(ce=A.onRecoverableError,q=0;q<O.length;q++)Ae=O[q],ce(Ae.value,{componentStack:Ae.stack,digest:Ae.digest});if(Ty)throw Ty=!1,A=fb,fb=null,A;return Ay&1&&A.tag!==0&&Dd(),_e=A.pendingLanes,_e&1?A===cb?qp++:(qp=0,cb=A):qp=0,Uh(),null}function Dd(){if(Ch!==null){var A=f5(Ay),O=Ru.transition,q=Vi;try{if(Ru.transition=null,Vi=16>A?16:A,Ch===null)var ce=!1;else{if(A=Ch,Ch=null,Ay=0,Ri&6)throw Error(xa(331));var Ae=Ri;for(Ri|=4,za=A.current;za!==null;){var _e=za,G=_e.child;if(za.flags&16){var H=_e.deletions;if(H!==null){for(var e=0;e<H.length;e++){var g=H[e];for(za=g;za!==null;){var R=za;switch(R.tag){case 0:case 11:case 15:Jp(8,R,_e)}var i=R.child;if(i!==null)i.return=R,za=i;else for(;za!==null;){R=za;var C=R.sibling,S=R.return;if(w6(R),R===g){za=null;break}if(C!==null){C.return=S,za=C;break}za=S}}}var v=_e.alternate;if(v!==null){var d=v.child;if(d!==null){v.child=null;do{var r=d.sibling;d.sibling=null,d=r}while(d!==null)}}za=_e}}if(_e.subtreeFlags&2064&&G!==null)G.return=_e,za=G;else e:for(;za!==null;){if(_e=za,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Jp(9,_e,_e.return)}var t=_e.sibling;if(t!==null){t.return=_e.return,za=t;break e}za=_e.return}}var a=A.current;for(za=a;za!==null;){G=za;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,za=n;else e:for(G=a;za!==null;){if(H=za,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:Zy(9,H)}}catch(u){_o(H,H.return,u)}if(H===G){za=null;break e}var f=H.sibling;if(f!==null){f.return=H.return,za=f;break e}za=H.return}}if(Ri=Ae,Uh(),jf&&typeof jf.onPostCommitFiberRoot=="function")try{jf.onPostCommitFiberRoot(Uy,A)}catch{}ce=!0}return ce}finally{Vi=q,Ru.transition=O}}return!1}function p4(A,O,q){O=Hd(q,O),O=f6(A,O,1),A=kh(A,O,1),O=nl(),A!==null&&(L0(A,1,O),Cl(A,O))}function _o(A,O,q){if(A.tag===3)p4(A,A,q);else for(;O!==null;){if(O.tag===3){p4(O,A,q);break}else if(O.tag===1){var ce=O.stateNode;if(typeof O.type.getDerivedStateFromError=="function"||typeof ce.componentDidCatch=="function"&&(Dh===null||!Dh.has(ce))){A=Hd(q,A),A=c6(O,A,1),O=kh(O,A,1),A=nl(),O!==null&&(L0(O,1,A),Cl(O,A));break}}O=O.return}}function wL(A,O,q){var ce=A.pingCache;ce!==null&&ce.delete(O),O=nl(),A.pingedLanes|=A.suspendedLanes&q,fs===A&&(Ls&q)===q&&(ns===4||ns===3&&(Ls&130023424)===Ls&&500>Vo()-p3?Mv(A,0):d3|=q),Cl(A,O)}function I6(A,O){O===0&&(A.mode&1?(O=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):O=1);var q=nl();A=kc(A,O),A!==null&&(L0(A,O,q),Cl(A,q))}function TL(A){var O=A.memoizedState,q=0;O!==null&&(q=O.retryLane),I6(A,q)}function AL(A,O){var q=0;switch(A.tag){case 13:var ce=A.stateNode,Ae=A.memoizedState;Ae!==null&&(q=Ae.retryLane);break;case 19:ce=A.stateNode;break;default:throw Error(xa(314))}ce!==null&&ce.delete(O),I6(A,q)}var k6;k6=function(A,O,q){if(A!==null)if(A.memoizedProps!==O.pendingProps||Ml.current)Sl=!0;else{if(!(A.lanes&q)&&!(O.flags&128))return Sl=!1,fL(A,O,q);Sl=!!(A.flags&131072)}else Sl=!1,vo&&O.flags&1048576&&O5(O,dy,O.index);switch(O.lanes=0,O.tag){case 2:var ce=O.type;jg(A,O),A=O.pendingProps;var Ae=Bd(O,Ws.current);kd(O,q),Ae=l3(null,O,ce,A,Ae,q);var _e=u3();return O.flags|=1,typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0?(O.tag=1,O.memoizedState=null,O.updateQueue=null,El(ce)?(_e=!0,hy(O)):_e=!1,O.memoizedState=Ae.state!==null&&Ae.state!==void 0?Ae.state:null,n3(O),Ae.updater=Xy,O.stateNode=Ae,Ae._reactInternals=O,qx(O,ce,A,q),O=rb(null,O,ce,!0,_e,q)):(O.tag=0,vo&&_e&&$b(O),rl(null,O,Ae,q),O=O.child),O;case 16:ce=O.elementType;e:{switch(jg(A,O),A=O.pendingProps,Ae=ce._init,ce=Ae(ce._payload),O.type=ce,Ae=O.tag=ML(ce),A=hf(ce,A),Ae){case 0:O=tb(null,O,ce,A,q);break e;case 1:O=i4(null,O,ce,A,q);break e;case 11:O=n4(null,O,ce,A,q);break e;case 14:O=a4(null,O,ce,hf(ce.type,A),q);break e}throw Error(xa(306,ce,""))}return O;case 0:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:hf(ce,Ae),tb(A,O,ce,Ae,q);case 1:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:hf(ce,Ae),i4(A,O,ce,Ae,q);case 3:e:{if(p6(O),A===null)throw Error(xa(387));ce=O.pendingProps,_e=O.memoizedState,Ae=_e.element,H5(A,O),yy(O,ce,null,q);var G=O.memoizedState;if(ce=G.element,_e.isDehydrated)if(_e={element:ce,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},O.updateQueue.baseState=_e,O.memoizedState=_e,O.flags&256){Ae=Hd(Error(xa(423)),O),O=o4(A,O,ce,q,Ae);break e}else if(ce!==Ae){Ae=Hd(Error(xa(424)),O),O=o4(A,O,ce,q,Ae);break e}else for(Wl=Ih(O.stateNode.containerInfo.firstChild),jl=O,vo=!0,df=null,q=U5(O,null,ce,q),O.child=q;q;)q.flags=q.flags&-3|4096,q=q.sibling;else{if(Nd(),ce===Ae){O=Dc(A,O,q);break e}rl(A,O,ce,q)}O=O.child}return O;case 5:return G5(O),A===null&&$x(O),ce=O.type,Ae=O.pendingProps,_e=A!==null?A.memoizedProps:null,G=Ae.children,Yx(ce,Ae)?G=null:_e!==null&&Yx(ce,_e)&&(O.flags|=32),d6(A,O),rl(A,O,G,q),O.child;case 6:return A===null&&$x(O),null;case 13:return g6(A,O,q);case 4:return a3(O,O.stateNode.containerInfo),ce=O.pendingProps,A===null?O.child=Ud(O,null,ce,q):rl(A,O,ce,q),O.child;case 11:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:hf(ce,Ae),n4(A,O,ce,Ae,q);case 7:return rl(A,O,O.pendingProps,q),O.child;case 8:return rl(A,O,O.pendingProps.children,q),O.child;case 12:return rl(A,O,O.pendingProps.children,q),O.child;case 10:e:{if(ce=O.type._context,Ae=O.pendingProps,_e=O.memoizedProps,G=Ae.value,qi(py,ce._currentValue),ce._currentValue=G,_e!==null)if(mf(_e.value,G)){if(_e.children===Ae.children&&!Ml.current){O=Dc(A,O,q);break e}}else for(_e=O.child,_e!==null&&(_e.return=O);_e!==null;){var H=_e.dependencies;if(H!==null){G=_e.child;for(var e=H.firstContext;e!==null;){if(e.context===ce){if(_e.tag===1){e=Pc(-1,q&-q),e.tag=2;var g=_e.updateQueue;if(g!==null){g=g.shared;var R=g.pending;R===null?e.next=e:(e.next=R.next,R.next=e),g.pending=e}}_e.lanes|=q,e=_e.alternate,e!==null&&(e.lanes|=q),Jx(_e.return,q,O),H.lanes|=q;break}e=e.next}}else if(_e.tag===10)G=_e.type===O.type?null:_e.child;else if(_e.tag===18){if(G=_e.return,G===null)throw Error(xa(341));G.lanes|=q,H=G.alternate,H!==null&&(H.lanes|=q),Jx(G,q,O),G=_e.sibling}else G=_e.child;if(G!==null)G.return=_e;else for(G=_e;G!==null;){if(G===O){G=null;break}if(_e=G.sibling,_e!==null){_e.return=G.return,G=_e;break}G=G.return}_e=G}rl(A,O,Ae.children,q),O=O.child}return O;case 9:return Ae=O.type,ce=O.pendingProps.children,kd(O,q),Ae=Iu(Ae),ce=ce(Ae),O.flags|=1,rl(A,O,ce,q),O.child;case 14:return ce=O.type,Ae=hf(ce,O.pendingProps),Ae=hf(ce.type,Ae),a4(A,O,ce,Ae,q);case 15:return h6(A,O,O.type,O.pendingProps,q);case 17:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:hf(ce,Ae),jg(A,O),O.tag=1,El(ce)?(A=!0,hy(O)):A=!1,kd(O,q),u6(O,ce,Ae),qx(O,ce,Ae,q),rb(null,O,ce,!0,A,q);case 19:return y6(A,O,q);case 22:return v6(A,O,q)}throw Error(xa(156,O.tag))};function D6(A,O){return o5(A,O)}function SL(A,O,q,ce){this.tag=A,this.key=q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=O,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ce,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(A,O,q,ce){return new SL(A,O,q,ce)}function x3(A){return A=A.prototype,!(!A||!A.isReactComponent)}function ML(A){if(typeof A=="function")return x3(A)?1:0;if(A!=null){if(A=A.$$typeof,A===Bb)return 11;if(A===Nb)return 14}return 2}function zh(A,O){var q=A.alternate;return q===null?(q=Pu(A.tag,O,A.key,A.mode),q.elementType=A.elementType,q.type=A.type,q.stateNode=A.stateNode,q.alternate=A,A.alternate=q):(q.pendingProps=O,q.type=A.type,q.flags=0,q.subtreeFlags=0,q.deletions=null),q.flags=A.flags&14680064,q.childLanes=A.childLanes,q.lanes=A.lanes,q.child=A.child,q.memoizedProps=A.memoizedProps,q.memoizedState=A.memoizedState,q.updateQueue=A.updateQueue,O=A.dependencies,q.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext},q.sibling=A.sibling,q.index=A.index,q.ref=A.ref,q}function Kg(A,O,q,ce,Ae,_e){var G=2;if(ce=A,typeof A=="function")x3(A)&&(G=1);else if(typeof A=="string")G=5;else e:switch(A){case yd:return Ev(q.children,Ae,_e,O);case Fb:G=8,Ae|=8;break;case Ax:return A=Pu(12,q,O,Ae|2),A.elementType=Ax,A.lanes=_e,A;case Sx:return A=Pu(13,q,O,Ae),A.elementType=Sx,A.lanes=_e,A;case Mx:return A=Pu(19,q,O,Ae),A.elementType=Mx,A.lanes=_e,A;case GT:return $y(q,Ae,_e,O);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case VT:G=10;break e;case HT:G=9;break e;case Bb:G=11;break e;case Nb:G=14;break e;case wh:G=16,ce=null;break e}throw Error(xa(130,A==null?A:typeof A,""))}return O=Pu(G,q,O,Ae),O.elementType=A,O.type=ce,O.lanes=_e,O}function Ev(A,O,q,ce){return A=Pu(7,A,ce,O),A.lanes=q,A}function $y(A,O,q,ce){return A=Pu(22,A,ce,O),A.elementType=GT,A.lanes=q,A.stateNode={isHidden:!1},A}function tx(A,O,q){return A=Pu(6,A,null,O),A.lanes=q,A}function rx(A,O,q){return O=Pu(4,A.children!==null?A.children:[],A.key,O),O.lanes=q,O.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},O}function EL(A,O,q,ce,Ae){this.tag=O,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O1(0),this.expirationTimes=O1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O1(0),this.identifierPrefix=ce,this.onRecoverableError=Ae,this.mutableSourceEagerHydrationData=null}function b3(A,O,q,ce,Ae,_e,G,H,e){return A=new EL(A,O,q,H,e),O===1?(O=1,_e===!0&&(O|=8)):O=0,_e=Pu(3,null,null,O),A.current=_e,_e.stateNode=A,_e.memoizedState={element:ce,isDehydrated:q,cache:null,transitions:null,pendingSuspenseBoundaries:null},n3(_e),A}function CL(A,O,q){var ce=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gd,key:ce==null?null:""+ce,children:A,containerInfo:O,implementation:q}}function _6(A){if(!A)return Fh;A=A._reactInternals;e:{if(_v(A)!==A||A.tag!==1)throw Error(xa(170));var O=A;do{switch(O.tag){case 3:O=O.stateNode.context;break e;case 1:if(El(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break e}}O=O.return}while(O!==null);throw Error(xa(171))}if(A.tag===1){var q=A.type;if(El(q))return _5(A,q,O)}return O}function z6(A,O,q,ce,Ae,_e,G,H,e){return A=b3(q,ce,!0,A,Ae,_e,G,H,e),A.context=_6(null),q=A.current,ce=nl(),Ae=_h(q),_e=Pc(ce,Ae),_e.callback=O??null,kh(q,_e,Ae),A.current.lanes=Ae,L0(A,Ae,ce),Cl(A,ce),A}function Jy(A,O,q,ce){var Ae=O.current,_e=nl(),G=_h(Ae);return q=_6(q),O.context===null?O.context=q:O.pendingContext=q,O=Pc(_e,G),O.payload={element:A},ce=ce===void 0?null:ce,ce!==null&&(O.callback=ce),A=kh(Ae,O,G),A!==null&&(yf(A,Ae,G,_e),Gg(A,Ae,G)),G}function My(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function g4(A,O){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var q=A.retryLane;A.retryLane=q!==0&&q<O?q:O}}function w3(A,O){g4(A,O),(A=A.alternate)&&g4(A,O)}function LL(){return null}var O6=typeof reportError=="function"?reportError:function(A){console.error(A)};function T3(A){this._internalRoot=A}Qy.prototype.render=T3.prototype.render=function(A){var O=this._internalRoot;if(O===null)throw Error(xa(409));Jy(A,O,null,null)};Qy.prototype.unmount=T3.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var O=A.containerInfo;Iv(function(){Jy(null,A,null,null)}),O[Ic]=null}};function Qy(A){this._internalRoot=A}Qy.prototype.unstable_scheduleHydration=function(A){if(A){var O=v5();A={blockedOn:null,target:A,priority:O};for(var q=0;q<Ah.length&&O!==0&&O<Ah[q].priority;q++);Ah.splice(q,0,A),q===0&&p5(A)}};function A3(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function qy(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function y4(){}function PL(A,O,q,ce,Ae){if(Ae){if(typeof ce=="function"){var _e=ce;ce=function(){var g=My(G);_e.call(g)}}var G=z6(O,ce,A,0,null,!1,!1,"",y4);return A._reactRootContainer=G,A[Ic]=G.current,h0(A.nodeType===8?A.parentNode:A),Iv(),G}for(;Ae=A.lastChild;)A.removeChild(Ae);if(typeof ce=="function"){var H=ce;ce=function(){var g=My(e);H.call(g)}}var e=b3(A,0,!1,null,null,!1,!1,"",y4);return A._reactRootContainer=e,A[Ic]=e.current,h0(A.nodeType===8?A.parentNode:A),Iv(function(){Jy(O,e,q,ce)}),e}function em(A,O,q,ce,Ae){var _e=q._reactRootContainer;if(_e){var G=_e;if(typeof Ae=="function"){var H=Ae;Ae=function(){var e=My(G);H.call(e)}}Jy(O,G,A,Ae)}else G=PL(q,O,A,Ae,ce);return My(G)}c5=function(A){switch(A.tag){case 3:var O=A.stateNode;if(O.current.memoizedState.isDehydrated){var q=Vp(O.pendingLanes);q!==0&&(Hb(O,q|1),Cl(O,Vo()),!(Ri&6)&&(Gd=Vo()+500,Uh()))}break;case 13:Iv(function(){var ce=kc(A,1);if(ce!==null){var Ae=nl();yf(ce,A,1,Ae)}}),w3(A,1)}};Gb=function(A){if(A.tag===13){var O=kc(A,134217728);if(O!==null){var q=nl();yf(O,A,134217728,q)}w3(A,134217728)}};h5=function(A){if(A.tag===13){var O=_h(A),q=kc(A,O);if(q!==null){var ce=nl();yf(q,A,O,ce)}w3(A,O)}};v5=function(){return Vi};d5=function(A,O){var q=Vi;try{return Vi=A,O()}finally{Vi=q}};zx=function(A,O,q){switch(O){case"input":if(Lx(A,q),O=q.name,q.type==="radio"&&O!=null){for(q=A;q.parentNode;)q=q.parentNode;for(q=q.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),O=0;O<q.length;O++){var ce=q[O];if(ce!==A&&ce.form===A.form){var Ae=Wy(ce);if(!Ae)throw Error(xa(90));YT(ce),Lx(ce,Ae)}}}break;case"textarea":XT(A,q);break;case"select":O=q.value,O!=null&&Ld(A,!!q.multiple,O,!1)}};e5=g3;t5=Iv;var RL={usingClientEntryPoint:!1,Events:[R0,wd,Wy,QT,qT,g3]},Rp={findFiberByHostInstance:wv,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IL={bundleType:Rp.bundleType,version:Rp.version,rendererPackageName:Rp.rendererPackageName,rendererConfig:Rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zc.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=a5(A),A===null?null:A.stateNode},findFiberByHostInstance:Rp.findFiberByHostInstance||LL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{Uy=Ig.inject(IL),jf=Ig}catch{}}$l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RL;$l.createPortal=function(A,O){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A3(O))throw Error(xa(200));return CL(A,O,null,q)};$l.createRoot=function(A,O){if(!A3(A))throw Error(xa(299));var q=!1,ce="",Ae=O6;return O!=null&&(O.unstable_strictMode===!0&&(q=!0),O.identifierPrefix!==void 0&&(ce=O.identifierPrefix),O.onRecoverableError!==void 0&&(Ae=O.onRecoverableError)),O=b3(A,1,!1,null,null,q,!1,ce,Ae),A[Ic]=O.current,h0(A.nodeType===8?A.parentNode:A),new T3(O)};$l.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var O=A._reactInternals;if(O===void 0)throw typeof A.render=="function"?Error(xa(188)):(A=Object.keys(A).join(","),Error(xa(268,A)));return A=a5(O),A=A===null?null:A.stateNode,A};$l.flushSync=function(A){return Iv(A)};$l.hydrate=function(A,O,q){if(!qy(O))throw Error(xa(200));return em(null,A,O,!0,q)};$l.hydrateRoot=function(A,O,q){if(!A3(A))throw Error(xa(405));var ce=q!=null&&q.hydratedSources||null,Ae=!1,_e="",G=O6;if(q!=null&&(q.unstable_strictMode===!0&&(Ae=!0),q.identifierPrefix!==void 0&&(_e=q.identifierPrefix),q.onRecoverableError!==void 0&&(G=q.onRecoverableError)),O=z6(O,null,A,1,q??null,Ae,!1,_e,G),A[Ic]=O.current,h0(A),ce)for(A=0;A<ce.length;A++)q=ce[A],Ae=q._getVersion,Ae=Ae(q._source),O.mutableSourceEagerHydrationData==null?O.mutableSourceEagerHydrationData=[q,Ae]:O.mutableSourceEagerHydrationData.push(q,Ae);return new Qy(O)};$l.render=function(A,O,q){if(!qy(O))throw Error(xa(200));return em(null,A,O,!1,q)};$l.unmountComponentAtNode=function(A){if(!qy(A))throw Error(xa(40));return A._reactRootContainer?(Iv(function(){em(null,null,A,!1,function(){A._reactRootContainer=null,A[Ic]=null})}),!0):!1};$l.unstable_batchedUpdates=g3;$l.unstable_renderSubtreeIntoContainer=function(A,O,q,ce){if(!qy(q))throw Error(xa(200));if(A==null||A._reactInternals===void 0)throw Error(xa(38));return em(A,O,q,!1,ce)};$l.version="18.3.1-next-f1338f8080-20240426";function F6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F6)}catch(A){console.error(A)}}F6(),FT.exports=$l;var S3=FT.exports;const kg=Pb(S3);var m4=S3;wx.createRoot=m4.createRoot,wx.hydrateRoot=m4.hydrateRoot;var x4={},nx={},ax=34,Ip=10,ix=13;function B6(A){return new Function("d","return {"+A.map(function(O,q){return JSON.stringify(O)+": d["+q+'] || ""'}).join(",")+"}")}function kL(A,O){var q=B6(A);return function(ce,Ae){return O(q(ce),Ae,A)}}function b4(A){var O=Object.create(null),q=[];return A.forEach(function(ce){for(var Ae in ce)Ae in O||q.push(O[Ae]=Ae)}),q}function Tl(A,O){var q=A+"",ce=q.length;return ce<O?new Array(O-ce+1).join(0)+q:q}function DL(A){return A<0?"-"+Tl(-A,6):A>9999?"+"+Tl(A,6):Tl(A,4)}function _L(A){var O=A.getUTCHours(),q=A.getUTCMinutes(),ce=A.getUTCSeconds(),Ae=A.getUTCMilliseconds();return isNaN(A)?"Invalid Date":DL(A.getUTCFullYear())+"-"+Tl(A.getUTCMonth()+1,2)+"-"+Tl(A.getUTCDate(),2)+(Ae?"T"+Tl(O,2)+":"+Tl(q,2)+":"+Tl(ce,2)+"."+Tl(Ae,3)+"Z":ce?"T"+Tl(O,2)+":"+Tl(q,2)+":"+Tl(ce,2)+"Z":q||O?"T"+Tl(O,2)+":"+Tl(q,2)+"Z":"")}function zL(A){var O=new RegExp('["'+A+`
\r]`),q=A.charCodeAt(0);function ce(i,C){var S,v,d=Ae(i,function(r,t){if(S)return S(r,t-1);v=r,S=C?kL(r,C):B6(r)});return d.columns=v||[],d}function Ae(i,C){var S=[],v=i.length,d=0,r=0,t,a=v<=0,n=!1;i.charCodeAt(v-1)===Ip&&--v,i.charCodeAt(v-1)===ix&&--v;function f(){if(a)return nx;if(n)return n=!1,x4;var l,y=d,h;if(i.charCodeAt(y)===ax){for(;d++<v&&i.charCodeAt(d)!==ax||i.charCodeAt(++d)===ax;);return(l=d)>=v?a=!0:(h=i.charCodeAt(d++))===Ip?n=!0:h===ix&&(n=!0,i.charCodeAt(d)===Ip&&++d),i.slice(y+1,l-1).replace(/""/g,'"')}for(;d<v;){if((h=i.charCodeAt(l=d++))===Ip)n=!0;else if(h===ix)n=!0,i.charCodeAt(d)===Ip&&++d;else if(h!==q)continue;return i.slice(y,l)}return a=!0,i.slice(y,v)}for(;(t=f())!==nx;){for(var u=[];t!==x4&&t!==nx;)u.push(t),t=f();C&&(u=C(u,r++))==null||S.push(u)}return S}function _e(i,C){return i.map(function(S){return C.map(function(v){return R(S[v])}).join(A)})}function G(i,C){return C==null&&(C=b4(i)),[C.map(R).join(A)].concat(_e(i,C)).join(`
`)}function H(i,C){return C==null&&(C=b4(i)),_e(i,C).join(`
`)}function e(i){return i.map(g).join(`
`)}function g(i){return i.map(R).join(A)}function R(i){return i==null?"":i instanceof Date?_L(i):O.test(i+="")?'"'+i.replace(/"/g,'""')+'"':i}return{parse:ce,parseRows:Ae,format:G,formatBody:H,formatRows:e,formatRow:g,formatValue:R}}var OL=zL(","),FL=OL.parse;function BL(A){if(!A.ok)throw new Error(A.status+" "+A.statusText);return A.text()}function NL(A,O){return fetch(A,O).then(BL)}function UL(A){return function(O,q,ce){return arguments.length===2&&typeof q=="function"&&(ce=q,q=void 0),NL(O,q).then(function(Ae){return A(Ae,ce)})}}var w4=UL(FL);function Gp(A,O,q){this.k=A,this.x=O,this.y=q}Gp.prototype={constructor:Gp,scale:function(A){return A===1?this:new Gp(this.k*A,this.x,this.y)},translate:function(A,O){return A===0&O===0?this:new Gp(this.k,this.x+this.k*A,this.y+this.k*O)},apply:function(A){return[A[0]*this.k+this.x,A[1]*this.k+this.y]},applyX:function(A){return A*this.k+this.x},applyY:function(A){return A*this.k+this.y},invert:function(A){return[(A[0]-this.x)/this.k,(A[1]-this.y)/this.k]},invertX:function(A){return(A-this.x)/this.k},invertY:function(A){return(A-this.y)/this.k},rescaleX:function(A){return A.copy().domain(A.range().map(this.invertX,this).map(A.invert,A))},rescaleY:function(A){return A.copy().domain(A.range().map(this.invertY,this).map(A.invert,A))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gp.prototype;const w0={black:"#000",white:"#fff"},ld={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ud={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},fd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},cd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},hd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},kp={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},VL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function kv(A){let O="https://mui.com/production-error/?code="+A;for(let q=1;q<arguments.length;q+=1)O+="&args[]="+encodeURIComponent(arguments[q]);return"Minified MUI error #"+A+"; visit "+O+" for the full message."}const HL=Object.freeze(Object.defineProperty({__proto__:null,default:kv},Symbol.toStringTag,{value:"Module"})),k0="$$material";function on(){return on=Object.assign?Object.assign.bind():function(A){for(var O=1;O<arguments.length;O++){var q=arguments[O];for(var ce in q)Object.prototype.hasOwnProperty.call(q,ce)&&(A[ce]=q[ce])}return A},on.apply(this,arguments)}function ja(A,O){if(A==null)return{};var q={};for(var ce in A)if(Object.prototype.hasOwnProperty.call(A,ce)){if(O.indexOf(ce)>=0)continue;q[ce]=A[ce]}return q}function N6(A){var O=Object.create(null);return function(q){return O[q]===void 0&&(O[q]=A(q)),O[q]}}var GL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,WL=N6(function(A){return GL.test(A)||A.charCodeAt(0)===111&&A.charCodeAt(1)===110&&A.charCodeAt(2)<91});function YL(A){if(A.sheet)return A.sheet;for(var O=0;O<document.styleSheets.length;O++)if(document.styleSheets[O].ownerNode===A)return document.styleSheets[O]}function jL(A){var O=document.createElement("style");return O.setAttribute("data-emotion",A.key),A.nonce!==void 0&&O.setAttribute("nonce",A.nonce),O.appendChild(document.createTextNode("")),O.setAttribute("data-s",""),O}var XL=function(){function A(q){var ce=this;this._insertTag=function(Ae){var _e;ce.tags.length===0?ce.insertionPoint?_e=ce.insertionPoint.nextSibling:ce.prepend?_e=ce.container.firstChild:_e=ce.before:_e=ce.tags[ce.tags.length-1].nextSibling,ce.container.insertBefore(Ae,_e),ce.tags.push(Ae)},this.isSpeedy=q.speedy===void 0?!0:q.speedy,this.tags=[],this.ctr=0,this.nonce=q.nonce,this.key=q.key,this.container=q.container,this.prepend=q.prepend,this.insertionPoint=q.insertionPoint,this.before=null}var O=A.prototype;return O.hydrate=function(ce){ce.forEach(this._insertTag)},O.insert=function(ce){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jL(this));var Ae=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=YL(Ae);try{_e.insertRule(ce,_e.cssRules.length)}catch{}}else Ae.appendChild(document.createTextNode(ce));this.ctr++},O.flush=function(){this.tags.forEach(function(ce){return ce.parentNode&&ce.parentNode.removeChild(ce)}),this.tags=[],this.ctr=0},A}(),Hs="-ms-",Ey="-moz-",zi="-webkit-",U6="comm",M3="rule",E3="decl",ZL="@import",V6="@keyframes",KL="@layer",$L=Math.abs,tm=String.fromCharCode,JL=Object.assign;function QL(A,O){return Cs(A,0)^45?(((O<<2^Cs(A,0))<<2^Cs(A,1))<<2^Cs(A,2))<<2^Cs(A,3):0}function H6(A){return A.trim()}function qL(A,O){return(A=O.exec(A))?A[0]:A}function Oi(A,O,q){return A.replace(O,q)}function db(A,O){return A.indexOf(O)}function Cs(A,O){return A.charCodeAt(O)|0}function T0(A,O,q){return A.slice(O,q)}function Vf(A){return A.length}function C3(A){return A.length}function Dg(A,O){return O.push(A),A}function eP(A,O){return A.map(O).join("")}var rm=1,Wd=1,G6=0,Ll=0,$o=0,$d="";function nm(A,O,q,ce,Ae,_e,G){return{value:A,root:O,parent:q,type:ce,props:Ae,children:_e,line:rm,column:Wd,length:G,return:""}}function Dp(A,O){return JL(nm("",null,null,"",null,null,0),A,{length:-A.length},O)}function tP(){return $o}function rP(){return $o=Ll>0?Cs($d,--Ll):0,Wd--,$o===10&&(Wd=1,rm--),$o}function Xl(){return $o=Ll<G6?Cs($d,Ll++):0,Wd++,$o===10&&(Wd=1,rm++),$o}function Zf(){return Cs($d,Ll)}function $g(){return Ll}function D0(A,O){return T0($d,A,O)}function A0(A){switch(A){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W6(A){return rm=Wd=1,G6=Vf($d=A),Ll=0,[]}function Y6(A){return $d="",A}function Jg(A){return H6(D0(Ll-1,pb(A===91?A+2:A===40?A+1:A)))}function nP(A){for(;($o=Zf())&&$o<33;)Xl();return A0(A)>2||A0($o)>3?"":" "}function aP(A,O){for(;--O&&Xl()&&!($o<48||$o>102||$o>57&&$o<65||$o>70&&$o<97););return D0(A,$g()+(O<6&&Zf()==32&&Xl()==32))}function pb(A){for(;Xl();)switch($o){case A:return Ll;case 34:case 39:A!==34&&A!==39&&pb($o);break;case 40:A===41&&pb(A);break;case 92:Xl();break}return Ll}function iP(A,O){for(;Xl()&&A+$o!==57;)if(A+$o===84&&Zf()===47)break;return"/*"+D0(O,Ll-1)+"*"+tm(A===47?A:Xl())}function oP(A){for(;!A0(Zf());)Xl();return D0(A,Ll)}function sP(A){return Y6(Qg("",null,null,null,[""],A=W6(A),0,[0],A))}function Qg(A,O,q,ce,Ae,_e,G,H,e){for(var g=0,R=0,i=G,C=0,S=0,v=0,d=1,r=1,t=1,a=0,n="",f=Ae,u=_e,l=ce,y=n;r;)switch(v=a,a=Xl()){case 40:if(v!=108&&Cs(y,i-1)==58){db(y+=Oi(Jg(a),"&","&\f"),"&\f")!=-1&&(t=-1);break}case 34:case 39:case 91:y+=Jg(a);break;case 9:case 10:case 13:case 32:y+=nP(v);break;case 92:y+=aP($g()-1,7);continue;case 47:switch(Zf()){case 42:case 47:Dg(lP(iP(Xl(),$g()),O,q),e);break;default:y+="/"}break;case 123*d:H[g++]=Vf(y)*t;case 125*d:case 59:case 0:switch(a){case 0:case 125:r=0;case 59+R:t==-1&&(y=Oi(y,/\f/g,"")),S>0&&Vf(y)-i&&Dg(S>32?A4(y+";",ce,q,i-1):A4(Oi(y," ","")+";",ce,q,i-2),e);break;case 59:y+=";";default:if(Dg(l=T4(y,O,q,g,R,Ae,H,n,f=[],u=[],i),_e),a===123)if(R===0)Qg(y,O,l,l,f,_e,i,H,u);else switch(C===99&&Cs(y,3)===110?100:C){case 100:case 108:case 109:case 115:Qg(A,l,l,ce&&Dg(T4(A,l,l,0,0,Ae,H,n,Ae,f=[],i),u),Ae,u,i,H,ce?f:u);break;default:Qg(y,l,l,l,[""],u,0,H,u)}}g=R=S=0,d=t=1,n=y="",i=G;break;case 58:i=1+Vf(y),S=v;default:if(d<1){if(a==123)--d;else if(a==125&&d++==0&&rP()==125)continue}switch(y+=tm(a),a*d){case 38:t=R>0?1:(y+="\f",-1);break;case 44:H[g++]=(Vf(y)-1)*t,t=1;break;case 64:Zf()===45&&(y+=Jg(Xl())),C=Zf(),R=i=Vf(n=y+=oP($g())),a++;break;case 45:v===45&&Vf(y)==2&&(d=0)}}return _e}function T4(A,O,q,ce,Ae,_e,G,H,e,g,R){for(var i=Ae-1,C=Ae===0?_e:[""],S=C3(C),v=0,d=0,r=0;v<ce;++v)for(var t=0,a=T0(A,i+1,i=$L(d=G[v])),n=A;t<S;++t)(n=H6(d>0?C[t]+" "+a:Oi(a,/&\f/g,C[t])))&&(e[r++]=n);return nm(A,O,q,Ae===0?M3:H,e,g,R)}function lP(A,O,q){return nm(A,O,q,U6,tm(tP()),T0(A,2,-2),0)}function A4(A,O,q,ce){return nm(A,O,q,E3,T0(A,0,ce),T0(A,ce+1,-1),ce)}function _d(A,O){for(var q="",ce=C3(A),Ae=0;Ae<ce;Ae++)q+=O(A[Ae],Ae,A,O)||"";return q}function uP(A,O,q,ce){switch(A.type){case KL:if(A.children.length)break;case ZL:case E3:return A.return=A.return||A.value;case U6:return"";case V6:return A.return=A.value+"{"+_d(A.children,ce)+"}";case M3:A.value=A.props.join(",")}return Vf(q=_d(A.children,ce))?A.return=A.value+"{"+q+"}":""}function fP(A){var O=C3(A);return function(q,ce,Ae,_e){for(var G="",H=0;H<O;H++)G+=A[H](q,ce,Ae,_e)||"";return G}}function cP(A){return function(O){O.root||(O=O.return)&&A(O)}}var hP=function(O,q,ce){for(var Ae=0,_e=0;Ae=_e,_e=Zf(),Ae===38&&_e===12&&(q[ce]=1),!A0(_e);)Xl();return D0(O,Ll)},vP=function(O,q){var ce=-1,Ae=44;do switch(A0(Ae)){case 0:Ae===38&&Zf()===12&&(q[ce]=1),O[ce]+=hP(Ll-1,q,ce);break;case 2:O[ce]+=Jg(Ae);break;case 4:if(Ae===44){O[++ce]=Zf()===58?"&\f":"",q[ce]=O[ce].length;break}default:O[ce]+=tm(Ae)}while(Ae=Xl());return O},dP=function(O,q){return Y6(vP(W6(O),q))},S4=new WeakMap,pP=function(O){if(!(O.type!=="rule"||!O.parent||O.length<1)){for(var q=O.value,ce=O.parent,Ae=O.column===ce.column&&O.line===ce.line;ce.type!=="rule";)if(ce=ce.parent,!ce)return;if(!(O.props.length===1&&q.charCodeAt(0)!==58&&!S4.get(ce))&&!Ae){S4.set(O,!0);for(var _e=[],G=dP(q,_e),H=ce.props,e=0,g=0;e<G.length;e++)for(var R=0;R<H.length;R++,g++)O.props[g]=_e[e]?G[e].replace(/&\f/g,H[R]):H[R]+" "+G[e]}}},gP=function(O){if(O.type==="decl"){var q=O.value;q.charCodeAt(0)===108&&q.charCodeAt(2)===98&&(O.return="",O.value="")}};function j6(A,O){switch(QL(A,O)){case 5103:return zi+"print-"+A+A;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zi+A+A;case 5349:case 4246:case 4810:case 6968:case 2756:return zi+A+Ey+A+Hs+A+A;case 6828:case 4268:return zi+A+Hs+A+A;case 6165:return zi+A+Hs+"flex-"+A+A;case 5187:return zi+A+Oi(A,/(\w+).+(:[^]+)/,zi+"box-$1$2"+Hs+"flex-$1$2")+A;case 5443:return zi+A+Hs+"flex-item-"+Oi(A,/flex-|-self/,"")+A;case 4675:return zi+A+Hs+"flex-line-pack"+Oi(A,/align-content|flex-|-self/,"")+A;case 5548:return zi+A+Hs+Oi(A,"shrink","negative")+A;case 5292:return zi+A+Hs+Oi(A,"basis","preferred-size")+A;case 6060:return zi+"box-"+Oi(A,"-grow","")+zi+A+Hs+Oi(A,"grow","positive")+A;case 4554:return zi+Oi(A,/([^-])(transform)/g,"$1"+zi+"$2")+A;case 6187:return Oi(Oi(Oi(A,/(zoom-|grab)/,zi+"$1"),/(image-set)/,zi+"$1"),A,"")+A;case 5495:case 3959:return Oi(A,/(image-set\([^]*)/,zi+"$1$`$1");case 4968:return Oi(Oi(A,/(.+:)(flex-)?(.*)/,zi+"box-pack:$3"+Hs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zi+A+A;case 4095:case 3583:case 4068:case 2532:return Oi(A,/(.+)-inline(.+)/,zi+"$1$2")+A;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vf(A)-1-O>6)switch(Cs(A,O+1)){case 109:if(Cs(A,O+4)!==45)break;case 102:return Oi(A,/(.+:)(.+)-([^]+)/,"$1"+zi+"$2-$3$1"+Ey+(Cs(A,O+3)==108?"$3":"$2-$3"))+A;case 115:return~db(A,"stretch")?j6(Oi(A,"stretch","fill-available"),O)+A:A}break;case 4949:if(Cs(A,O+1)!==115)break;case 6444:switch(Cs(A,Vf(A)-3-(~db(A,"!important")&&10))){case 107:return Oi(A,":",":"+zi)+A;case 101:return Oi(A,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zi+(Cs(A,14)===45?"inline-":"")+"box$3$1"+zi+"$2$3$1"+Hs+"$2box$3")+A}break;case 5936:switch(Cs(A,O+11)){case 114:return zi+A+Hs+Oi(A,/[svh]\w+-[tblr]{2}/,"tb")+A;case 108:return zi+A+Hs+Oi(A,/[svh]\w+-[tblr]{2}/,"tb-rl")+A;case 45:return zi+A+Hs+Oi(A,/[svh]\w+-[tblr]{2}/,"lr")+A}return zi+A+Hs+A+A}return A}var yP=function(O,q,ce,Ae){if(O.length>-1&&!O.return)switch(O.type){case E3:O.return=j6(O.value,O.length);break;case V6:return _d([Dp(O,{value:Oi(O.value,"@","@"+zi)})],Ae);case M3:if(O.length)return eP(O.props,function(_e){switch(qL(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _d([Dp(O,{props:[Oi(_e,/:(read-\w+)/,":"+Ey+"$1")]})],Ae);case"::placeholder":return _d([Dp(O,{props:[Oi(_e,/:(plac\w+)/,":"+zi+"input-$1")]}),Dp(O,{props:[Oi(_e,/:(plac\w+)/,":"+Ey+"$1")]}),Dp(O,{props:[Oi(_e,/:(plac\w+)/,Hs+"input-$1")]})],Ae)}return""})}},mP=[yP],X6=function(O){var q=O.key;if(q==="css"){var ce=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ce,function(d){var r=d.getAttribute("data-emotion");r.indexOf(" ")!==-1&&(document.head.appendChild(d),d.setAttribute("data-s",""))})}var Ae=O.stylisPlugins||mP,_e={},G,H=[];G=O.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+q+' "]'),function(d){for(var r=d.getAttribute("data-emotion").split(" "),t=1;t<r.length;t++)_e[r[t]]=!0;H.push(d)});var e,g=[pP,gP];{var R,i=[uP,cP(function(d){R.insert(d)})],C=fP(g.concat(Ae,i)),S=function(r){return _d(sP(r),C)};e=function(r,t,a,n){R=a,S(r?r+"{"+t.styles+"}":t.styles),n&&(v.inserted[t.name]=!0)}}var v={key:q,sheet:new XL({key:q,container:G,nonce:O.nonce,speedy:O.speedy,prepend:O.prepend,insertionPoint:O.insertionPoint}),nonce:O.nonce,inserted:_e,registered:{},insert:e};return v.sheet.hydrate(H),v},Z6={exports:{}},Hi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=typeof Symbol=="function"&&Symbol.for,L3=cs?Symbol.for("react.element"):60103,P3=cs?Symbol.for("react.portal"):60106,am=cs?Symbol.for("react.fragment"):60107,im=cs?Symbol.for("react.strict_mode"):60108,om=cs?Symbol.for("react.profiler"):60114,sm=cs?Symbol.for("react.provider"):60109,lm=cs?Symbol.for("react.context"):60110,R3=cs?Symbol.for("react.async_mode"):60111,um=cs?Symbol.for("react.concurrent_mode"):60111,fm=cs?Symbol.for("react.forward_ref"):60112,cm=cs?Symbol.for("react.suspense"):60113,xP=cs?Symbol.for("react.suspense_list"):60120,hm=cs?Symbol.for("react.memo"):60115,vm=cs?Symbol.for("react.lazy"):60116,bP=cs?Symbol.for("react.block"):60121,wP=cs?Symbol.for("react.fundamental"):60117,TP=cs?Symbol.for("react.responder"):60118,AP=cs?Symbol.for("react.scope"):60119;function Ql(A){if(typeof A=="object"&&A!==null){var O=A.$$typeof;switch(O){case L3:switch(A=A.type,A){case R3:case um:case am:case om:case im:case cm:return A;default:switch(A=A&&A.$$typeof,A){case lm:case fm:case vm:case hm:case sm:return A;default:return O}}case P3:return O}}}function K6(A){return Ql(A)===um}Hi.AsyncMode=R3;Hi.ConcurrentMode=um;Hi.ContextConsumer=lm;Hi.ContextProvider=sm;Hi.Element=L3;Hi.ForwardRef=fm;Hi.Fragment=am;Hi.Lazy=vm;Hi.Memo=hm;Hi.Portal=P3;Hi.Profiler=om;Hi.StrictMode=im;Hi.Suspense=cm;Hi.isAsyncMode=function(A){return K6(A)||Ql(A)===R3};Hi.isConcurrentMode=K6;Hi.isContextConsumer=function(A){return Ql(A)===lm};Hi.isContextProvider=function(A){return Ql(A)===sm};Hi.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===L3};Hi.isForwardRef=function(A){return Ql(A)===fm};Hi.isFragment=function(A){return Ql(A)===am};Hi.isLazy=function(A){return Ql(A)===vm};Hi.isMemo=function(A){return Ql(A)===hm};Hi.isPortal=function(A){return Ql(A)===P3};Hi.isProfiler=function(A){return Ql(A)===om};Hi.isStrictMode=function(A){return Ql(A)===im};Hi.isSuspense=function(A){return Ql(A)===cm};Hi.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===am||A===um||A===om||A===im||A===cm||A===xP||typeof A=="object"&&A!==null&&(A.$$typeof===vm||A.$$typeof===hm||A.$$typeof===sm||A.$$typeof===lm||A.$$typeof===fm||A.$$typeof===wP||A.$$typeof===TP||A.$$typeof===AP||A.$$typeof===bP)};Hi.typeOf=Ql;Z6.exports=Hi;var SP=Z6.exports,$6=SP,MP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J6={};J6[$6.ForwardRef]=MP;J6[$6.Memo]=EP;var CP=!0;function LP(A,O,q){var ce="";return q.split(" ").forEach(function(Ae){A[Ae]!==void 0?O.push(A[Ae]+";"):ce+=Ae+" "}),ce}var Q6=function(O,q,ce){var Ae=O.key+"-"+q.name;(ce===!1||CP===!1)&&O.registered[Ae]===void 0&&(O.registered[Ae]=q.styles)},q6=function(O,q,ce){Q6(O,q,ce);var Ae=O.key+"-"+q.name;if(O.inserted[q.name]===void 0){var _e=q;do O.insert(q===_e?"."+Ae:"",_e,O.sheet,!0),_e=_e.next;while(_e!==void 0)}};function PP(A){for(var O=0,q,ce=0,Ae=A.length;Ae>=4;++ce,Ae-=4)q=A.charCodeAt(ce)&255|(A.charCodeAt(++ce)&255)<<8|(A.charCodeAt(++ce)&255)<<16|(A.charCodeAt(++ce)&255)<<24,q=(q&65535)*1540483477+((q>>>16)*59797<<16),q^=q>>>24,O=(q&65535)*1540483477+((q>>>16)*59797<<16)^(O&65535)*1540483477+((O>>>16)*59797<<16);switch(Ae){case 3:O^=(A.charCodeAt(ce+2)&255)<<16;case 2:O^=(A.charCodeAt(ce+1)&255)<<8;case 1:O^=A.charCodeAt(ce)&255,O=(O&65535)*1540483477+((O>>>16)*59797<<16)}return O^=O>>>13,O=(O&65535)*1540483477+((O>>>16)*59797<<16),((O^O>>>15)>>>0).toString(36)}var RP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},IP=/[A-Z]|^ms/g,kP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eA=function(O){return O.charCodeAt(1)===45},M4=function(O){return O!=null&&typeof O!="boolean"},ox=N6(function(A){return eA(A)?A:A.replace(IP,"-$&").toLowerCase()}),E4=function(O,q){switch(O){case"animation":case"animationName":if(typeof q=="string")return q.replace(kP,function(ce,Ae,_e){return Hf={name:Ae,styles:_e,next:Hf},Ae})}return RP[O]!==1&&!eA(O)&&typeof q=="number"&&q!==0?q+"px":q};function S0(A,O,q){if(q==null)return"";if(q.__emotion_styles!==void 0)return q;switch(typeof q){case"boolean":return"";case"object":{if(q.anim===1)return Hf={name:q.name,styles:q.styles,next:Hf},q.name;if(q.styles!==void 0){var ce=q.next;if(ce!==void 0)for(;ce!==void 0;)Hf={name:ce.name,styles:ce.styles,next:Hf},ce=ce.next;var Ae=q.styles+";";return Ae}return DP(A,O,q)}case"function":{if(A!==void 0){var _e=Hf,G=q(A);return Hf=_e,S0(A,O,G)}break}}if(O==null)return q;var H=O[q];return H!==void 0?H:q}function DP(A,O,q){var ce="";if(Array.isArray(q))for(var Ae=0;Ae<q.length;Ae++)ce+=S0(A,O,q[Ae])+";";else for(var _e in q){var G=q[_e];if(typeof G!="object")O!=null&&O[G]!==void 0?ce+=_e+"{"+O[G]+"}":M4(G)&&(ce+=ox(_e)+":"+E4(_e,G)+";");else if(Array.isArray(G)&&typeof G[0]=="string"&&(O==null||O[G[0]]===void 0))for(var H=0;H<G.length;H++)M4(G[H])&&(ce+=ox(_e)+":"+E4(_e,G[H])+";");else{var e=S0(A,O,G);switch(_e){case"animation":case"animationName":{ce+=ox(_e)+":"+e+";";break}default:ce+=_e+"{"+e+"}"}}}return ce}var C4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hf,I3=function(O,q,ce){if(O.length===1&&typeof O[0]=="object"&&O[0]!==null&&O[0].styles!==void 0)return O[0];var Ae=!0,_e="";Hf=void 0;var G=O[0];G==null||G.raw===void 0?(Ae=!1,_e+=S0(ce,q,G)):_e+=G[0];for(var H=1;H<O.length;H++)_e+=S0(ce,q,O[H]),Ae&&(_e+=G[H]);C4.lastIndex=0;for(var e="",g;(g=C4.exec(_e))!==null;)e+="-"+g[1];var R=PP(_e)+e;return{name:R,styles:_e,next:Hf}},_P=function(O){return O()},tA=bx.useInsertionEffect?bx.useInsertionEffect:!1,zP=tA||_P,L4=tA||Wr.useLayoutEffect,rA=Wr.createContext(typeof HTMLElement<"u"?X6({key:"css"}):null),OP=rA.Provider,nA=function(O){return Wr.forwardRef(function(q,ce){var Ae=Wr.useContext(rA);return O(q,Ae,ce)})},dm=Wr.createContext({}),sx={exports:{}},P4;function aA(){return P4||(P4=1,function(A){function O(){return A.exports=O=Object.assign?Object.assign.bind():function(q){for(var ce=1;ce<arguments.length;ce++){var Ae=arguments[ce];for(var _e in Ae)Object.prototype.hasOwnProperty.call(Ae,_e)&&(q[_e]=Ae[_e])}return q},A.exports.__esModule=!0,A.exports.default=A.exports,O.apply(this,arguments)}A.exports=O,A.exports.__esModule=!0,A.exports.default=A.exports}(sx)),sx.exports}aA();var FP=nA(function(A,O){var q=A.styles,ce=I3([q],void 0,Wr.useContext(dm)),Ae=Wr.useRef();return L4(function(){var _e=O.key+"-global",G=new O.sheet.constructor({key:_e,nonce:O.sheet.nonce,container:O.sheet.container,speedy:O.sheet.isSpeedy}),H=!1,e=document.querySelector('style[data-emotion="'+_e+" "+ce.name+'"]');return O.sheet.tags.length&&(G.before=O.sheet.tags[0]),e!==null&&(H=!0,e.setAttribute("data-emotion",_e),G.hydrate([e])),Ae.current=[G,H],function(){G.flush()}},[O]),L4(function(){var _e=Ae.current,G=_e[0],H=_e[1];if(H){_e[1]=!1;return}if(ce.next!==void 0&&q6(O,ce.next,!0),G.tags.length){var e=G.tags[G.tags.length-1].nextElementSibling;G.before=e,G.flush()}O.insert("",ce,G,!1)},[O,ce.name]),null});function iA(){for(var A=arguments.length,O=new Array(A),q=0;q<A;q++)O[q]=arguments[q];return I3(O)}var pm=function(){var O=iA.apply(void 0,arguments),q="animation-"+O.name;return{name:q,styles:"@keyframes "+q+"{"+O.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},BP=WL,NP=function(O){return O!=="theme"},R4=function(O){return typeof O=="string"&&O.charCodeAt(0)>96?BP:NP},I4=function(O,q,ce){var Ae;if(q){var _e=q.shouldForwardProp;Ae=O.__emotion_forwardProp&&_e?function(G){return O.__emotion_forwardProp(G)&&_e(G)}:_e}return typeof Ae!="function"&&ce&&(Ae=O.__emotion_forwardProp),Ae},UP=function(O){var q=O.cache,ce=O.serialized,Ae=O.isStringTag;return Q6(q,ce,Ae),zP(function(){return q6(q,ce,Ae)}),null},VP=function A(O,q){var ce=O.__emotion_real===O,Ae=ce&&O.__emotion_base||O,_e,G;q!==void 0&&(_e=q.label,G=q.target);var H=I4(O,q,ce),e=H||R4(Ae),g=!e("as");return function(){var R=arguments,i=ce&&O.__emotion_styles!==void 0?O.__emotion_styles.slice(0):[];if(_e!==void 0&&i.push("label:"+_e+";"),R[0]==null||R[0].raw===void 0)i.push.apply(i,R);else{i.push(R[0][0]);for(var C=R.length,S=1;S<C;S++)i.push(R[S],R[0][S])}var v=nA(function(d,r,t){var a=g&&d.as||Ae,n="",f=[],u=d;if(d.theme==null){u={};for(var l in d)u[l]=d[l];u.theme=Wr.useContext(dm)}typeof d.className=="string"?n=LP(r.registered,f,d.className):d.className!=null&&(n=d.className+" ");var y=I3(i.concat(f),r.registered,u);n+=r.key+"-"+y.name,G!==void 0&&(n+=" "+G);var h=g&&H===void 0?R4(a):e,T={};for(var c in d)g&&c==="as"||h(c)&&(T[c]=d[c]);return T.className=n,T.ref=t,Wr.createElement(Wr.Fragment,null,Wr.createElement(UP,{cache:r,serialized:y,isStringTag:typeof a=="string"}),Wr.createElement(a,T))});return v.displayName=_e!==void 0?_e:"Styled("+(typeof Ae=="string"?Ae:Ae.displayName||Ae.name||"Component")+")",v.defaultProps=O.defaultProps,v.__emotion_real=v,v.__emotion_base=Ae,v.__emotion_styles=i,v.__emotion_forwardProp=H,Object.defineProperty(v,"toString",{value:function(){return"."+G}}),v.withComponent=function(d,r){return A(d,on({},q,r,{shouldForwardProp:I4(v,r,!0)})).apply(void 0,i)},v}},HP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gb=VP.bind();HP.forEach(function(A){gb[A]=gb(A)});var oA={exports:{}},GP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WP=GP,YP=WP;function sA(){}function lA(){}lA.resetWarningCache=sA;var jP=function(){function A(ce,Ae,_e,G,H,e){if(e!==YP){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}A.isRequired=A;function O(){return A}var q={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:O,element:A,elementType:A,instanceOf:O,node:A,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:lA,resetWarningCache:sA};return q.PropTypes=q,q};oA.exports=jP();var XP=oA.exports;let yb;typeof document=="object"&&(yb=X6({key:"css",prepend:!0}));function ZP(A){const{injectFirst:O,children:q}=A;return O&&yb?xn.jsx(OP,{value:yb,children:q}):q}function KP(A){return A==null||Object.keys(A).length===0}function uA(A){const{styles:O,defaultTheme:q={}}=A,ce=typeof O=="function"?Ae=>O(KP(Ae)?q:Ae):O;return xn.jsx(FP,{styles:ce})}function fA(A,O){return gb(A,O)}const $P=(A,O)=>{Array.isArray(A.__emotion_styles)&&(A.__emotion_styles=O(A.__emotion_styles))},JP=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:uA,StyledEngineProvider:ZP,ThemeContext:dm,css:iA,default:fA,internal_processStyles:$P,keyframes:pm},Symbol.toStringTag,{value:"Module"}));function Mh(A){if(typeof A!="object"||A===null)return!1;const O=Object.getPrototypeOf(A);return(O===null||O===Object.prototype||Object.getPrototypeOf(O)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)}function cA(A){if(!Mh(A))return A;const O={};return Object.keys(A).forEach(q=>{O[q]=cA(A[q])}),O}function Zl(A,O,q={clone:!0}){const ce=q.clone?on({},A):A;return Mh(A)&&Mh(O)&&Object.keys(O).forEach(Ae=>{Ae!=="__proto__"&&(Mh(O[Ae])&&Ae in A&&Mh(A[Ae])?ce[Ae]=Zl(A[Ae],O[Ae],q):q.clone?ce[Ae]=Mh(O[Ae])?cA(O[Ae]):O[Ae]:ce[Ae]=O[Ae])}),ce}const QP=Object.freeze(Object.defineProperty({__proto__:null,default:Zl,isPlainObject:Mh},Symbol.toStringTag,{value:"Module"})),qP=["values","unit","step"],e7=A=>{const O=Object.keys(A).map(q=>({key:q,val:A[q]}))||[];return O.sort((q,ce)=>q.val-ce.val),O.reduce((q,ce)=>on({},q,{[ce.key]:ce.val}),{})};function hA(A){const{values:O={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:q="px",step:ce=5}=A,Ae=ja(A,qP),_e=e7(O),G=Object.keys(_e);function H(C){return`@media (min-width:${typeof O[C]=="number"?O[C]:C}${q})`}function e(C){return`@media (max-width:${(typeof O[C]=="number"?O[C]:C)-ce/100}${q})`}function g(C,S){const v=G.indexOf(S);return`@media (min-width:${typeof O[C]=="number"?O[C]:C}${q}) and (max-width:${(v!==-1&&typeof O[G[v]]=="number"?O[G[v]]:S)-ce/100}${q})`}function R(C){return G.indexOf(C)+1<G.length?g(C,G[G.indexOf(C)+1]):H(C)}function i(C){const S=G.indexOf(C);return S===0?H(G[1]):S===G.length-1?e(G[S]):g(C,G[G.indexOf(C)+1]).replace("@media","@media not all and")}return on({keys:G,values:_e,up:H,down:e,between:g,only:R,not:i,unit:q},Ae)}const t7={borderRadius:4};function e0(A,O){return O?Zl(A,O,{clone:!1}):A}const k3={xs:0,sm:600,md:900,lg:1200,xl:1536},k4={keys:["xs","sm","md","lg","xl"],up:A=>`@media (min-width:${k3[A]}px)`};function Du(A,O,q){const ce=A.theme||{};if(Array.isArray(O)){const _e=ce.breakpoints||k4;return O.reduce((G,H,e)=>(G[_e.up(_e.keys[e])]=q(O[e]),G),{})}if(typeof O=="object"){const _e=ce.breakpoints||k4;return Object.keys(O).reduce((G,H)=>{if(Object.keys(_e.values||k3).indexOf(H)!==-1){const e=_e.up(H);G[e]=q(O[H],H)}else{const e=H;G[e]=O[e]}return G},{})}return q(O)}function r7(A={}){var O;return((O=A.keys)==null?void 0:O.reduce((ce,Ae)=>{const _e=A.up(Ae);return ce[_e]={},ce},{}))||{}}function n7(A,O){return A.reduce((q,ce)=>{const Ae=q[ce];return(!Ae||Object.keys(Ae).length===0)&&delete q[ce],q},O)}function a7(A,O){if(typeof A!="object")return{};const q={},ce=Object.keys(O);return Array.isArray(A)?ce.forEach((Ae,_e)=>{_e<A.length&&(q[Ae]=!0)}):ce.forEach(Ae=>{A[Ae]!=null&&(q[Ae]=!0)}),q}function gm({values:A,breakpoints:O,base:q}){const ce=q||a7(A,O),Ae=Object.keys(ce);if(Ae.length===0)return A;let _e;return Ae.reduce((G,H,e)=>(Array.isArray(A)?(G[H]=A[e]!=null?A[e]:A[_e],_e=e):typeof A=="object"?(G[H]=A[H]!=null?A[H]:A[_e],_e=H):G[H]=A,G),{})}function ei(A){if(typeof A!="string")throw new Error(kv(7));return A.charAt(0).toUpperCase()+A.slice(1)}const i7=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"}));function ym(A,O,q=!0){if(!O||typeof O!="string")return null;if(A&&A.vars&&q){const ce=`vars.${O}`.split(".").reduce((Ae,_e)=>Ae&&Ae[_e]?Ae[_e]:null,A);if(ce!=null)return ce}return O.split(".").reduce((ce,Ae)=>ce&&ce[Ae]!=null?ce[Ae]:null,A)}function Cy(A,O,q,ce=q){let Ae;return typeof A=="function"?Ae=A(q):Array.isArray(A)?Ae=A[q]||ce:Ae=ym(A,q)||ce,O&&(Ae=O(Ae,ce,A)),Ae}function Ho(A){const{prop:O,cssProperty:q=A.prop,themeKey:ce,transform:Ae}=A,_e=G=>{if(G[O]==null)return null;const H=G[O],e=G.theme,g=ym(e,ce)||{};return Du(G,H,i=>{let C=Cy(g,Ae,i);return i===C&&typeof i=="string"&&(C=Cy(g,Ae,`${O}${i==="default"?"":ei(i)}`,i)),q===!1?C:{[q]:C}})};return _e.propTypes={},_e.filterProps=[O],_e}function o7(A){const O={};return q=>(O[q]===void 0&&(O[q]=A(q)),O[q])}const s7={m:"margin",p:"padding"},l7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u7=o7(A=>{if(A.length>2)if(D4[A])A=D4[A];else return[A];const[O,q]=A.split(""),ce=s7[O],Ae=l7[q]||"";return Array.isArray(Ae)?Ae.map(_e=>ce+_e):[ce+Ae]}),D3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...D3,..._3];function _0(A,O,q,ce){var Ae;const _e=(Ae=ym(A,O,!1))!=null?Ae:q;return typeof _e=="number"?G=>typeof G=="string"?G:_e*G:Array.isArray(_e)?G=>typeof G=="string"?G:_e[G]:typeof _e=="function"?_e:()=>{}}function vA(A){return _0(A,"spacing",8)}function z0(A,O){if(typeof O=="string"||O==null)return O;const q=Math.abs(O),ce=A(q);return O>=0?ce:typeof ce=="number"?-ce:`-${ce}`}function f7(A,O){return q=>A.reduce((ce,Ae)=>(ce[Ae]=z0(O,q),ce),{})}function c7(A,O,q,ce){if(O.indexOf(q)===-1)return null;const Ae=u7(q),_e=f7(Ae,ce),G=A[q];return Du(A,G,_e)}function dA(A,O){const q=vA(A.theme);return Object.keys(A).map(ce=>c7(A,O,ce,q)).reduce(e0,{})}function ko(A){return dA(A,D3)}ko.propTypes={};ko.filterProps=D3;function Do(A){return dA(A,_3)}Do.propTypes={};Do.filterProps=_3;function h7(A=8){if(A.mui)return A;const O=vA({spacing:A}),q=(...ce)=>(ce.length===0?[1]:ce).map(_e=>{const G=O(_e);return typeof G=="number"?`${G}px`:G}).join(" ");return q.mui=!0,q}function mm(...A){const O=A.reduce((ce,Ae)=>(Ae.filterProps.forEach(_e=>{ce[_e]=Ae}),ce),{}),q=ce=>Object.keys(ce).reduce((Ae,_e)=>O[_e]?e0(Ae,O[_e](ce)):Ae,{});return q.propTypes={},q.filterProps=A.reduce((ce,Ae)=>ce.concat(Ae.filterProps),[]),q}function Lu(A){return typeof A!="number"?A:`${A}px solid`}function zu(A,O){return Ho({prop:A,themeKey:"borders",transform:O})}const v7=zu("border",Lu),d7=zu("borderTop",Lu),p7=zu("borderRight",Lu),g7=zu("borderBottom",Lu),y7=zu("borderLeft",Lu),m7=zu("borderColor"),x7=zu("borderTopColor"),b7=zu("borderRightColor"),w7=zu("borderBottomColor"),T7=zu("borderLeftColor"),A7=zu("outline",Lu),S7=zu("outlineColor"),xm=A=>{if(A.borderRadius!==void 0&&A.borderRadius!==null){const O=_0(A.theme,"shape.borderRadius",4),q=ce=>({borderRadius:z0(O,ce)});return Du(A,A.borderRadius,q)}return null};xm.propTypes={};xm.filterProps=["borderRadius"];mm(v7,d7,p7,g7,y7,m7,x7,b7,w7,T7,xm,A7,S7);const bm=A=>{if(A.gap!==void 0&&A.gap!==null){const O=_0(A.theme,"spacing",8),q=ce=>({gap:z0(O,ce)});return Du(A,A.gap,q)}return null};bm.propTypes={};bm.filterProps=["gap"];const wm=A=>{if(A.columnGap!==void 0&&A.columnGap!==null){const O=_0(A.theme,"spacing",8),q=ce=>({columnGap:z0(O,ce)});return Du(A,A.columnGap,q)}return null};wm.propTypes={};wm.filterProps=["columnGap"];const Tm=A=>{if(A.rowGap!==void 0&&A.rowGap!==null){const O=_0(A.theme,"spacing",8),q=ce=>({rowGap:z0(O,ce)});return Du(A,A.rowGap,q)}return null};Tm.propTypes={};Tm.filterProps=["rowGap"];const M7=Ho({prop:"gridColumn"}),E7=Ho({prop:"gridRow"}),C7=Ho({prop:"gridAutoFlow"}),L7=Ho({prop:"gridAutoColumns"}),P7=Ho({prop:"gridAutoRows"}),R7=Ho({prop:"gridTemplateColumns"}),I7=Ho({prop:"gridTemplateRows"}),k7=Ho({prop:"gridTemplateAreas"}),D7=Ho({prop:"gridArea"});mm(bm,wm,Tm,M7,E7,C7,L7,P7,R7,I7,k7,D7);function zd(A,O){return O==="grey"?O:A}const _7=Ho({prop:"color",themeKey:"palette",transform:zd}),z7=Ho({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zd}),O7=Ho({prop:"backgroundColor",themeKey:"palette",transform:zd});mm(_7,z7,O7);function Gl(A){return A<=1&&A!==0?`${A*100}%`:A}const F7=Ho({prop:"width",transform:Gl}),z3=A=>{if(A.maxWidth!==void 0&&A.maxWidth!==null){const O=q=>{var ce,Ae;const _e=((ce=A.theme)==null||(ce=ce.breakpoints)==null||(ce=ce.values)==null?void 0:ce[q])||k3[q];return _e?((Ae=A.theme)==null||(Ae=Ae.breakpoints)==null?void 0:Ae.unit)!=="px"?{maxWidth:`${_e}${A.theme.breakpoints.unit}`}:{maxWidth:_e}:{maxWidth:Gl(q)}};return Du(A,A.maxWidth,O)}return null};z3.filterProps=["maxWidth"];const B7=Ho({prop:"minWidth",transform:Gl}),N7=Ho({prop:"height",transform:Gl}),U7=Ho({prop:"maxHeight",transform:Gl}),V7=Ho({prop:"minHeight",transform:Gl});Ho({prop:"size",cssProperty:"width",transform:Gl});Ho({prop:"size",cssProperty:"height",transform:Gl});const H7=Ho({prop:"boxSizing"});mm(F7,z3,B7,N7,U7,V7,H7);const O0={border:{themeKey:"borders",transform:Lu},borderTop:{themeKey:"borders",transform:Lu},borderRight:{themeKey:"borders",transform:Lu},borderBottom:{themeKey:"borders",transform:Lu},borderLeft:{themeKey:"borders",transform:Lu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xm},color:{themeKey:"palette",transform:zd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zd},backgroundColor:{themeKey:"palette",transform:zd},p:{style:Do},pt:{style:Do},pr:{style:Do},pb:{style:Do},pl:{style:Do},px:{style:Do},py:{style:Do},padding:{style:Do},paddingTop:{style:Do},paddingRight:{style:Do},paddingBottom:{style:Do},paddingLeft:{style:Do},paddingX:{style:Do},paddingY:{style:Do},paddingInline:{style:Do},paddingInlineStart:{style:Do},paddingInlineEnd:{style:Do},paddingBlock:{style:Do},paddingBlockStart:{style:Do},paddingBlockEnd:{style:Do},m:{style:ko},mt:{style:ko},mr:{style:ko},mb:{style:ko},ml:{style:ko},mx:{style:ko},my:{style:ko},margin:{style:ko},marginTop:{style:ko},marginRight:{style:ko},marginBottom:{style:ko},marginLeft:{style:ko},marginX:{style:ko},marginY:{style:ko},marginInline:{style:ko},marginInlineStart:{style:ko},marginInlineEnd:{style:ko},marginBlock:{style:ko},marginBlockStart:{style:ko},marginBlockEnd:{style:ko},displayPrint:{cssProperty:!1,transform:A=>({"@media print":{display:A}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bm},rowGap:{style:Tm},columnGap:{style:wm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gl},maxWidth:{style:z3},minWidth:{transform:Gl},height:{transform:Gl},maxHeight:{transform:Gl},minHeight:{transform:Gl},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function G7(...A){const O=A.reduce((ce,Ae)=>ce.concat(Object.keys(Ae)),[]),q=new Set(O);return A.every(ce=>q.size===Object.keys(ce).length)}function W7(A,O){return typeof A=="function"?A(O):A}function pA(){function A(q,ce,Ae,_e){const G={[q]:ce,theme:Ae},H=_e[q];if(!H)return{[q]:ce};const{cssProperty:e=q,themeKey:g,transform:R,style:i}=H;if(ce==null)return null;if(g==="typography"&&ce==="inherit")return{[q]:ce};const C=ym(Ae,g)||{};return i?i(G):Du(G,ce,v=>{let d=Cy(C,R,v);return v===d&&typeof v=="string"&&(d=Cy(C,R,`${q}${v==="default"?"":ei(v)}`,v)),e===!1?d:{[e]:d}})}function O(q){var ce;const{sx:Ae,theme:_e={}}=q||{};if(!Ae)return null;const G=(ce=_e.unstable_sxConfig)!=null?ce:O0;function H(e){let g=e;if(typeof e=="function")g=e(_e);else if(typeof e!="object")return e;if(!g)return null;const R=r7(_e.breakpoints),i=Object.keys(R);let C=R;return Object.keys(g).forEach(S=>{const v=W7(g[S],_e);if(v!=null)if(typeof v=="object")if(G[S])C=e0(C,A(S,v,_e,G));else{const d=Du({theme:_e},v,r=>({[S]:r}));G7(d,v)?C[S]=O({sx:v,theme:_e}):C=e0(C,d)}else C=e0(C,A(S,v,_e,G))}),n7(i,C)}return Array.isArray(Ae)?Ae.map(H):H(Ae)}return O}const F0=pA();F0.filterProps=["sx"];function gA(A,O){const q=this;return q.vars&&typeof q.getColorSchemeSelector=="function"?{[q.getColorSchemeSelector(A).replace(/(\[[^\]]+\])/,"*:where($1)")]:O}:q.palette.mode===A?O:{}}const Y7=["breakpoints","palette","spacing","shape"];function O3(A={},...O){const{breakpoints:q={},palette:ce={},spacing:Ae,shape:_e={}}=A,G=ja(A,Y7),H=hA(q),e=h7(Ae);let g=Zl({breakpoints:H,direction:"ltr",components:{},palette:on({mode:"light"},ce),spacing:e,shape:on({},t7,_e)},G);return g.applyStyles=gA,g=O.reduce((R,i)=>Zl(R,i),g),g.unstable_sxConfig=on({},O0,G==null?void 0:G.unstable_sxConfig),g.unstable_sx=function(i){return F0({sx:i,theme:this})},g}const j7=Object.freeze(Object.defineProperty({__proto__:null,default:O3,private_createBreakpoints:hA,unstable_applyStyles:gA},Symbol.toStringTag,{value:"Module"}));function X7(A){return Object.keys(A).length===0}function Z7(A=null){const O=Wr.useContext(dm);return!O||X7(O)?A:O}const K7=O3();function Am(A=K7){return Z7(A)}function $7({styles:A,themeId:O,defaultTheme:q={}}){const ce=Am(q),Ae=typeof A=="function"?A(O&&ce[O]||ce):A;return xn.jsx(uA,{styles:Ae})}const J7=["sx"],Q7=A=>{var O,q;const ce={systemProps:{},otherProps:{}},Ae=(O=A==null||(q=A.theme)==null?void 0:q.unstable_sxConfig)!=null?O:O0;return Object.keys(A).forEach(_e=>{Ae[_e]?ce.systemProps[_e]=A[_e]:ce.otherProps[_e]=A[_e]}),ce};function Sm(A){const{sx:O}=A,q=ja(A,J7),{systemProps:ce,otherProps:Ae}=Q7(q);let _e;return Array.isArray(O)?_e=[ce,...O]:typeof O=="function"?_e=(...G)=>{const H=O(...G);return Mh(H)?on({},ce,H):ce}:_e=on({},ce,O),on({},Ae,{sx:_e})}const q7=Object.freeze(Object.defineProperty({__proto__:null,default:F0,extendSxProp:Sm,unstable_createStyleFunctionSx:pA,unstable_defaultSxConfig:O0},Symbol.toStringTag,{value:"Module"})),_4=A=>A,e9=()=>{let A=_4;return{configure(O){A=O},generate(O){return A(O)},reset(){A=_4}}},F3=e9();function yA(A){var O,q,ce="";if(typeof A=="string"||typeof A=="number")ce+=A;else if(typeof A=="object")if(Array.isArray(A)){var Ae=A.length;for(O=0;O<Ae;O++)A[O]&&(q=yA(A[O]))&&(ce&&(ce+=" "),ce+=q)}else for(q in A)A[q]&&(ce&&(ce+=" "),ce+=q);return ce}function Xa(){for(var A,O,q=0,ce="",Ae=arguments.length;q<Ae;q++)(A=arguments[q])&&(O=yA(A))&&(ce&&(ce+=" "),ce+=O);return ce}const t9=["className","component"];function r9(A={}){const{themeId:O,defaultTheme:q,defaultClassName:ce="MuiBox-root",generateClassName:Ae}=A,_e=fA("div",{shouldForwardProp:H=>H!=="theme"&&H!=="sx"&&H!=="as"})(F0);return Wr.forwardRef(function(e,g){const R=Am(q),i=Sm(e),{className:C,component:S="div"}=i,v=ja(i,t9);return xn.jsx(_e,on({as:S,ref:g,className:Xa(C,Ae?Ae(ce):ce),theme:O&&R[O]||R},v))})}const n9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function bi(A,O,q="Mui"){const ce=n9[O];return ce?`${q}-${ce}`:`${F3.generate(A)}-${O}`}function pi(A,O,q="Mui"){const ce={};return O.forEach(Ae=>{ce[Ae]=bi(A,Ae,q)}),ce}var mA={exports:{}},Gi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3=Symbol.for("react.element"),N3=Symbol.for("react.portal"),Mm=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),Lm=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),a9=Symbol.for("react.server_context"),Rm=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),Dm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),i9=Symbol.for("react.offscreen"),xA;xA=Symbol.for("react.module.reference");function Ou(A){if(typeof A=="object"&&A!==null){var O=A.$$typeof;switch(O){case B3:switch(A=A.type,A){case Mm:case Cm:case Em:case Im:case km:return A;default:switch(A=A&&A.$$typeof,A){case a9:case Pm:case Rm:case _m:case Dm:case Lm:return A;default:return O}}case N3:return O}}}Gi.ContextConsumer=Pm;Gi.ContextProvider=Lm;Gi.Element=B3;Gi.ForwardRef=Rm;Gi.Fragment=Mm;Gi.Lazy=_m;Gi.Memo=Dm;Gi.Portal=N3;Gi.Profiler=Cm;Gi.StrictMode=Em;Gi.Suspense=Im;Gi.SuspenseList=km;Gi.isAsyncMode=function(){return!1};Gi.isConcurrentMode=function(){return!1};Gi.isContextConsumer=function(A){return Ou(A)===Pm};Gi.isContextProvider=function(A){return Ou(A)===Lm};Gi.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===B3};Gi.isForwardRef=function(A){return Ou(A)===Rm};Gi.isFragment=function(A){return Ou(A)===Mm};Gi.isLazy=function(A){return Ou(A)===_m};Gi.isMemo=function(A){return Ou(A)===Dm};Gi.isPortal=function(A){return Ou(A)===N3};Gi.isProfiler=function(A){return Ou(A)===Cm};Gi.isStrictMode=function(A){return Ou(A)===Em};Gi.isSuspense=function(A){return Ou(A)===Im};Gi.isSuspenseList=function(A){return Ou(A)===km};Gi.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===Mm||A===Cm||A===Em||A===Im||A===km||A===i9||typeof A=="object"&&A!==null&&(A.$$typeof===_m||A.$$typeof===Dm||A.$$typeof===Lm||A.$$typeof===Pm||A.$$typeof===Rm||A.$$typeof===xA||A.getModuleId!==void 0)};Gi.typeOf=Ou;mA.exports=Gi;var z4=mA.exports;const o9=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function bA(A){const O=`${A}`.match(o9);return O&&O[1]||""}function wA(A,O=""){return A.displayName||A.name||bA(A)||O}function O4(A,O,q){const ce=wA(O);return A.displayName||(ce!==""?`${q}(${ce})`:q)}function s9(A){if(A!=null){if(typeof A=="string")return A;if(typeof A=="function")return wA(A,"Component");if(typeof A=="object")switch(A.$$typeof){case z4.ForwardRef:return O4(A,A.render,"ForwardRef");case z4.Memo:return O4(A,A.type,"memo");default:return}}}const l9=Object.freeze(Object.defineProperty({__proto__:null,default:s9,getFunctionName:bA},Symbol.toStringTag,{value:"Module"}));function TA(A,O){const q=on({},O);return Object.keys(A).forEach(ce=>{if(ce.toString().match(/^(components|slots)$/))q[ce]=on({},A[ce],q[ce]);else if(ce.toString().match(/^(componentsProps|slotProps)$/)){const Ae=A[ce]||{},_e=O[ce];q[ce]={},!_e||!Object.keys(_e)?q[ce]=Ae:!Ae||!Object.keys(Ae)?q[ce]=_e:(q[ce]=on({},_e),Object.keys(Ae).forEach(G=>{q[ce][G]=TA(Ae[G],_e[G])}))}else q[ce]===void 0&&(q[ce]=A[ce])}),q}function u9(A){const{theme:O,name:q,props:ce}=A;return!O||!O.components||!O.components[q]||!O.components[q].defaultProps?ce:TA(O.components[q].defaultProps,ce)}function f9({props:A,name:O,defaultTheme:q,themeId:ce}){let Ae=Am(q);return ce&&(Ae=Ae[ce]||Ae),u9({theme:Ae,name:O,props:A})}const Kf=typeof window<"u"?Wr.useLayoutEffect:Wr.useEffect;function c9(A,O=Number.MIN_SAFE_INTEGER,q=Number.MAX_SAFE_INTEGER){return Math.max(O,Math.min(A,q))}const h9=Object.freeze(Object.defineProperty({__proto__:null,default:c9},Symbol.toStringTag,{value:"Module"}));function mb(...A){return A.reduce((O,q)=>q==null?O:function(...Ae){O.apply(this,Ae),q.apply(this,Ae)},()=>{})}function B0(A,O=166){let q;function ce(...Ae){const _e=()=>{A.apply(this,Ae)};clearTimeout(q),q=setTimeout(_e,O)}return ce.clear=()=>{clearTimeout(q)},ce}function v9(A,O){return()=>null}function qg(A,O){var q,ce;return Wr.isValidElement(A)&&O.indexOf((q=A.type.muiName)!=null?q:(ce=A.type)==null||(ce=ce._payload)==null||(ce=ce.value)==null?void 0:ce.muiName)!==-1}function al(A){return A&&A.ownerDocument||document}function $f(A){return al(A).defaultView||window}function d9(A,O){return()=>null}function Ly(A,O){typeof A=="function"?A(O):A&&(A.current=O)}let F4=0;function p9(A){const[O,q]=Wr.useState(A),ce=A||O;return Wr.useEffect(()=>{O==null&&(F4+=1,q(`mui-${F4}`))},[O]),ce}const B4=bx.useId;function AA(A){if(B4!==void 0){const O=B4();return A??O}return p9(A)}function g9(A,O,q,ce,Ae){return null}function Py({controlled:A,default:O,name:q,state:ce="value"}){const{current:Ae}=Wr.useRef(A!==void 0),[_e,G]=Wr.useState(O),H=Ae?A:_e,e=Wr.useCallback(g=>{Ae||G(g)},[]);return[H,e]}function Yf(A){const O=Wr.useRef(A);return Kf(()=>{O.current=A}),Wr.useRef((...q)=>(0,O.current)(...q)).current}function Ys(...A){return Wr.useMemo(()=>A.every(O=>O==null)?null:O=>{A.forEach(q=>{Ly(q,O)})},A)}const N4={};function y9(A,O){const q=Wr.useRef(N4);return q.current===N4&&(q.current=A(O)),q}const m9=[];function x9(A){Wr.useEffect(A,m9)}class zm{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new zm}start(O,q){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,q()},O)}}function SA(){const A=y9(zm.create).current;return x9(A.disposeEffect),A}let Om=!0,xb=!1;const b9=new zm,w9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function T9(A){const{type:O,tagName:q}=A;return!!(q==="INPUT"&&w9[O]&&!A.readOnly||q==="TEXTAREA"&&!A.readOnly||A.isContentEditable)}function A9(A){A.metaKey||A.altKey||A.ctrlKey||(Om=!0)}function lx(){Om=!1}function S9(){this.visibilityState==="hidden"&&xb&&(Om=!0)}function M9(A){A.addEventListener("keydown",A9,!0),A.addEventListener("mousedown",lx,!0),A.addEventListener("pointerdown",lx,!0),A.addEventListener("touchstart",lx,!0),A.addEventListener("visibilitychange",S9,!0)}function E9(A){const{target:O}=A;try{return O.matches(":focus-visible")}catch{}return Om||T9(O)}function MA(){const A=Wr.useCallback(Ae=>{Ae!=null&&M9(Ae.ownerDocument)},[]),O=Wr.useRef(!1);function q(){return O.current?(xb=!0,b9.start(100,()=>{xb=!1}),O.current=!1,!0):!1}function ce(Ae){return E9(Ae)?(O.current=!0,!0):!1}return{isFocusVisibleRef:O,onFocus:ce,onBlur:q,ref:A}}function EA(A){const O=A.documentElement.clientWidth;return Math.abs(window.innerWidth-O)}let vd;function CA(){if(vd)return vd;const A=document.createElement("div"),O=document.createElement("div");return O.style.width="10px",O.style.height="1px",A.appendChild(O),A.dir="rtl",A.style.fontSize="14px",A.style.width="4px",A.style.height="1px",A.style.position="absolute",A.style.top="-1000px",A.style.overflow="scroll",document.body.appendChild(A),vd="reverse",A.scrollLeft>0?vd="default":(A.scrollLeft=1,A.scrollLeft===0&&(vd="negative")),document.body.removeChild(A),vd}function C9(A,O){const q=A.scrollLeft;if(O!=="rtl")return q;switch(CA()){case"negative":return A.scrollWidth-A.clientWidth+q;case"reverse":return A.scrollWidth-A.clientWidth-q;default:return q}}function Ai(A,O,q=void 0){const ce={};return Object.keys(A).forEach(Ae=>{ce[Ae]=A[Ae].reduce((_e,G)=>{if(G){const H=O(G);H!==""&&_e.push(H),q&&q[G]&&_e.push(q[G])}return _e},[]).join(" ")}),ce}const L9=Wr.createContext(),U3=()=>{const A=Wr.useContext(L9);return A??!1};function P9(A,O){return on({toolbar:{minHeight:56,[A.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[A.up("sm")]:{minHeight:64}}},O)}var Go={},LA={exports:{}};(function(A){function O(q){return q&&q.__esModule?q:{default:q}}A.exports=O,A.exports.__esModule=!0,A.exports.default=A.exports})(LA);var V3=LA.exports;const R9=_c(HL),I9=_c(h9);var PA=V3;Object.defineProperty(Go,"__esModule",{value:!0});var Yl=Go.alpha=zA;Go.blend=H9;Go.colorChannel=void 0;var RA=Go.darken=G3;Go.decomposeColor=_u;Go.emphasize=OA;var k9=Go.getContrastRatio=F9;Go.getLuminance=Ry;Go.hexToRgb=kA;Go.hslToRgb=_A;var IA=Go.lighten=W3;Go.private_safeAlpha=B9;Go.private_safeColorChannel=void 0;Go.private_safeDarken=N9;Go.private_safeEmphasize=V9;Go.private_safeLighten=U9;Go.recomposeColor=Jd;Go.rgbToHex=O9;var U4=PA(R9),D9=PA(I9);function H3(A,O=0,q=1){return(0,D9.default)(A,O,q)}function kA(A){A=A.slice(1);const O=new RegExp(`.{1,${A.length>=6?2:1}}`,"g");let q=A.match(O);return q&&q[0].length===1&&(q=q.map(ce=>ce+ce)),q?`rgb${q.length===4?"a":""}(${q.map((ce,Ae)=>Ae<3?parseInt(ce,16):Math.round(parseInt(ce,16)/255*1e3)/1e3).join(", ")})`:""}function _9(A){const O=A.toString(16);return O.length===1?`0${O}`:O}function _u(A){if(A.type)return A;if(A.charAt(0)==="#")return _u(kA(A));const O=A.indexOf("("),q=A.substring(0,O);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,U4.default)(9,A));let ce=A.substring(O+1,A.length-1),Ae;if(q==="color"){if(ce=ce.split(" "),Ae=ce.shift(),ce.length===4&&ce[3].charAt(0)==="/"&&(ce[3]=ce[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(Ae)===-1)throw new Error((0,U4.default)(10,Ae))}else ce=ce.split(",");return ce=ce.map(_e=>parseFloat(_e)),{type:q,values:ce,colorSpace:Ae}}const DA=A=>{const O=_u(A);return O.values.slice(0,3).map((q,ce)=>O.type.indexOf("hsl")!==-1&&ce!==0?`${q}%`:q).join(" ")};Go.colorChannel=DA;const z9=(A,O)=>{try{return DA(A)}catch{return A}};Go.private_safeColorChannel=z9;function Jd(A){const{type:O,colorSpace:q}=A;let{values:ce}=A;return O.indexOf("rgb")!==-1?ce=ce.map((Ae,_e)=>_e<3?parseInt(Ae,10):Ae):O.indexOf("hsl")!==-1&&(ce[1]=`${ce[1]}%`,ce[2]=`${ce[2]}%`),O.indexOf("color")!==-1?ce=`${q} ${ce.join(" ")}`:ce=`${ce.join(", ")}`,`${O}(${ce})`}function O9(A){if(A.indexOf("#")===0)return A;const{values:O}=_u(A);return`#${O.map((q,ce)=>_9(ce===3?Math.round(255*q):q)).join("")}`}function _A(A){A=_u(A);const{values:O}=A,q=O[0],ce=O[1]/100,Ae=O[2]/100,_e=ce*Math.min(Ae,1-Ae),G=(g,R=(g+q/30)%12)=>Ae-_e*Math.max(Math.min(R-3,9-R,1),-1);let H="rgb";const e=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return A.type==="hsla"&&(H+="a",e.push(O[3])),Jd({type:H,values:e})}function Ry(A){A=_u(A);let O=A.type==="hsl"||A.type==="hsla"?_u(_A(A)).values:A.values;return O=O.map(q=>(A.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*O[0]+.7152*O[1]+.0722*O[2]).toFixed(3))}function F9(A,O){const q=Ry(A),ce=Ry(O);return(Math.max(q,ce)+.05)/(Math.min(q,ce)+.05)}function zA(A,O){return A=_u(A),O=H3(O),(A.type==="rgb"||A.type==="hsl")&&(A.type+="a"),A.type==="color"?A.values[3]=`/${O}`:A.values[3]=O,Jd(A)}function B9(A,O,q){try{return zA(A,O)}catch{return A}}function G3(A,O){if(A=_u(A),O=H3(O),A.type.indexOf("hsl")!==-1)A.values[2]*=1-O;else if(A.type.indexOf("rgb")!==-1||A.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)A.values[q]*=1-O;return Jd(A)}function N9(A,O,q){try{return G3(A,O)}catch{return A}}function W3(A,O){if(A=_u(A),O=H3(O),A.type.indexOf("hsl")!==-1)A.values[2]+=(100-A.values[2])*O;else if(A.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)A.values[q]+=(255-A.values[q])*O;else if(A.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)A.values[q]+=(1-A.values[q])*O;return Jd(A)}function U9(A,O,q){try{return W3(A,O)}catch{return A}}function OA(A,O=.15){return Ry(A)>.5?G3(A,O):W3(A,O)}function V9(A,O,q){try{return OA(A,O)}catch{return A}}function H9(A,O,q,ce=1){const Ae=(e,g)=>Math.round((e**(1/ce)*(1-q)+g**(1/ce)*q)**ce),_e=_u(A),G=_u(O),H=[Ae(_e.values[0],G.values[0]),Ae(_e.values[1],G.values[1]),Ae(_e.values[2],G.values[2])];return Jd({type:"rgb",values:H})}const G9=["mode","contrastThreshold","tonalOffset"],V4={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:w0.white,default:w0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ux={text:{primary:w0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:w0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function H4(A,O,q,ce){const Ae=ce.light||ce,_e=ce.dark||ce*1.5;A[O]||(A.hasOwnProperty(q)?A[O]=A[q]:O==="light"?A.light=IA(A.main,Ae):O==="dark"&&(A.dark=RA(A.main,_e)))}function W9(A="light"){return A==="dark"?{main:fd[200],light:fd[50],dark:fd[400]}:{main:fd[700],light:fd[400],dark:fd[800]}}function Y9(A="light"){return A==="dark"?{main:ud[200],light:ud[50],dark:ud[400]}:{main:ud[500],light:ud[300],dark:ud[700]}}function j9(A="light"){return A==="dark"?{main:ld[500],light:ld[300],dark:ld[700]}:{main:ld[700],light:ld[400],dark:ld[800]}}function X9(A="light"){return A==="dark"?{main:cd[400],light:cd[300],dark:cd[700]}:{main:cd[700],light:cd[500],dark:cd[900]}}function Z9(A="light"){return A==="dark"?{main:hd[400],light:hd[300],dark:hd[700]}:{main:hd[800],light:hd[500],dark:hd[900]}}function K9(A="light"){return A==="dark"?{main:kp[400],light:kp[300],dark:kp[700]}:{main:"#ed6c02",light:kp[500],dark:kp[900]}}function $9(A){const{mode:O="light",contrastThreshold:q=3,tonalOffset:ce=.2}=A,Ae=ja(A,G9),_e=A.primary||W9(O),G=A.secondary||Y9(O),H=A.error||j9(O),e=A.info||X9(O),g=A.success||Z9(O),R=A.warning||K9(O);function i(d){return k9(d,ux.text.primary)>=q?ux.text.primary:V4.text.primary}const C=({color:d,name:r,mainShade:t=500,lightShade:a=300,darkShade:n=700})=>{if(d=on({},d),!d.main&&d[t]&&(d.main=d[t]),!d.hasOwnProperty("main"))throw new Error(kv(11,r?` (${r})`:"",t));if(typeof d.main!="string")throw new Error(kv(12,r?` (${r})`:"",JSON.stringify(d.main)));return H4(d,"light",a,ce),H4(d,"dark",n,ce),d.contrastText||(d.contrastText=i(d.main)),d},S={dark:ux,light:V4};return Zl(on({common:on({},w0),mode:O,primary:C({color:_e,name:"primary"}),secondary:C({color:G,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:H,name:"error"}),warning:C({color:R,name:"warning"}),info:C({color:e,name:"info"}),success:C({color:g,name:"success"}),grey:VL,contrastThreshold:q,getContrastText:i,augmentColor:C,tonalOffset:ce},S[O]),Ae)}const J9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Q9(A){return Math.round(A*1e5)/1e5}const G4={textTransform:"uppercase"},W4='"Roboto", "Helvetica", "Arial", sans-serif';function q9(A,O){const q=typeof O=="function"?O(A):O,{fontFamily:ce=W4,fontSize:Ae=14,fontWeightLight:_e=300,fontWeightRegular:G=400,fontWeightMedium:H=500,fontWeightBold:e=700,htmlFontSize:g=16,allVariants:R,pxToRem:i}=q,C=ja(q,J9),S=Ae/14,v=i||(t=>`${t/g*S}rem`),d=(t,a,n,f,u)=>on({fontFamily:ce,fontWeight:t,fontSize:v(a),lineHeight:n},ce===W4?{letterSpacing:`${Q9(f/a)}em`}:{},u,R),r={h1:d(_e,96,1.167,-1.5),h2:d(_e,60,1.2,-.5),h3:d(G,48,1.167,0),h4:d(G,34,1.235,.25),h5:d(G,24,1.334,0),h6:d(H,20,1.6,.15),subtitle1:d(G,16,1.75,.15),subtitle2:d(H,14,1.57,.1),body1:d(G,16,1.5,.15),body2:d(G,14,1.43,.15),button:d(H,14,1.75,.4,G4),caption:d(G,12,1.66,.4),overline:d(G,12,2.66,1,G4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zl(on({htmlFontSize:g,pxToRem:v,fontFamily:ce,fontSize:Ae,fontWeightLight:_e,fontWeightRegular:G,fontWeightMedium:H,fontWeightBold:e},r),C,{clone:!1})}const eR=.2,tR=.14,rR=.12;function ho(...A){return[`${A[0]}px ${A[1]}px ${A[2]}px ${A[3]}px rgba(0,0,0,${eR})`,`${A[4]}px ${A[5]}px ${A[6]}px ${A[7]}px rgba(0,0,0,${tR})`,`${A[8]}px ${A[9]}px ${A[10]}px ${A[11]}px rgba(0,0,0,${rR})`].join(",")}const nR=["none",ho(0,2,1,-1,0,1,1,0,0,1,3,0),ho(0,3,1,-2,0,2,2,0,0,1,5,0),ho(0,3,3,-2,0,3,4,0,0,1,8,0),ho(0,2,4,-1,0,4,5,0,0,1,10,0),ho(0,3,5,-1,0,5,8,0,0,1,14,0),ho(0,3,5,-1,0,6,10,0,0,1,18,0),ho(0,4,5,-2,0,7,10,1,0,2,16,1),ho(0,5,5,-3,0,8,10,1,0,3,14,2),ho(0,5,6,-3,0,9,12,1,0,3,16,2),ho(0,6,6,-3,0,10,14,1,0,4,18,3),ho(0,6,7,-4,0,11,15,1,0,4,20,3),ho(0,7,8,-4,0,12,17,2,0,5,22,4),ho(0,7,8,-4,0,13,19,2,0,5,24,4),ho(0,7,9,-4,0,14,21,2,0,5,26,4),ho(0,8,9,-5,0,15,22,2,0,6,28,5),ho(0,8,10,-5,0,16,24,2,0,6,30,5),ho(0,8,11,-5,0,17,26,2,0,6,32,5),ho(0,9,11,-5,0,18,28,2,0,7,34,6),ho(0,9,12,-6,0,19,29,2,0,7,36,6),ho(0,10,13,-6,0,20,31,3,0,8,38,7),ho(0,10,13,-6,0,21,33,3,0,8,40,7),ho(0,10,14,-6,0,22,35,3,0,8,42,7),ho(0,11,14,-7,0,23,36,3,0,9,44,8),ho(0,11,15,-7,0,24,38,3,0,9,46,8)],aR=["duration","easing","delay"],iR={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oR={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Y4(A){return`${Math.round(A)}ms`}function sR(A){if(!A)return 0;const O=A/36;return Math.round((4+15*O**.25+O/5)*10)}function lR(A){const O=on({},iR,A.easing),q=on({},oR,A.duration);return on({getAutoHeightDuration:sR,create:(Ae=["all"],_e={})=>{const{duration:G=q.standard,easing:H=O.easeInOut,delay:e=0}=_e;return ja(_e,aR),(Array.isArray(Ae)?Ae:[Ae]).map(g=>`${g} ${typeof G=="string"?G:Y4(G)} ${H} ${typeof e=="string"?e:Y4(e)}`).join(",")}},A,{easing:O,duration:q})}const uR={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fR=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function FA(A={},...O){const{mixins:q={},palette:ce={},transitions:Ae={},typography:_e={}}=A,G=ja(A,fR);if(A.vars)throw new Error(kv(18));const H=$9(ce),e=O3(A);let g=Zl(e,{mixins:P9(e.breakpoints,q),palette:H,shadows:nR.slice(),typography:q9(H,_e),transitions:lR(Ae),zIndex:on({},uR)});return g=Zl(g,G),g=O.reduce((R,i)=>Zl(R,i),g),g.unstable_sxConfig=on({},O0,G==null?void 0:G.unstable_sxConfig),g.unstable_sx=function(i){return F0({sx:i,theme:this})},g}const Fm=FA();function Bm(){const A=Am(Fm);return A[k0]||A}function Ci({props:A,name:O}){return f9({props:A,name:O,defaultTheme:Fm,themeId:k0})}var N0={},fx={exports:{}},j4;function cR(){return j4||(j4=1,function(A){function O(q,ce){if(q==null)return{};var Ae={};for(var _e in q)if(Object.prototype.hasOwnProperty.call(q,_e)){if(ce.indexOf(_e)>=0)continue;Ae[_e]=q[_e]}return Ae}A.exports=O,A.exports.__esModule=!0,A.exports.default=A.exports}(fx)),fx.exports}const hR=_c(JP),vR=_c(QP),dR=_c(i7),pR=_c(l9),gR=_c(j7),yR=_c(q7);var Qd=V3;Object.defineProperty(N0,"__esModule",{value:!0});var mR=N0.default=IR;N0.shouldForwardProp=ey;N0.systemDefaultTheme=void 0;var Su=Qd(aA()),bb=Qd(cR()),X4=MR(hR),xR=vR;Qd(dR);Qd(pR);var bR=Qd(gR),wR=Qd(yR);const TR=["ownerState"],AR=["variants"],SR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function BA(A){if(typeof WeakMap!="function")return null;var O=new WeakMap,q=new WeakMap;return(BA=function(ce){return ce?q:O})(A)}function MR(A,O){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var q=BA(O);if(q&&q.has(A))return q.get(A);var ce={__proto__:null},Ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _e in A)if(_e!=="default"&&Object.prototype.hasOwnProperty.call(A,_e)){var G=Ae?Object.getOwnPropertyDescriptor(A,_e):null;G&&(G.get||G.set)?Object.defineProperty(ce,_e,G):ce[_e]=A[_e]}return ce.default=A,q&&q.set(A,ce),ce}function ER(A){return Object.keys(A).length===0}function CR(A){return typeof A=="string"&&A.charCodeAt(0)>96}function ey(A){return A!=="ownerState"&&A!=="theme"&&A!=="sx"&&A!=="as"}const LR=N0.systemDefaultTheme=(0,bR.default)(),PR=A=>A&&A.charAt(0).toLowerCase()+A.slice(1);function _g({defaultTheme:A,theme:O,themeId:q}){return ER(O)?A:O[q]||O}function RR(A){return A?(O,q)=>q[A]:null}function ty(A,O){let{ownerState:q}=O,ce=(0,bb.default)(O,TR);const Ae=typeof A=="function"?A((0,Su.default)({ownerState:q},ce)):A;if(Array.isArray(Ae))return Ae.flatMap(_e=>ty(_e,(0,Su.default)({ownerState:q},ce)));if(Ae&&typeof Ae=="object"&&Array.isArray(Ae.variants)){const{variants:_e=[]}=Ae;let H=(0,bb.default)(Ae,AR);return _e.forEach(e=>{let g=!0;typeof e.props=="function"?g=e.props((0,Su.default)({ownerState:q},ce,q)):Object.keys(e.props).forEach(R=>{(q==null?void 0:q[R])!==e.props[R]&&ce[R]!==e.props[R]&&(g=!1)}),g&&(Array.isArray(H)||(H=[H]),H.push(typeof e.style=="function"?e.style((0,Su.default)({ownerState:q},ce,q)):e.style))}),H}return Ae}function IR(A={}){const{themeId:O,defaultTheme:q=LR,rootShouldForwardProp:ce=ey,slotShouldForwardProp:Ae=ey}=A,_e=G=>(0,wR.default)((0,Su.default)({},G,{theme:_g((0,Su.default)({},G,{defaultTheme:q,themeId:O}))}));return _e.__mui_systemSx=!0,(G,H={})=>{(0,X4.internal_processStyles)(G,u=>u.filter(l=>!(l!=null&&l.__mui_systemSx)));const{name:e,slot:g,skipVariantsResolver:R,skipSx:i,overridesResolver:C=RR(PR(g))}=H,S=(0,bb.default)(H,SR),v=R!==void 0?R:g&&g!=="Root"&&g!=="root"||!1,d=i||!1;let r,t=ey;g==="Root"||g==="root"?t=ce:g?t=Ae:CR(G)&&(t=void 0);const a=(0,X4.default)(G,(0,Su.default)({shouldForwardProp:t,label:r},S)),n=u=>typeof u=="function"&&u.__emotion_real!==u||(0,xR.isPlainObject)(u)?l=>ty(u,(0,Su.default)({},l,{theme:_g({theme:l.theme,defaultTheme:q,themeId:O})})):u,f=(u,...l)=>{let y=n(u);const h=l?l.map(n):[];e&&C&&h.push(o=>{const p=_g((0,Su.default)({},o,{defaultTheme:q,themeId:O}));if(!p.components||!p.components[e]||!p.components[e].styleOverrides)return null;const x=p.components[e].styleOverrides,b={};return Object.entries(x).forEach(([P,m])=>{b[P]=ty(m,(0,Su.default)({},o,{theme:p}))}),C(o,b)}),e&&!v&&h.push(o=>{var p;const x=_g((0,Su.default)({},o,{defaultTheme:q,themeId:O})),b=x==null||(p=x.components)==null||(p=p[e])==null?void 0:p.variants;return ty({variants:b},(0,Su.default)({},o,{theme:x}))}),d||h.push(_e);const T=h.length-l.length;if(Array.isArray(u)&&T>0){const o=new Array(T).fill("");y=[...u,...o],y.raw=[...u.raw,...o]}const c=a(y,...h);return G.muiName&&(c.muiName=G.muiName),c};return a.withConfig&&(f.withConfig=a.withConfig),f}}function NA(A){return A!=="ownerState"&&A!=="theme"&&A!=="sx"&&A!=="as"}const ql=A=>NA(A)&&A!=="classes",Ha=mR({themeId:k0,defaultTheme:Fm,rootShouldForwardProp:ql}),Z4=A=>{let O;return A<1?O=5.11916*A**2:O=4.5*Math.log(A+1)+2,(O/100).toFixed(2)};function kR(A){return bi("MuiSvgIcon",A)}pi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const DR=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_R=A=>{const{color:O,fontSize:q,classes:ce}=A,Ae={root:["root",O!=="inherit"&&`color${ei(O)}`,`fontSize${ei(q)}`]};return Ai(Ae,kR,ce)},zR=Ha("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.color!=="inherit"&&O[`color${ei(q.color)}`],O[`fontSize${ei(q.fontSize)}`]]}})(({theme:A,ownerState:O})=>{var q,ce,Ae,_e,G,H,e,g,R,i,C,S,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:O.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(q=A.transitions)==null||(ce=q.create)==null?void 0:ce.call(q,"fill",{duration:(Ae=A.transitions)==null||(Ae=Ae.duration)==null?void 0:Ae.shorter}),fontSize:{inherit:"inherit",small:((_e=A.typography)==null||(G=_e.pxToRem)==null?void 0:G.call(_e,20))||"1.25rem",medium:((H=A.typography)==null||(e=H.pxToRem)==null?void 0:e.call(H,24))||"1.5rem",large:((g=A.typography)==null||(R=g.pxToRem)==null?void 0:R.call(g,35))||"2.1875rem"}[O.fontSize],color:(i=(C=(A.vars||A).palette)==null||(C=C[O.color])==null?void 0:C.main)!=null?i:{action:(S=(A.vars||A).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(v=(A.vars||A).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[O.color]}}),wb=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiSvgIcon"}),{children:Ae,className:_e,color:G="inherit",component:H="svg",fontSize:e="medium",htmlColor:g,inheritViewBox:R=!1,titleAccess:i,viewBox:C="0 0 24 24"}=ce,S=ja(ce,DR),v=Wr.isValidElement(Ae)&&Ae.type==="svg",d=on({},ce,{color:G,component:H,fontSize:e,instanceFontSize:O.fontSize,inheritViewBox:R,viewBox:C,hasSvgAsChild:v}),r={};R||(r.viewBox=C);const t=_R(d);return xn.jsxs(zR,on({as:H,className:Xa(t.root,_e),focusable:"false",color:g,"aria-hidden":i?void 0:!0,role:i?"img":void 0,ref:q},r,S,v&&Ae.props,{ownerState:d,children:[v?Ae.props.children:Ae,i?xn.jsx("title",{children:i}):null]}))});wb.muiName="SvgIcon";function Vh(A,O){function q(ce,Ae){return xn.jsx(wb,on({"data-testid":`${O}Icon`,ref:Ae},ce,{children:A}))}return q.muiName=wb.muiName,Wr.memo(Wr.forwardRef(q))}const OR={configure:A=>{F3.configure(A)}},FR=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ei,createChainedFunction:mb,createSvgIcon:Vh,debounce:B0,deprecatedPropType:v9,isMuiElement:qg,ownerDocument:al,ownerWindow:$f,requirePropFactory:d9,setRef:Ly,unstable_ClassNameGenerator:OR,unstable_useEnhancedEffect:Kf,unstable_useId:AA,unsupportedProp:g9,useControlled:Py,useEventCallback:Yf,useForkRef:Ys,useIsFocusVisible:MA},Symbol.toStringTag,{value:"Module"}));var Xi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3=Symbol.for("react.element"),j3=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),Hm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),BR=Symbol.for("react.server_context"),Wm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Xm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),UA;UA=Symbol.for("react.module.reference");function Fu(A){if(typeof A=="object"&&A!==null){var O=A.$$typeof;switch(O){case Y3:switch(A=A.type,A){case Nm:case Vm:case Um:case Ym:case jm:return A;default:switch(A=A&&A.$$typeof,A){case BR:case Gm:case Wm:case Zm:case Xm:case Hm:return A;default:return O}}case j3:return O}}}Xi.ContextConsumer=Gm;Xi.ContextProvider=Hm;Xi.Element=Y3;Xi.ForwardRef=Wm;Xi.Fragment=Nm;Xi.Lazy=Zm;Xi.Memo=Xm;Xi.Portal=j3;Xi.Profiler=Vm;Xi.StrictMode=Um;Xi.Suspense=Ym;Xi.SuspenseList=jm;Xi.isAsyncMode=function(){return!1};Xi.isConcurrentMode=function(){return!1};Xi.isContextConsumer=function(A){return Fu(A)===Gm};Xi.isContextProvider=function(A){return Fu(A)===Hm};Xi.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===Y3};Xi.isForwardRef=function(A){return Fu(A)===Wm};Xi.isFragment=function(A){return Fu(A)===Nm};Xi.isLazy=function(A){return Fu(A)===Zm};Xi.isMemo=function(A){return Fu(A)===Xm};Xi.isPortal=function(A){return Fu(A)===j3};Xi.isProfiler=function(A){return Fu(A)===Vm};Xi.isStrictMode=function(A){return Fu(A)===Um};Xi.isSuspense=function(A){return Fu(A)===Ym};Xi.isSuspenseList=function(A){return Fu(A)===jm};Xi.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===Nm||A===Vm||A===Um||A===Ym||A===jm||A===NR||typeof A=="object"&&A!==null&&(A.$$typeof===Zm||A.$$typeof===Xm||A.$$typeof===Hm||A.$$typeof===Gm||A.$$typeof===Wm||A.$$typeof===UA||A.getModuleId!==void 0)};Xi.typeOf=Fu;function Tb(A,O){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,Ae){return ce.__proto__=Ae,ce},Tb(A,O)}function VA(A,O){A.prototype=Object.create(O.prototype),A.prototype.constructor=A,Tb(A,O)}const K4={disabled:!1},Iy=pf.createContext(null);var UR=function(O){return O.scrollTop},Wp="unmounted",xv="exited",bv="entering",pd="entered",Ab="exiting",Qf=function(A){VA(O,A);function O(ce,Ae){var _e;_e=A.call(this,ce,Ae)||this;var G=Ae,H=G&&!G.isMounting?ce.enter:ce.appear,e;return _e.appearStatus=null,ce.in?H?(e=xv,_e.appearStatus=bv):e=pd:ce.unmountOnExit||ce.mountOnEnter?e=Wp:e=xv,_e.state={status:e},_e.nextCallback=null,_e}O.getDerivedStateFromProps=function(Ae,_e){var G=Ae.in;return G&&_e.status===Wp?{status:xv}:null};var q=O.prototype;return q.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},q.componentDidUpdate=function(Ae){var _e=null;if(Ae!==this.props){var G=this.state.status;this.props.in?G!==bv&&G!==pd&&(_e=bv):(G===bv||G===pd)&&(_e=Ab)}this.updateStatus(!1,_e)},q.componentWillUnmount=function(){this.cancelNextCallback()},q.getTimeouts=function(){var Ae=this.props.timeout,_e,G,H;return _e=G=H=Ae,Ae!=null&&typeof Ae!="number"&&(_e=Ae.exit,G=Ae.enter,H=Ae.appear!==void 0?Ae.appear:G),{exit:_e,enter:G,appear:H}},q.updateStatus=function(Ae,_e){if(Ae===void 0&&(Ae=!1),_e!==null)if(this.cancelNextCallback(),_e===bv){if(this.props.unmountOnExit||this.props.mountOnEnter){var G=this.props.nodeRef?this.props.nodeRef.current:kg.findDOMNode(this);G&&UR(G)}this.performEnter(Ae)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xv&&this.setState({status:Wp})},q.performEnter=function(Ae){var _e=this,G=this.props.enter,H=this.context?this.context.isMounting:Ae,e=this.props.nodeRef?[H]:[kg.findDOMNode(this),H],g=e[0],R=e[1],i=this.getTimeouts(),C=H?i.appear:i.enter;if(!Ae&&!G||K4.disabled){this.safeSetState({status:pd},function(){_e.props.onEntered(g)});return}this.props.onEnter(g,R),this.safeSetState({status:bv},function(){_e.props.onEntering(g,R),_e.onTransitionEnd(C,function(){_e.safeSetState({status:pd},function(){_e.props.onEntered(g,R)})})})},q.performExit=function(){var Ae=this,_e=this.props.exit,G=this.getTimeouts(),H=this.props.nodeRef?void 0:kg.findDOMNode(this);if(!_e||K4.disabled){this.safeSetState({status:xv},function(){Ae.props.onExited(H)});return}this.props.onExit(H),this.safeSetState({status:Ab},function(){Ae.props.onExiting(H),Ae.onTransitionEnd(G.exit,function(){Ae.safeSetState({status:xv},function(){Ae.props.onExited(H)})})})},q.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},q.safeSetState=function(Ae,_e){_e=this.setNextCallback(_e),this.setState(Ae,_e)},q.setNextCallback=function(Ae){var _e=this,G=!0;return this.nextCallback=function(H){G&&(G=!1,_e.nextCallback=null,Ae(H))},this.nextCallback.cancel=function(){G=!1},this.nextCallback},q.onTransitionEnd=function(Ae,_e){this.setNextCallback(_e);var G=this.props.nodeRef?this.props.nodeRef.current:kg.findDOMNode(this),H=Ae==null&&!this.props.addEndListener;if(!G||H){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var e=this.props.nodeRef?[this.nextCallback]:[G,this.nextCallback],g=e[0],R=e[1];this.props.addEndListener(g,R)}Ae!=null&&setTimeout(this.nextCallback,Ae)},q.render=function(){var Ae=this.state.status;if(Ae===Wp)return null;var _e=this.props,G=_e.children;_e.in,_e.mountOnEnter,_e.unmountOnExit,_e.appear,_e.enter,_e.exit,_e.timeout,_e.addEndListener,_e.onEnter,_e.onEntering,_e.onEntered,_e.onExit,_e.onExiting,_e.onExited,_e.nodeRef;var H=ja(_e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pf.createElement(Iy.Provider,{value:null},typeof G=="function"?G(Ae,H):pf.cloneElement(pf.Children.only(G),H))},O}(pf.Component);Qf.contextType=Iy;Qf.propTypes={};function dd(){}Qf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dd,onEntering:dd,onEntered:dd,onExit:dd,onExiting:dd,onExited:dd};Qf.UNMOUNTED=Wp;Qf.EXITED=xv;Qf.ENTERING=bv;Qf.ENTERED=pd;Qf.EXITING=Ab;function VR(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function X3(A,O){var q=function(_e){return O&&Wr.isValidElement(_e)?O(_e):_e},ce=Object.create(null);return A&&Wr.Children.map(A,function(Ae){return Ae}).forEach(function(Ae){ce[Ae.key]=q(Ae)}),ce}function HR(A,O){A=A||{},O=O||{};function q(R){return R in O?O[R]:A[R]}var ce=Object.create(null),Ae=[];for(var _e in A)_e in O?Ae.length&&(ce[_e]=Ae,Ae=[]):Ae.push(_e);var G,H={};for(var e in O){if(ce[e])for(G=0;G<ce[e].length;G++){var g=ce[e][G];H[ce[e][G]]=q(g)}H[e]=q(e)}for(G=0;G<Ae.length;G++)H[Ae[G]]=q(Ae[G]);return H}function Sv(A,O,q){return q[O]!=null?q[O]:A.props[O]}function GR(A,O){return X3(A.children,function(q){return Wr.cloneElement(q,{onExited:O.bind(null,q),in:!0,appear:Sv(q,"appear",A),enter:Sv(q,"enter",A),exit:Sv(q,"exit",A)})})}function WR(A,O,q){var ce=X3(A.children),Ae=HR(O,ce);return Object.keys(Ae).forEach(function(_e){var G=Ae[_e];if(Wr.isValidElement(G)){var H=_e in O,e=_e in ce,g=O[_e],R=Wr.isValidElement(g)&&!g.props.in;e&&(!H||R)?Ae[_e]=Wr.cloneElement(G,{onExited:q.bind(null,G),in:!0,exit:Sv(G,"exit",A),enter:Sv(G,"enter",A)}):!e&&H&&!R?Ae[_e]=Wr.cloneElement(G,{in:!1}):e&&H&&Wr.isValidElement(g)&&(Ae[_e]=Wr.cloneElement(G,{onExited:q.bind(null,G),in:g.props.in,exit:Sv(G,"exit",A),enter:Sv(G,"enter",A)}))}}),Ae}var YR=Object.values||function(A){return Object.keys(A).map(function(O){return A[O]})},jR={component:"div",childFactory:function(O){return O}},Z3=function(A){VA(O,A);function O(ce,Ae){var _e;_e=A.call(this,ce,Ae)||this;var G=_e.handleExited.bind(VR(_e));return _e.state={contextValue:{isMounting:!0},handleExited:G,firstRender:!0},_e}var q=O.prototype;return q.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},q.componentWillUnmount=function(){this.mounted=!1},O.getDerivedStateFromProps=function(Ae,_e){var G=_e.children,H=_e.handleExited,e=_e.firstRender;return{children:e?GR(Ae,H):WR(Ae,G,H),firstRender:!1}},q.handleExited=function(Ae,_e){var G=X3(this.props.children);Ae.key in G||(Ae.props.onExited&&Ae.props.onExited(_e),this.mounted&&this.setState(function(H){var e=on({},H.children);return delete e[Ae.key],{children:e}}))},q.render=function(){var Ae=this.props,_e=Ae.component,G=Ae.childFactory,H=ja(Ae,["component","childFactory"]),e=this.state.contextValue,g=YR(this.state.children).map(G);return delete H.appear,delete H.enter,delete H.exit,_e===null?pf.createElement(Iy.Provider,{value:e},g):pf.createElement(Iy.Provider,{value:e},pf.createElement(_e,H,g))},O}(pf.Component);Z3.propTypes={};Z3.defaultProps=jR;const HA=A=>A.scrollTop;function ky(A,O){var q,ce;const{timeout:Ae,easing:_e,style:G={}}=A;return{duration:(q=G.transitionDuration)!=null?q:typeof Ae=="number"?Ae:Ae[O.mode]||0,easing:(ce=G.transitionTimingFunction)!=null?ce:typeof _e=="object"?_e[O.mode]:_e,delay:G.transitionDelay}}function XR(A){return bi("MuiPaper",A)}pi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ZR=["className","component","elevation","square","variant"],KR=A=>{const{square:O,elevation:q,variant:ce,classes:Ae}=A,_e={root:["root",ce,!O&&"rounded",ce==="elevation"&&`elevation${q}`]};return Ai(_e,XR,Ae)},$R=Ha("div",{name:"MuiPaper",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,O[q.variant],!q.square&&O.rounded,q.variant==="elevation"&&O[`elevation${q.elevation}`]]}})(({theme:A,ownerState:O})=>{var q;return on({backgroundColor:(A.vars||A).palette.background.paper,color:(A.vars||A).palette.text.primary,transition:A.transitions.create("box-shadow")},!O.square&&{borderRadius:A.shape.borderRadius},O.variant==="outlined"&&{border:`1px solid ${(A.vars||A).palette.divider}`},O.variant==="elevation"&&on({boxShadow:(A.vars||A).shadows[O.elevation]},!A.vars&&A.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Yl("#fff",Z4(O.elevation))}, ${Yl("#fff",Z4(O.elevation))})`},A.vars&&{backgroundImage:(q=A.vars.overlays)==null?void 0:q[O.elevation]}))}),Yd=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiPaper"}),{className:Ae,component:_e="div",elevation:G=1,square:H=!1,variant:e="elevation"}=ce,g=ja(ce,ZR),R=on({},ce,{component:_e,elevation:G,square:H,variant:e}),i=KR(R);return xn.jsx($R,on({as:_e,ownerState:R,className:Xa(i.root,Ae),ref:q},g))});function Dy(A){return typeof A=="string"}function JR(A,O,q){return A===void 0||Dy(A)?O:on({},O,{ownerState:on({},O.ownerState,q)})}function GA(A,O=[]){if(A===void 0)return{};const q={};return Object.keys(A).filter(ce=>ce.match(/^on[A-Z]/)&&typeof A[ce]=="function"&&!O.includes(ce)).forEach(ce=>{q[ce]=A[ce]}),q}function QR(A,O,q){return typeof A=="function"?A(O,q):A}function $4(A){if(A===void 0)return{};const O={};return Object.keys(A).filter(q=>!(q.match(/^on[A-Z]/)&&typeof A[q]=="function")).forEach(q=>{O[q]=A[q]}),O}function qR(A){const{getSlotProps:O,additionalProps:q,externalSlotProps:ce,externalForwardedProps:Ae,className:_e}=A;if(!O){const S=Xa(q==null?void 0:q.className,_e,Ae==null?void 0:Ae.className,ce==null?void 0:ce.className),v=on({},q==null?void 0:q.style,Ae==null?void 0:Ae.style,ce==null?void 0:ce.style),d=on({},q,Ae,ce);return S.length>0&&(d.className=S),Object.keys(v).length>0&&(d.style=v),{props:d,internalRef:void 0}}const G=GA(on({},Ae,ce)),H=$4(ce),e=$4(Ae),g=O(G),R=Xa(g==null?void 0:g.className,q==null?void 0:q.className,_e,Ae==null?void 0:Ae.className,ce==null?void 0:ce.className),i=on({},g==null?void 0:g.style,q==null?void 0:q.style,Ae==null?void 0:Ae.style,ce==null?void 0:ce.style),C=on({},g,q,e,H);return R.length>0&&(C.className=R),Object.keys(i).length>0&&(C.style=i),{props:C,internalRef:g.ref}}const eI=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Jf(A){var O;const{elementType:q,externalSlotProps:ce,ownerState:Ae,skipResolvingSlotProps:_e=!1}=A,G=ja(A,eI),H=_e?{}:QR(ce,Ae),{props:e,internalRef:g}=qR(on({},G,{externalSlotProps:H})),R=Ys(g,H==null?void 0:H.ref,(O=A.additionalProps)==null?void 0:O.ref);return JR(q,on({},e,{ref:R}),Ae)}function tI(A){const{className:O,classes:q,pulsate:ce=!1,rippleX:Ae,rippleY:_e,rippleSize:G,in:H,onExited:e,timeout:g}=A,[R,i]=Wr.useState(!1),C=Xa(O,q.ripple,q.rippleVisible,ce&&q.ripplePulsate),S={width:G,height:G,top:-(G/2)+_e,left:-(G/2)+Ae},v=Xa(q.child,R&&q.childLeaving,ce&&q.childPulsate);return!H&&!R&&i(!0),Wr.useEffect(()=>{if(!H&&e!=null){const d=setTimeout(e,g);return()=>{clearTimeout(d)}}},[e,H,g]),xn.jsx("span",{className:C,style:S,children:xn.jsx("span",{className:v})})}const Mu=pi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rI=["center","classes","className"];let Km=A=>A,J4,Q4,q4,eT;const Sb=550,nI=80,aI=pm(J4||(J4=Km`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iI=pm(Q4||(Q4=Km`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),oI=pm(q4||(q4=Km`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),sI=Ha("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lI=Ha(tI,{name:"MuiTouchRipple",slot:"Ripple"})(eT||(eT=Km`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Mu.rippleVisible,aI,Sb,({theme:A})=>A.transitions.easing.easeInOut,Mu.ripplePulsate,({theme:A})=>A.transitions.duration.shorter,Mu.child,Mu.childLeaving,iI,Sb,({theme:A})=>A.transitions.easing.easeInOut,Mu.childPulsate,oI,({theme:A})=>A.transitions.easing.easeInOut),uI=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTouchRipple"}),{center:Ae=!1,classes:_e={},className:G}=ce,H=ja(ce,rI),[e,g]=Wr.useState([]),R=Wr.useRef(0),i=Wr.useRef(null);Wr.useEffect(()=>{i.current&&(i.current(),i.current=null)},[e]);const C=Wr.useRef(!1),S=SA(),v=Wr.useRef(null),d=Wr.useRef(null),r=Wr.useCallback(f=>{const{pulsate:u,rippleX:l,rippleY:y,rippleSize:h,cb:T}=f;g(c=>[...c,xn.jsx(lI,{classes:{ripple:Xa(_e.ripple,Mu.ripple),rippleVisible:Xa(_e.rippleVisible,Mu.rippleVisible),ripplePulsate:Xa(_e.ripplePulsate,Mu.ripplePulsate),child:Xa(_e.child,Mu.child),childLeaving:Xa(_e.childLeaving,Mu.childLeaving),childPulsate:Xa(_e.childPulsate,Mu.childPulsate)},timeout:Sb,pulsate:u,rippleX:l,rippleY:y,rippleSize:h},R.current)]),R.current+=1,i.current=T},[_e]),t=Wr.useCallback((f={},u={},l=()=>{})=>{const{pulsate:y=!1,center:h=Ae||u.pulsate,fakeElement:T=!1}=u;if((f==null?void 0:f.type)==="mousedown"&&C.current){C.current=!1;return}(f==null?void 0:f.type)==="touchstart"&&(C.current=!0);const c=T?null:d.current,o=c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0};let p,x,b;if(h||f===void 0||f.clientX===0&&f.clientY===0||!f.clientX&&!f.touches)p=Math.round(o.width/2),x=Math.round(o.height/2);else{const{clientX:P,clientY:m}=f.touches&&f.touches.length>0?f.touches[0]:f;p=Math.round(P-o.left),x=Math.round(m-o.top)}if(h)b=Math.sqrt((2*o.width**2+o.height**2)/3),b%2===0&&(b+=1);else{const P=Math.max(Math.abs((c?c.clientWidth:0)-p),p)*2+2,m=Math.max(Math.abs((c?c.clientHeight:0)-x),x)*2+2;b=Math.sqrt(P**2+m**2)}f!=null&&f.touches?v.current===null&&(v.current=()=>{r({pulsate:y,rippleX:p,rippleY:x,rippleSize:b,cb:l})},S.start(nI,()=>{v.current&&(v.current(),v.current=null)})):r({pulsate:y,rippleX:p,rippleY:x,rippleSize:b,cb:l})},[Ae,r,S]),a=Wr.useCallback(()=>{t({},{pulsate:!0})},[t]),n=Wr.useCallback((f,u)=>{if(S.clear(),(f==null?void 0:f.type)==="touchend"&&v.current){v.current(),v.current=null,S.start(0,()=>{n(f,u)});return}v.current=null,g(l=>l.length>0?l.slice(1):l),i.current=u},[S]);return Wr.useImperativeHandle(q,()=>({pulsate:a,start:t,stop:n}),[a,t,n]),xn.jsx(sI,on({className:Xa(Mu.root,_e.root,G),ref:d},H,{children:xn.jsx(Z3,{component:null,exit:!0,children:e})}))});function fI(A){return bi("MuiButtonBase",A)}const cI=pi("MuiButtonBase",["root","disabled","focusVisible"]),hI=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],vI=A=>{const{disabled:O,focusVisible:q,focusVisibleClassName:ce,classes:Ae}=A,G=Ai({root:["root",O&&"disabled",q&&"focusVisible"]},fI,Ae);return q&&ce&&(G.root+=` ${ce}`),G},dI=Ha("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(A,O)=>O.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${cI.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qd=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiButtonBase"}),{action:Ae,centerRipple:_e=!1,children:G,className:H,component:e="button",disabled:g=!1,disableRipple:R=!1,disableTouchRipple:i=!1,focusRipple:C=!1,LinkComponent:S="a",onBlur:v,onClick:d,onContextMenu:r,onDragLeave:t,onFocus:a,onFocusVisible:n,onKeyDown:f,onKeyUp:u,onMouseDown:l,onMouseLeave:y,onMouseUp:h,onTouchEnd:T,onTouchMove:c,onTouchStart:o,tabIndex:p=0,TouchRippleProps:x,touchRippleRef:b,type:P}=ce,m=ja(ce,hI),L=Wr.useRef(null),M=Wr.useRef(null),s=Ys(M,b),{isFocusVisibleRef:E,onFocus:w,onBlur:_,ref:D}=MA(),[N,z]=Wr.useState(!1);g&&N&&z(!1),Wr.useImperativeHandle(Ae,()=>({focusVisible:()=>{z(!0),L.current.focus()}}),[]);const[F,U]=Wr.useState(!1);Wr.useEffect(()=>{U(!0)},[]);const B=F&&!R&&!g;Wr.useEffect(()=>{N&&C&&!R&&F&&M.current.pulsate()},[R,C,N,F]);function V(Pe,be,Ee=i){return Yf(xe=>(be&&be(xe),!Ee&&M.current&&M.current[Pe](xe),!0))}const j=V("start",l),Q=V("stop",r),ee=V("stop",t),re=V("stop",h),ue=V("stop",Pe=>{N&&Pe.preventDefault(),y&&y(Pe)}),J=V("start",o),X=V("stop",T),ne=V("stop",c),Y=V("stop",Pe=>{_(Pe),E.current===!1&&z(!1),v&&v(Pe)},!1),oe=Yf(Pe=>{L.current||(L.current=Pe.currentTarget),w(Pe),E.current===!0&&(z(!0),n&&n(Pe)),a&&a(Pe)}),le=()=>{const Pe=L.current;return e&&e!=="button"&&!(Pe.tagName==="A"&&Pe.href)},Z=Wr.useRef(!1),$=Yf(Pe=>{C&&!Z.current&&N&&M.current&&Pe.key===" "&&(Z.current=!0,M.current.stop(Pe,()=>{M.current.start(Pe)})),Pe.target===Pe.currentTarget&&le()&&Pe.key===" "&&Pe.preventDefault(),f&&f(Pe),Pe.target===Pe.currentTarget&&le()&&Pe.key==="Enter"&&!g&&(Pe.preventDefault(),d&&d(Pe))}),se=Yf(Pe=>{C&&Pe.key===" "&&M.current&&N&&!Pe.defaultPrevented&&(Z.current=!1,M.current.stop(Pe,()=>{M.current.pulsate(Pe)})),u&&u(Pe),d&&Pe.target===Pe.currentTarget&&le()&&Pe.key===" "&&!Pe.defaultPrevented&&d(Pe)});let ae=e;ae==="button"&&(m.href||m.to)&&(ae=S);const he={};ae==="button"?(he.type=P===void 0?"button":P,he.disabled=g):(!m.href&&!m.to&&(he.role="button"),g&&(he["aria-disabled"]=g));const me=Ys(q,D,L),Me=on({},ce,{centerRipple:_e,component:e,disabled:g,disableRipple:R,disableTouchRipple:i,focusRipple:C,tabIndex:p,focusVisible:N}),Te=vI(Me);return xn.jsxs(dI,on({as:ae,className:Xa(Te.root,H),ownerState:Me,onBlur:Y,onClick:d,onContextMenu:Q,onFocus:oe,onKeyDown:$,onKeyUp:se,onMouseDown:j,onMouseLeave:ue,onMouseUp:re,onDragLeave:ee,onTouchEnd:X,onTouchMove:ne,onTouchStart:J,ref:me,tabIndex:g?-1:p,type:P},he,m,{children:[G,B?xn.jsx(uI,on({ref:s,center:_e},x)):null]}))});function pI(A){return bi("MuiIconButton",A)}const gI=pi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),yI=["edge","children","className","color","disabled","disableFocusRipple","size"],mI=A=>{const{classes:O,disabled:q,color:ce,edge:Ae,size:_e}=A,G={root:["root",q&&"disabled",ce!=="default"&&`color${ei(ce)}`,Ae&&`edge${ei(Ae)}`,`size${ei(_e)}`]};return Ai(G,pI,O)},xI=Ha(qd,{name:"MuiIconButton",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.color!=="default"&&O[`color${ei(q.color)}`],q.edge&&O[`edge${ei(q.edge)}`],O[`size${ei(q.size)}`]]}})(({theme:A,ownerState:O})=>on({textAlign:"center",flex:"0 0 auto",fontSize:A.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(A.vars||A).palette.action.active,transition:A.transitions.create("background-color",{duration:A.transitions.duration.shortest})},!O.disableRipple&&{"&:hover":{backgroundColor:A.vars?`rgba(${A.vars.palette.action.activeChannel} / ${A.vars.palette.action.hoverOpacity})`:Yl(A.palette.action.active,A.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},O.edge==="start"&&{marginLeft:O.size==="small"?-3:-12},O.edge==="end"&&{marginRight:O.size==="small"?-3:-12}),({theme:A,ownerState:O})=>{var q;const ce=(q=(A.vars||A).palette)==null?void 0:q[O.color];return on({},O.color==="inherit"&&{color:"inherit"},O.color!=="inherit"&&O.color!=="default"&&on({color:ce==null?void 0:ce.main},!O.disableRipple&&{"&:hover":on({},ce&&{backgroundColor:A.vars?`rgba(${ce.mainChannel} / ${A.vars.palette.action.hoverOpacity})`:Yl(ce.main,A.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),O.size==="small"&&{padding:5,fontSize:A.typography.pxToRem(18)},O.size==="large"&&{padding:12,fontSize:A.typography.pxToRem(28)},{[`&.${gI.disabled}`]:{backgroundColor:"transparent",color:(A.vars||A).palette.action.disabled}})}),WA=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiIconButton"}),{edge:Ae=!1,children:_e,className:G,color:H="default",disabled:e=!1,disableFocusRipple:g=!1,size:R="medium"}=ce,i=ja(ce,yI),C=on({},ce,{edge:Ae,color:H,disabled:e,disableFocusRipple:g,size:R}),S=mI(C);return xn.jsx(xI,on({className:Xa(S.root,G),centerRipple:!0,focusRipple:!g,disabled:e,ref:q},i,{ownerState:C,children:_e}))});function bI(A){return bi("MuiTypography",A)}pi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const wI=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],TI=A=>{const{align:O,gutterBottom:q,noWrap:ce,paragraph:Ae,variant:_e,classes:G}=A,H={root:["root",_e,A.align!=="inherit"&&`align${ei(O)}`,q&&"gutterBottom",ce&&"noWrap",Ae&&"paragraph"]};return Ai(H,bI,G)},AI=Ha("span",{name:"MuiTypography",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.variant&&O[q.variant],q.align!=="inherit"&&O[`align${ei(q.align)}`],q.noWrap&&O.noWrap,q.gutterBottom&&O.gutterBottom,q.paragraph&&O.paragraph]}})(({theme:A,ownerState:O})=>on({margin:0},O.variant==="inherit"&&{font:"inherit"},O.variant!=="inherit"&&A.typography[O.variant],O.align!=="inherit"&&{textAlign:O.align},O.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},O.gutterBottom&&{marginBottom:"0.35em"},O.paragraph&&{marginBottom:16})),tT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},SI={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},MI=A=>SI[A]||A,Mb=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTypography"}),Ae=MI(ce.color),_e=Sm(on({},ce,{color:Ae})),{align:G="inherit",className:H,component:e,gutterBottom:g=!1,noWrap:R=!1,paragraph:i=!1,variant:C="body1",variantMapping:S=tT}=_e,v=ja(_e,wI),d=on({},_e,{align:G,color:Ae,className:H,component:e,gutterBottom:g,noWrap:R,paragraph:i,variant:C,variantMapping:S}),r=e||(i?"p":S[C]||tT[C])||"span",t=TI(d);return xn.jsx(AI,on({as:r,ref:q,ownerState:d,className:Xa(t.root,H)},v))});function EI(A){return bi("MuiAppBar",A)}pi("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const CI=["className","color","enableColorOnDark","position"],LI=A=>{const{color:O,position:q,classes:ce}=A,Ae={root:["root",`color${ei(O)}`,`position${ei(q)}`]};return Ai(Ae,EI,ce)},zg=(A,O)=>A?`${A==null?void 0:A.replace(")","")}, ${O})`:O,PI=Ha(Yd,{name:"MuiAppBar",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,O[`position${ei(q.position)}`],O[`color${ei(q.color)}`]]}})(({theme:A,ownerState:O})=>{const q=A.palette.mode==="light"?A.palette.grey[100]:A.palette.grey[900];return on({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},O.position==="fixed"&&{position:"fixed",zIndex:(A.vars||A).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},O.position==="absolute"&&{position:"absolute",zIndex:(A.vars||A).zIndex.appBar,top:0,left:"auto",right:0},O.position==="sticky"&&{position:"sticky",zIndex:(A.vars||A).zIndex.appBar,top:0,left:"auto",right:0},O.position==="static"&&{position:"static"},O.position==="relative"&&{position:"relative"},!A.vars&&on({},O.color==="default"&&{backgroundColor:q,color:A.palette.getContrastText(q)},O.color&&O.color!=="default"&&O.color!=="inherit"&&O.color!=="transparent"&&{backgroundColor:A.palette[O.color].main,color:A.palette[O.color].contrastText},O.color==="inherit"&&{color:"inherit"},A.palette.mode==="dark"&&!O.enableColorOnDark&&{backgroundColor:null,color:null},O.color==="transparent"&&on({backgroundColor:"transparent",color:"inherit"},A.palette.mode==="dark"&&{backgroundImage:"none"})),A.vars&&on({},O.color==="default"&&{"--AppBar-background":O.enableColorOnDark?A.vars.palette.AppBar.defaultBg:zg(A.vars.palette.AppBar.darkBg,A.vars.palette.AppBar.defaultBg),"--AppBar-color":O.enableColorOnDark?A.vars.palette.text.primary:zg(A.vars.palette.AppBar.darkColor,A.vars.palette.text.primary)},O.color&&!O.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":O.enableColorOnDark?A.vars.palette[O.color].main:zg(A.vars.palette.AppBar.darkBg,A.vars.palette[O.color].main),"--AppBar-color":O.enableColorOnDark?A.vars.palette[O.color].contrastText:zg(A.vars.palette.AppBar.darkColor,A.vars.palette[O.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:O.color==="inherit"?"inherit":"var(--AppBar-color)"},O.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),RI=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiAppBar"}),{className:Ae,color:_e="primary",enableColorOnDark:G=!1,position:H="fixed"}=ce,e=ja(ce,CI),g=on({},ce,{color:_e,position:H,enableColorOnDark:G}),R=LI(g);return xn.jsx(PI,on({square:!0,component:"header",ownerState:g,elevation:4,className:Xa(R.root,Ae,H==="fixed"&&"mui-fixed"),ref:q},e))}),II=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kI(A){const O=parseInt(A.getAttribute("tabindex")||"",10);return Number.isNaN(O)?A.contentEditable==="true"||(A.nodeName==="AUDIO"||A.nodeName==="VIDEO"||A.nodeName==="DETAILS")&&A.getAttribute("tabindex")===null?0:A.tabIndex:O}function DI(A){if(A.tagName!=="INPUT"||A.type!=="radio"||!A.name)return!1;const O=ce=>A.ownerDocument.querySelector(`input[type="radio"]${ce}`);let q=O(`[name="${A.name}"]:checked`);return q||(q=O(`[name="${A.name}"]`)),q!==A}function _I(A){return!(A.disabled||A.tagName==="INPUT"&&A.type==="hidden"||DI(A))}function zI(A){const O=[],q=[];return Array.from(A.querySelectorAll(II)).forEach((ce,Ae)=>{const _e=kI(ce);_e===-1||!_I(ce)||(_e===0?O.push(ce):q.push({documentOrder:Ae,tabIndex:_e,node:ce}))}),q.sort((ce,Ae)=>ce.tabIndex===Ae.tabIndex?ce.documentOrder-Ae.documentOrder:ce.tabIndex-Ae.tabIndex).map(ce=>ce.node).concat(O)}function OI(){return!0}function FI(A){const{children:O,disableAutoFocus:q=!1,disableEnforceFocus:ce=!1,disableRestoreFocus:Ae=!1,getTabbable:_e=zI,isEnabled:G=OI,open:H}=A,e=Wr.useRef(!1),g=Wr.useRef(null),R=Wr.useRef(null),i=Wr.useRef(null),C=Wr.useRef(null),S=Wr.useRef(!1),v=Wr.useRef(null),d=Ys(O.ref,v),r=Wr.useRef(null);Wr.useEffect(()=>{!H||!v.current||(S.current=!q)},[q,H]),Wr.useEffect(()=>{if(!H||!v.current)return;const n=al(v.current);return v.current.contains(n.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),S.current&&v.current.focus()),()=>{Ae||(i.current&&i.current.focus&&(e.current=!0,i.current.focus()),i.current=null)}},[H]),Wr.useEffect(()=>{if(!H||!v.current)return;const n=al(v.current),f=y=>{r.current=y,!(ce||!G()||y.key!=="Tab")&&n.activeElement===v.current&&y.shiftKey&&(e.current=!0,R.current&&R.current.focus())},u=()=>{const y=v.current;if(y===null)return;if(!n.hasFocus()||!G()||e.current){e.current=!1;return}if(y.contains(n.activeElement)||ce&&n.activeElement!==g.current&&n.activeElement!==R.current)return;if(n.activeElement!==C.current)C.current=null;else if(C.current!==null)return;if(!S.current)return;let h=[];if((n.activeElement===g.current||n.activeElement===R.current)&&(h=_e(v.current)),h.length>0){var T,c;const o=!!((T=r.current)!=null&&T.shiftKey&&((c=r.current)==null?void 0:c.key)==="Tab"),p=h[0],x=h[h.length-1];typeof p!="string"&&typeof x!="string"&&(o?x.focus():p.focus())}else y.focus()};n.addEventListener("focusin",u),n.addEventListener("keydown",f,!0);const l=setInterval(()=>{n.activeElement&&n.activeElement.tagName==="BODY"&&u()},50);return()=>{clearInterval(l),n.removeEventListener("focusin",u),n.removeEventListener("keydown",f,!0)}},[q,ce,Ae,G,H,_e]);const t=n=>{i.current===null&&(i.current=n.relatedTarget),S.current=!0,C.current=n.target;const f=O.props.onFocus;f&&f(n)},a=n=>{i.current===null&&(i.current=n.relatedTarget),S.current=!0};return xn.jsxs(Wr.Fragment,{children:[xn.jsx("div",{tabIndex:H?0:-1,onFocus:a,ref:g,"data-testid":"sentinelStart"}),Wr.cloneElement(O,{ref:d,onFocus:t}),xn.jsx("div",{tabIndex:H?0:-1,onFocus:a,ref:R,"data-testid":"sentinelEnd"})]})}function BI(A){return typeof A=="function"?A():A}const NI=Wr.forwardRef(function(O,q){const{children:ce,container:Ae,disablePortal:_e=!1}=O,[G,H]=Wr.useState(null),e=Ys(Wr.isValidElement(ce)?ce.ref:null,q);if(Kf(()=>{_e||H(BI(Ae)||document.body)},[Ae,_e]),Kf(()=>{if(G&&!_e)return Ly(q,G),()=>{Ly(q,null)}},[q,G,_e]),_e){if(Wr.isValidElement(ce)){const g={ref:e};return Wr.cloneElement(ce,g)}return xn.jsx(Wr.Fragment,{children:ce})}return xn.jsx(Wr.Fragment,{children:G&&S3.createPortal(ce,G)})});function UI(A){const O=al(A);return O.body===A?$f(A).innerWidth>O.documentElement.clientWidth:A.scrollHeight>A.clientHeight}function t0(A,O){O?A.setAttribute("aria-hidden","true"):A.removeAttribute("aria-hidden")}function rT(A){return parseInt($f(A).getComputedStyle(A).paddingRight,10)||0}function VI(A){const q=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(A.tagName)!==-1,ce=A.tagName==="INPUT"&&A.getAttribute("type")==="hidden";return q||ce}function nT(A,O,q,ce,Ae){const _e=[O,q,...ce];[].forEach.call(A.children,G=>{const H=_e.indexOf(G)===-1,e=!VI(G);H&&e&&t0(G,Ae)})}function cx(A,O){let q=-1;return A.some((ce,Ae)=>O(ce)?(q=Ae,!0):!1),q}function HI(A,O){const q=[],ce=A.container;if(!O.disableScrollLock){if(UI(ce)){const G=EA(al(ce));q.push({value:ce.style.paddingRight,property:"padding-right",el:ce}),ce.style.paddingRight=`${rT(ce)+G}px`;const H=al(ce).querySelectorAll(".mui-fixed");[].forEach.call(H,e=>{q.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${rT(e)+G}px`})}let _e;if(ce.parentNode instanceof DocumentFragment)_e=al(ce).body;else{const G=ce.parentElement,H=$f(ce);_e=(G==null?void 0:G.nodeName)==="HTML"&&H.getComputedStyle(G).overflowY==="scroll"?G:ce}q.push({value:_e.style.overflow,property:"overflow",el:_e},{value:_e.style.overflowX,property:"overflow-x",el:_e},{value:_e.style.overflowY,property:"overflow-y",el:_e}),_e.style.overflow="hidden"}return()=>{q.forEach(({value:_e,el:G,property:H})=>{_e?G.style.setProperty(H,_e):G.style.removeProperty(H)})}}function GI(A){const O=[];return[].forEach.call(A.children,q=>{q.getAttribute("aria-hidden")==="true"&&O.push(q)}),O}class WI{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(O,q){let ce=this.modals.indexOf(O);if(ce!==-1)return ce;ce=this.modals.length,this.modals.push(O),O.modalRef&&t0(O.modalRef,!1);const Ae=GI(q);nT(q,O.mount,O.modalRef,Ae,!0);const _e=cx(this.containers,G=>G.container===q);return _e!==-1?(this.containers[_e].modals.push(O),ce):(this.containers.push({modals:[O],container:q,restore:null,hiddenSiblings:Ae}),ce)}mount(O,q){const ce=cx(this.containers,_e=>_e.modals.indexOf(O)!==-1),Ae=this.containers[ce];Ae.restore||(Ae.restore=HI(Ae,q))}remove(O,q=!0){const ce=this.modals.indexOf(O);if(ce===-1)return ce;const Ae=cx(this.containers,G=>G.modals.indexOf(O)!==-1),_e=this.containers[Ae];if(_e.modals.splice(_e.modals.indexOf(O),1),this.modals.splice(ce,1),_e.modals.length===0)_e.restore&&_e.restore(),O.modalRef&&t0(O.modalRef,q),nT(_e.container,O.mount,O.modalRef,_e.hiddenSiblings,!1),this.containers.splice(Ae,1);else{const G=_e.modals[_e.modals.length-1];G.modalRef&&t0(G.modalRef,!1)}return ce}isTopModal(O){return this.modals.length>0&&this.modals[this.modals.length-1]===O}}function YI(A){return typeof A=="function"?A():A}function jI(A){return A?A.props.hasOwnProperty("in"):!1}const XI=new WI;function ZI(A){const{container:O,disableEscapeKeyDown:q=!1,disableScrollLock:ce=!1,manager:Ae=XI,closeAfterTransition:_e=!1,onTransitionEnter:G,onTransitionExited:H,children:e,onClose:g,open:R,rootRef:i}=A,C=Wr.useRef({}),S=Wr.useRef(null),v=Wr.useRef(null),d=Ys(v,i),[r,t]=Wr.useState(!R),a=jI(e);let n=!0;(A["aria-hidden"]==="false"||A["aria-hidden"]===!1)&&(n=!1);const f=()=>al(S.current),u=()=>(C.current.modalRef=v.current,C.current.mount=S.current,C.current),l=()=>{Ae.mount(u(),{disableScrollLock:ce}),v.current&&(v.current.scrollTop=0)},y=Yf(()=>{const m=YI(O)||f().body;Ae.add(u(),m),v.current&&l()}),h=Wr.useCallback(()=>Ae.isTopModal(u()),[Ae]),T=Yf(m=>{S.current=m,m&&(R&&h()?l():v.current&&t0(v.current,n))}),c=Wr.useCallback(()=>{Ae.remove(u(),n)},[n,Ae]);Wr.useEffect(()=>()=>{c()},[c]),Wr.useEffect(()=>{R?y():(!a||!_e)&&c()},[R,c,a,_e,y]);const o=m=>L=>{var M;(M=m.onKeyDown)==null||M.call(m,L),!(L.key!=="Escape"||L.which===229||!h())&&(q||(L.stopPropagation(),g&&g(L,"escapeKeyDown")))},p=m=>L=>{var M;(M=m.onClick)==null||M.call(m,L),L.target===L.currentTarget&&g&&g(L,"backdropClick")};return{getRootProps:(m={})=>{const L=GA(A);delete L.onTransitionEnter,delete L.onTransitionExited;const M=on({},L,m);return on({role:"presentation"},M,{onKeyDown:o(M),ref:d})},getBackdropProps:(m={})=>{const L=m;return on({"aria-hidden":!0},L,{onClick:p(L),open:R})},getTransitionProps:()=>{const m=()=>{t(!1),G&&G()},L=()=>{t(!0),H&&H(),_e&&c()};return{onEnter:mb(m,e==null?void 0:e.props.onEnter),onExited:mb(L,e==null?void 0:e.props.onExited)}},rootRef:d,portalRef:T,isTopModal:h,exited:r,hasTransition:a}}const KI=["onChange","maxRows","minRows","style","value"];function Og(A){return parseInt(A,10)||0}const $I={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function JI(A){return A==null||Object.keys(A).length===0||A.outerHeightStyle===0&&!A.overflowing}const QI=Wr.forwardRef(function(O,q){const{onChange:ce,maxRows:Ae,minRows:_e=1,style:G,value:H}=O,e=ja(O,KI),{current:g}=Wr.useRef(H!=null),R=Wr.useRef(null),i=Ys(q,R),C=Wr.useRef(null),S=Wr.useCallback(()=>{const r=R.current,a=$f(r).getComputedStyle(r);if(a.width==="0px")return{outerHeightStyle:0,overflowing:!1};const n=C.current;n.style.width=a.width,n.value=r.value||O.placeholder||"x",n.value.slice(-1)===`
`&&(n.value+=" ");const f=a.boxSizing,u=Og(a.paddingBottom)+Og(a.paddingTop),l=Og(a.borderBottomWidth)+Og(a.borderTopWidth),y=n.scrollHeight;n.value="x";const h=n.scrollHeight;let T=y;_e&&(T=Math.max(Number(_e)*h,T)),Ae&&(T=Math.min(Number(Ae)*h,T)),T=Math.max(T,h);const c=T+(f==="border-box"?u+l:0),o=Math.abs(T-y)<=1;return{outerHeightStyle:c,overflowing:o}},[Ae,_e,O.placeholder]),v=Wr.useCallback(()=>{const r=S();if(JI(r))return;const t=R.current;t.style.height=`${r.outerHeightStyle}px`,t.style.overflow=r.overflowing?"hidden":""},[S]);Kf(()=>{const r=()=>{v()};let t;const a=B0(r),n=R.current,f=$f(n);f.addEventListener("resize",a);let u;return typeof ResizeObserver<"u"&&(u=new ResizeObserver(r),u.observe(n)),()=>{a.clear(),cancelAnimationFrame(t),f.removeEventListener("resize",a),u&&u.disconnect()}},[S,v]),Kf(()=>{v()});const d=r=>{g||v(),ce&&ce(r)};return xn.jsxs(Wr.Fragment,{children:[xn.jsx("textarea",on({value:H,onChange:d,ref:i,rows:_e,style:G},e)),xn.jsx("textarea",{"aria-hidden":!0,className:O.className,readOnly:!0,ref:C,tabIndex:-1,style:on({},$I.shadow,G,{paddingTop:0,paddingBottom:0})})]})});function U0({props:A,states:O,muiFormControl:q}){return O.reduce((ce,Ae)=>(ce[Ae]=A[Ae],q&&typeof A[Ae]>"u"&&(ce[Ae]=q[Ae]),ce),{})}const K3=Wr.createContext(void 0);function ep(){return Wr.useContext(K3)}function qI(A){return xn.jsx($7,on({},A,{defaultTheme:Fm,themeId:k0}))}function aT(A){return A!=null&&!(Array.isArray(A)&&A.length===0)}function _y(A,O=!1){return A&&(aT(A.value)&&A.value!==""||O&&aT(A.defaultValue)&&A.defaultValue!=="")}function ek(A){return A.startAdornment}function tk(A){return bi("MuiInputBase",A)}const jd=pi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),rk=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],$m=(A,O)=>{const{ownerState:q}=A;return[O.root,q.formControl&&O.formControl,q.startAdornment&&O.adornedStart,q.endAdornment&&O.adornedEnd,q.error&&O.error,q.size==="small"&&O.sizeSmall,q.multiline&&O.multiline,q.color&&O[`color${ei(q.color)}`],q.fullWidth&&O.fullWidth,q.hiddenLabel&&O.hiddenLabel]},Jm=(A,O)=>{const{ownerState:q}=A;return[O.input,q.size==="small"&&O.inputSizeSmall,q.multiline&&O.inputMultiline,q.type==="search"&&O.inputTypeSearch,q.startAdornment&&O.inputAdornedStart,q.endAdornment&&O.inputAdornedEnd,q.hiddenLabel&&O.inputHiddenLabel]},nk=A=>{const{classes:O,color:q,disabled:ce,error:Ae,endAdornment:_e,focused:G,formControl:H,fullWidth:e,hiddenLabel:g,multiline:R,readOnly:i,size:C,startAdornment:S,type:v}=A,d={root:["root",`color${ei(q)}`,ce&&"disabled",Ae&&"error",e&&"fullWidth",G&&"focused",H&&"formControl",C&&C!=="medium"&&`size${ei(C)}`,R&&"multiline",S&&"adornedStart",_e&&"adornedEnd",g&&"hiddenLabel",i&&"readOnly"],input:["input",ce&&"disabled",v==="search"&&"inputTypeSearch",R&&"inputMultiline",C==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",S&&"inputAdornedStart",_e&&"inputAdornedEnd",i&&"readOnly"]};return Ai(d,tk,O)},Qm=Ha("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$m})(({theme:A,ownerState:O})=>on({},A.typography.body1,{color:(A.vars||A).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jd.disabled}`]:{color:(A.vars||A).palette.text.disabled,cursor:"default"}},O.multiline&&on({padding:"4px 0 5px"},O.size==="small"&&{paddingTop:1}),O.fullWidth&&{width:"100%"})),qm=Ha("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jm})(({theme:A,ownerState:O})=>{const q=A.palette.mode==="light",ce=on({color:"currentColor"},A.vars?{opacity:A.vars.opacity.inputPlaceholder}:{opacity:q?.42:.5},{transition:A.transitions.create("opacity",{duration:A.transitions.duration.shorter})}),Ae={opacity:"0 !important"},_e=A.vars?{opacity:A.vars.opacity.inputPlaceholder}:{opacity:q?.42:.5};return on({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":ce,"&::-moz-placeholder":ce,"&:-ms-input-placeholder":ce,"&::-ms-input-placeholder":ce,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jd.formControl} &`]:{"&::-webkit-input-placeholder":Ae,"&::-moz-placeholder":Ae,"&:-ms-input-placeholder":Ae,"&::-ms-input-placeholder":Ae,"&:focus::-webkit-input-placeholder":_e,"&:focus::-moz-placeholder":_e,"&:focus:-ms-input-placeholder":_e,"&:focus::-ms-input-placeholder":_e},[`&.${jd.disabled}`]:{opacity:1,WebkitTextFillColor:(A.vars||A).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},O.size==="small"&&{paddingTop:1},O.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},O.type==="search"&&{MozAppearance:"textfield"})}),ak=xn.jsx(qI,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ik=Wr.forwardRef(function(O,q){var ce;const Ae=Ci({props:O,name:"MuiInputBase"}),{"aria-describedby":_e,autoComplete:G,autoFocus:H,className:e,components:g={},componentsProps:R={},defaultValue:i,disabled:C,disableInjectingGlobalStyles:S,endAdornment:v,fullWidth:d=!1,id:r,inputComponent:t="input",inputProps:a={},inputRef:n,maxRows:f,minRows:u,multiline:l=!1,name:y,onBlur:h,onChange:T,onClick:c,onFocus:o,onKeyDown:p,onKeyUp:x,placeholder:b,readOnly:P,renderSuffix:m,rows:L,slotProps:M={},slots:s={},startAdornment:E,type:w="text",value:_}=Ae,D=ja(Ae,rk),N=a.value!=null?a.value:_,{current:z}=Wr.useRef(N!=null),F=Wr.useRef(),U=Wr.useCallback(Te=>{},[]),B=Ys(F,n,a.ref,U),[V,j]=Wr.useState(!1),Q=ep(),ee=U0({props:Ae,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ee.focused=Q?Q.focused:V,Wr.useEffect(()=>{!Q&&C&&V&&(j(!1),h&&h())},[Q,C,V,h]);const re=Q&&Q.onFilled,ue=Q&&Q.onEmpty,J=Wr.useCallback(Te=>{_y(Te)?re&&re():ue&&ue()},[re,ue]);Kf(()=>{z&&J({value:N})},[N,J,z]);const X=Te=>{if(ee.disabled){Te.stopPropagation();return}o&&o(Te),a.onFocus&&a.onFocus(Te),Q&&Q.onFocus?Q.onFocus(Te):j(!0)},ne=Te=>{h&&h(Te),a.onBlur&&a.onBlur(Te),Q&&Q.onBlur?Q.onBlur(Te):j(!1)},Y=(Te,...Pe)=>{if(!z){const be=Te.target||F.current;if(be==null)throw new Error(kv(1));J({value:be.value})}a.onChange&&a.onChange(Te,...Pe),T&&T(Te,...Pe)};Wr.useEffect(()=>{J(F.current)},[]);const oe=Te=>{F.current&&Te.currentTarget===Te.target&&F.current.focus(),c&&c(Te)};let le=t,Z=a;l&&le==="input"&&(L?Z=on({type:void 0,minRows:L,maxRows:L},Z):Z=on({type:void 0,maxRows:f,minRows:u},Z),le=QI);const $=Te=>{J(Te.animationName==="mui-auto-fill-cancel"?F.current:{value:"x"})};Wr.useEffect(()=>{Q&&Q.setAdornedStart(!!E)},[Q,E]);const se=on({},Ae,{color:ee.color||"primary",disabled:ee.disabled,endAdornment:v,error:ee.error,focused:ee.focused,formControl:Q,fullWidth:d,hiddenLabel:ee.hiddenLabel,multiline:l,size:ee.size,startAdornment:E,type:w}),ae=nk(se),he=s.root||g.Root||Qm,me=M.root||R.root||{},Me=s.input||g.Input||qm;return Z=on({},Z,(ce=M.input)!=null?ce:R.input),xn.jsxs(Wr.Fragment,{children:[!S&&ak,xn.jsxs(he,on({},me,!Dy(he)&&{ownerState:on({},se,me.ownerState)},{ref:q,onClick:oe},D,{className:Xa(ae.root,me.className,e,P&&"MuiInputBase-readOnly"),children:[E,xn.jsx(K3.Provider,{value:null,children:xn.jsx(Me,on({ownerState:se,"aria-invalid":ee.error,"aria-describedby":_e,autoComplete:G,autoFocus:H,defaultValue:i,disabled:ee.disabled,id:r,onAnimationStart:$,name:y,placeholder:b,readOnly:P,required:ee.required,rows:L,value:N,onKeyDown:p,onKeyUp:x,type:w},Z,!Dy(Me)&&{as:le,ownerState:on({},se,Z.ownerState)},{ref:B,className:Xa(ae.input,Z.className,P&&"MuiInputBase-readOnly"),onBlur:ne,onChange:Y,onFocus:X}))}),v,m?m(on({},ee,{startAdornment:E})):null]}))]})}),$3=ik;function ok(A){return bi("MuiInput",A)}const _p=on({},jd,pi("MuiInput",["root","underline","input"]));function sk(A){return bi("MuiOutlinedInput",A)}const bh=on({},jd,pi("MuiOutlinedInput",["root","notchedOutline","input"]));function lk(A){return bi("MuiFilledInput",A)}const pv=on({},jd,pi("MuiFilledInput",["root","underline","input"])),uk=Vh(xn.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),fk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ck={entering:{opacity:1},entered:{opacity:1}},hk=Wr.forwardRef(function(O,q){const ce=Bm(),Ae={enter:ce.transitions.duration.enteringScreen,exit:ce.transitions.duration.leavingScreen},{addEndListener:_e,appear:G=!0,children:H,easing:e,in:g,onEnter:R,onEntered:i,onEntering:C,onExit:S,onExited:v,onExiting:d,style:r,timeout:t=Ae,TransitionComponent:a=Qf}=O,n=ja(O,fk),f=Wr.useRef(null),u=Ys(f,H.ref,q),l=b=>P=>{if(b){const m=f.current;P===void 0?b(m):b(m,P)}},y=l(C),h=l((b,P)=>{HA(b);const m=ky({style:r,timeout:t,easing:e},{mode:"enter"});b.style.webkitTransition=ce.transitions.create("opacity",m),b.style.transition=ce.transitions.create("opacity",m),R&&R(b,P)}),T=l(i),c=l(d),o=l(b=>{const P=ky({style:r,timeout:t,easing:e},{mode:"exit"});b.style.webkitTransition=ce.transitions.create("opacity",P),b.style.transition=ce.transitions.create("opacity",P),S&&S(b)}),p=l(v),x=b=>{_e&&_e(f.current,b)};return xn.jsx(a,on({appear:G,in:g,nodeRef:f,onEnter:h,onEntered:T,onEntering:y,onExit:o,onExited:p,onExiting:c,addEndListener:x,timeout:t},n,{children:(b,P)=>Wr.cloneElement(H,on({style:on({opacity:0,visibility:b==="exited"&&!g?"hidden":void 0},ck[b],r,H.props.style),ref:u},P))}))});function vk(A){return bi("MuiBackdrop",A)}pi("MuiBackdrop",["root","invisible"]);const dk=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],pk=A=>{const{classes:O,invisible:q}=A;return Ai({root:["root",q&&"invisible"]},vk,O)},gk=Ha("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.invisible&&O.invisible]}})(({ownerState:A})=>on({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},A.invisible&&{backgroundColor:"transparent"})),yk=Wr.forwardRef(function(O,q){var ce,Ae,_e;const G=Ci({props:O,name:"MuiBackdrop"}),{children:H,className:e,component:g="div",components:R={},componentsProps:i={},invisible:C=!1,open:S,slotProps:v={},slots:d={},TransitionComponent:r=hk,transitionDuration:t}=G,a=ja(G,dk),n=on({},G,{component:g,invisible:C}),f=pk(n),u=(ce=v.root)!=null?ce:i.root;return xn.jsx(r,on({in:S,timeout:t},a,{children:xn.jsx(gk,on({"aria-hidden":!0},u,{as:(Ae=(_e=d.root)!=null?_e:R.Root)!=null?Ae:g,className:Xa(f.root,e,u==null?void 0:u.className),ownerState:on({},n,u==null?void 0:u.ownerState),classes:f,ref:q,children:H}))}))}),mk=pi("MuiBox",["root"]),xk=FA(),Eb=r9({themeId:k0,defaultTheme:xk,defaultClassName:mk.root,generateClassName:F3.generate});function bk(A){return bi("PrivateSwitchBase",A)}pi("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const wk=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Tk=A=>{const{classes:O,checked:q,disabled:ce,edge:Ae}=A,_e={root:["root",q&&"checked",ce&&"disabled",Ae&&`edge${ei(Ae)}`],input:["input"]};return Ai(_e,bk,O)},Ak=Ha(qd)(({ownerState:A})=>on({padding:9,borderRadius:"50%"},A.edge==="start"&&{marginLeft:A.size==="small"?-3:-12},A.edge==="end"&&{marginRight:A.size==="small"?-3:-12})),Sk=Ha("input",{shouldForwardProp:ql})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Mk=Wr.forwardRef(function(O,q){const{autoFocus:ce,checked:Ae,checkedIcon:_e,className:G,defaultChecked:H,disabled:e,disableFocusRipple:g=!1,edge:R=!1,icon:i,id:C,inputProps:S,inputRef:v,name:d,onBlur:r,onChange:t,onFocus:a,readOnly:n,required:f=!1,tabIndex:u,type:l,value:y}=O,h=ja(O,wk),[T,c]=Py({controlled:Ae,default:!!H,name:"SwitchBase",state:"checked"}),o=ep(),p=s=>{a&&a(s),o&&o.onFocus&&o.onFocus(s)},x=s=>{r&&r(s),o&&o.onBlur&&o.onBlur(s)},b=s=>{if(s.nativeEvent.defaultPrevented)return;const E=s.target.checked;c(E),t&&t(s,E)};let P=e;o&&typeof P>"u"&&(P=o.disabled);const m=l==="checkbox"||l==="radio",L=on({},O,{checked:T,disabled:P,disableFocusRipple:g,edge:R}),M=Tk(L);return xn.jsxs(Ak,on({component:"span",className:Xa(M.root,G),centerRipple:!0,focusRipple:!g,disabled:P,tabIndex:null,role:void 0,onFocus:p,onBlur:x,ownerState:L,ref:q},h,{children:[xn.jsx(Sk,on({autoFocus:ce,checked:Ae,defaultChecked:H,className:M.input,disabled:P,id:m?C:void 0,name:d,onChange:b,readOnly:n,ref:v,required:f,ownerState:L,tabIndex:u,type:l},l==="checkbox"&&y===void 0?{}:{value:y},S)),T?_e:i]}))}),Ek=Vh(xn.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Ck=Vh(xn.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Lk=Vh(xn.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Pk(A){return bi("MuiCheckbox",A)}const hx=pi("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Rk=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ik=A=>{const{classes:O,indeterminate:q,color:ce,size:Ae}=A,_e={root:["root",q&&"indeterminate",`color${ei(ce)}`,`size${ei(Ae)}`]},G=Ai(_e,Pk,O);return on({},O,G)},kk=Ha(Mk,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.indeterminate&&O.indeterminate,O[`size${ei(q.size)}`],q.color!=="default"&&O[`color${ei(q.color)}`]]}})(({theme:A,ownerState:O})=>on({color:(A.vars||A).palette.text.secondary},!O.disableRipple&&{"&:hover":{backgroundColor:A.vars?`rgba(${O.color==="default"?A.vars.palette.action.activeChannel:A.vars.palette[O.color].mainChannel} / ${A.vars.palette.action.hoverOpacity})`:Yl(O.color==="default"?A.palette.action.active:A.palette[O.color].main,A.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},O.color!=="default"&&{[`&.${hx.checked}, &.${hx.indeterminate}`]:{color:(A.vars||A).palette[O.color].main},[`&.${hx.disabled}`]:{color:(A.vars||A).palette.action.disabled}})),Dk=xn.jsx(Ck,{}),_k=xn.jsx(Ek,{}),zk=xn.jsx(Lk,{}),iT=Wr.forwardRef(function(O,q){var ce,Ae;const _e=Ci({props:O,name:"MuiCheckbox"}),{checkedIcon:G=Dk,color:H="primary",icon:e=_k,indeterminate:g=!1,indeterminateIcon:R=zk,inputProps:i,size:C="medium",className:S}=_e,v=ja(_e,Rk),d=g?R:e,r=g?R:G,t=on({},_e,{color:H,indeterminate:g,size:C}),a=Ik(t);return xn.jsx(kk,on({type:"checkbox",inputProps:on({"data-indeterminate":g},i),icon:Wr.cloneElement(d,{fontSize:(ce=d.props.fontSize)!=null?ce:C}),checkedIcon:Wr.cloneElement(r,{fontSize:(Ae=r.props.fontSize)!=null?Ae:C}),ownerState:t,ref:q,className:Xa(a.root,S)},v,{classes:a}))});function Ok(A){return bi("MuiModal",A)}pi("MuiModal",["root","hidden","backdrop"]);const Fk=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Bk=A=>{const{open:O,exited:q,classes:ce}=A;return Ai({root:["root",!O&&q&&"hidden"],backdrop:["backdrop"]},Ok,ce)},Nk=Ha("div",{name:"MuiModal",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,!q.open&&q.exited&&O.hidden]}})(({theme:A,ownerState:O})=>on({position:"fixed",zIndex:(A.vars||A).zIndex.modal,right:0,bottom:0,top:0,left:0},!O.open&&O.exited&&{visibility:"hidden"})),Uk=Ha(yk,{name:"MuiModal",slot:"Backdrop",overridesResolver:(A,O)=>O.backdrop})({zIndex:-1}),Vk=Wr.forwardRef(function(O,q){var ce,Ae,_e,G,H,e;const g=Ci({name:"MuiModal",props:O}),{BackdropComponent:R=Uk,BackdropProps:i,className:C,closeAfterTransition:S=!1,children:v,container:d,component:r,components:t={},componentsProps:a={},disableAutoFocus:n=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:u=!1,disablePortal:l=!1,disableRestoreFocus:y=!1,disableScrollLock:h=!1,hideBackdrop:T=!1,keepMounted:c=!1,onBackdropClick:o,open:p,slotProps:x,slots:b}=g,P=ja(g,Fk),m=on({},g,{closeAfterTransition:S,disableAutoFocus:n,disableEnforceFocus:f,disableEscapeKeyDown:u,disablePortal:l,disableRestoreFocus:y,disableScrollLock:h,hideBackdrop:T,keepMounted:c}),{getRootProps:L,getBackdropProps:M,getTransitionProps:s,portalRef:E,isTopModal:w,exited:_,hasTransition:D}=ZI(on({},m,{rootRef:q})),N=on({},m,{exited:_}),z=Bk(N),F={};if(v.props.tabIndex===void 0&&(F.tabIndex="-1"),D){const{onEnter:re,onExited:ue}=s();F.onEnter=re,F.onExited=ue}const U=(ce=(Ae=b==null?void 0:b.root)!=null?Ae:t.Root)!=null?ce:Nk,B=(_e=(G=b==null?void 0:b.backdrop)!=null?G:t.Backdrop)!=null?_e:R,V=(H=x==null?void 0:x.root)!=null?H:a.root,j=(e=x==null?void 0:x.backdrop)!=null?e:a.backdrop,Q=Jf({elementType:U,externalSlotProps:V,externalForwardedProps:P,getSlotProps:L,additionalProps:{ref:q,as:r},ownerState:N,className:Xa(C,V==null?void 0:V.className,z==null?void 0:z.root,!N.open&&N.exited&&(z==null?void 0:z.hidden))}),ee=Jf({elementType:B,externalSlotProps:j,additionalProps:i,getSlotProps:re=>M(on({},re,{onClick:ue=>{o&&o(ue),re!=null&&re.onClick&&re.onClick(ue)}})),className:Xa(j==null?void 0:j.className,i==null?void 0:i.className,z==null?void 0:z.backdrop),ownerState:N});return!c&&!p&&(!D||_)?null:xn.jsx(NI,{ref:E,container:d,disablePortal:l,children:xn.jsxs(U,on({},Q,{children:[!T&&R?xn.jsx(B,on({},ee)):null,xn.jsx(FI,{disableEnforceFocus:f,disableAutoFocus:n,disableRestoreFocus:y,isEnabled:w,open:p,children:Wr.cloneElement(v,F)})]}))})}),oT=pi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Hk=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Gk=A=>{const{classes:O,disableUnderline:q}=A,Ae=Ai({root:["root",!q&&"underline"],input:["input"]},lk,O);return on({},O,Ae)},Wk=Ha(Qm,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[...$m(A,O),!q.disableUnderline&&O.underline]}})(({theme:A,ownerState:O})=>{var q;const ce=A.palette.mode==="light",Ae=ce?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",_e=ce?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",G=ce?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",H=ce?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return on({position:"relative",backgroundColor:A.vars?A.vars.palette.FilledInput.bg:_e,borderTopLeftRadius:(A.vars||A).shape.borderRadius,borderTopRightRadius:(A.vars||A).shape.borderRadius,transition:A.transitions.create("background-color",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),"&:hover":{backgroundColor:A.vars?A.vars.palette.FilledInput.hoverBg:G,"@media (hover: none)":{backgroundColor:A.vars?A.vars.palette.FilledInput.bg:_e}},[`&.${pv.focused}`]:{backgroundColor:A.vars?A.vars.palette.FilledInput.bg:_e},[`&.${pv.disabled}`]:{backgroundColor:A.vars?A.vars.palette.FilledInput.disabledBg:H}},!O.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(q=(A.vars||A).palette[O.color||"primary"])==null?void 0:q.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:A.transitions.create("transform",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pv.error}`]:{"&::before, &::after":{borderBottomColor:(A.vars||A).palette.error.main}},"&::before":{borderBottom:`1px solid ${A.vars?`rgba(${A.vars.palette.common.onBackgroundChannel} / ${A.vars.opacity.inputUnderline})`:Ae}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:A.transitions.create("border-bottom-color",{duration:A.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pv.disabled}, .${pv.error}):before`]:{borderBottom:`1px solid ${(A.vars||A).palette.text.primary}`},[`&.${pv.disabled}:before`]:{borderBottomStyle:"dotted"}},O.startAdornment&&{paddingLeft:12},O.endAdornment&&{paddingRight:12},O.multiline&&on({padding:"25px 12px 8px"},O.size==="small"&&{paddingTop:21,paddingBottom:4},O.hiddenLabel&&{paddingTop:16,paddingBottom:17},O.hiddenLabel&&O.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Yk=Ha(qm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jm})(({theme:A,ownerState:O})=>on({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!A.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:A.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:A.palette.mode==="light"?null:"#fff",caretColor:A.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},A.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[A.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},O.size==="small"&&{paddingTop:21,paddingBottom:4},O.hiddenLabel&&{paddingTop:16,paddingBottom:17},O.startAdornment&&{paddingLeft:0},O.endAdornment&&{paddingRight:0},O.hiddenLabel&&O.size==="small"&&{paddingTop:8,paddingBottom:9},O.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),YA=Wr.forwardRef(function(O,q){var ce,Ae,_e,G;const H=Ci({props:O,name:"MuiFilledInput"}),{components:e={},componentsProps:g,fullWidth:R=!1,inputComponent:i="input",multiline:C=!1,slotProps:S,slots:v={},type:d="text"}=H,r=ja(H,Hk),t=on({},H,{fullWidth:R,inputComponent:i,multiline:C,type:d}),a=Gk(H),n={root:{ownerState:t},input:{ownerState:t}},f=S??g?Zl(n,S??g):n,u=(ce=(Ae=v.root)!=null?Ae:e.Root)!=null?ce:Wk,l=(_e=(G=v.input)!=null?G:e.Input)!=null?_e:Yk;return xn.jsx($3,on({slots:{root:u,input:l},componentsProps:f,fullWidth:R,inputComponent:i,multiline:C,ref:q,type:d},r,{classes:a}))});YA.muiName="Input";function jk(A){return bi("MuiFormControl",A)}pi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Xk=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Zk=A=>{const{classes:O,margin:q,fullWidth:ce}=A,Ae={root:["root",q!=="none"&&`margin${ei(q)}`,ce&&"fullWidth"]};return Ai(Ae,jk,O)},Kk=Ha("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:A},O)=>on({},O.root,O[`margin${ei(A.margin)}`],A.fullWidth&&O.fullWidth)})(({ownerState:A})=>on({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},A.margin==="normal"&&{marginTop:16,marginBottom:8},A.margin==="dense"&&{marginTop:8,marginBottom:4},A.fullWidth&&{width:"100%"})),zy=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiFormControl"}),{children:Ae,className:_e,color:G="primary",component:H="div",disabled:e=!1,error:g=!1,focused:R,fullWidth:i=!1,hiddenLabel:C=!1,margin:S="none",required:v=!1,size:d="medium",variant:r="outlined"}=ce,t=ja(ce,Xk),a=on({},ce,{color:G,component:H,disabled:e,error:g,fullWidth:i,hiddenLabel:C,margin:S,required:v,size:d,variant:r}),n=Zk(a),[f,u]=Wr.useState(()=>{let x=!1;return Ae&&Wr.Children.forEach(Ae,b=>{if(!qg(b,["Input","Select"]))return;const P=qg(b,["Select"])?b.props.input:b;P&&ek(P.props)&&(x=!0)}),x}),[l,y]=Wr.useState(()=>{let x=!1;return Ae&&Wr.Children.forEach(Ae,b=>{qg(b,["Input","Select"])&&(_y(b.props,!0)||_y(b.props.inputProps,!0))&&(x=!0)}),x}),[h,T]=Wr.useState(!1);e&&h&&T(!1);const c=R!==void 0&&!e?R:h;let o;const p=Wr.useMemo(()=>({adornedStart:f,setAdornedStart:u,color:G,disabled:e,error:g,filled:l,focused:c,fullWidth:i,hiddenLabel:C,size:d,onBlur:()=>{T(!1)},onEmpty:()=>{y(!1)},onFilled:()=>{y(!0)},onFocus:()=>{T(!0)},registerEffect:o,required:v,variant:r}),[f,G,e,g,l,c,i,C,o,v,d,r]);return xn.jsx(K3.Provider,{value:p,children:xn.jsx(Kk,on({as:H,ownerState:a,className:Xa(n.root,_e),ref:q},t,{children:Ae}))})});function $k(A){return bi("MuiFormLabel",A)}const r0=pi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Jk=["children","className","color","component","disabled","error","filled","focused","required"],Qk=A=>{const{classes:O,color:q,focused:ce,disabled:Ae,error:_e,filled:G,required:H}=A,e={root:["root",`color${ei(q)}`,Ae&&"disabled",_e&&"error",G&&"filled",ce&&"focused",H&&"required"],asterisk:["asterisk",_e&&"error"]};return Ai(e,$k,O)},qk=Ha("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:A},O)=>on({},O.root,A.color==="secondary"&&O.colorSecondary,A.filled&&O.filled)})(({theme:A,ownerState:O})=>on({color:(A.vars||A).palette.text.secondary},A.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${r0.focused}`]:{color:(A.vars||A).palette[O.color].main},[`&.${r0.disabled}`]:{color:(A.vars||A).palette.text.disabled},[`&.${r0.error}`]:{color:(A.vars||A).palette.error.main}})),eD=Ha("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(A,O)=>O.asterisk})(({theme:A})=>({[`&.${r0.error}`]:{color:(A.vars||A).palette.error.main}})),tD=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiFormLabel"}),{children:Ae,className:_e,component:G="label"}=ce,H=ja(ce,Jk),e=ep(),g=U0({props:ce,muiFormControl:e,states:["color","required","focused","disabled","error","filled"]}),R=on({},ce,{color:g.color||"primary",component:G,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),i=Qk(R);return xn.jsxs(qk,on({as:G,ownerState:R,className:Xa(i.root,_e),ref:q},H,{children:[Ae,g.required&&xn.jsxs(eD,{ownerState:R,"aria-hidden":!0,className:i.asterisk,children:["","*"]})]}))}),sT=Wr.createContext();function rD(A){return bi("MuiGrid",A)}const nD=[0,1,2,3,4,5,6,7,8,9,10],aD=["column-reverse","column","row-reverse","row"],iD=["nowrap","wrap-reverse","wrap"],zp=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],M0=pi("MuiGrid",["root","container","item","zeroMinWidth",...nD.map(A=>`spacing-xs-${A}`),...aD.map(A=>`direction-xs-${A}`),...iD.map(A=>`wrap-xs-${A}`),...zp.map(A=>`grid-xs-${A}`),...zp.map(A=>`grid-sm-${A}`),...zp.map(A=>`grid-md-${A}`),...zp.map(A=>`grid-lg-${A}`),...zp.map(A=>`grid-xl-${A}`)]),oD=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Od(A){const O=parseFloat(A);return`${O}${String(A).replace(String(O),"")||"px"}`}function sD({theme:A,ownerState:O}){let q;return A.breakpoints.keys.reduce((ce,Ae)=>{let _e={};if(O[Ae]&&(q=O[Ae]),!q)return ce;if(q===!0)_e={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(q==="auto")_e={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const G=gm({values:O.columns,breakpoints:A.breakpoints.values}),H=typeof G=="object"?G[Ae]:G;if(H==null)return ce;const e=`${Math.round(q/H*1e8)/1e6}%`;let g={};if(O.container&&O.item&&O.columnSpacing!==0){const R=A.spacing(O.columnSpacing);if(R!=="0px"){const i=`calc(${e} + ${Od(R)})`;g={flexBasis:i,maxWidth:i}}}_e=on({flexBasis:e,flexGrow:0,maxWidth:e},g)}return A.breakpoints.values[Ae]===0?Object.assign(ce,_e):ce[A.breakpoints.up(Ae)]=_e,ce},{})}function lD({theme:A,ownerState:O}){const q=gm({values:O.direction,breakpoints:A.breakpoints.values});return Du({theme:A},q,ce=>{const Ae={flexDirection:ce};return ce.indexOf("column")===0&&(Ae[`& > .${M0.item}`]={maxWidth:"none"}),Ae})}function jA({breakpoints:A,values:O}){let q="";Object.keys(O).forEach(Ae=>{q===""&&O[Ae]!==0&&(q=Ae)});const ce=Object.keys(A).sort((Ae,_e)=>A[Ae]-A[_e]);return ce.slice(0,ce.indexOf(q))}function uD({theme:A,ownerState:O}){const{container:q,rowSpacing:ce}=O;let Ae={};if(q&&ce!==0){const _e=gm({values:ce,breakpoints:A.breakpoints.values});let G;typeof _e=="object"&&(G=jA({breakpoints:A.breakpoints.values,values:_e})),Ae=Du({theme:A},_e,(H,e)=>{var g;const R=A.spacing(H);return R!=="0px"?{marginTop:`-${Od(R)}`,[`& > .${M0.item}`]:{paddingTop:Od(R)}}:(g=G)!=null&&g.includes(e)?{}:{marginTop:0,[`& > .${M0.item}`]:{paddingTop:0}}})}return Ae}function fD({theme:A,ownerState:O}){const{container:q,columnSpacing:ce}=O;let Ae={};if(q&&ce!==0){const _e=gm({values:ce,breakpoints:A.breakpoints.values});let G;typeof _e=="object"&&(G=jA({breakpoints:A.breakpoints.values,values:_e})),Ae=Du({theme:A},_e,(H,e)=>{var g;const R=A.spacing(H);return R!=="0px"?{width:`calc(100% + ${Od(R)})`,marginLeft:`-${Od(R)}`,[`& > .${M0.item}`]:{paddingLeft:Od(R)}}:(g=G)!=null&&g.includes(e)?{}:{width:"100%",marginLeft:0,[`& > .${M0.item}`]:{paddingLeft:0}}})}return Ae}function cD(A,O,q={}){if(!A||A<=0)return[];if(typeof A=="string"&&!Number.isNaN(Number(A))||typeof A=="number")return[q[`spacing-xs-${String(A)}`]];const ce=[];return O.forEach(Ae=>{const _e=A[Ae];Number(_e)>0&&ce.push(q[`spacing-${Ae}-${String(_e)}`])}),ce}const hD=Ha("div",{name:"MuiGrid",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A,{container:ce,direction:Ae,item:_e,spacing:G,wrap:H,zeroMinWidth:e,breakpoints:g}=q;let R=[];ce&&(R=cD(G,g,O));const i=[];return g.forEach(C=>{const S=q[C];S&&i.push(O[`grid-${C}-${String(S)}`])}),[O.root,ce&&O.container,_e&&O.item,e&&O.zeroMinWidth,...R,Ae!=="row"&&O[`direction-xs-${String(Ae)}`],H!=="wrap"&&O[`wrap-xs-${String(H)}`],...i]}})(({ownerState:A})=>on({boxSizing:"border-box"},A.container&&{display:"flex",flexWrap:"wrap",width:"100%"},A.item&&{margin:0},A.zeroMinWidth&&{minWidth:0},A.wrap!=="wrap"&&{flexWrap:A.wrap}),lD,uD,fD,sD);function vD(A,O){if(!A||A<=0)return[];if(typeof A=="string"&&!Number.isNaN(Number(A))||typeof A=="number")return[`spacing-xs-${String(A)}`];const q=[];return O.forEach(ce=>{const Ae=A[ce];if(Number(Ae)>0){const _e=`spacing-${ce}-${String(Ae)}`;q.push(_e)}}),q}const dD=A=>{const{classes:O,container:q,direction:ce,item:Ae,spacing:_e,wrap:G,zeroMinWidth:H,breakpoints:e}=A;let g=[];q&&(g=vD(_e,e));const R=[];e.forEach(C=>{const S=A[C];S&&R.push(`grid-${C}-${String(S)}`)});const i={root:["root",q&&"container",Ae&&"item",H&&"zeroMinWidth",...g,ce!=="row"&&`direction-xs-${String(ce)}`,G!=="wrap"&&`wrap-xs-${String(G)}`,...R]};return Ai(i,rD,O)},Gf=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiGrid"}),{breakpoints:Ae}=Bm(),_e=Sm(ce),{className:G,columns:H,columnSpacing:e,component:g="div",container:R=!1,direction:i="row",item:C=!1,rowSpacing:S,spacing:v=0,wrap:d="wrap",zeroMinWidth:r=!1}=_e,t=ja(_e,oD),a=S||v,n=e||v,f=Wr.useContext(sT),u=R?H||12:f,l={},y=on({},t);Ae.keys.forEach(c=>{t[c]!=null&&(l[c]=t[c],delete y[c])});const h=on({},_e,{columns:u,container:R,direction:i,item:C,rowSpacing:a,columnSpacing:n,wrap:d,zeroMinWidth:r,spacing:v},l,{breakpoints:Ae.keys}),T=dD(h);return xn.jsx(sT.Provider,{value:u,children:xn.jsx(hD,on({ownerState:h,className:Xa(T.root,G),as:g,ref:q},y))})}),pD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Cb(A){return`scale(${A}, ${A**2})`}const gD={entering:{opacity:1,transform:Cb(1)},entered:{opacity:1,transform:"none"}},vx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),XA=Wr.forwardRef(function(O,q){const{addEndListener:ce,appear:Ae=!0,children:_e,easing:G,in:H,onEnter:e,onEntered:g,onEntering:R,onExit:i,onExited:C,onExiting:S,style:v,timeout:d="auto",TransitionComponent:r=Qf}=O,t=ja(O,pD),a=SA(),n=Wr.useRef(),f=Bm(),u=Wr.useRef(null),l=Ys(u,_e.ref,q),y=P=>m=>{if(P){const L=u.current;m===void 0?P(L):P(L,m)}},h=y(R),T=y((P,m)=>{HA(P);const{duration:L,delay:M,easing:s}=ky({style:v,timeout:d,easing:G},{mode:"enter"});let E;d==="auto"?(E=f.transitions.getAutoHeightDuration(P.clientHeight),n.current=E):E=L,P.style.transition=[f.transitions.create("opacity",{duration:E,delay:M}),f.transitions.create("transform",{duration:vx?E:E*.666,delay:M,easing:s})].join(","),e&&e(P,m)}),c=y(g),o=y(S),p=y(P=>{const{duration:m,delay:L,easing:M}=ky({style:v,timeout:d,easing:G},{mode:"exit"});let s;d==="auto"?(s=f.transitions.getAutoHeightDuration(P.clientHeight),n.current=s):s=m,P.style.transition=[f.transitions.create("opacity",{duration:s,delay:L}),f.transitions.create("transform",{duration:vx?s:s*.666,delay:vx?L:L||s*.333,easing:M})].join(","),P.style.opacity=0,P.style.transform=Cb(.75),i&&i(P)}),x=y(C),b=P=>{d==="auto"&&a.start(n.current||0,P),ce&&ce(u.current,P)};return xn.jsx(r,on({appear:Ae,in:H,nodeRef:u,onEnter:T,onEntered:c,onEntering:h,onExit:p,onExited:x,onExiting:o,addEndListener:b,timeout:d==="auto"?null:d},t,{children:(P,m)=>Wr.cloneElement(_e,on({style:on({opacity:0,transform:Cb(.75),visibility:P==="exited"&&!H?"hidden":void 0},gD[P],v,_e.props.style),ref:l},m))}))});XA.muiSupportAuto=!0;const yD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],mD=A=>{const{classes:O,disableUnderline:q}=A,Ae=Ai({root:["root",!q&&"underline"],input:["input"]},ok,O);return on({},O,Ae)},xD=Ha(Qm,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiInput",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[...$m(A,O),!q.disableUnderline&&O.underline]}})(({theme:A,ownerState:O})=>{let ce=A.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return A.vars&&(ce=`rgba(${A.vars.palette.common.onBackgroundChannel} / ${A.vars.opacity.inputUnderline})`),on({position:"relative"},O.formControl&&{"label + &":{marginTop:16}},!O.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(A.vars||A).palette[O.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:A.transitions.create("transform",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_p.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_p.error}`]:{"&::before, &::after":{borderBottomColor:(A.vars||A).palette.error.main}},"&::before":{borderBottom:`1px solid ${ce}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:A.transitions.create("border-bottom-color",{duration:A.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_p.disabled}, .${_p.error}):before`]:{borderBottom:`2px solid ${(A.vars||A).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${ce}`}},[`&.${_p.disabled}:before`]:{borderBottomStyle:"dotted"}})}),bD=Ha(qm,{name:"MuiInput",slot:"Input",overridesResolver:Jm})({}),ZA=Wr.forwardRef(function(O,q){var ce,Ae,_e,G;const H=Ci({props:O,name:"MuiInput"}),{disableUnderline:e,components:g={},componentsProps:R,fullWidth:i=!1,inputComponent:C="input",multiline:S=!1,slotProps:v,slots:d={},type:r="text"}=H,t=ja(H,yD),a=mD(H),f={root:{ownerState:{disableUnderline:e}}},u=v??R?Zl(v??R,f):f,l=(ce=(Ae=d.root)!=null?Ae:g.Root)!=null?ce:xD,y=(_e=(G=d.input)!=null?G:g.Input)!=null?_e:bD;return xn.jsx($3,on({slots:{root:l,input:y},slotProps:u,fullWidth:i,inputComponent:C,multiline:S,ref:q,type:r},t,{classes:a}))});ZA.muiName="Input";function wD(A){return bi("MuiInputLabel",A)}pi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const TD=["disableAnimation","margin","shrink","variant","className"],AD=A=>{const{classes:O,formControl:q,size:ce,shrink:Ae,disableAnimation:_e,variant:G,required:H}=A,e={root:["root",q&&"formControl",!_e&&"animated",Ae&&"shrink",ce&&ce!=="normal"&&`size${ei(ce)}`,G],asterisk:[H&&"asterisk"]},g=Ai(e,wD,O);return on({},O,g)},SD=Ha(tD,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[{[`& .${r0.asterisk}`]:O.asterisk},O.root,q.formControl&&O.formControl,q.size==="small"&&O.sizeSmall,q.shrink&&O.shrink,!q.disableAnimation&&O.animated,q.focused&&O.focused,O[q.variant]]}})(({theme:A,ownerState:O})=>on({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},O.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},O.size==="small"&&{transform:"translate(0, 17px) scale(1)"},O.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!O.disableAnimation&&{transition:A.transitions.create(["color","transform","max-width"],{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut})},O.variant==="filled"&&on({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},O.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},O.shrink&&on({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},O.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),O.variant==="outlined"&&on({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},O.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},O.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Oy=Wr.forwardRef(function(O,q){const ce=Ci({name:"MuiInputLabel",props:O}),{disableAnimation:Ae=!1,shrink:_e,className:G}=ce,H=ja(ce,TD),e=ep();let g=_e;typeof g>"u"&&e&&(g=e.filled||e.focused||e.adornedStart);const R=U0({props:ce,muiFormControl:e,states:["size","variant","required","focused"]}),i=on({},ce,{disableAnimation:Ae,formControl:e,shrink:g,size:R.size,variant:R.variant,required:R.required,focused:R.focused}),C=AD(i);return xn.jsx(SD,on({"data-shrink":g,ownerState:i,ref:q,className:Xa(C.root,G)},H,{classes:C}))}),Lb=Wr.createContext({});function MD(A){return bi("MuiList",A)}pi("MuiList",["root","padding","dense","subheader"]);const ED=["children","className","component","dense","disablePadding","subheader"],CD=A=>{const{classes:O,disablePadding:q,dense:ce,subheader:Ae}=A;return Ai({root:["root",!q&&"padding",ce&&"dense",Ae&&"subheader"]},MD,O)},LD=Ha("ul",{name:"MuiList",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,!q.disablePadding&&O.padding,q.dense&&O.dense,q.subheader&&O.subheader]}})(({ownerState:A})=>on({listStyle:"none",margin:0,padding:0,position:"relative"},!A.disablePadding&&{paddingTop:8,paddingBottom:8},A.subheader&&{paddingTop:0})),PD=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiList"}),{children:Ae,className:_e,component:G="ul",dense:H=!1,disablePadding:e=!1,subheader:g}=ce,R=ja(ce,ED),i=Wr.useMemo(()=>({dense:H}),[H]),C=on({},ce,{component:G,dense:H,disablePadding:e}),S=CD(C);return xn.jsx(Lb.Provider,{value:i,children:xn.jsxs(LD,on({as:G,className:Xa(S.root,_e),ref:q,ownerState:C},R,{children:[g,Ae]}))})}),lT=pi("MuiListItemIcon",["root","alignItemsFlexStart"]),uT=pi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),RD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function dx(A,O,q){return A===O?A.firstChild:O&&O.nextElementSibling?O.nextElementSibling:q?null:A.firstChild}function fT(A,O,q){return A===O?q?A.firstChild:A.lastChild:O&&O.previousElementSibling?O.previousElementSibling:q?null:A.lastChild}function KA(A,O){if(O===void 0)return!0;let q=A.innerText;return q===void 0&&(q=A.textContent),q=q.trim().toLowerCase(),q.length===0?!1:O.repeating?q[0]===O.keys[0]:q.indexOf(O.keys.join(""))===0}function Op(A,O,q,ce,Ae,_e){let G=!1,H=Ae(A,O,O?q:!1);for(;H;){if(H===A.firstChild){if(G)return!1;G=!0}const e=ce?!1:H.disabled||H.getAttribute("aria-disabled")==="true";if(!H.hasAttribute("tabindex")||!KA(H,_e)||e)H=Ae(A,H,q);else return H.focus(),!0}return!1}const ID=Wr.forwardRef(function(O,q){const{actions:ce,autoFocus:Ae=!1,autoFocusItem:_e=!1,children:G,className:H,disabledItemsFocusable:e=!1,disableListWrap:g=!1,onKeyDown:R,variant:i="selectedMenu"}=O,C=ja(O,RD),S=Wr.useRef(null),v=Wr.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Kf(()=>{Ae&&S.current.focus()},[Ae]),Wr.useImperativeHandle(ce,()=>({adjustStyleForScrollbar:(n,{direction:f})=>{const u=!S.current.style.width;if(n.clientHeight<S.current.clientHeight&&u){const l=`${EA(al(n))}px`;S.current.style[f==="rtl"?"paddingLeft":"paddingRight"]=l,S.current.style.width=`calc(100% + ${l})`}return S.current}}),[]);const d=n=>{const f=S.current,u=n.key,l=al(f).activeElement;if(u==="ArrowDown")n.preventDefault(),Op(f,l,g,e,dx);else if(u==="ArrowUp")n.preventDefault(),Op(f,l,g,e,fT);else if(u==="Home")n.preventDefault(),Op(f,null,g,e,dx);else if(u==="End")n.preventDefault(),Op(f,null,g,e,fT);else if(u.length===1){const y=v.current,h=u.toLowerCase(),T=performance.now();y.keys.length>0&&(T-y.lastTime>500?(y.keys=[],y.repeating=!0,y.previousKeyMatched=!0):y.repeating&&h!==y.keys[0]&&(y.repeating=!1)),y.lastTime=T,y.keys.push(h);const c=l&&!y.repeating&&KA(l,y);y.previousKeyMatched&&(c||Op(f,l,!1,e,dx,y))?n.preventDefault():y.previousKeyMatched=!1}R&&R(n)},r=Ys(S,q);let t=-1;Wr.Children.forEach(G,(n,f)=>{if(!Wr.isValidElement(n)){t===f&&(t+=1,t>=G.length&&(t=-1));return}n.props.disabled||(i==="selectedMenu"&&n.props.selected||t===-1)&&(t=f),t===f&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(t+=1,t>=G.length&&(t=-1))});const a=Wr.Children.map(G,(n,f)=>{if(f===t){const u={};return _e&&(u.autoFocus=!0),n.props.tabIndex===void 0&&i==="selectedMenu"&&(u.tabIndex=0),Wr.cloneElement(n,u)}return n});return xn.jsx(PD,on({role:"menu",ref:r,className:H,onKeyDown:d,tabIndex:Ae?0:-1},C,{children:a}))});function kD(A){return bi("MuiPopover",A)}pi("MuiPopover",["root","paper"]);const DD=["onEntering"],_D=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],zD=["slotProps"];function cT(A,O){let q=0;return typeof O=="number"?q=O:O==="center"?q=A.height/2:O==="bottom"&&(q=A.height),q}function hT(A,O){let q=0;return typeof O=="number"?q=O:O==="center"?q=A.width/2:O==="right"&&(q=A.width),q}function vT(A){return[A.horizontal,A.vertical].map(O=>typeof O=="number"?`${O}px`:O).join(" ")}function px(A){return typeof A=="function"?A():A}const OD=A=>{const{classes:O}=A;return Ai({root:["root"],paper:["paper"]},kD,O)},FD=Ha(Vk,{name:"MuiPopover",slot:"Root",overridesResolver:(A,O)=>O.root})({}),$A=Ha(Yd,{name:"MuiPopover",slot:"Paper",overridesResolver:(A,O)=>O.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),BD=Wr.forwardRef(function(O,q){var ce,Ae,_e;const G=Ci({props:O,name:"MuiPopover"}),{action:H,anchorEl:e,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:i="anchorEl",children:C,className:S,container:v,elevation:d=8,marginThreshold:r=16,open:t,PaperProps:a={},slots:n,slotProps:f,transformOrigin:u={vertical:"top",horizontal:"left"},TransitionComponent:l=XA,transitionDuration:y="auto",TransitionProps:{onEntering:h}={},disableScrollLock:T=!1}=G,c=ja(G.TransitionProps,DD),o=ja(G,_D),p=(ce=f==null?void 0:f.paper)!=null?ce:a,x=Wr.useRef(),b=Ys(x,p.ref),P=on({},G,{anchorOrigin:g,anchorReference:i,elevation:d,marginThreshold:r,externalPaperSlotProps:p,transformOrigin:u,TransitionComponent:l,transitionDuration:y,TransitionProps:c}),m=OD(P),L=Wr.useCallback(()=>{if(i==="anchorPosition")return R;const re=px(e),J=(re&&re.nodeType===1?re:al(x.current).body).getBoundingClientRect();return{top:J.top+cT(J,g.vertical),left:J.left+hT(J,g.horizontal)}},[e,g.horizontal,g.vertical,R,i]),M=Wr.useCallback(re=>({vertical:cT(re,u.vertical),horizontal:hT(re,u.horizontal)}),[u.horizontal,u.vertical]),s=Wr.useCallback(re=>{const ue={width:re.offsetWidth,height:re.offsetHeight},J=M(ue);if(i==="none")return{top:null,left:null,transformOrigin:vT(J)};const X=L();let ne=X.top-J.vertical,Y=X.left-J.horizontal;const oe=ne+ue.height,le=Y+ue.width,Z=$f(px(e)),$=Z.innerHeight-r,se=Z.innerWidth-r;if(r!==null&&ne<r){const ae=ne-r;ne-=ae,J.vertical+=ae}else if(r!==null&&oe>$){const ae=oe-$;ne-=ae,J.vertical+=ae}if(r!==null&&Y<r){const ae=Y-r;Y-=ae,J.horizontal+=ae}else if(le>se){const ae=le-se;Y-=ae,J.horizontal+=ae}return{top:`${Math.round(ne)}px`,left:`${Math.round(Y)}px`,transformOrigin:vT(J)}},[e,i,L,M,r]),[E,w]=Wr.useState(t),_=Wr.useCallback(()=>{const re=x.current;if(!re)return;const ue=s(re);ue.top!==null&&(re.style.top=ue.top),ue.left!==null&&(re.style.left=ue.left),re.style.transformOrigin=ue.transformOrigin,w(!0)},[s]);Wr.useEffect(()=>(T&&window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)),[e,T,_]);const D=(re,ue)=>{h&&h(re,ue),_()},N=()=>{w(!1)};Wr.useEffect(()=>{t&&_()}),Wr.useImperativeHandle(H,()=>t?{updatePosition:()=>{_()}}:null,[t,_]),Wr.useEffect(()=>{if(!t)return;const re=B0(()=>{_()}),ue=$f(e);return ue.addEventListener("resize",re),()=>{re.clear(),ue.removeEventListener("resize",re)}},[e,t,_]);let z=y;y==="auto"&&!l.muiSupportAuto&&(z=void 0);const F=v||(e?al(px(e)).body:void 0),U=(Ae=n==null?void 0:n.root)!=null?Ae:FD,B=(_e=n==null?void 0:n.paper)!=null?_e:$A,V=Jf({elementType:B,externalSlotProps:on({},p,{style:E?p.style:on({},p.style,{opacity:0})}),additionalProps:{elevation:d,ref:b},ownerState:P,className:Xa(m.paper,p==null?void 0:p.className)}),j=Jf({elementType:U,externalSlotProps:(f==null?void 0:f.root)||{},externalForwardedProps:o,additionalProps:{ref:q,slotProps:{backdrop:{invisible:!0}},container:F,open:t},ownerState:P,className:Xa(m.root,S)}),{slotProps:Q}=j,ee=ja(j,zD);return xn.jsx(U,on({},ee,!Dy(U)&&{slotProps:Q,disableScrollLock:T},{children:xn.jsx(l,on({appear:!0,in:t,onEntering:D,onExited:N,timeout:z},c,{children:xn.jsx(B,on({},V,{children:C}))}))}))});function ND(A){return bi("MuiMenu",A)}pi("MuiMenu",["root","paper","list"]);const UD=["onEntering"],VD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],HD={vertical:"top",horizontal:"right"},GD={vertical:"top",horizontal:"left"},WD=A=>{const{classes:O}=A;return Ai({root:["root"],paper:["paper"],list:["list"]},ND,O)},YD=Ha(BD,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(A,O)=>O.root})({}),jD=Ha($A,{name:"MuiMenu",slot:"Paper",overridesResolver:(A,O)=>O.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),XD=Ha(ID,{name:"MuiMenu",slot:"List",overridesResolver:(A,O)=>O.list})({outline:0}),ZD=Wr.forwardRef(function(O,q){var ce,Ae;const _e=Ci({props:O,name:"MuiMenu"}),{autoFocus:G=!0,children:H,className:e,disableAutoFocusItem:g=!1,MenuListProps:R={},onClose:i,open:C,PaperProps:S={},PopoverClasses:v,transitionDuration:d="auto",TransitionProps:{onEntering:r}={},variant:t="selectedMenu",slots:a={},slotProps:n={}}=_e,f=ja(_e.TransitionProps,UD),u=ja(_e,VD),l=U3(),y=on({},_e,{autoFocus:G,disableAutoFocusItem:g,MenuListProps:R,onEntering:r,PaperProps:S,transitionDuration:d,TransitionProps:f,variant:t}),h=WD(y),T=G&&!g&&C,c=Wr.useRef(null),o=(M,s)=>{c.current&&c.current.adjustStyleForScrollbar(M,{direction:l?"rtl":"ltr"}),r&&r(M,s)},p=M=>{M.key==="Tab"&&(M.preventDefault(),i&&i(M,"tabKeyDown"))};let x=-1;Wr.Children.map(H,(M,s)=>{Wr.isValidElement(M)&&(M.props.disabled||(t==="selectedMenu"&&M.props.selected||x===-1)&&(x=s))});const b=(ce=a.paper)!=null?ce:jD,P=(Ae=n.paper)!=null?Ae:S,m=Jf({elementType:a.root,externalSlotProps:n.root,ownerState:y,className:[h.root,e]}),L=Jf({elementType:b,externalSlotProps:P,ownerState:y,className:h.paper});return xn.jsx(YD,on({onClose:i,anchorOrigin:{vertical:"bottom",horizontal:l?"right":"left"},transformOrigin:l?HD:GD,slots:{paper:b,root:a.root},slotProps:{root:m,paper:L},open:C,ref:q,transitionDuration:d,TransitionProps:on({onEntering:o},f),ownerState:y},u,{classes:v,children:xn.jsx(XD,on({onKeyDown:p,actions:c,autoFocus:G&&(x===-1||g),autoFocusItem:T,variant:t},R,{className:Xa(h.list,R.className),children:H}))}))});function KD(A){return bi("MuiMenuItem",A)}const Fp=pi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),$D=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],JD=(A,O)=>{const{ownerState:q}=A;return[O.root,q.dense&&O.dense,q.divider&&O.divider,!q.disableGutters&&O.gutters]},QD=A=>{const{disabled:O,dense:q,divider:ce,disableGutters:Ae,selected:_e,classes:G}=A,e=Ai({root:["root",q&&"dense",O&&"disabled",!Ae&&"gutters",ce&&"divider",_e&&"selected"]},KD,G);return on({},G,e)},qD=Ha(qd,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:JD})(({theme:A,ownerState:O})=>on({},A.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!O.disableGutters&&{paddingLeft:16,paddingRight:16},O.divider&&{borderBottom:`1px solid ${(A.vars||A).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(A.vars||A).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fp.selected}`]:{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / ${A.vars.palette.action.selectedOpacity})`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity),[`&.${Fp.focusVisible}`]:{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / calc(${A.vars.palette.action.selectedOpacity} + ${A.vars.palette.action.focusOpacity}))`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity+A.palette.action.focusOpacity)}},[`&.${Fp.selected}:hover`]:{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / calc(${A.vars.palette.action.selectedOpacity} + ${A.vars.palette.action.hoverOpacity}))`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity+A.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / ${A.vars.palette.action.selectedOpacity})`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity)}},[`&.${Fp.focusVisible}`]:{backgroundColor:(A.vars||A).palette.action.focus},[`&.${Fp.disabled}`]:{opacity:(A.vars||A).palette.action.disabledOpacity},[`& + .${oT.root}`]:{marginTop:A.spacing(1),marginBottom:A.spacing(1)},[`& + .${oT.inset}`]:{marginLeft:52},[`& .${uT.root}`]:{marginTop:0,marginBottom:0},[`& .${uT.inset}`]:{paddingLeft:36},[`& .${lT.root}`]:{minWidth:36}},!O.dense&&{[A.breakpoints.up("sm")]:{minHeight:"auto"}},O.dense&&on({minHeight:32,paddingTop:4,paddingBottom:4},A.typography.body2,{[`& .${lT.root} svg`]:{fontSize:"1.25rem"}}))),n0=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiMenuItem"}),{autoFocus:Ae=!1,component:_e="li",dense:G=!1,divider:H=!1,disableGutters:e=!1,focusVisibleClassName:g,role:R="menuitem",tabIndex:i,className:C}=ce,S=ja(ce,$D),v=Wr.useContext(Lb),d=Wr.useMemo(()=>({dense:G||v.dense||!1,disableGutters:e}),[v.dense,G,e]),r=Wr.useRef(null);Kf(()=>{Ae&&r.current&&r.current.focus()},[Ae]);const t=on({},ce,{dense:d.dense,divider:H,disableGutters:e}),a=QD(ce),n=Ys(r,q);let f;return ce.disabled||(f=i!==void 0?i:-1),xn.jsx(Lb.Provider,{value:d,children:xn.jsx(qD,on({ref:n,role:R,tabIndex:f,component:_e,focusVisibleClassName:Xa(a.focusVisible,g),className:Xa(a.root,C)},S,{ownerState:t,classes:a}))})});function e_(A){return bi("MuiNativeSelect",A)}const J3=pi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),t_=["className","disabled","error","IconComponent","inputRef","variant"],r_=A=>{const{classes:O,variant:q,disabled:ce,multiple:Ae,open:_e,error:G}=A,H={select:["select",q,ce&&"disabled",Ae&&"multiple",G&&"error"],icon:["icon",`icon${ei(q)}`,_e&&"iconOpen",ce&&"disabled"]};return Ai(H,e_,O)},JA=({ownerState:A,theme:O})=>on({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":on({},O.vars?{backgroundColor:`rgba(${O.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:O.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${J3.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(O.vars||O).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},A.variant==="filled"&&{"&&&":{paddingRight:32}},A.variant==="outlined"&&{borderRadius:(O.vars||O).shape.borderRadius,"&:focus":{borderRadius:(O.vars||O).shape.borderRadius},"&&&":{paddingRight:32}}),n_=Ha("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ql,overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.select,O[q.variant],q.error&&O.error,{[`&.${J3.multiple}`]:O.multiple}]}})(JA),QA=({ownerState:A,theme:O})=>on({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(O.vars||O).palette.action.active,[`&.${J3.disabled}`]:{color:(O.vars||O).palette.action.disabled}},A.open&&{transform:"rotate(180deg)"},A.variant==="filled"&&{right:7},A.variant==="outlined"&&{right:7}),a_=Ha("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.icon,q.variant&&O[`icon${ei(q.variant)}`],q.open&&O.iconOpen]}})(QA),i_=Wr.forwardRef(function(O,q){const{className:ce,disabled:Ae,error:_e,IconComponent:G,inputRef:H,variant:e="standard"}=O,g=ja(O,t_),R=on({},O,{disabled:Ae,variant:e,error:_e}),i=r_(R);return xn.jsxs(Wr.Fragment,{children:[xn.jsx(n_,on({ownerState:R,className:Xa(i.select,ce),disabled:Ae,ref:H||q},g)),O.multiple?null:xn.jsx(a_,{as:G,ownerState:R,className:i.icon})]})});var dT;const o_=["children","classes","className","label","notched"],s_=Ha("fieldset",{shouldForwardProp:ql})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),l_=Ha("legend",{shouldForwardProp:ql})(({ownerState:A,theme:O})=>on({float:"unset",width:"auto",overflow:"hidden"},!A.withLabel&&{padding:0,lineHeight:"11px",transition:O.transitions.create("width",{duration:150,easing:O.transitions.easing.easeOut})},A.withLabel&&on({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:O.transitions.create("max-width",{duration:50,easing:O.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},A.notched&&{maxWidth:"100%",transition:O.transitions.create("max-width",{duration:100,easing:O.transitions.easing.easeOut,delay:50})})));function u_(A){const{className:O,label:q,notched:ce}=A,Ae=ja(A,o_),_e=q!=null&&q!=="",G=on({},A,{notched:ce,withLabel:_e});return xn.jsx(s_,on({"aria-hidden":!0,className:O,ownerState:G},Ae,{children:xn.jsx(l_,{ownerState:G,children:_e?xn.jsx("span",{children:q}):dT||(dT=xn.jsx("span",{className:"notranslate",children:""}))})}))}const f_=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],c_=A=>{const{classes:O}=A,ce=Ai({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},sk,O);return on({},O,ce)},h_=Ha(Qm,{shouldForwardProp:A=>ql(A)||A==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:$m})(({theme:A,ownerState:O})=>{const q=A.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return on({position:"relative",borderRadius:(A.vars||A).shape.borderRadius,[`&:hover .${bh.notchedOutline}`]:{borderColor:(A.vars||A).palette.text.primary},"@media (hover: none)":{[`&:hover .${bh.notchedOutline}`]:{borderColor:A.vars?`rgba(${A.vars.palette.common.onBackgroundChannel} / 0.23)`:q}},[`&.${bh.focused} .${bh.notchedOutline}`]:{borderColor:(A.vars||A).palette[O.color].main,borderWidth:2},[`&.${bh.error} .${bh.notchedOutline}`]:{borderColor:(A.vars||A).palette.error.main},[`&.${bh.disabled} .${bh.notchedOutline}`]:{borderColor:(A.vars||A).palette.action.disabled}},O.startAdornment&&{paddingLeft:14},O.endAdornment&&{paddingRight:14},O.multiline&&on({padding:"16.5px 14px"},O.size==="small"&&{padding:"8.5px 14px"}))}),v_=Ha(u_,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(A,O)=>O.notchedOutline})(({theme:A})=>{const O=A.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:A.vars?`rgba(${A.vars.palette.common.onBackgroundChannel} / 0.23)`:O}}),d_=Ha(qm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jm})(({theme:A,ownerState:O})=>on({padding:"16.5px 14px"},!A.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:A.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:A.palette.mode==="light"?null:"#fff",caretColor:A.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},A.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[A.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},O.size==="small"&&{padding:"8.5px 14px"},O.multiline&&{padding:0},O.startAdornment&&{paddingLeft:0},O.endAdornment&&{paddingRight:0})),Q3=Wr.forwardRef(function(O,q){var ce,Ae,_e,G,H;const e=Ci({props:O,name:"MuiOutlinedInput"}),{components:g={},fullWidth:R=!1,inputComponent:i="input",label:C,multiline:S=!1,notched:v,slots:d={},type:r="text"}=e,t=ja(e,f_),a=c_(e),n=ep(),f=U0({props:e,muiFormControl:n,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),u=on({},e,{color:f.color||"primary",disabled:f.disabled,error:f.error,focused:f.focused,formControl:n,fullWidth:R,hiddenLabel:f.hiddenLabel,multiline:S,size:f.size,type:r}),l=(ce=(Ae=d.root)!=null?Ae:g.Root)!=null?ce:h_,y=(_e=(G=d.input)!=null?G:g.Input)!=null?_e:d_;return xn.jsx($3,on({slots:{root:l,input:y},renderSuffix:h=>xn.jsx(v_,{ownerState:u,className:a.notchedOutline,label:C!=null&&C!==""&&f.required?H||(H=xn.jsxs(Wr.Fragment,{children:[C,"","*"]})):C,notched:typeof v<"u"?v:!!(h.startAdornment||h.filled||h.focused)}),fullWidth:R,inputComponent:i,multiline:S,ref:q,type:r},t,{classes:on({},a,{notchedOutline:null})}))});Q3.muiName="Input";function p_(A){return bi("MuiSelect",A)}const Bp=pi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var pT;const g_=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],y_=Ha("div",{name:"MuiSelect",slot:"Select",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[{[`&.${Bp.select}`]:O.select},{[`&.${Bp.select}`]:O[q.variant]},{[`&.${Bp.error}`]:O.error},{[`&.${Bp.multiple}`]:O.multiple}]}})(JA,{[`&.${Bp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),m_=Ha("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.icon,q.variant&&O[`icon${ei(q.variant)}`],q.open&&O.iconOpen]}})(QA),x_=Ha("input",{shouldForwardProp:A=>NA(A)&&A!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(A,O)=>O.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function gT(A,O){return typeof O=="object"&&O!==null?A===O:String(A)===String(O)}function b_(A){return A==null||typeof A=="string"&&!A.trim()}const w_=A=>{const{classes:O,variant:q,disabled:ce,multiple:Ae,open:_e,error:G}=A,H={select:["select",q,ce&&"disabled",Ae&&"multiple",G&&"error"],icon:["icon",`icon${ei(q)}`,_e&&"iconOpen",ce&&"disabled"],nativeInput:["nativeInput"]};return Ai(H,p_,O)},T_=Wr.forwardRef(function(O,q){var ce;const{"aria-describedby":Ae,"aria-label":_e,autoFocus:G,autoWidth:H,children:e,className:g,defaultOpen:R,defaultValue:i,disabled:C,displayEmpty:S,error:v=!1,IconComponent:d,inputRef:r,labelId:t,MenuProps:a={},multiple:n,name:f,onBlur:u,onChange:l,onClose:y,onFocus:h,onOpen:T,open:c,readOnly:o,renderValue:p,SelectDisplayProps:x={},tabIndex:b,value:P,variant:m="standard"}=O,L=ja(O,g_),[M,s]=Py({controlled:P,default:i,name:"Select"}),[E,w]=Py({controlled:c,default:R,name:"Select"}),_=Wr.useRef(null),D=Wr.useRef(null),[N,z]=Wr.useState(null),{current:F}=Wr.useRef(c!=null),[U,B]=Wr.useState(),V=Ys(q,r),j=Wr.useCallback(Ce=>{D.current=Ce,Ce&&z(Ce)},[]),Q=N==null?void 0:N.parentNode;Wr.useImperativeHandle(V,()=>({focus:()=>{D.current.focus()},node:_.current,value:M}),[M]),Wr.useEffect(()=>{R&&E&&N&&!F&&(B(H?null:Q.clientWidth),D.current.focus())},[N,H]),Wr.useEffect(()=>{G&&D.current.focus()},[G]),Wr.useEffect(()=>{if(!t)return;const Ce=al(D.current).getElementById(t);if(Ce){const Ue=()=>{getSelection().isCollapsed&&D.current.focus()};return Ce.addEventListener("click",Ue),()=>{Ce.removeEventListener("click",Ue)}}},[t]);const ee=(Ce,Ue)=>{Ce?T&&T(Ue):y&&y(Ue),F||(B(H?null:Q.clientWidth),w(Ce))},re=Ce=>{Ce.button===0&&(Ce.preventDefault(),D.current.focus(),ee(!0,Ce))},ue=Ce=>{ee(!1,Ce)},J=Wr.Children.toArray(e),X=Ce=>{const Ue=J.find(Ne=>Ne.props.value===Ce.target.value);Ue!==void 0&&(s(Ue.props.value),l&&l(Ce,Ue))},ne=Ce=>Ue=>{let Ne;if(Ue.currentTarget.hasAttribute("tabindex")){if(n){Ne=Array.isArray(M)?M.slice():[];const De=M.indexOf(Ce.props.value);De===-1?Ne.push(Ce.props.value):Ne.splice(De,1)}else Ne=Ce.props.value;if(Ce.props.onClick&&Ce.props.onClick(Ue),M!==Ne&&(s(Ne),l)){const De=Ue.nativeEvent||Ue,He=new De.constructor(De.type,De);Object.defineProperty(He,"target",{writable:!0,value:{value:Ne,name:f}}),l(He,Ce)}n||ee(!1,Ue)}},Y=Ce=>{o||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ce.key)!==-1&&(Ce.preventDefault(),ee(!0,Ce))},oe=N!==null&&E,le=Ce=>{!oe&&u&&(Object.defineProperty(Ce,"target",{writable:!0,value:{value:M,name:f}}),u(Ce))};delete L["aria-invalid"];let Z,$;const se=[];let ae=!1;(_y({value:M})||S)&&(p?Z=p(M):ae=!0);const he=J.map(Ce=>{if(!Wr.isValidElement(Ce))return null;let Ue;if(n){if(!Array.isArray(M))throw new Error(kv(2));Ue=M.some(Ne=>gT(Ne,Ce.props.value)),Ue&&ae&&se.push(Ce.props.children)}else Ue=gT(M,Ce.props.value),Ue&&ae&&($=Ce.props.children);return Wr.cloneElement(Ce,{"aria-selected":Ue?"true":"false",onClick:ne(Ce),onKeyUp:Ne=>{Ne.key===" "&&Ne.preventDefault(),Ce.props.onKeyUp&&Ce.props.onKeyUp(Ne)},role:"option",selected:Ue,value:void 0,"data-value":Ce.props.value})});ae&&(n?se.length===0?Z=null:Z=se.reduce((Ce,Ue,Ne)=>(Ce.push(Ue),Ne<se.length-1&&Ce.push(", "),Ce),[]):Z=$);let me=U;!H&&F&&N&&(me=Q.clientWidth);let Me;typeof b<"u"?Me=b:Me=C?null:0;const Te=x.id||(f?`mui-component-select-${f}`:void 0),Pe=on({},O,{variant:m,value:M,open:oe,error:v}),be=w_(Pe),Ee=on({},a.PaperProps,(ce=a.slotProps)==null?void 0:ce.paper),xe=AA();return xn.jsxs(Wr.Fragment,{children:[xn.jsx(y_,on({ref:j,tabIndex:Me,role:"combobox","aria-controls":xe,"aria-disabled":C?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":_e,"aria-labelledby":[t,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":Ae,onKeyDown:Y,onMouseDown:C||o?null:re,onBlur:le,onFocus:h},x,{ownerState:Pe,className:Xa(x.className,be.select,g),id:Te,children:b_(Z)?pT||(pT=xn.jsx("span",{className:"notranslate",children:""})):Z})),xn.jsx(x_,on({"aria-invalid":v,value:Array.isArray(M)?M.join(","):M,name:f,ref:_,"aria-hidden":!0,onChange:X,tabIndex:-1,disabled:C,className:be.nativeInput,autoFocus:G,ownerState:Pe},L)),xn.jsx(m_,{as:d,className:be.icon,ownerState:Pe}),xn.jsx(ZD,on({id:`menu-${f||""}`,anchorEl:Q,open:oe,onClose:ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a,{MenuListProps:on({"aria-labelledby":t,role:"listbox","aria-multiselectable":n?"true":void 0,disableListWrap:!0,id:xe},a.MenuListProps),slotProps:on({},a.slotProps,{paper:on({},Ee,{style:on({minWidth:me},Ee!=null?Ee.style:null)})}),children:he}))]})}),A_=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],S_=["root"],M_=A=>{const{classes:O}=A;return O},q3={name:"MuiSelect",overridesResolver:(A,O)=>O.root,shouldForwardProp:A=>ql(A)&&A!=="variant",slot:"Root"},E_=Ha(ZA,q3)(""),C_=Ha(Q3,q3)(""),L_=Ha(YA,q3)(""),E0=Wr.forwardRef(function(O,q){const ce=Ci({name:"MuiSelect",props:O}),{autoWidth:Ae=!1,children:_e,classes:G={},className:H,defaultOpen:e=!1,displayEmpty:g=!1,IconComponent:R=uk,id:i,input:C,inputProps:S,label:v,labelId:d,MenuProps:r,multiple:t=!1,native:a=!1,onClose:n,onOpen:f,open:u,renderValue:l,SelectDisplayProps:y,variant:h="outlined"}=ce,T=ja(ce,A_),c=a?i_:T_,o=ep(),p=U0({props:ce,muiFormControl:o,states:["variant","error"]}),x=p.variant||h,b=on({},ce,{variant:x,classes:G}),P=M_(b),m=ja(P,S_),L=C||{standard:xn.jsx(E_,{ownerState:b}),outlined:xn.jsx(C_,{label:v,ownerState:b}),filled:xn.jsx(L_,{ownerState:b})}[x],M=Ys(q,L.ref);return xn.jsx(Wr.Fragment,{children:Wr.cloneElement(L,on({inputComponent:c,inputProps:on({children:_e,error:p.error,IconComponent:R,variant:x,type:void 0,multiple:t},a?{id:i}:{autoWidth:Ae,defaultOpen:e,displayEmpty:g,labelId:d,MenuProps:r,onClose:n,onOpen:f,open:u,renderValue:l,SelectDisplayProps:on({id:i},y)},S,{classes:S?Zl(m,S.classes):m},C?C.props.inputProps:{})},(t&&a||g)&&x==="outlined"?{notched:!0}:{},{ref:M,className:Xa(L.props.className,H,P.root)},!C&&{variant:x},T))})});E0.muiName="Select";function P_(A){return bi("MuiTab",A)}const gv=pi("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),R_=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],I_=A=>{const{classes:O,textColor:q,fullWidth:ce,wrapped:Ae,icon:_e,label:G,selected:H,disabled:e}=A,g={root:["root",_e&&G&&"labelIcon",`textColor${ei(q)}`,ce&&"fullWidth",Ae&&"wrapped",H&&"selected",e&&"disabled"],iconWrapper:["iconWrapper"]};return Ai(g,P_,O)},k_=Ha(qd,{name:"MuiTab",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.label&&q.icon&&O.labelIcon,O[`textColor${ei(q.textColor)}`],q.fullWidth&&O.fullWidth,q.wrapped&&O.wrapped]}})(({theme:A,ownerState:O})=>on({},A.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},O.label&&{flexDirection:O.iconPosition==="top"||O.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},O.icon&&O.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${gv.iconWrapper}`]:on({},O.iconPosition==="top"&&{marginBottom:6},O.iconPosition==="bottom"&&{marginTop:6},O.iconPosition==="start"&&{marginRight:A.spacing(1)},O.iconPosition==="end"&&{marginLeft:A.spacing(1)})},O.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${gv.selected}`]:{opacity:1},[`&.${gv.disabled}`]:{opacity:(A.vars||A).palette.action.disabledOpacity}},O.textColor==="primary"&&{color:(A.vars||A).palette.text.secondary,[`&.${gv.selected}`]:{color:(A.vars||A).palette.primary.main},[`&.${gv.disabled}`]:{color:(A.vars||A).palette.text.disabled}},O.textColor==="secondary"&&{color:(A.vars||A).palette.text.secondary,[`&.${gv.selected}`]:{color:(A.vars||A).palette.secondary.main},[`&.${gv.disabled}`]:{color:(A.vars||A).palette.text.disabled}},O.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},O.wrapped&&{fontSize:A.typography.pxToRem(12)})),gx=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTab"}),{className:Ae,disabled:_e=!1,disableFocusRipple:G=!1,fullWidth:H,icon:e,iconPosition:g="top",indicator:R,label:i,onChange:C,onClick:S,onFocus:v,selected:d,selectionFollowsFocus:r,textColor:t="inherit",value:a,wrapped:n=!1}=ce,f=ja(ce,R_),u=on({},ce,{disabled:_e,disableFocusRipple:G,selected:d,icon:!!e,iconPosition:g,label:!!i,fullWidth:H,textColor:t,wrapped:n}),l=I_(u),y=e&&i&&Wr.isValidElement(e)?Wr.cloneElement(e,{className:Xa(l.iconWrapper,e.props.className)}):e,h=c=>{!d&&C&&C(c,a),S&&S(c)},T=c=>{r&&!d&&C&&C(c,a),v&&v(c)};return xn.jsxs(k_,on({focusRipple:!G,className:Xa(l.root,Ae),ref:q,role:"tab","aria-selected":d,disabled:_e,onClick:h,onFocus:T,ownerState:u,tabIndex:d?0:-1},f,{children:[g==="top"||g==="start"?xn.jsxs(Wr.Fragment,{children:[y,i]}):xn.jsxs(Wr.Fragment,{children:[i,y]}),R]}))}),qA=Wr.createContext();function D_(A){return bi("MuiTable",A)}pi("MuiTable",["root","stickyHeader"]);const __=["className","component","padding","size","stickyHeader"],z_=A=>{const{classes:O,stickyHeader:q}=A;return Ai({root:["root",q&&"stickyHeader"]},D_,O)},O_=Ha("table",{name:"MuiTable",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.stickyHeader&&O.stickyHeader]}})(({theme:A,ownerState:O})=>on({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":on({},A.typography.body2,{padding:A.spacing(2),color:(A.vars||A).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},O.stickyHeader&&{borderCollapse:"separate"})),yT="table",eS=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTable"}),{className:Ae,component:_e=yT,padding:G="normal",size:H="medium",stickyHeader:e=!1}=ce,g=ja(ce,__),R=on({},ce,{component:_e,padding:G,size:H,stickyHeader:e}),i=z_(R),C=Wr.useMemo(()=>({padding:G,size:H,stickyHeader:e}),[G,H,e]);return xn.jsx(qA.Provider,{value:C,children:xn.jsx(O_,on({as:_e,role:_e===yT?null:"table",ref:q,className:Xa(i.root,Ae),ownerState:R},g))})}),e1=Wr.createContext();function F_(A){return bi("MuiTableBody",A)}pi("MuiTableBody",["root"]);const B_=["className","component"],N_=A=>{const{classes:O}=A;return Ai({root:["root"]},F_,O)},U_=Ha("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(A,O)=>O.root})({display:"table-row-group"}),V_={variant:"body"},mT="tbody",tS=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableBody"}),{className:Ae,component:_e=mT}=ce,G=ja(ce,B_),H=on({},ce,{component:_e}),e=N_(H);return xn.jsx(e1.Provider,{value:V_,children:xn.jsx(U_,on({className:Xa(e.root,Ae),as:_e,ref:q,role:_e===mT?null:"rowgroup",ownerState:H},G))})});function H_(A){return bi("MuiTableCell",A)}const G_=pi("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),W_=["align","className","component","padding","scope","size","sortDirection","variant"],Y_=A=>{const{classes:O,variant:q,align:ce,padding:Ae,size:_e,stickyHeader:G}=A,H={root:["root",q,G&&"stickyHeader",ce!=="inherit"&&`align${ei(ce)}`,Ae!=="normal"&&`padding${ei(Ae)}`,`size${ei(_e)}`]};return Ai(H,H_,O)},j_=Ha("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,O[q.variant],O[`size${ei(q.size)}`],q.padding!=="normal"&&O[`padding${ei(q.padding)}`],q.align!=="inherit"&&O[`align${ei(q.align)}`],q.stickyHeader&&O.stickyHeader]}})(({theme:A,ownerState:O})=>on({},A.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:A.vars?`1px solid ${A.vars.palette.TableCell.border}`:`1px solid
    ${A.palette.mode==="light"?IA(Yl(A.palette.divider,1),.88):RA(Yl(A.palette.divider,1),.68)}`,textAlign:"left",padding:16},O.variant==="head"&&{color:(A.vars||A).palette.text.primary,lineHeight:A.typography.pxToRem(24),fontWeight:A.typography.fontWeightMedium},O.variant==="body"&&{color:(A.vars||A).palette.text.primary},O.variant==="footer"&&{color:(A.vars||A).palette.text.secondary,lineHeight:A.typography.pxToRem(21),fontSize:A.typography.pxToRem(12)},O.size==="small"&&{padding:"6px 16px",[`&.${G_.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},O.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},O.padding==="none"&&{padding:0},O.align==="left"&&{textAlign:"left"},O.align==="center"&&{textAlign:"center"},O.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},O.align==="justify"&&{textAlign:"justify"},O.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(A.vars||A).palette.background.default})),Fy=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableCell"}),{align:Ae="inherit",className:_e,component:G,padding:H,scope:e,size:g,sortDirection:R,variant:i}=ce,C=ja(ce,W_),S=Wr.useContext(qA),v=Wr.useContext(e1),d=v&&v.variant==="head";let r;G?r=G:r=d?"th":"td";let t=e;r==="td"?t=void 0:!t&&d&&(t="col");const a=i||v&&v.variant,n=on({},ce,{align:Ae,component:r,padding:H||(S&&S.padding?S.padding:"normal"),size:g||(S&&S.size?S.size:"medium"),sortDirection:R,stickyHeader:a==="head"&&S&&S.stickyHeader,variant:a}),f=Y_(n);let u=null;return R&&(u=R==="asc"?"ascending":"descending"),xn.jsx(j_,on({as:r,ref:q,className:Xa(f.root,_e),"aria-sort":u,scope:t,ownerState:n},C))});function X_(A){return bi("MuiTableContainer",A)}pi("MuiTableContainer",["root"]);const Z_=["className","component"],K_=A=>{const{classes:O}=A;return Ai({root:["root"]},X_,O)},$_=Ha("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(A,O)=>O.root})({width:"100%",overflowX:"auto"}),rS=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableContainer"}),{className:Ae,component:_e="div"}=ce,G=ja(ce,Z_),H=on({},ce,{component:_e}),e=K_(H);return xn.jsx($_,on({ref:q,as:_e,className:Xa(e.root,Ae),ownerState:H},G))});function J_(A){return bi("MuiTableHead",A)}pi("MuiTableHead",["root"]);const Q_=["className","component"],q_=A=>{const{classes:O}=A;return Ai({root:["root"]},J_,O)},ez=Ha("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(A,O)=>O.root})({display:"table-header-group"}),tz={variant:"head"},xT="thead",nS=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableHead"}),{className:Ae,component:_e=xT}=ce,G=ja(ce,Q_),H=on({},ce,{component:_e}),e=q_(H);return xn.jsx(e1.Provider,{value:tz,children:xn.jsx(ez,on({as:_e,className:Xa(e.root,Ae),ref:q,role:_e===xT?null:"rowgroup",ownerState:H},G))})});function rz(A){return bi("MuiToolbar",A)}pi("MuiToolbar",["root","gutters","regular","dense"]);const nz=["className","component","disableGutters","variant"],az=A=>{const{classes:O,disableGutters:q,variant:ce}=A;return Ai({root:["root",!q&&"gutters",ce]},rz,O)},iz=Ha("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,!q.disableGutters&&O.gutters,O[q.variant]]}})(({theme:A,ownerState:O})=>on({position:"relative",display:"flex",alignItems:"center"},!O.disableGutters&&{paddingLeft:A.spacing(2),paddingRight:A.spacing(2),[A.breakpoints.up("sm")]:{paddingLeft:A.spacing(3),paddingRight:A.spacing(3)}},O.variant==="dense"&&{minHeight:48}),({theme:A,ownerState:O})=>O.variant==="regular"&&A.mixins.toolbar),oz=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiToolbar"}),{className:Ae,component:_e="div",disableGutters:G=!1,variant:H="regular"}=ce,e=ja(ce,nz),g=on({},ce,{component:_e,disableGutters:G,variant:H}),R=az(g);return xn.jsx(iz,on({as:_e,className:Xa(R.root,Ae),ref:q,ownerState:g},e))}),sz=Vh(xn.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),lz=Vh(xn.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function uz(A){return bi("MuiTableRow",A)}const bT=pi("MuiTableRow",["root","selected","hover","head","footer"]),fz=["className","component","hover","selected"],cz=A=>{const{classes:O,selected:q,hover:ce,head:Ae,footer:_e}=A;return Ai({root:["root",q&&"selected",ce&&"hover",Ae&&"head",_e&&"footer"]},uz,O)},hz=Ha("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.head&&O.head,q.footer&&O.footer]}})(({theme:A})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${bT.hover}:hover`]:{backgroundColor:(A.vars||A).palette.action.hover},[`&.${bT.selected}`]:{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / ${A.vars.palette.action.selectedOpacity})`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity),"&:hover":{backgroundColor:A.vars?`rgba(${A.vars.palette.primary.mainChannel} / calc(${A.vars.palette.action.selectedOpacity} + ${A.vars.palette.action.hoverOpacity}))`:Yl(A.palette.primary.main,A.palette.action.selectedOpacity+A.palette.action.hoverOpacity)}}})),wT="tr",By=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableRow"}),{className:Ae,component:_e=wT,hover:G=!1,selected:H=!1}=ce,e=ja(ce,fz),g=Wr.useContext(e1),R=on({},ce,{component:_e,hover:G,selected:H,head:g&&g.variant==="head",footer:g&&g.variant==="footer"}),i=cz(R);return xn.jsx(hz,on({as:_e,ref:q,className:Xa(i.root,Ae),role:_e===wT?null:"row",ownerState:R},e))}),vz=Vh(xn.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function dz(A){return bi("MuiTableSortLabel",A)}const yx=pi("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),pz=["active","children","className","direction","hideSortIcon","IconComponent"],gz=A=>{const{classes:O,direction:q,active:ce}=A,Ae={root:["root",ce&&"active"],icon:["icon",`iconDirection${ei(q)}`]};return Ai(Ae,dz,O)},yz=Ha(qd,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.active&&O.active]}})(({theme:A})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(A.vars||A).palette.text.secondary},"&:hover":{color:(A.vars||A).palette.text.secondary,[`& .${yx.icon}`]:{opacity:.5}},[`&.${yx.active}`]:{color:(A.vars||A).palette.text.primary,[`& .${yx.icon}`]:{opacity:1,color:(A.vars||A).palette.text.secondary}}})),mz=Ha("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.icon,O[`iconDirection${ei(q.direction)}`]]}})(({theme:A,ownerState:O})=>on({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:A.transitions.create(["opacity","transform"],{duration:A.transitions.duration.shorter}),userSelect:"none"},O.direction==="desc"&&{transform:"rotate(0deg)"},O.direction==="asc"&&{transform:"rotate(180deg)"})),aS=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTableSortLabel"}),{active:Ae=!1,children:_e,className:G,direction:H="asc",hideSortIcon:e=!1,IconComponent:g=vz}=ce,R=ja(ce,pz),i=on({},ce,{active:Ae,direction:H,hideSortIcon:e,IconComponent:g}),C=gz(i);return xn.jsxs(yz,on({className:Xa(C.root,G),component:"span",disableRipple:!0,ownerState:i,ref:q},R,{children:[_e,e&&!Ae?null:xn.jsx(mz,{as:g,className:Xa(C.icon),ownerState:i})]}))});function xz(A){return(1+Math.sin(Math.PI*A-Math.PI/2))/2}function bz(A,O,q,ce={},Ae=()=>{}){const{ease:_e=xz,duration:G=300}=ce;let H=null;const e=O[A];let g=!1;const R=()=>{g=!0},i=C=>{if(g){Ae(new Error("Animation cancelled"));return}H===null&&(H=C);const S=Math.min(1,(C-H)/G);if(O[A]=_e(S)*(q-e)+e,S>=1){requestAnimationFrame(()=>{Ae(null)});return}requestAnimationFrame(i)};return e===q?(Ae(new Error("Element already at target position")),R):(requestAnimationFrame(i),R)}const wz=["onChange"],Tz={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Az(A){const{onChange:O}=A,q=ja(A,wz),ce=Wr.useRef(),Ae=Wr.useRef(null),_e=()=>{ce.current=Ae.current.offsetHeight-Ae.current.clientHeight};return Kf(()=>{const G=B0(()=>{const e=ce.current;_e(),e!==ce.current&&O(ce.current)}),H=$f(Ae.current);return H.addEventListener("resize",G),()=>{G.clear(),H.removeEventListener("resize",G)}},[O]),Wr.useEffect(()=>{_e(),O(ce.current)},[O]),xn.jsx("div",on({style:Tz,ref:Ae},q))}function Sz(A){return bi("MuiTabScrollButton",A)}const Mz=pi("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ez=["className","slots","slotProps","direction","orientation","disabled"],Cz=A=>{const{classes:O,orientation:q,disabled:ce}=A;return Ai({root:["root",q,ce&&"disabled"]},Sz,O)},Lz=Ha(qd,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.root,q.orientation&&O[q.orientation]]}})(({ownerState:A})=>on({width:40,flexShrink:0,opacity:.8,[`&.${Mz.disabled}`]:{opacity:0}},A.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${A.isRtl?-90:90}deg)`}})),Pz=Wr.forwardRef(function(O,q){var ce,Ae;const _e=Ci({props:O,name:"MuiTabScrollButton"}),{className:G,slots:H={},slotProps:e={},direction:g}=_e,R=ja(_e,Ez),i=U3(),C=on({isRtl:i},_e),S=Cz(C),v=(ce=H.StartScrollButtonIcon)!=null?ce:sz,d=(Ae=H.EndScrollButtonIcon)!=null?Ae:lz,r=Jf({elementType:v,externalSlotProps:e.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:C}),t=Jf({elementType:d,externalSlotProps:e.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:C});return xn.jsx(Lz,on({component:"div",className:Xa(S.root,G),ref:q,role:null,ownerState:C,tabIndex:null},R,{children:g==="left"?xn.jsx(v,on({},r)):xn.jsx(d,on({},t))}))});function Rz(A){return bi("MuiTabs",A)}const mx=pi("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Iz=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],TT=(A,O)=>A===O?A.firstChild:O&&O.nextElementSibling?O.nextElementSibling:A.firstChild,AT=(A,O)=>A===O?A.lastChild:O&&O.previousElementSibling?O.previousElementSibling:A.lastChild,Fg=(A,O,q)=>{let ce=!1,Ae=q(A,O);for(;Ae;){if(Ae===A.firstChild){if(ce)return;ce=!0}const _e=Ae.disabled||Ae.getAttribute("aria-disabled")==="true";if(!Ae.hasAttribute("tabindex")||_e)Ae=q(A,Ae);else{Ae.focus();return}}},kz=A=>{const{vertical:O,fixed:q,hideScrollbar:ce,scrollableX:Ae,scrollableY:_e,centered:G,scrollButtonsHideMobile:H,classes:e}=A;return Ai({root:["root",O&&"vertical"],scroller:["scroller",q&&"fixed",ce&&"hideScrollbar",Ae&&"scrollableX",_e&&"scrollableY"],flexContainer:["flexContainer",O&&"flexContainerVertical",G&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",H&&"scrollButtonsHideMobile"],scrollableX:[Ae&&"scrollableX"],hideScrollbar:[ce&&"hideScrollbar"]},Rz,e)},Dz=Ha("div",{name:"MuiTabs",slot:"Root",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[{[`& .${mx.scrollButtons}`]:O.scrollButtons},{[`& .${mx.scrollButtons}`]:q.scrollButtonsHideMobile&&O.scrollButtonsHideMobile},O.root,q.vertical&&O.vertical]}})(({ownerState:A,theme:O})=>on({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},A.vertical&&{flexDirection:"column"},A.scrollButtonsHideMobile&&{[`& .${mx.scrollButtons}`]:{[O.breakpoints.down("sm")]:{display:"none"}}})),_z=Ha("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.scroller,q.fixed&&O.fixed,q.hideScrollbar&&O.hideScrollbar,q.scrollableX&&O.scrollableX,q.scrollableY&&O.scrollableY]}})(({ownerState:A})=>on({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},A.fixed&&{overflowX:"hidden",width:"100%"},A.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},A.scrollableX&&{overflowX:"auto",overflowY:"hidden"},A.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),zz=Ha("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(A,O)=>{const{ownerState:q}=A;return[O.flexContainer,q.vertical&&O.flexContainerVertical,q.centered&&O.centered]}})(({ownerState:A})=>on({display:"flex"},A.vertical&&{flexDirection:"column"},A.centered&&{justifyContent:"center"})),Oz=Ha("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(A,O)=>O.indicator})(({ownerState:A,theme:O})=>on({position:"absolute",height:2,bottom:0,width:"100%",transition:O.transitions.create()},A.indicatorColor==="primary"&&{backgroundColor:(O.vars||O).palette.primary.main},A.indicatorColor==="secondary"&&{backgroundColor:(O.vars||O).palette.secondary.main},A.vertical&&{height:"100%",width:2,right:0})),Fz=Ha(Az)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ST={},Bz=Wr.forwardRef(function(O,q){const ce=Ci({props:O,name:"MuiTabs"}),Ae=Bm(),_e=U3(),{"aria-label":G,"aria-labelledby":H,action:e,centered:g=!1,children:R,className:i,component:C="div",allowScrollButtonsMobile:S=!1,indicatorColor:v="primary",onChange:d,orientation:r="horizontal",ScrollButtonComponent:t=Pz,scrollButtons:a="auto",selectionFollowsFocus:n,slots:f={},slotProps:u={},TabIndicatorProps:l={},TabScrollButtonProps:y={},textColor:h="primary",value:T,variant:c="standard",visibleScrollbar:o=!1}=ce,p=ja(ce,Iz),x=c==="scrollable",b=r==="vertical",P=b?"scrollTop":"scrollLeft",m=b?"top":"left",L=b?"bottom":"right",M=b?"clientHeight":"clientWidth",s=b?"height":"width",E=on({},ce,{component:C,allowScrollButtonsMobile:S,indicatorColor:v,orientation:r,vertical:b,scrollButtons:a,textColor:h,variant:c,visibleScrollbar:o,fixed:!x,hideScrollbar:x&&!o,scrollableX:x&&!b,scrollableY:x&&b,centered:g&&!x,scrollButtonsHideMobile:!S}),w=kz(E),_=Jf({elementType:f.StartScrollButtonIcon,externalSlotProps:u.startScrollButtonIcon,ownerState:E}),D=Jf({elementType:f.EndScrollButtonIcon,externalSlotProps:u.endScrollButtonIcon,ownerState:E}),[N,z]=Wr.useState(!1),[F,U]=Wr.useState(ST),[B,V]=Wr.useState(!1),[j,Q]=Wr.useState(!1),[ee,re]=Wr.useState(!1),[ue,J]=Wr.useState({overflow:"hidden",scrollbarWidth:0}),X=new Map,ne=Wr.useRef(null),Y=Wr.useRef(null),oe=()=>{const Ne=ne.current;let De;if(Ne){const at=Ne.getBoundingClientRect();De={clientWidth:Ne.clientWidth,scrollLeft:Ne.scrollLeft,scrollTop:Ne.scrollTop,scrollLeftNormalized:C9(Ne,_e?"rtl":"ltr"),scrollWidth:Ne.scrollWidth,top:at.top,bottom:at.bottom,left:at.left,right:at.right}}let He;if(Ne&&T!==!1){const at=Y.current.children;if(at.length>0){const vt=at[X.get(T)];He=vt?vt.getBoundingClientRect():null}}return{tabsMeta:De,tabMeta:He}},le=Yf(()=>{const{tabsMeta:Ne,tabMeta:De}=oe();let He=0,at;if(b)at="top",De&&Ne&&(He=De.top-Ne.top+Ne.scrollTop);else if(at=_e?"right":"left",De&&Ne){const ot=_e?Ne.scrollLeftNormalized+Ne.clientWidth-Ne.scrollWidth:Ne.scrollLeft;He=(_e?-1:1)*(De[at]-Ne[at]+ot)}const vt={[at]:He,[s]:De?De[s]:0};if(isNaN(F[at])||isNaN(F[s]))U(vt);else{const ot=Math.abs(F[at]-vt[at]),et=Math.abs(F[s]-vt[s]);(ot>=1||et>=1)&&U(vt)}}),Z=(Ne,{animation:De=!0}={})=>{De?bz(P,ne.current,Ne,{duration:Ae.transitions.duration.standard}):ne.current[P]=Ne},$=Ne=>{let De=ne.current[P];b?De+=Ne:(De+=Ne*(_e?-1:1),De*=_e&&CA()==="reverse"?-1:1),Z(De)},se=()=>{const Ne=ne.current[M];let De=0;const He=Array.from(Y.current.children);for(let at=0;at<He.length;at+=1){const vt=He[at];if(De+vt[M]>Ne){at===0&&(De=Ne);break}De+=vt[M]}return De},ae=()=>{$(-1*se())},he=()=>{$(se())},me=Wr.useCallback(Ne=>{J({overflow:null,scrollbarWidth:Ne})},[]),Me=()=>{const Ne={};Ne.scrollbarSizeListener=x?xn.jsx(Fz,{onChange:me,className:Xa(w.scrollableX,w.hideScrollbar)}):null;const He=x&&(a==="auto"&&(B||j)||a===!0);return Ne.scrollButtonStart=He?xn.jsx(t,on({slots:{StartScrollButtonIcon:f.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:_},orientation:r,direction:_e?"right":"left",onClick:ae,disabled:!B},y,{className:Xa(w.scrollButtons,y.className)})):null,Ne.scrollButtonEnd=He?xn.jsx(t,on({slots:{EndScrollButtonIcon:f.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:D},orientation:r,direction:_e?"left":"right",onClick:he,disabled:!j},y,{className:Xa(w.scrollButtons,y.className)})):null,Ne},Te=Yf(Ne=>{const{tabsMeta:De,tabMeta:He}=oe();if(!(!He||!De)){if(He[m]<De[m]){const at=De[P]+(He[m]-De[m]);Z(at,{animation:Ne})}else if(He[L]>De[L]){const at=De[P]+(He[L]-De[L]);Z(at,{animation:Ne})}}}),Pe=Yf(()=>{x&&a!==!1&&re(!ee)});Wr.useEffect(()=>{const Ne=B0(()=>{ne.current&&le()});let De;const He=ot=>{ot.forEach(et=>{et.removedNodes.forEach(ct=>{var ht;(ht=De)==null||ht.unobserve(ct)}),et.addedNodes.forEach(ct=>{var ht;(ht=De)==null||ht.observe(ct)})}),Ne(),Pe()},at=$f(ne.current);at.addEventListener("resize",Ne);let vt;return typeof ResizeObserver<"u"&&(De=new ResizeObserver(Ne),Array.from(Y.current.children).forEach(ot=>{De.observe(ot)})),typeof MutationObserver<"u"&&(vt=new MutationObserver(He),vt.observe(Y.current,{childList:!0})),()=>{var ot,et;Ne.clear(),at.removeEventListener("resize",Ne),(ot=vt)==null||ot.disconnect(),(et=De)==null||et.disconnect()}},[le,Pe]),Wr.useEffect(()=>{const Ne=Array.from(Y.current.children),De=Ne.length;if(typeof IntersectionObserver<"u"&&De>0&&x&&a!==!1){const He=Ne[0],at=Ne[De-1],vt={root:ne.current,threshold:.99},ot=gt=>{V(!gt[0].isIntersecting)},et=new IntersectionObserver(ot,vt);et.observe(He);const ct=gt=>{Q(!gt[0].isIntersecting)},ht=new IntersectionObserver(ct,vt);return ht.observe(at),()=>{et.disconnect(),ht.disconnect()}}},[x,a,ee,R==null?void 0:R.length]),Wr.useEffect(()=>{z(!0)},[]),Wr.useEffect(()=>{le()}),Wr.useEffect(()=>{Te(ST!==F)},[Te,F]),Wr.useImperativeHandle(e,()=>({updateIndicator:le,updateScrollButtons:Pe}),[le,Pe]);const be=xn.jsx(Oz,on({},l,{className:Xa(w.indicator,l.className),ownerState:E,style:on({},F,l.style)}));let Ee=0;const xe=Wr.Children.map(R,Ne=>{if(!Wr.isValidElement(Ne))return null;const De=Ne.props.value===void 0?Ee:Ne.props.value;X.set(De,Ee);const He=De===T;return Ee+=1,Wr.cloneElement(Ne,on({fullWidth:c==="fullWidth",indicator:He&&!N&&be,selected:He,selectionFollowsFocus:n,onChange:d,textColor:h,value:De},Ee===1&&T===!1&&!Ne.props.tabIndex?{tabIndex:0}:{}))}),Ce=Ne=>{const De=Y.current,He=al(De).activeElement;if(He.getAttribute("role")!=="tab")return;let vt=r==="horizontal"?"ArrowLeft":"ArrowUp",ot=r==="horizontal"?"ArrowRight":"ArrowDown";switch(r==="horizontal"&&_e&&(vt="ArrowRight",ot="ArrowLeft"),Ne.key){case vt:Ne.preventDefault(),Fg(De,He,AT);break;case ot:Ne.preventDefault(),Fg(De,He,TT);break;case"Home":Ne.preventDefault(),Fg(De,null,TT);break;case"End":Ne.preventDefault(),Fg(De,null,AT);break}},Ue=Me();return xn.jsxs(Dz,on({className:Xa(w.root,i),ownerState:E,ref:q,as:C},p,{children:[Ue.scrollButtonStart,Ue.scrollbarSizeListener,xn.jsxs(_z,{className:w.scroller,ownerState:E,style:{overflow:ue.overflow,[b?`margin${_e?"Left":"Right"}`:"marginBottom"]:o?void 0:-ue.scrollbarWidth},ref:ne,children:[xn.jsx(zz,{"aria-label":G,"aria-labelledby":H,"aria-orientation":r==="vertical"?"vertical":null,className:w.flexContainer,ownerState:E,onKeyDown:Ce,ref:Y,role:"tablist",children:xe}),N&&be]}),Ue.scrollButtonEnd]}))});var ew={},xx={};const Nz=_c(FR);var MT;function Uz(){return MT||(MT=1,function(A){"use client";Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"default",{enumerable:!0,get:function(){return O.createSvgIcon}});var O=Nz}(xx)),xx}var Vz=V3;Object.defineProperty(ew,"__esModule",{value:!0});var tw=ew.default=void 0,Hz=Vz(Uz()),Gz=xn;tw=ew.default=(0,Hz.default)((0,Gz.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Wz({data:A}){const[O,q]=Wr.useState([]),[ce,Ae]=Wr.useState("asc"),[_e,G]=Wr.useState(""),[H,e]=Wr.useState({week:"",stat:""});Wr.useEffect(()=>{C(H)});const g=d=>{const r=_e===d&&ce==="asc";G(d),Ae(r?"desc":"asc"),C(H)},R=d=>{const{name:r,value:t}=d.target;e(a=>({...a,[r]:t})),C({...H,[r]:t})},i=d=>{e(r=>({...r,[d]:""})),C({...H,[d]:""})},C=d=>{let r=A.filter(t=>Object.entries(d).every(([a,n])=>n===""?!0:t[a]===n));q(r)},S=d=>d.sort((r,t)=>{let a=r[_e],n=t[_e];return!isNaN(a)&&!isNaN(n)&&(a=Number(a),n=Number(n)),a<n?ce==="asc"?-1:1:a>n?ce==="asc"?1:-1:0}),v=["week","teams","val","stat"];return xn.jsxs(Yd,{className:"fullScreenPaper",children:[xn.jsx(Gf,{sx:{mt:1},container:!0,spacing:2,justifyContent:"center",children:Object.keys(H).map(d=>xn.jsx(Gf,{item:!0,xs:6,sm:3,children:xn.jsxs(zy,{fullWidth:!0,children:[xn.jsx(Oy,{children:d.charAt(0).toUpperCase()+d.slice(1)}),xn.jsx(E0,{value:H[d],label:d.charAt(0).toUpperCase()+d.slice(1),name:d,onChange:R,endAdornment:H[d]&&xn.jsx(WA,{onClick:()=>i(d),children:xn.jsx(tw,{})}),children:Array.from(new Set(A.map(r=>r[d]))).map((r,t)=>xn.jsx(n0,{value:r,children:r},t))})]})},d))}),xn.jsx(rS,{component:Yd,children:xn.jsxs(eS,{size:"small",children:[xn.jsx(nS,{children:xn.jsx(By,{children:A[0]&&v.map(d=>xn.jsx(Fy,{children:xn.jsx(aS,{active:_e===d,direction:_e===d?ce:"asc",onClick:()=>g(d),children:d})},d))})}),xn.jsx(tS,{children:S(O).map((d,r)=>xn.jsx(By,{children:v.map((t,a)=>xn.jsx(Fy,{children:d[t]},a))},r))})]})})]})}function Yz({data:A}){const[O,q]=Wr.useState([]),[ce,Ae]=Wr.useState("asc"),[_e,G]=Wr.useState(""),[H,e]=Wr.useState({week:"",team_name:""});Wr.useEffect(()=>{C(H)},[A]);const g=d=>{const r=_e===d&&ce==="asc";G(d),Ae(r?"desc":"asc"),C(H)},R=d=>{const{name:r,value:t}=d.target;e(a=>({...a,[r]:t})),C({...H,[r]:t})},i=d=>{e(r=>({...r,[d]:""})),C({...H,[d]:""})},C=d=>{let r=A.filter(t=>Object.entries(d).every(([a,n])=>n===""?!0:t[a].toString()===n));q(r)},S=d=>d.sort((r,t)=>{let a=r[_e],n=t[_e];return!isNaN(a)&&!isNaN(n)&&(a=Number(a),n=Number(n)),a<n?ce==="asc"?-1:1:a>n?ce==="asc"?1:-1:0}),v=["week","team_name","R","HR","RBI","SB","TB","AVG","OBP","IP","K","ERA","WHIP","SV"];return xn.jsxs(Yd,{className:"fullScreenPaper",children:[xn.jsx(Gf,{sx:{mt:1},container:!0,spacing:2,justifyContent:"center",children:Object.keys(H).map(d=>xn.jsx(Gf,{item:!0,xs:6,sm:3,children:xn.jsxs(zy,{fullWidth:!0,children:[xn.jsx(Oy,{children:d.charAt(0).toUpperCase()+d.slice(1)}),xn.jsx(E0,{value:H[d],label:d.charAt(0).toUpperCase()+d.slice(1),name:d,onChange:R,endAdornment:H[d]&&xn.jsx(WA,{onClick:()=>i(d),children:xn.jsx(tw,{})}),children:Array.from(new Set(A.map(r=>r[d]))).map((r,t)=>xn.jsx(n0,{value:r.toString(),children:r},t))})]})},d))}),xn.jsx(rS,{component:Yd,children:xn.jsxs(eS,{size:"small",children:[xn.jsx(nS,{children:xn.jsx(By,{children:A[0]&&v.map(d=>xn.jsx(Fy,{children:xn.jsx(aS,{active:_e===d,direction:_e===d?ce:"asc",onClick:()=>g(d),children:d.toUpperCase()})},d))})}),xn.jsx(tS,{children:S(O).map((d,r)=>xn.jsx(By,{children:v.map((t,a)=>xn.jsx(Fy,{children:d[t]},a))},r))})]})})]})}var iS={},oS={};(function(A){function O(u){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},O(u)}Object.defineProperty(A,"__esModule",{value:!0}),A.default=f;var q=G(Wr),ce=Ae(XP);function Ae(u){return u&&u.__esModule?u:{default:u}}function _e(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,y=new WeakMap;return(_e=function(T){return T?y:l})(u)}function G(u,l){if(u&&u.__esModule)return u;if(u===null||O(u)!=="object"&&typeof u!="function")return{default:u};var y=_e(l);if(y&&y.has(u))return y.get(u);var h={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in u)if(c!=="default"&&Object.prototype.hasOwnProperty.call(u,c)){var o=T?Object.getOwnPropertyDescriptor(u,c):null;o&&(o.get||o.set)?Object.defineProperty(h,c,o):h[c]=u[c]}return h.default=u,y&&y.set(u,h),h}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function g(u,l,y){return l&&e(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function R(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&i(u,l)}function i(u,l){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,T){return h.__proto__=T,h},i(u,l)}function C(u){var l=d();return function(){var h=r(u),T;if(l){var c=r(this).constructor;T=Reflect.construct(h,arguments,c)}else T=h.apply(this,arguments);return S(this,T)}}function S(u,l){if(l&&(O(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],a=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(u){var l=function(y){R(T,y);var h=C(T);function T(c){var o;return H(this,T),o=h.call(this,c),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(T,[{key:"updatePlotly",value:function(o,p,x){var b=this;this.p=this.p.then(function(){if(!b.unmounting){if(!b.el)throw new Error("Missing element reference");return u.react(b.el,{data:b.props.data,layout:b.props.layout,config:b.props.config,frames:b.props.frames})}}).then(function(){b.unmounting||(b.syncWindowResize(o),b.syncEventHandlers(),b.figureCallback(p),x&&b.attachUpdateEvents())}).catch(function(P){b.props.onError&&b.props.onError(P)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var p=o.frames&&o.frames.length?o.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,b=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&x===p),P=o.revision!==void 0,m=o.revision!==this.props.revision;!b&&(!P||P&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(p){o.el.on(p,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(p){o.el.removeListener(p,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var p=this.el,x=p.data,b=p.layout,P=this.el._transitionData?this.el._transitionData._frames:null,m={data:x,layout:b,frames:P};o(m,this.el)}}},{key:"syncWindowResize",value:function(o){var p=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(p.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(p){var x=o.props["on"+p],b=o.handlers[p],P=!!b;x&&!P?o.addEventHandler(p,x):!x&&P?o.removeEventHandler(p):x&&P&&x!==b&&(o.removeEventHandler(p),o.addEventHandler(p,x))})}},{key:"addEventHandler",value:function(o,p){this.handlers[o]=p,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return q.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(q.Component);return l.propTypes={data:ce.default.arrayOf(ce.default.object),config:ce.default.object,layout:ce.default.object,frames:ce.default.arrayOf(ce.default.object),revision:ce.default.number,onInitialized:ce.default.func,onPurge:ce.default.func,onError:ce.default.func,onUpdate:ce.default.func,debug:ce.default.bool,style:ce.default.object,className:ce.default.string,useResizeHandler:ce.default.bool,divId:ce.default.string},t.forEach(function(y){l.propTypes["on"+y]=ce.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(oS);var sS={exports:{}};(function(A,O){(function(ce,Ae){A.exports=Ae()})(self,function(){return function(){var q={79288:function(G,H,e){var g=e(3400),R={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in R){var C=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(C,R[i])}},86712:function(G,H,e){G.exports=e(84224)},37240:function(G,H,e){G.exports=e(51132)},29744:function(G,H,e){G.exports=e(94456)},29352:function(G,H,e){G.exports=e(67244)},96144:function(G,H,e){G.exports=e(97776)},53219:function(G,H,e){G.exports=e(61712)},4624:function(G,H,e){G.exports=e(95856)},54543:function(G,H,e){G.exports=e(54272)},45e3:function(G,H,e){G.exports=e(85404)},62300:function(G,H,e){G.exports=e(26048)},6920:function(G,H,e){G.exports=e(66240)},10264:function(G,H,e){G.exports=e(40448)},32016:function(G,H,e){G.exports=e(64884)},27528:function(G,H,e){G.exports=e(15088)},75556:function(G,H,e){G.exports=e(76744)},39204:function(G,H,e){G.exports=e(94704)},73996:function(G,H,e){G.exports=e(62396)},16489:function(G,H,e){G.exports=e(32028)},5e3:function(G,H,e){G.exports=e(81932)},77280:function(G,H,e){G.exports=e(45536)},33992:function(G,H,e){G.exports=e(42600)},17600:function(G,H,e){G.exports=e(21536)},49116:function(G,H,e){G.exports=e(65664)},46808:function(G,H,e){G.exports=e(29044)},36168:function(G,H,e){G.exports=e(48928)},13792:function(G,H,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=g},3920:function(G,H,e){G.exports=e(43480)},25120:function(G,H,e){G.exports=e(6296)},4340:function(G,H,e){G.exports=e(7404)},86152:function(G,H,e){G.exports=e(65456)},56816:function(G,H,e){G.exports=e(22020)},89296:function(G,H,e){G.exports=e(29928)},20260:function(G,H,e){G.exports=e(75792)},32140:function(G,H,e){G.exports=e(156)},84764:function(G,H,e){G.exports=e(45499)},48824:function(G,H,e){G.exports=e(3296)},69967:function(G,H,e){G.exports=e(4184)},8363:function(G,H,e){G.exports=e(36952)},86636:function(G,H,e){G.exports=e(38983)},70192:function(G,H,e){G.exports=e(11572)},81604:function(G,H,e){G.exports=e(76924)},63796:function(G,H,e){G.exports=e(62944)},89336:function(G,H,e){G.exports=e(95443)},67484:function(G,H,e){G.exports=e(34864)},97312:function(G,H,e){G.exports=e(76272)},42192:function(G,H,e){G.exports=e(97924)},29800:function(G,H,e){G.exports=e(15436)},63560:function(G,H,e){G.exports=e(5621)},89904:function(G,H,e){G.exports=e(91304)},50248:function(G,H,e){G.exports=e(41724)},65832:function(G,H,e){G.exports=e(31991)},79440:function(G,H,e){G.exports=e(22869)},13752:function(G,H,e){G.exports=e(67776)},83096:function(G,H,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,H,e){var g=e(72196),R=e(25376),i=e(33816),C=e(31780).templatedArray;e(36208),G.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:R({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,H,e){var g=e(3400),R=e(54460),i=e(23816).draw;G.exports=function(d){var r=d._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&d._fullData.length)return g.syncOrAsync([i,C],d)};function C(v){var d=v._fullLayout;g.filterVisible(d.annotations).forEach(function(r){var t=R.getFromId(v,r.xref),a=R.getFromId(v,r.yref),n=R.getRefType(r.xref),f=R.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,a)})}function S(v,d){var r=d._id,t=r.charAt(0),a=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],y=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,o=T-h,p=3*v.startarrowsize*v.arrowwidth||0,x=p+h,b=p-h,P;if(u===f){var m=R.findExtremes(d,[d.r2c(a)],{ppadplus:c,ppadminus:o}),L=R.findExtremes(d,[d.r2c(n)],{ppadplus:Math.max(l,x),ppadminus:Math.max(y,b)});P={min:[m.min[0],L.min[0]],max:[m.max[0],L.max[0]]}}else x=n?x+n:x,b=n?b-n:b,P=R.findExtremes(d,[d.r2c(a)],{ppadplus:Math.max(l,c,x),ppadminus:Math.max(y,o,b)});v._extremes[r]=P}},42300:function(G,H,e){var g=e(3400),R=e(24040),i=e(31780).arrayEditor;G.exports={hasClickToShow:C,onClick:S};function C(r,t){var a=v(r,t);return a.on.length>0||a.explicitOff.length>0}function S(r,t){var a=v(r,t),n=a.on,f=a.off.concat(a.explicitOff),u={},l=r._fullLayout.annotations,y,h;if(n.length||f.length){for(y=0;y<n.length;y++)h=i(r.layout,"annotations",l[n[y]]),h.modifyItem("visible",!0),g.extendFlat(u,h.getUpdateObj());for(y=0;y<f.length;y++)h=i(r.layout,"annotations",l[f[y]]),h.modifyItem("visible",!1),g.extendFlat(u,h.getUpdateObj());return R.call("update",r,{},u)}}function v(r,t){var a=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,y,h,T,c,o,p,x,b;for(y=0;y<a.length;y++)if(T=a[y],c=T.clicktoshow,c){for(h=0;h<l;h++)if(o=t[h],p=o.xaxis,x=o.yaxis,p._id===T.xref&&x._id===T.yref&&p.d2r(o.x)===d(T._xclick,p)&&x.d2r(o.y)===d(T._yclick,x)){T.visible?c==="onout"?b=f:b=u:b=n,b.push(y);break}h===l&&T.visible&&c==="onout"&&f.push(y)}return{on:n,off:f,explicitOff:u}}function d(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,H,e){var g=e(3400),R=e(76308);G.exports=function(C,S,v,d){d("opacity");var r=d("bgcolor"),t=d("bordercolor"),a=R.opacity(t);d("borderpad");var n=d("borderwidth"),f=d("showarrow");d("text",f?" ":v._dfltTitle.annotation),d("textangle"),g.coerceFont(d,"font",v.font),d("width"),d("align");var u=d("height");if(u&&d("valign"),f){var l=d("arrowside"),y,h;l.indexOf("end")!==-1&&(y=d("arrowhead"),h=d("arrowsize")),l.indexOf("start")!==-1&&(d("startarrowhead",y),d("startarrowsize",h)),d("arrowcolor",a?S.bordercolor:R.defaultLine),d("arrowwidth",(a&&n||1)*2),d("standoff"),d("startstandoff")}var T=d("hovertext"),c=v.hoverlabel||{};if(T){var o=d("hoverlabel.bgcolor",c.bgcolor||(R.opacity(r)?R.rgb(r):R.defaultLine)),p=d("hoverlabel.bordercolor",c.bordercolor||R.contrast(o)),x=g.extendFlat({},c.font);x.color||(x.color=p),g.coerceFont(d,"hoverlabel.font",x)}d("captureevents",!!T)}},26828:function(G,H,e){var g=e(38248),R=e(36896);G.exports=function(C,S,v,d){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var a=C._fullLayout.annotations,n=S._id.charAt(0),f,u;function l(h){var T=f[h],c=null;r?c=R(T,S.range):c=Math.pow(10,T),g(c)||(c=null),d(u+h,c)}for(var y=0;y<a.length;y++)f=a[y],u="annotations["+y+"].",f[n+"ref"]===S._id&&l(n),f["a"+n+"ref"]===S._id&&l("a"+n)}},45216:function(G,H,e){var g=e(3400),R=e(54460),i=e(51272),C=e(87192),S=e(13916);G.exports=function(r,t){i(r,t,{name:"annotations",handleItemDefaults:v})};function v(d,r,t){function a(M,s){return g.coerce(d,r,S,M,s)}var n=a("visible"),f=a("clicktoshow");if(n||f){C(d,r,t,a);for(var u=r.showarrow,l=["x","y"],y=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=l[T],o=R.coerceRef(d,r,h,c,"","paper");if(o!=="paper"){var p=R.getFromId(h,o);p._annIndices.push(r._index)}if(R.coercePosition(r,h,a,o,c,.5),u){var x="a"+c,b=R.coerceRef(d,r,h,x,"pixel",["pixel","paper"]);b!=="pixel"&&b!==o&&(b=r[x]="pixel");var P=b==="pixel"?y[T]:.4;R.coercePosition(r,h,a,b,x,P)}a(c+"anchor"),a(c+"shift")}if(g.noneOrAll(d,r,["x","y"]),u&&g.noneOrAll(d,r,["ax","ay"]),f){var m=a("xclick"),L=a("yclick");r._xclick=m===void 0?r.x:R.cleanPosition(m,h,r.xref),r._yclick=L===void 0?r.y:R.cleanPosition(L,h,r.yref)}}}},23816:function(G,H,e){var g=e(33428),R=e(24040),i=e(7316),C=e(3400),S=C.strTranslate,v=e(54460),d=e(76308),r=e(43616),t=e(93024),a=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);G.exports={draw:y,drawOne:h,drawRaw:c};function y(o){var p=o._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var x=0;x<p.annotations.length;x++)p.annotations[x].visible&&h(o,x);return i.previousPromises(o)}function h(o,p){var x=o._fullLayout,b=x.annotations[p]||{},P=v.getFromId(o,b.xref),m=v.getFromId(o,b.yref);P&&P.setScale(),m&&m.setScale(),c(o,b,p,!1,P,m)}function T(o,p,x,b,P){var m=P[x],L=P[x+"ref"],M=x.indexOf("y")!==-1,s=v.getRefType(L)==="domain",E=M?b.h:b.w;return o?s?m+(M?-p:p)/o._length:o.p2r(o.r2p(m)+p):m+(M?-p:p)/E}function c(o,p,x,b,P,m){var L=o._fullLayout,M=o._fullLayout._size,s=o._context.edits,E,w;b?(E="annotation-"+b,w=b+".annotations"):(E="annotation",w="annotations");var _=u(o.layout,w,p),D=_.modifyBase,N=_.modifyItem,z=_.getUpdateObj;L._infolayer.selectAll("."+E+'[data-index="'+x+'"]').remove();var F="clip"+L._uid+"_ann"+x;if(!p._input||p.visible===!1){g.selectAll("#"+F).remove();return}var U={x:{},y:{}},B=+p.textangle||0,V=L._infolayer.append("g").classed(E,!0).attr("data-index",String(x)).style("opacity",p.opacity),j=V.append("g").classed("annotation-text-g",!0),Q=s[p.showarrow?"annotationTail":"annotationPosition"],ee=p.captureevents||s.annotationText||Q;function re(me){var Me={index:x,annotation:p._input,fullAnnotation:p,event:me};return b&&(Me.subplotId=b),Me}var ue=j.append("g").style("pointer-events",ee?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",re(g.event))});p.hovertext&&ue.on("mouseover",function(){var me=p.hoverlabel,Me=me.font,Te=this.getBoundingClientRect(),Pe=o.getBoundingClientRect();t.loneHover({x0:Te.left-Pe.left,x1:Te.right-Pe.left,y:(Te.top+Te.bottom)/2-Pe.top,text:p.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Me.family,fontSize:Me.size,fontColor:Me.color,fontWeight:Me.weight,fontStyle:Me.style,fontVariant:Me.variant},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(L._hoverlayer.node())});var J=p.borderwidth,X=p.borderpad,ne=J+X,Y=ue.append("rect").attr("class","bg").style("stroke-width",J+"px").call(d.stroke,p.bordercolor).call(d.fill,p.bgcolor),oe=p.width||p.height,le=L._topclips.selectAll("#"+F).data(oe?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),le.exit().remove();var Z=p.font,$=L._meta?C.templateString(p.text,L._meta):p.text,se=ue.append("text").classed("annotation-text",!0).text($);function ae(me){return me.call(r.font,Z).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),a.convertToTspans(me,o,he),me}function he(){var me=se.selectAll("a");if(me.size()===1&&me.text()===se.text()){var Me=ue.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});Me.node().appendChild(Y.node())}var Te=ue.select(".annotation-text-math-group"),Pe=!Te.empty(),be=r.bBox((Pe?Te:se).node()),Ee=be.width,xe=be.height,Ce=p.width||Ee,Ue=p.height||xe,Ne=Math.round(Ce+2*ne),De=Math.round(Ue+2*ne);function He(yr,ur){return ur==="auto"&&(yr<.3333333333333333?ur="left":yr>.6666666666666666?ur="right":ur="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ur]}for(var at=!1,vt=["x","y"],ot=0;ot<vt.length;ot++){var et=vt[ot],ct=p[et+"ref"]||et,ht=p["a"+et+"ref"],gt={x:P,y:m}[et],xt=(B+(et==="x"?0:-90))*Math.PI/180,Mt=Ne*Math.cos(xt),tt=De*Math.sin(xt),Oe=Math.abs(Mt)+Math.abs(tt),Xe=p[et+"anchor"],Ze=p[et+"shift"]*(et==="x"?1:-1),We=U[et],ze,ke,je,Ie,pe,we=v.getRefType(ct);if(gt&&we!=="domain"){var Ve=gt.r2fraction(p[et]);(Ve<0||Ve>1)&&(ht===ct?(Ve=gt.r2fraction(p["a"+et]),(Ve<0||Ve>1)&&(at=!0)):at=!0),ze=gt._offset+gt.r2p(p[et]),Ie=.5}else{var Qe=we==="domain";et==="x"?(je=p[et],ze=Qe?gt._offset+gt._length*je:ze=M.l+M.w*je):(je=1-p[et],ze=Qe?gt._offset+gt._length*je:ze=M.t+M.h*je),Ie=p.showarrow?.5:je}if(p.showarrow){We.head=ze;var it=p["a"+et];if(pe=Mt*He(.5,p.xanchor)-tt*He(.5,p.yanchor),ht===ct){var st=v.getRefType(ht);st==="domain"?(et==="y"&&(it=1-it),We.tail=gt._offset+gt._length*it):st==="paper"?et==="y"?(it=1-it,We.tail=M.t+M.h*it):We.tail=M.l+M.w*it:We.tail=gt._offset+gt.r2p(it),ke=pe}else We.tail=ze+it,ke=pe+it;We.text=We.tail+pe;var Wt=L[et==="x"?"width":"height"];if(ct==="paper"&&(We.head=C.constrain(We.head,1,Wt-1)),ht==="pixel"){var jt=-Math.max(We.tail-3,We.text),Tt=Math.min(We.tail+3,We.text)-Wt;jt>0?(We.tail+=jt,We.text+=jt):Tt>0&&(We.tail-=Tt,We.text-=Tt)}We.tail+=Ze,We.head+=Ze}else pe=Oe*He(Ie,Xe),ke=pe,We.text=ze+pe;We.text+=Ze,pe+=Ze,ke+=Ze,p["_"+et+"padplus"]=Oe/2+ke,p["_"+et+"padminus"]=Oe/2-ke,p["_"+et+"size"]=Oe,p["_"+et+"shift"]=pe}if(at){ue.remove();return}var Lt=0,Xt=0;if(p.align!=="left"&&(Lt=(Ce-Ee)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Xt=(Ue-xe)*(p.valign==="middle"?.5:1)),Pe)Te.select("svg").attr({x:ne+Lt-1,y:ne+Xt}).call(r.setClipUrl,oe?F:null,o);else{var Tr=ne+Xt-be.top,yt=ne+Lt-be.left;se.call(a.positionText,yt,Tr).call(r.setClipUrl,oe?F:null,o)}le.select("rect").call(r.setRect,ne,ne,Ce,Ue),Y.call(r.setRect,J/2,J/2,Ne-J,De-J),ue.call(r.setTranslate,Math.round(U.x.text-Ne/2),Math.round(U.y.text-De/2)),j.attr({transform:"rotate("+B+","+U.x.text+","+U.y.text+")"});var Kt=function(yr,ur){V.selectAll(".annotation-arrow-g").remove();var mt=U.x.head,lt=U.y.head,bt=U.x.tail+yr,Et=U.y.tail+ur,It=U.x.text+yr,Ht=U.y.text+ur,Ut=C.rotationXYMatrix(B,It,Ht),Bt=C.apply2DTransform(Ut),$t=C.apply2DTransform2(Ut),fr=+Y.attr("width"),Zt=+Y.attr("height"),vr=It-.5*fr,Ye=vr+fr,Ge=Ht-.5*Zt,zt=Ge+Zt,Dt=[[vr,Ge,vr,zt],[vr,zt,Ye,zt],[Ye,zt,Ye,Ge],[Ye,Ge,vr,Ge]].map($t);if(!Dt.reduce(function(Ir,sn){return Ir^!!C.segmentsIntersect(mt,lt,mt+1e6,lt+1e6,sn[0],sn[1],sn[2],sn[3])},!1)){Dt.forEach(function(Ir){var sn=C.segmentsIntersect(bt,Et,mt,lt,Ir[0],Ir[1],Ir[2],Ir[3]);sn&&(bt=sn.x,Et=sn.y)});var Qt=p.arrowwidth,nr=p.arrowcolor,ir=p.arrowside,tr=V.append("g").style({opacity:d.opacity(nr)}).classed("annotation-arrow-g",!0),Ft=tr.append("path").attr("d","M"+bt+","+Et+"L"+mt+","+lt).style("stroke-width",Qt+"px").call(d.stroke,d.rgb(nr));if(l(Ft,ir,p),s.annotationPosition&&Ft.node().parentNode&&!b){var cr=mt,pr=lt;if(p.standoff){var br=Math.sqrt(Math.pow(mt-bt,2)+Math.pow(lt-Et,2));cr+=p.standoff*(bt-mt)/br,pr+=p.standoff*(Et-lt)/br}var hr=tr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-cr)+","+(Et-pr),transform:S(cr,pr)}).style("stroke-width",Qt+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Vr,Pr;f.init({element:hr.node(),gd:o,prepFn:function(){var Ir=r.getTranslate(ue);Vr=Ir.x,Pr=Ir.y,P&&P.autorange&&D(P._name+".autorange",!0),m&&m.autorange&&D(m._name+".autorange",!0)},moveFn:function(Ir,sn){var an=Bt(Vr,Pr),En=an[0]+Ir,Mn=an[1]+sn;ue.call(r.setTranslate,En,Mn),N("x",T(P,Ir,"x",M,p)),N("y",T(m,sn,"y",M,p)),p.axref===p.xref&&N("ax",T(P,Ir,"ax",M,p)),p.ayref===p.yref&&N("ay",T(m,sn,"ay",M,p)),tr.attr("transform",S(Ir,sn)),j.attr({transform:"rotate("+B+","+En+","+Mn+")"})},doneFn:function(){R.call("_guiRelayout",o,z());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(p.showarrow&&Kt(0,0),Q){var Jt;f.init({element:ue.node(),gd:o,prepFn:function(){Jt=j.attr("transform")},moveFn:function(yr,ur){var mt="pointer";if(p.showarrow)p.axref===p.xref?N("ax",T(P,yr,"ax",M,p)):N("ax",p.ax+yr),p.ayref===p.yref?N("ay",T(m,ur,"ay",M.w,p)):N("ay",p.ay+ur),Kt(yr,ur);else{if(b)return;var lt,bt;if(P)lt=T(P,yr,"x",M,p);else{var Et=p._xsize/M.w,It=p.x+(p._xshift-p.xshift)/M.w-Et/2;lt=f.align(It+yr/M.w,Et,0,1,p.xanchor)}if(m)bt=T(m,ur,"y",M,p);else{var Ht=p._ysize/M.h,Ut=p.y-(p._yshift+p.yshift)/M.h-Ht/2;bt=f.align(Ut-ur/M.h,Ht,0,1,p.yanchor)}N("x",lt),N("y",bt),(!P||!m)&&(mt=f.getCursor(P?.5:lt,m?.5:bt,p.xanchor,p.yanchor))}j.attr({transform:S(yr,ur)+Jt}),n(ue,mt)},clickFn:function(yr,ur){p.captureevents&&o.emit("plotly_clickannotation",re(ur))},doneFn:function(){n(ue),R.call("_guiRelayout",o,z());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}s.annotationText?se.call(a.makeEditable,{delegate:ue,gd:o}).call(ae).on("edit",function(me){p.text=me,this.call(ae),N("text",me),P&&P.autorange&&D(P._name+".autorange",!0),m&&m.autorange&&D(m._name+".autorange",!0),R.call("_guiRelayout",o,z())}):se.call(ae)}},33652:function(G,H,e){var g=e(33428),R=e(76308),i=e(72196),C=e(3400),S=C.strScale,v=C.strRotate,d=C.strTranslate;G.exports=function(t,a,n){var f=t.node(),u=i[n.arrowhead||0],l=i[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),T=a.indexOf("start")>=0,c=a.indexOf("end")>=0,o=u.backoff*y+n.standoff,p=l.backoff*h+n.startstandoff,x,b,P,m;if(f.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},b={x:+t.attr("x2"),y:+t.attr("y2")};var L=x.x-b.x,M=x.y-b.y;if(P=Math.atan2(M,L),m=P+Math.PI,o&&p&&o+p>Math.sqrt(L*L+M*M)){j();return}if(o){if(o*o>L*L+M*M){j();return}var s=o*Math.cos(P),E=o*Math.sin(P);b.x+=s,b.y+=E,t.attr({x2:b.x,y2:b.y})}if(p){if(p*p>L*L+M*M){j();return}var w=p*Math.cos(P),_=p*Math.sin(P);x.x-=w,x.y-=_,t.attr({x1:x.x,y1:x.y})}}else if(f.nodeName==="path"){var D=f.getTotalLength(),N="";if(D<o+p){j();return}var z=f.getPointAtLength(0),F=f.getPointAtLength(.1);P=Math.atan2(z.y-F.y,z.x-F.x),x=f.getPointAtLength(Math.min(p,D)),N="0px,"+p+"px,";var U=f.getPointAtLength(D),B=f.getPointAtLength(D-.1);m=Math.atan2(U.y-B.y,U.x-B.x),b=f.getPointAtLength(Math.max(0,D-o));var V=N?p+o:o;N+=D-V+"px,"+D+"px",t.style("stroke-dasharray",N)}function j(){t.style("stroke-dasharray","0px,100px")}function Q(ee,re,ue,J){ee.path&&(ee.noRotate&&(ue=0),g.select(f.parentNode).append("path").attr({class:t.attr("class"),d:ee.path,transform:d(re.x,re.y)+v(ue*180/Math.PI)+S(J)}).style({fill:R.rgb(n.arrowcolor),"stroke-width":0}))}T&&Q(l,x,P,h),c&&Q(u,b,m,y)}},79180:function(G,H,e){var g=e(23816),R=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:R.hasClickToShow,onClick:R.onClick,convertCoords:e(26828)}},45899:function(G,H,e){var g=e(13916),R=e(67824).overrideAll,i=e(31780).templatedArray;G.exports=R(i("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(G,H,e){var g=e(3400),R=e(54460);G.exports=function(S){for(var v=S.fullSceneLayout,d=v.annotations,r=0;r<d.length;r++)i(d[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function i(C,S){var v=S.fullSceneLayout,d=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},g.extendFlat(C._xa,t),R.setConvert(C._xa),C._xa._offset=r.l+d.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(d.x[1]-d.x[0])},C._ya={},g.extendFlat(C._ya,t),R.setConvert(C._ya),C._ya._offset=r.t+(1-d.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(d.y[1]-d.y[0])}}},52808:function(G,H,e){var g=e(3400),R=e(54460),i=e(51272),C=e(87192),S=e(45899);G.exports=function(r,t,a){i(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:a.fullLayout})};function v(d,r,t,a){function n(l,y){return g.coerce(d,r,S,l,y)}function f(l){var y=l+"axis",h={_fullLayout:{}};return h._fullLayout[y]=t[y],R.coercePosition(r,h,n,l,l,.5)}var u=n("visible");u&&(C(d,r,a.fullLayout,n),f("x"),f("y"),f("z"),g.noneOrAll(d,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(d,r,["ax","ay"])))}},71836:function(G,H,e){var g=e(23816).drawRaw,R=e(94424),i=["x","y","z"];G.exports=function(S){for(var v=S.fullSceneLayout,d=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var a=r[t],n=!1,f=0;f<3;f++){var u=i[f],l=a[u],y=v[u+"axis"],h=y.r2fraction(l);if(h<0||h>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(a._pdata=R(S.glplot.cameraParams,[v.xaxis.r2l(a.x)*d[0],v.yaxis.r2l(a.y)*d[1],v.zaxis.r2l(a.z)*d[2]]),g(S.graphDiv,a,t,S.id,a._xa,a._ya))}}},56864:function(G,H,e){var g=e(24040),R=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:i,convert:e(42456),draw:e(71836)};function i(C,S){var v=g.subplotsRegistry.gl3d;if(v)for(var d=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var a=r[t];d.test(a)&&(C[a].annotations||[]).length&&(R.pushUnique(S._basePlotModules,v),R.pushUnique(S._subplots.gl3d,a))}}},54976:function(G,H,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,H,e){var g=e(54976),R=e(3400),i=e(39032),C=i.EPOCHJD,S=i.ONEDAY,v={valType:"enumerated",values:R.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},d=function(P,m,L,M){var s={};return s[L]=v,R.coerce(P,m,s,L,M)},r=function(P,m,L,M){for(var s=0;s<L.length;s++)d(P,m,L[s]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},a={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(P,m,L){for(var M=Math.floor((m+.05)/S)+C,s=h(L).fromJD(M),E=0,w,_,D,N,z;(E=P.indexOf("%",E))!==-1;)w=P.charAt(E+1),w==="0"||w==="-"||w==="_"?(D=3,_=P.charAt(E+2),w==="_"&&(w="-")):(_=w,w="0",D=2),N=u[_],N?(N===f?z=f:z=s.formatDate(N[w]),P=P.substr(0,E)+z+P.substr(E+D),E+=z.length):E+=D;return P}var y={};function h(P){var m=y[P];return m||(m=y[P]=g.instance(P),m)}function T(P){return R.extendFlat({},v,{description:P})}function c(P){return"Sets the calendar system to use with `"+P+"` date data."}var o={xcalendar:T(c("x"))},p=R.extendFlat({},o,{ycalendar:T(c("y"))}),x=R.extendFlat({},p,{zcalendar:T(c("z"))}),b=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:x,surface:x,mesh3d:x,scattergl:p,ohlc:o,candlestick:o},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:d,handleTraceDefaults:r,CANONICAL_SUNDAY:a,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(G,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},76308:function(G,H,e){var g=e(49760),R=e(38248),i=e(38116).isTypedArray,C=G.exports={},S=e(22548);C.defaults=S.defaults;var v=C.defaultLine=S.defaultLine;C.lightLine=S.lightLine;var d=C.background=S.background;C.tinyRGB=function(t){var a=t.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},C.rgb=function(t){return C.tinyRGB(g(t))},C.opacity=function(t){return t?g(t).getAlpha():0},C.addOpacity=function(t,a){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+a+")"},C.combine=function(t,a){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var f=g(a||d).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},C.interpolate=function(t,a,n){var f=g(t).toRgb(),u=g(a).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return g(l).toRgbString()},C.contrast=function(t,a,n){var f=g(t);f.getAlpha()!==1&&(f=g(C.combine(t,d)));var u=f.isDark()?a?f.lighten(a):d:n?f.darken(n):v;return u.toString()},C.stroke=function(t,a){var n=g(a);t.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(t,a){var n=g(a);t.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var a=Object.keys(t),n,f,u,l;for(n=0;n<a.length;n++)if(u=a[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var y=l[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(f=0;f<l.length;f++)C.clean(l[f])}else l&&typeof l=="object"&&!i(l)&&C.clean(l)}};function r(t){if(R(t)||typeof t!="string")return t;var a=t.trim();if(a.substr(0,3)!=="rgb")return t;var n=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=a.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var y=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+y+", "+f[3]+")":"rgb("+y+")"}},42996:function(G,H,e){var g=e(94724),R=e(25376),i=e(92880).extendFlat,C=e(67824).overrideAll;G.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:i({},g.ticks,{dflt:""}),ticklabeloverflow:i({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:R({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:R({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:R({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,H,e){var g=e(3400),R=e(31780),i=e(26332),C=e(25404),S=e(95936),v=e(42568),d=e(42996);G.exports=function(t,a,n){var f=R.newContainer(a,"colorbar"),u=t.colorbar||{};function l(U,B){return g.coerce(u,f,d,U,B)}var y=n.margin||{t:0,b:0,l:0,r:0},h=n.width-y.l-y.r,T=n.height-y.t-y.b,c=l("orientation"),o=c==="v",p=l("thicknessmode");l("thickness",p==="fraction"?30/(o?h:T):30);var x=l("lenmode");l("len",x==="fraction"?1:o?T:h);var b=l("yref"),P=l("xref"),m=b==="paper",L=P==="paper",M,s,E,w="left";o?(E="middle",w=L?"left":"right",M=L?1.02:1,s=.5):(E=m?"bottom":"top",w="center",M=.5,s=m?1.02:1),g.coerce(u,f,{x:{valType:"number",min:L?-2:0,max:L?3:1,dflt:M}},"x"),g.coerce(u,f,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),l("xanchor",w),l("xpad"),l("yanchor",E),l("ypad"),g.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var _=g.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(u,f,l,"linear");var D=n.font,N={noAutotickangles:!0,outerTicks:!1,font:D};_.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,f,l,"linear",N),S(u,f,l,"linear",N),C(u,f,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var z=f.showticklabels?f.tickfont:D,F=g.extendFlat({},z,{weight:D.weight,style:D.style,variant:D.variant,color:D.color,size:g.bigFont(z.size)});g.coerceFont(l,"title.font",F),l("title.side",o?"top":"right")}},37848:function(G,H,e){var g=e(33428),R=e(49760),i=e(7316),C=e(24040),S=e(54460),v=e(86476),d=e(3400),r=d.strTranslate,t=e(92880).extendFlat,a=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),y=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),o=e(84284),p=o.LINE_SPACING,x=o.FROM_TL,b=o.FROM_BR,P=e(63964).cn;function m(_){var D=_._fullLayout,N=D._infolayer.selectAll("g."+P.colorbar).data(L(_),function(z){return z._id});N.enter().append("g").attr("class",function(z){return z._id}).classed(P.colorbar,!0),N.each(function(z){var F=g.select(this);d.ensureSingle(F,"rect",P.cbbg),d.ensureSingle(F,"g",P.cbfills),d.ensureSingle(F,"g",P.cblines),d.ensureSingle(F,"g",P.cbaxis,function(B){B.classed(P.crisp,!0)}),d.ensureSingle(F,"g",P.cbtitleunshift,function(B){B.append("g").classed(P.cbtitle,!0)}),d.ensureSingle(F,"rect",P.cboutline);var U=M(F,z,_);U&&U.then&&(_._promises||[]).push(U),_._context.edits.colorbarPosition&&s(F,z,_)}),N.exit().each(function(z){i.autoMargin(_,z._id)}).remove(),N.order()}function L(_){var D=_._fullLayout,N=_.calcdata,z=[],F,U,B,V;function j(Z){return t(Z,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){typeof V.calc=="function"?V.calc(_,B,F):(F._fillgradient=U.reversescale?y(U.colorscale):U.colorscale,F._zrange=[U[V.min],U[V.max]])}for(var ee=0;ee<N.length;ee++){var re=N[ee];if(B=re[0].trace,!!B._module){var ue=B._module.colorbar;if(B.visible===!0&&ue)for(var J=Array.isArray(ue),X=J?ue:[ue],ne=0;ne<X.length;ne++){V=X[ne];var Y=V.container;U=Y?B[Y]:B,U&&U.showscale&&(F=j(U.colorbar),F._id="cb"+B.uid+(J&&Y?"-"+Y:""),F._traceIndex=B.index,F._propPrefix=(Y?Y+".":"")+"colorbar.",F._meta=B._meta,Q(),z.push(F))}}}for(var oe in D._colorAxes)if(U=D[oe],U.showscale){var le=D._colorAxes[oe];F=j(U.colorbar),F._id="cb"+oe,F._propPrefix=oe+".colorbar.",F._meta=D._meta,V={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(B=le[1],V.calc=B._module.colorbar.calc),Q(),z.push(F)}return z}function M(_,D,N){var z=D.orientation==="v",F=D.len,U=D.lenmode,B=D.thickness,V=D.thicknessmode,j=D.outlinewidth,Q=D.borderwidth,ee=D.bgcolor,re=D.xanchor,ue=D.yanchor,J=D.xpad,X=D.ypad,ne=D.x,Y=z?D.y:1-D.y,oe=D.yref==="paper",le=D.xref==="paper",Z=N._fullLayout,$=Z._size,se=D._fillcolor,ae=D._line,he=D.title,me=he.side,Me=D._zrange||g.extent((typeof se=="function"?se:ae.color).domain()),Te=typeof ae.color=="function"?ae.color:function(){return ae.color},Pe=typeof se=="function"?se:function(){return se},be=D._levels,Ee=E(N,D,Me),xe=Ee.fill,Ce=Ee.line,Ue=Math.round(B*(V==="fraction"?z?$.w:$.h:1)),Ne=Ue/(z?$.w:$.h),De=Math.round(F*(U==="fraction"?z?$.h:$.w:1)),He=De/(z?$.h:$.w),at=le?$.w:N._fullLayout.width,vt=oe?$.h:N._fullLayout.height,ot=Math.round(z?ne*at+J:Y*vt+X),et={center:.5,right:1}[re]||0,ct={top:1,middle:.5}[ue]||0,ht=z?ne-et*Ne:Y-ct*Ne,gt=z?Y-ct*He:ne-et*He,xt=Math.round(z?vt*(1-gt):at*gt);D._lenFrac=He,D._thickFrac=Ne,D._uFrac=ht,D._vFrac=gt;var Mt=D._axis=w(N,D,Me);Mt.position=Ne+(z?ne+J/$.w:Y+X/$.h);var tt=["top","bottom"].indexOf(me)!==-1;if(z&&tt&&(Mt.title.side=me,Mt.titlex=ne+J/$.w,Mt.titley=gt+(he.side==="top"?He-X/$.h:X/$.h)),!z&&!tt&&(Mt.title.side=me,Mt.titley=Y+X/$.h,Mt.titlex=gt+J/$.w),ae.color&&D.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=be.start;var Oe=be.size,Xe=d.constrain(De/50,4,15)+1,Ze=(Me[1]-Me[0])/((D.nticks||Xe)*Oe);if(Ze>1){var We=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));Oe*=We*d.roundUp(Ze/We,[2,5,10]),(Math.abs(be.start)/be.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Oe}Mt.domain=z?[gt+X/$.h,gt+He-X/$.h]:[gt+J/$.w,gt+He-J/$.w],Mt.setScale(),_.attr("transform",r(Math.round($.l),Math.round($.t)));var ze=_.select("."+P.cbtitleunshift).attr("transform",r(-Math.round($.l),-Math.round($.t))),ke=Mt.ticklabelposition,je=Mt.title.font.size,Ie=_.select("."+P.cbaxis),pe,we=0,Ve=0;function Qe(Tt,Lt){var Xt={propContainer:Mt,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:Z._dfltTitle.colorbar,containerGroup:_.select("."+P.cbtitle)},Tr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;_.selectAll("."+Tr+",."+Tr+"-math-group").remove(),u.draw(N,Tt,t(Xt,Lt||{}))}function it(){if(z&&tt||!z&&!tt){var Tt,Lt;me==="top"&&(Tt=J+$.l+at*ne,Lt=X+$.t+vt*(1-gt-He)+3+je*.75),me==="bottom"&&(Tt=J+$.l+at*ne,Lt=X+$.t+vt*(1-gt)-3-je*.25),me==="right"&&(Lt=X+$.t+vt*Y+3+je*.75,Tt=J+$.l+at*gt),Qe(Mt._id+"title",{attributes:{x:Tt,y:Lt,"text-anchor":z?"start":"middle"}})}}function st(){if(z&&!tt||!z&&tt){var Tt=Mt.position||0,Lt=Mt._offset+Mt._length/2,Xt,Tr;if(me==="right")Tr=Lt,Xt=$.l+at*Tt+10+je*(Mt.showticklabels?1:.5);else if(Xt=Lt,me==="bottom"&&(Tr=$.t+vt*Tt+10+(ke.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&D.ticklen||0)),me==="top"){var yt=he.text.split("<br>").length;Tr=$.t+vt*Tt+10-Ue-p*je*yt}Qe((z?"h":"v")+Mt._id+"title",{avoid:{selection:g.select(N).selectAll("g."+Mt._id+"tick"),side:me,offsetTop:z?0:$.t,offsetLeft:z?$.l:0,maxShift:z?Z.width:Z.height},attributes:{x:Xt,y:Tr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Wt(){if(!z&&!tt||z&&tt){var Tt=_.select("."+P.cbtitle),Lt=Tt.select("text"),Xt=[-j/2,j/2],Tr=Tt.select(".h"+Mt._id+"title-math-group").node(),yt=15.6;Lt.node()&&(yt=parseInt(Lt.node().style.fontSize,10)*p);var Kt;if(Tr?(Kt=n.bBox(Tr),Ve=Kt.width,we=Kt.height,we>yt&&(Xt[1]-=(we-yt)/2)):Lt.node()&&!Lt.classed(P.jsPlaceholder)&&(Kt=n.bBox(Lt.node()),Ve=Kt.width,we=Kt.height),z){if(we){if(we+=5,me==="top")Mt.domain[1]-=we/$.h,Xt[1]*=-1;else{Mt.domain[0]+=we/$.h;var Jt=l.lineCount(Lt);Xt[1]+=(1-Jt)*yt}Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale()}}else Ve&&(me==="right"&&(Mt.domain[0]+=(Ve+je/2)/$.w),Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale())}_.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",z?r(0,Math.round($.h*(1-Mt.domain[1]))):r(Math.round($.w*Mt.domain[0]),0)),Ie.attr("transform",z?r(0,Math.round(-$.t)):r(Math.round(-$.l),0));var yr=_.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(xe);yr.enter().append("rect").classed(P.cbfill,!0).attr("style",""),yr.exit().remove();var ur=Me.map(Mt.c2p).map(Math.round).sort(function(It,Ht){return It-Ht});yr.each(function(It,Ht){var Ut=[Ht===0?Me[0]:(xe[Ht]+xe[Ht-1])/2,Ht===xe.length-1?Me[1]:(xe[Ht]+xe[Ht+1])/2].map(Mt.c2p).map(Math.round);z&&(Ut[1]=d.constrain(Ut[1]+(Ut[1]>Ut[0])?1:-1,ur[0],ur[1]));var Bt=g.select(this).attr(z?"x":"y",ot).attr(z?"y":"x",g.min(Ut)).attr(z?"width":"height",Math.max(Ue,2)).attr(z?"height":"width",Math.max(g.max(Ut)-g.min(Ut),2));if(D._fillgradient)n.gradient(Bt,N,D._id,z?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var $t=Pe(It).replace("e-","");Bt.attr("fill",R($t).toHexString())}});var mt=_.select("."+P.cblines).selectAll("path."+P.cbline).data(ae.color&&ae.width?Ce:[]);mt.enter().append("path").classed(P.cbline,!0),mt.exit().remove(),mt.each(function(It){var Ht=ot,Ut=Math.round(Mt.c2p(It))+ae.width/2%1;g.select(this).attr("d","M"+(z?Ht+","+Ut:Ut+","+Ht)+(z?"h":"v")+Ue).call(n.lineGroupStyle,ae.width,Te(It),ae.dash)}),Ie.selectAll("g."+Mt._id+"tick,path").remove();var lt=ot+Ue+(j||0)/2-(D.ticks==="outside"?1:0),bt=S.calcTicks(Mt),Et=S.getTickSigns(Mt)[2];return S.drawTicks(N,Mt,{vals:Mt.ticks==="inside"?S.clipEnds(Mt,bt):bt,layer:Ie,path:S.makeTickPath(Mt,lt,Et),transFn:S.makeTransTickFn(Mt)}),S.drawLabels(N,Mt,{vals:bt,layer:Ie,transFn:S.makeTransTickLabelFn(Mt),labelFns:S.makeLabelFns(Mt,lt)})}function jt(){var Tt,Lt=Ue+j/2;ke.indexOf("inside")===-1&&(Tt=n.bBox(Ie.node()),Lt+=z?Tt.width:Tt.height),pe=ze.select("text");var Xt=0,Tr=z&&me==="top",yt=!z&&me==="right",Kt=0;if(pe.node()&&!pe.classed(P.jsPlaceholder)){var Jt,yr=ze.select(".h"+Mt._id+"title-math-group").node();yr&&(z&&tt||!z&&!tt)?(Tt=n.bBox(yr),Xt=Tt.width,Jt=Tt.height):(Tt=n.bBox(ze.node()),Xt=Tt.right-$.l-(z?ot:xt),Jt=Tt.bottom-$.t-(z?xt:ot),!z&&me==="top"&&(Lt+=Tt.height,Kt=Tt.height)),yt&&(pe.attr("transform",r(Xt/2+je/2,0)),Xt*=2),Lt=Math.max(Lt,z?Xt:Jt)}var ur=(z?J:X)*2+Lt+Q+j/2,mt=0;!z&&he.text&&ue==="bottom"&&Y<=0&&(mt=ur/2,ur+=mt,Kt+=mt),Z._hColorbarMoveTitle=mt,Z._hColorbarMoveCBTitle=Kt;var lt=Q+j,bt=(z?ot:xt)-lt/2-(z?J:0),Et=(z?xt:ot)-(z?De:X+Kt-mt);_.select("."+P.cbbg).attr("x",bt).attr("y",Et).attr(z?"width":"height",Math.max(ur-mt,2)).attr(z?"height":"width",Math.max(De+lt,2)).call(f.fill,ee).call(f.stroke,D.bordercolor).style("stroke-width",Q);var It=yt?Math.max(Xt-10,0):0;_.selectAll("."+P.cboutline).attr("x",(z?ot:xt+J)+It).attr("y",(z?xt+X-De:ot)+(Tr?we:0)).attr(z?"width":"height",Math.max(Ue,2)).attr(z?"height":"width",Math.max(De-(z?2*X+we:2*J+It),2)).call(f.stroke,D.outlinecolor).style({fill:"none","stroke-width":j});var Ht=z?et*ur:0,Ut=z?0:(1-ct)*ur-Kt;if(Ht=le?$.l-Ht:-Ht,Ut=oe?$.t-Ut:-Ut,_.attr("transform",r(Ht,Ut)),!z&&(Q||R(ee).getAlpha()&&!R.equals(Z.paper_bgcolor,ee))){var Bt=Ie.selectAll("text"),$t=Bt[0].length,fr=_.select("."+P.cbbg).node(),Zt=n.bBox(fr),vr=n.getTranslate(_),Ye=2;Bt.each(function(pr,br){var hr=0,Vr=$t-1;if(br===hr||br===Vr){var Pr=n.bBox(this),Ir=n.getTranslate(this),sn;if(br===Vr){var an=Pr.right+Ir.x,En=Zt.right+vr.x+xt-Q-Ye+ne;sn=En-an,sn>0&&(sn=0)}else if(br===hr){var Mn=Pr.left+Ir.x,xr=Zt.left+vr.x+xt+Q+Ye;sn=xr-Mn,sn<0&&(sn=0)}sn&&($t<3?this.setAttribute("transform","translate("+sn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},zt=x[re],Dt=b[re],Qt=x[ue],nr=b[ue],ir=ur-Ue;z?(U==="pixels"?(Ge.y=Y,Ge.t=De*Qt,Ge.b=De*nr):(Ge.t=Ge.b=0,Ge.yt=Y+F*Qt,Ge.yb=Y-F*nr),V==="pixels"?(Ge.x=ne,Ge.l=ur*zt,Ge.r=ur*Dt):(Ge.l=ir*zt,Ge.r=ir*Dt,Ge.xl=ne-B*zt,Ge.xr=ne+B*Dt)):(U==="pixels"?(Ge.x=ne,Ge.l=De*zt,Ge.r=De*Dt):(Ge.l=Ge.r=0,Ge.xl=ne+F*zt,Ge.xr=ne-F*Dt),V==="pixels"?(Ge.y=1-Y,Ge.t=ur*Qt,Ge.b=ur*nr):(Ge.t=ir*Qt,Ge.b=ir*nr,Ge.yt=Y-B*Qt,Ge.yb=Y+B*nr));var tr=D.y<.5?"b":"t",Ft=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var cr={r:Z.width-bt-Ht,l:bt+Ge.r,b:Z.height-Et-Ut,t:Et+Ge.b};le&&oe?i.autoMargin(N,D._id,Ge):le?N._fullLayout._reservedMargin[D._id][tr]=cr[tr]:oe||z?N._fullLayout._reservedMargin[D._id][Ft]=cr[Ft]:N._fullLayout._reservedMargin[D._id][tr]=cr[tr]}return d.syncOrAsync([i.previousPromises,it,Wt,st,i.previousPromises,jt],N)}function s(_,D,N){var z=D.orientation==="v",F=N._fullLayout,U=F._size,B,V,j;v.init({element:_.node(),gd:N,prepFn:function(){B=_.attr("transform"),a(_)},moveFn:function(Q,ee){_.attr("transform",B+r(Q,ee)),V=v.align((z?D._uFrac:D._vFrac)+Q/U.w,z?D._thickFrac:D._lenFrac,0,1,D.xanchor),j=v.align((z?D._vFrac:1-D._uFrac)-ee/U.h,z?D._lenFrac:D._thickFrac,0,1,D.yanchor);var re=v.getCursor(V,j,D.xanchor,D.yanchor);a(_,re)},doneFn:function(){if(a(_),V!==void 0&&j!==void 0){var Q={};Q[D._propPrefix+"x"]=V,Q[D._propPrefix+"y"]=j,D._traceIndex!==void 0?C.call("_guiRestyle",N,Q,D._traceIndex):C.call("_guiRelayout",N,Q)}}})}function E(_,D,N){var z=D._levels,F=[],U=[],B,V,j=z.end+z.size/100,Q=z.size,ee=1.001*N[0]-.001*N[1],re=1.001*N[1]-.001*N[0];for(V=0;V<1e5&&(B=z.start+V*Q,!(Q>0?B>=j:B<=j));V++)B>ee&&B<re&&F.push(B);if(D._fillgradient)U=[0];else if(typeof D._fillcolor=="function"){var ue=D._filllevels;if(ue)for(j=ue.end+ue.size/100,Q=ue.size,V=0;V<1e5&&(B=ue.start+V*Q,!(Q>0?B>=j:B<=j));V++)B>N[0]&&B<N[1]&&U.push(B);else U=F.map(function(J){return J-z.size/2}),U.push(U[U.length-1]+z.size)}else D._fillcolor&&typeof D._fillcolor=="string"&&(U=[0]);return z.size<0&&(F.reverse(),U.reverse()),{line:F,fill:U}}function w(_,D,N){var z=_._fullLayout,F=D.orientation==="v",U={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},B=F?"y":"x",V={type:"linear",_id:B+D._id},j={letter:B,font:z.font,noAutotickangles:B==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function Q(ee,re){return d.coerce(U,V,c,ee,re)}return h(U,V,Q,j,z),T(U,V,Q,j),V}G.exports={draw:m}},90553:function(G,H,e){var g=e(3400);G.exports=function(i){return g.isPlainObject(i.colorbar)}},55080:function(G,H,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,H,e){var g=e(42996),R=e(53756).counter,i=e(95376),C=e(88304).scales;i(C),G.exports=function(v,d){v=v||"",d=d||{};var r=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var t="noScale"in d?d.noScale:v==="marker.line",a="showScaleDflt"in d?d.showScaleDflt:r==="z",n=typeof d.colorscaleDflt=="string"?C[d.colorscaleDflt]:null,f=d.editTypeOverride||"",u;"colorAttr"in d?(u=d.colorAttr,d.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",y=r+"min",h=r+"max",T=r+"mid",c={};c[y]=c[h]=void 0;var o={};o[l]=!1;var p={};return u==="color"&&(p.color={valType:"color",arrayOk:!0,editType:f||"style"},d.anim&&(p.color.anim=!0)),p[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},p[y]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},p[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},p[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(p.showscale={valType:"boolean",dflt:a,editType:"calc"},p.colorbar=g),d.noColorAxis||(p.coloraxis={valType:"subplotid",regex:R("coloraxis"),dflt:null,editType:"calc"}),p}},47128:function(G,H,e){var g=e(38248),R=e(3400),i=e(94288).extractOpts;G.exports=function(S,v,d){var r=S._fullLayout,t=d.vals,a=d.containerStr,n=a?R.nestedProperty(v,a).get():v,f=i(n),u=f.auto!==!1,l=f.min,y=f.max,h=f.mid,T=function(){return R.aggNums(Math.min,null,t)},c=function(){return R.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&g(l)?l=Math.min(l,T()):l=T()),y===void 0?y=c():u&&(n._colorAx&&g(y)?y=Math.max(y,c()):y=c()),u&&h!==void 0&&(y-h>h-l?l=h-(y-h):y-h<h-l&&(y=h+(h-l))),l===y&&(l-=.5,y+=.5),f._sync("min",l),f._sync("max",y),f.autocolorscale){var o;l*y<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,f._sync("colorscale",o)}}},95504:function(G,H,e){var g=e(3400),R=e(94288).hasColorscale,i=e(94288).extractOpts;G.exports=function(S,v){function d(l,y){var h=l["_"+y];h!==void 0&&(l[y]=h)}function r(l,y){var h=y.container?g.nestedProperty(l,y.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=i(h),c=T.auto;(c||T.min===void 0)&&d(h,y.min),(c||T.max===void 0)&&d(h,y.max),T.autocolorscale&&d(h,"colorscale")}}for(var t=0;t<S.length;t++){var a=S[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(a,n[f]);else r(a,n);R(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(G,H,e){var g=e(38248),R=e(3400),i=e(90553),C=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function d(r,t){var a=t.slice(0,t.length-1);return t?R.nestedProperty(r,a).get()||{}:r}G.exports=function r(t,a,n,f,u){var l=u.prefix,y=u.cLetter,h="_module"in a,T=d(t,l),c=d(a,l),o=d(a._template||{},l)||{},p=function(){return delete t.coloraxis,delete a.coloraxis,r(t,a,n,f,u)};if(h){var x=n._colorAxes||{},b=f(l+"coloraxis");if(b){var P=v(a,"contour")&&R.nestedProperty(a,"contours.coloring").get()||"heatmap",m=x[b];m?(m[2].push(p),m[0]!==P&&(m[0]=!1,R.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[P,a,[p]];return}}var L=T[y+"min"],M=T[y+"max"],s=g(L)&&g(M)&&L<M,E=f(l+y+"auto",!s);E?f(l+y+"mid"):(f(l+y+"min"),f(l+y+"max"));var w=T.colorscale,_=o.colorscale,D;if(w!==void 0&&(D=!S(w)),_!==void 0&&(D=!S(_)),f(l+"autocolorscale",D),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var N;l&&h&&(N=i(T));var z=f(l+"showscale",N);z&&(l&&o&&(c._template=o),C(T,c,n))}}},94288:function(G,H,e){var g=e(33428),R=e(49760),i=e(38248),C=e(3400),S=e(76308),v=e(88304).isValid;function d(h,T,c){var o=T?C.nestedProperty(h,T).get()||{}:h,p=o[c||"color"];p&&p._inputArray&&(p=p._inputArray);var x=!1;if(C.isArrayOrTypedArray(p)){for(var b=0;b<p.length;b++)if(i(p[b])){x=!0;break}}return C.isPlainObject(o)&&(x||o.showscale===!0||i(o.cmin)&&i(o.cmax)||v(o.colorscale)||C.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(h){var T=h._colorAx,c=T||h,o={},p,x,b;for(x=0;x<r.length;x++)b=r[x],o[b]=c[b];if(T)for(p="c",x=0;x<t.length;x++)b=t[x],o[b]=c["c"+b];else{var P;for(x=0;x<t.length;x++){if(b=t[x],P="c"+b,P in c){o[b]=c[P];continue}P="z"+b,P in c&&(o[b]=c[P])}p=P.charAt(0)}return o._sync=function(m,L){var M=t.indexOf(m)!==-1?p+m:m;c[M]=c["_"+M]=L},o}function n(h){for(var T=a(h),c=T.min,o=T.max,p=T.reversescale?f(T.colorscale):T.colorscale,x=p.length,b=new Array(x),P=new Array(x),m=0;m<x;m++){var L=p[m];b[m]=c+L[0]*(o-c),P[m]=L[1]}return{domain:b,range:P}}function f(h){for(var T=h.length,c=new Array(T),o=T-1,p=0;o>=0;o--,p++){var x=h[o];c[p]=[1-x[0],x[1]]}return c}function u(h,T){T=T||{};for(var c=h.domain,o=h.range,p=o.length,x=new Array(p),b=0;b<p;b++){var P=R(o[b]).toRgb();x[b]=[P.r,P.g,P.b,P.a]}var m=g.scale.linear().domain(c).range(x).clamp(!0),L=T.noNumericCheck,M=T.returnArray,s;return L&&M?s=m:L?s=function(E){return y(m(E))}:M?s=function(E){return i(E)?m(E):R(E).isValid()?E:S.defaultLine}:s=function(E){return i(E)?y(m(E)):R(E).isValid()?E:S.defaultLine},s.domain=m.domain,s.range=function(){return o},s}function l(h,T){return u(n(h),T)}function y(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return R(T).toRgbString()}G.exports={hasColorscale:d,extractOpts:a,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(G,H,e){var g=e(88304),R=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:R.hasColorscale,extractOpts:R.extractOpts,extractScale:R.extractScale,flipScale:R.flipScale,makeColorScaleFunc:R.makeColorScaleFunc,makeColorScaleFuncFromTrace:R.makeColorScaleFuncFromTrace}},92332:function(G,H,e){var g=e(92880).extendFlat,R=e(49084),i=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},R("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,H,e){var g=e(3400),R=e(31780),i=e(92332),C=e(27260);G.exports=function(v,d){function r(h,T){return g.coerce(v,d,i,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=d._colorAxes,a,n;function f(h,T){return g.coerce(a,n,i.coloraxis,h,T)}for(var u in t){var l=t[u];if(l[0])a=v[u]||{},n=R.newContainer(d,u,"coloraxis"),n._name=u,C(a,n,d,f,{prefix:"",cLetter:"c"});else{for(var y=0;y<l[2].length;y++)l[2][y]();delete d._colorAxes[u]}}}},88304:function(G,H,e){var g=e(49760),R={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=R.RdBu;function C(d,r){if(r||(r=i),!d)return r;function t(){try{d=R[d]||JSON.parse(d)}catch{d=r}}return typeof d=="string"&&(t(),typeof d=="string"&&t()),S(d)?d:r}function S(d){var r=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var t=0;t<d.length;t++){var a=d[t];if(a.length!==2||+a[0]<r||!g(a[1]).isValid())return!1;r=+a[0]}return!0}function v(d){return R[d]!==void 0?!0:S(d)}G.exports={scales:R,defaultScale:i,get:C,isValid:v}},78316:function(G){G.exports=function(e,g,R,i,C){var S=(e-R)/(i-R),v=S+g/(i-R),d=(S+v)/2;return C==="left"||C==="bottom"?S:C==="center"||C==="middle"?d:C==="right"||C==="top"?v:S<.6666666666666666-d?S:v>1.3333333333333333-d?v:d}},67416:function(G,H,e){var g=e(3400),R=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(C,S,v,d){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=g.constrain(Math.floor(C*3),0,2),d==="bottom"?S=0:d==="middle"?S=1:d==="top"?S=2:S=g.constrain(Math.floor(S*3),0,2),R[S][C]}},72760:function(G,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},86476:function(G,H,e){var g=e(29128),R=e(52264),i=e(89184),C=e(3400).removeElement,S=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var d=e(2616);v.unhover=d.wrapped,v.unhoverRaw=d.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,y=n.element,h,T,c,o,p,x,b,P;f._mouseDownTime||(f._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=M,i?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=M,y.addEventListener("touchstart",M,{passive:!1})):y.ontouchstart=M;function m(w,_,D){return Math.abs(w)<D&&(w=0),Math.abs(_)<D&&(_=0),[w,_]}var L=n.clampFn||m;function M(w){f._dragged=!1,f._dragging=!0;var _=t(w);h=_[0],T=_[1],b=w.target,x=w,P=w.buttons===2||w.ctrlKey,typeof w.clientX>"u"&&typeof w.clientY>"u"&&(w.clientX=h,w.clientY=T),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(w,h,T),R&&!P?(p=r(),p.style.cursor=window.getComputedStyle(y).cursor):R||(p=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(w){w.preventDefault();var _=t(w),D=n.minDrag||S.MINDRAG,N=L(_[0]-h,_[1]-T,D),z=N[0],F=N[1];(z||F)&&(f._dragged=!0,v.unhover(f,w)),f._dragged&&n.moveFn&&!P&&(f._dragdata={element:y,dx:z,dy:F},n.moveFn(z,F))}function E(w){if(delete f._dragdata,n.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),R?C(p):o&&(p.documentElement.style.cursor=o,o=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,x),!P){var _;try{_=new MouseEvent("click",w)}catch{var D=t(w);_=document.createEvent("MouseEvents"),_.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,D[0],D[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}b.dispatchEvent(_)}f._dragging=!1,f._dragged=!1}};function r(){var a=document.createElement("div");a.className="dragcover";var n=a.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(a),a}v.coverSlip=r;function t(a){return g(a.changedTouches?a.changedTouches[0]:a,document.body)}},2616:function(G,H,e){var g=e(95924),R=e(91200),i=e(52200).getGraphDiv,C=e(92456),S=G.exports={};S.wrapped=function(v,d,r){v=i(v),v._fullLayout&&R.clear(v._fullLayout._uid+C.HOVERID),S.raw(v,d,r)},S.raw=function(d,r){var t=d._fullLayout,a=d._hoverdata;r||(r={}),!(r.target&&!d._dragged&&g.triggerHandler(d,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,r.target&&a&&d.emit("plotly_unhover",{event:r,points:a}))}},98192:function(G,H){H.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,H,e){var g=e(33428),R=e(3400),i=R.numberFormat,C=e(38248),S=e(49760),v=e(24040),d=e(76308),r=e(8932),t=R.strTranslate,a=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,y=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=G.exports={};c.font=function(be,Ee,xe,Ce,Ue,Ne,De){R.isPlainObject(Ee)&&(De=Ee.variant,Ne=Ee.style,Ue=Ee.weight,Ce=Ee.color,xe=Ee.size,Ee=Ee.family),Ee&&be.style("font-family",Ee),xe+1&&be.style("font-size",xe+"px"),Ce&&be.call(d.fill,Ce),Ue&&be.style("font-weight",Ue),Ne&&be.style("font-style",Ne),De&&be.style("font-variant",De)},c.setPosition=function(be,Ee,xe){be.attr("x",Ee).attr("y",xe)},c.setSize=function(be,Ee,xe){be.attr("width",Ee).attr("height",xe)},c.setRect=function(be,Ee,xe,Ce,Ue){be.call(c.setPosition,Ee,xe).call(c.setSize,Ce,Ue)},c.translatePoint=function(be,Ee,xe,Ce){var Ue=xe.c2p(be.x),Ne=Ce.c2p(be.y);if(C(Ue)&&C(Ne)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ue).attr("y",Ne):Ee.attr("transform",t(Ue,Ne));else return!1;return!0},c.translatePoints=function(be,Ee,xe){be.each(function(Ce){var Ue=g.select(this);c.translatePoint(Ce,Ue,Ee,xe)})},c.hideOutsideRangePoint=function(be,Ee,xe,Ce,Ue,Ne){Ee.attr("display",xe.isPtWithinRange(be,Ue)&&Ce.isPtWithinRange(be,Ne)?null:"none")},c.hideOutsideRangePoints=function(be,Ee){if(Ee._hasClipOnAxisFalse){var xe=Ee.xaxis,Ce=Ee.yaxis;be.each(function(Ue){var Ne=Ue[0].trace,De=Ne.xcalendar,He=Ne.ycalendar,at=v.traceIs(Ne,"bar-like")?".bartext":".point,.textpoint";be.selectAll(at).each(function(vt){c.hideOutsideRangePoint(vt,g.select(this),xe,Ce,De,He)})})}},c.crispRound=function(be,Ee,xe){return!Ee||!C(Ee)?xe||0:be._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},c.singleLineStyle=function(be,Ee,xe,Ce,Ue){Ee.style("fill","none");var Ne=(((be||[])[0]||{}).trace||{}).line||{},De=xe||Ne.width||0,He=Ue||Ne.dash||"";d.stroke(Ee,Ce||Ne.color),c.dashLine(Ee,He,De)},c.lineGroupStyle=function(be,Ee,xe,Ce){be.style("fill","none").each(function(Ue){var Ne=(((Ue||[])[0]||{}).trace||{}).line||{},De=Ee||Ne.width||0,He=Ce||Ne.dash||"";g.select(this).call(d.stroke,xe||Ne.color).call(c.dashLine,He,De)})},c.dashLine=function(be,Ee,xe){xe=+xe||0,Ee=c.dashStyle(Ee,xe),be.style({"stroke-dasharray":Ee,"stroke-width":xe+"px"})},c.dashStyle=function(be,Ee){Ee=+Ee||1;var xe=Math.max(Ee,3);return be==="solid"?be="":be==="dot"?be=xe+"px,"+xe+"px":be==="dash"?be=3*xe+"px,"+3*xe+"px":be==="longdash"?be=5*xe+"px,"+5*xe+"px":be==="dashdot"?be=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":be==="longdashdot"&&(be=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),be};function o(be,Ee,xe,Ce){var Ue=Ee.fillpattern,Ne=Ee.fillgradient,De=Ue&&c.getPatternAttr(Ue.shape,0,"");if(De){var He=c.getPatternAttr(Ue.bgcolor,0,null),at=c.getPatternAttr(Ue.fgcolor,0,null),vt=Ue.fgopacity,ot=c.getPatternAttr(Ue.size,0,8),et=c.getPatternAttr(Ue.solidity,0,.3),ct=Ee.uid;c.pattern(be,"point",xe,ct,De,ot,et,void 0,Ue.fillmode,He,at,vt)}else if(Ne&&Ne.type!=="none"){var ht=Ne.type,gt="scatterfill-"+Ee.uid;if(Ce&&(gt="legendfill-"+Ee.uid),!Ce&&(Ne.start!==void 0||Ne.stop!==void 0)){var xt,Mt;ht==="horizontal"?(xt={x:Ne.start,y:0},Mt={x:Ne.stop,y:0}):ht==="vertical"&&(xt={x:0,y:Ne.start},Mt={x:0,y:Ne.stop}),xt.x=Ee._xA.c2p(xt.x===void 0?Ee._extremes.x.min[0].val:xt.x,!0),xt.y=Ee._yA.c2p(xt.y===void 0?Ee._extremes.y.min[0].val:xt.y,!0),Mt.x=Ee._xA.c2p(Mt.x===void 0?Ee._extremes.x.max[0].val:Mt.x,!0),Mt.y=Ee._yA.c2p(Mt.y===void 0?Ee._extremes.y.max[0].val:Mt.y,!0),be.call(M,xe,gt,"linear",Ne.colorscale,"fill",xt,Mt,!0,!1)}else ht==="horizontal"&&(ht=ht+"reversed"),be.call(c.gradient,xe,gt,ht,Ne.colorscale,"fill")}else Ee.fillcolor&&be.call(d.fill,Ee.fillcolor)}c.singleFillStyle=function(be,Ee){var xe=g.select(be.node()),Ce=xe.data(),Ue=((Ce[0]||[])[0]||{}).trace||{};o(be,Ue,Ee,!1)},c.fillGroupStyle=function(be,Ee,xe){be.style("stroke-width",0).each(function(Ce){var Ue=g.select(this);Ce[0].trace&&o(Ue,Ce[0].trace,Ee,xe)})};var p=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(p).forEach(function(be){var Ee=p[be],xe=Ee.n;c.symbolList.push(xe,String(xe),be,xe+100,String(xe+100),be+"-open"),c.symbolNames[xe]=be,c.symbolFuncs[xe]=Ee.f,c.symbolBackOffs[xe]=Ee.backoff||0,Ee.needLine&&(c.symbolNeedLines[xe]=!0),Ee.noDot?c.symbolNoDot[xe]=!0:c.symbolList.push(xe+200,String(xe+200),be+"-dot",xe+300,String(xe+300),be+"-open-dot"),Ee.noFill&&(c.symbolNoFill[xe]=!0)});var x=c.symbolNames.length,b="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(be){if(C(be))be=+be;else if(typeof be=="string"){var Ee=0;be.indexOf("-open")>0&&(Ee=100,be=be.replace("-open","")),be.indexOf("-dot")>0&&(Ee+=200,be=be.replace("-dot","")),be=c.symbolNames.indexOf(be),be>=0&&(be+=Ee)}return be%100>=x||be>=400?0:Math.floor(Math.max(be,0))};function P(be,Ee,xe,Ce){var Ue=be%100;return c.symbolFuncs[Ue](Ee,xe,Ce)+(be>=200?b:"")}var m=i("~f"),L={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(be,Ee,xe,Ce,Ue,Ne){var De=L[Ce];return M(be,Ee,xe,De.type,Ue,Ne,De.start,De.stop,!1,De.reversed)};function M(be,Ee,xe,Ce,Ue,Ne,De,He,at,vt){var ot=Ue.length,et;Ce==="linear"?et={node:"linearGradient",attrs:{x1:De.x,y1:De.y,x2:He.x,y2:He.y,gradientUnits:at?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:Ce==="radial"&&(et={node:"radialGradient",reversed:vt});for(var ct=new Array(ot),ht=0;ht<ot;ht++)et.reversed?ct[ot-1-ht]=[m((1-Ue[ht][0])*100),Ue[ht][1]]:ct[ht]=[m(Ue[ht][0]*100),Ue[ht][1]];var gt=Ee._fullLayout,xt="g"+gt._uid+"-"+xe,Mt=gt._defs.select(".gradients").selectAll("#"+xt).data([Ce+ct.join(";")],R.identity);Mt.exit().remove(),Mt.enter().append(et.node).each(function(){var tt=g.select(this);et.attrs&&tt.attr(et.attrs),tt.attr("id",xt);var Oe=tt.selectAll("stop").data(ct);Oe.exit().remove(),Oe.enter().append("stop"),Oe.each(function(Xe){var Ze=S(Xe[1]);g.select(this).attr({offset:Xe[0]+"%","stop-color":d.tinyRGB(Ze),"stop-opacity":Ze.getAlpha()})})}),be.style(Ne,J(xt,Ee)).style(Ne+"-opacity",null),be.classed("gradient_filled",!0)}c.pattern=function(be,Ee,xe,Ce,Ue,Ne,De,He,at,vt,ot,et){var ct=Ee==="legend";He&&(at==="overlay"?(vt=He,ot=d.contrast(vt)):(vt=void 0,ot=He));var ht=xe._fullLayout,gt="p"+ht._uid+"-"+Ce,xt,Mt,tt=function(Qe,it,st,Wt,jt){return Wt+(jt-Wt)*(Qe-it)/(st-it)},Oe,Xe,Ze,We,ze={},ke=S(ot),je=d.tinyRGB(ke),Ie=ke.getAlpha(),pe=et*Ie;switch(Ue){case"/":xt=Ne*Math.sqrt(2),Mt=Ne*Math.sqrt(2),Oe="M-"+xt/4+","+Mt/4+"l"+xt/2+",-"+Mt/2+"M0,"+Mt+"L"+xt+",0M"+xt/4*3+","+Mt/4*5+"l"+xt/2+",-"+Mt/2,Xe=De*Ne,We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case"\\":xt=Ne*Math.sqrt(2),Mt=Ne*Math.sqrt(2),Oe="M"+xt/4*3+",-"+Mt/4+"l"+xt/2+","+Mt/2+"M0,0L"+xt+","+Mt+"M-"+xt/4+","+Mt/4*3+"l"+xt/2+","+Mt/2,Xe=De*Ne,We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case"x":xt=Ne*Math.sqrt(2),Mt=Ne*Math.sqrt(2),Oe="M-"+xt/4+","+Mt/4+"l"+xt/2+",-"+Mt/2+"M0,"+Mt+"L"+xt+",0M"+xt/4*3+","+Mt/4*5+"l"+xt/2+",-"+Mt/2+"M"+xt/4*3+",-"+Mt/4+"l"+xt/2+","+Mt/2+"M0,0L"+xt+","+Mt+"M-"+xt/4+","+Mt/4*3+"l"+xt/2+","+Mt/2,Xe=Ne-Ne*Math.sqrt(1-De),We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case"|":xt=Ne,Mt=Ne,We="path",Oe="M"+xt/2+",0L"+xt/2+","+Mt,Xe=De*Ne,We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case"-":xt=Ne,Mt=Ne,We="path",Oe="M0,"+Mt/2+"L"+xt+","+Mt/2,Xe=De*Ne,We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case"+":xt=Ne,Mt=Ne,We="path",Oe="M"+xt/2+",0L"+xt/2+","+Mt+"M0,"+Mt/2+"L"+xt+","+Mt/2,Xe=Ne-Ne*Math.sqrt(1-De),We="path",ze={d:Oe,opacity:pe,stroke:je,"stroke-width":Xe+"px"};break;case".":xt=Ne,Mt=Ne,De<Math.PI/4?Ze=Math.sqrt(De*Ne*Ne/Math.PI):Ze=tt(De,Math.PI/4,1,Ne/2,Ne/Math.sqrt(2)),We="circle",ze={cx:xt/2,cy:Mt/2,r:Ze,opacity:pe,fill:je};break}var we=[Ue||"noSh",vt||"noBg",ot||"noFg",Ne,De].join(";"),Ve=ht._defs.select(".patterns").selectAll("#"+gt).data([we],R.identity);Ve.exit().remove(),Ve.enter().append("pattern").each(function(){var Qe=g.select(this);if(Qe.attr({id:gt,width:xt+"px",height:Mt+"px",patternUnits:"userSpaceOnUse",patternTransform:ct?"scale(0.8)":""}),vt){var it=S(vt),st=d.tinyRGB(it),Wt=it.getAlpha(),jt=Qe.selectAll("rect").data([0]);jt.exit().remove(),jt.enter().append("rect").attr({width:xt+"px",height:Mt+"px",fill:st,"fill-opacity":Wt})}var Tt=Qe.selectAll(We).data([0]);Tt.exit().remove(),Tt.enter().append(We).attr(ze)}),be.style("fill",J(gt,xe)).style("fill-opacity",null),be.classed("pattern_filled",!0)},c.initGradients=function(be){var Ee=be._fullLayout,xe=R.ensureSingle(Ee._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),g.select(be).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(be){var Ee=be._fullLayout,xe=R.ensureSingle(Ee._defs,"g","patterns");xe.selectAll("pattern").remove(),g.select(be).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(be,Ee,xe){return be&&R.isArrayOrTypedArray(be)?Ee<be.length?be[Ee]:xe:be},c.pointStyle=function(be,Ee,xe,Ce){if(be.size()){var Ue=c.makePointStyleFns(Ee);be.each(function(Ne){c.singlePointStyle(Ne,g.select(this),Ee,Ue,xe,Ce)})}},c.singlePointStyle=function(be,Ee,xe,Ce,Ue,Ne){var De=xe.marker,He=De.line;if(Ne&&Ne.i>=0&&be.i===void 0&&(be.i=Ne.i),Ee.style("opacity",Ce.selectedOpacityFn?Ce.selectedOpacityFn(be):be.mo===void 0?De.opacity:be.mo),Ce.ms2mrc){var at;be.ms==="various"||De.size==="various"?at=3:at=Ce.ms2mrc(be.ms),be.mrc=at,Ce.selectedSizeFn&&(at=be.mrc=Ce.selectedSizeFn(be));var vt=c.symbolNumber(be.mx||De.symbol)||0;be.om=vt%200>=100;var ot=Pe(be,xe),et=Y(be,xe);Ee.attr("d",P(vt,at,ot,et))}var ct=!1,ht,gt,xt;if(be.so)xt=He.outlierwidth,gt=He.outliercolor,ht=De.outliercolor;else{var Mt=(He||{}).width;xt=(be.mlw+1||Mt+1||(be.trace?(be.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in be?gt=be.mlcc=Ce.lineScale(be.mlc):R.isArrayOrTypedArray(He.color)?gt=d.defaultLine:gt=He.color,R.isArrayOrTypedArray(De.color)&&(ht=d.defaultLine,ct=!0),"mc"in be?ht=be.mcc=Ce.markerScale(be.mc):ht=De.color||De.colors||"rgba(0,0,0,0)",Ce.selectedColorFn&&(ht=Ce.selectedColorFn(be))}if(be.om)Ee.call(d.stroke,ht).style({"stroke-width":(xt||1)+"px",fill:"none"});else{Ee.style("stroke-width",(be.isBlank?0:xt)+"px");var tt=De.gradient,Oe=be.mgt;Oe?ct=!0:Oe=tt&&tt.type,R.isArrayOrTypedArray(Oe)&&(Oe=Oe[0],L[Oe]||(Oe=0));var Xe=De.pattern,Ze=Xe&&c.getPatternAttr(Xe.shape,be.i,"");if(Oe&&Oe!=="none"){var We=be.mgc;We?ct=!0:We=tt.color;var ze=xe.uid;ct&&(ze+="-"+be.i),c.gradient(Ee,Ue,ze,Oe,[[0,We],[1,ht]],"fill")}else if(Ze){var ke=!1,je=Xe.fgcolor;!je&&Ne&&Ne.color&&(je=Ne.color,ke=!0);var Ie=c.getPatternAttr(je,be.i,Ne&&Ne.color||null),pe=c.getPatternAttr(Xe.bgcolor,be.i,null),we=Xe.fgopacity,Ve=c.getPatternAttr(Xe.size,be.i,8),Qe=c.getPatternAttr(Xe.solidity,be.i,.3);ke=ke||be.mcc||R.isArrayOrTypedArray(Xe.shape)||R.isArrayOrTypedArray(Xe.bgcolor)||R.isArrayOrTypedArray(Xe.fgcolor)||R.isArrayOrTypedArray(Xe.size)||R.isArrayOrTypedArray(Xe.solidity);var it=xe.uid;ke&&(it+="-"+be.i),c.pattern(Ee,"point",Ue,it,Ze,Ve,Qe,be.mcc,Xe.fillmode,pe,Ie,we)}else R.isArrayOrTypedArray(ht)?d.fill(Ee,ht[be.i]):d.fill(Ee,ht);xt&&d.stroke(Ee,gt)}},c.makePointStyleFns=function(be){var Ee={},xe=be.marker;return Ee.markerScale=c.tryColorscale(xe,""),Ee.lineScale=c.tryColorscale(xe,"line"),v.traceIs(be,"symbols")&&(Ee.ms2mrc=y.isBubble(be)?h(be):function(){return(xe.size||6)/2}),be.selectedpoints&&R.extendFlat(Ee,c.makeSelectedPointStyleFns(be)),Ee},c.makeSelectedPointStyleFns=function(be){var Ee={},xe=be.selected||{},Ce=be.unselected||{},Ue=be.marker||{},Ne=xe.marker||{},De=Ce.marker||{},He=Ue.opacity,at=Ne.opacity,vt=De.opacity,ot=at!==void 0,et=vt!==void 0;(R.isArrayOrTypedArray(He)||ot||et)&&(Ee.selectedOpacityFn=function(Ze){var We=Ze.mo===void 0?Ue.opacity:Ze.mo;return Ze.selected?ot?at:We:et?vt:l*We});var ct=Ue.color,ht=Ne.color,gt=De.color;(ht||gt)&&(Ee.selectedColorFn=function(Ze){var We=Ze.mcc||ct;return Ze.selected?ht||We:gt||We});var xt=Ue.size,Mt=Ne.size,tt=De.size,Oe=Mt!==void 0,Xe=tt!==void 0;return v.traceIs(be,"symbols")&&(Oe||Xe)&&(Ee.selectedSizeFn=function(Ze){var We=Ze.mrc||xt/2;return Ze.selected?Oe?Mt/2:We:Xe?tt/2:We}),Ee},c.makeSelectedTextStyleFns=function(be){var Ee={},xe=be.selected||{},Ce=be.unselected||{},Ue=be.textfont||{},Ne=xe.textfont||{},De=Ce.textfont||{},He=Ue.color,at=Ne.color,vt=De.color;return Ee.selectedTextColorFn=function(ot){var et=ot.tc||He;return ot.selected?at||et:vt||(at?et:d.addOpacity(et,l))},Ee},c.selectedPointStyle=function(be,Ee){if(!(!be.size()||!Ee.selectedpoints)){var xe=c.makeSelectedPointStyleFns(Ee),Ce=Ee.marker||{},Ue=[];xe.selectedOpacityFn&&Ue.push(function(Ne,De){Ne.style("opacity",xe.selectedOpacityFn(De))}),xe.selectedColorFn&&Ue.push(function(Ne,De){d.fill(Ne,xe.selectedColorFn(De))}),xe.selectedSizeFn&&Ue.push(function(Ne,De){var He=De.mx||Ce.symbol||0,at=xe.selectedSizeFn(De);Ne.attr("d",P(c.symbolNumber(He),at,Pe(De,Ee),Y(De,Ee))),De.mrc2=at}),Ue.length&&be.each(function(Ne){for(var De=g.select(this),He=0;He<Ue.length;He++)Ue[He](De,Ne)})}},c.tryColorscale=function(be,Ee){var xe=Ee?R.nestedProperty(be,Ee).get():be;if(xe){var Ce=xe.color;if((xe.colorscale||xe._colorAx)&&R.isArrayOrTypedArray(Ce))return r.makeColorScaleFuncFromTrace(xe)}return R.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1};function E(be,Ee,xe,Ce,Ue){var Ne=g.select(be.node().parentNode),De=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",He=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",at=Ce?Ce/.8+1:0,vt=(a.lineCount(be)-1)*u+1,ot=s[He]*at,et=xe*.75+s[De]*at+(s[De]-1)*vt*xe/2;be.attr("text-anchor",He),Ue||Ne.attr("transform",t(ot,et))}function w(be,Ee){var xe=be.ts||Ee.textfont.size;return C(xe)&&xe>0?xe:0}c.textPointStyle=function(be,Ee,xe){if(be.size()){var Ce;if(Ee.selectedpoints){var Ue=c.makeSelectedTextStyleFns(Ee);Ce=Ue.selectedTextColorFn}var Ne=Ee.texttemplate,De=xe._fullLayout;be.each(function(He){var at=g.select(this),vt=Ne?R.extractOption(He,Ee,"txt","texttemplate"):R.extractOption(He,Ee,"tx","text");if(!vt&&vt!==0){at.remove();return}if(Ne){var ot=Ee._module.formatLabels,et=ot?ot(He,Ee,De):{},ct={};T(ct,Ee,He.i);var ht=Ee._meta||{};vt=R.texttemplateString(vt,et,De._d3locale,ct,He,ht)}var gt=He.tp||Ee.textposition,xt=w(He,Ee),Mt=Ce?Ce(He):He.tc||Ee.textfont.color;at.call(c.font,{family:He.tf||Ee.textfont.family,weight:He.tw||Ee.textfont.weight,style:He.ty||Ee.textfont.style,variant:He.tv||Ee.textfont.variant,size:xt,color:Mt}).text(vt).call(a.convertToTspans,xe).call(E,gt,xt,He.mrc)})}},c.selectedTextStyle=function(be,Ee){if(!(!be.size()||!Ee.selectedpoints)){var xe=c.makeSelectedTextStyleFns(Ee);be.each(function(Ce){var Ue=g.select(this),Ne=xe.selectedTextColorFn(Ce),De=Ce.tp||Ee.textposition,He=w(Ce,Ee);d.fill(Ue,Ne);var at=v.traceIs(Ee,"bar-like");E(Ue,De,He,Ce.mrc2||Ce.mrc,at)})}};var _=.5;c.smoothopen=function(be,Ee){if(be.length<3)return"M"+be.join("L");var xe="M"+be[0],Ce=[],Ue;for(Ue=1;Ue<be.length-1;Ue++)Ce.push(B(be[Ue-1],be[Ue],be[Ue+1],Ee));for(xe+="Q"+Ce[0][0]+" "+be[1],Ue=2;Ue<be.length-1;Ue++)xe+="C"+Ce[Ue-2][1]+" "+Ce[Ue-1][0]+" "+be[Ue];return xe+="Q"+Ce[be.length-3][1]+" "+be[be.length-1],xe},c.smoothclosed=function(be,Ee){if(be.length<3)return"M"+be.join("L")+"Z";var xe="M"+be[0],Ce=be.length-1,Ue=[B(be[Ce],be[0],be[1],Ee)],Ne;for(Ne=1;Ne<Ce;Ne++)Ue.push(B(be[Ne-1],be[Ne],be[Ne+1],Ee));for(Ue.push(B(be[Ce-1],be[Ce],be[0],Ee)),Ne=1;Ne<=Ce;Ne++)xe+="C"+Ue[Ne-1][1]+" "+Ue[Ne][0]+" "+be[Ne];return xe+="C"+Ue[Ce][1]+" "+Ue[0][0]+" "+be[0]+"Z",xe};var D,N;function z(be,Ee,xe){return xe&&(be=Q(be)),Ee?U(be[1]):F(be[0])}function F(be){var Ee=g.round(be,2);return D=Ee,Ee}function U(be){var Ee=g.round(be,2);return N=Ee,Ee}function B(be,Ee,xe,Ce){var Ue=be[0]-Ee[0],Ne=be[1]-Ee[1],De=xe[0]-Ee[0],He=xe[1]-Ee[1],at=Math.pow(Ue*Ue+Ne*Ne,_/2),vt=Math.pow(De*De+He*He,_/2),ot=(vt*vt*Ue-at*at*De)*Ce,et=(vt*vt*Ne-at*at*He)*Ce,ct=3*vt*(at+vt),ht=3*at*(at+vt);return[[F(Ee[0]+(ct&&ot/ct)),U(Ee[1]+(ct&&et/ct))],[F(Ee[0]-(ht&&ot/ht)),U(Ee[1]-(ht&&et/ht))]]}var V={hv:function(be,Ee,xe){return"H"+F(Ee[0])+"V"+z(Ee,1,xe)},vh:function(be,Ee,xe){return"V"+U(Ee[1])+"H"+z(Ee,0,xe)},hvh:function(be,Ee,xe){return"H"+F((be[0]+Ee[0])/2)+"V"+U(Ee[1])+"H"+z(Ee,0,xe)},vhv:function(be,Ee,xe){return"V"+U((be[1]+Ee[1])/2)+"H"+F(Ee[0])+"V"+z(Ee,1,xe)}},j=function(be,Ee,xe){return"L"+z(Ee,0,xe)+","+z(Ee,1,xe)};c.steps=function(be){var Ee=V[be]||j;return function(xe){for(var Ce="M"+F(xe[0][0])+","+U(xe[0][1]),Ue=xe.length,Ne=1;Ne<Ue;Ne++)Ce+=Ee(xe[Ne-1],xe[Ne],Ne===Ue-1);return Ce}};function Q(be,Ee){var xe=be.backoff,Ce=be.trace,Ue=be.d,Ne=be.i;if(xe&&Ce&&Ce.marker&&Ce.marker.angle%360===0&&Ce.line&&Ce.line.shape!=="spline"){var De=R.isArrayOrTypedArray(xe),He=be,at=Ee?Ee[0]:D||0,vt=Ee?Ee[1]:N||0,ot=He[0],et=He[1],ct=ot-at,ht=et-vt,gt=Math.atan2(ht,ct),xt=De?xe[Ne]:xe;if(xt==="auto"){var Mt=He.i;Ce.type==="scatter"&&Mt--;var tt=He.marker,Oe=tt.symbol;R.isArrayOrTypedArray(Oe)&&(Oe=Oe[Mt]);var Xe=tt.size;R.isArrayOrTypedArray(Xe)&&(Xe=Xe[Mt]),xt=tt?c.symbolBackOffs[c.symbolNumber(Oe)]*Xe:0,xt+=c.getMarkerStandoff(Ue[Mt],Ce)||0}var Ze=ot-xt*Math.cos(gt),We=et-xt*Math.sin(gt);(Ze<=ot&&Ze>=at||Ze>=ot&&Ze<=at)&&(We<=et&&We>=vt||We>=et&&We<=vt)&&(be=[Ze,We])}return be}c.applyBackoff=Q,c.makeTester=function(){var be=R.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=R.ensureSingle(be,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=be,c.testref=Ee},c.savedBBoxes={};var ee=0,re=1e4;c.bBox=function(be,Ee,xe){xe||(xe=ue(be));var Ce;if(xe){if(Ce=c.savedBBoxes[xe],Ce)return R.extendFlat({},Ce)}else if(be.childNodes.length===1){var Ue=be.childNodes[0];if(xe=ue(Ue),xe){var Ne=+Ue.getAttribute("x")||0,De=+Ue.getAttribute("y")||0,He=Ue.getAttribute("transform");if(!He){var at=c.bBox(Ue,!1,xe);return Ne&&(at.left+=Ne,at.right+=Ne),De&&(at.top+=De,at.bottom+=De),at}if(xe+="~"+Ne+"~"+De+"~"+He,Ce=c.savedBBoxes[xe],Ce)return R.extendFlat({},Ce)}}var vt,ot;Ee?vt=be:(ot=c.tester.node(),vt=be.cloneNode(!0),ot.appendChild(vt)),g.select(vt).attr("transform",null).call(a.positionText,0,0);var et=vt.getBoundingClientRect(),ct=c.testref.node().getBoundingClientRect();Ee||ot.removeChild(vt);var ht={height:et.height,width:et.width,left:et.left-ct.left,top:et.top-ct.top,right:et.right-ct.left,bottom:et.bottom-ct.top};return ee>=re&&(c.savedBBoxes={},ee=0),xe&&(c.savedBBoxes[xe]=ht),ee++,R.extendFlat({},ht)};function ue(be){var Ee=be.getAttribute("data-unformatted");if(Ee!==null)return Ee+be.getAttribute("data-math")+be.getAttribute("text-anchor")+be.getAttribute("style")}c.setClipUrl=function(be,Ee,xe){be.attr("clip-path",J(Ee,xe))};function J(be,Ee){if(!be)return null;var xe=Ee._context,Ce=xe._exportedPlot?"":xe._baseUrl||"";return Ce?"url('"+Ce+"#"+be+"')":"url(#"+be+")"}c.getTranslate=function(be){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=be.attr?"attr":"getAttribute",Ce=be[xe]("transform")||"",Ue=Ce.replace(Ee,function(Ne,De,He){return[De,He].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},c.setTranslate=function(be,Ee,xe){var Ce=/(\btranslate\(.*?\);?)/,Ue=be.attr?"attr":"getAttribute",Ne=be.attr?"attr":"setAttribute",De=be[Ue]("transform")||"";return Ee=Ee||0,xe=xe||0,De=De.replace(Ce,"").trim(),De+=t(Ee,xe),De=De.trim(),be[Ne]("transform",De),De},c.getScale=function(be){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=be.attr?"attr":"getAttribute",Ce=be[xe]("transform")||"",Ue=Ce.replace(Ee,function(Ne,De,He){return[De,He].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},c.setScale=function(be,Ee,xe){var Ce=/(\bscale\(.*?\);?)/,Ue=be.attr?"attr":"getAttribute",Ne=be.attr?"attr":"setAttribute",De=be[Ue]("transform")||"";return Ee=Ee||1,xe=xe||1,De=De.replace(Ce,"").trim(),De+="scale("+Ee+","+xe+")",De=De.trim(),be[Ne]("transform",De),De};var X=/\s*sc.*/;c.setPointGroupScale=function(be,Ee,xe){if(Ee=Ee||1,xe=xe||1,!!be){var Ce=Ee===1&&xe===1?"":"scale("+Ee+","+xe+")";be.each(function(){var Ue=(this.getAttribute("transform")||"").replace(X,"");Ue+=Ce,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var ne=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(be,Ee,xe){be&&be.each(function(){var Ce,Ue=g.select(this),Ne=Ue.select("text");if(Ne.node()){var De=parseFloat(Ne.attr("x")||0),He=parseFloat(Ne.attr("y")||0),at=(Ue.attr("transform")||"").match(ne);Ee===1&&xe===1?Ce=[]:Ce=[t(De,He),"scale("+Ee+","+xe+")",t(-De,-He)],at&&Ce.push(at),Ue.attr("transform",Ce.join(""))}})};function Y(be,Ee){var xe;return be&&(xe=be.mf),xe===void 0&&(xe=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-xe:xe}c.getMarkerStandoff=Y;var oe=Math.atan2,le=Math.cos,Z=Math.sin;function $(be,Ee){var xe=Ee[0],Ce=Ee[1];return[xe*le(be)-Ce*Z(be),xe*Z(be)+Ce*le(be)]}var se,ae,he,me,Me,Te;function Pe(be,Ee){var xe=be.ma;xe===void 0&&(xe=Ee.marker.angle,(!xe||R.isArrayOrTypedArray(xe))&&(xe=0));var Ce,Ue,Ne=Ee.marker.angleref;if(Ne==="previous"||Ne==="north"){if(Ee._geo){var De=Ee._geo.project(be.lonlat);Ce=De[0],Ue=De[1]}else{var He=Ee._xA,at=Ee._yA;if(He&&at)Ce=He.c2p(be.x),Ue=at.c2p(be.y);else return 90}if(Ee._geo){var vt=be.lonlat[0],ot=be.lonlat[1],et=Ee._geo.project([vt,ot+1e-5]),ct=Ee._geo.project([vt+1e-5,ot]),ht=oe(ct[1]-Ue,ct[0]-Ce),gt=oe(et[1]-Ue,et[0]-Ce),xt;if(Ne==="north")xt=xe/180*Math.PI;else if(Ne==="previous"){var Mt=vt/180*Math.PI,tt=ot/180*Math.PI,Oe=se/180*Math.PI,Xe=ae/180*Math.PI,Ze=Oe-Mt,We=le(Xe)*Z(Ze),ze=Z(Xe)*le(tt)-le(Xe)*Z(tt)*le(Ze);xt=-oe(We,ze)-Math.PI,se=vt,ae=ot}var ke=$(ht,[le(xt),0]),je=$(gt,[Z(xt),0]);xe=oe(ke[1]+je[1],ke[0]+je[0])/Math.PI*180,Ne==="previous"&&!(Te===Ee.uid&&be.i===Me+1)&&(xe=null)}if(Ne==="previous"&&!Ee._geo)if(Te===Ee.uid&&be.i===Me+1&&C(Ce)&&C(Ue)){var Ie=Ce-he,pe=Ue-me,we=Ee.line&&Ee.line.shape||"",Ve=we.slice(we.length-1);Ve==="h"&&(pe=0),Ve==="v"&&(Ie=0),xe+=oe(pe,Ie)/Math.PI*180+90}else xe=null}return he=Ce,me=Ue,Me=be.i,Te=Ee.uid,xe}c.getMarkerAngle=Pe},71984:function(G,H,e){var g=e(21984),R=e(33428).round,i="M0,0Z",C=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,d=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?l(h,T,o):o}},square:{n:1,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(y,h,T){if(t(h))return i;var c=R(y*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(y,h,T){if(t(h))return i;var c=R(y*.4,2),o=R(y*1.2,2);return l(h,T,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(y,h,T){if(t(h))return i;var c=R(y*.8/C,2),o="l"+c+","+c,p="l"+c+",-"+c,x="l-"+c+",-"+c,b="l-"+c+","+c;return l(h,T,"M0,"+c+o+p+x+p+x+b+x+b+o+b+o+"Z")}},"triangle-up":{n:5,f:function(y,h,T){if(t(h))return i;var c=R(y*2/S,2),o=R(y/2,2),p=R(y,2);return l(h,T,"M-"+c+","+o+"H"+c+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(y,h,T){if(t(h))return i;var c=R(y*2/S,2),o=R(y/2,2),p=R(y,2);return l(h,T,"M-"+c+",-"+o+"H"+c+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(y,h,T){if(t(h))return i;var c=R(y*2/S,2),o=R(y/2,2),p=R(y,2);return l(h,T,"M"+o+",-"+c+"V"+c+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(y,h,T){if(t(h))return i;var c=R(y*2/S,2),o=R(y/2,2),p=R(y,2);return l(h,T,"M-"+o+",-"+c+"V"+c+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(y,h,T){if(t(h))return i;var c=R(y*.6,2),o=R(y*1.2,2);return l(h,T,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(y,h,T){if(t(h))return i;var c=R(y*.6,2),o=R(y*1.2,2);return l(h,T,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(y,h,T){if(t(h))return i;var c=R(y*.6,2),o=R(y*1.2,2);return l(h,T,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(y,h,T){if(t(h))return i;var c=R(y*.6,2),o=R(y*1.2,2);return l(h,T,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(y,h,T){if(t(h))return i;var c=R(y*.951,2),o=R(y*.588,2),p=R(-y,2),x=R(y*-.309,2),b=R(y*.809,2);return l(h,T,"M"+c+","+x+"L"+o+","+b+"H-"+o+"L-"+c+","+x+"L0,"+p+"Z")}},hexagon:{n:14,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y/2,2),p=R(y*S/2,2);return l(h,T,"M"+p+",-"+o+"V"+o+"L0,"+c+"L-"+p+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y/2,2),p=R(y*S/2,2);return l(h,T,"M-"+o+","+p+"H"+o+"L"+c+",0L"+o+",-"+p+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(y,h,T){if(t(h))return i;var c=R(y*.924,2),o=R(y*.383,2);return l(h,T,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(y,h,T){if(t(h))return i;var c=y*1.4,o=R(c*.225,2),p=R(c*.951,2),x=R(c*.363,2),b=R(c*.588,2),P=R(-c,2),m=R(c*-.309,2),L=R(c*.118,2),M=R(c*.809,2),s=R(c*.382,2);return l(h,T,"M"+o+","+m+"H"+p+"L"+x+","+L+"L"+b+","+M+"L0,"+s+"L-"+b+","+M+"L-"+x+","+L+"L-"+p+","+m+"H-"+o+"L0,"+P+"Z")}},hexagram:{n:18,f:function(y,h,T){if(t(h))return i;var c=R(y*.66,2),o=R(y*.38,2),p=R(y*.76,2);return l(h,T,"M-"+p+",0l-"+o+",-"+c+"h"+p+"l"+o+",-"+c+"l"+o+","+c+"h"+p+"l-"+o+","+c+"l"+o+","+c+"h-"+p+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(y,h,T){if(t(h))return i;var c=R(y*S*.8,2),o=R(y*.8,2),p=R(y*1.6,2),x=R(y*4,2),b="A "+x+","+x+" 0 0 1 ";return l(h,T,"M-"+c+","+o+b+c+","+o+b+"0,-"+p+b+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(y,h,T){if(t(h))return i;var c=R(y*S*.8,2),o=R(y*.8,2),p=R(y*1.6,2),x=R(y*4,2),b="A "+x+","+x+" 0 0 1 ";return l(h,T,"M"+c+",-"+o+b+"-"+c+",-"+o+b+"0,"+p+b+c+",-"+o+"Z")}},"star-square":{n:21,f:function(y,h,T){if(t(h))return i;var c=R(y*1.1,2),o=R(y*2,2),p="A "+o+","+o+" 0 0 1 ";return l(h,T,"M-"+c+",-"+c+p+"-"+c+","+c+p+c+","+c+p+c+",-"+c+p+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(y,h,T){if(t(h))return i;var c=R(y*1.4,2),o=R(y*1.9,2),p="A "+o+","+o+" 0 0 1 ";return l(h,T,"M-"+c+",0"+p+"0,"+c+p+c+",0"+p+"0,-"+c+p+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(y,h,T){if(t(h))return i;var c=R(y*.7,2),o=R(y*1.4,2);return l(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(y,h,T){if(t(h))return i;var c=R(y*1.4,2),o=R(y*.7,2);return l(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y/C,2);return l(h,T,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,h,T){if(t(h))return i;var c=R(y*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,h,T){if(t(h))return i;var c=R(y*1.3,2),o=R(y*.65,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,h,T){if(t(h))return i;var c=R(y*1.4,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,h,T){if(t(h))return i;var c=R(y*1.2,2),o=R(y*.85,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,h,T){if(t(h))return i;var c=R(y/2,2),o=R(y,2);return l(h,T,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,h,T){if(t(h))return i;var c=R(y*1.2,2),o=R(y*1.6,2),p=R(y*.8,2);return l(h,T,"M-"+c+","+p+"L0,0M"+c+","+p+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,h,T){if(t(h))return i;var c=R(y*1.2,2),o=R(y*1.6,2),p=R(y*.8,2);return l(h,T,"M-"+c+",-"+p+"L0,0M"+c+",-"+p+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,h,T){if(t(h))return i;var c=R(y*1.2,2),o=R(y*1.6,2),p=R(y*.8,2);return l(h,T,"M"+p+","+c+"L0,0M"+p+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,h,T){if(t(h))return i;var c=R(y*1.2,2),o=R(y*1.6,2),p=R(y*.8,2);return l(h,T,"M-"+p+","+c+"L0,0M-"+p+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,h,T){if(t(h))return i;var c=R(y*1.4,2);return l(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,h,T){if(t(h))return i;var c=R(y*1.4,2);return l(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,h,T){if(t(h))return i;var c=R(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y*2,2);return l(h,T,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y*2,2);return l(h,T,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,h,T){if(t(h))return i;var c=R(y*2,2),o=R(y,2);return l(h,T,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,h,T){if(t(h))return i;var c=R(y*2,2),o=R(y,2);return l(h,T,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,h,T){if(t(h))return i;var c=R(y,2),o=R(y*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,h,T){if(t(h))return i;var c=R(y*2,2),o=R(y,2);return l(h,T,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,h,T){if(t(h))return i;var c=R(y*2,2),o=R(y,2);return l(h,T,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,h,T){if(t(h))return i;var c=v/2.5,o=2*y*d(c),p=2*y*r(c);return l(h,T,"M0,0L"+-o+","+p+"L"+o+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,h,T){if(t(h))return i;var c=v/4,o=2*y*d(c),p=2*y*r(c);return l(h,T,"M0,0L"+-o+","+p+"A "+2*y+","+2*y+" 0 0 1 "+o+","+p+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var a,n,f,u;function l(y,h,T){if((!y||y%360===0)&&!h)return T;if(f===y&&u===h&&a===T)return n;f=y,u=h,a=T;function c(D,N){var z=d(D),F=r(D),U=N[0],B=N[1]+(h||0);return[U*z-B*F,U*F+B*z]}for(var o=y/180*v,p=0,x=0,b=g(T),P="",m=0;m<b.length;m++){var L=b[m],M=L[0],s=p,E=x;if(M==="M"||M==="L")p=+L[1],x=+L[2];else if(M==="m"||M==="l")p+=+L[1],x+=+L[2];else if(M==="H")p=+L[1];else if(M==="h")p+=+L[1];else if(M==="V")x=+L[1];else if(M==="v")x+=+L[1];else if(M==="A"){p=+L[1],x=+L[2];var w=c(o,[+L[6],+L[7]]);L[6]=w[0],L[7]=w[1],L[3]=+L[3]+y}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(p-=s,x-=E);var _=c(o,[p,x]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(L[1]=_[0],L[2]=_[1]),L[0]=M,P+=L[0]+L.slice(1).join(",")}return n=P,P}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,H,e){var g=e(38248),R=e(24040),i=e(54460),C=e(3400),S=e(93792);G.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],f=n[0].trace;if(f.visible===!0&&R.traceIs(f,"errorBarsOK")){var u=i.getFromId(r,f.xaxis),l=i.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(d,r,t,a){var n=r["error_"+a]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=S(n),y=0;y<d.length;y++){var h=d[y],T=h.i;if(T===void 0)T=y;else if(T===null)continue;var c=h[a];if(g(t.c2l(c))){var o=l(c,T);if(g(o[0])&&g(o[1])){var p=h[a+"s"]=c-o[0],x=h[a+"h"]=c+o[1];u.push(p,x)}}}var b=t._id,P=r._extremes[b],m=i.findExtremes(t,u,C.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(m.min),P.max=P.max.concat(m.max)}}},93792:function(G){G.exports=function(g){var R=g.type,i=g.symmetric;if(R==="data"){var C=g.array||[];if(i)return function(t,a){var n=+C[a];return[n,n]};var S=g.arrayminus||[];return function(t,a){var n=+C[a],f=+S[a];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=H(R,g.value),d=H(R,g.valueminus);return i||g.valueminus===void 0?function(t){var a=v(t);return[a,a]}:function(t){return[d(t),v(t)]}}};function H(e,g){if(e==="percent")return function(R){return Math.abs(R*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(R){return Math.sqrt(Math.abs(R))}}},65200:function(G,H,e){var g=e(38248),R=e(24040),i=e(3400),C=e(31780),S=e(97644);G.exports=function(v,d,r,t){var a="error_"+t.axis,n=C.newContainer(d,a),f=v[a]||{};function u(p,x){return i.coerce(f,n,S,p,x)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",y=u("visible",l);if(y!==!1){var h=u("type","array"in f?"data":"percent"),T=!0;h!=="sqrt"&&(T=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),T||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=d["error_"+t.inherit];(o||{}).visible&&u(c,!(f.color||g(f.thickness)||g(f.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",R.traceIs(d,"gl3d")?0:4))}}},64968:function(G,H,e){var g=e(3400),R=e(67824).overrideAll,i=e(97644),C={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var S={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i),error_z:g.extendFlat({},i)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:R(S,"calc","nested"),scattergl:R(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(d,r,t){(r.error_y||{}).visible&&(t.yerr=d.yh-d.y,r.error_y.symmetric||(t.yerrneg=d.y-d.ys)),(r.error_x||{}).visible&&(t.xerr=d.xh-d.x,r.error_x.symmetric||(t.xerrneg=d.x-d.xs))}},78512:function(G,H,e){var g=e(33428),R=e(38248),i=e(43616),C=e(43028);G.exports=function(d,r,t,a){var n,f=t.xaxis,u=t.yaxis,l=a&&a.duration>0,y=d._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},o=T.error_y||{},p;T.ids&&(p=function(m){return m.id});var x=C.hasMarkers(T)&&T.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var b=g.select(this).selectAll("g.errorbar").data(h,p);if(b.exit().remove(),!!h.length){c.visible||b.selectAll("path.xerror").remove(),o.visible||b.selectAll("path.yerror").remove(),b.style("opacity",1);var P=b.enter().append("g").classed("errorbar",!0);l&&P.style("opacity",0).transition().duration(a.duration).style("opacity",1),i.setClipUrl(b,t.layerClipId,d),b.each(function(m){var L=g.select(this),M=S(m,f,u);if(!(x&&!m.vis)){var s,E=L.select("path.yerror");if(o.visible&&R(M.x)&&R(M.yh)&&R(M.ys)){var w=o.width;s="M"+(M.x-w)+","+M.yh+"h"+2*w+"m-"+w+",0V"+M.ys,M.noYS||(s+="m-"+w+",0h"+2*w),n=!E.size(),n?E=L.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):l&&(E=E.transition().duration(a.duration).ease(a.easing)),E.attr("d",s)}else E.remove();var _=L.select("path.xerror");if(c.visible&&R(M.y)&&R(M.xh)&&R(M.xs)){var D=(c.copy_ystyle?o:c).width;s="M"+M.xh+","+(M.y-D)+"v"+2*D+"m0,-"+D+"H"+M.xs,M.noXS||(s+="m0,-"+D+"v"+2*D),n=!_.size(),n?_=L.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):l&&(_=_.transition().duration(a.duration).ease(a.easing)),_.attr("d",s)}else _.remove()}})}})};function S(v,d,r){var t={x:d.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),R(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=d.c2p(v.xh),t.xs=d.c2p(v.xs),R(t.xs)||(t.noXS=!0,t.xs=d.c2p(v.xs,!0))),t}},92036:function(G,H,e){var g=e(33428),R=e(76308);G.exports=function(C){C.each(function(S){var v=S[0].trace,d=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(R.stroke,d.color),r.copy_ystyle&&(r=d),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(R.stroke,r.color)})}},55756:function(G,H,e){var g=e(25376),R=e(65460).hoverlabel,i=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:i({},R.bgcolor,{arrayOk:!0}),bordercolor:i({},R.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:i({},R.align,{arrayOk:!0}),namelength:i({},R.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,H,e){var g=e(3400),R=e(24040);G.exports=function(S){var v=S.calcdata,d=S._fullLayout;function r(u){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:u._module},d)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!R.traceIs(n,"pie-like")){var f=R.traceIs(n,"2dMap")?i:g.fillArray;f(n.hoverinfo,a,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,a,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,a,"hbg"),f(n.hoverlabel.bordercolor,a,"hbc"),f(n.hoverlabel.font.size,a,"hts"),f(n.hoverlabel.font.color,a,"htc"),f(n.hoverlabel.font.family,a,"htf"),f(n.hoverlabel.font.weight,a,"htw"),f(n.hoverlabel.font.style,a,"hty"),f(n.hoverlabel.font.variant,a,"htv"),f(n.hoverlabel.namelength,a,"hnl"),f(n.hoverlabel.align,a,"hta"))}}};function i(C,S,v,d){d=d||g.identity,Array.isArray(C)&&(S[0][v]=d(C))}},62376:function(G,H,e){var g=e(24040),R=e(83292).hover;G.exports=function(C,S,v){var d=g.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&R(C,S,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:S})}C._hoverdata&&S&&S.target&&(d&&d.then?d.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,H,e){var g=e(3400),R=e(55756),i=e(16132);G.exports=function(S,v,d,r){function t(n,f){return g.coerce(S,v,R,n,f)}var a=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(a.namelength=-1),i(S,v,t,a)}},10624:function(G,H,e){var g=e(3400);H.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},H.isTraceInSubplots=function(d,r){if(d.type==="splom"){for(var t=d.xaxes||[],a=d.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<a.length;f++)if(r.indexOf(t[n]+a[f])!==-1)return!0;return!1}return r.indexOf(H.getSubplot(d))!==-1},H.flat=function(d,r){for(var t=new Array(d.length),a=0;a<d.length;a++)t[a]=r;return t},H.p2c=function(d,r){for(var t=new Array(d.length),a=0;a<d.length;a++)t[a]=d[a].p2c(r);return t},H.getDistanceFunction=function(d,r,t,a){return d==="closest"?a||H.quadrature(r,t):d.charAt(0)==="x"?r:t},H.getClosest=function(d,r,t){if(t.index!==!1)t.index>=0&&t.index<d.length?t.distance=0:t.index=!1;else for(var a=0;a<d.length;a++){var n=r(d[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t},H.inbox=function(d,r,t){return d*r<0||d===0?t:1/0},H.quadrature=function(d,r){return function(t){var a=d(t),n=r(t);return Math.sqrt(a*a+n*n)}},H.makeEventData=function(d,r,t){var a="index"in d?d.index:d.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var f=r._indexToPoints[a];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,d,r,t,a):("xVal"in d?n.x=d.xVal:"x"in d&&(n.x=d.x),"yVal"in d?n.y=d.yVal:"y"in d&&(n.y=d.y),d.xa&&(n.xaxis=d.xa),d.ya&&(n.yaxis=d.ya),d.zLabelVal!==void 0&&(n.z=d.zLabelVal)),H.appendArrayPointValue(n,r,a),n},H.appendArrayPointValue=function(d,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=i(f);if(d[u]===void 0){var l=g.nestedProperty(r,f).get(),y=C(l,t);y!==void 0&&(d[u]=y)}}},H.appendArrayMultiPointValues=function(d,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=i(f);if(d[u]===void 0){for(var l=g.nestedProperty(r,f).get(),y=new Array(t.length),h=0;h<t.length;h++)y[h]=C(l,t[h]);d[u]=y}}};var R={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(d){return R[d]||d}function C(d,r){if(Array.isArray(r)){if(Array.isArray(d)&&Array.isArray(d[r[0]]))return d[r[0]][r[1]]}else return d[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(d){return typeof d!="string"?!1:!!v[d]},H.isXYhover=function(d){return typeof d!="string"?!1:!!S[d]}},83292:function(G,H,e){var g=e(33428),R=e(38248),i=e(49760),C=e(3400),S=C.pushUnique,v=C.strTranslate,d=C.strRotate,r=e(95924),t=e(72736),a=e(72213),n=e(43616),f=e(76308),u=e(86476),l=e(54460),y=e(24040),h=e(10624),T=e(92456),c=e(77864),o=e(31140),p=T.YANGLE,x=Math.PI*p/180,b=1/Math.sin(x),P=Math.cos(x),m=Math.sin(x),L=T.HOVERARROWSIZE,M=T.HOVERTEXTPAD,s={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function w(Z,$){return Z.distance-$.distance}H.hover=function($,se,ae,he){$=C.getGraphDiv($);var me=se.target;C.throttle($._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){_($,se,ae,he,me)})},H.loneHover=function($,se){var ae=!0;Array.isArray($)||(ae=!1,$=[$]);var he=se.gd,me=Y(he),Me=oe(he),Te=$.map(function(He){var at=He._x0||He.x0||He.x||0,vt=He._x1||He.x1||He.x||0,ot=He._y0||He.y0||He.y||0,et=He._y1||He.y1||He.y||0,ct=He.eventData;if(ct){var ht=Math.min(at,vt),gt=Math.max(at,vt),xt=Math.min(ot,et),Mt=Math.max(ot,et),tt=He.trace;if(y.traceIs(tt,"gl3d")){var Oe=he._fullLayout[tt.scene]._scene.container,Xe=Oe.offsetLeft,Ze=Oe.offsetTop;ht+=Xe,gt+=Xe,xt+=Ze,Mt+=Ze}ct.bbox={x0:ht+Me,x1:gt+Me,y0:xt+me,y1:Mt+me},se.inOut_bbox&&se.inOut_bbox.push(ct.bbox)}else ct=!1;return{color:He.color||f.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,fontWeight:He.fontWeight,fontStyle:He.fontStyle,fontVariant:He.fontVariant,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:ct}}),Pe=!1,be=z(Te,{gd:he,hovermode:"closest",rotateLabels:Pe,bgColor:se.bgColor||f.background,container:g.select(se.container),outerContainer:se.outerContainer||se.container}),Ee=be.hoverLabels,xe=5,Ce=0,Ue=0;Ee.sort(function(He,at){return He.y0-at.y0}).each(function(He,at){var vt=He.y0-He.by/2;vt-xe<Ce?He.offset=Ce-vt+xe:He.offset=0,Ce=vt+He.by+He.offset,at===se.anchorIndex&&(Ue=He.offset)}).each(function(He){He.offset-=Ue});var Ne=he._fullLayout._invScaleX,De=he._fullLayout._invScaleY;return j(Ee,Pe,Ne,De),ae?Ee:Ee.node()};function _(Z,$,se,ae,he){se||(se="xy");var me=Array.isArray(se)?se:[se],Me,Te=Z._fullLayout,Pe=Te.hoversubplots,be=Te._plots||[],Ee=be[se],xe=Te._has("cartesian"),Ce=$.hovermode||Te.hovermode,Ue=(Ce||"").charAt(0)==="x",Ne=(Ce||"").charAt(0)==="y",De,He;if(xe&&(Ue||Ne)&&Pe==="axis"){for(var at=me.length,vt=0;vt<at;vt++)if(Me=me[vt],be[Me]){De=l.getFromId(Z,Me,"x"),He=l.getFromId(Z,Me,"y");var ot=(Ue?De:He)._subplotsWith;if(ot&&ot.length)for(var et=0;et<ot.length;et++)S(me,ot[et])}}if(Ee&&Pe!=="single"){var ct=Ee.overlays.map(function(Yn){return Yn.id});me=me.concat(ct)}for(var ht=me.length,gt=new Array(ht),xt=new Array(ht),Mt=!1,tt=0;tt<ht;tt++)if(Me=me[tt],be[Me])Mt=!0,gt[tt]=be[Me].xaxis,xt[tt]=be[Me].yaxis;else if(Te[Me]&&Te[Me]._subplot){var Oe=Te[Me]._subplot;gt[tt]=Oe.xaxis,xt[tt]=Oe.yaxis}else{C.warn("Unrecognized subplot: "+Me);return}if(Ce&&!Mt&&(Ce="closest"),["x","y","closest","x unified","y unified"].indexOf(Ce)===-1||!Z.calcdata||Z.querySelector(".zoombox")||Z._dragging)return u.unhoverRaw(Z,$);var Xe=Te.hoverdistance;Xe===-1&&(Xe=1/0);var Ze=Te.spikedistance;Ze===-1&&(Ze=1/0);var We=[],ze=[],ke,je,Ie,pe,we,Ve,Qe,it,st,Wt,jt,Tt,Lt,Xt={hLinePoint:null,vLinePoint:null},Tr=!1;if(Array.isArray($))for(Ce="array",Ie=0;Ie<$.length;Ie++)we=Z.calcdata[$[Ie].curveNumber||0],we&&(Ve=we[0].trace,we[0].trace.hoverinfo!=="skip"&&(ze.push(we),Ve.orientation==="h"&&(Tr=!0)));else{var yt=Z.calcdata.slice();for(yt.sort(function(Yn,Qn){var gr=Yn[0].trace.zorder||0,en=Qn[0].trace.zorder||0;return gr-en}),pe=0;pe<yt.length;pe++)we=yt[pe],Ve=we[0].trace,Ve.hoverinfo!=="skip"&&h.isTraceInSubplots(Ve,me)&&(ze.push(we),Ve.orientation==="h"&&(Tr=!0));var Kt=!he,Jt,yr;if(Kt)"xpx"in $?Jt=$.xpx:Jt=gt[0]._length/2,"ypx"in $?yr=$.ypx:yr=xt[0]._length/2;else{if(r.triggerHandler(Z,"plotly_beforehover",$)===!1)return;var ur=he.getBoundingClientRect();Jt=$.clientX-ur.left,yr=$.clientY-ur.top,Te._calcInverseTransform(Z);var mt=C.apply3DTransform(Te._invTransform)(Jt,yr);if(Jt=mt[0],yr=mt[1],Jt<0||Jt>gt[0]._length||yr<0||yr>xt[0]._length)return u.unhoverRaw(Z,$)}if($.pointerX=Jt+gt[0]._offset,$.pointerY=yr+xt[0]._offset,"xval"in $?ke=h.flat(me,$.xval):ke=h.p2c(gt,Jt),"yval"in $?je=h.flat(me,$.yval):je=h.p2c(xt,yr),!R(ke[0])||!R(je[0]))return C.warn("Fx.hover failed",$,Z),u.unhoverRaw(Z,$)}var lt=1/0;function bt(Yn,Qn){for(pe=0;pe<ze.length;pe++)if(we=ze[pe],!(!we||!we[0]||!we[0].trace)&&(Ve=we[0].trace,!(Ve.visible!==!0||Ve._length===0)&&["carpet","contourcarpet"].indexOf(Ve._module.name)===-1)){if(st=Ce,h.isUnifiedHover(st)&&(st=st.charAt(0)),Ve.type==="splom"?(it=0,Qe=me[it]):(Qe=h.getSubplot(Ve),it=me.indexOf(Qe)),Tt={cd:we,trace:Ve,xa:gt[it],ya:xt[it],maxHoverDistance:Xe,maxSpikeDistance:Ze,index:!1,distance:Math.min(lt,Xe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Ve.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Te[Qe]&&(Tt.subplot=Te[Qe]._subplot),Te._splomScenes&&Te._splomScenes[Ve.uid]&&(Tt.scene=Te._splomScenes[Ve.uid]),st==="array"){var gr=$[pe];"pointNumber"in gr?(Tt.index=gr.pointNumber,st="closest"):(st="","xval"in gr&&(Wt=gr.xval,st="x"),"yval"in gr&&(jt=gr.yval,st=st?"closest":"y"))}else Yn!==void 0&&Qn!==void 0?(Wt=Yn,jt=Qn):(Wt=ke[it],jt=je[it]);if(Lt=We.length,Xe!==0)if(Ve._module&&Ve._module.hoverPoints){var en=Ve._module.hoverPoints(Tt,Wt,jt,st,{finiteRange:!0,hoverLayer:Te._hoverlayer,hoversubplots:Pe,gd:Z});if(en)for(var $r,hn=0;hn<en.length;hn++)$r=en[hn],R($r.x0)&&R($r.y0)&&We.push(Q($r,Ce))}else C.log("Unrecognized trace type in hover:",Ve);if(Ce==="closest"&&We.length>Lt&&(We.splice(0,Lt),lt=We[0].distance),xe&&Ze!==0&&We.length===0){Tt.distance=Ze,Tt.index=!1;var Bn=Ve._module.hoverPoints(Tt,Wt,jt,"closest",{hoverLayer:Te._hoverlayer});if(Bn&&(Bn=Bn.filter(function(Da){return Da.spikeDistance<=Ze})),Bn&&Bn.length){var Tn,Sn=Bn.filter(function(Da){return Da.xa.showspikes&&Da.xa.spikesnap!=="hovered data"});if(Sn.length){var Nn=Sn[0];R(Nn.x0)&&R(Nn.y0)&&(Tn=It(Nn),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>Tn.spikeDistance)&&(Xt.vLinePoint=Tn))}var qn=Bn.filter(function(Da){return Da.ya.showspikes&&Da.ya.spikesnap!=="hovered data"});if(qn.length){var va=qn[0];R(va.x0)&&R(va.y0)&&(Tn=It(va),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>Tn.spikeDistance)&&(Xt.hLinePoint=Tn))}}}}}bt();function Et(Yn,Qn,gr){for(var en=null,$r=1/0,hn,Bn=0;Bn<Yn.length;Bn++)De&&De._id!==Yn[Bn].xa._id||He&&He._id!==Yn[Bn].ya._id||(hn=Yn[Bn].spikeDistance,gr&&Bn===0&&(hn=-1/0),hn<=$r&&hn<=Qn&&(en=Yn[Bn],$r=hn));return en}function It(Yn){return Yn?{xa:Yn.xa,ya:Yn.ya,x:Yn.xSpike!==void 0?Yn.xSpike:(Yn.x0+Yn.x1)/2,y:Yn.ySpike!==void 0?Yn.ySpike:(Yn.y0+Yn.y1)/2,distance:Yn.distance,spikeDistance:Yn.spikeDistance,curveNumber:Yn.trace.index,color:Yn.color,pointNumber:Yn.index}:null}var Ht={fullLayout:Te,container:Te._hoverlayer,event:$};Z._spikepoints;var Ut={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};Z._spikepoints=Ut;var Bt=function(){var Yn=We.filter(function(gr){return De&&De._id===gr.xa._id&&He&&He._id===gr.ya._id}),Qn=We.filter(function(gr){return!(De&&De._id===gr.xa._id&&He&&He._id===gr.ya._id)});Yn.sort(w),Qn.sort(w),We=Yn.concat(Qn),We=X(We,Ce)};Bt();var $t=Ce.charAt(0),fr=($t==="x"||$t==="y")&&We[0]&&E[We[0].trace.type];if(xe&&Ze!==0&&We.length!==0){var Zt=We.filter(function(Yn){return Yn.ya.showspikes}),vr=Et(Zt,Ze,fr);Xt.hLinePoint=It(vr);var Ye=We.filter(function(Yn){return Yn.xa.showspikes}),Ge=Et(Ye,Ze,fr);Xt.vLinePoint=It(Ge)}if(We.length===0){var zt=u.unhoverRaw(Z,$);return xe&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&ue()&&ee(Z,Xt,Ht),zt}if(xe&&ue()&&ee(Z,Xt,Ht),h.isXYhover(st)&&We[0].length!==0&&We[0].trace.type!=="splom"){var Dt=We[0];s[Dt.trace.type]?We=We.filter(function(Yn){return Yn.trace.index===Dt.trace.index}):We=[Dt];var Qt=We.length,nr=ne("x",Dt,Te),ir=ne("y",Dt,Te);bt(nr,ir);var tr=[],Ft={},cr=0,pr=function(Yn){var Qn=s[Yn.trace.type]?D(Yn):Yn.trace.index;if(!Ft[Qn])cr++,Ft[Qn]=cr,tr.push(Yn);else{var gr=Ft[Qn]-1,en=tr[gr];gr>0&&Math.abs(Yn.distance)<Math.abs(en.distance)&&(tr[gr]=Yn)}},br;for(br=0;br<Qt;br++)pr(We[br]);for(br=We.length-1;br>Qt-1;br--)pr(We[br]);We=tr,Bt()}var hr=Z._hoverdata,Vr=[],Pr=Y(Z),Ir=oe(Z);for(Ie=0;Ie<We.length;Ie++){var sn=We[Ie],an=h.makeEventData(sn,sn.trace,sn.cd);if(sn.hovertemplate!==!1){var En=!1;sn.cd[sn.index]&&sn.cd[sn.index].ht&&(En=sn.cd[sn.index].ht),sn.hovertemplate=En||sn.trace.hovertemplate||!1}if(sn.xa&&sn.ya){var Mn=sn.x0+sn.xa._offset,xr=sn.x1+sn.xa._offset,_r=sn.y0+sn.ya._offset,Yr=sn.y1+sn.ya._offset,zr=Math.min(Mn,xr),gn=Math.max(Mn,xr),dn=Math.min(_r,Yr),Rn=Math.max(_r,Yr);an.bbox={x0:zr+Ir,x1:gn+Ir,y0:dn+Pr,y1:Rn+Pr}}sn.eventData=[an],Vr.push(an)}Z._hoverdata=Vr;var In=Ce==="y"&&(ze.length>1||We.length>1)||Ce==="closest"&&Tr&&We.length>1,Wn=f.combine(Te.plot_bgcolor||f.background,Te.paper_bgcolor),oa=z(We,{gd:Z,hovermode:Ce,rotateLabels:In,bgColor:Wn,container:Te._hoverlayer,outerContainer:Te._paper.node(),commonLabelOpts:Te.hoverlabel,hoverdistance:Te.hoverdistance}),ma=oa.hoverLabels;if(h.isUnifiedHover(Ce)||(U(ma,In,Te,oa.commonLabelBoundingBox),j(ma,In,Te._invScaleX,Te._invScaleY)),he&&he.tagName){var Ta=y.getComponentMethod("annotations","hasClickToShow")(Z,Vr);a(g.select(he),Ta?"pointer":"")}!he||ae||!re(Z,$,hr)||(hr&&Z.emit("plotly_unhover",{event:$,points:hr}),Z.emit("plotly_hover",{event:$,points:Z._hoverdata,xaxes:gt,yaxes:xt,xvals:ke,yvals:je}))}function D(Z){return[Z.trace.index,Z.index,Z.x0,Z.y0,Z.name,Z.attr,Z.xa?Z.xa._id:"",Z.ya?Z.ya._id:""].join(",")}var N=/<extra>([\s\S]*)<\/extra>/;function z(Z,$){var se=$.gd,ae=se._fullLayout,he=$.hovermode,me=$.rotateLabels,Me=$.bgColor,Te=$.container,Pe=$.outerContainer,be=$.commonLabelOpts||{};if(Z.length===0)return[[]];var Ee=$.fontFamily||T.HOVERFONT,xe=$.fontSize||T.HOVERFONTSIZE,Ce=$.fontWeight||ae.font.weight,Ue=$.fontStyle||ae.font.style,Ne=$.fontVariant||ae.font.variant,De=Z[0],He=De.xa,at=De.ya,vt=he.charAt(0),ot=vt+"Label",et=De[ot];if(et===void 0&&He.type==="multicategory")for(var ct=0;ct<Z.length&&(et=Z[ct][ot],et===void 0);ct++);var ht=le(se,Pe),gt=ht.top,xt=ht.width,Mt=ht.height,tt=et!==void 0&&De.distance<=$.hoverdistance&&(he==="x"||he==="y");if(tt){var Oe=!0,Xe,Ze;for(Xe=0;Xe<Z.length;Xe++)if(Oe&&Z[Xe].zLabel===void 0&&(Oe=!1),Ze=Z[Xe].hoverinfo||Z[Xe].trace.hoverinfo,Ze){var We=Array.isArray(Ze)?Ze:Ze.split("+");if(We.indexOf("all")===-1&&We.indexOf(he)===-1){tt=!1;break}}Oe&&(tt=!1)}var ze=Te.selectAll("g.axistext").data(tt?[0]:[]);ze.enter().append("g").classed("axistext",!0),ze.exit().remove();var ke={minX:0,maxX:0,minY:0,maxY:0};if(ze.each(function(){var Zt=g.select(this),vr=C.ensureSingle(Zt,"path","",function(xr){xr.style({"stroke-width":"1px"})}),Ye=C.ensureSingle(Zt,"text","",function(xr){xr.attr("data-notex",1)}),Ge=be.bgcolor||f.defaultLine,zt=be.bordercolor||f.contrast(Ge),Dt=f.contrast(Ge),Qt={weight:be.font.weight||Ce,style:be.font.style||Ue,variant:be.font.variant||Ne,family:be.font.family||Ee,size:be.font.size||xe,color:be.font.color||Dt};vr.style({fill:Ge,stroke:zt}),Ye.text(et).call(n.font,Qt).call(t.positionText,0,0).call(t.convertToTspans,se),Zt.attr("transform","");var nr=le(se,Ye.node()),ir,tr;if(he==="x"){var Ft=He.side==="top"?"-":"";Ye.attr("text-anchor","middle").call(t.positionText,0,He.side==="top"?gt-nr.bottom-L-M:gt-nr.top+L+M),ir=He._offset+(De.x0+De.x1)/2,tr=at._offset+(He.side==="top"?0:at._length);var cr=nr.width/2+M,pr=ir;ir<cr?pr=cr:ir>ae.width-cr&&(pr=ae.width-cr),vr.attr("d","M"+(ir-pr)+",0L"+(ir-pr+L)+","+Ft+L+"H"+cr+"v"+Ft+(M*2+nr.height)+"H"+-cr+"V"+Ft+L+"H"+(ir-pr-L)+"Z"),ir=pr,ke.minX=ir-cr,ke.maxX=ir+cr,He.side==="top"?(ke.minY=tr-(M*2+nr.height),ke.maxY=tr-M):(ke.minY=tr+M,ke.maxY=tr+(M*2+nr.height))}else{var br,hr,Vr;at.side==="right"?(br="start",hr=1,Vr="",ir=He._offset+He._length):(br="end",hr=-1,Vr="-",ir=He._offset),tr=at._offset+(De.y0+De.y1)/2,Ye.attr("text-anchor",br),vr.attr("d","M0,0L"+Vr+L+","+L+"V"+(M+nr.height/2)+"h"+Vr+(M*2+nr.width)+"V-"+(M+nr.height/2)+"H"+Vr+L+"V-"+L+"Z"),ke.minY=tr-(M+nr.height/2),ke.maxY=tr+(M+nr.height/2),at.side==="right"?(ke.minX=ir+L,ke.maxX=ir+L+(M*2+nr.width)):(ke.minX=ir-L-(M*2+nr.width),ke.maxX=ir-L);var Pr=nr.height/2,Ir=gt-nr.top-Pr,sn="clip"+ae._uid+"commonlabel"+at._id,an;if(ir<nr.width+2*M+L){an="M-"+(L+M)+"-"+Pr+"h-"+(nr.width-M)+"V"+Pr+"h"+(nr.width-M)+"Z";var En=nr.width-ir+M;t.positionText(Ye,En,Ir),br==="end"&&Ye.selectAll("tspan").each(function(){var xr=g.select(this),_r=n.tester.append("text").text(xr.text()).call(n.font,Qt),Yr=le(se,_r.node());Math.round(Yr.width)<Math.round(nr.width)&&xr.attr("x",En-Yr.width),_r.remove()})}else t.positionText(Ye,hr*(M+L),Ir),an=null;var Mn=ae._topclips.selectAll("#"+sn).data(an?[0]:[]);Mn.enter().append("clipPath").attr("id",sn).append("path"),Mn.exit().remove(),Mn.select("path").attr("d",an),n.setClipUrl(Ye,an?sn:null,se)}Zt.attr("transform",v(ir,tr))}),h.isUnifiedHover(he)){Te.selectAll("g.hovertext").remove();var je=Z.filter(function(Zt){return Zt.hoverinfo!=="none"});if(je.length===0)return[];var Ie=ae.hoverlabel,pe=Ie.font,we={showlegend:!0,legend:{title:{text:et,font:pe},font:pe,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ae.legend?ae.legend.traceorder:void 0,orientation:"v"}},Ve={font:pe};c(we,Ve,se._fullData);var Qe=Ve.legend;Qe.entries=[];for(var it=0;it<je.length;it++){var st=je[it];if(st.hoverinfo!=="none"){var Wt=F(st,!0,he,ae,et),jt=Wt[0],Tt=Wt[1];st.name=Tt,Tt!==""?st.text=Tt+" : "+jt:st.text=jt;var Lt=st.cd[st.index];Lt&&(Lt.mc&&(st.mc=Lt.mc),Lt.mcc&&(st.mc=Lt.mcc),Lt.mlc&&(st.mlc=Lt.mlc),Lt.mlcc&&(st.mlc=Lt.mlcc),Lt.mlw&&(st.mlw=Lt.mlw),Lt.mrc&&(st.mrc=Lt.mrc),Lt.dir&&(st.dir=Lt.dir)),st._distinct=!0,Qe.entries.push([st])}}Qe.entries.sort(function(Zt,vr){return Zt[0].trace.index-vr[0].trace.index}),Qe.layer=Te,Qe._inHover=!0,Qe._groupTitleFont=Ie.grouptitlefont,o(se,Qe);var Xt=Te.select("g.legend"),Tr=le(se,Xt.node()),yt=Tr.width+2*M,Kt=Tr.height+2*M,Jt=je[0],yr=(Jt.x0+Jt.x1)/2,ur=(Jt.y0+Jt.y1)/2,mt=!(y.traceIs(Jt.trace,"bar-like")||y.traceIs(Jt.trace,"box-violin")),lt,bt;vt==="y"?mt?(bt=ur-M,lt=ur+M):(bt=Math.min.apply(null,je.map(function(Zt){return Math.min(Zt.y0,Zt.y1)})),lt=Math.max.apply(null,je.map(function(Zt){return Math.max(Zt.y0,Zt.y1)}))):bt=lt=C.mean(je.map(function(Zt){return(Zt.y0+Zt.y1)/2}))-Kt/2;var Et,It;vt==="x"?mt?(Et=yr+M,It=yr-M):(Et=Math.max.apply(null,je.map(function(Zt){return Math.max(Zt.x0,Zt.x1)})),It=Math.min.apply(null,je.map(function(Zt){return Math.min(Zt.x0,Zt.x1)}))):Et=It=C.mean(je.map(function(Zt){return(Zt.x0+Zt.x1)/2}))-yt/2;var Ht=He._offset,Ut=at._offset;lt+=Ut,Et+=Ht,It+=Ht-yt,bt+=Ut-Kt;var Bt,$t;return Et+yt<xt&&Et>=0?Bt=Et:It+yt<xt&&It>=0?Bt=It:Ht+yt<xt?Bt=Ht:Et-yr<yr-It+yt?Bt=xt-yt:Bt=0,Bt+=M,lt+Kt<Mt&&lt>=0?$t=lt:bt+Kt<Mt&&bt>=0?$t=bt:Ut+Kt<Mt?$t=Ut:lt-ur<ur-bt+Kt?$t=Mt-Kt:$t=0,$t+=M,Xt.attr("transform",v(Bt-1,$t-1)),Xt}var fr=Te.selectAll("g.hovertext").data(Z,function(Zt){return D(Zt)});return fr.enter().append("g").classed("hovertext",!0).each(function(){var Zt=g.select(this);Zt.append("rect").call(f.fill,f.addOpacity(Me,.8)),Zt.append("text").classed("name",!0),Zt.append("path").style("stroke-width","1px"),Zt.append("text").classed("nums",!0).call(n.font,{weight:Ce,style:Ue,variant:Ne,family:Ee,size:xe})}),fr.exit().remove(),fr.each(function(Zt){var vr=g.select(this).attr("transform",""),Ye=Zt.color;Array.isArray(Ye)&&(Ye=Ye[Zt.eventData[0].pointNumber]);var Ge=Zt.bgcolor||Ye,zt=f.combine(f.opacity(Ge)?Ge:f.defaultLine,Me),Dt=f.combine(f.opacity(Ye)?Ye:f.defaultLine,Me),Qt=Zt.borderColor||f.contrast(zt),nr=F(Zt,tt,he,ae,et,vr),ir=nr[0],tr=nr[1],Ft=vr.select("text.nums").call(n.font,{family:Zt.fontFamily||Ee,size:Zt.fontSize||xe,color:Zt.fontColor||Qt,weight:Zt.fontWeight||Ce,style:Zt.fontStyle||Ue,variant:Zt.fontVariant||Ne}).text(ir).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se),cr=vr.select("text.name"),pr=0,br=0;if(tr&&tr!==ir){cr.call(n.font,{family:Zt.fontFamily||Ee,size:Zt.fontSize||xe,color:Dt,weight:Zt.fontWeight||Ce,style:Zt.fontStyle||Ue,variant:Zt.fontVariant||Ne}).text(tr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se);var hr=le(se,cr.node());pr=hr.width+2*M,br=hr.height+2*M}else cr.remove(),vr.select("rect").remove();vr.select("path").style({fill:zt,stroke:Qt});var Vr=Zt.xa._offset+(Zt.x0+Zt.x1)/2,Pr=Zt.ya._offset+(Zt.y0+Zt.y1)/2,Ir=Math.abs(Zt.x1-Zt.x0),sn=Math.abs(Zt.y1-Zt.y0),an=le(se,Ft.node()),En=an.width/ae._invScaleX,Mn=an.height/ae._invScaleY;Zt.ty0=(gt-an.top)/ae._invScaleY,Zt.bx=En+2*M,Zt.by=Math.max(Mn+2*M,br),Zt.anchor="start",Zt.txwidth=En,Zt.tx2width=pr,Zt.offset=0;var xr=(En+L+M+pr)*ae._invScaleX,_r,Yr;if(me)Zt.pos=Vr,_r=Pr+sn/2+xr<=Mt,Yr=Pr-sn/2-xr>=0,(Zt.idealAlign==="top"||!_r)&&Yr?(Pr-=sn/2,Zt.anchor="end"):_r?(Pr+=sn/2,Zt.anchor="start"):Zt.anchor="middle",Zt.crossPos=Pr;else{if(Zt.pos=Pr,_r=Vr+Ir/2+xr<=xt,Yr=Vr-Ir/2-xr>=0,(Zt.idealAlign==="left"||!_r)&&Yr)Vr-=Ir/2,Zt.anchor="end";else if(_r)Vr+=Ir/2,Zt.anchor="start";else{Zt.anchor="middle";var zr=xr/2,gn=Vr+zr-xt,dn=Vr-zr;gn>0&&(Vr-=gn),dn<0&&(Vr+=-dn)}Zt.crossPos=Vr}Ft.attr("text-anchor",Zt.anchor),pr&&cr.attr("text-anchor",Zt.anchor),vr.attr("transform",v(Vr,Pr)+(me?d(p):""))}),{hoverLabels:fr,commonLabelBoundingBox:ke}}function F(Z,$,se,ae,he,me){var Me="",Te="";Z.nameOverride!==void 0&&(Z.name=Z.nameOverride),Z.name&&(Z.trace._meta&&(Z.name=C.templateString(Z.name,Z.trace._meta)),Me=J(Z.name,Z.nameLength));var Pe=se.charAt(0),be=Pe==="x"?"y":"x";Z.zLabel!==void 0?(Z.xLabel!==void 0&&(Te+="x: "+Z.xLabel+"<br>"),Z.yLabel!==void 0&&(Te+="y: "+Z.yLabel+"<br>"),Z.trace.type!=="choropleth"&&Z.trace.type!=="choroplethmapbox"&&(Te+=(Te?"z: ":"")+Z.zLabel)):$&&Z[Pe+"Label"]===he?Te=Z[be+"Label"]||"":Z.xLabel===void 0?Z.yLabel!==void 0&&Z.trace.type!=="scattercarpet"&&(Te=Z.yLabel):Z.yLabel===void 0?Te=Z.xLabel:Te="("+Z.xLabel+", "+Z.yLabel+")",(Z.text||Z.text===0)&&!Array.isArray(Z.text)&&(Te+=(Te?"<br>":"")+Z.text),Z.extraText!==void 0&&(Te+=(Te?"<br>":"")+Z.extraText),me&&Te===""&&!Z.hovertemplate&&(Me===""&&me.remove(),Te=Me);var Ee=Z.hovertemplate||!1;if(Ee){var xe=Z.hovertemplateLabels||Z;Z[Pe+"Label"]!==he&&(xe[Pe+"other"]=xe[Pe+"Val"],xe[Pe+"otherLabel"]=xe[Pe+"Label"]),Te=C.hovertemplateString(Ee,xe,ae._d3locale,Z.eventData[0]||{},Z.trace._meta),Te=Te.replace(N,function(Ce,Ue){return Me=J(Ue,Z.nameLength),""})}return[Te,Me]}function U(Z,$,se,ae){var he=$?"xa":"ya",me=$?"ya":"xa",Me=0,Te=1,Pe=Z.size(),be=new Array(Pe),Ee=0,xe=ae.minX,Ce=ae.maxX,Ue=ae.minY,Ne=ae.maxY,De=function(ke){return ke*se._invScaleX},He=function(ke){return ke*se._invScaleY};Z.each(function(ke){var je=ke[he],Ie=ke[me],pe=je._id.charAt(0)==="x",we=je.range;Ee===0&&we&&we[0]>we[1]!==pe&&(Te=-1);var Ve=0,Qe=pe?se.width:se.height;if(se.hovermode==="x"||se.hovermode==="y"){var it=B(ke,$),st=ke.anchor,Wt=st==="end"?-1:1,jt,Tt;if(st==="middle")jt=ke.crossPos+(pe?He(it.y-ke.by/2):De(ke.bx/2+ke.tx2width/2)),Tt=jt+(pe?He(ke.by):De(ke.bx));else if(pe)jt=ke.crossPos+He(L+it.y)-He(ke.by/2-L),Tt=jt+He(ke.by);else{var Lt=De(Wt*L+it.x),Xt=Lt+De(Wt*ke.bx);jt=ke.crossPos+Math.min(Lt,Xt),Tt=ke.crossPos+Math.max(Lt,Xt)}pe?Ue!==void 0&&Ne!==void 0&&Math.min(Tt,Ne)-Math.max(jt,Ue)>1&&(Ie.side==="left"?(Ve=Ie._mainLinePosition,Qe=se.width):Qe=Ie._mainLinePosition):xe!==void 0&&Ce!==void 0&&Math.min(Tt,Ce)-Math.max(jt,xe)>1&&(Ie.side==="top"?(Ve=Ie._mainLinePosition,Qe=se.height):Qe=Ie._mainLinePosition)}be[Ee++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(pe?b:1)/2,pmin:Ve,pmax:Qe}]}),be.sort(function(ke,je){return ke[0].posref-je[0].posref||Te*(je[0].traceIndex-ke[0].traceIndex)});var at,vt,ot,et,ct,ht,gt;function xt(ke){var je=ke[0],Ie=ke[ke.length-1];if(vt=je.pmin-je.pos-je.dp+je.size,ot=Ie.pos+Ie.dp+Ie.size-je.pmax,vt>.01){for(ct=ke.length-1;ct>=0;ct--)ke[ct].dp+=vt;at=!1}if(!(ot<.01)){if(vt<-.01){for(ct=ke.length-1;ct>=0;ct--)ke[ct].dp-=ot;at=!1}if(at){var pe=0;for(et=0;et<ke.length;et++)ht=ke[et],ht.pos+ht.dp+ht.size>je.pmax&&pe++;for(et=ke.length-1;et>=0&&!(pe<=0);et--)ht=ke[et],ht.pos>je.pmax-1&&(ht.del=!0,pe--);for(et=0;et<ke.length&&!(pe<=0);et++)if(ht=ke[et],ht.pos<je.pmin+1)for(ht.del=!0,pe--,ot=ht.size*2,ct=ke.length-1;ct>=0;ct--)ke[ct].dp-=ot;for(et=ke.length-1;et>=0&&!(pe<=0);et--)ht=ke[et],ht.pos+ht.dp+ht.size>je.pmax&&(ht.del=!0,pe--)}}}for(;!at&&Me<=Pe;){for(Me++,at=!0,et=0;et<be.length-1;){var Mt=be[et],tt=be[et+1],Oe=Mt[Mt.length-1],Xe=tt[0];if(vt=Oe.pos+Oe.dp+Oe.size-Xe.pos-Xe.dp+Xe.size,vt>.01&&Oe.pmin===Xe.pmin&&Oe.pmax===Xe.pmax){for(ct=tt.length-1;ct>=0;ct--)tt[ct].dp+=vt;for(Mt.push.apply(Mt,tt),be.splice(et+1,1),gt=0,ct=Mt.length-1;ct>=0;ct--)gt+=Mt[ct].dp;for(ot=gt/Mt.length,ct=Mt.length-1;ct>=0;ct--)Mt[ct].dp-=ot;at=!1}else et++}be.forEach(xt)}for(et=be.length-1;et>=0;et--){var Ze=be[et];for(ct=Ze.length-1;ct>=0;ct--){var We=Ze[ct],ze=We.datum;ze.offset=We.dp,ze.del=We.del}}}function B(Z,$){var se=0,ae=Z.offset;return $&&(ae*=-m,se=Z.offset*P),{x:se,y:ae}}function V(Z){var $={start:1,end:-1,middle:0}[Z.anchor],se=$*(L+M),ae=se+$*(Z.txwidth+M),he=Z.anchor==="middle";return he&&(se-=Z.tx2width/2,ae+=Z.txwidth/2+M),{alignShift:$,textShiftX:se,text2ShiftX:ae}}function j(Z,$,se,ae){var he=function(Me){return Me*se},me=function(Me){return Me*ae};Z.each(function(Me){var Te=g.select(this);if(Me.del)return Te.remove();var Pe=Te.select("text.nums"),be=Me.anchor,Ee=be==="end"?-1:1,xe=V(Me),Ce=B(Me,$),Ue=Ce.x,Ne=Ce.y,De=be==="middle";Te.select("path").attr("d",De?"M-"+he(Me.bx/2+Me.tx2width/2)+","+me(Ne-Me.by/2)+"h"+he(Me.bx)+"v"+me(Me.by)+"h-"+he(Me.bx)+"Z":"M0,0L"+he(Ee*L+Ue)+","+me(L+Ne)+"v"+me(Me.by/2-L)+"h"+he(Ee*Me.bx)+"v-"+me(Me.by)+"H"+he(Ee*L+Ue)+"V"+me(Ne-L)+"Z");var He=Ue+xe.textShiftX,at=Ne+Me.ty0-Me.by/2+M,vt=Me.textAlign||"auto";vt!=="auto"&&(vt==="left"&&be!=="start"?(Pe.attr("text-anchor","start"),He=De?-Me.bx/2-Me.tx2width/2+M:-Me.bx-M):vt==="right"&&be!=="end"&&(Pe.attr("text-anchor","end"),He=De?Me.bx/2-Me.tx2width/2-M:Me.bx+M)),Pe.call(t.positionText,he(He),me(at)),Me.tx2width&&(Te.select("text.name").call(t.positionText,he(xe.text2ShiftX+xe.alignShift*M+Ue),me(Ne+Me.ty0-Me.by/2+M)),Te.select("rect").call(n.setRect,he(xe.text2ShiftX+(xe.alignShift-1)*Me.tx2width/2+Ue),me(Ne-Me.by/2-1),he(Me.tx2width),me(Me.by+2)))})}function Q(Z,$){var se=Z.index,ae=Z.trace||{},he=Z.cd[0],me=Z.cd[se]||{};function Me(Ce){return Ce||R(Ce)&&Ce===0}var Te=Array.isArray(se)?function(Ce,Ue){var Ne=C.castOption(he,se,Ce);return Me(Ne)?Ne:C.extractOption({},ae,"",Ue)}:function(Ce,Ue){return C.extractOption(me,ae,Ce,Ue)};function Pe(Ce,Ue,Ne){var De=Te(Ue,Ne);Me(De)&&(Z[Ce]=De)}if(Pe("hoverinfo","hi","hoverinfo"),Pe("bgcolor","hbg","hoverlabel.bgcolor"),Pe("borderColor","hbc","hoverlabel.bordercolor"),Pe("fontFamily","htf","hoverlabel.font.family"),Pe("fontSize","hts","hoverlabel.font.size"),Pe("fontColor","htc","hoverlabel.font.color"),Pe("fontWeight","htw","hoverlabel.font.weight"),Pe("fontStyle","hty","hoverlabel.font.style"),Pe("fontVariant","htv","hoverlabel.font.variant"),Pe("nameLength","hnl","hoverlabel.namelength"),Pe("textAlign","hta","hoverlabel.align"),Z.posref=$==="y"||$==="closest"&&ae.orientation==="h"?Z.xa._offset+(Z.x0+Z.x1)/2:Z.ya._offset+(Z.y0+Z.y1)/2,Z.x0=C.constrain(Z.x0,0,Z.xa._length),Z.x1=C.constrain(Z.x1,0,Z.xa._length),Z.y0=C.constrain(Z.y0,0,Z.ya._length),Z.y1=C.constrain(Z.y1,0,Z.ya._length),Z.xLabelVal!==void 0&&(Z.xLabel="xLabel"in Z?Z.xLabel:l.hoverLabelText(Z.xa,Z.xLabelVal,ae.xhoverformat),Z.xVal=Z.xa.c2d(Z.xLabelVal)),Z.yLabelVal!==void 0&&(Z.yLabel="yLabel"in Z?Z.yLabel:l.hoverLabelText(Z.ya,Z.yLabelVal,ae.yhoverformat),Z.yVal=Z.ya.c2d(Z.yLabelVal)),Z.zLabelVal!==void 0&&Z.zLabel===void 0&&(Z.zLabel=String(Z.zLabelVal)),!isNaN(Z.xerr)&&!(Z.xa.type==="log"&&Z.xerr<=0)){var be=l.tickText(Z.xa,Z.xa.c2l(Z.xerr),"hover").text;Z.xerrneg!==void 0?Z.xLabel+=" +"+be+" / -"+l.tickText(Z.xa,Z.xa.c2l(Z.xerrneg),"hover").text:Z.xLabel+="  "+be,$==="x"&&(Z.distance+=1)}if(!isNaN(Z.yerr)&&!(Z.ya.type==="log"&&Z.yerr<=0)){var Ee=l.tickText(Z.ya,Z.ya.c2l(Z.yerr),"hover").text;Z.yerrneg!==void 0?Z.yLabel+=" +"+Ee+" / -"+l.tickText(Z.ya,Z.ya.c2l(Z.yerrneg),"hover").text:Z.yLabel+="  "+Ee,$==="y"&&(Z.distance+=1)}var xe=Z.hoverinfo||Z.trace.hoverinfo;return xe&&xe!=="all"&&(xe=Array.isArray(xe)?xe:xe.split("+"),xe.indexOf("x")===-1&&(Z.xLabel=void 0),xe.indexOf("y")===-1&&(Z.yLabel=void 0),xe.indexOf("z")===-1&&(Z.zLabel=void 0),xe.indexOf("text")===-1&&(Z.text=void 0),xe.indexOf("name")===-1&&(Z.name=void 0)),Z}function ee(Z,$,se){var ae=se.container,he=se.fullLayout,me=he._size,Me=se.event,Te=!!$.hLinePoint,Pe=!!$.vLinePoint,be,Ee;if(ae.selectAll(".spikeline").remove(),!!(Pe||Te)){var xe=f.combine(he.plot_bgcolor,he.paper_bgcolor);if(Te){var Ce=$.hLinePoint,Ue,Ne;be=Ce&&Ce.xa,Ee=Ce&&Ce.ya;var De=Ee.spikesnap;De==="cursor"?(Ue=Me.pointerX,Ne=Me.pointerY):(Ue=be._offset+Ce.x,Ne=Ee._offset+Ce.y);var He=i.readability(Ce.color,xe)<1.5?f.contrast(xe):Ce.color,at=Ee.spikemode,vt=Ee.spikethickness,ot=Ee.spikecolor||He,et=l.getPxPosition(Z,Ee),ct,ht;if(at.indexOf("toaxis")!==-1||at.indexOf("across")!==-1){if(at.indexOf("toaxis")!==-1&&(ct=et,ht=Ue),at.indexOf("across")!==-1){var gt=Ee._counterDomainMin,xt=Ee._counterDomainMax;Ee.anchor==="free"&&(gt=Math.min(gt,Ee.position),xt=Math.max(xt,Ee.position)),ct=me.l+gt*me.w,ht=me.l+xt*me.w}ae.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ne,y2:Ne,"stroke-width":vt,stroke:ot,"stroke-dasharray":n.dashStyle(Ee.spikedash,vt)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ne,y2:Ne,"stroke-width":vt+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}at.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:et+(Ee.side!=="right"?vt:-vt),cy:Ne,r:vt,fill:ot}).classed("spikeline",!0)}if(Pe){var Mt=$.vLinePoint,tt,Oe;be=Mt&&Mt.xa,Ee=Mt&&Mt.ya;var Xe=be.spikesnap;Xe==="cursor"?(tt=Me.pointerX,Oe=Me.pointerY):(tt=be._offset+Mt.x,Oe=Ee._offset+Mt.y);var Ze=i.readability(Mt.color,xe)<1.5?f.contrast(xe):Mt.color,We=be.spikemode,ze=be.spikethickness,ke=be.spikecolor||Ze,je=l.getPxPosition(Z,be),Ie,pe;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(Ie=je,pe=Oe),We.indexOf("across")!==-1){var we=be._counterDomainMin,Ve=be._counterDomainMax;be.anchor==="free"&&(we=Math.min(we,be.position),Ve=Math.max(Ve,be.position)),Ie=me.t+(1-Ve)*me.h,pe=me.t+(1-we)*me.h}ae.insert("line",":first-child").attr({x1:tt,x2:tt,y1:Ie,y2:pe,"stroke-width":ze,stroke:ke,"stroke-dasharray":n.dashStyle(be.spikedash,ze)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:tt,x2:tt,y1:Ie,y2:pe,"stroke-width":ze+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:tt,cy:je-(be.side!=="top"?ze:-ze),r:ze,fill:ke}).classed("spikeline",!0)}}}function re(Z,$,se){if(!se||se.length!==Z._hoverdata.length)return!0;for(var ae=se.length-1;ae>=0;ae--){var he=se[ae],me=Z._hoverdata[ae];if(he.curveNumber!==me.curveNumber||String(he.pointNumber)!==String(me.pointNumber)||String(he.pointNumbers)!==String(me.pointNumbers))return!0}return!1}function ue(Z,$){return!0}function J(Z,$){return t.plainText(Z||"",{len:$,allowedTags:["br","sub","sup","b","i","em"]})}function X(Z,$){for(var se=$.charAt(0),ae=[],he=[],me=[],Me=0;Me<Z.length;Me++){var Te=Z[Me];y.traceIs(Te.trace,"bar-like")||y.traceIs(Te.trace,"box-violin")?me.push(Te):Te.trace[se+"period"]?he.push(Te):ae.push(Te)}return ae.concat(he).concat(me)}function ne(Z,$,se){var ae=$[Z+"a"],he=$[Z+"Val"],me=$.cd[0];if(ae.type==="category"||ae.type==="multicategory")he=ae._categoriesMap[he];else if(ae.type==="date"){var Me=$.trace[Z+"periodalignment"];if(Me){var Te=$.cd[$.index],Pe=Te[Z+"Start"];Pe===void 0&&(Pe=Te[Z]);var be=Te[Z+"End"];be===void 0&&(be=Te[Z]);var Ee=be-Pe;Me==="end"?he+=Ee:Me==="middle"&&(he+=Ee/2)}he=ae.d2c(he)}return me&&me.t&&me.t.posLetter===ae._id&&(se.boxmode==="group"||se.violinmode==="group")&&(he+=me.t.dPos),he}function Y(Z){return Z.offsetTop+Z.clientTop}function oe(Z){return Z.offsetLeft+Z.clientLeft}function le(Z,$){var se=Z._fullLayout,ae=$.getBoundingClientRect(),he=ae.left,me=ae.top,Me=he+ae.width,Te=me+ae.height,Pe=C.apply3DTransform(se._invTransform)(he,me),be=C.apply3DTransform(se._invTransform)(Me,Te),Ee=Pe[0],xe=Pe[1],Ce=be[0],Ue=be[1];return{x:Ee,y:xe,width:Ce-Ee,height:Ue-xe,top:Math.min(xe,Ue),left:Math.min(Ee,Ce),right:Math.max(Ee,Ce),bottom:Math.max(xe,Ue)}}},16132:function(G,H,e){var g=e(3400),R=e(76308),i=e(10624).isUnifiedHover;G.exports=function(S,v,d,r){r=r||{};var t=v.legend;function a(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&i(v.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),a("weight"),a("style"),a("variant"),t?(r.bgcolor||(r.bgcolor=R.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),d("hoverlabel.bgcolor",r.bgcolor),d("hoverlabel.bordercolor",r.bordercolor),d("hoverlabel.namelength",r.namelength),g.coerceFont(d,"hoverlabel.font",r.font),d("hoverlabel.align",r.align)}},41008:function(G,H,e){var g=e(3400),R=e(65460);G.exports=function(C,S){function v(d,r){return S[d]!==void 0?S[d]:g.coerce(C,S,R,d,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(G,H,e){var g=e(33428),R=e(3400),i=e(86476),C=e(10624),S=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:d,click:e(62376)};function d(a){var n=R.isD3Selection(a)?a:g.select(a);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(a,n,f){return R.castOption(a,n,"hoverlabel."+f)}function t(a,n,f){function u(l){return R.coerceHoverinfo({hoverinfo:l},{_module:a._module},n)}return R.castOption(a,f,"hoverinfo",u)}},65460:function(G,H,e){var g=e(92456),R=e(25376),i=R({editType:"none"});i.family.dflt=g.HOVERFONT,i.size.dflt=g.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:R({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,H,e){var g=e(3400),R=e(65460),i=e(41008),C=e(16132);G.exports=function(v,d){function r(l,y){return g.coerce(v,d,R,l,y)}var t=i(v,d);t&&(r("hoverdistance"),r("spikedistance"));var a=r("dragmode");a==="select"&&r("selectdirection");var n=d._has("mapbox"),f=d._has("geo"),u=d._basePlotModules.length;d.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(d.dragmode="pan"),C(v,d,r),g.coerceFont(r,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},81976:function(G,H,e){var g=e(3400),R=e(16132),i=e(65460);G.exports=function(S,v){function d(r,t){return g.coerce(S,v,i,r,t)}R(S,v,d)}},12704:function(G,H,e){var g=e(3400),R=e(53756).counter,i=e(86968).u,C=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[R("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(f,u,l){var y=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(y))return y;if(h.length)return h}function r(f,u){var l=f.grid||{},y=d(u,l,"x"),h=d(u,l,"y");if(!f.grid&&!y&&!h)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(y),o=Array.isArray(h),p=c&&y!==l.xaxes&&o&&h!==l.yaxes,x,b;T?(x=l.subplots.length,b=l.subplots[0].length):(o&&(x=h.length),c&&(b=y.length));var P=S.newContainer(u,"grid");function m(F,U){return g.coerce(l,P,v,F,U)}var L=m("rows",x),M=m("columns",b);if(!(L*M>1)){delete u.grid;return}if(!T&&!c&&!o){var s=m("pattern")==="independent";s&&(T=!0)}P._hasSubplotGrid=T;var E=m("roworder"),w=E==="top to bottom",_=T?.2:.1,D=T?.3:.1,N,z;p&&u._splomGridDflt&&(N=u._splomGridDflt.xside,z=u._splomGridDflt.yside),P._domains={x:t("x",m,_,N,M),y:t("y",m,D,z,L,w)}}function t(f,u,l,y,h,T){var c=u(f+"gap",l),o=u("domain."+f);u(f+"side",y);for(var p=new Array(h),x=o[0],b=(o[1]-x)/(h-c),P=b*(1-c),m=0;m<h;m++){var L=x+b*m;p[T?h-1-m:m]=[L,L+P]}return p}function a(f,u){var l=u.grid;if(!(!l||!l._domains)){var y=f.grid||{},h=u._subplots,T=l._hasSubplotGrid,c=l.rows,o=l.columns,p=l.pattern==="independent",x,b,P,m,L,M,s,E=l._axisMap={};if(T){var w=y.subplots||[];M=l.subplots=new Array(c);var _=1;for(x=0;x<c;x++){var D=M[x]=new Array(o),N=w[x]||[];for(b=0;b<o;b++)if(p?(L=_===1?"xy":"x"+_+"y"+_,_++):L=N[b],D[b]="",h.cartesian.indexOf(L)!==-1){if(s=L.indexOf("y"),P=L.slice(0,s),m=L.slice(s),E[P]!==void 0&&E[P]!==b||E[m]!==void 0&&E[m]!==x)continue;D[b]=L,E[P]=b,E[m]=x}}}else{var z=d(u,y,"x"),F=d(u,y,"y");l.xaxes=n(z,h.xaxis,o,E,"x"),l.yaxes=n(F,h.yaxis,c,E,"y")}var U=l._anchors={},B=l.roworder==="top to bottom";for(var V in E){var j=V.charAt(0),Q=l[j+"side"],ee,re,ue;if(Q.length<8)U[V]="free";else if(j==="x"){if(Q.charAt(0)==="t"===B?(ee=0,re=1,ue=c):(ee=c-1,re=-1,ue=-1),T){var J=E[V];for(x=ee;x!==ue;x+=re)if(L=M[x][J],!!L&&(s=L.indexOf("y"),L.slice(0,s)===V)){U[V]=L.slice(s);break}}else for(x=ee;x!==ue;x+=re)if(m=l.yaxes[x],h.cartesian.indexOf(V+m)!==-1){U[V]=m;break}}else if(Q.charAt(0)==="l"?(ee=0,re=1,ue=o):(ee=o-1,re=-1,ue=-1),T){var X=E[V];for(x=ee;x!==ue;x+=re)if(L=M[X][x],!!L&&(s=L.indexOf("y"),L.slice(s)===V)){U[V]=L.slice(0,s);break}}else for(x=ee;x!==ue;x+=re)if(P=l.xaxes[x],h.cartesian.indexOf(P+V)!==-1){U[V]=P;break}}}}function n(f,u,l,y,h){var T=new Array(l),c;function o(p,x){u.indexOf(x)!==-1&&y[x]===void 0?(T[p]=x,y[x]=p):T[p]=""}if(Array.isArray(f))for(c=0;c<l;c++)o(c,f[c]);else for(o(0,h),c=1;c<l;c++)o(c,h+(c+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:a}},65760:function(G,H,e){var g=e(33816),R=e(31780).templatedArray;e(36208),G.exports=R("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,H,e){var g=e(38248),R=e(36896);G.exports=function(C,S,v,d){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var a=C._fullLayout.images,n=S._id.charAt(0),f,u,l=0;l<a.length;l++)if(f=a[l],u="images["+l+"].",f[n+"ref"]===S._id){var y=f[n],h=f["size"+n],T=null,c=null;if(r){T=R(y,S.range);var o=h/Math.pow(10,T)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else T=Math.pow(10,y),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));g(T)?g(c)||(c=null):(T=null,c=null),d(u+n,T),d(u+"size"+n,c)}}}},25024:function(G,H,e){var g=e(3400),R=e(54460),i=e(51272),C=e(65760),S="images";G.exports=function(r,t){var a={name:S,handleItemDefaults:v};i(r,t,a)};function v(d,r,t){function a(o,p){return g.coerce(d,r,C,o,p)}var n=a("source"),f=a("visible",!!n);if(!f)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var u={_fullLayout:t},l=["x","y"],y=0;y<2;y++){var h=l[y],T=R.coerceRef(d,r,u,h,"paper",void 0);if(T!=="paper"){var c=R.getFromId(u,T);c._imgIndices.push(r._index)}R.coercePosition(r,u,a,T,h,0)}return r}},60963:function(G,H,e){var g=e(33428),R=e(43616),i=e(54460),C=e(79811),S=e(9616);G.exports=function(d){var r=d._fullLayout,t=[],a={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=C.ref2id(l.xref)+C.ref2id(l.yref);var y=r._plots[f];if(!y){n.push(l);continue}y.mainplot&&(f=y.mainplot.id),a[f]||(a[f]=[]),a[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(m){var L=g.select(this);if(this._imgSrc!==m.source)if(L.attr("xmlns",S.svg),m.source&&m.source.slice(0,5)==="data:")L.attr("xlink:href",m.source),this._imgSrc=m.source;else{var M=new Promise((function(s){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=w,E.onload=function(){var _=document.createElement("canvas");_.width=this.width,_.height=this.height;var D=_.getContext("2d",{willReadFrequently:!0});D.drawImage(this,0,0);var N=_.toDataURL("image/png");L.attr("xlink:href",N),s()},L.on("error",w),E.src=m.source,this._imgSrc=m.source;function w(){L.remove(),s()}}).bind(this));d._promises.push(M)}}function c(m){var L=g.select(this),M=i.getFromId(d,m.xref),s=i.getFromId(d,m.yref),E=i.getRefType(m.xref)==="domain",w=i.getRefType(m.yref)==="domain",_=r._size,D,N;M!==void 0?D=typeof m.xref=="string"&&E?M._length*m.sizex:Math.abs(M.l2p(m.sizex)-M.l2p(0)):D=m.sizex*_.w,s!==void 0?N=typeof m.yref=="string"&&w?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):N=m.sizey*_.h;var z=D*h.x[m.xanchor].offset,F=N*h.y[m.yanchor].offset,U=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,B,V;switch(M!==void 0?B=typeof m.xref=="string"&&E?M._length*m.x+M._offset:M.r2p(m.x)+M._offset:B=m.x*_.w+_.l,B+=z,s!==void 0?V=typeof m.yref=="string"&&w?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:V=_.h-m.y*_.h+_.t,V+=F,m.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}L.attr({x:B,y:V,width:D,height:N,preserveAspectRatio:U,opacity:m.opacity});var j=M&&i.getRefType(m.xref)!=="domain"?M._id:"",Q=s&&i.getRefType(m.yref)!=="domain"?s._id:"",ee=j+Q;R.setClipUrl(L,ee?"clip"+r._uid+ee:null,d)}var o=r._imageLowerLayer.selectAll("image").data(n),p=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),p.enter().append("image"),o.exit().remove(),p.exit().remove(),o.each(function(m){T.bind(this)(m),c.bind(this)(m)}),p.each(function(m){T.bind(this)(m),c.bind(this)(m)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){f=x[u];var b=r._plots[f];if(b.imagelayer){var P=b.imagelayer.selectAll("image").data(a[f]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(m){T.bind(this)(m),c.bind(this)(m)})}}}},7402:function(G,H,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,H,e){var g=e(25376),R=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,H,e){var g=e(24040),R=e(3400),i=e(31780),C=e(45464),S=e(3800),v=e(64859),d=e(42451);function r(t,a,n,f){var u=a[t]||{},l=i.newContainer(n,t);function y(ue,J){return R.coerce(u,l,S,ue,J)}var h=R.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var T=y("visible");if(T){for(var c,o=function(ue,J){var X=c._input,ne=c;return R.coerce(X,ne,C,ue,J)},p=n.font||{},x=R.coerceFont(y,"grouptitlefont",R.extendFlat({},p,{size:Math.round(p.size*1.1)})),b=0,P=!1,m="normal",L=(n.shapes||[]).filter(function(ue){return ue.showlegend}),M=f.concat(L).filter(function(ue){return t===(ue.legend||"legend")}),s=0;s<M.length;s++)if(c=M[s],!!c.visible){var E=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(b++,c.showlegend&&(P=!0,(!E&&g.traceIs(c,"pie-like")||c._input.showlegend===!0)&&b++),R.coerceFont(o,"legendgrouptitle.font",x)),(!E&&g.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(m=d.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(m=d.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var w=R.coerce(a,n,v,"showlegend",P&&b>(t==="legend"?1:0));if(w===!1&&(n[t]=void 0),!(w===!1&&!u.uirevision)&&(y("uirevision",n.uirevision),w!==!1)){y("borderwidth");var _=y("orientation"),D=y("yref"),N=y("xref"),z=_==="h",F=D==="paper",U=N==="paper",B,V,j,Q="left";z?(B=0,g.getComponentMethod("rangeslider","isVisible")(a.xaxis)?F?(V=1.1,j="bottom"):(V=1,j="top"):F?(V=-.1,j="top"):(V=0,j="bottom")):(V=1,j="auto",U?B=1.02:(B=1,Q="right")),R.coerce(u,l,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:B}},"x"),R.coerce(u,l,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:V}},"y"),y("traceorder",m),d.isGrouped(n[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",Q),y("yanchor",j),y("valign"),R.noneOrAll(u,l,["x","y"]);var ee=y("title.text");if(ee){y("title.side",z?"left":"top");var re=R.extendFlat({},h,{size:R.bigFont(h.size)});R.coerceFont(y,"title.font",re)}}}}G.exports=function(a,n,f){var u,l=f.slice(),y=n.shapes;if(y)for(u=0;u<y.length;u++){var h=y[u];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(T)}}var c=["legend"];for(u=0;u<l.length;u++)R.pushUnique(c,l[u].legend);for(n._legends=[],u=0;u<c.length;u++){var o=c[u];r(o,a,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(G,H,e){var g=e(33428),R=e(3400),i=e(7316),C=e(24040),S=e(95924),v=e(86476),d=e(43616),r=e(76308),t=e(72736),a=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,y=f.FROM_BR,h=e(35456),T=e(2012),c=e(42451),o=1,p=/^legend[0-9]*$/;G.exports=function(V,j){if(j)b(V,j);else{var Q=V._fullLayout,ee=Q._legends,re=Q._infolayer.selectAll('[class^="legend"]');re.each(function(){var ne=g.select(this),Y=ne.attr("class"),oe=Y.split(" ")[0];oe.match(p)&&ee.indexOf(oe)===-1&&ne.remove()});for(var ue=0;ue<ee.length;ue++){var J=ee[ue],X=V._fullLayout[J];b(V,X)}}};function x(B,V,j){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var Q=V.title.font,ee=Q.size*u,re=0,ue=B.node(),J=d.bBox(ue).width;V.title.side==="top center"?re=.5*(V._width-2*j-2*n.titlePad-J):V.title.side==="top right"&&(re=V._width-2*j-2*n.titlePad-J),t.positionText(B,j+n.titlePad+re,j+ee)}}function b(B,V){var j=V||{},Q=B._fullLayout,ee=U(j),re,ue,J=j._inHover;if(J?(ue=j.layer,re="hover"):(ue=Q._infolayer,re=ee),!!ue){re+=Q._uid,B._legendMouseDownTime||(B._legendMouseDownTime=0);var X;if(J){if(!j.entries)return;X=h(j.entries,j)}else{for(var ne=(B.calcdata||[]).slice(),Y=Q.shapes,oe=0;oe<Y.length;oe++){var le=Y[oe];if(le.showlegend){var Z={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};ne.push([{trace:Z}])}}X=Q.showlegend&&h(ne,j,Q._legends.length>1)}var $=Q.hiddenlabels||[];if(!J&&(!Q.showlegend||!X.length))return ue.selectAll("."+ee).remove(),Q._topdefs.select("#"+re).remove(),i.autoMargin(B,ee);var se=R.ensureSingle(ue,"g",ee,function(xe){J||xe.attr("pointer-events","all")}),ae=R.ensureSingleById(Q._topdefs,"clipPath",re,function(xe){xe.append("rect")}),he=R.ensureSingle(se,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});he.call(r.stroke,j.bordercolor).call(r.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var me=R.ensureSingle(se,"g","scrollbox"),Me=j.title;j._titleWidth=0,j._titleHeight=0;var Te;Me.text?(Te=R.ensureSingle(me,"text",ee+"titletext"),Te.attr("text-anchor","start").call(d.font,Me.font).text(Me.text),E(Te,me,B,j,o)):me.selectAll("."+ee+"titletext").remove();var Pe=R.ensureSingle(se,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),be=me.selectAll("g.groups").data(X);be.enter().append("g").attr("class","groups"),be.exit().remove();var Ee=be.selectAll("g.traces").data(R.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(xe){var Ce=xe[0].trace;return C.traceIs(Ce,"pie-like")?$.indexOf(xe[0].label)!==-1?.5:1:Ce.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(L,B,j)}).call(T,B,j).each(function(){J||g.select(this).call(s,B,ee)}),R.syncOrAsync([i.previousPromises,function(){return D(B,be,Ee,j)},function(){var xe=Q._size,Ce=j.borderwidth,Ue=j.xref==="paper",Ne=j.yref==="paper";if(Me.text&&x(Te,j,Ce),!J){var De,He;Ue?De=xe.l+xe.w*j.x-l[z(j)]*j._width:De=Q.width*j.x-l[z(j)]*j._width,Ne?He=xe.t+xe.h*(1-j.y)-l[F(j)]*j._effHeight:He=Q.height*(1-j.y)-l[F(j)]*j._effHeight;var at=N(B,ee,De,He);if(at)return;if(Q.margin.autoexpand){var vt=De,ot=He;De=Ue?R.constrain(De,0,Q.width-j._width):vt,He=Ne?R.constrain(He,0,Q.height-j._effHeight):ot,De!==vt&&R.log("Constrain "+ee+".x to make legend fit inside graph"),He!==ot&&R.log("Constrain "+ee+".y to make legend fit inside graph")}d.setTranslate(se,De,He)}if(Pe.on(".drag",null),se.on("wheel",null),J||j._height<=j._maxHeight||B._context.staticPlot){var et=j._effHeight;J&&(et=j._height),he.attr({width:j._width-Ce,height:et-Ce,x:Ce/2,y:Ce/2}),d.setTranslate(me,0,0),ae.select("rect").attr({width:j._width-2*Ce,height:et-2*Ce,x:Ce,y:Ce}),d.setClipUrl(me,re,B),d.setRect(Pe,0,0,0,0),delete j._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),ht=j._effHeight-ct-2*n.scrollBarMargin,gt=j._height-j._effHeight,xt=ht/gt,Mt=Math.min(j._scrollY||0,gt);he.attr({width:j._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-Ce,x:Ce/2,y:Ce/2}),ae.select("rect").attr({width:j._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-2*Ce,x:Ce,y:Ce+Mt}),d.setClipUrl(me,re,B),je(Mt,ct,xt),se.on("wheel",function(){Mt=R.constrain(j._scrollY+g.event.deltaY/ht*gt,0,gt),je(Mt,ct,xt),Mt!==0&&Mt!==gt&&g.event.preventDefault()});var tt,Oe,Xe,Ze=function(Qe,it,st){var Wt=(st-it)/xt+Qe;return R.constrain(Wt,0,gt)},We=function(Qe,it,st){var Wt=(it-st)/xt+Qe;return R.constrain(Wt,0,gt)},ze=g.behavior.drag().on("dragstart",function(){var Qe=g.event.sourceEvent;Qe.type==="touchstart"?tt=Qe.changedTouches[0].clientY:tt=Qe.clientY,Xe=Mt}).on("drag",function(){var Qe=g.event.sourceEvent;Qe.buttons===2||Qe.ctrlKey||(Qe.type==="touchmove"?Oe=Qe.changedTouches[0].clientY:Oe=Qe.clientY,Mt=Ze(Xe,tt,Oe),je(Mt,ct,xt))});Pe.call(ze);var ke=g.behavior.drag().on("dragstart",function(){var Qe=g.event.sourceEvent;Qe.type==="touchstart"&&(tt=Qe.changedTouches[0].clientY,Xe=Mt)}).on("drag",function(){var Qe=g.event.sourceEvent;Qe.type==="touchmove"&&(Oe=Qe.changedTouches[0].clientY,Mt=We(Xe,tt,Oe),je(Mt,ct,xt))});me.call(ke)}function je(Qe,it,st){j._scrollY=B._fullLayout[ee]._scrollY=Qe,d.setTranslate(me,0,-Qe),d.setRect(Pe,j._width,n.scrollBarMargin+Qe*st,n.scrollBarWidth,it),ae.select("rect").attr("y",Ce+Qe)}if(B._context.edits.legendPosition){var Ie,pe,we,Ve;se.classed("cursor-move",!0),v.init({element:se.node(),gd:B,prepFn:function(){var Qe=d.getTranslate(se);we=Qe.x,Ve=Qe.y},moveFn:function(Qe,it){var st=we+Qe,Wt=Ve+it;d.setTranslate(se,st,Wt),Ie=v.align(st,j._width,xe.l,xe.l+xe.w,j.xanchor),pe=v.align(Wt+j._height,-j._height,xe.t+xe.h,xe.t,j.yanchor)},doneFn:function(){if(Ie!==void 0&&pe!==void 0){var Qe={};Qe[ee+".x"]=Ie,Qe[ee+".y"]=pe,C.call("_guiRelayout",B,Qe)}},clickFn:function(Qe,it){var st=ue.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return it.clientX>=Wt.left&&it.clientX<=Wt.right&&it.clientY>=Wt.top&&it.clientY<=Wt.bottom});st.size()>0&&m(B,se,st,Qe,it)}})}}],B)}}function P(B,V,j){var Q=B[0],ee=Q.width,re=V.entrywidthmode,ue=Q.trace.legendwidth||V.entrywidth;return re==="fraction"?V._maxWidth*ue:j+(ue||ee)}function m(B,V,j,Q,ee){var re=j.data()[0][0].trace,ue={event:ee,node:j.node(),curveNumber:re.index,expandedIndex:re._expandedIndex,data:B.data,layout:B.layout,frames:B._transitionData._frames,config:B._context,fullData:B._fullData,fullLayout:B._fullLayout};re._group&&(ue.group=re._group),C.traceIs(re,"pie-like")&&(ue.label=j.datum()[0].label);var J=S.triggerHandler(B,"plotly_legendclick",ue);if(Q===1){if(J===!1)return;V._clickTimeout=setTimeout(function(){B._fullLayout&&a(j,B,Q)},B._context.doubleClickDelay)}else if(Q===2){V._clickTimeout&&clearTimeout(V._clickTimeout),B._legendMouseDownTime=0;var X=S.triggerHandler(B,"plotly_legenddoubleclick",ue);X!==!1&&J!==!1&&a(j,B,Q)}}function L(B,V,j){var Q=U(j),ee=B.data()[0][0],re=ee.trace,ue=C.traceIs(re,"pie-like"),J=!j._inHover&&V._context.edits.legendText&&!ue,X=j._maxNameLength,ne,Y;ee.groupTitle?(ne=ee.groupTitle.text,Y=ee.groupTitle.font):(Y=j.font,j.entries?ne=ee.text:(ne=ue?ee.label:re.name,re._meta&&(ne=R.templateString(ne,re._meta))));var oe=R.ensureSingle(B,"text",Q+"text");oe.attr("text-anchor","start").call(d.font,Y).text(J?M(ne,X):ne);var le=j.indentation+j.itemwidth+n.itemGap*2;t.positionText(oe,le,0),J?oe.call(t.makeEditable,{gd:V,text:ne}).call(E,B,V,j).on("edit",function(Z){this.text(M(Z,X)).call(E,B,V,j);var $=ee.trace._fullInput||{},se={};if(C.hasTransform($,"groupby")){var ae=C.getTransformIndices($,"groupby"),he=ae[ae.length-1],me=R.keyedContainer($,"transforms["+he+"].styles","target","value.name");me.set(ee.trace._group,Z),se=me.constructUpdate()}else se.name=Z;return $._isShape?C.call("_guiRelayout",V,"shapes["+re.index+"].name",se.name):C.call("_guiRestyle",V,se,re.index)}):E(oe,B,V,j)}function M(B,V){var j=Math.max(4,V);if(B&&B.trim().length>=j/2)return B;B=B||"";for(var Q=j-B.length;Q>0;Q--)B+=" ";return B}function s(B,V,j){var Q=V._context.doubleClickDelay,ee,re=1,ue=R.ensureSingle(B,"rect",j+"toggle",function(J){V._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ue.on("mousedown",function(){ee=new Date().getTime(),ee-V._legendMouseDownTime<Q?re+=1:(re=1,V._legendMouseDownTime=ee)}),ue.on("mouseup",function(){if(!(V._dragged||V._editing)){var J=V._fullLayout[j];new Date().getTime()-V._legendMouseDownTime>Q&&(re=Math.max(re-1,1)),m(V,J,B,re,g.event)}}))}function E(B,V,j,Q,ee){Q._inHover&&B.attr("data-notex",!0),t.convertToTspans(B,j,function(){w(V,j,Q,ee)})}function w(B,V,j,Q){var ee=B.data()[0][0];if(!j._inHover&&ee&&!ee.trace.showlegend){B.remove();return}var re=B.select("g[class*=math-group]"),ue=re.node(),J=U(j);j||(j=V._fullLayout[J]);var X=j.borderwidth,ne;Q===o?ne=j.title.font:ee.groupTitle?ne=ee.groupTitle.font:ne=j.font;var Y=ne.size*u,oe,le;if(ue){var Z=d.bBox(ue);oe=Z.height,le=Z.width,Q===o?d.setTranslate(re,X,X+oe*.75):d.setTranslate(re,0,oe*.25)}else{var $="."+J+(Q===o?"title":"")+"text",se=B.select($),ae=t.lineCount(se),he=se.node();if(oe=Y*ae,le=he?d.bBox(he).width:0,Q===o)j.title.side==="left"&&(le+=n.itemGap*2),t.positionText(se,X+n.titlePad,X+Y);else{var me=n.itemGap*2+j.indentation+j.itemwidth;ee.groupTitle&&(me=n.itemGap,le-=j.indentation+j.itemwidth),t.positionText(se,me,-Y*((ae-1)/2-.3))}}Q===o?(j._titleWidth=le,j._titleHeight=oe):(ee.lineHeight=Y,ee.height=Math.max(oe,16)+3,ee.width=le)}function _(B){var V=0,j=0,Q=B.title.side;return Q&&(Q.indexOf("left")!==-1&&(V=B._titleWidth),Q.indexOf("top")!==-1&&(j=B._titleHeight)),[V,j]}function D(B,V,j,Q){var ee=B._fullLayout,re=U(Q);Q||(Q=ee[re]);var ue=ee._size,J=c.isVertical(Q),X=c.isGrouped(Q),ne=Q.entrywidthmode==="fraction",Y=Q.borderwidth,oe=2*Y,le=n.itemGap,Z=Q.indentation+Q.itemwidth+le*2,$=2*(Y+le),se=F(Q),ae=Q.y<0||Q.y===0&&se==="top",he=Q.y>1||Q.y===1&&se==="bottom",me=Q.tracegroupgap,Me={};Q._maxHeight=Math.max(ae||he?ee.height/2:ue.h,30);var Te=0;Q._width=0,Q._height=0;var Pe=_(Q);if(J)j.each(function(Xe){var Ze=Xe[0].height;d.setTranslate(this,Y+Pe[0],Y+Pe[1]+Q._height+Ze/2+le),Q._height+=Ze,Q._width=Math.max(Q._width,Xe[0].width)}),Te=Z+Q._width,Q._width+=le+Z+oe,Q._height+=$,X&&(V.each(function(Xe,Ze){d.setTranslate(this,0,Ze*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var be=z(Q),Ee=Q.x<0||Q.x===0&&be==="right",xe=Q.x>1||Q.x===1&&be==="left",Ce=he||ae,Ue=ee.width/2;Q._maxWidth=Math.max(Ee?Ce&&be==="left"?ue.l+ue.w:Ue:xe?Ce&&be==="right"?ue.r+ue.w:Ue:ue.w,2*Z);var Ne=0,De=0;j.each(function(Xe){var Ze=P(Xe,Q,Z);Ne=Math.max(Ne,Ze),De+=Ze}),Te=null;var He=0;if(X){var at=0,vt=0,ot=0;V.each(function(){var Xe=0,Ze=0;g.select(this).selectAll("g.traces").each(function(ze){var ke=P(ze,Q,Z),je=ze[0].height;d.setTranslate(this,Pe[0],Pe[1]+Y+le+je/2+Ze),Ze+=je,Xe=Math.max(Xe,ke),Me[ze[0].trace.legendgroup]=Xe});var We=Xe+le;vt>0&&We+Y+vt>Q._maxWidth?(He=Math.max(He,vt),vt=0,ot+=at+me,at=Ze):at=Math.max(at,Ze),d.setTranslate(this,vt,ot),vt+=We}),Q._width=Math.max(He,vt)+Y,Q._height=ot+at+$}else{var et=j.size(),ct=De+oe+(et-1)*le<Q._maxWidth,ht=0,gt=0,xt=0,Mt=0;j.each(function(Xe){var Ze=Xe[0].height,We=P(Xe,Q,Z),ze=ct?We:Ne;ne||(ze+=le),ze+Y+gt-le>=Q._maxWidth&&(He=Math.max(He,Mt),gt=0,xt+=ht,Q._height+=ht,ht=0),d.setTranslate(this,Pe[0]+Y+gt,Pe[1]+Y+xt+Ze/2+le),Mt=gt+We+le,gt+=ze,ht=Math.max(ht,Ze)}),ct?(Q._width=gt+oe,Q._height=ht+$):(Q._width=Math.max(He,Mt)+oe,Q._height+=ht+$)}}Q._width=Math.ceil(Math.max(Q._width+Pe[0],Q._titleWidth+2*(Y+n.titlePad))),Q._height=Math.ceil(Math.max(Q._height+Pe[1],Q._titleHeight+2*(Y+n.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var tt=B._context.edits,Oe=tt.legendText||tt.legendPosition;j.each(function(Xe){var Ze=g.select(this).select("."+re+"toggle"),We=Xe[0].height,ze=Xe[0].trace.legendgroup,ke=P(Xe,Q,Z);X&&ze!==""&&(ke=Me[ze]);var je=Oe?Z:Te||ke;!J&&!ne&&(je+=le/2),d.setRect(Ze,0,-We/2,je,We)})}function N(B,V,j,Q){var ee=B._fullLayout,re=ee[V],ue=z(re),J=F(re),X=re.xref==="paper",ne=re.yref==="paper";B._fullLayout._reservedMargin[V]={};var Y=re.y<.5?"b":"t",oe=re.x<.5?"l":"r",le={r:ee.width-j,l:j+re._width,b:ee.height-Q,t:Q+re._effHeight};if(X&&ne)return i.autoMargin(B,V,{x:re.x,y:re.y,l:re._width*l[ue],r:re._width*y[ue],b:re._effHeight*y[J],t:re._effHeight*l[J]});X?B._fullLayout._reservedMargin[V][Y]=le[Y]:ne||re.orientation==="v"?B._fullLayout._reservedMargin[V][oe]=le[oe]:B._fullLayout._reservedMargin[V][Y]=le[Y]}function z(B){return R.isRightAnchor(B)?"right":R.isCenterAnchor(B)?"center":"left"}function F(B){return R.isBottomAnchor(B)?"bottom":R.isMiddleAnchor(B)?"middle":"top"}function U(B){return B._id||"legend"}},35456:function(G,H,e){var g=e(24040),R=e(42451);G.exports=function(C,S,v){var d=S._inHover,r=R.isGrouped(S),t=R.isReversed(S),a={},n=[],f=!1,u={},l=0,y=0,h,T;function c(B,V,j){if(S.visible!==!1&&!(v&&B!==S._id))if(V===""||!R.isGrouped(S)){var Q="~~i"+l;n.push(Q),a[Q]=[j],l++}else n.indexOf(V)===-1?(n.push(V),f=!0,a[V]=[j]):a[V].push(j)}for(h=0;h<C.length;h++){var o=C[h],p=o[0],x=p.trace,b=x.legend,P=x.legendgroup;if(!(!d&&(!x.visible||!x.showlegend)))if(g.traceIs(x,"pie-like"))for(u[P]||(u[P]={}),T=0;T<o.length;T++){var m=o[T].label;u[P][m]||(c(b,P,{label:m,color:o[T].color,i:o[T].i,trace:x,pts:o[T].pts}),u[P][m]=!0,y=Math.max(y,(m||"").length))}else c(b,P,p),y=Math.max(y,(x.name||"").length)}if(!n.length)return[];var L=!f||!r,M=[];for(h=0;h<n.length;h++){var s=a[n[h]];L?M.push(s[0]):M.push(s)}for(L&&(M=[M]),h=0;h<M.length;h++){var E=1/0;for(T=0;T<M[h].length;T++){var w=M[h][T].trace.legendrank;E>w&&(E=w)}M[h][0]._groupMinRank=E,M[h][0]._preGroupSort=h}var _=function(B,V){return B[0]._groupMinRank-V[0]._groupMinRank||B[0]._preGroupSort-V[0]._preGroupSort},D=function(B,V){return B.trace.legendrank-V.trace.legendrank||B._preSort-V._preSort};for(M.forEach(function(B,V){B[0]._preGroupSort=V}),M.sort(_),h=0;h<M.length;h++){M[h].forEach(function(B,V){B._preSort=V}),M[h].sort(D);var N=M[h][0].trace,z=null;for(T=0;T<M[h].length;T++){var F=M[h][T].trace.legendgrouptitle;if(F&&F.text){z=F,d&&(F.font=S._groupTitleFont);break}}if(t&&M[h].reverse(),z){var U=!1;for(T=0;T<M[h].length;T++)if(g.traceIs(M[h][T].trace,"pie-like")){U=!0;break}M[h].unshift({i:-1,groupTitle:z,noClick:U,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:S.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<M[h].length;T++)M[h][T]=[M[h][T]]}return S._lgroupsLength=M.length,S._maxNameLength=y,M}},33048:function(G,H,e){var g=e(24040),R=e(3400),i=R.pushUnique,C=!0;G.exports=function(v,d,r){var t=d._fullLayout;if(d._dragged||d._editing)return;var a=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&a==="toggle"&&n==="toggleothers"&&C&&d.data&&d._context.showTips&&R.notifier(R._(d,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=a:r===2&&(u=n),!u)return;var l=f==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=d._fullData,c=(t.shapes||[]).filter(function(Ue){return Ue.showlegend}),o=T.concat(c),p=h.trace;p._isShape&&(p=p._fullInput);var x=p.legendgroup,b,P,m,L,M,s,E={},w=[],_=[],D=[];function N(Ue,Ne){var De=w.indexOf(Ue),He=E.visible;return He||(He=E.visible=[]),w.indexOf(Ue)===-1&&(w.push(Ue),De=w.length-1),He[De]=Ne,De}var z=(t.shapes||[]).map(function(Ue){return Ue._input}),F=!1;function U(Ue,Ne){z[Ue].visible=Ne,F=!0}function B(Ue,Ne){if(!(h.groupTitle&&!l)){var De=Ue._fullInput||Ue,He=De._isShape,at=De.index;if(at===void 0&&(at=De._index),g.hasTransform(De,"groupby")){var vt=_[at];if(!vt){var ot=g.getTransformIndices(De,"groupby"),et=ot[ot.length-1];vt=R.keyedContainer(De,"transforms["+et+"].styles","target","value.visible"),_[at]=vt}var ct=vt.get(Ue._group);ct===void 0&&(ct=!0),ct!==!1&&vt.set(Ue._group,Ne),D[at]=N(at,De.visible!==!1)}else{var ht=De.visible===!1?!1:Ne;He?U(at,ht):N(at,ht)}}}var V=p.legend,j=p._fullInput,Q=j&&j._isShape;if(!Q&&g.traceIs(p,"pie-like")){var ee=h.label,re=y.indexOf(ee);if(u==="toggle")re===-1?y.push(ee):y.splice(re,1);else if(u==="toggleothers"){var ue=re!==-1,J=[];for(b=0;b<d.calcdata.length;b++){var X=d.calcdata[b];for(P=0;P<X.length;P++){var ne=X[P],Y=ne.label;V===X[0].trace.legend&&ee!==Y&&(y.indexOf(Y)===-1&&(ue=!0),i(y,Y),J.push(Y))}}if(!ue)for(var oe=0;oe<J.length;oe++){var le=y.indexOf(J[oe]);le!==-1&&y.splice(le,1)}}g.call("_guiRelayout",d,"hiddenlabels",y)}else{var Z=x&&x.length,$=[],se;if(Z)for(b=0;b<o.length;b++)se=o[b],se.visible&&se.legendgroup===x&&$.push(b);if(u==="toggle"){var ae;switch(p.visible){case!0:ae="legendonly";break;case!1:ae=!1;break;case"legendonly":ae=!0;break}if(Z)if(l)for(b=0;b<o.length;b++){var he=o[b];he.visible!==!1&&he.legendgroup===x&&B(he,ae)}else B(p,ae);else B(p,ae)}else if(u==="toggleothers"){var me,Me,Te,Pe,be,Ee=!0;for(b=0;b<o.length;b++)if(be=o[b],me=be===p,Te=be.showlegend!==!0,!(me||Te)&&(Me=Z&&be.legendgroup===x,!Me&&be.legend===V&&be.visible===!0&&!g.traceIs(be,"notLegendIsolatable"))){Ee=!1;break}for(b=0;b<o.length;b++)if(be=o[b],!(be.visible===!1||be.legend!==V)&&!g.traceIs(be,"notLegendIsolatable"))switch(p.visible){case"legendonly":B(be,!0);break;case!0:Pe=Ee?!0:"legendonly",me=be===p,Te=be.showlegend!==!0&&!be.legendgroup,Me=me||Z&&be.legendgroup===x,B(be,Me||Te?!0:Pe);break}}for(b=0;b<_.length;b++)if(m=_[b],!!m){var xe=m.constructUpdate(),Ce=Object.keys(xe);for(P=0;P<Ce.length;P++)L=Ce[P],s=E[L]=E[L]||[],s[D[b]]=xe[L]}for(M=Object.keys(E),b=0;b<M.length;b++)for(L=M[b],P=0;P<w.length;P++)E[L].hasOwnProperty(P)||(E[L][P]=void 0);F?g.call("_guiUpdate",d,E,{shapes:z},w):g.call("_guiRestyle",d,E,w)}}},42451:function(G,H){H.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(g){return g.orientation!=="h"},H.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,H,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,H,e){var g=e(33428),R=e(24040),i=e(3400),C=i.strTranslate,S=e(43616),v=e(76308),d=e(94288).extractOpts,r=e(43028),t=e(10528),a=e(69656).castOption,n=e(65196),f=12,u=5,l=2,y=10,h=5;G.exports=function(x,b,P){var m=b._fullLayout;P||(P=m.legend);var L=P.itemsizing==="constant",M=P.itemwidth,s=(M+n.itemGap*2)/2,E=C(s,0),w=function(J,X,ne,Y){var oe;if(J+1)oe=J;else if(X&&X.width>0)oe=X.width;else return 0;return L?Y:Math.min(oe,ne)};x.each(function(J){var X=g.select(this),ne=i.ensureSingle(X,"g","layers");ne.style("opacity",J[0].trace.opacity);var Y=P.indentation,oe=P.valign,le=J[0].lineHeight,Z=J[0].height;if(oe==="middle"&&Y===0||!le||!Z)ne.attr("transform",null);else{var $={top:1,bottom:-1}[oe],se=$*(.5*(le-Z+3))||0,ae=P.indentation;ne.attr("transform",C(ae,se))}var he=ne.selectAll("g.legendfill").data([J]);he.enter().append("g").classed("legendfill",!0);var me=ne.selectAll("g.legendlines").data([J]);me.enter().append("g").classed("legendlines",!0);var Me=ne.selectAll("g.legendsymbols").data([J]);Me.enter().append("g").classed("legendsymbols",!0),Me.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(N).each(F).each(z).each(B).each(ee).each(Q).each(_).each(D).each(V).each(j);function _(J){var X=c(J),ne=X.showFill,Y=X.showLine,oe=X.showGradientLine,le=X.showGradientFill,Z=X.anyFill,$=X.anyLine,se=J[0],ae=se.trace,he,me,Me=d(ae),Te=Me.colorscale,Pe=Me.reversescale,be=function(He){if(He.size())if(ne)S.fillGroupStyle(He,b,!0);else{var at="legendfill-"+ae.uid;S.gradient(He,b,at,T(Pe),Te,"fill")}},Ee=function(He){if(He.size()){var at="legendline-"+ae.uid;S.lineGroupStyle(He),S.gradient(He,b,at,T(Pe),Te,"stroke")}},xe=r.hasMarkers(ae)||!Z?"M5,0":$?"M5,-2":"M5,-3",Ce=g.select(this),Ue=Ce.select(".legendfill").selectAll("path").data(ne||le?[J]:[]);if(Ue.enter().append("path").classed("js-fill",!0),Ue.exit().remove(),Ue.attr("d",xe+"h"+M+"v6h-"+M+"z").call(be),Y||oe){var Ne=w(void 0,ae.line,y,u);me=i.minExtend(ae,{line:{width:Ne}}),he=[i.minExtend(se,{trace:me})]}var De=Ce.select(".legendlines").selectAll("path").data(Y||oe?[he]:[]);De.enter().append("path").classed("js-line",!0),De.exit().remove(),De.attr("d",xe+(oe?"l"+M+",0.0001":"h"+M)).call(Y?S.lineGroupStyle:Ee)}function D(J){var X=c(J),ne=X.anyFill,Y=X.anyLine,oe=X.showLine,le=X.showMarker,Z=J[0],$=Z.trace,se=!le&&!Y&&!ne&&r.hasText($),ae,he;function me(Ue,Ne,De,He){var at=i.nestedProperty($,Ue).get(),vt=i.isArrayOrTypedArray(at)&&Ne?Ne(at):at;if(L&&vt&&He!==void 0&&(vt=He),De){if(vt<De[0])return De[0];if(vt>De[1])return De[1]}return vt}function Me(Ue){return Z._distinct&&Z.index&&Ue[Z.index]?Ue[Z.index]:Ue[0]}if(le||se||oe){var Te={},Pe={};if(le){Te.mc=me("marker.color",Me),Te.mx=me("marker.symbol",Me),Te.mo=me("marker.opacity",i.mean,[.2,1]),Te.mlc=me("marker.line.color",Me),Te.mlw=me("marker.line.width",i.mean,[0,5],l),Pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var be=me("marker.size",i.mean,[2,16],f);Te.ms=be,Pe.marker.size=be}oe&&(Pe.line={width:me("line.width",Me,[0,10],u)}),se&&(Te.tx="Aa",Te.tp=me("textposition",Me),Te.ts=10,Te.tc=me("textfont.color",Me),Te.tf=me("textfont.family",Me),Te.tw=me("textfont.weight",Me),Te.ty=me("textfont.style",Me),Te.tv=me("textfont.variant",Me)),ae=[i.minExtend(Z,Te)],he=i.minExtend($,Pe),he.selectedpoints=null,he.texttemplate=null}var Ee=g.select(this).select("g.legendpoints"),xe=Ee.selectAll("path.scatterpts").data(le?ae:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),xe.exit().remove(),xe.call(S.pointStyle,he,b),le&&(ae[0].mrc=3);var Ce=Ee.selectAll("g.pointtext").data(se?ae:[]);Ce.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Ce.exit().remove(),Ce.selectAll("text").call(S.textPointStyle,he,b)}function N(J){var X=J[0].trace,ne=X.type==="waterfall";if(J[0]._distinct&&ne){var Y=J[0].trace[J[0].dir].marker;return J[0].mc=Y.color,J[0].mlw=Y.line.width,J[0].mlc=Y.line.color,U(J,this,"waterfall")}var oe=[];X.visible&&ne&&(oe=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(oe);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(Z){var $=g.select(this),se=X[Z[0]].marker,ae=w(void 0,se.line,h,l);$.attr("d",Z[1]).style("stroke-width",ae+"px").call(v.fill,se.color),ae&&$.call(v.stroke,se.line.color)})}function z(J){U(J,this)}function F(J){U(J,this,"funnel")}function U(J,X,ne){var Y=J[0].trace,oe=Y.marker||{},le=oe.line||{},Z=oe.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",$=ne?Y.visible&&Y.type===ne:R.traceIs(Y,"bar"),se=g.select(X).select("g.legendpoints").selectAll("path.legend"+ne).data($?[J]:[]);se.enter().append("path").classed("legend"+ne,!0).attr("d",Z).attr("transform",E),se.exit().remove(),se.each(function(ae){var he=g.select(this),me=ae[0],Me=w(me.mlw,oe.line,h,l);he.style("stroke-width",Me+"px");var Te=me.mcc;if(!P._inHover&&"mc"in me){var Pe=d(oe),be=Pe.mid;be===void 0&&(be=(Pe.max+Pe.min)/2),Te=S.tryColorscale(oe,"")(be)}var Ee=Te||me.mc||oe.color,xe=oe.pattern,Ce=xe&&S.getPatternAttr(xe.shape,0,"");if(Ce){var Ue=S.getPatternAttr(xe.bgcolor,0,null),Ne=S.getPatternAttr(xe.fgcolor,0,null),De=xe.fgopacity,He=o(xe.size,8,10),at=o(xe.solidity,.5,1),vt="legend-"+Y.uid;he.call(S.pattern,"legend",b,vt,Ce,He,at,Te,xe.fillmode,Ue,Ne,De)}else he.call(v.fill,Ee);Me&&v.stroke(he,me.mlc||le.color)})}function B(J){var X=J[0].trace,ne=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&R.traceIs(X,"box-violin")?[J]:[]);ne.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ne.exit().remove(),ne.each(function(){var Y=g.select(this);if((X.boxpoints==="all"||X.points==="all")&&v.opacity(X.fillcolor)===0&&v.opacity((X.line||{}).color)===0){var oe=i.minExtend(X,{marker:{size:L?f:i.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ne.call(S.pointStyle,oe,b)}else{var le=w(void 0,X.line,h,l);Y.style("stroke-width",le+"px").call(v.fill,X.fillcolor),le&&v.stroke(Y,X.line.color)}})}function V(J){var X=J[0].trace,ne=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&X.type==="candlestick"?[J,J]:[]);ne.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,oe){return oe?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ne.exit().remove(),ne.each(function(Y,oe){var le=g.select(this),Z=X[oe?"increasing":"decreasing"],$=w(void 0,Z.line,h,l);le.style("stroke-width",$+"px").call(v.fill,Z.fillcolor),$&&v.stroke(le,Z.line.color)})}function j(J){var X=J[0].trace,ne=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&X.type==="ohlc"?[J,J]:[]);ne.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,oe){return oe?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ne.exit().remove(),ne.each(function(Y,oe){var le=g.select(this),Z=X[oe?"increasing":"decreasing"],$=w(void 0,Z.line,h,l);le.style("fill","none").call(S.dashLine,Z.line.dash,$),$&&v.stroke(le,Z.line.color)})}function Q(J){re(J,this,"pie")}function ee(J){re(J,this,"funnelarea")}function re(J,X,ne){var Y=J[0],oe=Y.trace,le=ne?oe.visible&&oe.type===ne:R.traceIs(oe,ne),Z=g.select(X).select("g.legendpoints").selectAll("path.legend"+ne).data(le?[J]:[]);if(Z.enter().append("path").classed("legend"+ne,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),Z.exit().remove(),Z.size()){var $=oe.marker||{},se=w(a($.line.width,Y.pts),$.line,h,l),ae="pieLike",he=i.minExtend(oe,{marker:{line:{width:se}}},ae),me=i.minExtend(Y,{trace:he},ae);t(Z,me,he,b)}}function ue(J){var X=J[0].trace,ne,Y=[];if(X.visible)switch(X.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],ne=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],ne=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ne="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ne=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ne=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ne=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ne=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ne=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ne=!1;break}var oe=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);oe.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(le,Z){var $=g.select(this),se=d(X),ae=se.colorscale,he=se.reversescale,me=function(be){if(be.size()){var Ee="legendfill-"+X.uid;S.gradient(be,b,Ee,T(he,ne==="radial"),ae,"fill")}},Me;if(ae){if(!ne){var Pe=ae.length;Me=Z===0?ae[he?Pe-1:0][1]:Z===1?ae[he?0:Pe-1][1]:ae[Math.floor((Pe-1)/2)][1]}}else{var Te=X.vertexcolor||X.facecolor||X.color;Me=i.isArrayOrTypedArray(Te)?Te[Z]||Te[0]:Te}$.attr("d",le[0]),Me?$.call(v.fill,Me):$.call(me)})}};function T(p,x){var b=x?"radial":"horizontal";return b+(p?"":"reversed")}function c(p){var x=p[0].trace,b=x.contours,P=r.hasLines(x),m=r.hasMarkers(x),L=x.visible&&x.fill&&x.fill!=="none",M=!1,s=!1;if(b){var E=b.coloring;E==="lines"?M=!0:P=E==="none"||E==="heatmap"||b.showlines,b.type==="constraint"?L=b._operation!=="=":(E==="fill"||E==="heatmap")&&(s=!0)}return{showMarker:m,showLine:P,showFill:L,showGradientLine:M,showGradientFill:s,anyLine:P||M,anyFill:L||s}}function o(p,x,b){return p&&i.isArrayOrTypedArray(p)?x:p>b?b:p}},66540:function(G,H,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,H,e){var g=e(24040),R=e(7316),i=e(79811),C=e(9224),S=e(4016).eraseActiveShape,v=e(3400),d=v._,r=G.exports={};r.toImage={name:"toImage",title:function(p){var x=p._context.toImageButtonOptions||{},b=x.format||"png";return b==="png"?d(p,"Download plot as a png"):d(p,"Download plot")},icon:C.camera,click:function(p){var x=p._context.toImageButtonOptions,b={format:x.format||"png"};v.notifier(d(p,"Taking snapshot - this may take a few seconds"),"long"),b.format!=="svg"&&v.isIE()&&(v.notifier(d(p,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(P){P in x&&(b[P]=x[P])}),g.call("downloadImage",p,b).then(function(P){v.notifier(d(p,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){v.notifier(d(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return d(p,"Edit in Chart Studio")},icon:C.disk,click:function(p){R.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return d(p,"Edit in Chart Studio")},icon:C.pencil,click:function(p){R.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(p){return d(p,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return d(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(p){return d(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(p){return d(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(p){return d(p,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(p){return d(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(p){return d(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(p){return d(p,"Erase active shape")},icon:C.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return d(p,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return d(p,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return d(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return d(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(p,x){var b=x.currentTarget,P=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,L=p._fullLayout,M={},s=i.list(p,null,!0),E=L._cartesianSpikesEnabled,w,_;if(P==="zoom"){var D=m==="in"?.5:2,N=(1+D)/2,z=(1-D)/2,F;for(_=0;_<s.length;_++)if(w=s[_],!w.fixedrange)if(F=w._name,m==="auto")M[F+".autorange"]=!0;else if(m==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?M[F+".autorange"]=!0:w._rangeInitial0===void 0?(M[F+".autorange"]=w._autorangeInitial,M[F+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(M[F+".range"]=[w._rangeInitial0,null],M[F+".autorange"]=w._autorangeInitial):M[F+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(M[F+".showspikes"]=w._showSpikeInitial,E==="on"&&!w._showSpikeInitial&&(E="off"));else{var U=[w.r2l(w.range[0]),w.r2l(w.range[1])],B=[N*U[0]+z*U[1],N*U[1]+z*U[0]];M[F+".range[0]"]=w.l2r(B[0]),M[F+".range[1]"]=w.l2r(B[1])}}else P==="hovermode"&&(m==="x"||m==="y")&&(m=L._isHoriz?"y":"x",b.setAttribute("data-val",m)),M[P]=m;L._cartesianSpikesEnabled=E,g.call("_guiRelayout",p,M)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:a},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:a},r.orbitRotation={name:"orbitRotation",title:function(p){return d(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:a},r.tableRotation={name:"tableRotation",title:function(p){return d(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:a};function a(p,x){for(var b=x.currentTarget,P=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,L=p._fullLayout._subplots.gl3d||[],M={},s=P.split("."),E=0;E<L.length;E++)M[L[E]+"."+s[1]]=m;var w=m==="pan"?m:"zoom";M.dragmode=w,g.call("_guiRelayout",p,M)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return d(p,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return d(p,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(p,x){for(var b=x.currentTarget,P=b.getAttribute("data-attr"),m=P==="resetLastSave",L=P==="resetDefault",M=p._fullLayout,s=M._subplots.gl3d||[],E={},w=0;w<s.length;w++){var _=s[w],D=_+".camera",N=_+".aspectratio",z=_+".aspectmode",F=M[_]._scene,U;m?(E[D+".up"]=F.viewInitial.up,E[D+".eye"]=F.viewInitial.eye,E[D+".center"]=F.viewInitial.center,U=!0):L&&(E[D+".up"]=null,E[D+".eye"]=null,E[D+".center"]=null,U=!0),U&&(E[N+".x"]=F.viewInitial.aspectratio.x,E[N+".y"]=F.viewInitial.aspectratio.y,E[N+".z"]=F.viewInitial.aspectratio.z,E[z]=F.viewInitial.aspectmode)}g.call("_guiRelayout",p,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function f(p,x){var b=x.currentTarget,P=b._previousVal,m=p._fullLayout,L=m._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],s={},E={};if(P)E=P,b._previousVal=null;else{for(var w=0;w<L.length;w++){var _=L[w],D=m[_],N=_+".hovermode";s[N]=D.hovermode,E[N]=!1;for(var z=0;z<3;z++){var F=M[z],U=_+"."+F+".showspikes";E[U]=!1,s[U]=D[F].showspikes}}b._previousVal=s}return E}function u(p,x){var b=f(p,x);g.call("_guiRelayout",p,b)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return d(p,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h};function l(p,x){for(var b=x.currentTarget,P=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,L=p._fullLayout,M=L._subplots.geo||[],s=0;s<M.length;s++){var E=M[s],w=L[E];if(P==="zoom"){var _=w.projection.scale,D=m==="in"?2*_:.5*_;g.call("_guiRelayout",p,E+".projection.scale",D)}}P==="reset"&&o(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:h};function y(p){var x=p._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(p){var x=y(p);g.call("_guiRelayout",p,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return d(p,"Reset view")},icon:C.home,click:function(p){for(var x={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<p._fullData.length;b++){var P=p._fullData[b]._viewInitial;x["node.groups"].push(P.node.groups.slice()),x["node.x"].push(P.node.x.slice()),x["node.y"].push(P.node.y.slice())}g.call("restyle",p,x)}},r.toggleHover={name:"toggleHover",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(p,x){var b=f(p,x);b.hovermode=y(p),g.call("_guiRelayout",p,b)}},r.resetViews={name:"resetViews",title:function(p){return d(p,"Reset views")},icon:C.home,click:function(p,x){var b=x.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),t(p,x),b.setAttribute("data-attr","resetLastSave"),n(p,x),o(p,"geo"),o(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return d(p,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var x=p._fullLayout,b=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=b==="on"?"off":"on",g.call("_guiRelayout",p,T(p))}};function T(p){for(var x=p._fullLayout,b=x._cartesianSpikesEnabled==="on",P=i.list(p,null,!0),m={},L=0;L<P.length;L++){var M=P[L];m[M._name+".showspikes"]=b?!0:M._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return d(p,"Reset view")},attr:"reset",icon:C.home,click:function(p){o(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:c};function c(p,x){for(var b=x.currentTarget,P=b.getAttribute("data-val"),m=p._fullLayout,L=m._subplots.mapbox||[],M=1.05,s={},E=0;E<L.length;E++){var w=L[E],_=m[w].zoom,D=P==="in"?M*_:_/M;s[w+".zoom"]=D}g.call("_guiRelayout",p,s)}function o(p,x){for(var b=p._fullLayout,P=b._subplots[x]||[],m={},L=0;L<P.length;L++)for(var M=P[L],s=b[M]._subplot,E=s.viewInitial,w=Object.keys(E),_=0;_<w.length;_++){var D=w[_];m[M+"."+D]=E[D]}g.call("_guiRelayout",p,m)}},76052:function(G,H,e){var g=e(44248),R=Object.keys(g),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),S=[],v=function(d){if(C.indexOf(d._cat||d.name)===-1){var r=d.name,t=(d._cat||d.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};R.forEach(function(d){v(g[d])}),S.sort(),G.exports={DRAW_MODES:i,backButtons:C,foreButtons:S}},90824:function(G,H,e){var g=e(3400),R=e(76308),i=e(31780),C=e(66540);G.exports=function(v,d){var r=v.modebar||{},t=i.newContainer(d,"modebar");function a(f,u){return g.coerce(r,t,C,f,u)}a("orientation"),a("bgcolor",R.addOpacity(d.paper_bgcolor,.5));var n=R.contrast(R.rgb(d.modebar.bgcolor));a("color",R.addOpacity(n,.3)),a("activecolor",R.addOpacity(n,.7)),a("uirevision",d.uirevision),a("add"),a("remove")}},45460:function(G,H,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,H,e){var g=e(79811),R=e(43028),i=e(24040),C=e(10624).isUnifiedHover,S=e(66400),v=e(44248),d=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(h){var T=h._fullLayout,c=h._context,o=T._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=c.modeBarButtons,x;Array.isArray(p)&&p.length?x=l(p):!c.displayModeBar&&c.watermark?x=[]:x=t(h),o?o.update(h,x):T._modeBar=S(h,x)};function t(y){var h=y._fullLayout,T=y._fullData,c=y._context;function o(Z,$){if(typeof $=="string"){if($.toLowerCase()===Z.toLowerCase())return!0}else{var se=$.name,ae=$._cat||$.name;if(se===Z||ae===Z.toLowerCase())return!0}return!1}var p=h.modebar.add;typeof p=="string"&&(p=[p]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var b=c.modeBarButtonsToAdd.concat(p.filter(function(Z){for(var $=0;$<c.modeBarButtonsToRemove.length;$++)if(o(Z,c.modeBarButtonsToRemove[$]))return!1;return!0})),P=c.modeBarButtonsToRemove.concat(x.filter(function(Z){for(var $=0;$<c.modeBarButtonsToAdd.length;$++)if(o(Z,c.modeBarButtonsToAdd[$]))return!1;return!0})),m=h._has("cartesian"),L=h._has("gl3d"),M=h._has("geo"),s=h._has("pie"),E=h._has("funnelarea"),w=h._has("gl2d"),_=h._has("ternary"),D=h._has("mapbox"),N=h._has("polar"),z=h._has("smith"),F=h._has("sankey"),U=a(h),B=C(h.hovermode),V=[];function j(Z){if(Z.length){for(var $=[],se=0;se<Z.length;se++){for(var ae=Z[se],he=v[ae],me=he.name.toLowerCase(),Me=(he._cat||he.name).toLowerCase(),Te=!1,Pe=0;Pe<P.length;Pe++){var be=P[Pe].toLowerCase();if(be===me||be===Me){Te=!0;break}}Te||$.push(v[ae])}V.push($)}}var Q=["toImage"];c.showEditInChartStudio?Q.push("editInChartStudio"):c.showSendToCloud&&Q.push("sendDataToCloud"),j(Q);var ee=[],re=[],ue=[],J=[];(m||w||s||E||_)+M+L+D+N+z>1?(re=["toggleHover"],ue=["resetViews"]):M?(ee=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],ue=["resetGeo"]):L?(re=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(ee=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],ue=["resetViewMapbox"]):w?re=["hoverClosestGl2d"]:s?re=["hoverClosestPie"]:F?(re=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):re=["toggleHover"],m&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(T)||B)&&(re=[]),(m||w)&&!U&&(ee=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),L?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||w)&&!U||_?J=["zoom2d","pan2d"]:D||M?J=["pan2d"]:N&&(J=["zoom2d"]),n(T)&&J.push("select2d","lasso2d");var X=[],ne=function(Z){X.indexOf(Z)===-1&&re.indexOf(Z)!==-1&&X.push(Z)};if(Array.isArray(b)){for(var Y=[],oe=0;oe<b.length;oe++){var le=b[oe];typeof le=="string"?(le=le.toLowerCase(),d.indexOf(le)!==-1?(h._has("mapbox")||h._has("cartesian"))&&J.push(le):le==="togglespikelines"?ne("toggleSpikelines"):le==="togglehover"?ne("toggleHover"):le==="hovercompare"?ne("hoverCompareCartesian"):le==="hoverclosest"?(ne("hoverClosestCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie")):le==="v1hovermode"&&(ne("toggleHover"),ne("hoverClosestCartesian"),ne("hoverCompareCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie"))):Y.push(le)}b=Y}return j(J),j(ee.concat(ue)),j(X),u(V,b)}function a(y){for(var h=g.list({_fullLayout:y},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function n(y){for(var h=!1,T=0;T<y.length&&!h;T++){var c=y[T];!c._module||!c._module.selectPoints||(i.traceIs(c,"scatter-like")?(R.hasMarkers(c)||R.hasText(c))&&(h=!0):i.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(y){for(var h=0;h<y.length;h++)if(!i.traceIs(y[h],"noHover"))return!1;return!0}function u(y,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)y.push(h[T]);else y.push(h);return y}function l(y){for(var h=r([],y),T=0;T<h.length;T++)for(var c=h[T],o=0;o<c.length;o++){var p=c[o];if(typeof p=="string")if(v[p]!==void 0)h[T][o]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(G,H,e){var g=e(33428),R=e(38248),i=e(3400),C=e(9224),S=e(25788).version,v=new DOMParser;function d(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=d.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,y="modebar-"+l._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(y),i.addRelatedStyleRule(y,T+"#"+y+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),o=this.hasLogo!==u.displaylogo,p=this.locale!==u.locale;if(this.locale=u.locale,(c||o||p)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(y){var h=y.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var T=f.createButton(y);f.buttonElements.push(T),l.appendChild(T)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),u.setAttribute("data-val",y));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||C.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=R(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var y=document.createElementNS(u,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(y)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var y=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",c=g.select(l);if(T)h===u&&c.classed("active",!c.classed("active"));else{var o=h===null?h:i.nestedProperty(f,h).get();c.classed("active",o===y)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(i._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function a(n,f){var u=n._fullLayout,l=new d({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=a},26680:function(G,H,e){var g=e(25376),R=e(22548),i=e(31780).templatedArray,C=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:R.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,H,e){var g=e(3400),R=e(76308),i=e(31780),C=e(51272),S=e(26680),v=e(85984);G.exports=function(a,n,f,u,l){var y=a.rangeselector||{},h=i.newContainer(n,"rangeselector");function T(b,P){return g.coerce(y,h,S,b,P)}var c=C(y,h,{name:"buttons",handleItemDefaults:d,calendar:l}),o=T("visible",c.length>0);if(o){var p=r(n,f,u);T("x",p[0]),T("y",p[1]),g.noneOrAll(a,n,["x","y"]),T("xanchor"),T("yanchor"),g.coerceFont(T,"font",f.font);var x=T("bgcolor");T("activecolor",R.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function d(t,a,n,f){var u=f.calendar;function l(T,c){return g.coerce(t,a,S.buttons,T,c)}var y=l("visible");if(y){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?a.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,a,n){for(var f=n.filter(function(h){return a[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var y=a[f[l]].domain;y&&(u=Math.max(y[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(G,H,e){var g=e(33428),R=e(24040),i=e(7316),C=e(76308),S=e(43616),v=e(3400),d=v.strTranslate,r=e(72736),t=e(79811),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR,l=e(85984),y=e(48040);G.exports=function(L){var M=L._fullLayout,s=M._infolayer.selectAll(".rangeselector").data(h(L),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(E){var w=g.select(this),_=E,D=_.rangeselector,N=w.selectAll("g.button").data(v.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(z){var F=g.select(this),U=y(_,z);z._isActive=c(_,z,U),F.call(o,D,z),F.call(x,D,z,L),F.on("click",function(){L._dragged||R.call("_guiRelayout",L,U)}),F.on("mouseover",function(){z._isHovered=!0,F.call(o,D,z)}),F.on("mouseout",function(){z._isHovered=!1,F.call(o,D,z)})}),P(L,N,D,_._name,w)})};function h(m){for(var L=t.list(m,"x",!0),M=[],s=0;s<L.length;s++){var E=L[s];E.rangeselector&&E.rangeselector.visible&&M.push(E)}return M}function T(m){return m._id}function c(m,L,M){if(L.step==="all")return m.autorange===!0;var s=Object.keys(M);return m.range[0]===M[s[0]]&&m.range[1]===M[s[1]]}function o(m,L,M){var s=v.ensureSingle(m,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(C.stroke,L.bordercolor).call(C.fill,p(L,M)).style("stroke-width",L.borderwidth+"px")}function p(m,L){return L._isActive||L._isHovered?m.activecolor:m.bgcolor}function x(m,L,M,s){function E(_){r.convertToTspans(_,s)}var w=v.ensureSingle(m,"text","selector-text",function(_){_.attr("text-anchor","middle")});w.call(S.font,L.font).text(b(M,s._fullLayout._meta)).call(E)}function b(m,L){return m.label?L?v.templateString(m.label,L):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function P(m,L,M,s,E){var w=0,_=0,D=M.borderwidth;L.each(function(){var V=g.select(this),j=V.select(".selector-text"),Q=M.font.size*n,ee=Math.max(Q*r.lineCount(j),16)+3;_=Math.max(_,ee)}),L.each(function(){var V=g.select(this),j=V.select(".selector-rect"),Q=V.select(".selector-text"),ee=Q.node()&&S.bBox(Q.node()).width,re=M.font.size*n,ue=r.lineCount(Q),J=Math.max(ee+10,l.minButtonWidth);V.attr("transform",d(D+w,D)),j.attr({x:0,y:0,width:J,height:_}),r.positionText(Q,J/2,_/2-(ue-1)*re/2+3),w+=J+5});var N=m._fullLayout._size,z=N.l+N.w*M.x,F=N.t+N.h*(1-M.y),U="left";v.isRightAnchor(M)&&(z-=w,U="right"),v.isCenterAnchor(M)&&(z-=w/2,U="center");var B="top";v.isBottomAnchor(M)&&(F-=_,B="bottom"),v.isMiddleAnchor(M)&&(F-=_/2,B="middle"),w=Math.ceil(w),_=Math.ceil(_),z=Math.round(z),F=Math.round(F),i.autoMargin(m,s+"-range-selector",{x:M.x,y:M.y,l:w*f[U],r:w*u[U],b:_*u[B],t:_*f[B]}),E.attr("transform",d(z,F))}},48040:function(G,H,e){var g=e(73220),R=e(3400).titleCase;G.exports=function(S,v){var d=S._name,r={};if(v.step==="all")r[d+".autorange"]=!0;else{var t=i(S,v);r[d+".range[0]"]=t[0],r[d+".range[1]"]=t[1]}return r};function i(C,S){var v=C.range,d=new Date(C.r2l(v[1])),r=S.step,t=g["utc"+R(r)],a=S.count,n;switch(S.stepmode){case"backward":n=C.l2r(+t.offset(d,-a));break;case"todate":var f=t.offset(d,-a);n=C.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(G,H,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,H,e){var g=e(22548);G.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,H,e){var g=e(79811).list,R=e(19280).getAutoRange,i=e(74636);G.exports=function(S){for(var v=g(S,"x",!0),d=0;d<v.length;d++){var r=v[d],t=r[i.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=R(S,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,H,e){var g=e(3400),R=e(31780),i=e(79811),C=e(11200),S=e(10936);G.exports=function(d,r,t){var a=d[t],n=r[t];if(!(a.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(a.rangeslider)||(a.rangeslider={});var f=a.rangeslider,u=R.newContainer(n,"rangeslider");function l(s,E){return g.coerce(f,u,C,s,E)}var y,h;function T(s,E){return g.coerce(y,h,S,s,E)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var o=r._subplots;if(o)for(var p=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===i.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),x=g.simpleMap(p,i.id2name),b=0;b<x.length;b++){var P=x[b];y=f[P]||{},h=R.newContainer(u,P,"yaxis");var m=r[P],L;y.range&&m.isValidRange(y.range)&&(L="fixed");var M=T("rangemode",L);M!=="match"&&T("range",m.range.slice())}u._input=f}}},20060:function(G,H,e){var g=e(33428),R=e(24040),i=e(7316),C=e(3400),S=C.strTranslate,v=e(43616),d=e(76308),r=e(81668),t=e(57952),a=e(79811),n=e(86476),f=e(93972),u=e(74636);G.exports=function(L){for(var M=L._fullLayout,s=M._rangeSliderData,E=0;E<s.length;E++){var w=s[E][u.name];w._clipId=w._id+"-"+M._uid}function _(N){return N._name}var D=M._infolayer.selectAll("g."+u.containerClassName).data(s,_);D.exit().each(function(N){var z=N[u.name];M._topdefs.select("#"+z._clipId).remove()}).remove(),s.length!==0&&(D.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),D.each(function(N){var z=g.select(this),F=N[u.name],U=M[a.id2name(N.anchor)],B=F[a.id2name(N.anchor)];if(F.range){var V=C.simpleMap(F.range,N.r2l),j=C.simpleMap(N.range,N.r2l),Q;j[0]<j[1]?Q=[Math.min(V[0],j[0]),Math.max(V[1],j[1])]:Q=[Math.max(V[0],j[0]),Math.min(V[1],j[1])],F.range=F._input.range=C.simpleMap(Q,N.l2r)}N.cleanRange("rangeslider.range");var ee=M._size,re=N.domain;F._width=ee.w*(re[1]-re[0]);var ue=Math.round(ee.l+ee.w*re[0]),J=Math.round(ee.t+ee.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+F._offsetShift+u.extraPad);z.attr("transform",S(ue,J)),F._rl=C.simpleMap(F.range,N.r2l);var X=F._rl[0],ne=F._rl[1],Y=ne-X;if(F.p2d=function(Te){return Te/F._width*Y+X},F.d2p=function(Te){return(Te-X)/Y*F._width},N.rangebreaks){var oe=N.locateBreaks(X,ne);if(oe.length){var le,Z,$=0;for(le=0;le<oe.length;le++)Z=oe[le],$+=Z.max-Z.min;var se=F._width/(ne-X-$),ae=[-se*X];for(le=0;le<oe.length;le++)Z=oe[le],ae.push(ae[ae.length-1]-se*(Z.max-Z.min));for(F.d2p=function(Te){for(var Pe=ae[0],be=0;be<oe.length;be++){var Ee=oe[be];if(Te>=Ee.max)Pe=ae[be+1];else if(Te<Ee.min)break}return Pe+se*Te},le=0;le<oe.length;le++)Z=oe[le],Z.pmin=F.d2p(Z.min),Z.pmax=F.d2p(Z.max);F.p2d=function(Te){for(var Pe=ae[0],be=0;be<oe.length;be++){var Ee=oe[be];if(Te>=Ee.pmax)Pe=ae[be+1];else if(Te<Ee.pmin)break}return(Te-Pe)/se}}}if(B.rangemode!=="match"){var he=U.r2l(B.range[0]),me=U.r2l(B.range[1]),Me=me-he;F.d2pOppAxis=function(Te){return(Te-he)/Me*F._height}}z.call(c,L,N,F).call(o,L,N,F).call(p,L,N,F).call(b,L,N,F,B).call(P,L,N,F).call(m,L,N,F),y(z,L,N,F),T(z,L,N,F,U,B),N.side==="bottom"&&r.draw(L,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:M._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:J+F._height+F._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(L){return typeof L.clientX=="number"?L.clientX:L.touches&&L.touches.length>0?L.touches[0].clientX:0}function y(L,M,s,E){if(M._context.staticPlot)return;var w=L.select("rect."+u.slideBoxClassName).node(),_=L.select("rect."+u.grabAreaMinClassName).node(),D=L.select("rect."+u.grabAreaMaxClassName).node();function N(){var z=g.event,F=z.target,U=l(z),B=U-L.node().getBoundingClientRect().left,V=E.d2p(s._rl[0]),j=E.d2p(s._rl[1]),Q=n.coverSlip();this.addEventListener("touchmove",ee),this.addEventListener("touchend",re),Q.addEventListener("mousemove",ee),Q.addEventListener("mouseup",re);function ee(ue){var J=l(ue),X=+J-U,ne,Y,oe;switch(F){case w:if(oe="ew-resize",V+X>s._length||j+X<0)return;ne=V+X,Y=j+X;break;case _:if(oe="col-resize",V+X>s._length)return;ne=V+X,Y=j;break;case D:if(oe="col-resize",j+X<0)return;ne=V,Y=j+X;break;default:oe="ew-resize",ne=B,Y=B+X;break}if(Y<ne){var le=Y;Y=ne,ne=le}E._pixelMin=ne,E._pixelMax=Y,f(g.select(Q),oe),h(L,M,s,E)}function re(){Q.removeEventListener("mousemove",ee),Q.removeEventListener("mouseup",re),this.removeEventListener("touchmove",ee),this.removeEventListener("touchend",re),C.removeElement(Q)}}L.on("mousedown",N),L.on("touchstart",N)}function h(L,M,s,E){function w(N){return s.l2r(C.constrain(N,E._rl[0],E._rl[1]))}var _=w(E.p2d(E._pixelMin)),D=w(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){R.call("_guiRelayout",M,s._name+".range",[_,D])})}function T(L,M,s,E,w,_){var D=u.handleWidth/2;function N(ue){return C.constrain(ue,0,E._width)}function z(ue){return C.constrain(ue,0,E._height)}function F(ue){return C.constrain(ue,-D,E._width+D)}var U=N(E.d2p(s._rl[0])),B=N(E.d2p(s._rl[1]));if(L.select("rect."+u.slideBoxClassName).attr("x",U).attr("width",B-U),L.select("rect."+u.maskMinClassName).attr("width",U),L.select("rect."+u.maskMaxClassName).attr("x",B).attr("width",E._width-B),_.rangemode!=="match"){var V=E._height-z(E.d2pOppAxis(w._rl[1])),j=E._height-z(E.d2pOppAxis(w._rl[0]));L.select("rect."+u.maskMinOppAxisClassName).attr("x",U).attr("height",V).attr("width",B-U),L.select("rect."+u.maskMaxOppAxisClassName).attr("x",U).attr("y",j).attr("height",E._height-j).attr("width",B-U),L.select("rect."+u.slideBoxClassName).attr("y",V).attr("height",j-V)}var Q=.5,ee=Math.round(F(U-D))-Q,re=Math.round(F(B-D))+Q;L.select("g."+u.grabberMinClassName).attr("transform",S(ee,Q)),L.select("g."+u.grabberMaxClassName).attr("transform",S(re,Q))}function c(L,M,s,E){var w=C.ensureSingle(L,"rect",u.bgClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),_=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,D=-E._offsetShift,N=v.crispRound(M,E.borderwidth);w.attr({width:E._width+_,height:E._height+_,transform:S(D,D),"stroke-width":N}).call(d.stroke,E.bordercolor).call(d.fill,E.bgcolor)}function o(L,M,s,E){var w=M._fullLayout,_=C.ensureSingleById(w._topdefs,"clipPath",E._clipId,function(D){D.append("rect").attr({x:0,y:0})});_.select("rect").attr({width:E._width,height:E._height})}function p(L,M,s,E){var w=M.calcdata,_=L.selectAll("g."+u.rangePlotClassName).data(s._subplotsWith,C.identity);_.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,E._clipId,M),_.order(),_.exit().remove();var D;_.each(function(N,z){var F=g.select(this),U=z===0,B=a.getFromId(M,N,"y"),V=B._name,j=E[V],Q={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:E.range.slice(),calendar:s.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};s.rangebreaks&&(Q.layout.xaxis.rangebreaks=s.rangebreaks),Q.layout[V]={type:B.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(Q.layout[V].rangebreaks=B.rangebreaks),i.supplyDefaults(Q);var ee=Q._fullLayout.xaxis,re=Q._fullLayout[V];ee.clearCalc(),ee.setScale(),re.clearCalc(),re.setScale();var ue={id:N,plotgroup:F,xaxis:ee,yaxis:re,isRangePlot:!0};U?D=ue:(ue.mainplot="xy",ue.mainplotinfo=D),t.rangePlot(M,ue,x(w,N))})}function x(L,M){for(var s=[],E=0;E<L.length;E++){var w=L[E],_=w[0].trace;_.xaxis+_.yaxis===M&&s.push(w)}return s}function b(L,M,s,E,w){var _=C.ensureSingle(L,"rect",u.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});_.attr("height",E._height).call(d.fill,u.maskColor);var D=C.ensureSingle(L,"rect",u.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(D.attr("height",E._height).call(d.fill,u.maskColor),w.rangemode!=="match"){var N=C.ensureSingle(L,"rect",u.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",E._width).call(d.fill,u.maskOppAxisColor);var z=C.ensureSingle(L,"rect",u.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});z.attr("width",E._width).style("border-top",u.maskOppBorder).call(d.fill,u.maskOppAxisColor)}}function P(L,M,s,E){if(!M._context.staticPlot){var w=C.ensureSingle(L,"rect",u.slideBoxClassName,function(_){_.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});w.attr({height:E._height,fill:u.slideBoxFill})}}function m(L,M,s,E){var w=C.ensureSingle(L,"g",u.grabberMinClassName),_=C.ensureSingle(L,"g",u.grabberMaxClassName),D={x:0,width:u.handleWidth,rx:u.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(E._height/4),height:Math.round(E._height/2)},z=C.ensureSingle(w,"rect",u.handleMinClassName,function(j){j.attr(D)});z.attr(N);var F=C.ensureSingle(_,"rect",u.handleMaxClassName,function(j){j.attr(D)});F.attr(N);var U={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:M._context.staticPlot?void 0:u.grabAreaCursor},B=C.ensureSingle(w,"rect",u.grabAreaMinClassName,function(j){j.attr(U)});B.attr("height",E._height);var V=C.ensureSingle(_,"rect",u.grabAreaMaxClassName,function(j){j.attr(U)});V.attr("height",E._height)}},97944:function(G,H,e){var g=e(79811),R=e(72736),i=e(74636),C=e(84284).LINE_SPACING,S=i.name;function v(d){var r=d&&d[S];return r&&r.visible}H.isVisible=v,H.makeData=function(d){var r=g.list({_fullLayout:d},"x",!0),t=d.margin,a=[];if(!d._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){a.push(f);var u=f[S];u._id=S+f._id,u._height=(d.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}d._rangeSliderData=a},H.autoMarginOpts=function(d,r){var t=d._fullLayout,a=r[S],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+a._offsetShift;var l=(r.title.text.match(R.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+f+Math.max(t.margin.b,u),pad:i.extraPad+a._offsetShift*2}}},49692:function(G,H,e){var g=e(3400),R=e(11200),i=e(10936),C=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},R,{yaxis:i})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,H,e){var g=e(13916),R=e(52904).line,i=e(98192).u,C=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},g.xref,{}),yref:C({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:R.color,width:C({},R.width,{min:1,dflt:1}),dash:C({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,H,e){var g=e(3400),R=e(54460),i=e(51272),C=e(93956),S=e(65152);G.exports=function(r,t){i(r,t,{name:"selections",handleItemDefaults:v});for(var a=t.selections,n=0;n<a.length;n++){var f=a[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(d,r,t){function a(w,_){return g.coerce(d,r,C,w,_)}var n=a("path"),f=n?"path":"rect",u=a("type",f),l=u!=="path";l&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var y=["x","y"],h=0;h<2;h++){var T=y[h],c={_fullLayout:t},o,p,x,b=R.coerceRef(d,r,c,T);if(o=R.getFromId(c,b),o._selectionIndices.push(r._index),x=S.rangeToShapePosition(o),p=S.shapePositionToRange(o),l){var P=T+"0",m=T+"1",L=d[P],M=d[m];d[P]=p(d[P],!0),d[m]=p(d[m],!0),R.coercePosition(r,c,a,b,P),R.coercePosition(r,c,a,b,m);var s=r[P],E=r[m];s!==void 0&&E!==void 0&&(r[P]=x(s),r[m]=x(E),d[P]=L,d[m]=M)}}l&&g.noneOrAll(d,r,["x0","x1","y0","y1"])}},23640:function(G,H,e){var g=e(9856).readPaths,R=e(55496),i=e(1936).clearOutlineControllers,C=e(76308),S=e(43616),v=e(31780).arrayEditor,d=e(65152),r=d.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var T=h._fullLayout;i(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var o=T._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var p=0;p<T.selections.length;p++)n(h,p)}function a(h){return h._context.editSelection}function n(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=d.makeSelectionsOptionsAndPlotinfo(h,T),o=c.options,p=c.plotinfo;if(!o._input)return;x(h._fullLayout._selectionLayer);function x(b){var P=r(h,o),m={"data-index":T,"fill-rule":"evenodd",d:P},L=o.opacity,M="rgba(0,0,0,0)",s=o.line.color||C.contrast(h._fullLayout.plot_bgcolor),E=o.line.width,w=o.line.dash;E||(E=5,w="solid");var _=a(h)&&h._fullLayout._activeSelectionIndex===T;_&&(M=h._fullLayout.activeselection.fillcolor,L=h._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var z=b.append("path").attr(m).style("opacity",N?.1:L).call(C.stroke,s).call(C.fill,M).call(S.dashLine,N?"solid":w,N?4+E:E);if(f(z,h,o),_){var F=v(h.layout,"selections",o);z.style({cursor:"move"});var U={element:z.node(),plotinfo:p,gd:h,editHelpers:F,isActiveSelection:!0},B=g(P,h);R(B,z,U)}else z.style("pointer-events",N?"all":"none");D[N]=z}var V=D[0],j=D[1];j.node().addEventListener("click",function(){return u(h,V)})}}function f(h,T,c){var o=c.xref+c.yref;S.setClipUrl(h,"clip"+T._fullLayout._uid+o,T)}function u(h,T){if(a(h)){var c=T.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){y(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=y,t(h)}}}function l(h){if(a(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=y,t(h)}}function y(h){if(a(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(G,H,e){var g=e(98192).u,R=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:R({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,g,R){R("newselection.mode");var i=R("newselection.line.width");i&&(R("newselection.line.color"),R("newselection.line.dash")),R("activeselection.fillcolor"),R("activeselection.opacity")}},5968:function(G,H,e){var g=e(72760),R=g.selectMode,i=e(1936),C=i.clearOutline,S=e(9856),v=S.readPaths,d=S.writePaths,r=S.fixDatesForPaths;G.exports=function(a,n){if(a.length){var f=a[0][0];if(f){var u=f.getAttribute("d"),l=n.gd,y=l._fullLayout.newselection,h=n.plotinfo,T=h.xaxis,c=h.yaxis,o=n.isActiveSelection,p=n.dragmode,x=(l.layout||{}).selections||[];if(!R(p)&&o!==void 0){var b=l._fullLayout._activeSelectionIndex;if(b<x.length)switch(l._fullLayout.selections[b].type){case"rect":p="select";break;case"path":p="lasso";break}}var P=v(u,l,h,o),m={xref:T._id,yref:c._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},L;P.length===1&&(L=P[0]),L&&L.length===5&&p==="select"?(m.type="rect",m.x0=L[0][1],m.y0=L[0][2],m.x1=L[2][1],m.y1=L[2][2]):(m.type="path",T&&c&&r(P,T,c),m.path=d(P),L=null),C(l);for(var M=n.editHelpers,s=(M||{}).modifyItem,E=[],w=0;w<x.length;w++){var _=l._fullLayout.selections[w];if(!_){E[w]=_;continue}if(E[w]=_._input,o!==void 0&&w===l._fullLayout._activeSelectionIndex){var D=m;switch(_.type){case"rect":s("x0",D.x0),s("x1",D.x1),s("y0",D.y0),s("y1",D.y1);break;case"path":s("path",D.path);break}}}return o===void 0?(E.push(m),E):M?M.getUpdateObj():{}}}}},5840:function(G,H,e){var g=e(3400).strTranslate;function R(v,d){switch(v.type){case"log":return v.p2d(d);case"date":return v.p2r(d,0,v.calendar);default:return v.p2r(d)}}function i(v,d){switch(v.type){case"log":return v.d2p(d);case"date":return v.r2p(d,0,v.calendar);default:return v.r2p(d)}}function C(v){var d=v._id.charAt(0)==="y"?1:0;return function(r){return R(v,r[d])}}function S(v){return g(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:R,r2p:i,axValue:C,getTransform:S}},22676:function(G,H,e){var g=e(23640),R=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:R.reselect,prepSelect:R.prepSelect,clearOutline:R.clearOutline,clearSelectionsCache:R.clearSelectionsCache,selectOnClick:R.selectOnClick}},43156:function(G,H,e){var g=e(14756),R=e(61456),i=e(24040),C=e(43616).dashStyle,S=e(76308),v=e(93024),d=e(10624).makeEventData,r=e(72760),t=r.freeMode,a=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),y=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,p=c.readPaths,x=e(93940).newShapes,b=e(5968),P=e(23640).activateLastSelection,m=e(3400),L=m.sorterAsc,M=e(92065),s=e(91200),E=e(79811).getFromId,w=e(73696),_=e(39172).redrawReglTraces,D=e(83280),N=D.MINSELECT,z=M.filter,F=M.tester,U=e(5840),B=U.p2r,V=U.axValue,j=U.getTransform;function Q(We){return We.subplot!==void 0}function ee(We,ze,ke,je,Ie){var pe=!Q(je),we=t(Ie),Ve=a(Ie),Qe=f(Ie),it=n(Ie),st=u(Ie),Wt=Ie==="drawline",jt=Ie==="drawcircle",Tt=Wt||jt,Lt=je.gd,Xt=Lt._fullLayout,Tr=st&&Xt.newselection.mode==="immediate"&&pe,yt=Xt._zoomlayer,Kt=je.element.getBoundingClientRect(),Jt=je.plotinfo,yr=j(Jt),ur=ze-Kt.left,mt=ke-Kt.top;Xt._calcInverseTransform(Lt);var lt=m.apply3DTransform(Xt._invTransform)(ur,mt);ur=lt[0],mt=lt[1];var bt=Xt._invScaleX,Et=Xt._invScaleY,It=ur,Ht=mt,Ut="M"+ur+","+mt,Bt=je.xaxes[0],$t=je.yaxes[0],fr=Bt._length,Zt=$t._length,vr=We.altKey&&!(n(Ie)&&Qe),Ye,Ge,zt,Dt,Qt,nr,ir;Y(We,Lt,je),we&&(Ye=z([[ur,mt]],D.BENDPX));var tr=yt.selectAll("path.select-outline-"+Jt.id).data([1]),Ft=it?Xt.newshape:Xt.newselection;it&&(je.hasText=Ft.label.text||Ft.label.texttemplate);var cr=it&&!Qe?Ft.fillcolor:"rgba(0,0,0,0)",pr=Ft.line.color||(pe?S.contrast(Lt._fullLayout.plot_bgcolor):"#7f7f7f");tr.enter().append("path").attr("class","select-outline select-outline-"+Jt.id).style({opacity:it?Ft.opacity/2:1,"stroke-dasharray":C(Ft.line.dash,Ft.line.width),"stroke-width":Ft.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,pr).call(S.fill,cr).attr("fill-rule","evenodd").classed("cursor-move",!!it).attr("transform",yr).attr("d",Ut+"Z");var br=yt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(it&&je.hasText){var hr=yt.select(".label-temp");hr.empty()&&(hr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Vr=Xt._uid+D.SELECTID,Pr=[],Ir=se(Lt,je.xaxes,je.yaxes,je.subplot);Tr&&!We.shiftKey&&(je._clearSubplotSelections=function(){if(pe){var an=Bt._id,En=$t._id;vt(Lt,an,En,Ir);for(var Mn=(Lt.layout||{}).selections||[],xr=[],_r=!1,Yr=0;Yr<Mn.length;Yr++){var zr=Xt.selections[Yr];zr.xref!==an||zr.yref!==En?xr.push(Mn[Yr]):_r=!0}_r&&(Lt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Lt,{selections:xr}))}});var sn=tt(je);je.moveFn=function(an,En){je._clearSubplotSelections&&(je._clearSubplotSelections(),je._clearSubplotSelections=void 0),It=Math.max(0,Math.min(fr,bt*an+ur)),Ht=Math.max(0,Math.min(Zt,Et*En+mt));var Mn=Math.abs(It-ur),xr=Math.abs(Ht-mt);if(Ve){var _r,Yr,zr;if(st){var gn=Xt.selectdirection;switch(gn==="any"?xr<Math.min(Mn*.6,N)?_r="h":Mn<Math.min(xr*.6,N)?_r="v":_r="d":_r=gn,_r){case"h":Yr=jt?Zt/2:0,zr=Zt;break;case"v":Yr=jt?fr/2:0,zr=fr;break}}if(it)switch(Xt.newshape.drawdirection){case"vertical":_r="h",Yr=jt?Zt/2:0,zr=Zt;break;case"horizontal":_r="v",Yr=jt?fr/2:0,zr=fr;break;case"ortho":Mn<xr?(_r="h",Yr=mt,zr=Ht):(_r="v",Yr=ur,zr=It);break;default:_r="d"}_r==="h"?(Dt=Tt?o(jt,[It,Yr],[It,zr]):[[ur,Yr],[ur,zr],[It,zr],[It,Yr]],Dt.xmin=Tt?It:Math.min(ur,It),Dt.xmax=Tt?It:Math.max(ur,It),Dt.ymin=Math.min(Yr,zr),Dt.ymax=Math.max(Yr,zr),br.attr("d","M"+Dt.xmin+","+(mt-N)+"h-4v"+2*N+"h4ZM"+(Dt.xmax-1)+","+(mt-N)+"h4v"+2*N+"h-4Z")):_r==="v"?(Dt=Tt?o(jt,[Yr,Ht],[zr,Ht]):[[Yr,mt],[Yr,Ht],[zr,Ht],[zr,mt]],Dt.xmin=Math.min(Yr,zr),Dt.xmax=Math.max(Yr,zr),Dt.ymin=Tt?Ht:Math.min(mt,Ht),Dt.ymax=Tt?Ht:Math.max(mt,Ht),br.attr("d","M"+(ur-N)+","+Dt.ymin+"v-4h"+2*N+"v4ZM"+(ur-N)+","+(Dt.ymax-1)+"v4h"+2*N+"v-4Z")):_r==="d"&&(Dt=Tt?o(jt,[ur,mt],[It,Ht]):[[ur,mt],[ur,Ht],[It,Ht],[It,mt]],Dt.xmin=Math.min(ur,It),Dt.xmax=Math.max(ur,It),Dt.ymin=Math.min(mt,Ht),Dt.ymax=Math.max(mt,Ht),br.attr("d","M0,0Z"))}else we&&(Ye.addPt([It,Ht]),Dt=Ye.filtered);if(je.selectionDefs&&je.selectionDefs.length?(zt=xe(je.mergedPolygons,Dt,vr),Dt.subtract=vr,Ge=ne(je.selectionDefs.concat([Dt]))):(zt=[Dt],Ge=F(Dt)),h(Ue(zt,Qe),tr,je),st){var dn=De(Lt,!1),Rn=dn.eventData?dn.eventData.points.slice():[];dn=De(Lt,!1,Ge,Ir,je),Ge=dn.selectionTesters,ir=dn.eventData;var In;Ye?In=Ye.filtered:In=gt(zt),s.throttle(Vr,D.SELECTDELAY,function(){Pr=Ne(Ge,Ir);for(var Wn=Pr.slice(),oa=0;oa<Rn.length;oa++){for(var ma=Rn[oa],Ta=!1,Yn=0;Yn<Wn.length;Yn++)if(Wn[Yn].curveNumber===ma.curveNumber&&Wn[Yn].pointNumber===ma.pointNumber){Ta=!0;break}Ta||Wn.push(ma)}Wn.length&&(ir||(ir={}),ir.points=Wn),sn(ir,In),Oe(Lt,ir)})}},je.clickFn=function(an,En){if(br.remove(),Lt._fullLayout._activeShapeIndex>=0){Lt._fullLayout._deactivateShape(Lt);return}if(!it){var Mn=Xt.clickmode;s.done(Vr).then(function(){if(s.clear(Vr),an===2){for(tr.remove(),Qt=0;Qt<Ir.length;Qt++)nr=Ir[Qt],nr._module.selectPoints(nr,!1);if(be(Lt,Ir),Z(je),Ze(Lt),Ir.length){var xr=Ir[0].xaxis,_r=Ir[0].yaxis;if(xr&&_r){for(var Yr=[],zr=Lt._fullLayout.selections,gn=0;gn<zr.length;gn++){var dn=zr[gn];dn&&(dn.xref!==xr._id||dn.yref!==_r._id)&&Yr.push(dn)}Yr.length<zr.length&&(Lt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Lt,{selections:Yr}))}}}else Mn.indexOf("select")>-1&&re(En,Lt,je.xaxes,je.yaxes,je.subplot,je,tr),Mn==="event"&&Xe(Lt,void 0);v.click(Lt,En,Jt.id)}).catch(m.error)}},je.doneFn=function(){br.remove(),s.done(Vr).then(function(){s.clear(Vr),!Tr&&Dt&&je.selectionDefs&&(Dt.subtract=vr,je.selectionDefs.push(Dt),je.mergedPolygons.length=0,[].push.apply(je.mergedPolygons,zt)),(Tr||it)&&Z(je,Tr),je.doneFnCompleted&&je.doneFnCompleted(Pr),st&&Xe(Lt,ir)}).catch(m.error)}}function re(We,ze,ke,je,Ie,pe,we){var Ve=ze._hoverdata,Qe=ze._fullLayout,it=Qe.clickmode,st=it.indexOf("event")>-1,Wt=[],jt,Tt,Lt,Xt,Tr,yt,Kt,Jt,yr,ur;if(he(Ve)){Y(We,ze,pe),jt=se(ze,ke,je,Ie);var mt=me(Ve,jt),lt=mt.pointNumbers.length>0;if(lt?Te(jt,mt):Pe(jt)&&(Kt=Me(mt))){for(we&&we.remove(),ur=0;ur<jt.length;ur++)Tt=jt[ur],Tt._module.selectPoints(Tt,!1);be(ze,jt),Z(pe),st&&Ze(ze)}else{Jt=We.shiftKey&&(Kt!==void 0?Kt:Me(mt)),Lt=ue(mt.pointNumber,mt.searchInfo,Jt);var bt=pe.selectionDefs.concat([Lt]);for(Xt=ne(bt),ur=0;ur<jt.length;ur++)if(Tr=jt[ur]._module.selectPoints(jt[ur],Xt),yt=Ce(Tr,jt[ur]),Wt.length)for(var Et=0;Et<yt.length;Et++)Wt.push(yt[Et]);else Wt=yt;if(yr={points:Wt},be(ze,jt,yr),Lt&&pe&&pe.selectionDefs.push(Lt),we){var It=pe.mergedPolygons,Ht=f(pe.dragmode);h(Ue(It,Ht),we,pe)}st&&Xe(ze,yr)}}}function ue(We,ze,ke){return{pointNumber:We,searchInfo:ze,subtract:!!ke}}function J(We){return"pointNumber"in We&&"searchInfo"in We}function X(We){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ze,ke,je,Ie){var pe=We.searchInfo.cd[0].trace._expandedIndex,we=Ie.cd[0].trace._expandedIndex;return we===pe&&je===We.pointNumber},isRect:!1,degenerate:!1,subtract:!!We.subtract}}function ne(We){if(!We.length)return;for(var ze=[],ke=J(We[0])?0:We[0][0][0],je=ke,Ie=J(We[0])?0:We[0][0][1],pe=Ie,we=0;we<We.length;we++)if(J(We[we]))ze.push(X(We[we]));else{var Ve=F(We[we]);Ve.subtract=!!We[we].subtract,ze.push(Ve),ke=Math.min(ke,Ve.xmin),je=Math.max(je,Ve.xmax),Ie=Math.min(Ie,Ve.ymin),pe=Math.max(pe,Ve.ymax)}function Qe(it,st,Wt,jt){for(var Tt=!1,Lt=0;Lt<ze.length;Lt++)ze[Lt].contains(it,st,Wt,jt)&&(Tt=!ze[Lt].subtract);return Tt}return{xmin:ke,xmax:je,ymin:Ie,ymax:pe,pts:[],contains:Qe,isRect:!1,degenerate:!1}}function Y(We,ze,ke){var je=ze._fullLayout,Ie=ke.plotinfo,pe=ke.dragmode,we=je._lastSelectedSubplot&&je._lastSelectedSubplot===Ie.id,Ve=(We.shiftKey||We.altKey)&&!(n(pe)&&f(pe));we&&Ve&&Ie.selection&&Ie.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=Ie.selection.selectionDefs,ke.mergedPolygons=Ie.selection.mergedPolygons):(!Ve||!Ie.selection)&&Z(ke),we||(T(ze),je._lastSelectedSubplot=Ie.id)}function oe(We){return We._fullLayout._activeShapeIndex>=0}function le(We){return We._fullLayout._activeSelectionIndex>=0}function Z(We,ze){var ke=We.dragmode,je=We.plotinfo,Ie=We.gd;oe(Ie)&&Ie._fullLayout._deactivateShape(Ie),le(Ie)&&Ie._fullLayout._deactivateSelection(Ie);var pe=Ie._fullLayout,we=pe._zoomlayer,Ve=n(ke),Qe=u(ke);if(Ve||Qe){var it=we.selectAll(".select-outline-"+je.id);if(it&&Ie._fullLayout._outlining){var st;Ve&&(st=x(it,We)),st&&i.call("_guiRelayout",Ie,{shapes:st});var Wt;Qe&&!Q(We)&&(Wt=b(it,We)),Wt&&(Ie._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Ie,{selections:Wt}).then(function(){ze&&P(Ie)})),Ie._fullLayout._outlining=!1}}je.selection={},je.selection.selectionDefs=We.selectionDefs=[],je.selection.mergedPolygons=We.mergedPolygons=[]}function $(We){return We._id}function se(We,ze,ke,je){if(!We.calcdata)return[];var Ie=[],pe=ze.map($),we=ke.map($),Ve,Qe,it;for(it=0;it<We.calcdata.length;it++)if(Ve=We.calcdata[it],Qe=Ve[0].trace,!(Qe.visible!==!0||!Qe._module||!Qe._module.selectPoints))if(Q({subplot:je})&&(Qe.subplot===je||Qe.geo===je))Ie.push(ae(Qe._module,Ve,ze[0],ke[0]));else if(Qe.type==="splom"){if(Qe._xaxes[pe[0]]&&Qe._yaxes[we[0]]){var st=ae(Qe._module,Ve,ze[0],ke[0]);st.scene=We._fullLayout._splomScenes[Qe.uid],Ie.push(st)}}else if(Qe.type==="sankey"){var Wt=ae(Qe._module,Ve,ze[0],ke[0]);Ie.push(Wt)}else{if(pe.indexOf(Qe.xaxis)===-1&&(!Qe._xA||!Qe._xA.overlaying)||we.indexOf(Qe.yaxis)===-1&&(!Qe._yA||!Qe._yA.overlaying))continue;Ie.push(ae(Qe._module,Ve,E(We,Qe.xaxis),E(We,Qe.yaxis)))}return Ie}function ae(We,ze,ke,je){return{_module:We,cd:ze,xaxis:ke,yaxis:je}}function he(We){return We&&Array.isArray(We)&&We[0].hoverOnBox!==!0}function me(We,ze){var ke=We[0],je=-1,Ie=[],pe,we;for(we=0;we<ze.length;we++)if(pe=ze[we],ke.fullData._expandedIndex===pe.cd[0].trace._expandedIndex){if(ke.hoverOnBox===!0)break;ke.pointNumber!==void 0?je=ke.pointNumber:ke.binNumber!==void 0&&(je=ke.binNumber,Ie=ke.pointNumbers);break}return{pointNumber:je,pointNumbers:Ie,searchInfo:pe}}function Me(We){var ze=We.searchInfo.cd[0].trace,ke=We.pointNumber,je=We.pointNumbers,Ie=je.length>0,pe=Ie?je[0]:ke;return ze.selectedpoints?ze.selectedpoints.indexOf(pe)>-1:!1}function Te(We,ze){var ke=[],je,Ie,pe,we;for(we=0;we<We.length;we++)je=We[we],je.cd[0].trace.selectedpoints&&je.cd[0].trace.selectedpoints.length>0&&ke.push(je);if(ke.length===1&&(pe=ke[0]===ze.searchInfo,pe&&(Ie=ze.searchInfo.cd[0].trace,Ie.selectedpoints.length===ze.pointNumbers.length))){for(we=0;we<ze.pointNumbers.length;we++)if(Ie.selectedpoints.indexOf(ze.pointNumbers[we])<0)return!1;return!0}return!1}function Pe(We){var ze=0,ke,je,Ie;for(Ie=0;Ie<We.length;Ie++)if(ke=We[Ie],je=ke.cd[0].trace,je.selectedpoints&&(je.selectedpoints.length>1||(ze+=je.selectedpoints.length,ze>1)))return!1;return ze===1}function be(We,ze,ke){var je;for(je=0;je<ze.length;je++){var Ie=ze[je].cd[0].trace._fullInput,pe=We._fullLayout._tracePreGUI[Ie.uid]||{};pe.selectedpoints===void 0&&(pe.selectedpoints=Ie._input.selectedpoints||null)}var we;if(ke){var Ve=ke.points||[];for(je=0;je<ze.length;je++)we=ze[je].cd[0].trace,we._input.selectedpoints=we._fullInput.selectedpoints=[],we._fullInput!==we&&(we.selectedpoints=[]);for(var Qe=0;Qe<Ve.length;Qe++){var it=Ve[Qe],st=it.data,Wt=it.fullData,jt=it.pointIndex,Tt=it.pointIndices;Tt?([].push.apply(st.selectedpoints,Tt),we._fullInput!==we&&[].push.apply(Wt.selectedpoints,Tt)):(st.selectedpoints.push(jt),we._fullInput!==we&&Wt.selectedpoints.push(jt))}}else for(je=0;je<ze.length;je++)we=ze[je].cd[0].trace,delete we.selectedpoints,delete we._input.selectedpoints,we._fullInput!==we&&delete we._fullInput.selectedpoints;Ee(We,ze)}function Ee(We,ze){for(var ke=!1,je=0;je<ze.length;je++){var Ie=ze[je],pe=Ie.cd;i.traceIs(pe[0].trace,"regl")&&(ke=!0);var we=Ie._module,Ve=we.styleOnSelect||we.style;Ve&&(Ve(We,pe,pe[0].node3),pe[0].nodeRangePlot3&&Ve(We,pe,pe[0].nodeRangePlot3))}ke&&(w(We),_(We))}function xe(We,ze,ke){for(var je=ke?g.difference:g.union,Ie=je({regions:We},{regions:[ze]}),pe=Ie.regions.reverse(),we=0;we<pe.length;we++){var Ve=pe[we];Ve.subtract=ct(Ve,pe.slice(0,we))}return pe}function Ce(We,ze){if(Array.isArray(We))for(var ke=ze.cd,je=ze.cd[0].trace,Ie=0;Ie<We.length;Ie++)We[Ie]=d(We[Ie],je,ke);return We}function Ue(We,ze){for(var ke=[],je=0;je<We.length;je++){ke[je]=[];for(var Ie=0;Ie<We[je].length;Ie++){ke[je][Ie]=[],ke[je][Ie][0]=Ie?"L":"M";for(var pe=0;pe<We[je][Ie].length;pe++)ke[je][Ie].push(We[je][Ie][pe])}ze||ke[je].push(["Z",ke[je][0][1],ke[je][0][2]])}return ke}function Ne(We,ze){for(var ke=[],je,Ie,pe=0;pe<ze.length;pe++){var we=ze[pe];Ie=we._module.selectPoints(we,We),je=Ce(Ie,we),ke=ke.concat(je)}return ke}function De(We,ze,ke,je,Ie){var pe=!!je,we,Ve,Qe;Ie&&(we=Ie.plotinfo,Ve=Ie.xaxes[0]._id,Qe=Ie.yaxes[0]._id);var it=[],st=[],Wt=et(We),jt=We._fullLayout;if(we){var Tt=jt._zoomlayer,Lt=jt.dragmode,Xt=n(Lt),Tr=u(Lt);if(Xt||Tr){var yt=E(We,Ve,"x"),Kt=E(We,Qe,"y");if(yt&&Kt){var Jt=Tt.selectAll(".select-outline-"+we.id);if(Jt&&We._fullLayout._outlining&&Jt.length){for(var yr=Jt[0][0],ur=yr.getAttribute("d"),mt=p(ur,We,we),lt=[],bt=0;bt<mt.length;bt++){for(var Et=mt[bt],It=[],Ht=0;Ht<Et.length;Ht++)It.push([ht(yt,Et[Ht][1]),ht(Kt,Et[Ht][2])]);It.xref=Ve,It.yref=Qe,It.subtract=ct(It,lt),lt.push(It)}Wt=Wt.concat(lt)}}}}var Ut=Ve&&Qe?[Ve+Qe]:jt._subplots.cartesian;He(We);for(var Bt={},$t=0;$t<Ut.length;$t++){var fr=Ut[$t],Zt=fr.indexOf("y"),vr=fr.slice(0,Zt),Ye=fr.slice(Zt),Ge=Ve&&Qe?ke:void 0;if(Ge=ot(Wt,vr,Ye,Ge),Ge){var zt=je;if(!pe){var Dt=E(We,vr,"x"),Qt=E(We,Ye,"y");zt=se(We,[Dt],[Qt],fr);for(var nr=0;nr<zt.length;nr++){var ir=zt[nr],tr=ir.cd[0],Ft=tr.trace;if(ir._module.name==="scattergl"&&!tr.t.xpx){var cr=Ft.x,pr=Ft.y,br=Ft._length;tr.t.xpx=[],tr.t.ypx=[];for(var hr=0;hr<br;hr++)tr.t.xpx[hr]=Dt.c2p(cr[hr]),tr.t.ypx[hr]=Qt.c2p(pr[hr])}ir._module.name==="splom"&&(Bt[Ft.uid]||(Bt[Ft.uid]=!0))}}var Vr=Ne(Ge,zt);it=it.concat(Vr),st=st.concat(zt)}}var Pr={points:it};be(We,st,Pr);var Ir=jt.clickmode,sn=Ir.indexOf("event")>-1&&ze;if(!we&&ze){var an=et(We,!0);if(an.length){var En=an[0].xref,Mn=an[0].yref;if(En&&Mn){var xr=gt(an),_r=Mt([E(We,En,"x"),E(We,Mn,"y")]);_r(Pr,xr)}}We._fullLayout._noEmitSelectedAtStart?We._fullLayout._noEmitSelectedAtStart=!1:sn&&Xe(We,Pr),jt._reselect=!1}if(!we&&jt._deselect){var Yr=jt._deselect;Ve=Yr.xref,Qe=Yr.yref,at(Ve,Qe,st)||vt(We,Ve,Qe,je),sn&&(Pr.points.length?Xe(We,Pr):Ze(We)),jt._deselect=!1}return{eventData:Pr,selectionTesters:ke}}function He(We){var ze=We.calcdata;if(ze)for(var ke=0;ke<ze.length;ke++){var je=ze[ke][0],Ie=je.trace,pe=We._fullLayout._splomScenes;if(pe){var we=pe[Ie.uid];we&&(we.selectBatch=[])}}}function at(We,ze,ke){for(var je=0;je<ke.length;je++){var Ie=ke[je];if(Ie.xaxis&&Ie.xaxis._id===We&&Ie.yaxis&&Ie.yaxis._id===ze)return!0}return!1}function vt(We,ze,ke,je){je=se(We,[E(We,ze,"x")],[E(We,ke,"y")],ze+ke);for(var Ie=0;Ie<je.length;Ie++){var pe=je[Ie];pe._module.selectPoints(pe,!1)}be(We,je)}function ot(We,ze,ke,je){for(var Ie,pe=0;pe<We.length;pe++){var we=We[pe];if(!(ze!==we.xref||ke!==we.yref))if(Ie){var Ve=!!we.subtract;Ie=xe(Ie,we,Ve),je=ne(Ie)}else Ie=[we],je=F(we)}return je}function et(We,ze){for(var ke=[],je=We._fullLayout,Ie=je.selections,pe=Ie.length,we=0;we<pe;we++)if(!(ze&&we!==je._activeSelectionIndex)){var Ve=Ie[we];if(Ve){var Qe=Ve.xref,it=Ve.yref,st=E(We,Qe,"x"),Wt=E(We,it,"y"),jt,Tt,Lt,Xt,Tr;if(Ve.type==="rect"){Tr=[];var yt=ht(st,Ve.x0),Kt=ht(st,Ve.x1),Jt=ht(Wt,Ve.y0),yr=ht(Wt,Ve.y1);Tr=[[yt,Jt],[yt,yr],[Kt,yr],[Kt,Jt]],jt=Math.min(yt,Kt),Tt=Math.max(yt,Kt),Lt=Math.min(Jt,yr),Xt=Math.max(Jt,yr),Tr.xmin=jt,Tr.xmax=Tt,Tr.ymin=Lt,Tr.ymax=Xt,Tr.xref=Qe,Tr.yref=it,Tr.subtract=!1,Tr.isRect=!0,ke.push(Tr)}else if(Ve.type==="path")for(var ur=Ve.path.split("Z"),mt=[],lt=0;lt<ur.length;lt++){var bt=ur[lt];if(bt){bt+="Z";var Et=l.extractPathCoords(bt,y.paramIsX,"raw"),It=l.extractPathCoords(bt,y.paramIsY,"raw");jt=1/0,Tt=-1/0,Lt=1/0,Xt=-1/0,Tr=[];for(var Ht=0;Ht<Et.length;Ht++){var Ut=ht(st,Et[Ht]),Bt=ht(Wt,It[Ht]);Tr.push([Ut,Bt]),jt=Math.min(Ut,jt),Tt=Math.max(Ut,Tt),Lt=Math.min(Bt,Lt),Xt=Math.max(Bt,Xt)}Tr.xmin=jt,Tr.xmax=Tt,Tr.ymin=Lt,Tr.ymax=Xt,Tr.xref=Qe,Tr.yref=it,Tr.subtract=ct(Tr,mt),mt.push(Tr),ke.push(Tr)}}}}return ke}function ct(We,ze){for(var ke=!1,je=0;je<ze.length;je++)for(var Ie=ze[je],pe=0;pe<We.length;pe++)if(R(We[pe],Ie)){ke=!ke;break}return ke}function ht(We,ze){return We.type==="date"&&(ze=ze.replace("_"," ")),We.type==="log"?We.c2p(ze):We.r2p(ze,null,We.calendar)}function gt(We){for(var ze=We.length,ke=[],je=0;je<ze;je++){var Ie=We[je];ke=ke.concat(Ie),ke=ke.concat([Ie[0]])}return xt(ke)}function xt(We){return We.isRect=We.length===5&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We}function Mt(We){return function(ze,ke){for(var je,Ie,pe=0;pe<We.length;pe++){var we=We[pe],Ve=we._id,Qe=Ve.charAt(0);if(ke.isRect){je||(je={});var it=ke[Qe+"min"],st=ke[Qe+"max"];it!==void 0&&st!==void 0&&(je[Ve]=[B(we,it),B(we,st)].sort(L))}else Ie||(Ie={}),Ie[Ve]=ke.map(V(we))}je&&(ze.range=je),Ie&&(ze.lassoPoints=Ie)}}function tt(We){var ze=We.plotinfo;return ze.fillRangeItems||Mt(We.xaxes.concat(We.yaxes))}function Oe(We,ze){We.emit("plotly_selecting",ze)}function Xe(We,ze){ze&&(ze.selections=(We.layout||{}).selections||[]),We.emit("plotly_selected",ze)}function Ze(We){We.emit("plotly_deselect",null)}G.exports={reselect:De,prepSelect:ee,clearOutline:T,clearSelectionsCache:Z,selectOnClick:re}},46056:function(G,H,e){var g=e(13916),R=e(25376),i=e(52904).line,C=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var d=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:S({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},d.legend,{editType:"calc+arraydraw"}),legendgroup:S({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:R({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},i.color,{editType:"arraydraw"}),width:S({},i.width,{editType:"calc+arraydraw"}),dash:S({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,H,e){var g=e(3400),R=e(54460),i=e(85448),C=e(65152);G.exports=function(a){var n=a._fullLayout,f=g.filterVisible(n.shapes);if(!(!f.length||!a._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var y,h,T=R.getRefType(l.xref),c=R.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,p=l.xsizemode==="pixel"?l.xanchor:l.x1;y=R.getFromId(a,l.xref),h=r(y,o,p,l.path,i.paramIsX),h&&(l._extremes[y._id]=R.findExtremes(y,h,S(l)))}if(l.yref!=="paper"&&c!=="domain"){var x=l.ysizemode==="pixel"?l.yanchor:l.y0,b=l.ysizemode==="pixel"?l.yanchor:l.y1;y=R.getFromId(a,l.yref),h=r(y,x,b,l.path,i.paramIsY),h&&(l._extremes[y._id]=R.findExtremes(y,h,v(l)))}}};function S(t){return d(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return d(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function d(t,a,n,f,u,l){var y=t/2,h=l;if(a==="pixel"){var T=u?C.extractPathCoords(u,l?i.paramIsY:i.paramIsX):[n,f],c=g.aggNums(Math.max,null,T),o=g.aggNums(Math.min,null,T),p=o<0?Math.abs(o)+y:y,x=c>0?c+y:y;return{ppad:y,ppadplus:h?p:x,ppadminus:h?x:p}}else return{ppad:y}}function r(t,a,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(a!==void 0)return[l(a),l(n)];if(f){var y=1/0,h=-1/0,T=f.match(i.segmentRE),c,o,p,x,b;for(t.type==="date"&&(l=C.decodeDate(l)),c=0;c<T.length;c++)o=T[c],p=u[o.charAt(0)].drawn,p!==void 0&&(x=T[c].substr(1).match(i.paramRE),!(!x||x.length<p)&&(b=l(x[p]),b<y&&(y=b),b>h&&(h=b)));if(h>=y)return[y,h]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,H,e){var g=e(3400),R=e(54460),i=e(51272),C=e(46056),S=e(65152);G.exports=function(t,a){i(t,a,{name:"shapes",handleItemDefaults:d})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function d(r,t,a){function n(J,X){return g.coerce(r,t,C,J,X)}t._isShape=!0;var f=n("visible");if(f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),y=l?"path":"rect",h=n("type",y),T=h!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),p=n("ysizemode"),x=["x","y"],b=0;b<2;b++){var P=x[b],m=P+"anchor",L=P==="x"?o:p,M={_fullLayout:a},s,E,w,_=R.coerceRef(r,t,M,P,void 0,"paper"),D=R.getRefType(_);if(D==="range"?(s=R.getFromId(M,_),s._shapeIndices.push(t._index),w=S.rangeToShapePosition(s),E=S.shapePositionToRange(s)):E=w=g.identity,T){var N=.25,z=.75,F=P+"0",U=P+"1",B=r[F],V=r[U];r[F]=E(r[F],!0),r[U]=E(r[U],!0),L==="pixel"?(n(F,0),n(U,10)):(R.coercePosition(t,M,n,_,F,N),R.coercePosition(t,M,n,_,U,z)),t[F]=w(t[F]),t[U]=w(t[U]),r[F]=B,r[U]=V}if(L==="pixel"){var j=r[m];r[m]=E(r[m],!0),R.coercePosition(t,M,n,_,m,.25),t[m]=w(t[m]),r[m]=j}}T&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var Q=h==="line",ee,re;if(T&&(ee=n("label.texttemplate")),ee||(re=n("label.text")),re||ee){n("label.textangle");var ue=n("label.textposition",Q?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(Q,ue)),n("label.padding"),g.coerceFont(n,"label.font",a.font)}}}},60728:function(G,H,e){var g=e(3400),R=e(54460),i=e(72736),C=e(43616),S=e(9856).readPaths,v=e(65152),d=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(u,l,y,h){if(h.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var T;if(y.label.texttemplate){var c={};if(y.type!=="path"){var o=R.getFromId(u,y.xref),p=R.getFromId(u,y.yref);for(var x in r){var b=r[x](y,o,p);b!==void 0&&(c[x]=b)}}T=g.texttemplateStringForShapes(y.label.texttemplate,{},u._fullLayout._d3locale,c)}else T=y.label.text;var P={"data-index":l},m=y.label.font,L={"data-notex":1},M=h.append("g").attr(P).classed("shape-label",!0),s=M.append("text").attr(L).classed("shape-label-text",!0).text(T),E,w,_,D;if(y.path){var N=d(u,y),z=S(N,u);E=1/0,_=1/0,w=-1/0,D=-1/0;for(var F=0;F<z.length;F++)for(var U=0;U<z[F].length;U++)for(var B=z[F][U],V=1;V<B.length;V+=2){var j=B[V],Q=B[V+1];E=Math.min(E,j),w=Math.max(w,j),_=Math.min(_,Q),D=Math.max(D,Q)}}else{var ee=R.getFromId(u,y.xref),re=R.getRefType(y.xref),ue=R.getFromId(u,y.yref),J=R.getRefType(y.yref),X=v.getDataToPixel(u,ee,!1,re),ne=v.getDataToPixel(u,ue,!0,J);E=X(y.x0),w=X(y.x1),_=ne(y.y0),D=ne(y.y1)}var Y=y.label.textangle;Y==="auto"&&(y.type==="line"?Y=a(E,_,w,D):Y=0),s.call(function(ae){return ae.call(C.font,m).attr({}),i.convertToTspans(ae,u),ae});var oe=C.bBox(s.node()),le=n(E,_,w,D,y,Y,oe),Z=le.textx,$=le.texty,se=le.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:$,x:Z,transform:"rotate("+Y+","+Z+","+$+")"}).call(i.positionText,Z,$)}};function a(f,u,l,y){var h,T;return T=Math.abs(l-f),l>=f?h=u-y:h=y-u,-180/Math.PI*Math.atan2(h,T)}function n(f,u,l,y,h,T,c){var o=h.label.textposition,p=h.label.textangle,x=h.label.padding,b=h.type,P=Math.PI/180*T,m=Math.sin(P),L=Math.cos(P),M=h.label.xanchor,s=h.label.yanchor,E,w,_,D;if(b==="line"){o==="start"?(E=f,w=u):o==="end"?(E=l,w=y):(E=(f+l)/2,w=(u+y)/2),M==="auto"&&(o==="start"?p==="auto"?l>f?M="left":l<f?M="right":M="center":l>f?M="right":l<f?M="left":M="center":o==="end"?p==="auto"?l>f?M="right":l<f?M="left":M="center":l>f?M="left":l<f?M="right":M="center":M="center");var N={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(p==="auto"){var F=z[s];_=-x*m*F,D=x*L*F}else{var U=N[M],B=z[s];_=x*U,D=x*B}E=E+_,w=w+D}else _=x+3,o.indexOf("right")!==-1?(E=Math.max(f,l)-_,M==="auto"&&(M="right")):o.indexOf("left")!==-1?(E=Math.min(f,l)+_,M==="auto"&&(M="left")):(E=(f+l)/2,M==="auto"&&(M="center")),o.indexOf("top")!==-1?w=Math.min(u,y):o.indexOf("bottom")!==-1?w=Math.max(u,y):w=(u+y)/2,D=x,s==="bottom"?w=w-D:s==="top"&&(w=w+D);var V=t[s],j=h.label.font.size,Q=c.height,ee=(Q*V-j)*m,re=-(Q*V-j)*L;return{textx:E+ee,texty:w+re,xanchor:M}}},55496:function(G,H,e){var g=e(3400),R=g.strTranslate,i=e(86476),C=e(72760),S=C.drawMode,v=C.selectMode,d=e(24040),r=e(76308),t=e(7e3),a=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),y=l.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,p=e(93940).newShapes,x=e(93940).createShapeObj,b=e(5968),P=e(60728);G.exports=function s(E,w,_,D){D||(D=0);var N=_.gd;function z(){s(E,w,_,D++),(c(E[0])||_.hasText)&&F({redrawing:!0})}function F(xe){var Ce={};_.isActiveShape!==void 0&&(_.isActiveShape=!1,Ce=p(w,_)),_.isActiveSelection!==void 0&&(_.isActiveSelection=!1,Ce=b(w,_),N._fullLayout._reselect=!0),Object.keys(Ce).length&&d.call((xe||{}).redrawing?"relayout":"_guiRelayout",N,Ce)}var U=N._fullLayout,B=U._zoomlayer,V=_.dragmode,j=S(V),Q=v(V);(j||Q)&&(N._fullLayout._outlining=!0),y(N),w.attr("d",o(E));var ee,re,ue,J,X;if(!D&&(_.isActiveShape||_.isActiveSelection)){X=m([],E);var ne=B.append("g").attr("class","outline-controllers");he(ne),Ee()}if(j&&_.hasText){var Y=B.select(".label-temp"),oe=x(w,_,_.dragmode);P(N,"label-temp",oe,Y)}function le(xe){ue=+xe.srcElement.getAttribute("data-i"),J=+xe.srcElement.getAttribute("data-j"),ee[ue][J].moveFn=Z}function Z(xe,Ce){if(E.length){var Ue=X[ue][J][1],Ne=X[ue][J][2],De=E[ue],He=De.length;if(T(De)){var at=xe,vt=Ce;if(_.isActiveSelection){var ot=L(De,J);ot[1]===De[J][1]?vt=0:at=0}for(var et=0;et<He;et++)if(et!==J){var ct=De[et];ct[1]===De[J][1]&&(ct[1]=Ue+at),ct[2]===De[J][2]&&(ct[2]=Ne+vt)}if(De[J][1]=Ue+at,De[J][2]=Ne+vt,!T(De))for(var ht=0;ht<He;ht++)for(var gt=0;gt<De[ht].length;gt++)De[ht][gt]=X[ue][ht][gt]}else De[J][1]=Ue+xe,De[J][2]=Ne+Ce;z()}}function $(){F()}function se(){if(E.length&&E[ue]&&E[ue].length){for(var xe=[],Ce=0;Ce<E[ue].length;Ce++)Ce!==J&&xe.push(E[ue][Ce]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(J===0&&(xe[0][0]="M"),E[ue]=xe,z(),F())}}function ae(xe,Ce){if(xe===2){ue=+Ce.srcElement.getAttribute("data-i"),J=+Ce.srcElement.getAttribute("data-j");var Ue=E[ue];!T(Ue)&&!c(Ue)&&se()}}function he(xe){ee=[];for(var Ce=0;Ce<E.length;Ce++){var Ue=E[Ce],Ne=T(Ue),De=!Ne&&c(Ue);ee[Ce]=[];for(var He=Ue.length,at=0;at<He;at++)if(Ue[at][0]!=="Z"&&!(De&&at!==a&&at!==n&&at!==f&&at!==u)){var vt=Ne&&_.isActiveSelection,ot;vt&&(ot=L(Ue,at));var et=Ue[at][1],ct=Ue[at][2],ht=xe.append(vt?"rect":"circle").attr("data-i",Ce).attr("data-j",at).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(vt){var gt=ot[1]-et,xt=ot[2]-ct,Mt=xt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),tt=gt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);ht.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",tt).attr("x",et-Mt/2).attr("y",ct-tt/2).attr("transform",R(gt/2,xt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ct);ee[Ce][at]={element:ht.node(),gd:N,prepFn:le,doneFn:$,clickFn:ae},i.init(ee[Ce][at])}}}function me(xe,Ce){if(E.length)for(var Ue=0;Ue<E.length;Ue++)for(var Ne=0;Ne<E[Ue].length;Ne++)for(var De=0;De+2<E[Ue][Ne].length;De+=2)E[Ue][Ne][De+1]=X[Ue][Ne][De+1]+xe,E[Ue][Ne][De+2]=X[Ue][Ne][De+2]+Ce}function Me(xe,Ce){me(xe,Ce),z()}function Te(xe){ue=+xe.srcElement.getAttribute("data-i"),ue||(ue=0),re[ue].moveFn=Me}function Pe(){F()}function be(xe){xe===2&&M(N)}function Ee(){if(re=[],!!E.length){var xe=0;re[xe]={element:w[0][0],gd:N,prepFn:Te,doneFn:Pe,clickFn:be},i.init(re[xe])}}};function m(s,E){for(var w=0;w<E.length;w++){var _=E[w];s[w]=[];for(var D=0;D<_.length;D++){s[w][D]=[];for(var N=0;N<_[D].length;N++)s[w][D][N]=_[D][N]}}return s}function L(s,E){var w=s[E][1],_=s[E][2],D=s.length,N,z,F;return N=(E+1)%D,z=s[N][1],F=s[N][2],z===w&&F===_&&(N=(E+2)%D,z=s[N][1],F=s[N][2]),[N,z,F]}function M(s){if(v(s._fullLayout.dragmode)){y(s);var E=s._fullLayout._activeSelectionIndex,w=(s.layout||{}).selections||[];if(E<w.length){for(var _=[],D=0;D<w.length;D++)D!==E&&_.push(w[D]);delete s._fullLayout._activeSelectionIndex;var N=s._fullLayout.selections[E];s._fullLayout._deselect={xref:N.xref,yref:N.yref},d.call("_guiRelayout",s,{selections:_})}}}},4016:function(G,H,e){var g=e(33428),R=e(24040),i=e(3400),C=e(54460),S=e(9856).readPaths,v=e(55496),d=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),a=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),y=e(65152),h=y.getPathString;G.exports={draw:T,drawOne:p,eraseActiveShape:M,drawLabel:d};function T(s){var E=s._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var w in E._plots){var _=E._plots[w].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var D=0;D<E.shapes.length;D++)E.shapes[D].visible===!0&&p(s,D)}function c(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function p(s,E){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var w=y.makeShapesOptionsAndPlotinfo(s,E),_=w.options,D=w.plotinfo;if(!_._input||_.visible!==!0)return;if(_.layer==="above")z(s._fullLayout._shapeUpperLayer);else if(_.xref==="paper"||_.yref==="paper")z(s._fullLayout._shapeLowerLayer);else if(_.layer==="between")z(D.shapelayerBetween);else if(D._hadPlotinfo){var N=D.mainplotinfo||D;z(N.shapelayer)}else z(s._fullLayout._shapeLowerLayer);function z(F){var U=h(s,_),B={"data-index":E,"fill-rule":_.fillrule,d:U},V=_.opacity,j=_.fillcolor,Q=_.line.width?_.line.color:"rgba(0,0,0,0)",ee=_.line.width,re=_.line.dash;!ee&&_.editable===!0&&(ee=5,re="solid");var ue=U[U.length-1]!=="Z",J=o(s)&&_.editable&&s._fullLayout._activeShapeIndex===E;J&&(j=ue?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,V=s._fullLayout.activeshape.opacity);var X=F.append("g").classed("shape-group",!0).attr({"data-index":E}),ne=X.append("path").attr(B).style("opacity",V).call(t.stroke,Q).call(t.fill,j).call(a.dashLine,re,ee);x(X,s,_),d(s,E,_,X);var Y;if((J||s._context.edits.shapePosition)&&(Y=n(s.layout,"shapes",_)),J){ne.style({cursor:"move"});var oe={element:ne.node(),plotinfo:D,gd:s,editHelpers:Y,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},le=S(U,s);v(le,ne,oe)}else s._context.edits.shapePosition?b(s,ne,_,E,F,Y):_.editable===!0&&ne.style("pointer-events",ue||t.opacity(j)*V<=.5?"stroke":"all");ne.node().addEventListener("click",function(){return m(s,ne)})}}function x(s,E,w){var _=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(s,_?"clip"+E._fullLayout._uid+_:null,E)}function b(s,E,w,_,D,N){var z=10,F=10,U=w.xsizemode==="pixel",B=w.ysizemode==="pixel",V=w.type==="line",j=w.type==="path",Q=N.modifyItem,ee,re,ue,J,X,ne,Y,oe,le,Z,$,se,ae,he,me,Me=g.select(E.node().parentNode),Te=C.getFromId(s,w.xref),Pe=C.getRefType(w.xref),be=C.getFromId(s,w.yref),Ee=C.getRefType(w.yref),xe=y.getDataToPixel(s,Te,!1,Pe),Ce=y.getDataToPixel(s,be,!0,Ee),Ue=y.getPixelToData(s,Te,!1,Pe),Ne=y.getPixelToData(s,be,!0,Ee),De=vt(),He={element:De.node(),gd:s,prepFn:ct,doneFn:ht,clickFn:gt},at;f.init(He),De.node().onmousemove=et;function vt(){return V?ot():E}function ot(){var Ze=10,We=Math.max(w.line.width,Ze),ze=D.append("g").attr("data-index",_).attr("drag-helper",!0);ze.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":We,"stroke-opacity":"0"});var ke={"fill-opacity":"0"},je=Math.max(We/2,Ze);return ze.append("circle").attr({"data-line-point":"start-point",cx:U?xe(w.xanchor)+w.x0:xe(w.x0),cy:B?Ce(w.yanchor)-w.y0:Ce(w.y0),r:je}).style(ke).classed("cursor-grab",!0),ze.append("circle").attr({"data-line-point":"end-point",cx:U?xe(w.xanchor)+w.x1:xe(w.x1),cy:B?Ce(w.yanchor)-w.y1:Ce(w.y1),r:je}).style(ke).classed("cursor-grab",!0),ze}function et(Ze){if(c(s)){at=null;return}if(V)Ze.target.tagName==="path"?at="move":at=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var We=He.element.getBoundingClientRect(),ze=We.right-We.left,ke=We.bottom-We.top,je=Ze.clientX-We.left,Ie=Ze.clientY-We.top,pe=!j&&ze>z&&ke>F&&!Ze.shiftKey?f.getCursor(je/ze,1-Ie/ke):"move";u(E,pe),at=pe.split("-")[0]}}function ct(Ze){c(s)||(U&&(X=xe(w.xanchor)),B&&(ne=Ce(w.yanchor)),w.type==="path"?me=w.path:(ee=U?w.x0:xe(w.x0),re=B?w.y0:Ce(w.y0),ue=U?w.x1:xe(w.x1),J=B?w.y1:Ce(w.y1)),ee<ue?(le=ee,ae="x0",Z=ue,he="x1"):(le=ue,ae="x1",Z=ee,he="x0"),!B&&re<J||B&&re>J?(Y=re,$="y0",oe=J,se="y1"):(Y=J,$="y1",oe=re,se="y0"),et(Ze),tt(D,w),Xe(E,w,s),He.moveFn=at==="move"?xt:Mt,He.altKey=Ze.altKey)}function ht(){c(s)||(u(E),Oe(D),x(E,s,w),R.call("_guiRelayout",s,N.getUpdateObj()))}function gt(){c(s)||Oe(D)}function xt(Ze,We){if(w.type==="path"){var ze=function(Ie){return Ie},ke=ze,je=ze;U?Q("xanchor",w.xanchor=Ue(X+Ze)):(ke=function(pe){return Ue(xe(pe)+Ze)},Te&&Te.type==="date"&&(ke=y.encodeDate(ke))),B?Q("yanchor",w.yanchor=Ne(ne+We)):(je=function(pe){return Ne(Ce(pe)+We)},be&&be.type==="date"&&(je=y.encodeDate(je))),Q("path",w.path=P(me,ke,je))}else U?Q("xanchor",w.xanchor=Ue(X+Ze)):(Q("x0",w.x0=Ue(ee+Ze)),Q("x1",w.x1=Ue(ue+Ze))),B?Q("yanchor",w.yanchor=Ne(ne+We)):(Q("y0",w.y0=Ne(re+We)),Q("y1",w.y1=Ne(J+We)));E.attr("d",h(s,w)),tt(D,w),d(s,_,w,Me)}function Mt(Ze,We){if(j){var ze=function(yt){return yt},ke=ze,je=ze;U?Q("xanchor",w.xanchor=Ue(X+Ze)):(ke=function(Kt){return Ue(xe(Kt)+Ze)},Te&&Te.type==="date"&&(ke=y.encodeDate(ke))),B?Q("yanchor",w.yanchor=Ne(ne+We)):(je=function(Kt){return Ne(Ce(Kt)+We)},be&&be.type==="date"&&(je=y.encodeDate(je))),Q("path",w.path=P(me,ke,je))}else if(V){if(at==="resize-over-start-point"){var Ie=ee+Ze,pe=B?re-We:re+We;Q("x0",w.x0=U?Ie:Ue(Ie)),Q("y0",w.y0=B?pe:Ne(pe))}else if(at==="resize-over-end-point"){var we=ue+Ze,Ve=B?J-We:J+We;Q("x1",w.x1=U?we:Ue(we)),Q("y1",w.y1=B?Ve:Ne(Ve))}}else{var Qe=function(yt){return at.indexOf(yt)!==-1},it=Qe("n"),st=Qe("s"),Wt=Qe("w"),jt=Qe("e"),Tt=it?Y+We:Y,Lt=st?oe+We:oe,Xt=Wt?le+Ze:le,Tr=jt?Z+Ze:Z;B&&(it&&(Tt=Y-We),st&&(Lt=oe-We)),(!B&&Lt-Tt>F||B&&Tt-Lt>F)&&(Q($,w[$]=B?Tt:Ne(Tt)),Q(se,w[se]=B?Lt:Ne(Lt))),Tr-Xt>z&&(Q(ae,w[ae]=U?Xt:Ue(Xt)),Q(he,w[he]=U?Tr:Ue(Tr)))}E.attr("d",h(s,w)),tt(D,w),d(s,_,w,Me)}function tt(Ze,We){(U||B)&&ze();function ze(){var ke=We.type!=="path",je=Ze.selectAll(".visual-cue").data([0]),Ie=1;je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ie}).classed("visual-cue",!0);var pe=xe(U?We.xanchor:i.midRange(ke?[We.x0,We.x1]:y.extractPathCoords(We.path,l.paramIsX))),we=Ce(B?We.yanchor:i.midRange(ke?[We.y0,We.y1]:y.extractPathCoords(We.path,l.paramIsY)));if(pe=y.roundPositionForSharpStrokeRendering(pe,Ie),we=y.roundPositionForSharpStrokeRendering(we,Ie),U&&B){var Ve="M"+(pe-1-Ie)+","+(we-1-Ie)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";je.attr("d",Ve)}else if(U){var Qe="M"+(pe-1-Ie)+","+(we-9-Ie)+"v18 h2 v-18 Z";je.attr("d",Qe)}else{var it="M"+(pe-9-Ie)+","+(we-1-Ie)+"h18 v2 h-18 Z";je.attr("d",it)}}}function Oe(Ze){Ze.selectAll(".visual-cue").remove()}function Xe(Ze,We,ze){var ke=We.xref,je=We.yref,Ie=C.getFromId(ze,ke),pe=C.getFromId(ze,je),we="";ke!=="paper"&&!Ie.autorange&&(we+=ke),je!=="paper"&&!pe.autorange&&(we+=je),a.setClipUrl(Ze,we?"clip"+ze._fullLayout._uid+we:null,ze)}}function P(s,E,w){return s.replace(l.segmentRE,function(_){var D=0,N=_.charAt(0),z=l.paramIsX[N],F=l.paramIsY[N],U=l.numParams[N],B=_.substr(1).replace(l.paramRE,function(V){return D>=U||(z[D]?V=E(V):F[D]&&(V=w(V)),D++),V});return N+B})}function m(s,E){if(o(s)){var w=E.node(),_=+w.getAttribute("data-index");if(_>=0){if(_===s._fullLayout._activeShapeIndex){L(s);return}s._fullLayout._activeShapeIndex=_,s._fullLayout._deactivateShape=L,T(s)}}}function L(s){if(o(s)){var E=s._fullLayout._activeShapeIndex;E>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function M(s){if(o(s)){r(s);var E=s._fullLayout._activeShapeIndex,w=(s.layout||{}).shapes||[];if(E<w.length){for(var _=[],D=0;D<w.length;D++)D!==E&&_.push(w[D]);return delete s._fullLayout._activeShapeIndex,R.call("_guiRelayout",s,{shapes:_})}}}},92872:function(G,H,e){var g=e(67824).overrideAll,R=e(45464),i=e(25376),C=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,d=e(97728);G.exports=g({newshape:{visible:S({},R.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},R.legend,{}),legendgroup:S({},R.legendgroup,{}),legendgrouptitle:{text:S({},R.legendgrouptitle.text,{}),font:i({})},legendrank:S({},R.legendrank,{}),legendwidth:S({},R.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},R.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(d)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var H=32;G.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,H,e){var g=e(76308),R=e(3400);function i(C,S){return C?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(S,v,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),R.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var r=d("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";d("newshape.line.color",g.contrast(t)),d("newshape.line.dash")}var a=S.dragmode==="drawline",n=d("newshape.label.text"),f=d("newshape.label.texttemplate");if(n||f){d("newshape.label.textangle");var u=d("newshape.label.textposition",a?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",i(a,u)),d("newshape.label.padding"),R.coerceFont(d,"newshape.label.font",v.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},9856:function(G,H,e){var g=e(21984),R=e(7e3),i=R.CIRCLE_SIDES,C=R.SQRT2,S=e(5840),v=S.p2r,d=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",y=0;y<u;y++)for(var h=f[y].length,T=0;T<h;T++){var c=f[y][T][0];if(c==="Z")l+="Z";else for(var o=f[y][T].length,p=0;p<o;p++){var x=p;c==="Q"||c==="S"?x=t[p]:c==="C"&&(x=r[p]),l+=f[y][T][x],p>0&&p<o-1&&(l+=",")}}return l},H.readPaths=function(f,u,l,y){var h=g(f),T=[],c=-1,o=function(){c++,T[c]=[]},p,x=0,b=0,P,m,L=function(){P=x,m=b};L();for(var M=0;M<h.length;M++){var s=[],E,w,_,D,N=h[M][0],z=N;switch(N){case"M":o(),x=+h[M][1],b=+h[M][2],s.push([z,x,b]),L();break;case"Q":case"S":E=+h[M][1],_=+h[M][2],x=+h[M][3],b=+h[M][4],s.push([z,x,b,E,_]);break;case"C":E=+h[M][1],_=+h[M][2],w=+h[M][3],D=+h[M][4],x=+h[M][5],b=+h[M][6],s.push([z,x,b,E,_,w,D]);break;case"T":case"L":x=+h[M][1],b=+h[M][2],s.push([z,x,b]);break;case"H":z="L",x=+h[M][1],s.push([z,x,b]);break;case"V":z="L",b=+h[M][1],s.push([z,x,b]);break;case"A":z="L";var F=+h[M][1],U=+h[M][2];+h[M][4]||(F=-F,U=-U);var B=x-F,V=b;for(p=1;p<=i/2;p++){var j=2*Math.PI*p/i;s.push([z,B+F*Math.cos(j),V+U*Math.sin(j)])}break;case"Z":(x!==P||b!==m)&&(x=P,b=m,s.push([z,x,b]));break}for(var Q=(l||{}).domain,ee=u._fullLayout._size,re=l&&l.xsizemode==="pixel",ue=l&&l.ysizemode==="pixel",J=y===!1,X=0;X<s.length;X++){for(p=0;p+2<7;p+=2){var ne=s[X][p+1],Y=s[X][p+2];ne===void 0||Y===void 0||(x=ne,b=Y,l&&(l.xaxis&&l.xaxis.p2r?(J&&(ne-=l.xaxis._offset),re?ne=d(l.xaxis,l.xanchor)+ne:ne=v(l.xaxis,ne)):(J&&(ne-=ee.l),Q?ne=Q.x[0]+ne/ee.w:ne=ne/ee.w),l.yaxis&&l.yaxis.p2r?(J&&(Y-=l.yaxis._offset),ue?Y=d(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):(J&&(Y-=ee.t),Q?Y=Q.y[1]-Y/ee.h:Y=1-Y/ee.h)),s[X][p+1]=ne,s[X][p+2]=Y)}T[c].push(s[X].slice())}}return T};function a(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],y=u[2]-f[2];return Math.sqrt(l*l+y*y)}H.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var y=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!a(y,h))return!1;var T=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!a(T,c))return!1}return!a(f[0][1],f[1][1])&&!a(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},H.pointsOnEllipse=function(f){var u=f.length;if(u!==i+1)return!1;u=i;for(var l=0;l<u;l++){var y=(u*2-l)%u,h=(u/2+y)%u,T=(u/2+l)%u;if(!a(n(f[l],f[T]),n(f[y],f[h])))return!1}return!0},H.handleEllipse=function(f,u,l){if(!f)return[u,l];var y=H.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(y.x1+y.x0)/2,T=(y.y1+y.y0)/2,c=(y.x1-y.x0)/2,o=(y.y1-y.y0)/2;c||(c=o=o/C),o||(o=c=c/C);for(var p=[],x=0;x<i;x++){var b=x*2*Math.PI/i;p.push([h+c*Math.cos(b),T+o*Math.sin(b)])}return p},H.ellipseOver=function(f){var u=f.x0,l=f.y0,y=f.x1,h=f.y1,T=y-u,c=h-l;u-=T,l-=c;var o=(u+y)/2,p=(l+h)/2,x=C;return T*=x,c*=x,{x0:o-T,y0:p-c,x1:o+T,y1:p+c}},H.fixDatesForPaths=function(f,u,l){var y=u.type==="date",h=l.type==="date";if(!y&&!h)return f;for(var T=0;T<f.length;T++)for(var c=0;c<f[T].length;c++)for(var o=0;o+2<f[T][c].length;o+=2)y&&(f[T][c][o+1]=f[T][c][o+1].replace(" ","_")),h&&(f[T][c][o+2]=f[T][c][o+2].replace(" ","_"));return f}},93940:function(G,H,e){var g=e(72760),R=g.drawMode,i=g.openMode,C=e(7e3),S=C.i000,v=C.i090,d=C.i180,r=C.i270,t=C.cos45,a=C.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),y=l.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,o=h.ellipseOver,p=h.fixDatesForPaths;function x(P,m){if(P.length){var L=P[0][0];if(L){var M=m.gd,s=m.isActiveShape,E=m.dragmode,w=(M.layout||{}).shapes||[];if(!R(E)&&s!==void 0){var _=M._fullLayout._activeShapeIndex;if(_<w.length)switch(M._fullLayout.shapes[_].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var D=w[_].path||"";D[D.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var N=b(P,m,E);y(M);for(var z=m.editHelpers,F=(z||{}).modifyItem,U=[],B=0;B<w.length;B++){var V=M._fullLayout.shapes[B];if(U[B]=V._input,s!==void 0&&B===M._fullLayout._activeShapeIndex){var j=N;switch(V.type){case"line":case"rect":case"circle":F("x0",j.x0),F("x1",j.x1),F("y0",j.y0),F("y1",j.y1);break;case"path":F("path",j.path);break}}}return s===void 0?(U.push(N),U):z?z.getUpdateObj():{}}}}function b(P,m,L){var M=P[0][0],s=m.gd,E=M.getAttribute("d"),w=s._fullLayout.newshape,_=m.plotinfo,D=m.isActiveShape,N=_.xaxis,z=_.yaxis,F=!!_.domain||!_.xaxis,U=!!_.domain||!_.yaxis,B=i(L),V=T(E,s,_,D),j={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:F?"paper":N._id,yref:U?"paper":z._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};B||(j.fillcolor=w.fillcolor,j.fillrule=w.fillrule);var Q;if(V.length===1&&(Q=V[0]),Q&&Q.length===5&&L==="drawrect")j.type="rect",j.x0=Q[0][1],j.y0=Q[0][2],j.x1=Q[2][1],j.y1=Q[2][2];else if(Q&&L==="drawline")j.type="line",j.x0=Q[0][1],j.y0=Q[0][2],j.x1=Q[1][1],j.y1=Q[1][2];else if(Q&&L==="drawcircle"){j.type="circle";var ee=Q[S][1],re=Q[v][1],ue=Q[d][1],J=Q[r][1],X=Q[S][2],ne=Q[v][2],Y=Q[d][2],oe=Q[r][2],le=_.xaxis&&(_.xaxis.type==="date"||_.xaxis.type==="log"),Z=_.yaxis&&(_.yaxis.type==="date"||_.yaxis.type==="log");le&&(ee=u(_.xaxis,ee),re=u(_.xaxis,re),ue=u(_.xaxis,ue),J=u(_.xaxis,J)),Z&&(X=u(_.yaxis,X),ne=u(_.yaxis,ne),Y=u(_.yaxis,Y),oe=u(_.yaxis,oe));var $=(re+J)/2,se=(X+Y)/2,ae=(J-re+ue-ee)/2,he=(oe-ne+Y-X)/2,me=o({x0:$,y0:se,x1:$+ae*t,y1:se+he*a});le&&(me.x0=f(_.xaxis,me.x0),me.x1=f(_.xaxis,me.x1)),Z&&(me.y0=f(_.yaxis,me.y0),me.y1=f(_.yaxis,me.y1)),j.x0=me.x0,j.y0=me.y0,j.x1=me.x1,j.y1=me.y1}else j.type="path",N&&z&&p(V,N,z),j.path=c(V),Q=null;return j}G.exports={newShapes:x,createShapeObj:b}},1936:function(G){function H(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".outline-controllers").remove()}function e(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}G.exports={clearOutlineControllers:H,clearOutline:e}},65152:function(G,H,e){var g=e(85448),R=e(3400),i=e(54460);H.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},H.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},H.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},H.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},H.extractPathCoords=function(S,v,d){var r=[],t=S.match(g.segmentRE);return t.forEach(function(a){var n=v[a.charAt(0)].drawn;if(n!==void 0){var f=a.substr(1).match(g.paramRE);if(!(!f||f.length<n)){var u=f[n],l=d?u:R.cleanNumber(u);r.push(l)}}}),r},H.getDataToPixel=function(S,v,d,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){return v._length*(d?1-f:f)+v._offset};else{var n=H.shapePositionToRange(v);a=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(a=H.decodeDate(a))}else d?a=function(f){return t.t+t.h*(1-f)}:a=function(f){return t.l+t.w*f};return a},H.getPixelToData=function(S,v,d,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){var u=(f-v._offset)/v._length;return d?1-u:u};else{var n=H.rangeToShapePosition(v);a=function(f){return n(v.p2r(f-v._offset))}}else d?a=function(f){return 1-(f-t.t)/t.h}:a=function(f){return(f-t.l)/t.w};return a},H.roundPositionForSharpStrokeRendering=function(S,v){var d=Math.round(v%2)===1,r=Math.round(S);return d?r+.5:r},H.makeShapesOptionsAndPlotinfo=function(S,v){var d=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[d.xref+d.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},d.xref&&d.xref!=="paper"&&(r.xaxis=S._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(r.yaxis=S._fullLayout[d.yref+"axis"])),r.xsizemode=d.xsizemode,r.ysizemode=d.ysizemode,r.xanchor=d.xanchor,r.yanchor=d.yanchor,{options:d,plotinfo:r}},H.makeSelectionsOptionsAndPlotinfo=function(S,v){var d=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[d.xref+d.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},d.xref&&(r.xaxis=S._fullLayout[d.xref+"axis"]),d.yref&&(r.yaxis=S._fullLayout[d.yref+"axis"])),{options:d,plotinfo:r}},H.getPathString=function(S,v){var d=v.type,r=i.getRefType(v.xref),t=i.getRefType(v.yref),a=i.getFromId(S,v.xref),n=i.getFromId(S,v.yref),f=S._fullLayout._size,u,l,y,h,T,c,o,p;if(a?r==="domain"?l=function(_){return a._offset+a._length*_}:(u=H.shapePositionToRange(a),l=function(_){return a._offset+a.r2p(u(_,!0))}):l=function(_){return f.l+f.w*_},n?t==="domain"?h=function(_){return n._offset+n._length*(1-_)}:(y=H.shapePositionToRange(n),h=function(_){return n._offset+n.r2p(y(_,!0))}):h=function(_){return f.t+f.h*(1-_)},d==="path")return a&&a.type==="date"&&(l=H.decodeDate(l)),n&&n.type==="date"&&(h=H.decodeDate(h)),C(v,l,h);if(v.xsizemode==="pixel"){var x=l(v.xanchor);T=x+v.x0,c=x+v.x1}else T=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var b=h(v.yanchor);o=b-v.y0,p=b-v.y1}else o=h(v.y0),p=h(v.y1);if(d==="line")return"M"+T+","+o+"L"+c+","+p;if(d==="rect")return"M"+T+","+o+"H"+c+"V"+p+"H"+T+"Z";var P=(T+c)/2,m=(o+p)/2,L=Math.abs(P-T),M=Math.abs(m-o),s="A"+L+","+M,E=P+L+","+m,w=P+","+(m-M);return"M"+E+s+" 0 1,1 "+w+s+" 0 0,1 "+E+"Z"};function C(S,v,d){var r=S.path,t=S.xsizemode,a=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(g.segmentRE,function(u){var l=0,y=u.charAt(0),h=g.paramIsX[y],T=g.paramIsY[y],c=g.numParams[y],o=u.substr(1).replace(g.paramRE,function(p){return h[l]?t==="pixel"?p=v(n)+Number(p):p=v(p):T[l]&&(a==="pixel"?p=d(f)-Number(p):p=d(p)),l++,l>c&&(p="X"),p});return l>c&&(o=o.replace(/[\s,]*X.*/,""),R.log("Ignoring extra params in segment "+u)),y+o})}},41592:function(G,H,e){var g=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(G){function H(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function g(u){return u.x0}function R(u){return u.x1}function i(u){return u.y0}function C(u){return u.y1}function S(u,l){return H(u.x1,l)-H(u.x0,l)}function v(u,l,y){return H(u.y1,y)-H(u.y0,y)}function d(u,l){return Math.abs(S(u,l))}function r(u,l,y){return Math.abs(v(u,l,y))}function t(u,l,y){return u.type!=="line"?void 0:Math.sqrt(Math.pow(S(u,l),2)+Math.pow(v(u,l,y),2))}function a(u,l){return e((H(u.x1,l)+H(u.x0,l))/2,l)}function n(u,l,y){return e((H(u.y1,y)+H(u.y0,y))/2,y)}function f(u,l,y){return u.type!=="line"?void 0:v(u,l,y)/S(u,l)}G.exports={x0:g,x1:R,y0:i,y1:C,slope:f,dx:S,dy:v,width:d,height:r,length:t,xcenter:a,ycenter:n}},89861:function(G,H,e){var g=e(25376),R=e(66741),i=e(92880).extendDeepAll,C=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,d=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(R({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,H,e){var g=e(3400),R=e(51272),i=e(89861),C=e(60876),S=C.name,v=i.steps;G.exports=function(a,n){R(a,n,{name:S,handleItemDefaults:d})};function d(t,a,n){function f(p,x){return g.coerce(t,a,i,p,x)}for(var u=R(t,a,{name:"steps",handleItemDefaults:r}),l=0,y=0;y<u.length;y++)u[y].visible&&l++;var h;if(l<2?h=a.visible=!1:h=f("visible"),!!h){a._stepCount=l;var T=a._visibleSteps=g.filterVisible(u),c=f("active");(u[c]||{}).visible||(a.active=T[0]._index),f("x"),f("y"),g.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font);var o=f("currentvalue.visible");o&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),g.coerceFont(f,"currentvalue.font",a.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,a){function n(l,y){return g.coerce(t,a,v,l,y)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=a.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+a._index);n("value",u),n("execute")}}},79664:function(G,H,e){var g=e(33428),R=e(7316),i=e(76308),C=e(43616),S=e(3400),v=S.strTranslate,d=e(72736),r=e(31780).arrayEditor,t=e(60876),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR;G.exports=function(F){var U=F._context.staticPlot,B=F._fullLayout,V=y(B,F),j=B._infolayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);j.enter().append("g").classed(t.containerClassName,!0).style("cursor",U?null:"ew-resize");function Q(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),R.autoMargin(F,l(J))}if(j.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each(Q)}).remove(),V.length!==0){var ee=j.selectAll("g."+t.groupClassName).data(V,h);ee.enter().append("g").classed(t.groupClassName,!0),ee.exit().each(Q).remove();for(var re=0;re<V.length;re++){var ue=V[re];T(F,ue)}ee.each(function(J){var X=g.select(this);s(J),R.manageCommandObserver(F,J,J._visibleSteps,function(ne){var Y=X.data()[0];Y.active!==ne.index&&(Y._dragging||m(F,X,Y,ne.index,!1,!0))}),c(F,g.select(this),J)})}};function l(z){return t.autoMarginIdRoot+z._index}function y(z,F){for(var U=z[t.name],B=[],V=0;V<U.length;V++){var j=U[V];j.visible&&(j._gd=F,B.push(j))}return B}function h(z){return z._index}function T(z,F){var U=C.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);U.enter().append("g").classed(t.labelGroupClass,!0);var B=0,V=0;U.each(function(oe){var le=g.select(this),Z=x(le,{step:oe},F),$=Z.node();if($){var se=C.bBox($);V=Math.max(V,se.height),B=Math.max(B,se.width)}}),U.remove();var j=F._dims={};j.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var Q=z._fullLayout._size;j.lx=Q.l+Q.w*F.x,j.ly=Q.t+Q.h*(1-F.y),F.lenmode==="fraction"?j.outerLength=Math.round(Q.w*F.len):j.outerLength=F.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-F.pad.l-F.pad.r);var ee=j.inputAreaLength-2*t.stepInset,re=ee/(F._stepCount-1),ue=B+t.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(ue/re)),j.labelHeight=V,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,F.currentvalue.visible){var J=C.tester.append("g");U.each(function(oe){var le=o(J,F,oe.label),Z=le.node()&&C.bBox(le.node())||{width:0,height:0},$=d.lineCount(le);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil(Z.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil(Z.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,$)}),j.currentValueTotalHeight=j.currentValueHeight+F.currentvalue.offset,J.remove()}j.height=j.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+j.labelHeight+F.pad.t+F.pad.b;var X="left";S.isRightAnchor(F)&&(j.lx-=j.outerLength,X="right"),S.isCenterAnchor(F)&&(j.lx-=j.outerLength/2,X="center");var ne="top";S.isBottomAnchor(F)&&(j.ly-=j.height,ne="bottom"),S.isMiddleAnchor(F)&&(j.ly-=j.height/2,ne="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var Y={y:F.y,b:j.height*u[ne],t:j.height*f[ne]};F.lenmode==="fraction"?(Y.l=0,Y.xl=F.x-F.len*f[X],Y.r=0,Y.xr=F.x+F.len*u[X]):(Y.x=F.x,Y.l=j.outerLength*f[X],Y.r=j.outerLength*u[X]),R.autoMargin(z,l(F),Y)}function c(z,F,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),F.call(o,U).call(N,U).call(b,U).call(M,U).call(D,z,U).call(p,z,U);var B=U._dims;C.setTranslate(F,B.lx+U.pad.l,B.ly+U.pad.t),F.call(E,U,!1),F.call(o,U)}function o(z,F,U){if(F.currentvalue.visible){var B=F._dims,V,j;switch(F.currentvalue.xanchor){case"right":V=B.inputAreaLength-t.currentValueInset-B.currentValueMaxWidth,j="left";break;case"center":V=B.inputAreaLength*.5,j="middle";break;default:V=t.currentValueInset,j="left"}var Q=S.ensureSingle(z,"text",t.labelClass,function(ne){ne.attr({"text-anchor":j,"data-notex":1})}),ee=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof U=="string")ee+=U;else{var re=F.steps[F.active].label,ue=F._gd._fullLayout._meta;ue&&(re=S.templateString(re,ue)),ee+=re}F.currentvalue.suffix&&(ee+=F.currentvalue.suffix),Q.call(C.font,F.currentvalue.font).text(ee).call(d.convertToTspans,F._gd);var J=d.lineCount(Q),X=(B.currentValueMaxLines+1-J)*F.currentvalue.font.size*n;return d.positionText(Q,V,X),Q}}function p(z,F,U){var B=S.ensureSingle(z,"rect",t.gripRectClass,function(V){V.call(L,F,z,U).style("pointer-events","all")});B.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(i.stroke,U.bordercolor).call(i.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function x(z,F,U){var B=S.ensureSingle(z,"text",t.labelClass,function(Q){Q.attr({"text-anchor":"middle","data-notex":1})}),V=F.step.label,j=U._gd._fullLayout._meta;return j&&(V=S.templateString(V,j)),B.call(C.font,U.font).text(V).call(d.convertToTspans,U._gd),B}function b(z,F){var U=S.ensureSingle(z,"g",t.labelsClass),B=F._dims,V=U.selectAll("g."+t.labelGroupClass).data(B.labelSteps);V.enter().append("g").classed(t.labelGroupClass,!0),V.exit().remove(),V.each(function(j){var Q=g.select(this);Q.call(x,j,F),C.setTranslate(Q,w(F,j.fraction),t.tickOffset+F.ticklen+F.font.size*n+t.labelOffset+B.currentValueTotalHeight)})}function P(z,F,U,B,V){var j=Math.round(B*(U._stepCount-1)),Q=U._visibleSteps[j]._index;Q!==U.active&&m(z,F,U,Q,!0,V)}function m(z,F,U,B,V,j){var Q=U.active;U.active=B,r(z.layout,t.name,U).applyUpdate("active",B);var ee=U.steps[U.active];F.call(E,U,j),F.call(o,U),z.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:V,previousActive:Q}),ee&&ee.method&&V&&(F._nextMethod?(F._nextMethod.step=ee,F._nextMethod.doCallback=V,F._nextMethod.doTransition=j):(F._nextMethod={step:ee,doCallback:V,doTransition:j},F._nextMethodRaf=window.requestAnimationFrame(function(){var re=F._nextMethod.step;re.method&&(re.execute&&R.executeAPICommand(z,re.method,re.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function L(z,F,U){if(F._context.staticPlot)return;var B=U.node(),V=g.select(F);function j(){return U.data()[0]}function Q(){var ee=j();F.emit("plotly_sliderstart",{slider:ee});var re=U.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),re.call(i.fill,ee.activebgcolor);var ue=_(ee,g.mouse(B)[0]);P(F,U,ee,ue,!0),ee._dragging=!0;function J(){var ne=j(),Y=_(ne,g.mouse(B)[0]);P(F,U,ne,Y,!1)}V.on("mousemove",J),V.on("touchmove",J);function X(){var ne=j();ne._dragging=!1,re.call(i.fill,ne.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),F.emit("plotly_sliderend",{slider:ne,step:ne.steps[ne.active]})}V.on("mouseup",X),V.on("touchend",X)}z.on("mousedown",Q),z.on("touchstart",Q)}function M(z,F){var U=z.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),B=F._dims;U.enter().append("rect").classed(t.tickRectClass,!0),U.exit().remove(),U.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(V,j){var Q=j%B.labelStride===0,ee=g.select(this);ee.attr({height:Q?F.ticklen:F.minorticklen}).call(i.fill,F.tickcolor),C.setTranslate(ee,w(F,j/(F._stepCount-1))-.5*F.tickwidth,(Q?t.tickOffset:t.minorTickOffset)+B.currentValueTotalHeight)})}function s(z){var F=z._dims;F.labelSteps=[];for(var U=z._stepCount,B=0;B<U;B+=F.labelStride)F.labelSteps.push({fraction:B/(U-1),step:z._visibleSteps[B]})}function E(z,F,U){for(var B=z.select("rect."+t.gripRectClass),V=0,j=0;j<F._stepCount;j++)if(F._visibleSteps[j]._index===F.active){V=j;break}var Q=w(F,V/(F._stepCount-1));if(!F._invokingCommand){var ee=B;U&&F.transition.duration>0&&(ee=ee.transition().duration(F.transition.duration).ease(F.transition.easing)),ee.attr("transform",v(Q-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function w(z,F){var U=z._dims;return U.inputAreaStart+t.stepInset+(U.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function _(z,F){var U=z._dims;return Math.min(1,Math.max(0,(F-t.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*t.stepInset-2*U.inputAreaStart)))}function D(z,F,U){var B=U._dims,V=S.ensureSingle(z,"rect",t.railTouchRectClass,function(j){j.call(L,F,z,U).style("pointer-events","all")});V.attr({width:B.inputAreaLength,height:Math.max(B.inputAreaWidth,t.tickOffset+U.ticklen+B.labelHeight)}).call(i.fill,U.bgcolor).attr("opacity",0),C.setTranslate(V,0,B.currentValueTotalHeight)}function N(z,F){var U=F._dims,B=U.inputAreaLength-t.railInset*2,V=S.ensureSingle(z,"rect",t.railRectClass);V.attr({width:B,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),C.setTranslate(V,t.railInset,(U.inputAreaWidth-t.railWidth)*.5+U.currentValueTotalHeight)}},97544:function(G,H,e){var g=e(60876);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,H,e){var g=e(33428),R=e(38248),i=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,d=e(43616),r=e(76308),t=e(72736),a=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,y,h){var T=h.propContainer,c=h.propName,o=h.placeholder,p=h.traceIndex,x=h.avoid||{},b=h.attributes,P=h.transform,m=h.containerGroup,L=l._fullLayout,M=1,s=!1,E=T.title,w=(E&&E.text?E.text:"").trim(),_=E&&E.font?E.font:{},D=_.family,N=_.size,z=_.color,F=_.weight,U=_.style,B=_.variant,V;c==="title.text"?V="titleText":c.indexOf("axis")!==-1?V="axisTitleText":c.indexOf("colorbar"!==-1)&&(V="colorbarTitleText");var j=l._context.edits[V];w===""?M=0:w.replace(f," % ")===o.replace(f," % ")&&(M=.2,s=!0,j||(w="")),h._meta?w=S.templateString(w,h._meta):L._meta&&(w=S.templateString(w,L._meta));var Q=w||j,ee;m||(m=S.ensureSingle(L._infolayer,"g","g-"+y),ee=L._hColorbarMoveTitle);var re=m.selectAll("text").data(Q?[0]:[]);if(re.enter().append("text"),re.text(w).attr("class",y),re.exit().remove(),!Q)return m;function ue(Y){S.syncOrAsync([J,X],Y)}function J(Y){var oe;return!P&&ee&&(P={}),P?(oe="",P.rotate&&(oe+="rotate("+[P.rotate,b.x,b.y]+")"),(P.offset||ee)&&(oe+=v(0,(P.offset||0)-(ee||0)))):oe=null,Y.attr("transform",oe),Y.style({"font-family":D,"font-size":g.round(N,2)+"px",fill:r.rgb(z),opacity:M*r.opacity(z),"font-weight":F,"font-style":U,"font-variant":B}).attr(b).call(t.convertToTspans,l),i.previousPromises(l)}function X(Y){var oe=g.select(Y.node().parentNode);if(x&&x.selection&&x.side&&w){oe.attr("transform",null);var le=n[x.side],Z=x.side==="left"||x.side==="top"?-1:1,$=R(x.pad)?x.pad:2,se=d.bBox(oe.node()),ae={t:0,b:0,l:0,r:0},he=l._fullLayout._reservedMargin;for(var me in he)for(var Me in he[me]){var Te=he[me][Me];ae[Me]=Math.max(ae[Me],Te)}var Pe={left:ae.l,top:ae.t,right:L.width-ae.r,bottom:L.height-ae.b},be=x.maxShift||Z*(Pe[x.side]-se[x.side]),Ee=0;if(be<0)Ee=be;else{var xe=x.offsetLeft||0,Ce=x.offsetTop||0;se.left-=xe,se.right-=xe,se.top-=Ce,se.bottom-=Ce,x.selection.each(function(){var Ne=d.bBox(this);S.bBoxIntersect(se,Ne,$)&&(Ee=Math.max(Ee,Z*(Ne[x.side]-se[le])+$))}),Ee=Math.min(be,Ee),T._titleScoot=Math.abs(Ee)}if(Ee>0||be<0){var Ue={left:[-Ee,0],right:[Ee,0],top:[0,-Ee],bottom:[0,Ee]}[x.side];oe.attr("transform",v(Ue[0],Ue[1]))}}}re.call(ue);function ne(){M=0,s=!0,re.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})}return j&&(w?re.on(".opacity",null):ne(),re.call(t.makeEditable,{gd:l}).on("edit",function(Y){p!==void 0?C.call("_guiRestyle",l,c,Y,p):C.call("_guiRelayout",l,c,Y)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(Y){this.text(Y||" ").call(t.positionText,b.x,b.y)})),re.classed("js-placeholder",s),m}G.exports={draw:u}},88444:function(G,H,e){var g=e(25376),R=e(22548),i=e(92880).extendFlat,C=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,d=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(S({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:R.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(G,H,e){var g=e(3400),R=e(51272),i=e(88444),C=e(73712),S=C.name,v=i.buttons;G.exports=function(a,n){var f={name:S,handleItemDefaults:d};R(a,n,f)};function d(t,a,n){function f(y,h){return g.coerce(t,a,i,y,h)}var u=R(t,a,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),g.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,a){function n(u,l){return g.coerce(t,a,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,H,e){var g=e(33428),R=e(7316),i=e(76308),C=e(43616),S=e(3400),v=e(72736),d=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),a=e(37400);G.exports=function(_){var D=_._fullLayout,N=S.filterVisible(D[t.name]);function z(re){R.autoMargin(_,M(re))}var F=D._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(z)}).remove(),N.length!==0){var U=F.selectAll("g."+t.headerGroupClassName).data(N,n);U.enter().append("g").classed(t.headerGroupClassName,!0);for(var B=S.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(re){re.style("pointer-events","all")}),V=0;V<N.length;V++){var j=N[V];L(_,j)}var Q="updatemenus"+D._uid,ee=new a(_,B,Q);U.enter().size()&&(B.node().parentNode.appendChild(B.node()),B.call(E)),U.exit().each(function(re){B.call(E),z(re)}).remove(),U.each(function(re){var ue=g.select(this),J=re.type==="dropdown"?B:null;R.manageCommandObserver(_,re,re.buttons,function(X){l(_,re,re.buttons[X.index],ue,J,ee,X.index,!0)}),re.type==="dropdown"?(y(_,ue,B,ee,re),u(B,re)&&h(_,ue,B,ee,re)):h(_,ue,null,null,re)})}};function n(w){return w._index}function f(w){return+w.attr(t.menuIndexAttrName)==-1}function u(w,_){return+w.attr(t.menuIndexAttrName)===_._index}function l(w,_,D,N,z,F,U,B){_.active=U,d(w.layout,t.name,_).applyUpdate("active",U),_.type==="buttons"?h(w,N,null,null,_):_.type==="dropdown"&&(z.attr(t.menuIndexAttrName,"-1"),y(w,N,z,F,_),B||h(w,N,z,F,_))}function y(w,_,D,N,z){var F=S.ensureSingle(_,"g",t.headerClassName,function(re){re.style("pointer-events","all")}),U=z._dims,B=z.active,V=z.buttons[B]||t.blankHeaderOpts,j={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},Q={width:U.headerWidth,height:U.headerHeight};F.call(o,z,V,w).call(s,z,j,Q);var ee=S.ensureSingle(_,"text",t.headerArrowClassName,function(re){re.attr("text-anchor","end").call(C.font,z.font).text(t.arrowSymbol[z.direction])});ee.attr({x:U.headerWidth-t.arrowOffsetX+z.pad.l,y:U.headerHeight/2+t.textOffsetY+z.pad.t}),F.on("click",function(){D.call(E,String(u(D,z)?-1:z._index)),h(w,_,D,N,z)}),F.on("mouseover",function(){F.call(P)}),F.on("mouseout",function(){F.call(m,z)}),C.setTranslate(_,U.lx,U.ly)}function h(w,_,D,N,z){D||(D=_,D.attr("pointer-events","all"));var F=!f(D)||z.type==="buttons"?z.buttons:[],U=z.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,B=D.selectAll("g."+U).data(S.filterVisible(F)),V=B.enter().append("g").classed(U,!0),j=B.exit();z.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var Q=0,ee=0,re=z._dims,ue=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ue?ee=re.headerHeight+t.gapButtonHeader:Q=re.headerWidth+t.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(ee=-t.gapButtonHeader+t.gapButton-re.openHeight),z.type==="dropdown"&&z.direction==="left"&&(Q=-t.gapButtonHeader+t.gapButton-re.openWidth);var J={x:re.lx+Q+z.pad.l,y:re.ly+ee+z.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},X={l:J.x+z.borderwidth,t:J.y+z.borderwidth};B.each(function(ne,Y){var oe=g.select(this);oe.call(o,z,ne,w).call(s,z,J),oe.on("click",function(){g.event.defaultPrevented||(ne.execute&&(ne.args2&&z.active===Y?(l(w,z,ne,_,D,N,-1),R.executeAPICommand(w,ne.method,ne.args2)):(l(w,z,ne,_,D,N,Y),R.executeAPICommand(w,ne.method,ne.args))),w.emit("plotly_buttonclicked",{menu:z,button:ne,active:z.active}))}),oe.on("mouseover",function(){oe.call(P)}),oe.on("mouseout",function(){oe.call(m,z),B.call(b,z)})}),B.call(b,z),ue?(X.w=Math.max(re.openWidth,re.headerWidth),X.h=J.y-X.t):(X.w=J.x-X.l,X.h=Math.max(re.openHeight,re.headerHeight)),X.direction=z.direction,N&&(B.size()?T(w,_,D,N,z,X):c(N))}function T(w,_,D,N,z,F){var U=z.direction,B=U==="up"||U==="down",V=z._dims,j=z.active,Q,ee,re;if(B)for(ee=0,re=0;re<j;re++)ee+=V.heights[re]+t.gapButton;else for(Q=0,re=0;re<j;re++)Q+=V.widths[re]+t.gapButton;N.enable(F,Q,ee),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(w){var _=!!w.hbar,D=!!w.vbar;_&&w.hbar.transition().attr("opacity","0").each("end",function(){_=!1,D||w.disable()}),D&&w.vbar.transition().attr("opacity","0").each("end",function(){D=!1,_||w.disable()})}function o(w,_,D,N){w.call(p,_).call(x,_,D,N)}function p(w,_){var D=S.ensureSingle(w,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});D.call(i.stroke,_.bordercolor).call(i.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function x(w,_,D,N){var z=S.ensureSingle(w,"text",t.itemTextClassName,function(B){B.attr({"text-anchor":"start","data-notex":1})}),F=D.label,U=N._fullLayout._meta;U&&(F=S.templateString(F,U)),z.call(C.font,_.font).text(F).call(v.convertToTspans,N)}function b(w,_){var D=_.active;w.each(function(N,z){var F=g.select(this);z===D&&_.showactive&&F.select("rect."+t.itemRectClassName).call(i.fill,t.activeColor)})}function P(w){w.select("rect."+t.itemRectClassName).call(i.fill,t.hoverColor)}function m(w,_){w.select("rect."+t.itemRectClassName).call(i.fill,_.bgcolor)}function L(w,_){var D=_._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=C.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(_.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var z=["up","down"].indexOf(_.direction)!==-1;N.each(function(Q,ee){var re=g.select(this);re.call(o,_,Q,w);var ue=re.select("."+t.itemTextClassName),J=ue.node()&&C.bBox(ue.node()).width,X=Math.max(J+t.textPadX,t.minWidth),ne=_.font.size*r,Y=v.lineCount(ue),oe=Math.max(ne*Y,t.minHeight)+t.textOffsetY;oe=Math.ceil(oe),X=Math.ceil(X),D.widths[ee]=X,D.heights[ee]=oe,D.height1=Math.max(D.height1,oe),D.width1=Math.max(D.width1,X),z?(D.totalWidth=Math.max(D.totalWidth,X),D.openWidth=D.totalWidth,D.totalHeight+=oe+t.gapButton,D.openHeight+=oe+t.gapButton):(D.totalWidth+=X+t.gapButton,D.openWidth+=X+t.gapButton,D.totalHeight=Math.max(D.totalHeight,oe),D.openHeight=D.totalHeight)}),z?D.totalHeight-=t.gapButton:D.totalWidth-=t.gapButton,D.headerWidth=D.width1+t.arrowPadX,D.headerHeight=D.height1,_.type==="dropdown"&&(z?(D.width1+=t.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=t.arrowPadX),N.remove();var F=D.totalWidth+_.pad.l+_.pad.r,U=D.totalHeight+_.pad.t+_.pad.b,B=w._fullLayout._size;D.lx=B.l+B.w*_.x,D.ly=B.t+B.h*(1-_.y);var V="left";S.isRightAnchor(_)&&(D.lx-=F,V="right"),S.isCenterAnchor(_)&&(D.lx-=F/2,V="center");var j="top";S.isBottomAnchor(_)&&(D.ly-=U,j="bottom"),S.isMiddleAnchor(_)&&(D.ly-=U/2,j="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),R.autoMargin(w,M(_),{x:_.x,y:_.y,l:F*({right:1,center:.5}[V]||0),r:F*({left:1,center:.5}[V]||0),b:U*({top:1,middle:.5}[j]||0),t:U*({bottom:1,middle:.5}[j]||0)})}function M(w){return t.autoMarginIdRoot+w._index}function s(w,_,D,N){N=N||{};var z=w.select("."+t.itemRectClassName),F=w.select("."+t.itemTextClassName),U=_.borderwidth,B=D.index,V=_._dims;C.setTranslate(w,U+D.x,U+D.y);var j=["up","down"].indexOf(_.direction)!==-1,Q=N.height||(j?V.heights[B]:V.height1);z.attr({x:0,y:0,width:N.width||(j?V.width1:V.widths[B]),height:Q});var ee=_.font.size*r,re=v.lineCount(F),ue=(re-1)*ee/2;v.positionText(F,t.textOffsetX,Q/2-ue+t.textOffsetY),j?D.y+=V.heights[B]+D.yPad:D.x+=V.widths[B]+D.xPad,D.index++}function E(w,_){w.attr(t.menuIndexAttrName,_||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,H,e){var g=e(73712);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,H,e){G.exports=S;var g=e(33428),R=e(76308),i=e(43616),C=e(3400);function S(v,d,r){this.gd=v,this.container=d,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(d,r,t){var a=this.gd._fullLayout,n=a.width,f=a.height;this.position=d;var u=this.position.l,l=this.position.w,y=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",o=T==="left",p=T==="right",x=T==="up",b=l,P=h,m,L,M,s;!c&&!o&&!p&&!x&&(this.position.direction="down",c=!0);var E=c||x;E?(m=u,L=m+b,c?(M=y,s=Math.min(M+P,f),P=s-M):(s=y+P,M=Math.max(s-P,0),P=s-M)):(M=y,s=M+P,o?(L=u+b,m=Math.max(L-b,0),b=L-m):(m=u,L=Math.min(m+b,n),b=L-m)),this._box={l:m,t:M,w:b,h:P};var w=l>b,_=S.barLength+2*S.barPad,D=S.barWidth+2*S.barPad,N=u,z=y+h;z+D>f&&(z=f-D);var F=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(R.fill,S.barColor),w?(this.hbar=F.attr({rx:S.barRadius,ry:S.barRadius,x:N,y:z,width:_,height:D}),this._hbarXMin=N+_/2,this._hbarTranslateMax=b-_):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=h>P,B=S.barWidth+2*S.barPad,V=S.barLength+2*S.barPad,j=u+l,Q=y;j+B>n&&(j=n-B);var ee=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);ee.exit().on(".drag",null).remove(),ee.enter().append("rect").classed("scrollbar-vertical",!0).call(R.fill,S.barColor),U?(this.vbar=ee.attr({rx:S.barRadius,ry:S.barRadius,x:j,y:Q,width:B,height:V}),this._vbarYMin=Q+V/2,this._vbarTranslateMax=P-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var re=this.id,ue=m-.5,J=U?L+B+.5:L+.5,X=M-.5,ne=w?s+D+.5:s+.5,Y=a._topdefs.selectAll("#"+re).data(w||U?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",re).append("rect"),w||U?(this._clipRect=Y.select("rect").attr({x:Math.floor(ue),y:Math.floor(X),width:Math.ceil(J)-Math.floor(ue),height:Math.ceil(ne)-Math.floor(X)}),this.container.call(i.setClipUrl,re,this.gd),this.bg.attr({x:u,y,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),w||U){var oe=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var le=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(le),U&&this.vbar.on(".drag",null).call(le)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var d=this.translateX,r=this.translateY;this.hbar&&(d-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(d,r)},S.prototype._onBoxWheel=function(){var d=this.translateX,r=this.translateY;this.hbar&&(d+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(d,r)},S.prototype._onBarDrag=function(){var d=this.translateX,r=this.translateY;if(this.hbar){var t=d+this._hbarXMin,a=t+this._hbarTranslateMax,n=C.constrain(g.event.x,t,a),f=(n-t)/(a-t),u=this.position.w-this._box.w;d=f*u}if(this.vbar){var l=r+this._vbarYMin,y=l+this._vbarTranslateMax,h=C.constrain(g.event.y,l,y),T=(h-l)/(y-l),c=this.position.h-this._box.h;r=T*c}this.setTranslate(d,r)},S.prototype.setTranslate=function(d,r){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(d=C.constrain(d||0,0,t),r=C.constrain(r||0,0,a),this.translateX=d,this.translateY=r,this.container.call(i.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=d/t;this.hbar.call(i.setTranslate,d+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/a;this.vbar.call(i.setTranslate,d,r+f*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(H,e,g){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",H,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(G,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},64884:function(G,H,e){H.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),R=H.register=g.register,i=e(22448),C=Object.keys(i),S=0;S<C.length;S++){var v=C[S];v.charAt(0)!=="_"&&(H[v]=i[v]),R({moduleType:"apiMethod",name:v,fn:i[v]})}R(e(65875)),R([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),R([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(R(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(9224);var d=e(93024),r=e(7316);H.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},H.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},H.Snapshot=e(78904),H.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,H){H.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},H.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},H.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},H.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},H.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},H.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(G,H,e){var g=e(20435),R=g.mod,i=g.modHalf,C=Math.PI,S=2*C;function v(T){return T/180*C}function d(T){return T/C*180}function r(T){return Math.abs(T[1]-T[0])>S-1e-14}function t(T,c){return i(c-T,S)}function a(T,c){return Math.abs(t(T,c))}function n(T,c){if(r(c))return!0;var o,p;c[0]<c[1]?(o=c[0],p=c[1]):(o=c[1],p=c[0]),o=R(o,S),p=R(p,S),o>p&&(p+=S);var x=R(T,S),b=x+S;return x>=o&&x<=p||b>=o&&b<=p}function f(T,c,o,p){if(!n(c,p))return!1;var x,b;return o[0]<o[1]?(x=o[0],b=o[1]):(x=o[1],b=o[0]),T>=x&&T<=b}function u(T,c,o,p,x,b,P){x=x||0,b=b||0;var m=r([o,p]),L,M,s,E,w;m?(L=0,M=C,s=S):o<p?(L=o,s=p):(L=p,s=o),T<c?(E=T,w=c):(E=c,w=T);function _(F,U){return[F*Math.cos(U)+x,b-F*Math.sin(U)]}var D=Math.abs(s-L)<=C?0:1;function N(F,U,B){return"A"+[F,F]+" "+[0,D,B]+" "+_(F,U)}var z;return m?E===null?z="M"+_(w,L)+N(w,M,0)+N(w,s,0)+"Z":z="M"+_(E,L)+N(E,M,0)+N(E,s,0)+"ZM"+_(w,L)+N(w,M,1)+N(w,s,1)+"Z":E===null?(z="M"+_(w,L)+N(w,s,0),P&&(z+="L0,0Z")):z="M"+_(E,L)+"L"+_(w,L)+N(w,s,0)+"L"+_(E,s)+N(E,L,1)+"Z",z}function l(T,c,o,p,x){return u(null,T,c,o,p,x,0)}function y(T,c,o,p,x){return u(null,T,c,o,p,x,1)}function h(T,c,o,p,x,b){return u(T,c,o,p,x,b,1)}G.exports={deg2rad:v,rad2deg:d,angleDelta:t,angleDist:a,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:y,pathAnnulus:h}},38116:function(G,H,e){var g=e(83160).decode,R=e(63620),i=Array.isArray,C=ArrayBuffer,S=DataView;function v(u){return C.isView(u)&&!(u instanceof S)}H.isTypedArray=v;function d(u){return i(u)||v(u)}H.isArrayOrTypedArray=d;function r(u){return!d(u[0])}H.isArray1D=r,H.ensureArray=function(u,l){return i(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function a(u){return u.constructor===ArrayBuffer}H.isArrayBuffer=a,H.decodeTypedArraySpec=function(u){var l=[],y=n(u),h=y.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,o=y.bdata;a(o)||(o=g(o));var p=y.shape===void 0?[o.byteLength/c]:(""+y.shape).split(",");p.reverse();var x=p.length,b,P,m=+p[0],L=c*m,M=0;if(x===1)l=new T(o);else if(x===2)for(b=+p[1],P=0;P<b;P++)l[P]=new T(o,M,m),M+=L;else if(x===3){b=+p[1];for(var s=+p[2],E=0;E<s;E++)for(l[E]=[],P=0;P<b;P++)l[E][P]=new T(o,M,m),M+=L}else throw new Error("ndim: "+x+'is not supported with the shape:"'+y.shape+'"');return l.bdata=y.bdata,l.dtype=y.dtype,l.shape=p.reverse().join(","),u._inputArray=l,l},H.isTypedArraySpec=function(u){return R(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||a(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}H.concat=function(){var u=[],l=!0,y=0,h,T,c,o,p,x,b,P;for(c=0;c<arguments.length;c++)o=arguments[c],x=o.length,x&&(T?u.push(o):(T=o,p=x),i(o)?h=!1:(l=!1,y?h!==o.constructor&&(h=!1):h=o.constructor),y+=x);if(!y)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(h){for(b=new h(y),b.set(T),c=0;c<u.length;c++)o=u[c],b.set(o,p),p+=o.length;return b}for(b=new Array(y),P=0;P<T.length;P++)b[P]=T[P];for(c=0;c<u.length;c++){for(o=u[c],P=0;P<o.length;P++)b[p+P]=o[P];p+=P}return b},H.maxRowLength=function(u){return f(u,Math.max,0)},H.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,y){if(d(u))if(d(u[0])){for(var h=y,T=0;T<u.length;T++)h=l(h,u[T].length);return h}else return u.length;return 0}},54037:function(G,H,e){var g=e(38248),R=e(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(S){return typeof S=="string"&&(S=S.replace(i,"")),g(S)?Number(S):R}},73696:function(G){G.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(R){R.regl&&R.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,H,e){var g=e(38248),R=e(49760),i=e(45464),C=e(88304),S=e(76308),v=e(13448).DESELECTDIM,d=e(22296),r=e(53756).counter,t=e(20435).modHalf,a=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,f=e(38116).decodeTypedArraySpec;H.valObjectMeta={data_array:{coerceFunction:function(l,y,h){y.set(a(l)?l:n(l)?f(l):h)}},enumerated:{coerceFunction:function(l,y,h,T){T.coerceNumber&&(l=+l),T.values.indexOf(l)===-1?y.set(h):y.set(l)},validateFunction:function(l,y){y.coerceNumber&&(l=+l);for(var h=y.values,T=0;T<h.length;T++){var c=String(h[T]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var o=new RegExp(c.substr(1,c.length-2));if(o.test(l))return!0}else if(l===h[T])return!0}return!1}},boolean:{coerceFunction:function(l,y,h){l===!0||l===!1?y.set(l):y.set(h)}},number:{coerceFunction:function(l,y,h,T){!g(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?y.set(h):y.set(+l)}},integer:{coerceFunction:function(l,y,h,T){l%1||!g(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?y.set(h):y.set(+l)}},string:{coerceFunction:function(l,y,h,T){if(typeof l!="string"){var c=typeof l=="number";T.strict===!0||!c?y.set(h):y.set(String(l))}else T.noBlank&&!l?y.set(h):y.set(l)}},color:{coerceFunction:function(l,y,h){R(l).isValid()?y.set(l):y.set(h)}},colorlist:{coerceFunction:function(l,y,h){function T(c){return R(c).isValid()}!Array.isArray(l)||!l.length?y.set(h):l.every(T)?y.set(l):y.set(h)}},colorscale:{coerceFunction:function(l,y,h){y.set(C.get(l,h))}},angle:{coerceFunction:function(l,y,h){l==="auto"?y.set("auto"):g(l)?y.set(t(+l,360)):y.set(h)}},subplotid:{coerceFunction:function(l,y,h,T){var c=T.regex||r(h);if(typeof l=="string"&&c.test(l)){y.set(l);return}y.set(h)},validateFunction:function(l,y){var h=y.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,y,h,T){if((T.extras||[]).indexOf(l)!==-1){y.set(l);return}if(typeof l!="string"){y.set(h);return}for(var c=l.split("+"),o=0;o<c.length;){var p=c[o];T.flags.indexOf(p)===-1||c.indexOf(p)<o?c.splice(o,1):o++}c.length?y.set(c.join("+")):y.set(h)}},any:{coerceFunction:function(l,y,h){l===void 0?y.set(h):y.set(n(l)?f(l):l)}},info_array:{coerceFunction:function(l,y,h,T){function c(N,z,F){var U,B={set:function(V){U=V}};return F===void 0&&(F=z.dflt),H.valObjectMeta[z.valType].coerceFunction(N,B,F,z),U}if(n(l)&&(l=f(l)),!a(l)){y.set(h);return}var o=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(l)&&a(l[0]),p=T.items,x=[],b=Array.isArray(p),P=b&&o&&a(p[0]),m=o&&b&&!P,L=b&&!m?p.length:l.length,M,s,E,w,_,D;if(h=Array.isArray(h)?h:[],o)for(M=0;M<L;M++)for(x[M]=[],E=a(l[M])?l[M]:[],m?_=p.length:b?_=p[M].length:_=E.length,s=0;s<_;s++)m?w=p[s]:b?w=p[M][s]:w=p,D=c(E[s],w,(h[M]||[])[s]),D!==void 0&&(x[M][s]=D);else for(M=0;M<L;M++)D=c(l[M],b?p[M]:p,h[M]),D!==void 0&&(x[M]=D);y.set(x)},validateFunction:function(l,y){if(!a(l))return!1;var h=y.items,T=Array.isArray(h),c=y.dimensions===2;if(!y.freeLength&&l.length!==h.length)return!1;for(var o=0;o<l.length;o++)if(c){if(!a(l[o])||!y.freeLength&&l[o].length!==h[o].length)return!1;for(var p=0;p<l[o].length;p++)if(!u(l[o][p],T?h[o][p]:h))return!1}else if(!u(l[o],T?h[o]:h))return!1;return!0}}},H.coerce=function(l,y,h,T,c){var o=d(h,T).get(),p=d(l,T),x=d(y,T),b=p.get(),P=y._template;if(b===void 0&&P&&(b=d(P,T).get(),P=0),c===void 0&&(c=o.dflt),o.arrayOk){if(a(b))return x.set(b),b;if(n(b))return b=f(b),x.set(b),b}var m=H.valObjectMeta[o.valType].coerceFunction;m(b,x,c,o);var L=x.get();return P&&L===c&&!u(b,o)&&(b=d(P,T).get(),m(b,x,c,o),L=x.get()),L},H.coerce2=function(l,y,h,T,c){var o=d(l,T),p=H.coerce(l,y,h,T,c),x=o.get();return x!=null?p:!1},H.coerceFont=function(l,y,h,T){T||(T={});var c={};return h=h||{},c.family=l(y+".family",h.family),c.size=l(y+".size",h.size),c.color=l(y+".color",h.color),c.weight=l(y+".weight",h.weight),c.style=l(y+".style",h.style),T.noFontVariant||(c.variant=l(y+".variant",h.variant)),c},H.coercePattern=function(l,y,h,T){var c=l(y+".shape");if(c){l(y+".solidity"),l(y+".size");var o=l(y+".fillmode"),p=o==="overlay";if(!T){var x=l(y+".bgcolor",p?h:void 0);l(y+".fgcolor",p?S.contrast(x):h)}l(y+".fgopacity",p?.5:1)}},H.coerceHoverinfo=function(l,y,h){var T=y._module.attributes,c=T.hoverinfo?T:i,o=c.hoverinfo,p;if(h._dataLength===1){var x=o.dflt==="all"?o.flags.slice():o.dflt.split("+");x.splice(x.indexOf("name"),1),p=x.join("+")}return H.coerce(l,y,c,"hoverinfo",p)},H.coerceSelectionMarkerOpacity=function(l,y){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var T,c;!a(h)&&!l.selected&&!l.unselected&&(T=h,c=v*h),y("selected.marker.opacity",T),y("unselected.marker.opacity",c)}}};function u(l,y){var h=H.valObjectMeta[y.valType];if(y.arrayOk&&a(l))return!0;if(h.validateFunction)return h.validateFunction(l,y);var T={},c=T,o={set:function(p){c=p}};return h.coerceFunction(l,o,T,y),c!==T}H.validate=u},67555:function(G,H,e){var g=e(94336).Yn,R=e(38248),i=e(24248),C=e(20435).mod,S=e(39032),v=S.BADNUM,d=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,a=S.ONESEC,n=S.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(z){return z&&f.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}H.dateTick0=function(z,F){var U=c(z,!!F);if(F<2)return U;var B=H.dateTime2ms(U,z);return B+=d*(F-1),H.ms2DateTime(B,0,z)};function c(z,F){return T(z)?F?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:f.getComponentMethod("calendars","CANONICAL_TICK")[z]:F?"2000-01-02":"2000-01-01"}H.dfltRange=function(z){return T(z)?f.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},H.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var o,p;H.dateTime2ms=function(z,F){if(H.isJSDate(z)){var U=z.getTimezoneOffset()*t,B=(z.getUTCMinutes()-z.getMinutes())*t+(z.getUTCSeconds()-z.getSeconds())*a+(z.getUTCMilliseconds()-z.getMilliseconds());if(B){var V=3*t;U=U-V/2+C(B-U+V/2,V)}return z=Number(z)-U,z>=o&&z<=p?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var j=T(F),Q=z.charAt(0);j&&(Q==="G"||Q==="g")&&(z=z.substr(1),F="");var ee=j&&F.substr(0,7)==="chinese",re=z.match(ee?y:l);if(!re)return v;var ue=re[1],J=re[3]||"1",X=Number(re[5]||1),ne=Number(re[7]||0),Y=Number(re[9]||0),oe=Number(re[11]||0);if(j){if(ue.length===2)return v;ue=Number(ue);var le;try{var Z=f.getComponentMethod("calendars","getCal")(F);if(ee){var $=J.charAt(J.length-1)==="i";J=parseInt(J,10),le=Z.newDate(ue,Z.toMonthIndex(ue,J,$),X)}else le=Z.newDate(ue,Number(J),X)}catch{return v}return le?(le.toJD()-n)*d+ne*r+Y*t+oe*a:v}ue.length===2?ue=(Number(ue)+2e3-h)%100+h:ue=Number(ue),J-=1;var se=new Date(Date.UTC(2e3,J,X,ne,Y));return se.setUTCFullYear(ue),se.getUTCMonth()!==J||se.getUTCDate()!==X?v:se.getTime()+oe*a},o=H.MIN_MS=H.dateTime2ms("-9999"),p=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(z,F){return H.dateTime2ms(z,F)!==v};function x(z,F){return String(z+Math.pow(10,F)).substr(1)}var b=90*d,P=3*r,m=5*t;H.ms2DateTime=function(z,F,U){if(typeof z!="number"||!(z>=o&&z<=p))return v;F||(F=0);var B=Math.floor(C(z+.05,1)*10),V=Math.round(z-B/10),j,Q,ee,re,ue,J;if(T(U)){var X=Math.floor(V/d)+n,ne=Math.floor(C(z,d));try{j=f.getComponentMethod("calendars","getCal")(U).fromJD(X).formatDate("yyyy-mm-dd")}catch{j=u("G%Y-%m-%d")(new Date(V))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;Q=F<b?Math.floor(ne/r):0,ee=F<b?Math.floor(ne%r/t):0,re=F<P?Math.floor(ne%t/a):0,ue=F<m?ne%a*10+B:0}else J=new Date(V),j=u("%Y-%m-%d")(J),Q=F<b?J.getUTCHours():0,ee=F<b?J.getUTCMinutes():0,re=F<P?J.getUTCSeconds():0,ue=F<m?J.getUTCMilliseconds()*10+B:0;return L(j,Q,ee,re,ue)},H.ms2DateTimeLocal=function(z){if(!(z>=o+d&&z<=p-d))return v;var F=Math.floor(C(z+.05,1)*10),U=new Date(Math.round(z-F/10)),B=g("%Y-%m-%d")(U),V=U.getHours(),j=U.getMinutes(),Q=U.getSeconds(),ee=U.getUTCMilliseconds()*10+F;return L(B,V,j,Q,ee)};function L(z,F,U,B,V){if((F||U||B||V)&&(z+=" "+x(F,2)+":"+x(U,2),(B||V)&&(z+=":"+x(B,2),V))){for(var j=4;V%10===0;)j-=1,V/=10;z+="."+x(V,j)}return z}H.cleanDate=function(z,F,U){if(z===v)return F;if(H.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(T(U))return i.error("JS Dates and milliseconds are incompatible with world calendars",z),F;if(z=H.ms2DateTimeLocal(+z),!z&&F!==void 0)return F}else if(!H.isDateTime(z,U))return i.error("unrecognized date",z),F;return z};var M=/%\d?f/g,s=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function w(z,F,U,B){z=z.replace(M,function(j){var Q=Math.min(+j.charAt(1)||6,6),ee=(F/1e3%1+2).toFixed(Q).substr(2).replace(/0+$/,"")||"0";return ee});var V=new Date(Math.floor(F+.05));if(z=z.replace(s,function(){return E[U("%q")(V)]}),T(B))try{z=f.getComponentMethod("calendars","worldCalFmt")(z,F,B)}catch{return"Invalid"}return U(z)(V)}var _=[59,59.9,59.99,59.999,59.9999];function D(z,F){var U=C(z+.05,d),B=x(Math.floor(U/r),2)+":"+x(C(Math.floor(U/t),60),2);if(F!=="M"){R(F)||(F=0);var V=Math.min(C(z/a,60),_[F]),j=(100+V).toFixed(F).substr(1);F>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),B+=":"+j}return B}H.formatDate=function(z,F,U,B,V,j){if(V=T(V)&&V,!F)if(U==="y")F=j.year;else if(U==="m")F=j.month;else if(U==="d")F=j.dayMonth+`
`+j.year;else return D(z,U)+`
`+w(j.dayMonthYear,z,B,V);return w(F,z,B,V)};var N=3*d;H.incrementMonth=function(z,F,U){U=T(U)&&U;var B=C(z,d);if(z=Math.round(z-B),U)try{var V=Math.round(z/d)+n,j=f.getComponentMethod("calendars","getCal")(U),Q=j.fromJD(V);return F%12?j.add(Q,F,"m"):j.add(Q,F/12,"y"),(Q.toJD()-n)*d+B}catch{i.error("invalid ms "+z+" in calendar "+U)}var ee=new Date(z+N);return ee.setUTCMonth(ee.getUTCMonth()+F)+B-N},H.findExactDates=function(z,F){for(var U=0,B=0,V=0,j=0,Q,ee,re=T(F)&&f.getComponentMethod("calendars","getCal")(F),ue=0;ue<z.length;ue++){if(ee=z[ue],!R(ee)){j++;continue}if(!(ee%d))if(re)try{Q=re.fromJD(ee/d+n),Q.day()===1?Q.month()===1?U++:B++:V++}catch{}else Q=new Date(ee),Q.getUTCDate()===1?Q.getUTCMonth()===0?U++:B++:V++}B+=U,V+=B;var J=z.length-j;return{exactYears:U/J,exactMonths:B/J,exactDays:V/J}}},52200:function(G,H,e){var g=e(33428),R=e(24248),i=e(52248),C=e(36524);function S(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=g.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function d(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var o="plotly.js-style-"+h,p=document.getElementById(o);p||(p=document.createElement("style"),p.setAttribute("id",o),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var x=p.sheet;x.insertRule?x.insertRule(T+"{"+c+"}",0):x.addRule?x.addRule(T,c,0):R.warn("addStyleRule failed")}function a(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&d(c)}function n(h){var T=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(o){var p=f(o);if(p){var x=i.convertCssMatrix(p);c=C.multiply(c,c,x)}}),c}function f(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function u(h){for(var T=[];l(h);)T.push(h),h=h.parentNode;return T}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function y(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}G.exports={getGraphDiv:S,isPlotDiv:v,removeElement:d,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:a,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:y}},95924:function(G,H,e){var g=e(61252).EventEmitter,R={init:function(i){if(i._ev instanceof g)return i;var C=new g,S=new g;return i._ev=C,i._internalEv=S,i.on=C.on.bind(C),i.once=C.once.bind(C),i.removeListener=C.removeListener.bind(C),i.removeAllListeners=C.removeAllListeners.bind(C),i._internalOn=S.on.bind(S),i._internalOnce=S.once.bind(S),i._removeInternalListener=S.removeListener.bind(S),i._removeAllInternalListeners=S.removeAllListeners.bind(S),i.emit=function(v,d){typeof jQuery<"u"&&jQuery(i).trigger(v,d),C.emit(v,d),S.emit(v,d)},i},triggerHandler:function(i,C,S){var v,d;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(C,S));var r=i._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function a(f){if(f.listener){if(r.removeListener(C,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)a(t[n]);return d=a(t[n]),v!==void 0?v:d},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};G.exports=R},92880:function(G,H,e){var g=e(63620),R=Array.isArray;function i(S,v){var d,r;for(d=0;d<S.length;d++){if(r=S[d],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[d]=r)}return!0}H.extendFlat=function(){return C(arguments,!1,!1,!1)},H.extendDeep=function(){return C(arguments,!0,!1,!1)},H.extendDeepAll=function(){return C(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(S,v,d,r){var t=S[0],a=S.length,n,f,u,l,y,h,T;if(a===2&&R(t)&&R(S[1])&&t.length===0){if(T=i(S[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<a;c++){n=S[c];for(f in n)u=t[f],l=n[f],r&&R(l)?t[f]=l:v&&l&&(g(l)||(y=R(l)))?(y?(y=!1,h=u&&R(u)?u:[]):h=u&&g(u)?u:{},t[f]=C([h,l],v,d,r)):(typeof l<"u"||d)&&(t[f]=l)}return t}},68944:function(G){G.exports=function(e){for(var g={},R=[],i=0,C=0;C<e.length;C++){var S=e[C];g[S]!==1&&(g[S]=1,R[i++]=S)}return R}},43880:function(G){G.exports=function(i){for(var C=g(i)?e:H,S=[],v=0;v<i.length;v++){var d=i[v];C(d)&&S.push(d)}return S};function H(R){return R.visible===!0}function e(R){var i=R[0].trace;return i.visible===!0&&i._length!==0}function g(R){return Array.isArray(R)&&Array.isArray(R[0])&&R[0][0]&&R[0][0].trace}},27144:function(G,H,e){var g=e(33428),R=e(36116),i=e(40440),C=e(77844),S=e(42428),v=e(35536),d=e(24248),r=e(63620),t=e(22296),a=e(92065),n=Object.keys(R),f={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var b=0;b<n.length;b++){var P=n[b],m=new RegExp(R[P]);if(m.test(x.trim().toLowerCase()))return P}return d.log("Unrecognized country name: "+x+"."),!1}function l(x,b,P){if(!b||typeof b!="string")return!1;var m=f[x](b),L,M,s;if(m){if(x==="USA-states")for(L=[],s=0;s<P.length;s++)M=P[s],M.properties&&M.properties.gu&&M.properties.gu==="USA"&&L.push(M);else L=P;for(s=0;s<L.length;s++)if(M=L[s],M.id===m)return M;d.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(x){var b=x.geometry,P=b.coordinates,m=x.id,L=[],M,s,E,w;function _(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(m==="RUS"||m==="FJI"?M=function(D){var N;if(_(D)===null)N=D;else for(N=new Array(D.length),w=0;w<D.length;w++)N[w]=[D[w][0]<0?D[w][0]+360:D[w][0],D[w][1]];L.push(a.tester(N))}:m==="ATA"?M=function(D){var N=_(D);if(N===null)return L.push(a.tester(D));var z=new Array(D.length+1),F=0;for(w=0;w<D.length;w++)w>N?z[F++]=[D[w][0]+360,D[w][1]]:w===N?(z[F++]=D[w],z[F++]=[D[w][0],-90]):z[F++]=D[w];var U=a.tester(z);U.pts.pop(),L.push(U)}:M=function(D){L.push(a.tester(D))},b.type){case"MultiPolygon":for(s=0;s<P.length;s++)for(E=0;E<P[s].length;E++)M(P[s][E]);break;case"Polygon":for(s=0;s<P.length;s++)M(P[s]);break}return L}function h(x){var b=x.geojson,P=window.PlotlyGeoAssets||{},m=typeof b=="string"?P[b]:b;return r(m)?m:(d.error("Oops ... something went wrong when fetching "+b),!1)}function T(x){var b=x[0].trace,P=h(b);if(!P)return!1;var m={},L=[],M;for(M=0;M<b._length;M++){var s=x[M];(s.loc||s.loc===0)&&(m[s.loc]=s)}function E(D){var N=t(D,b.featureidkey||"id").get(),z=m[N];if(z){var F=D.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var U={type:"Feature",id:N,geometry:F,properties:{}};U.properties.ct=c(U),z.fIn=D,z.fOut=U,L.push(U)}else d.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[N]}switch(P.type){case"FeatureCollection":var w=P.features;for(M=0;M<w.length;M++)E(w[M]);break;case"Feature":E(P);break;default:return d.warn(["Invalid GeoJSON type",(P.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in m)d.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+b.featureidkey+"*."].join(" "));return L}function c(x){var b=x.geometry,P;if(b.type==="MultiPolygon")for(var m=b.coordinates,L=0,M=0;M<m.length;M++){var s={type:"Polygon",coordinates:m[M]},E=i.default(s);E>L&&(L=E,P=s)}else P=b;return C.default(P).geometry.coordinates}function o(x){var b=window.PlotlyGeoAssets||{},P=[];function m(w){return new Promise(function(_,D){g.json(w,function(N,z){if(N){delete b[w];var F=N.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return D(new Error(F))}return b[w]=z,_(z)})})}function L(w){return new Promise(function(_,D){var N=0,z=setInterval(function(){if(b[w]&&b[w]!=="pending")return clearInterval(z),_(b[w]);if(N>100)return clearInterval(z),D("Unexpected error while fetching from "+w);N++},50)})}for(var M=0;M<x.length;M++){var s=x[M][0].trace,E=s.geojson;typeof E=="string"&&(b[E]?b[E]==="pending"&&P.push(L(E)):(b[E]="pending",P.push(m(E))))}return P}function p(x){return S.default(x)}G.exports={locationToFeature:l,feature2polygons:y,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:o,computeBbox:p}},44808:function(G,H,e){var g=e(39032).BADNUM;H.calcTraceToLineCoords=function(R){for(var i=R[0].trace,C=i.connectgaps,S=[],v=[],d=0;d<R.length;d++){var r=R[d],t=r.lonlat;t[0]!==g?v.push(t):!C&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},H.makeLine=function(R){return R.length===1?{type:"LineString",coordinates:R[0]}:{type:"MultiLineString",coordinates:R}},H.makePolygon=function(R){if(R.length===1)return{type:"Polygon",coordinates:R};for(var i=new Array(R.length),C=0;C<R.length;C++)i[C]=[R[C]];return{type:"MultiPolygon",coordinates:i}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,H,e){var g=e(20435).mod;H.segmentsIntersect=R;function R(d,r,t,a,n,f,u,l){var y=t-d,h=n-d,T=u-n,c=a-r,o=f-r,p=l-f,x=y*p-T*c;if(x===0)return null;var b=(h*p-T*o)/x,P=(h*c-y*o)/x;return P<0||P>1||b<0||b>1?null:{x:d+y*b,y:r+c*b}}H.segmentDistance=function(r,t,a,n,f,u,l,y){if(R(r,t,a,n,f,u,l,y))return 0;var h=a-r,T=n-t,c=l-f,o=y-u,p=h*h+T*T,x=c*c+o*o,b=Math.min(i(h,T,p,f-r,u-t),i(h,T,p,l-r,y-t),i(c,o,x,r-f,t-u),i(c,o,x,a-f,n-u));return Math.sqrt(b)};function i(d,r,t,a,n){var f=a*d+n*r;if(f<0)return a*a+n*n;if(f>t){var u=a-d,l=n-r;return u*u+l*l}else{var y=a*r-n*d;return y*y/t}}var C,S,v;H.getTextLocation=function(r,t,a,n){if((r!==S||n!==v)&&(C={},S=r,v=n),C[a])return C[a];var f=r.getPointAtLength(g(a-n/2,t)),u=r.getPointAtLength(g(a+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),y=r.getPointAtLength(g(a,t)),h=(y.x*4+f.x+u.x)/6,T=(y.y*4+f.y+u.y)/6,c={x:h,y:T,theta:l};return C[a]=c,c},H.clearLocationCache=function(){S=null},H.getVisibleSegment=function(r,t,a){var n=t.left,f=t.right,u=t.top,l=t.bottom,y=0,h=r.getTotalLength(),T=h,c,o;function p(b){var P=r.getPointAtLength(b);b===0?c=P:b===h&&(o=P);var m=P.x<n?n-P.x:P.x>f?P.x-f:0,L=P.y<u?u-P.y:P.y>l?P.y-l:0;return Math.sqrt(m*m+L*L)}for(var x=p(y);x;){if(y+=x+a,y>T)return;x=p(y)}for(x=p(T);x;){if(T-=x+a,y>T)return;x=p(T)}return{min:y,max:T,len:T-y,total:h,isClosed:y===0&&T===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},H.findPointOnPath=function(r,t,a,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,y=r.getPointAtLength(0)[a]>r.getPointAtLength(f)[a]?-1:1,h=0,T=0,c=f,o,p,x;h<l;){if(o=(T+c)/2,p=r.getPointAtLength(o),x=p[a]-t,Math.abs(x)<u)return p;y*x>0?c=o:T=o,h++}return p}},33040:function(G,H,e){var g=e(38248),R=e(49760),i=e(72160),C=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,d=i(S),r=1;function t(l,y){var h=l;return h[3]*=y,h}function a(l){if(g(l))return d;var y=i(l);return y.length?y:d}function n(l){return g(l)?l:r}function f(l,y,h){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),o=v(y),p=C.extractOpts(l),x=[],b,P,m,L,M;if(p.colorscale!==void 0?b=C.makeColorScaleFuncFromTrace(l):b=a,c?P=function(E,w){return E[w]===void 0?d:i(b(E[w]))}:P=a,o?m=function(E,w){return E[w]===void 0?r:n(E[w])}:m=n,c||o)for(var s=0;s<h;s++)L=P(T,s),M=m(y,s),x[s]=t(L,M);else x=t(i(T),y);return x}function u(l){var y=C.extractOpts(l),h=y.colorscale;return y.reversescale&&(h=C.flipScale(y.colorscale)),h.map(function(T){var c=T[0],o=R(T[1]),p=o.toRgb();return{index:c,rgb:[p.r,p.g,p.b,p.a]}})}G.exports={formatColor:f,parseColorScale:u}},71688:function(G,H,e){var g=e(35536);function R(i){return[i]}G.exports={keyFun:function(i){return i.key},repeat:R,descend:g,wrap:R,unwrap:function(i){return i[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,g){if(!g)return e;var R=1/Math.abs(g),i=R>1?(R*e+R*g)/R:e+g,C=String(i).length;if(C>16){var S=String(g).length,v=String(e).length;if(C>=v+S){var d=parseFloat(i).toPrecision(12);d.indexOf("e+")===-1&&(i=+d)}}return i}},3400:function(G,H,e){var g=e(33428),R=e(94336).E9,i=e(57624).E9,C=e(38248),S=e(39032),v=S.FP_SAFE,d=-v,r=S.BADNUM,t=G.exports={};t.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var a={};t.warnBadFormat=function(oe){var le=String(oe);a[le]||(a[le]=1,t.warn('encountered bad format: "'+le+'"'))},t.noFormat=function(oe){return String(oe)},t.numberFormat=function(oe){var le;try{le=i(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return le},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var p=e(92348);t.segmentsIntersect=p.segmentsIntersect,t.segmentDistance=p.segmentDistance,t.getTextLocation=p.getTextLocation,t.clearLocationCache=p.clearLocationCache,t.getVisibleSegment=p.getVisibleSegment,t.findPointOnPath=p.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var b=e(24248);t.log=b.log,t.warn=b.warn,t.error=b.error;var P=e(53756);t.counterRegex=P.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var L=e(52200);t.getGraphDiv=L.getGraphDiv,t.isPlotDiv=L.isPlotDiv,t.removeElement=L.removeElement,t.addStyleRule=L.addStyleRule,t.addRelatedStyleRule=L.addRelatedStyleRule,t.deleteRelatedStyleRule=L.deleteRelatedStyleRule,t.getFullTransformMatrix=L.getFullTransformMatrix,t.getElementTransformMatrix=L.getElementTransformMatrix,t.getElementAndAncestors=L.getElementAndAncestors,t.equalDomRects=L.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(le){return C(le)?(le=Number(le),le>v||le<d?r:le):r},t.isIndex=function(oe,le){return le!==void 0&&oe>=le?!1:C(oe)&&oe>=0&&oe%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(oe,le){for(var Z=new Array(le),$=0;$<le;$++)Z[$]=oe;return Z},t.swapAttrs=function(oe,le,Z,$){Z||(Z="x"),$||($="y");for(var se=0;se<le.length;se++){var ae=le[se],he=t.nestedProperty(oe,ae.replace("?",Z)),me=t.nestedProperty(oe,ae.replace("?",$)),Me=he.get();he.set(me.get()),me.set(Me)}},t.raiseToTop=function(le){le.parentNode.appendChild(le)},t.cancelTransition=function(oe){return oe.transition().duration(0)},t.constrain=function(oe,le,Z){return le>Z?Math.max(Z,Math.min(le,oe)):Math.max(le,Math.min(Z,oe))},t.bBoxIntersect=function(oe,le,Z){return Z=Z||0,oe.left<=le.right+Z&&le.left<=oe.right+Z&&oe.top<=le.bottom+Z&&le.top<=oe.bottom+Z},t.simpleMap=function(oe,le,Z,$,se){for(var ae=oe.length,he=new Array(ae),me=0;me<ae;me++)he[me]=le(oe[me],Z,$,se);return he},t.randstr=function oe(le,Z,$,se){if($||($=16),Z===void 0&&(Z=24),Z<=0)return"0";var ae=Math.log(Math.pow(2,Z))/Math.log($),he="",me,Me,Te;for(me=2;ae===1/0;me*=2)ae=Math.log(Math.pow(2,Z/me))/Math.log($)*me;var Pe=ae-Math.floor(ae);for(me=0;me<Math.floor(ae);me++)Te=Math.floor(Math.random()*$).toString($),he=Te+he;Pe&&(Me=Math.pow($,Pe),Te=Math.floor(Math.random()*Me).toString($),he=Te+he);var be=parseInt(he,$);return le&&le[he]||be!==1/0&&be>=Math.pow(2,Z)?se>10?(t.warn("randstr failed uniqueness"),he):oe(le,Z,$,(se||0)+1):he},t.OptionControl=function(oe,le){oe||(oe={}),le||(le="opt");var Z={};return Z.optionList=[],Z._newoption=function($){$[le]=oe,Z[$.name]=$,Z.optionList.push($)},Z["_"+le]=oe,Z},t.smooth=function(oe,le){if(le=Math.round(le)||0,le<2)return oe;var Z=oe.length,$=2*Z,se=2*le-1,ae=new Array(se),he=new Array(Z),me,Me,Te,Pe;for(me=0;me<se;me++)ae[me]=(1-Math.cos(Math.PI*(me+1)/le))/(2*le);for(me=0;me<Z;me++){for(Pe=0,Me=0;Me<se;Me++)Te=me+Me+1-le,Te<-Z?Te-=$*Math.round(Te/$):Te>=$&&(Te-=$*Math.floor(Te/$)),Te<0?Te=-1-Te:Te>=Z&&(Te=$-1-Te),Pe+=oe[Te]*ae[Me];he[me]=Pe}return he},t.syncOrAsync=function(oe,le,Z){var $,se;function ae(){return t.syncOrAsync(oe,le,Z)}for(;oe.length;)if(se=oe.splice(0,1)[0],$=se(le),$&&$.then)return $.then(ae);return Z&&Z(le)},t.stripTrailingSlash=function(oe){return oe.substr(-1)==="/"?oe.substr(0,oe.length-1):oe},t.noneOrAll=function(oe,le,Z){if(oe){var $=!1,se=!0,ae,he;for(ae=0;ae<Z.length;ae++)he=oe[Z[ae]],he!=null?$=!0:se=!1;if($&&!se)for(ae=0;ae<Z.length;ae++)oe[Z[ae]]=le[Z[ae]]}},t.mergeArray=function(oe,le,Z,$){var se=typeof $=="function";if(t.isArrayOrTypedArray(oe))for(var ae=Math.min(oe.length,le.length),he=0;he<ae;he++){var me=oe[he];le[he][Z]=se?$(me):me}},t.mergeArrayCastPositive=function(oe,le,Z){return t.mergeArray(oe,le,Z,function($){var se=+$;return isFinite(se)&&se>0?se:0})},t.fillArray=function(oe,le,Z,$){if($=$||t.identity,t.isArrayOrTypedArray(oe))for(var se=0;se<le.length;se++)le[se][Z]=$(oe[se])},t.castOption=function(oe,le,Z,$){$=$||t.identity;var se=t.nestedProperty(oe,Z).get();return t.isArrayOrTypedArray(se)?Array.isArray(le)&&t.isArrayOrTypedArray(se[le[0]])?$(se[le[0]][le[1]]):$(se[le]):se},t.extractOption=function(oe,le,Z,$){if(Z in oe)return oe[Z];var se=t.nestedProperty(le,$).get();if(!Array.isArray(se))return se};function M(oe){var le={};for(var Z in oe)for(var $=oe[Z],se=0;se<$.length;se++)le[$[se]]=+Z;return le}t.tagSelected=function(oe,le,Z){var $=le.selectedpoints,se=le._indexToPoints,ae;se&&(ae=M(se));function he(be){return be!==void 0&&be<oe.length}for(var me=0;me<$.length;me++){var Me=$[me];if(t.isIndex(Me)||t.isArrayOrTypedArray(Me)&&t.isIndex(Me[0])&&t.isIndex(Me[1])){var Te=ae?ae[Me]:Me,Pe=Z?Z[Te]:Te;he(Pe)&&(oe[Pe].selected=1)}}},t.selIndices2selPoints=function(oe){var le=oe.selectedpoints,Z=oe._indexToPoints;if(Z){for(var $=M(Z),se=[],ae=0;ae<le.length;ae++){var he=le[ae];if(t.isIndex(he)){var me=$[he];t.isIndex(me)&&se.push(me)}}return se}else return le},t.getTargetArray=function(oe,le){var Z=le.target;if(typeof Z=="string"&&Z){var $=t.nestedProperty(oe,Z).get();return t.isArrayOrTypedArray($)?$:!1}else if(t.isArrayOrTypedArray(Z))return Z;return!1};function s(oe,le,Z){var $={};typeof le!="object"&&(le={});var se=Z==="pieLike"?-1:3,ae=Object.keys(oe),he,me,Me;for(he=0;he<ae.length;he++)me=ae[he],Me=oe[me],!(me.charAt(0)==="_"||typeof Me=="function")&&(me==="module"?$[me]=Me:Array.isArray(Me)?me==="colorscale"||se===-1?$[me]=Me.slice():$[me]=Me.slice(0,se):t.isTypedArray(Me)?se===-1?$[me]=Me.subarray():$[me]=Me.subarray(0,se):Me&&typeof Me=="object"?$[me]=s(oe[me],le[me],Z):$[me]=Me);for(ae=Object.keys(le),he=0;he<ae.length;he++)me=ae[he],Me=le[me],(typeof Me!="object"||!(me in $)||typeof $[me]!="object")&&($[me]=Me);return $}t.minExtend=s,t.titleCase=function(oe){return oe.charAt(0).toUpperCase()+oe.substr(1)},t.containsAny=function(oe,le){for(var Z=0;Z<le.length;Z++)if(oe.indexOf(le[Z])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;t.isIOS=function(){return w.test(window.navigator.userAgent)};var _=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var oe=_.exec(window.navigator.userAgent);if(oe&&oe.length===2){var le=parseInt(oe[1]);if(!isNaN(le))return le}return null},t.isD3Selection=function(oe){return oe instanceof g.selection},t.ensureSingle=function(oe,le,Z,$){var se=oe.select(le+(Z?"."+Z:""));if(se.size())return se;var ae=oe.append(le);return Z&&ae.classed(Z,!0),$&&ae.call($),ae},t.ensureSingleById=function(oe,le,Z,$){var se=oe.select(le+"#"+Z);if(se.size())return se;var ae=oe.append(le).attr("id",Z);return $&&ae.call($),ae},t.objectFromPath=function(oe,le){for(var Z=oe.split("."),$,se=$={},ae=0;ae<Z.length;ae++){var he=Z[ae],me=null,Me=Z[ae].match(/(.*)\[([0-9]+)\]/);Me?(he=Me[1],me=Me[2],$=$[he]=[],ae===Z.length-1?$[me]=le:$[me]={},$=$[me]):(ae===Z.length-1?$[he]=le:$[he]={},$=$[he])}return se};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(oe){return oe.slice(0,2)==="__"}t.expandObjectPaths=function(oe){var le,Z,$,se,ae,he,me;if(typeof oe=="object"&&!Array.isArray(oe)){for(Z in oe)if(oe.hasOwnProperty(Z))if(le=Z.match(D)){if(se=oe[Z],$=le[1],z($))continue;delete oe[Z],oe[$]=t.extendDeepNoArrays(oe[$]||{},t.objectFromPath(Z,t.expandObjectPaths(se))[$])}else if(le=Z.match(N)){if(se=oe[Z],$=le[1],z($))continue;if(ae=parseInt(le[2]),delete oe[Z],oe[$]=oe[$]||[],le[3]===".")me=le[4],he=oe[$][ae]=oe[$][ae]||{},t.extendDeepNoArrays(he,t.objectFromPath(me,t.expandObjectPaths(se)));else{if(z($))continue;oe[$][ae]=t.expandObjectPaths(se)}}else{if(z(Z))continue;oe[Z]=t.expandObjectPaths(oe[Z])}}return oe},t.numSeparate=function(oe,le,Z){if(Z||(Z=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof oe=="number"&&(oe=String(oe));var $=/(\d+)(\d{3})/,se=le.charAt(0),ae=le.charAt(1),he=oe.split("."),me=he[0],Me=he.length>1?se+he[1]:"";if(ae&&(he.length>1||me.length>4||Z))for(;$.test(me);)me=me.replace($,"$1"+ae+"$2");return me+Me},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(oe,le){var Z={};return oe.replace(t.TEMPLATE_STRING_REGEX,function($,se){var ae;return F.test(se)?ae=le[se]:(Z[se]=Z[se]||t.nestedProperty(le,se).get,ae=Z[se]()),t.isValidTextValue(ae)?ae:""})};var U={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return re.apply(U,arguments)};var B={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return re.apply(B,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(oe){var le=oe.match(V);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:oe,op:null,number:null}}var Q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return re.apply(Q,arguments)};var ee=/^[:|\|]/;function re(oe,le,Z){var $=this,se=arguments;le||(le={});var ae={};return oe.replace(t.TEMPLATE_STRING_REGEX,function(he,me,Me){var Te=me==="xother"||me==="yother",Pe=me==="_xother"||me==="_yother",be=me==="_xother_"||me==="_yother_",Ee=me==="xother_"||me==="yother_",xe=Te||Pe||Ee||be,Ce=me;(Pe||be)&&(Ce=Ce.substring(1)),(Ee||be)&&(Ce=Ce.substring(0,Ce.length-1));var Ue=null,Ne=null;if($.parseMultDiv){var De=j(Ce);Ce=De.key,Ue=De.op,Ne=De.number}var He;if(xe){if(He=le[Ce],He===void 0)return""}else{var at,vt;for(vt=3;vt<se.length;vt++)if(at=se[vt],!!at){if(at.hasOwnProperty(Ce)){He=at[Ce];break}if(F.test(Ce)||(He=t.nestedProperty(at,Ce).get(),He=ae[Ce]||t.nestedProperty(at,Ce).get(),He&&(ae[Ce]=He)),He!==void 0)break}}if(He!==void 0&&(Ue==="*"&&(He*=Ne),Ue==="/"&&(He/=Ne)),He===void 0&&$)return $.count<$.max&&(t.warn("Variable '"+Ce+"' in "+$.name+" could not be found!"),He=he),$.count===$.max&&t.warn("Too many "+$.name+" warnings - additional warnings will be suppressed"),$.count++,he;if(Me){var ot;if(Me[0]===":"&&(ot=Z?Z.numberFormat:t.numberFormat,He!==""&&(He=ot(Me.replace(ee,""))(He))),Me[0]==="|"){ot=Z?Z.timeFormat:R;var et=t.dateTime2ms(He);He=t.formatDate(et,Me.replace(ee,""),!1,ot)}}else{var ct=Ce+"Label";le.hasOwnProperty(ct)&&(He=le[ct])}return xe&&(He="("+He+")",(Pe||be)&&(He=" "+He),(Ee||be)&&(He=He+" ")),He})}var ue=48,J=57;t.subplotSort=function(oe,le){for(var Z=Math.min(oe.length,le.length)+1,$=0,se=0,ae=0;ae<Z;ae++){var he=oe.charCodeAt(ae)||0,me=le.charCodeAt(ae)||0,Me=he>=ue&&he<=J,Te=me>=ue&&me<=J;if(Me&&($=10*$+he-ue),Te&&(se=10*se+me-ue),!Me||!Te){if($!==se)return $-se;if(he!==me)return he-me}}return se-$};var X=2e9;t.seedPseudoRandom=function(){X=2e9},t.pseudoRandom=function(){var oe=X;return X=(69069*X+1)%4294967296,Math.abs(X-oe)<429496729?t.pseudoRandom():X/4294967296},t.fillText=function(oe,le,Z){var $=Array.isArray(Z)?function(he){Z.push(he)}:function(he){Z.text=he},se=t.extractOption(oe,le,"htx","hovertext");if(t.isValidTextValue(se))return $(se);var ae=t.extractOption(oe,le,"tx","text");if(t.isValidTextValue(ae))return $(ae)},t.isValidTextValue=function(oe){return oe||oe===0},t.formatPercent=function(oe,le){le=le||0;for(var Z=(Math.round(100*oe*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",$=0;$<le;$++)Z.indexOf(".")!==-1&&(Z=Z.replace("0%","%"),Z=Z.replace(".%","%"));return Z},t.isHidden=function(oe){var le=window.getComputedStyle(oe).display;return!le||le==="none"},t.strTranslate=function(oe,le){return oe||le?"translate("+oe+","+le+")":""},t.strRotate=function(oe){return oe?"rotate("+oe+")":""},t.strScale=function(oe){return oe!==1?"scale("+oe+")":""},t.getTextTransform=function(oe){var le=oe.noCenter,Z=oe.textX,$=oe.textY,se=oe.targetX,ae=oe.targetY,he=oe.anchorX||0,me=oe.anchorY||0,Me=oe.rotate,Te=oe.scale;return Te?Te>1&&(Te=1):Te=0,t.strTranslate(se-Te*(Z+he),ae-Te*($+me))+t.strScale(Te)+(Me?"rotate("+Me+(le?"":" "+Z+" "+$)+")":"")},t.setTransormAndDisplay=function(oe,le){oe.attr("transform",t.getTextTransform(le)),oe.style("display",le.scale?null:"none")},t.ensureUniformFontSize=function(oe,le){var Z=t.extendFlat({},le);return Z.size=Math.max(le.size,oe._fullLayout.uniformtext.minsize||0),Z},t.join2=function(oe,le,Z){var $=oe.length;return $>1?oe.slice(0,-1).join(le)+Z+oe[$-1]:oe.join(le)},t.bigFont=function(oe){return Math.round(1.2*oe)};var ne=t.getFirefoxVersion(),Y=ne!==null&&ne<86;t.getPositionFromD3Event=function(){return Y?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,H,e){var g=e(22296),R=/^\w*$/,i=0,C=1,S=2,v=3,d=4;G.exports=function(t,a,n,f){n=n||"name",f=f||"value";var u,l,y,h={};a&&a.length?(y=g(t,a),l=y.get()):l=t,a=a||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var c=R.test(f),o={set:function(p,x){var b=x===null?d:i;if(!l){if(!y||b===d)return;l=[],y.set(l)}var P=T[p];if(P===void 0){if(b===d)return;b=b|v,P=l.length,T[p]=P}else x!==(c?l[P][f]:g(l[P],f).get())&&(b=b|S);var m=l[P]=l[P]||{};return m[n]=p,c?m[f]=x:g(m,f).set(x),x!==null&&(b=b&~d),h[P]=h[P]|b,o},get:function(p){if(l){var x=T[p];if(x!==void 0)return c?l[x][f]:g(l[x],f).get()}},rename:function(p,x){var b=T[p];return b===void 0||(h[b]=h[b]|C,T[x]=b,delete T[p],l[b][n]=x),o},remove:function(p){var x=T[p];if(x===void 0)return o;var b=l[x];if(Object.keys(b).length>2)return h[x]=h[x]|S,o.set(p,null);if(c){for(u=x;u<l.length;u++)h[u]=h[u]|v;for(u=x;u<l.length;u++)T[l[u][n]]--;l.splice(x,1),delete T[p]}else g(b,f).set(null),h[x]=h[x]|S|d;return o},constructUpdate:function(){for(var p,x,b={},P=Object.keys(h),m=0;m<P.length;m++)x=P[m],p=a+"["+x+"]",l[x]?(h[x]&C&&(b[p+"."+n]=l[x][n]),h[x]&S&&(c?b[p+"."+f]=h[x]&d?null:l[x][f]:b[p+"."+f]=h[x]&d?null:g(l[x],f).get())):b[p]=null;return b}};return o}},98356:function(G,H,e){var g=e(24040);G.exports=function(i,C){for(var S=i._context.locale,v=0;v<2;v++){for(var d=i._context.locales,r=0;r<2;r++){var t=(d[S]||{}).dictionary;if(t){var a=t[C];if(a)return a}d=g.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return C}},24248:function(G,H,e){var g=e(20556).dfltConfig,R=e(41792),i=G.exports={};i.log=function(){var C;if(g.logging>1){var S=["LOG:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(g.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"long")}},i.warn=function(){var C;if(g.logging>0){var S=["WARN:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}},i.error=function(){var C;if(g.logging>0){var S=["ERROR:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.error.apply(console,S)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}}},30988:function(G,H,e){var g=e(33428);G.exports=function(i,C,S){var v=i.selectAll("g."+S.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var d=i.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][d]=g.select(this)}),v}},52248:function(G,H,e){var g=e(36524);H.init2dArray=function(R,i){for(var C=new Array(R),S=0;S<R;S++)C[S]=new Array(i);return C},H.transposeRagged=function(R){var i=0,C=R.length,S,v;for(S=0;S<C;S++)i=Math.max(i,R[S].length);var d=new Array(i);for(S=0;S<i;S++)for(d[S]=new Array(C),v=0;v<C;v++)d[S][v]=R[v][S];return d},H.dot=function(R,i){if(!(R.length&&i.length)||R.length!==i.length)return null;var C=R.length,S,v;if(R[0].length)for(S=new Array(C),v=0;v<C;v++)S[v]=H.dot(R[v],i);else if(i[0].length){var d=H.transposeRagged(i);for(S=new Array(d.length),v=0;v<d.length;v++)S[v]=H.dot(R,d[v])}else for(S=0,v=0;v<C;v++)S+=R[v]*i[v];return S},H.translationMatrix=function(R,i){return[[1,0,R],[0,1,i],[0,0,1]]},H.rotationMatrix=function(R){var i=R*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},H.rotationXYMatrix=function(R,i,C){return H.dot(H.dot(H.translationMatrix(i,C),H.rotationMatrix(R)),H.translationMatrix(-i,-C))},H.apply3DTransform=function(R){return function(){var i=arguments,C=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return H.dot(R,[C[0],C[1],C[2],1]).slice(0,3)}},H.apply2DTransform=function(R){return function(){var i=arguments;i.length===3&&(i=i[0]);var C=arguments.length===1?i[0]:[i[0],i[1]];return H.dot(R,[C[0],C[1],1]).slice(0,2)}},H.apply2DTransform2=function(R){var i=H.apply2DTransform(R);return function(C){return i(C.slice(0,2)).concat(i(C.slice(2,4)))}},H.convertCssMatrix=function(R){if(R){var i=R.length;if(i===16)return R;if(i===6)return[R[0],R[1],0,0,R[2],R[3],0,0,0,0,1,0,R[4],R[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(R){var i=[];return g.invert(i,R),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(G){function H(g,R){var i=g%R;return i<0?i+R:i}function e(g,R){return Math.abs(g)>R/2?g-Math.round(g/R)*R:g}G.exports={mod:H,modHalf:e}},22296:function(G,H,e){var g=e(38248),R=e(38116).isArrayOrTypedArray;G.exports=function(f,u){if(g(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),y,h,T,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(y=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])l[c]=y[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=y[2].substr(1,y[2].length-2).split("]["),T=0;T<h.length;T++)c++,l.splice(c,0,Number(h[T]))}c++}return typeof f!="object"?a(f,u,l):{set:v(f,l,u),get:i(f,l),astr:u,parts:l,obj:f}};function i(n,f){return function(){var u=n,l,y,h,T,c;for(T=0;T<f.length-1;T++){if(l=f[T],l===-1){for(y=!0,h=[],c=0;c<u.length;c++)h[c]=i(u[c],f.slice(T+1))(),h[c]!==h[0]&&(y=!1);return y?h[0]:h}if(typeof l=="number"&&!R(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[T]],h!==null))return h}}var C=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(C)}function v(n,f,u){return function(l){var y=n,h="",T=S(l,u),c,o;for(o=0;o<f.length-1;o++){if(c=f[o],typeof c=="number"&&!R(y))throw"array index but container is not an array";if(c===-1){if(T=!r(y,f.slice(o+1),l,u),T)break;return}if(!t(y,c,f[o+1],T))break;if(y=y[c],typeof y!="object"||y===null)throw"container is not an object";h=d(h,c)}if(T){if(o===f.length-1&&(delete y[f[o]],Array.isArray(y)&&+f[o]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[f[o]]=l}}function d(n,f){var u=f;return g(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var y=R(u),h=!0,T=u,c=l.replace("-1",0),o=y?!1:S(u,c),p=f[0],x;for(x=0;x<n.length;x++)c=l.replace("-1",x),y&&(T=u[x%u.length],o=S(T,c)),o&&(h=!1),t(n,x,p,o)&&v(n[x],f,l.replace("-1",x))(T);return h}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function a(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,H,e){var g=e(33428),R=e(38248),i=[];G.exports=function(C,S){if(i.indexOf(C)!==-1)return;i.push(C);var v=1e3;R(S)?v=S:S==="long"&&(v=3e3);var d=g.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var r=d.selectAll(".notifier-note").data(i);function t(a){a.duration(700).style("opacity",0).each("end",function(n){var f=i.indexOf(n);f!==-1&&i.splice(f,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=a.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,H,e){var g=e(93972),R="data-savedcursor",i="!!";G.exports=function(S,v){var d=S.attr(R);if(v){if(!d){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var a=r[t];a.indexOf("cursor-")===0&&S.attr(R,a.substr(7)).classed(a,!1)}S.attr(R)||S.attr(R,i)}g(S,v)}else d&&(S.attr(R,null),d===i?g(S):g(S,d))}},92065:function(G,H,e){var g=e(52248).dot,R=e(39032).BADNUM,i=G.exports={};i.tester=function(S){var v=S.slice(),d=v[0][0],r=d,t=v[0][1],a=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)d=Math.min(d,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),a=Math.max(a,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,o){var p=c[0],x=c[1];return!(p===R||p<d||p>r||x===R||x<t||x>a||o&&u(c))}function y(c,o){var p=c[0],x=c[1];if(p===R||p<d||p>r||x===R||x<t||x>a)return!1;var b=v.length,P=v[0][0],m=v[0][1],L=0,M,s,E,w,_;for(M=1;M<b;M++)if(s=P,E=m,P=v[M][0],m=v[M][1],w=Math.min(s,P),!(p<w||p>Math.max(s,P)||x>Math.max(E,m)))if(x<Math.min(E,m))p!==w&&L++;else{if(P===s?_=x:_=E+(p-s)*(m-E)/(P-s),x===_)return!(M===1&&o);x<=_&&p!==w&&L++}return L%2===1}var h=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){h=!1;break}return{xmin:d,xmax:r,ymin:t,ymax:a,pts:v,contains:f?l:y,isRect:f,degenerate:h}},i.isSegmentBent=function(S,v,d,r){var t=S[v],a=[S[d][0]-t[0],S[d][1]-t[1]],n=g(a,a),f=Math.sqrt(n),u=[-a[1]/f,a[0]/f],l,y,h;for(l=v+1;l<d;l++)if(y=[S[l][0]-t[0],S[l][1]-t[1]],h=g(y,a),h<0||h>n||Math.abs(g(y,u))>r)return!0;return!1},i.filter=function(S,v){var d=[S[0]],r=0,t=0;function a(f){S.push(f);var u=d.length,l=r;d.splice(t+1);for(var y=l+1;y<S.length;y++)(y===S.length-1||i.isSegmentBent(S,l,y+1,v))&&(d.push(S[y]),d.length<u-2&&(r=y,t=d.length-1),l=y)}if(S.length>1){var n=S.pop();a(n)}return{addPt:a,raw:S,filtered:d}}},5048:function(G,H,e){var g=e(16576),R=e(28624);G.exports=function(C,S,v){var d=C._fullLayout,r=!0;return d._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!d._has("parcoords"))){try{t.regl=R({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(a){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),r||g({container:d._glcontainer.node()}),r}},34296:function(G,H,e){var g=e(38248),R=e(25928);G.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=i(),typeof v!="string")return!0;var d=R({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!d)for(var r=v.split(" "),t=1;t<r.length;t++){var a=r[t];if(a.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(g(u)&&(u=+u),u>=13)return!0}}}return d};function i(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(G){G.exports=function(e,g){if(g instanceof RegExp){for(var R=g.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===R)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(G,H,e){var g=e(3400),R=e(20556).dfltConfig;function i(S,v){for(var d=[],r,t=0;t<v.length;t++)r=v[t],r===S?d[t]=r:typeof r=="object"?d[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):d[t]=r;return d}var C={};C.add=function(S,v,d,r,t){var a,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,a),S.undoQueue.index+=1):a=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(d),a.redo.calls.push(r),a.redo.args.push(t)),S.undoQueue.queue.length>R.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},C.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},C.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},C.undo=function(v){var d,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<d.undo.calls.length;r++)C.plotDo(v,d.undo.calls[r],d.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var d,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<d.redo.calls.length;r++)C.plotDo(v,d.redo.calls[r],d.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(S,v,d){S.autoplay=!0,d=i(S,d),v.apply(null,d)},G.exports=C},53756:function(G,H){H.counter=function(e,g,R,i){var C=(g||"")+(R?"":"$"),S=i===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(G){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(g,R){for(;R;){var i=g.match(H);if(i)g=i[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,R]);if(R.charAt(0)==="^")R=R.slice(1);else break}return g&&R.charAt(0)!=="["?g+"."+R:g+R}},51528:function(G,H,e){var g=e(38116).isArrayOrTypedArray,R=e(63620);G.exports=function i(C,S){for(var v in S){var d=S[v],r=C[v];if(r!==d)if(v.charAt(0)==="_"||typeof d=="function"){if(v in C)continue;C[v]=d}else if(g(d)&&g(r)&&R(d[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(d.length,r.length),a=0;a<t;a++)r[a]!==d[a]&&R(d[a])&&R(r[a])&&i(r[a],d[a])}else R(d)&&R(r)&&(i(r,d),Object.keys(r).length||delete C[v])}}},14952:function(G,H,e){var g=e(38248),R=e(24248),i=e(35536),C=e(39032).BADNUM,S=1e-9;H.findBin=function(a,n,f){if(g(n.start))return f?Math.ceil((a-n.start)/n.size-S)-1:Math.floor((a-n.start)/n.size+S);var u=0,l=n.length,y=0,h=l>1?(n[l-1]-n[0])/(l-1):1,T,c;for(h>=0?c=f?v:d:c=f?t:r,a+=h*S*(f?-1:1)*(h>=0?1:-1);u<l&&y++<100;)T=Math.floor((u+l)/2),c(n[T],a)?u=T+1:l=T;return y>90&&R.log("Long binary search..."),u-1};function v(a,n){return a<n}function d(a,n){return a<=n}function r(a,n){return a>n}function t(a,n){return a>=n}H.sorterAsc=function(a,n){return a-n},H.sorterDes=function(a,n){return n-a},H.distinctVals=function(a){var n=a.slice();n.sort(H.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===C;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,y=[],h,T=0;T<=f;T++){var c=n[T],o=c-h;h===void 0?(y.push(c),h=c):o>l&&(u=Math.min(u,o),y.push(c),h=c)}return{vals:y,minDiff:u}},H.roundUp=function(a,n,f){for(var u=0,l=n.length-1,y,h=0,T=f?0:1,c=f?1:0,o=f?Math.ceil:Math.floor;u<l&&h++<100;)y=o((u+l)/2),n[y]<=a?u=y+T:l=y-c;return n[u]},H.sort=function(a,n){for(var f=0,u=0,l=1;l<a.length;l++){var y=n(a[l],a[l-1]);if(y<0?f=1:y>0&&(u=1),f&&u)return a.sort(n)}return u?a:a.reverse()},H.findIndexOfMin=function(a,n){n=n||i;for(var f=1/0,u,l=0;l<a.length;l++){var y=n(a[l]);y<f&&(f=y,u=l)}return u}},93972:function(G){G.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(R){R.indexOf("cursor-")===0&&e.classed(R,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(G,H,e){var g=e(76308),R=function(){};G.exports=function(C){for(var S in C)typeof C[S]=="function"&&(C[S]=R);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",v.appendChild(d),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,H,e){var g=e(38248),R=e(38116).isArrayOrTypedArray;H.aggNums=function(i,C,S,v){var d,r;if((!v||v>S.length)&&(v=S.length),g(C)||(C=!1),R(S[0])){for(r=new Array(v),d=0;d<v;d++)r[d]=H.aggNums(i,C,S[d]);S=r}for(d=0;d<v;d++)g(C)?g(S[d])&&(C=i(+C,+S[d])):C=S[d];return C},H.len=function(i){return H.aggNums(function(C){return C+1},0,i)},H.mean=function(i,C){return C||(C=H.len(i)),H.aggNums(function(S,v){return S+v},0,i)/C},H.midRange=function(i){if(!(i===void 0||i.length===0))return(H.aggNums(Math.max,null,i)+H.aggNums(Math.min,null,i))/2},H.variance=function(i,C,S){return C||(C=H.len(i)),g(S)||(S=H.mean(i,C)),H.aggNums(function(v,d){return v+Math.pow(d-S,2)},0,i)/C},H.stdev=function(i,C,S){return Math.sqrt(H.variance(i,C,S))},H.median=function(i){var C=i.slice().sort();return H.interp(C,.5)},H.interp=function(i,C){if(!g(C))throw"n should be a finite number";if(C=C*i.length-.5,C<0)return i[0];if(C>i.length-1)return i[i.length-1];var S=C%1;return S*i[Math.ceil(C)]+(1-S)*i[Math.floor(C)]}},43080:function(G,H,e){var g=e(72160);function R(i){return i?g(i):[0,0,0,1]}G.exports=R},9188:function(G,H,e){var g=e(2264),R=e(43616),i=e(3400),C=null;function S(){if(C!==null)return C;C=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var d=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=d.some(function(f){return r.apply(null,f)});else{var t=R.tester.append("image").attr("style",g.STYLE),a=window.getComputedStyle(t.node()),n=a.imageRendering;C=d.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return C}G.exports=S},72736:function(G,H,e){var g=e(33428),R=e(3400),i=R.strTranslate,C=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(U,B,V){var j=U.text(),Q=!U.attr("data-notex")&&B&&B._context.typesetMath&&typeof MathJax<"u"&&j.match(v),ee=g.select(U.node().parentNode);if(ee.empty())return;var re=U.attr("class")?U.attr("class").split(" ")[0]:"text";re+="-math",ee.selectAll("svg."+re).remove(),ee.selectAll("g."+re+"-group").remove(),U.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function ue(){ee.empty()||(re=U.attr("class")+"-math",ee.select("svg."+re).remove()),U.text("").style("white-space","pre");var J=D(U.node(),j);J&&U.style("pointer-events","all"),H.positionText(U),V&&V.call(U)}return Q?(B&&B._promises||[]).push(new Promise(function(J){U.style("display","none");var X=parseInt(U.node().style.fontSize,10),ne={fontSize:X};n(Q[2],ne,function(Y,oe,le){ee.selectAll("svg."+re).remove(),ee.selectAll("g."+re+"-group").remove();var Z=Y&&Y.select("svg");if(!Z||!Z.node()){ue(),J();return}var $=ee.append("g").classed(re+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});$.node().appendChild(Z.node()),oe&&oe.node()&&Z.node().insertBefore(oe.node().cloneNode(!0),Z.node().firstChild);var se=le.width,ae=le.height;Z.attr({class:re,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=U.node().style.fill||"black",me=Z.select("g");me.attr({fill:he,stroke:he});var Me=me.node().getBoundingClientRect(),Te=Me.width,Pe=Me.height;(Te>se||Pe>ae)&&(Z.style("overflow","hidden"),Me=Z.node().getBoundingClientRect(),Te=Me.width,Pe=Me.height);var be=+U.attr("x"),Ee=+U.attr("y"),xe=X||U.node().getBoundingClientRect().height,Ce=-xe/4;if(re[0]==="y")$.attr({transform:"rotate("+[-90,be,Ee]+")"+i(-Te/2,Ce-Pe/2)});else if(re[0]==="l")Ee=Ce-Pe/2;else if(re[0]==="a"&&re.indexOf("atitle")!==0)be=0,Ee=Ce;else{var Ue=U.attr("text-anchor");be=be-Te*(Ue==="middle"?.5:Ue==="end"?1:0),Ee=Ee+Ce-Pe/2}Z.attr({x:be,y:Ee}),V&&V.call(U,$),J($)})})):ue(),U};var d=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(U){return U.replace(d,"\\lt ").replace(r,"\\gt ")}var a=[["$","$"],["\\(","\\)"]];function n(U,B,V){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){R.warn("No MathJax version:",MathJax.version);return}var Q,ee,re,ue,J=function(){return ee=R.extendDeepAll({},MathJax.Hub.config),re=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},X=function(){ee=R.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a},ne=function(){if(Q=MathJax.Hub.config.menuSettings.renderer,Q!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){Q=MathJax.config.startup.output,Q!=="svg"&&(MathJax.config.startup.output="svg")},oe=function(){var he="math-output-"+R.randstr({},64);ue=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":B.fontSize+"px"}).text(t(U));var me=ue.node();return j===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},le=function(){var he=ue.select(j===2?".MathJax_SVG":".MathJax"),me=!he.empty()&&ue.select("svg").node();if(!me)R.log("There was an error in the tex syntax.",U),V();else{var Me=me.getBoundingClientRect(),Te;j===2?Te=g.select("body").select("#MathJax_SVG_glyphs"):Te=he.select("defs"),V(he,Te,Me)}ue.remove()},Z=function(){if(Q!=="SVG")return MathJax.Hub.setRenderer(Q)},$=function(){Q!=="svg"&&(MathJax.config.startup.output=Q)},se=function(){return re!==void 0&&(MathJax.Hub.processSectionDelay=re),MathJax.Hub.Config(ee)},ae=function(){MathJax.config=ee};j===2?MathJax.Hub.Queue(J,ne,oe,le,Z,se):j===3&&(X(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){oe(),le(),$(),ae()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},y="",h=["http:","https:","mailto:","",void 0,":"],T=H.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(U,B){if(!U)return null;var V=U.match(B),j=V&&(V[3]||V[4]);return j&&w(j)}var M=/(^|;)\s*color:/;H.plainText=function(U,B){B=B||{};for(var V=B.len!==void 0&&B.len!==-1?B.len:1/0,j=B.allowedTags!==void 0?B.allowedTags:["br"],Q="...",ee=Q.length,re=U.split(c),ue=[],J="",X=0,ne=0;ne<re.length;ne++){var Y=re[ne],oe=Y.match(o),le=oe&&oe[2].toLowerCase();if(le)j.indexOf(le)!==-1&&(ue.push(Y),J=le);else{var Z=Y.length;if(X+Z<V)ue.push(Y),X+=Z;else if(X<V){var $=V-X;J&&(J!=="br"||$<=ee||Z<=ee)&&ue.pop(),V>ee?ue.push(Y.substr(0,$-ee)+Q):ue.push(Y.substr(0,$));break}J=""}}return ue.join("")};var s={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(U){return U.replace(E,function(B,V){var j;return V.charAt(0)==="#"?j=_(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):j=s[V],j||B})}H.convertEntities=w;function _(U){if(!(U>1114111)){var B=String.fromCodePoint;if(B)return B(U);var V=String.fromCharCode;return U<=65535?V(U):V((U>>10)+55232,U%1024+56320)}}function D(U,B){B=B.replace(T," ");var V=!1,j=[],Q,ee=-1;function re(){ee++;var Pe=document.createElementNS(C.svg,"tspan");g.select(Pe).attr({class:"line",dy:ee*S+"em"}),U.appendChild(Pe),Q=Pe;var be=j;if(j=[{node:Pe}],be.length>1)for(var Ee=1;Ee<be.length;Ee++)ue(be[Ee])}function ue(Pe){var be=Pe.type,Ee={},xe;if(be==="a"){xe="a";var Ce=Pe.target,Ue=Pe.href,Ne=Pe.popup;Ue&&(Ee={"xlink:xlink:show":Ce==="_blank"||Ce.charAt(0)!=="_"?"new":"replace",target:Ce,"xlink:xlink:href":Ue},Ne&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ne+'");return false;'))}else xe="tspan";Pe.style&&(Ee.style=Pe.style);var De=document.createElementNS(C.svg,xe);if(be==="sup"||be==="sub"){J(Q,y),Q.appendChild(De);var He=document.createElementNS(C.svg,"tspan");J(He,y),g.select(He).attr("dy",l[be]),Ee.dy=u[be],Q.appendChild(De),Q.appendChild(He)}else Q.appendChild(De);g.select(De).attr(Ee),Q=Pe.node=De,j.push(Pe)}function J(Pe,be){Pe.appendChild(document.createTextNode(be))}function X(Pe){if(j.length===1){R.log("Ignoring unexpected end tag </"+Pe+">.",B);return}var be=j.pop();Pe!==be.type&&R.log("Start tag <"+be.type+"> doesnt match end tag <"+Pe+">. Pretending it did match.",B),Q=j[j.length-1].node}var ne=p.test(B);ne?re():(Q=U,j=[{node:U}]);for(var Y=B.split(c),oe=0;oe<Y.length;oe++){var le=Y[oe],Z=le.match(o),$=Z&&Z[2].toLowerCase(),se=f[$];if($==="br")re();else if(se===void 0)J(Q,w(le));else if(Z[1])X($);else{var ae=Z[4],he={type:$},me=L(ae,x);if(me?(me=me.replace(M,"$1 fill:"),se&&(me+=";"+se)):se&&(me=se),me&&(he.style=me),$==="a"){V=!0;var Me=L(ae,b);if(Me){var Te=N(Me);Te&&(he.href=Te,he.target=L(ae,P)||"_blank",he.popup=L(ae,m))}}ue(he)}}return V}function N(U){var B=encodeURI(decodeURI(U)),V=document.createElement("a"),j=document.createElement("a");V.href=U,j.href=B;var Q=V.protocol,ee=j.protocol;return h.indexOf(Q)!==-1&&h.indexOf(ee)!==-1?B:""}H.sanitizeHTML=function(B){B=B.replace(T," ");for(var V=document.createElement("p"),j=V,Q=[],ee=B.split(c),re=0;re<ee.length;re++){var ue=ee[re],J=ue.match(o),X=J&&J[2].toLowerCase();if(X in f)if(J[1])Q.length&&(j=Q.pop());else{var ne=J[4],Y=L(ne,x),oe=Y?{style:Y}:{};if(X==="a"){var le=L(ne,b);if(le){var Z=N(le);if(Z){oe.href=Z;var $=L(ne,P);$&&(oe.target=$)}}}var se=document.createElement(X);j.appendChild(se),g.select(se).attr(oe),j=se,Q.push(se)}else j.appendChild(document.createTextNode(w(ue)))}var ae="innerHTML";return V[ae]},H.lineCount=function(B){return B.selectAll("tspan.line").size()||1},H.positionText=function(B,V,j){return B.each(function(){var Q=g.select(this);function ee(J,X){return X===void 0?(X=Q.attr(J),X===null&&(Q.attr(J,0),X=0)):Q.attr(J,X),X}var re=ee("x",V),ue=ee("y",j);this.nodeName==="text"&&Q.selectAll("tspan.line").attr({x:re,y:ue})})};function z(U,B,V){var j=V.horizontalAlign,Q=V.verticalAlign||"top",ee=U.node().getBoundingClientRect(),re=B.node().getBoundingClientRect(),ue,J,X;return Q==="bottom"?J=function(){return ee.bottom-ue.height}:Q==="middle"?J=function(){return ee.top+(ee.height-ue.height)/2}:J=function(){return ee.top},j==="right"?X=function(){return ee.right-ue.width}:j==="center"?X=function(){return ee.left+(ee.width-ue.width)/2}:X=function(){return ee.left},function(){ue=this.node().getBoundingClientRect();var ne=X()-re.left,Y=J()-re.top,oe=V.gd||{};if(V.gd){oe._fullLayout._calcInverseTransform(oe);var le=R.apply3DTransform(oe._fullLayout._invTransform)(ne,Y);ne=le[0],Y=le[1]}return this.style({top:Y+"px",left:ne+"px","z-index":1e3}),this}}var F="1px ";H.makeTextShadow=function(U){var B=F,V=F,j=F;return B+V+j+U+", -"+B+"-"+V+j+U+", "+B+"-"+V+j+U+", -"+B+V+j+U},H.makeEditable=function(U,B){var V=B.gd,j=B.delegate,Q=g.dispatch("edit","input","cancel"),ee=j||U;if(U.style({"pointer-events":j?"none":"all"}),U.size()!==1)throw new Error("boo");function re(){J(),U.style({opacity:0});var X=ee.attr("class"),ne;X?ne="."+X.split(" ")[0]+"-math-group":ne="[class*=-math-group]",ne&&g.select(U.node().parentNode).select(ne).style({opacity:0})}function ue(X){var ne=X.node(),Y=document.createRange();Y.selectNodeContents(ne);var oe=window.getSelection();oe.removeAllRanges(),oe.addRange(Y),ne.focus()}function J(){var X=g.select(V),ne=X.select(".svg-container"),Y=ne.append("div"),oe=U.node().style,le=parseFloat(oe.fontSize||12),Z=B.text;Z===void 0&&(Z=U.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":oe.fontFamily||"Arial","font-size":le,color:B.fill||oe.fill||"black",opacity:1,"background-color":B.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Z).call(z(U,ne,B)).on("blur",function(){V._editing=!1,U.text(this.textContent).style({opacity:1});var $=g.select(this).attr("class"),se;$?se="."+$.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&g.select(U.node().parentNode).select(se).style({opacity:0});var ae=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),Q.edit.call(U,ae)}).on("focus",function(){var $=this;V._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===$)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){g.event.which===27?(V._editing=!1,U.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Q.cancel.call(U,this.textContent)):(Q.input.call(U,this.textContent),g.select(this).call(z(U,ne,B)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ue)}return B.immediate?re():ee.on("click",re),g.rebind(U,Q,"on")}},91200:function(G,H){var e={};H.throttle=function(i,C,S){var v=e[i],d=Date.now();if(!v){for(var r in e)e[r].ts<d-6e4&&delete e[r];v=e[i]={ts:0,timer:null}}g(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(d>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},H.done=function(R){var i=e[R];return!i||!i.timer?Promise.resolve():new Promise(function(C){var S=i.onDone;i.onDone=function(){S&&S(),C(),i.onDone=null}})},H.clear=function(R){if(R)g(e[R]),delete e[R];else for(var i in e)H.clear(i)};function g(R){R&&R.timer!==null&&(clearTimeout(R.timer),R.timer=null)}},36896:function(G,H,e){var g=e(38248);G.exports=function(i,C){if(i>0)return Math.log(i)/Math.LN10;var S=Math.log(Math.min(C[0],C[1]))/Math.LN10;return g(S)||(S=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),S}},59972:function(G,H,e){var g=G.exports={},R=e(79552).locationmodeToLayer,i=e(55712).NO;g.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(C,S){return C+S+".json"},g.getTopojsonFeatures=function(C,S){var v=R[C.locationmode],d=S.objects[v];return i(S,d).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,H,e){var g=e(24040);G.exports=function(i){for(var C=g.layoutArrayContainers,S=g.layoutArrayRegexes,v=i.split("[")[0],d,r,t=0;t<S.length;t++)if(r=i.match(S[t]),r&&r.index===0){d=r[0];break}if(d||(d=C[C.indexOf(v)]),!d)return!1;var a=i.substr(d.length);return a?(r=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:d,index:Number(r[1]),property:r[3]||""}:!1):{array:d,index:"",property:""}}},67824:function(G,H,e){var g=e(92880).extendFlat,R=e(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=i.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");G.exports={traces:i,layout:C,traceFlags:function(){return d(S)},layoutFlags:function(){return d(v)},update:function(a,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)a[u[l]]=!0},overrideAll:r};function d(a){for(var n={},f=0;f<a.length;f++)n[a[f]]=!1;return n}function r(a,n,f){var u=g({},a);for(var l in u){var y=u[l];R(y)&&(u[l]=t(y,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(a,n,f,u){if(a.valType){var l=g({},a);if(l.editType=n,Array.isArray(a.items)){l.items=new Array(a.items.length);for(var y=0;y<a.items.length;y++)l.items[y]=t(a.items[y],n)}return l}else return r(a,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,H,e){var g=e(38248),R=e(61784),i=e(24040),C=e(3400),S=e(7316),v=e(79811),d=e(76308),r=v.cleanId,t=v.getFromTrace,a=i.traceIs;H.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&C.log("Clearing previous rejected promises from queue."),p._promises=[]},H.cleanLayout=function(p){var x,b;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var P=(S.subplotsRegistry.cartesian||{}).attrRegex,m=(S.subplotsRegistry.polar||{}).attrRegex,L=(S.subplotsRegistry.ternary||{}).attrRegex,M=(S.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(p);for(x=0;x<s.length;x++){var E=s[x];if(P&&P.test(E)){var w=p[E];w.anchor&&w.anchor!=="free"&&(w.anchor=r(w.anchor)),w.overlaying&&(w.overlaying=r(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),w.insiderange&&delete w.range,delete w.islog,delete w.isdate,delete w.categories,h(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),f(w)}else if(m&&m.test(E)){var _=p[E];f(_.radialaxis)}else if(L&&L.test(E)){var D=p[E];f(D.aaxis),f(D.baxis),f(D.caxis)}else if(M&&M.test(E)){var N=p[E],z=N.cameraposition;if(Array.isArray(z)&&z[0].length===4){var F=z[0],U=z[1],B=z[2],V=R([],F),j=[];for(b=0;b<3;++b)j[b]=U[b]+B*V[2+4*b];N.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var Q=Array.isArray(p.annotations)?p.annotations.length:0;for(x=0;x<Q;x++){var ee=p.annotations[x];C.isPlainObject(ee)&&(ee.ref&&(ee.ref==="paper"?(ee.xref="paper",ee.yref="paper"):ee.ref==="data"&&(ee.xref="x",ee.yref="y"),delete ee.ref),n(ee,"xref"),n(ee,"yref"))}var re=Array.isArray(p.shapes)?p.shapes.length:0;for(x=0;x<re;x++){var ue=p.shapes[x];C.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var J=Array.isArray(p.images)?p.images.length:0;for(x=0;x<J;x++){var X=p.images[x];C.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var ne=p.legend;return ne&&(ne.x>3?(ne.x=1.02,ne.xanchor="left"):ne.x<-2&&(ne.x=-.02,ne.xanchor="right"),ne.y>3?(ne.y=1.02,ne.yanchor="bottom"):ne.y<-2&&(ne.y=-.02,ne.yanchor="top")),f(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),d.clean(p),p.template&&p.template.layout&&H.cleanLayout(p.template.layout),p};function n(p,x){var b=p[x],P=x.charAt(0);b&&b!=="paper"&&(p[x]=r(b,P,!0))}function f(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(b,P){var m=p[b],L=p.title&&p.title[P];m&&!L&&(p.title||(p.title={}),p.title[P]=p[b],delete p[b])}}H.cleanData=function(p){for(var x=0;x<p.length;x++){var b=p[x],P;if(b.type==="histogramy"&&"xbins"in b&&!("ybins"in b)&&(b.ybins=b.xbins,delete b.xbins),b.error_y&&"opacity"in b.error_y){var m=d.defaults,L=b.error_y.color||(a(b,"bar")?d.defaultLine:m[x%m.length]);b.error_y.color=d.addOpacity(d.rgb(L),d.opacity(L)*b.error_y.opacity),delete b.error_y.opacity}if("bardir"in b&&(b.bardir==="h"&&(a(b,"bar")||b.type.substr(0,9)==="histogram")&&(b.orientation="h",H.swapXYData(b)),delete b.bardir),b.type==="histogramy"&&H.swapXYData(b),(b.type==="histogramx"||b.type==="histogramy")&&(b.type="histogram"),"scl"in b&&!("colorscale"in b)&&(b.colorscale=b.scl,delete b.scl),"reversescl"in b&&!("reversescale"in b)&&(b.reversescale=b.reversescl,delete b.reversescl),b.xaxis&&(b.xaxis=r(b.xaxis,"x")),b.yaxis&&(b.yaxis=r(b.yaxis,"y")),a(b,"gl3d")&&b.scene&&(b.scene=S.subplotsRegistry.gl3d.cleanId(b.scene)),!a(b,"pie-like")&&!a(b,"bar-like"))if(Array.isArray(b.textposition))for(P=0;P<b.textposition.length;P++)b.textposition[P]=y(b.textposition[P]);else b.textposition&&(b.textposition=y(b.textposition));var M=i.getModule(b);if(M&&M.colorbar){var s=M.colorbar.container,E=s?b[s]:b;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(b.type==="surface"&&C.isPlainObject(b.contours)){var w=["x","y","z"];for(P=0;P<w.length;P++){var _=b.contours[w[P]];C.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if(b.type==="candlestick"||b.type==="ohlc"){var D=(b.increasing||{}).showlegend!==!1,N=(b.decreasing||{}).showlegend!==!1,z=u(b.increasing),F=u(b.decreasing);if(z!==!1&&F!==!1){var U=l(z,F,D,N);U&&(b.name=U)}else(z||F)&&!b.name&&(b.name=z||F)}if(Array.isArray(b.transforms)){var B=b.transforms;for(P=0;P<B.length;P++){var V=B[P];if(C.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var j=V.styles,Q=Object.keys(j);V.styles=[];for(var ee=0;ee<Q.length;ee++)V.styles.push({target:Q[ee],value:j[Q[ee]]})}break}}}h(b,"line")&&delete b.line,"marker"in b&&(h(b.marker,"line")&&delete b.marker.line,h(b,"marker")&&delete b.marker),d.clean(b),b.autobinx&&(delete b.autobinx,delete b.xbins),b.autobiny&&(delete b.autobiny,delete b.ybins),f(b),b.colorbar&&f(b.colorbar),b.marker&&b.marker.colorbar&&f(b.marker.colorbar),b.line&&b.line.colorbar&&f(b.line.colorbar),b.aaxis&&f(b.aaxis),b.baxis&&f(b.baxis)}};function u(p){if(!C.isPlainObject(p))return!1;var x=p.name;return delete p.name,delete p.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function l(p,x,b,P){if(b&&!P)return p;if(P&&!b||!p.trim())return x;if(!x.trim())return p;var m=Math.min(p.length,x.length),L;for(L=0;L<m&&p.charAt(L)===x.charAt(L);L++);var M=p.substr(0,L);return M.trim()}function y(p){var x="middle",b="center";return typeof p=="string"&&(p.indexOf("top")!==-1?x="top":p.indexOf("bottom")!==-1&&(x="bottom"),p.indexOf("left")!==-1?b="left":p.indexOf("right")!==-1&&(b="right")),x+" "+b}function h(p,x){return x in p&&typeof p[x]=="object"&&Object.keys(p[x]).length===0}H.swapXYData=function(p){var x;if(C.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var b=p.error_y,P="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);C.swapAttrs(p,["error_?.copy_ystyle"]),P&&C.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var m=p.hoverinfo.split("+");for(x=0;x<m.length;x++)m[x]==="x"?m[x]="y":m[x]==="y"&&(m[x]="x");p.hoverinfo=m.join("+")}},H.coerceTraceIndices=function(p,x){if(g(x))return[x];if(!Array.isArray(x)||!x.length)return p.data.map(function(m,L){return L});if(Array.isArray(x)){for(var b=[],P=0;P<x.length;P++)C.isIndex(x[P],p.data.length)?b.push(x[P]):C.warn("trace index (",x[P],") is not a number or is out of bounds");return b}return x},H.manageArrayContainers=function(p,x,b){var P=p.obj,m=p.parts,L=m.length,M=m[L-1],s=g(M);if(s&&x===null){var E=m.slice(0,L-1).join("."),w=C.nestedProperty(P,E).get();w.splice(M,1)}else s&&p.get()===void 0&&p.get()===void 0&&(b[p.astr]=null),p.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(p){var x=p.search(T);if(x>0)return p.substr(0,x)}H.hasParent=function(p,x){for(var b=c(x);b;){if(b in p)return!0;b=c(b)}return!1};var o=["x","y","z"];H.clearAxisTypes=function(p,x,b){for(var P=0;P<x.length;P++)for(var m=p._fullData[P],L=0;L<3;L++){var M=t(p,m,o[L]);if(M&&M.type!=="log"){var s=M._name,E=M._id.substr(1);if(E.substr(0,5)==="scene"){if(b[E]!==void 0)continue;s=E+"."+s}var w=s+".type";b[s]===void 0&&b[w]===void 0&&C.nestedProperty(p.layout,w).set(null)}}}},22448:function(G,H,e){var g=e(36424);H._doPlot=g._doPlot,H.newPlot=g.newPlot,H.restyle=g.restyle,H.relayout=g.relayout,H.redraw=g.redraw,H.update=g.update,H._guiRestyle=g._guiRestyle,H._guiRelayout=g._guiRelayout,H._guiUpdate=g._guiUpdate,H._storeDirectGUIEdit=g._storeDirectGUIEdit,H.react=g.react,H.extendTraces=g.extendTraces,H.prependTraces=g.prependTraces,H.addTraces=g.addTraces,H.deleteTraces=g.deleteTraces,H.moveTraces=g.moveTraces,H.purge=g.purge,H.addFrames=g.addFrames,H.deleteFrames=g.deleteFrames,H.animate=g.animate,H.setPlotConfig=g.setPlotConfig;var R=e(52200).getGraphDiv,i=e(4016).eraseActiveShape;H.deleteActiveShape=function(S){return i(R(S))},H.toImage=e(67024),H.validate=e(21480),H.downloadImage=e(39792);var C=e(94828);H.makeTemplate=C.makeTemplate,H.validateTemplate=C.validateTemplate},17680:function(G,H,e){var g=e(63620),R=e(16628),i=e(24248),C=e(14952).sorterAsc,S=e(24040);H.containerArrayMatch=e(69820);var v=H.isAddVal=function(t){return t==="add"||g(t)},d=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,a,n,f,u){var l=a.astr,y=S.getComponentMethod(l,"supplyLayoutDefaults"),h=S.getComponentMethod(l,"draw"),T=S.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||y===R||h===R,o=t.layout,p=t._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",l);var x=n[""][""];if(d(x))a.set(null);else if(Array.isArray(x))a.set(x);else return i.warn("Unrecognized full array edit value",l,x),!0;return c?!1:(y(o,p),h(t),!0)}var b=Object.keys(n).map(Number).sort(C),P=a.get(),m=P||[],L=u(p,l).get(),M=[],s=-1,E=m.length,w,_,D,N,z,F,U,B;for(w=0;w<b.length;w++){if(D=b[w],N=n[D],z=Object.keys(N),F=N[""],U=v(F),D<0||D>m.length-(U?0:1)){i.warn("index out of range",l,D);continue}if(F!==void 0)z.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",l,D),d(F)?M.push(D):U?(F==="add"&&(F={}),m.splice(D,0,F),L&&L.splice(D,0,{})):i.warn("Unrecognized full object edit value",l,D,F),s===-1&&(s=D);else for(_=0;_<z.length;_++)B=l+"["+D+"].",u(m[D],z[_],B).set(N[z[_]])}for(w=M.length-1;w>=0;w--)m.splice(M[w],1),L&&L.splice(M[w],1);if(m.length?P||a.set(m):a.set(null),c)return!1;if(y(o,p),T!==R){var V;if(s===-1)V=b;else{for(E=Math.max(m.length,E),V=[],w=0;w<b.length&&(D=b[w],!(D>=s));w++)V.push(D);for(w=s;w<E;w++)V.push(w)}for(w=0;w<V.length;w++)T(t,V[w])}else h(t);return!0}},36424:function(G,H,e){var g=e(33428),R=e(38248),i=e(52264),C=e(3400),S=C.nestedProperty,v=e(95924),d=e(94552),r=e(24040),t=e(73060),a=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),y=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,p=e(17680),x=e(93404),b=e(39172),P=e(67824),m=e(33816).AX_NAME_PATTERN,L=0,M=5;function s(pe,we,Ve,Qe){var it;if(pe=C.getGraphDiv(pe),v.init(pe),C.isPlainObject(we)){var st=we;we=st.data,Ve=st.layout,Qe=st.config,it=st.frames}var Wt=v.triggerHandler(pe,"plotly_beforeplot",[we,Ve,Qe]);if(Wt===!1)return Promise.reject();!we&&!Ve&&!C.isPlotDiv(pe)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",pe);function jt(){if(it)return H.addFrames(pe,it)}N(pe,Qe),Ve||(Ve={}),g.select(pe).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(pe._promises)||(pe._promises=[]);var Tt=(pe.data||[]).length===0&&Array.isArray(we);Array.isArray(we)&&(x.cleanData(we),Tt?pe.data=we:pe.data.push.apply(pe.data,we),pe.empty=!1),(!pe.layout||Tt)&&(pe.layout=x.cleanLayout(Ve)),a.supplyDefaults(pe);var Lt=pe._fullLayout,Xt=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(Ie(pe),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),l.initGradients(pe),l.initPatterns(pe),Tt&&n.saveShowSpikeInitial(pe);var Tr=!pe.calcdata||pe.calcdata.length!==(pe._fullData||[]).length;Tr&&a.doCalcdata(pe);for(var yt=0;yt<pe.calcdata.length;yt++)pe.calcdata[yt][0].trace=pe._fullData[yt];pe._context.responsive?pe._responsiveChartHandler||(pe._responsiveChartHandler=function(){C.isHidden(pe)||a.resize(pe)},window.addEventListener("resize",pe._responsiveChartHandler)):C.clearResponsive(pe);var Kt=C.extendFlat({},Lt._size),Jt=0;function yr(){for(var Ut=Lt._basePlotModules,Bt=0;Bt<Ut.length;Bt++)Ut[Bt].drawFramework&&Ut[Bt].drawFramework(pe);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(vr){return vr.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(vr){return"gl-canvas gl-canvas-"+vr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $t=pe._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*$t).attr("height",Lt.height*$t).style("width",Lt.width+"px").style("height",Lt.height+"px");var fr=Lt._glcanvas.data()[0].regl;if(fr&&(Math.floor(Lt.width*$t)!==fr._gl.drawingBufferWidth||Math.floor(Lt.height*$t)!==fr._gl.drawingBufferHeight)){var Zt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Jt)C.error(Zt);else return C.log(Zt+" Clearing graph and plotting again."),a.cleanPlot([],{},pe._fullData,Lt),a.supplyDefaults(pe),Lt=pe._fullLayout,a.doCalcdata(pe),Jt++,yr()}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),a.previousPromises(pe)}function ur(){if(a.clearAutoMarginIds(pe),b.drawMarginPushers(pe),n.allowAutoMargin(pe),pe._fullLayout.title.text&&pe._fullLayout.title.automargin&&a.allowAutoMargin(pe,"title.automargin"),Lt._has("pie"))for(var Ut=pe._fullData,Bt=0;Bt<Ut.length;Bt++){var $t=Ut[Bt];$t.type==="pie"&&$t.automargin&&a.allowAutoMargin(pe,"pie."+$t.uid+".automargin")}return a.doAutoMargin(pe),a.previousPromises(pe)}function mt(){if(a.didMarginChange(Kt,Lt._size))return C.syncOrAsync([ur,b.layoutStyles],pe)}function lt(){if(!Tr){bt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],pe)}function bt(){pe._transitioning||(b.doAutoRangeAndConstraints(pe),Tt&&n.saveRangeInitial(pe),r.getComponentMethod("rangeslider","calcAutorange")(pe))}function Et(){return n.draw(pe,Tt?"":"redraw")}var It=[a.previousPromises,jt,yr,ur,mt];Xt&&It.push(lt),It.push(b.layoutStyles),Xt&&It.push(Et,function(Bt){var $t=Bt._fullLayout._insideTickLabelsUpdaterange;if($t)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,Me(Bt,$t).then(function(){n.saveRangeInitial(Bt,!0)})}),It.push(b.drawData,b.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Ht=C.syncOrAsync(It,pe);return(!Ht||!Ht.then)&&(Ht=Promise.resolve()),Ht.then(function(){return E(pe),pe})}function E(pe){var we=pe._fullLayout;we._redrawFromAutoMarginCount?we._redrawFromAutoMarginCount--:pe.emit("plotly_afterplot")}function w(pe){return C.extendFlat(o,pe)}function _(pe,we){try{pe._fullLayout._paper.style("background",we)}catch(Ve){C.error(Ve)}}function D(pe,we){var Ve=y.combine(we,"white");_(pe,Ve)}function N(pe,we){if(!pe._context){pe._context=C.extendDeep({},o);var Ve=g.select("base");pe._context._baseUrl=Ve.size()&&Ve.attr("href")?window.location.href.split("#")[0]:""}var Qe=pe._context,it,st,Wt;if(we){for(st=Object.keys(we),it=0;it<st.length;it++)Wt=st[it],!(Wt==="editable"||Wt==="edits")&&Wt in Qe&&(Wt==="setBackground"&&we[Wt]==="opaque"?Qe[Wt]=D:Qe[Wt]=we[Wt]);we.plot3dPixelRatio&&!Qe.plotGlPixelRatio&&(Qe.plotGlPixelRatio=Qe.plot3dPixelRatio);var jt=we.editable;if(jt!==void 0)for(Qe.editable=jt,st=Object.keys(Qe.edits),it=0;it<st.length;it++)Qe.edits[st[it]]=jt;if(we.edits)for(st=Object.keys(we.edits),it=0;it<st.length;it++)Wt=st[it],Wt in Qe.edits&&(Qe.edits[Wt]=we.edits[Wt]);Qe._exportedPlot=we._exportedPlot}Qe.staticPlot&&(Qe.editable=!1,Qe.edits={},Qe.autosizable=!1,Qe.scrollZoom=!1,Qe.doubleClick=!1,Qe.showTips=!1,Qe.showLink=!1,Qe.displayModeBar=!1),Qe.displayModeBar==="hover"&&!i&&(Qe.displayModeBar=!0),(Qe.setBackground==="transparent"||typeof Qe.setBackground!="function")&&(Qe.setBackground=_),Qe._hasZeroHeight=Qe._hasZeroHeight||pe.clientHeight===0,Qe._hasZeroWidth=Qe._hasZeroWidth||pe.clientWidth===0;var Tt=Qe.scrollZoom,Lt=Qe._scrollZoom={};if(Tt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Tt=="string"){var Xt=Tt.split("+");for(it=0;it<Xt.length;it++)Lt[Xt[it]]=1}else Tt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function z(pe){if(pe=C.getGraphDiv(pe),!C.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);return x.cleanData(pe.data),x.cleanLayout(pe.layout),pe.calcdata=void 0,H._doPlot(pe).then(function(){return pe.emit("plotly_redraw"),pe})}function F(pe,we,Ve,Qe){return pe=C.getGraphDiv(pe),a.cleanPlot([],{},pe._fullData||[],pe._fullLayout||{}),a.purge(pe),H._doPlot(pe,we,Ve,Qe)}function U(pe,we){var Ve=we+1,Qe=[],it,st;for(it=0;it<pe.length;it++)st=pe[it],st<0?Qe.push(Ve+st):Qe.push(st);return Qe}function B(pe,we,Ve){var Qe,it;for(Qe=0;Qe<we.length;Qe++){if(it=we[Qe],it!==parseInt(it,10))throw new Error("all values in "+Ve+" must be integers");if(it>=pe.data.length||it<-pe.data.length)throw new Error(Ve+" must be valid indices for gd.data.");if(we.indexOf(it,Qe+1)>-1||it>=0&&we.indexOf(-pe.data.length+it)>-1||it<0&&we.indexOf(pe.data.length+it)>-1)throw new Error("each index in "+Ve+" must be unique.")}}function V(pe,we,Ve){if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof we>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(we)||(we=[we]),B(pe,we,"currentIndices"),typeof Ve<"u"&&!Array.isArray(Ve)&&(Ve=[Ve]),typeof Ve<"u"&&B(pe,Ve,"newIndices"),typeof Ve<"u"&&we.length!==Ve.length)throw new Error("current and new indices must be of equal length.")}function j(pe,we,Ve){var Qe,it;if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof we>"u")throw new Error("traces must be defined.");for(Array.isArray(we)||(we=[we]),Qe=0;Qe<we.length;Qe++)if(it=we[Qe],typeof it!="object"||Array.isArray(it)||it===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ve<"u"&&!Array.isArray(Ve)&&(Ve=[Ve]),typeof Ve<"u"&&Ve.length!==we.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Q(pe,we,Ve,Qe){var it=C.isPlainObject(Qe);if(!Array.isArray(pe.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(we))throw new Error("update must be a key:value object");if(typeof Ve>"u")throw new Error("indices must be an integer or array of integers");B(pe,Ve,"indices");for(var st in we){if(!Array.isArray(we[st])||we[st].length!==Ve.length)throw new Error("attribute "+st+" must be an array of length equal to indices array length");if(it&&(!(st in Qe)||!Array.isArray(Qe[st])||Qe[st].length!==we[st].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ee(pe,we,Ve,Qe){var it=C.isPlainObject(Qe),st=[],Wt,jt,Tt,Lt,Xt;Array.isArray(Ve)||(Ve=[Ve]),Ve=U(Ve,pe.data.length-1);for(var Tr in we)for(var yt=0;yt<Ve.length;yt++){if(Wt=pe.data[Ve[yt]],Tt=S(Wt,Tr),jt=Tt.get(),Lt=we[Tr][yt],!C.isArrayOrTypedArray(Lt))throw new Error("attribute: "+Tr+" index: "+yt+" must be an array");if(!C.isArrayOrTypedArray(jt))throw new Error("cannot extend missing or non-array attribute: "+Tr);if(jt.constructor!==Lt.constructor)throw new Error("cannot extend array with an array of a different type: "+Tr);Xt=it?Qe[Tr][yt]:Qe,R(Xt)||(Xt=-1),st.push({prop:Tt,target:jt,insert:Lt,maxp:Math.floor(Xt)})}return st}function re(pe,we,Ve,Qe,it){Q(pe,we,Ve,Qe);for(var st=ee(pe,we,Ve,Qe),Wt={},jt={},Tt=0;Tt<st.length;Tt++){var Lt=st[Tt].prop,Xt=st[Tt].maxp,Tr=it(st[Tt].target,st[Tt].insert,Xt);Lt.set(Tr[0]),Array.isArray(Wt[Lt.astr])||(Wt[Lt.astr]=[]),Wt[Lt.astr].push(Tr[1]),Array.isArray(jt[Lt.astr])||(jt[Lt.astr]=[]),jt[Lt.astr].push(st[Tt].target.length)}return{update:Wt,maxPoints:jt}}function ue(pe,we){var Ve=new pe.constructor(pe.length+we.length);return Ve.set(pe),Ve.set(we,pe.length),Ve}function J(pe,we,Ve,Qe){pe=C.getGraphDiv(pe);function it(Tt,Lt,Xt){var Tr,yt;if(C.isTypedArray(Tt))if(Xt<0){var Kt=new Tt.constructor(0),Jt=ue(Tt,Lt);Xt<0?(Tr=Jt,yt=Kt):(Tr=Kt,yt=Jt)}else if(Tr=new Tt.constructor(Xt),yt=new Tt.constructor(Tt.length+Lt.length-Xt),Xt===Lt.length)Tr.set(Lt),yt.set(Tt);else if(Xt<Lt.length){var yr=Lt.length-Xt;Tr.set(Lt.subarray(yr)),yt.set(Tt),yt.set(Lt.subarray(0,yr),Tt.length)}else{var ur=Xt-Lt.length,mt=Tt.length-ur;Tr.set(Tt.subarray(mt)),Tr.set(Lt,ur),yt.set(Tt.subarray(0,mt))}else Tr=Tt.concat(Lt),yt=Xt>=0&&Xt<Tr.length?Tr.splice(0,Tr.length-Xt):[];return[Tr,yt]}var st=re(pe,we,Ve,Qe,it),Wt=H.redraw(pe),jt=[pe,st.update,Ve,st.maxPoints];return d.add(pe,H.prependTraces,jt,J,arguments),Wt}function X(pe,we,Ve,Qe){pe=C.getGraphDiv(pe);function it(Tt,Lt,Xt){var Tr,yt;if(C.isTypedArray(Tt))if(Xt<=0){var Kt=new Tt.constructor(0),Jt=ue(Lt,Tt);Xt<0?(Tr=Jt,yt=Kt):(Tr=Kt,yt=Jt)}else if(Tr=new Tt.constructor(Xt),yt=new Tt.constructor(Tt.length+Lt.length-Xt),Xt===Lt.length)Tr.set(Lt),yt.set(Tt);else if(Xt<Lt.length){var yr=Lt.length-Xt;Tr.set(Lt.subarray(0,yr)),yt.set(Lt.subarray(yr)),yt.set(Tt,yr)}else{var ur=Xt-Lt.length;Tr.set(Lt),Tr.set(Tt.subarray(0,ur),Lt.length),yt.set(Tt.subarray(ur))}else Tr=Lt.concat(Tt),yt=Xt>=0&&Xt<Tr.length?Tr.splice(Xt,Tr.length):[];return[Tr,yt]}var st=re(pe,we,Ve,Qe,it),Wt=H.redraw(pe),jt=[pe,st.update,Ve,st.maxPoints];return d.add(pe,H.extendTraces,jt,X,arguments),Wt}function ne(pe,we,Ve){pe=C.getGraphDiv(pe);var Qe=[],it=H.deleteTraces,st=ne,Wt=[pe,Qe],jt=[pe,we],Tt,Lt;for(j(pe,we,Ve),Array.isArray(we)||(we=[we]),we=we.map(function(Xt){return C.extendFlat({},Xt)}),x.cleanData(we),Tt=0;Tt<we.length;Tt++)pe.data.push(we[Tt]);for(Tt=0;Tt<we.length;Tt++)Qe.push(-we.length+Tt);if(typeof Ve>"u")return Lt=H.redraw(pe),d.add(pe,it,Wt,st,jt),Lt;Array.isArray(Ve)||(Ve=[Ve]);try{V(pe,Qe,Ve)}catch(Xt){throw pe.data.splice(pe.data.length-we.length,we.length),Xt}return d.startSequence(pe),d.add(pe,it,Wt,st,jt),Lt=H.moveTraces(pe,Qe,Ve),d.stopSequence(pe),Lt}function Y(pe,we){pe=C.getGraphDiv(pe);var Ve=[],Qe=H.addTraces,it=Y,st=[pe,Ve,we],Wt=[pe,we],jt,Tt;if(typeof we>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(we)||(we=[we]),B(pe,we,"indices"),we=U(we,pe.data.length-1),we.sort(C.sorterDes),jt=0;jt<we.length;jt+=1)Tt=pe.data.splice(we[jt],1)[0],Ve.push(Tt);var Lt=H.redraw(pe);return d.add(pe,Qe,st,it,Wt),Lt}function oe(pe,we,Ve){pe=C.getGraphDiv(pe);var Qe=[],it=[],st=oe,Wt=oe,jt=[pe,Ve,we],Tt=[pe,we,Ve],Lt;if(V(pe,we,Ve),we=Array.isArray(we)?we:[we],typeof Ve>"u")for(Ve=[],Lt=0;Lt<we.length;Lt++)Ve.push(-we.length+Lt);for(Ve=Array.isArray(Ve)?Ve:[Ve],we=U(we,pe.data.length-1),Ve=U(Ve,pe.data.length-1),Lt=0;Lt<pe.data.length;Lt++)we.indexOf(Lt)===-1&&Qe.push(pe.data[Lt]);for(Lt=0;Lt<we.length;Lt++)it.push({newIndex:Ve[Lt],trace:pe.data[we[Lt]]});for(it.sort(function(Tr,yt){return Tr.newIndex-yt.newIndex}),Lt=0;Lt<it.length;Lt+=1)Qe.splice(it[Lt].newIndex,0,it[Lt].trace);pe.data=Qe;var Xt=H.redraw(pe);return d.add(pe,st,jt,Wt,Tt),Xt}function le(pe,we,Ve,Qe){pe=C.getGraphDiv(pe),x.clearPromiseQueue(pe);var it={};if(typeof we=="string")it[we]=Ve;else if(C.isPlainObject(we))it=C.extendFlat({},we),Qe===void 0&&(Qe=Ve);else return C.warn("Restyle fail.",we,Ve,Qe),Promise.reject();Object.keys(it).length&&(pe.changed=!0);var st=x.coerceTraceIndices(pe,Qe),Wt=he(pe,it,st),jt=Wt.flags;jt.calc&&(pe.calcdata=void 0),jt.clearAxisTypes&&x.clearAxisTypes(pe,st,{});var Tt=[];jt.fullReplot?Tt.push(H._doPlot):(Tt.push(a.previousPromises),a.supplyDefaults(pe),jt.markerSize&&(a.doCalcdata(pe),Pe(Tt)),jt.style&&Tt.push(b.doTraceStyle),jt.colorbars&&Tt.push(b.doColorBars),Tt.push(E)),Tt.push(a.rehover,a.redrag,a.reselect),d.add(pe,le,[pe,Wt.undoit,Wt.traces],le,[pe,Wt.redoit,Wt.traces]);var Lt=C.syncOrAsync(Tt,pe);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return pe.emit("plotly_restyle",Wt.eventData),pe})}function Z(pe){return pe===void 0?null:pe}function $(pe,we){return we?function(Ve,Qe,it){var st=S(Ve,Qe),Wt=st.set;return st.set=function(jt){var Tt=(it||"")+Qe;se(Tt,st.get(),jt,pe),Wt(jt)},st}:S}function se(pe,we,Ve,Qe){if(Array.isArray(we)||Array.isArray(Ve))for(var it=Array.isArray(we)?we:[],st=Array.isArray(Ve)?Ve:[],Wt=Math.max(it.length,st.length),jt=0;jt<Wt;jt++)se(pe+"["+jt+"]",it[jt],st[jt],Qe);else if(C.isPlainObject(we)||C.isPlainObject(Ve)){var Tt=C.isPlainObject(we)?we:{},Lt=C.isPlainObject(Ve)?Ve:{},Xt=C.extendFlat({},Tt,Lt);for(var Tr in Xt)se(pe+"."+Tr,Tt[Tr],Lt[Tr],Qe)}else Qe[pe]===void 0&&(Qe[pe]=Z(we))}function ae(pe,we,Ve){for(var Qe in Ve){var it=S(pe,Qe);se(Qe,it.get(),Ve[Qe],we)}}function he(pe,we,Ve){var Qe=pe._fullLayout,it=pe._fullData,st=pe.data,Wt=Qe._guiEditing,jt=$(Qe._preGUI,Wt),Tt=C.extendDeepAll({},we),Lt;me(we);var Xt=P.traceFlags(),Tr={},yt={},Kt;function Jt(){return Ve.map(function(){})}function yr(Mn){var xr=n.id2name(Mn);Kt.indexOf(xr)===-1&&Kt.push(xr)}function ur(Mn){return"LAYOUT"+Mn+".autorange"}function mt(Mn){return"LAYOUT"+Mn+".range"}function lt(Mn){for(var xr=Mn;xr<it.length;xr++)if(it[xr]._input===st[Mn])return it[xr]}function bt(Mn,xr,_r){if(Array.isArray(Mn)){Mn.forEach(function(dn){bt(dn,xr,_r)});return}if(!(Mn in we||x.hasParent(we,Mn))){var Yr;if(Mn.substr(0,6)==="LAYOUT")Yr=jt(pe.layout,Mn.replace("LAYOUT",""));else{var zr=Ve[_r],gn=Qe._tracePreGUI[lt(zr)._fullInput.uid];Yr=$(gn,Wt)(st[zr],Mn)}Mn in yt||(yt[Mn]=Jt()),yt[Mn][_r]===void 0&&(yt[Mn][_r]=Z(Yr.get())),xr!==void 0&&Yr.set(xr)}}function Et(Mn){return function(xr){return it[xr][Mn]}}function It(Mn){return function(xr,_r){return xr===!1?it[Ve[_r]][Mn]:null}}for(var Ht in we){if(x.hasParent(we,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Ut=we[Ht],Bt,$t,fr,Zt,vr,Ye;if((Ht==="autobinx"||Ht==="autobiny")&&(Ht=Ht.charAt(Ht.length-1)+"bins",Array.isArray(Ut)?Ut=Ut.map(It(Ht)):Ut===!1?Ut=Ve.map(Et(Ht)):Ut=null),Tr[Ht]=Ut,Ht.substr(0,6)==="LAYOUT"){fr=jt(pe.layout,Ht.replace("LAYOUT","")),yt[Ht]=[Z(fr.get())],fr.set(Array.isArray(Ut)?Ut[0]:Ut),Xt.calc=!0;continue}for(yt[Ht]=Jt(),Lt=0;Lt<Ve.length;Lt++){Bt=st[Ve[Lt]],$t=lt(Ve[Lt]);var Ge=Qe._tracePreGUI[$t._fullInput.uid];if(fr=$(Ge,Wt)(Bt,Ht),Zt=fr.get(),vr=Array.isArray(Ut)?Ut[Lt%Ut.length]:Ut,vr!==void 0){var zt=fr.parts[fr.parts.length-1],Dt=Ht.substr(0,Ht.length-zt.length-1),Qt=Dt?Dt+".":"",nr=Dt?S($t,Dt).get():$t;if(Ye=t.getTraceValObject($t,fr.parts),Ye&&Ye.impliedEdits&&vr!==null)for(var ir in Ye.impliedEdits)bt(C.relativeAttr(Ht,ir),Ye.impliedEdits[ir],Lt);else if((zt==="thicknessmode"||zt==="lenmode")&&Zt!==vr&&(vr==="fraction"||vr==="pixels")&&nr){var tr=Qe._size,Ft=nr.orient,cr=Ft==="top"||Ft==="bottom";if(zt==="thicknessmode"){var pr=cr?tr.h:tr.w;bt(Qt+"thickness",nr.thickness*(vr==="fraction"?1/pr:pr),Lt)}else{var br=cr?tr.w:tr.h;bt(Qt+"len",nr.len*(vr==="fraction"?1/br:br),Lt)}}else if(Ht==="type"&&(vr==="pie"!=(Zt==="pie")||vr==="funnelarea"!=(Zt==="funnelarea"))){var hr="x",Vr="y";(vr==="bar"||Zt==="bar")&&Bt.orientation==="h"&&(hr="y",Vr="x"),C.swapAttrs(Bt,["?","?src"],"labels",hr),C.swapAttrs(Bt,["d?","?0"],"label",hr),C.swapAttrs(Bt,["?","?src"],"values",Vr),Zt==="pie"||Zt==="funnelarea"?(S(Bt,"marker.color").set(S(Bt,"marker.colors").get()),Qe._pielayer.selectAll("g.trace").remove()):r.traceIs(Bt,"cartesian")&&S(Bt,"marker.colors").set(S(Bt,"marker.color").get())}yt[Ht][Lt]=Z(Zt);var Pr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Pr.indexOf(Ht)!==-1){if(Ht==="orientation"){fr.set(vr);var Ir=Bt.x&&!Bt.y?"h":"v";if((fr.get()||Ir)===$t.orientation)continue}else Ht==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[$t.orientation]);x.swapXYData(Bt),Xt.calc=Xt.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(fr.parts[0])!==-1?(x.manageArrayContainers(fr,vr,yt),Xt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs($t,"regl")&&(C.isArrayOrTypedArray(vr)||C.isArrayOrTypedArray(Zt))?Xt.calc=!0:P.update(Xt,Ye):Xt.calc=!0,fr.set(vr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ht)!==-1&&n.swap(pe,Ve),Ht==="orientationaxes"){var sn=S(pe.layout,"hovermode"),an=sn.get();an==="x"?sn.set("y"):an==="y"?sn.set("x"):an==="x unified"?sn.set("y unified"):an==="y unified"&&sn.set("x unified")}if(["orientation","type"].indexOf(Ht)!==-1){for(Kt=[],Lt=0;Lt<Ve.length;Lt++){var En=st[Ve[Lt]];r.traceIs(En,"cartesian")&&(yr(En.xaxis||"x"),yr(En.yaxis||"y"))}bt(Kt.map(ur),!0,0),bt(Kt.map(mt),[0,1],0)}}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:yt,redoit:Tr,traces:Ve,eventData:C.extendDeepNoArrays([],[Tt,Ve])}}function me(pe){var we=C.counterRegex("axis",".title",!1,!1),Ve=/colorbar\.title$/,Qe=Object.keys(pe),it,st,Wt;for(it=0;it<Qe.length;it++)st=Qe[it],Wt=pe[st],(st==="title"||we.test(st)||Ve.test(st))&&(typeof Wt=="string"||typeof Wt=="number")?jt(st,st.replace("title","title.text")):st.indexOf("titlefont")>-1&&st.indexOf("grouptitlefont")===-1?jt(st,st.replace("titlefont","title.font")):st.indexOf("titleposition")>-1?jt(st,st.replace("titleposition","title.position")):st.indexOf("titleside")>-1?jt(st,st.replace("titleside","title.side")):st.indexOf("titleoffset")>-1&&jt(st,st.replace("titleoffset","title.offset"));function jt(Tt,Lt){pe[Lt]=pe[Tt],delete pe[Tt]}}function Me(pe,we,Ve){pe=C.getGraphDiv(pe),x.clearPromiseQueue(pe);var Qe={};if(typeof we=="string")Qe[we]=Ve;else if(C.isPlainObject(we))Qe=C.extendFlat({},we);else return C.warn("Relayout fail.",we,Ve),Promise.reject();Object.keys(Qe).length&&(pe.changed=!0);var it=Ce(pe,Qe),st=it.flags;st.calc&&(pe.calcdata=void 0);var Wt=[a.previousPromises];st.layoutReplot?Wt.push(b.layoutReplot):Object.keys(Qe).length&&(Te(pe,st,it)||a.supplyDefaults(pe),st.legend&&Wt.push(b.doLegend),st.layoutstyle&&Wt.push(b.layoutStyles),st.axrange&&Pe(Wt,it.rangesAltered),st.ticks&&Wt.push(b.doTicksRelayout),st.modebar&&Wt.push(b.doModeBar),st.camera&&Wt.push(b.doCamera),st.colorbars&&Wt.push(b.doColorBars),Wt.push(E)),Wt.push(a.rehover,a.redrag,a.reselect),d.add(pe,Me,[pe,it.undoit],Me,[pe,it.redoit]);var jt=C.syncOrAsync(Wt,pe);return(!jt||!jt.then)&&(jt=Promise.resolve(pe)),jt.then(function(){return pe.emit("plotly_relayout",it.eventData),pe})}function Te(pe,we,Ve){var Qe=pe._fullLayout;if(!we.axrange)return!1;for(var it in we)if(it!=="axrange"&&we[it])return!1;var st,Wt,jt=function(Kt,Jt){return C.coerce(st,Wt,u,Kt,Jt)},Tt={};for(var Lt in Ve.rangesAltered){var Xt=n.id2name(Lt);if(st=pe.layout[Xt],Wt=Qe[Xt],f(st,Wt,jt,Tt),Wt._matchGroup){for(var Tr in Wt._matchGroup)if(Tr!==Lt){var yt=Qe[n.id2name(Tr)];yt.autorange=Wt.autorange,yt.range=Wt.range.slice(),yt._input.range=Wt.range.slice()}}}return!0}function Pe(pe,we){var Ve=we?function(Qe){var it=[],st=!0;for(var Wt in we){var jt=n.getFromId(Qe,Wt);if(it.push(Wt),(jt.ticklabelposition||"").indexOf("inside")!==-1&&jt._anchorAxis&&it.push(jt._anchorAxis._id),jt._matchGroup)for(var Tt in jt._matchGroup)we[Tt]||it.push(Tt)}return n.draw(Qe,it,{skipTitle:st})}:function(Qe){return n.draw(Qe,"redraw")};pe.push(c,b.doAutoRangeAndConstraints,Ve,b.drawData,b.finalDraw)}var be=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(pe,we){var Ve=pe.layout,Qe=pe._fullLayout,it=Qe._guiEditing,st=$(Qe._preGUI,it),Wt=Object.keys(we),jt=n.list(pe),Tt=C.extendDeepAll({},we),Lt={},Xt,Tr,yt;for(me(we),Wt=Object.keys(we),Tr=0;Tr<Wt.length;Tr++)if(Wt[Tr].indexOf("allaxes")===0){for(yt=0;yt<jt.length;yt++){var Kt=jt[yt]._id.substr(1),Jt=Kt.indexOf("scene")!==-1?Kt+".":"",yr=Wt[Tr].replace("allaxes",Jt+jt[yt]._name);we[yr]||(we[yr]=we[Wt[Tr]])}delete we[Wt[Tr]]}var ur=P.layoutFlags(),mt={},lt={};function bt(gn,dn){if(Array.isArray(gn)){gn.forEach(function(In){bt(In,dn)});return}if(!(gn in we||x.hasParent(we,gn))){var Rn=st(Ve,gn);gn in lt||(lt[gn]=Z(Rn.get())),dn!==void 0&&Rn.set(dn)}}var Et={},It;function Ht(gn){var dn=n.name2id(gn.split(".")[0]);return Et[dn]=1,dn}for(var Ut in we){if(x.hasParent(we,Ut))throw new Error("cannot set "+Ut+" and a parent attribute simultaneously");for(var Bt=st(Ve,Ut),$t=we[Ut],fr=Bt.parts.length,Zt=fr-1;Zt>0&&typeof Bt.parts[Zt]!="string";)Zt--;var vr=Bt.parts[Zt],Ye=Bt.parts[Zt-1]+"."+vr,Ge=Bt.parts.slice(0,Zt).join("."),zt=S(pe.layout,Ge).get(),Dt=S(Qe,Ge).get(),Qt=Bt.get();if($t!==void 0){mt[Ut]=$t,lt[Ut]=vr==="reverse"?$t:Z(Qt);var nr=t.getLayoutValObject(Qe,Bt.parts);if(nr&&nr.impliedEdits&&$t!==null)for(var ir in nr.impliedEdits)bt(C.relativeAttr(Ut,ir),nr.impliedEdits[ir]);if(["width","height"].indexOf(Ut)!==-1)if($t){bt("autosize",null);var tr=Ut==="height"?"width":"height";bt(tr,Qe[tr])}else Qe[Ut]=pe._initialAutoSize[Ut];else if(Ut==="autosize")bt("width",$t?null:Qe.width),bt("height",$t?null:Qe.height);else if(Ye.match(be))Ht(Ye),S(Qe,Ge+"._inputRange").set(null);else if(Ye.match(Ee)){Ht(Ye),S(Qe,Ge+"._inputRange").set(null);var Ft=S(Qe,Ge).get();Ft._inputDomain&&(Ft._input.domain=Ft._inputDomain.slice())}else Ye.match(xe)&&S(Qe,Ge+"._inputDomain").set(null);if(vr==="type"){It=zt;var cr=Dt.type==="linear"&&$t==="log",pr=Dt.type==="log"&&$t==="linear";if(cr||pr){if(!It||!It.range)bt(Ge+".autorange",!0);else if(Dt.autorange)cr&&(It.range=It.range[1]>It.range[0]?[1,2]:[2,1]);else{var br=It.range[0],hr=It.range[1];cr?(br<=0&&hr<=0&&bt(Ge+".autorange",!0),br<=0?br=hr/1e6:hr<=0&&(hr=br/1e6),bt(Ge+".range[0]",Math.log(br)/Math.LN10),bt(Ge+".range[1]",Math.log(hr)/Math.LN10)):(bt(Ge+".range[0]",Math.pow(10,br)),bt(Ge+".range[1]",Math.pow(10,hr)))}Array.isArray(Qe._subplots.polar)&&Qe._subplots.polar.length&&Qe[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete Qe[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(pe,Dt,$t,bt),r.getComponentMethod("images","convertCoords")(pe,Dt,$t,bt)}else bt(Ge+".autorange",!0),bt(Ge+".range",null);S(Qe,Ge+"._inputRange").set(null)}else if(vr.match(m)){var Vr=S(Qe,Ut).get(),Pr=($t||{}).type;(!Pr||Pr==="-")&&(Pr="linear"),r.getComponentMethod("annotations","convertCoords")(pe,Vr,Pr,bt),r.getComponentMethod("images","convertCoords")(pe,Vr,Pr,bt)}var Ir=p.containerArrayMatch(Ut);if(Ir){Xt=Ir.array,Tr=Ir.index;var sn=Ir.property,an=nr||{editType:"calc"};Tr!==""&&sn===""&&(p.isAddVal($t)?lt[Ut]=null:p.isRemoveVal($t)?lt[Ut]=(S(Ve,Xt).get()||[])[Tr]:C.warn("unrecognized full object value",we)),P.update(ur,an),Lt[Xt]||(Lt[Xt]={});var En=Lt[Xt][Tr];En||(En=Lt[Xt][Tr]={}),En[sn]=$t,delete we[Ut]}else vr==="reverse"?(zt.range?zt.range.reverse():(bt(Ge+".autorange",!0),zt.range=[1,0]),Dt.autorange?ur.calc=!0:ur.plot=!0):(Ut==="dragmode"&&($t===!1&&Qt!==!1||$t!==!1&&Qt===!1)||Qe._has("scatter-like")&&Qe._has("regl")&&Ut==="dragmode"&&($t==="lasso"||$t==="select")&&!(Qt==="lasso"||Qt==="select")||Qe._has("gl2d")?ur.plot=!0:nr?P.update(ur,nr):ur.calc=!0,Bt.set($t))}}for(Xt in Lt){var Mn=p.applyContainerArrayChanges(pe,st(Ve,Xt),Lt[Xt],ur,st);Mn||(ur.plot=!0)}for(var xr in Et){It=n.getFromId(pe,xr);var _r=It&&It._constraintGroup;if(_r){ur.calc=!0;for(var Yr in _r)Et[Yr]||(n.getFromId(pe,Yr)._constraintShrinkable=!0)}}(Ue(pe)||we.height||we.width)&&(ur.plot=!0);var zr=Qe.shapes;for(Tr=0;Tr<zr.length;Tr++)if(zr[Tr].showlegend){ur.calc=!0;break}return(ur.plot||ur.calc)&&(ur.layoutReplot=!0),{flags:ur,rangesAltered:Et,undoit:lt,redoit:mt,eventData:Tt}}function Ue(pe){var we=pe._fullLayout,Ve=we.width,Qe=we.height;return pe.layout.autosize&&a.plotAutoSize(pe,pe.layout,we),we.width!==Ve||we.height!==Qe}function Ne(pe,we,Ve,Qe){pe=C.getGraphDiv(pe),x.clearPromiseQueue(pe),C.isPlainObject(we)||(we={}),C.isPlainObject(Ve)||(Ve={}),Object.keys(we).length&&(pe.changed=!0),Object.keys(Ve).length&&(pe.changed=!0);var it=x.coerceTraceIndices(pe,Qe),st=he(pe,C.extendFlat({},we),it),Wt=st.flags,jt=Ce(pe,C.extendFlat({},Ve)),Tt=jt.flags;(Wt.calc||Tt.calc)&&(pe.calcdata=void 0),Wt.clearAxisTypes&&x.clearAxisTypes(pe,it,Ve);var Lt=[];Tt.layoutReplot?Lt.push(b.layoutReplot):Wt.fullReplot?Lt.push(H._doPlot):(Lt.push(a.previousPromises),Te(pe,Tt,jt)||a.supplyDefaults(pe),Wt.style&&Lt.push(b.doTraceStyle),(Wt.colorbars||Tt.colorbars)&&Lt.push(b.doColorBars),Tt.legend&&Lt.push(b.doLegend),Tt.layoutstyle&&Lt.push(b.layoutStyles),Tt.axrange&&Pe(Lt,jt.rangesAltered),Tt.ticks&&Lt.push(b.doTicksRelayout),Tt.modebar&&Lt.push(b.doModeBar),Tt.camera&&Lt.push(b.doCamera),Lt.push(E)),Lt.push(a.rehover,a.redrag,a.reselect),d.add(pe,Ne,[pe,st.undoit,jt.undoit,st.traces],Ne,[pe,st.redoit,jt.redoit,st.traces]);var Xt=C.syncOrAsync(Lt,pe);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(pe)),Xt.then(function(){return pe.emit("plotly_update",{data:st.eventData,layout:jt.eventData}),pe})}function De(pe){return function(Ve){Ve._fullLayout._guiEditing=!0;var Qe=pe.apply(null,arguments);return Ve._fullLayout._guiEditing=!1,Qe}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],at=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function vt(pe,we){for(var Ve=0;Ve<we.length;Ve++){var Qe=we[Ve],it=pe.match(Qe.pattern);if(it){var st=it[1]||"";return{head:st,tail:pe.substr(st.length+1),attr:Qe.attr}}}}function ot(pe,we){var Ve=S(we,pe).get();if(Ve!==void 0)return Ve;var Qe=pe.split(".");for(Qe.pop();Qe.length>1;)if(Qe.pop(),Ve=S(we,Qe.join(".")+".uirevision").get(),Ve!==void 0)return Ve;return we.uirevision}function et(pe,we){for(var Ve=0;Ve<we.length;Ve++)if(we[Ve]._fullInput.uid===pe)return Ve;return-1}function ct(pe,we,Ve){for(var Qe=0;Qe<we.length;Qe++)if(we[Qe].uid===pe)return Qe;return!we[Ve]||we[Ve].uid?-1:Ve}function ht(pe,we){var Ve=C.isPlainObject(pe),Qe=Array.isArray(pe);return Ve||Qe?(Ve&&C.isPlainObject(we)||Qe&&Array.isArray(we))&&JSON.stringify(pe)===JSON.stringify(we):pe===we}function gt(pe,we,Ve,Qe){var it=Qe._preGUI,st,Wt,jt,Tt,Lt,Xt,Tr,yt,Kt,Jt,yr=[],ur={},mt={};for(st in it){if(Lt=vt(st,He),Lt){if(Kt=Lt.head,Jt=Lt.tail,Wt=Lt.attr||Kt+".uirevision",jt=S(Qe,Wt).get(),Tt=jt&&ot(Wt,we),Tt&&Tt===jt){if(Xt=it[st],Xt===null&&(Xt=void 0),Tr=S(we,st),yt=Tr.get(),ht(yt,Xt)){yt===void 0&&Jt==="autorange"&&yr.push(Kt),Tr.set(Z(S(Qe,st).get()));continue}else if(Jt==="autorange"||Jt.substr(0,6)==="range["){var lt=it[Kt+".range[0]"],bt=it[Kt+".range[1]"],Et=it[Kt+".autorange"];if(Et||Et===null&&lt===null&&bt===null){if(!(Kt in ur)){var It=S(we,Kt).get();ur[Kt]=It&&(It.autorange||It.autorange!==!1&&(!It.range||It.range.length!==2))}if(ur[Kt]){Tr.set(Z(S(Qe,st).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+st);delete it[st],Lt&&Lt.tail.substr(0,6)==="range["&&(mt[Lt.head]=1)}for(var Ht=0;Ht<yr.length;Ht++){var Ut=yr[Ht];if(mt[Ut]){var Bt=S(we,Ut).get();Bt&&delete Bt.autorange}}var $t=Qe._tracePreGUI;for(var fr in $t){var Zt=$t[fr],vr=null,Ye;for(st in Zt){if(!vr){var Ge=et(fr,Ve);if(Ge<0){delete $t[fr];break}var zt=Ve[Ge];Ye=zt._fullInput;var Dt=ct(fr,pe,Ye.index);if(Dt<0){delete $t[fr];break}vr=pe[Dt]}if(Lt=vt(st,at),Lt){if(Lt.attr?(jt=S(Qe,Lt.attr).get(),Tt=jt&&ot(Lt.attr,we)):(jt=Ye.uirevision,Tt=vr.uirevision,Tt===void 0&&(Tt=we.uirevision)),Tt&&Tt===jt&&(Xt=Zt[st],Xt===null&&(Xt=void 0),Tr=S(vr,st),yt=Tr.get(),ht(yt,Xt))){Tr.set(Z(S(Ye,st).get()));continue}}else C.warn("unrecognized GUI edit: "+st+" in trace uid "+fr);delete Zt[st]}}}function xt(pe,we,Ve,Qe){var it,st;function Wt(){return H.addFrames(pe,it)}pe=C.getGraphDiv(pe),x.clearPromiseQueue(pe);var jt=pe._fullData,Tt=pe._fullLayout;if(!C.isPlotDiv(pe)||!jt||!Tt)st=H.newPlot(pe,we,Ve,Qe);else{if(C.isPlainObject(we)){var Lt=we;we=Lt.data,Ve=Lt.layout,Qe=Lt.config,it=Lt.frames}var Xt=!1;if(Qe){var Tr=C.extendDeep({},pe._context);pe._context=void 0,N(pe,Qe),Xt=Xe(Tr,pe._context)}pe.data=we||[],x.cleanData(pe.data),pe.layout=Ve||{},x.cleanLayout(pe.layout),gt(pe.data,pe.layout,jt,Tt),a.supplyDefaults(pe,{skipUpdateCalc:!0});var yt=pe._fullData,Kt=pe._fullLayout,Jt=Kt.datarevision===void 0,yr=Kt.transition,ur=tt(pe,Tt,Kt,Jt,yr),mt=ur.newDataRevision,lt=Mt(pe,jt,yt,Jt,yr,mt);if(Ue(pe)&&(ur.layoutReplot=!0),lt.calc||ur.calc){pe.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Kt),Et=0;Et<bt.length;Et++){var It=bt[Et],Ht=It.substring(0,5);if(Ht==="xaxis"||Ht==="yaxis"){var Ut=Kt[It]._emptyCategories;Ut&&Ut()}}}else a.supplyDefaultsUpdateCalc(pe.calcdata,yt);var Bt=[];if(it&&(pe._transitionData={},a.createTransitionData(pe),Bt.push(Wt)),Kt.transition&&!Xt&&(lt.anim||ur.anim))ur.ticks&&Bt.push(b.doTicksRelayout),a.doCalcdata(pe),b.doAutoRangeAndConstraints(pe),Bt.push(function(){return a.transitionFromReact(pe,lt,ur,Tt)});else if(lt.fullReplot||ur.layoutReplot||Xt)pe._fullLayout._skipDefaults=!0,Bt.push(H._doPlot);else{for(var $t in ur.arrays){var fr=ur.arrays[$t];if(fr.length){var Zt=r.getComponentMethod($t,"drawOne");if(Zt!==C.noop)for(var vr=0;vr<fr.length;vr++)Zt(pe,fr[vr]);else{var Ye=r.getComponentMethod($t,"draw");if(Ye===C.noop)throw new Error("cannot draw components: "+$t);Ye(pe)}}}Bt.push(a.previousPromises),lt.style&&Bt.push(b.doTraceStyle),(lt.colorbars||ur.colorbars)&&Bt.push(b.doColorBars),ur.legend&&Bt.push(b.doLegend),ur.layoutstyle&&Bt.push(b.layoutStyles),ur.axrange&&Pe(Bt),ur.ticks&&Bt.push(b.doTicksRelayout),ur.modebar&&Bt.push(b.doModeBar),ur.camera&&Bt.push(b.doCamera),Bt.push(E)}Bt.push(a.rehover,a.redrag,a.reselect),st=C.syncOrAsync(Bt,pe),(!st||!st.then)&&(st=Promise.resolve(pe))}return st.then(function(){return pe.emit("plotly_react",{data:we,layout:Ve}),pe})}function Mt(pe,we,Ve,Qe,it,st){var Wt=we.length===Ve.length;if(!it&&!Wt)return{fullReplot:!0,calc:!0};var jt=P.traceFlags();jt.arrays={},jt.nChanges=0,jt.nChangesAnim=0;var Tt,Lt;function Xt(Kt){var Jt=t.getTraceValObject(Lt,Kt);return!Lt._module.animatable&&Jt.anim&&(Jt.anim=!1),Jt}var Tr={getValObject:Xt,flags:jt,immutable:Qe,transition:it,newDataRevision:st,gd:pe},yt={};for(Tt=0;Tt<we.length;Tt++)if(Ve[Tt]){if(Lt=Ve[Tt]._fullInput,a.hasMakesDataTransform(Lt)&&(Lt=Ve[Tt]),yt[Lt.uid])continue;yt[Lt.uid]=1,Oe(we[Tt]._fullInput,Lt,[],Tr)}return(jt.calc||jt.plot)&&(jt.fullReplot=!0),it&&jt.nChanges&&jt.nChangesAnim&&(jt.anim=jt.nChanges===jt.nChangesAnim&&Wt?"all":"some"),jt}function tt(pe,we,Ve,Qe,it){var st=P.layoutFlags();st.arrays={},st.rangesAltered={},st.nChanges=0,st.nChangesAnim=0;function Wt(Tt){return t.getLayoutValObject(Ve,Tt)}var jt={getValObject:Wt,flags:st,immutable:Qe,transition:it,gd:pe};return Oe(we,Ve,[],jt),(st.plot||st.calc)&&(st.layoutReplot=!0),it&&st.nChanges&&st.nChangesAnim&&(st.anim=st.nChanges===st.nChangesAnim?"all":"some"),st}function Oe(pe,we,Ve,Qe){var it,st,Wt,jt=Qe.getValObject,Tt=Qe.flags,Lt=Qe.immutable,Xt=Qe.inArray,Tr=Qe.arrayIndex;function yt(){var Ge=it.editType;if(Xt&&Ge.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[Xt],Tr);return}P.update(Tt,it),Ge!=="none"&&Tt.nChanges++,Qe.transition&&it.anim&&Tt.nChangesAnim++,(be.test(Wt)||Ee.test(Wt))&&(Tt.rangesAltered[Ve[0]]=1),xe.test(Wt)&&S(we,"_inputDomain").set(null),st==="datarevision"&&(Tt.newDataRevision=1)}function Kt(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(st in pe){if(Tt.calc&&!Qe.transition)return;var Jt=pe[st],yr=we[st],ur=Ve.concat(st);if(Wt=ur.join("."),!(st.charAt(0)==="_"||typeof Jt=="function"||Jt===yr)){if((st==="tick0"||st==="dtick")&&Ve[0]!=="geo"){var mt=we.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if(!(st==="range"&&we.autorange)&&!((st==="zmin"||st==="zmax")&&we.type==="contourcarpet")&&(it=jt(ur),!!it&&!(it._compareAsJSON&&JSON.stringify(Jt)===JSON.stringify(yr)))){var lt=it.valType,bt,Et=Kt(it),It=Array.isArray(Jt),Ht=Array.isArray(yr);if(It&&Ht){var Ut="_input_"+st,Bt=pe[Ut],$t=we[Ut];if(Array.isArray(Bt)&&Bt===$t)continue}if(yr===void 0)Et&&It?Tt.calc=!0:yt();else if(it._isLinkedToArray){var fr=[],Zt=!1;Xt||(Tt.arrays[st]=fr);var vr=Math.min(Jt.length,yr.length),Ye=Math.max(Jt.length,yr.length);if(vr!==Ye)if(it.editType==="arraydraw")Zt=!0;else{yt();continue}for(bt=0;bt<vr;bt++)Oe(Jt[bt],yr[bt],ur.concat(bt),C.extendFlat({inArray:st,arrayIndex:bt},Qe));if(Zt)for(bt=vr;bt<Ye;bt++)fr.push(bt)}else!lt&&C.isPlainObject(Jt)?Oe(Jt,yr,ur,Qe):Et?It&&Ht?(Lt&&(Tt.calc=!0),(Lt||Qe.newDataRevision)&&yt()):It!==Ht?Tt.calc=!0:yt():It&&Ht?(Jt.length!==yr.length||String(Jt)!==String(yr))&&yt():yt()}}}for(st in we)if(!(st in pe||st.charAt(0)==="_"||typeof we[st]=="function"))if(it=jt(Ve.concat(st)),Kt(it)&&Array.isArray(we[st])){Tt.calc=!0;return}else yt()}function Xe(pe,we){var Ve;for(Ve in pe)if(Ve.charAt(0)!=="_"){var Qe=pe[Ve],it=we[Ve];if(Qe!==it)if(C.isPlainObject(Qe)&&C.isPlainObject(it)){if(Xe(Qe,it))return!0}else if(Array.isArray(Qe)&&Array.isArray(it)){if(Qe.length!==it.length)return!0;for(var st=0;st<Qe.length;st++)if(Qe[st]!==it[st])if(C.isPlainObject(Qe[st])&&C.isPlainObject(it[st])){if(Xe(Qe[st],it[st]))return!0}else return!0}else return!0}}function Ze(pe,we,Ve){if(pe=C.getGraphDiv(pe),!C.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Qe=pe._transitionData;Qe._frameQueue||(Qe._frameQueue=[]),Ve=a.supplyAnimationDefaults(Ve);var it=Ve.transition,st=Ve.frame;Qe._frameWaitingCnt===void 0&&(Qe._frameWaitingCnt=0);function Wt(Lt){return Array.isArray(it)?Lt>=it.length?it[0]:it[Lt]:it}function jt(Lt){return Array.isArray(st)?Lt>=st.length?st[0]:st[Lt]:st}function Tt(Lt,Xt){var Tr=0;return function(){if(Lt&&++Tr===Xt)return Lt()}}return new Promise(function(Lt,Xt){function Tr(){if(Qe._frameQueue.length!==0){for(;Qe._frameQueue.length;){var vr=Qe._frameQueue.pop();vr.onInterrupt&&vr.onInterrupt()}pe.emit("plotly_animationinterrupted",[])}}function yt(vr){if(vr.length!==0){for(var Ye=0;Ye<vr.length;Ye++){var Ge;vr[Ye].type==="byname"?Ge=a.computeFrame(pe,vr[Ye].name):Ge=vr[Ye].data;var zt=jt(Ye),Dt=Wt(Ye);Dt.duration=Math.min(Dt.duration,zt.duration);var Qt={frame:Ge,name:vr[Ye].name,frameOpts:zt,transitionOpts:Dt};Ye===vr.length-1&&(Qt.onComplete=Tt(Lt,2),Qt.onInterrupt=Xt),Qe._frameQueue.push(Qt)}Ve.mode==="immediate"&&(Qe._lastFrameAt=-1/0),Qe._animationRaf||yr()}}function Kt(){pe.emit("plotly_animated"),window.cancelAnimationFrame(Qe._animationRaf),Qe._animationRaf=null}function Jt(){Qe._currentFrame&&Qe._currentFrame.onComplete&&Qe._currentFrame.onComplete();var vr=Qe._currentFrame=Qe._frameQueue.shift();if(vr){var Ye=vr.name?vr.name.toString():null;pe._fullLayout._currentFrame=Ye,Qe._lastFrameAt=Date.now(),Qe._timeToNext=vr.frameOpts.duration,a.transition(pe,vr.frame.data,vr.frame.layout,x.coerceTraceIndices(pe,vr.frame.traces),vr.frameOpts,vr.transitionOpts).then(function(){vr.onComplete&&vr.onComplete()}),pe.emit("plotly_animatingframe",{name:Ye,frame:vr.frame,animation:{frame:vr.frameOpts,transition:vr.transitionOpts}})}else Kt()}function yr(){pe.emit("plotly_animating"),Qe._lastFrameAt=-1/0,Qe._timeToNext=0,Qe._runningTransitions=0,Qe._currentFrame=null;var vr=function(){Qe._animationRaf=window.requestAnimationFrame(vr),Date.now()-Qe._lastFrameAt>Qe._timeToNext&&Jt()};vr()}var ur=0;function mt(vr){return Array.isArray(it)?ur>=it.length?vr.transitionOpts=it[ur]:vr.transitionOpts=it[0]:vr.transitionOpts=it,ur++,vr}var lt,bt,Et=[],It=we==null,Ht=Array.isArray(we),Ut=!It&&!Ht&&C.isPlainObject(we);if(Ut)Et.push({type:"object",data:mt(C.extendFlat({},we))});else if(It||["string","number"].indexOf(typeof we)!==-1)for(lt=0;lt<Qe._frames.length;lt++)bt=Qe._frames[lt],bt&&(It||String(bt.group)===String(we))&&Et.push({type:"byname",name:String(bt.name),data:mt({name:bt.name})});else if(Ht)for(lt=0;lt<we.length;lt++){var Bt=we[lt];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Et.push({type:"byname",name:Bt,data:mt({name:Bt})})):C.isPlainObject(Bt)&&Et.push({type:"object",data:mt(C.extendFlat({},Bt))})}for(lt=0;lt<Et.length;lt++)if(bt=Et[lt],bt.type==="byname"&&!Qe._frameHash[bt.data.name]){C.warn('animate failure: frame not found: "'+bt.data.name+'"'),Xt();return}["next","immediate"].indexOf(Ve.mode)!==-1&&Tr(),Ve.direction==="reverse"&&Et.reverse();var $t=pe._fullLayout._currentFrame;if($t&&Ve.fromcurrent){var fr=-1;for(lt=0;lt<Et.length;lt++)if(bt=Et[lt],bt.type==="byname"&&bt.name===$t){fr=lt;break}if(fr>0&&fr<Et.length-1){var Zt=[];for(lt=0;lt<Et.length;lt++)bt=Et[lt],(Et[lt].type!=="byname"||lt>fr)&&Zt.push(bt);Et=Zt}}Et.length>0?yt(Et):(pe.emit("plotly_animated"),Lt())})}function We(pe,we,Ve){if(pe=C.getGraphDiv(pe),we==null)return Promise.resolve();if(!C.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Qe,it,st,Wt,jt=pe._transitionData._frames,Tt=pe._transitionData._frameHash;if(!Array.isArray(we))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+we);var Lt=jt.length+we.length*2,Xt=[],Tr={};for(Qe=we.length-1;Qe>=0;Qe--)if(C.isPlainObject(we[Qe])){var yt=we[Qe].name,Kt=(Tt[yt]||Tr[yt]||{}).name,Jt=we[Qe].name,yr=Tt[Kt]||Tr[Kt];Kt&&Jt&&typeof Jt=="number"&&yr&&L<M&&(L++,C.warn('addFrames: overwriting frame "'+(Tt[Kt]||Tr[Kt]).name+'" with a frame whose name of type "number" also equates to "'+Kt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),L===M&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Tr[yt]={name:yt},Xt.push({frame:a.supplyFrameDefaults(we[Qe]),index:Ve&&Ve[Qe]!==void 0&&Ve[Qe]!==null?Ve[Qe]:Lt+Qe})}Xt.sort(function(Ut,Bt){return Ut.index>Bt.index?-1:Ut.index<Bt.index?1:0});var ur=[],mt=[],lt=jt.length;for(Qe=Xt.length-1;Qe>=0;Qe--){if(it=Xt[Qe].frame,typeof it.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!it.name)for(;Tt[it.name="frame "+pe._transitionData._counter++];);if(Tt[it.name]){for(st=0;st<jt.length&&(jt[st]||{}).name!==it.name;st++);ur.push({type:"replace",index:st,value:it}),mt.unshift({type:"replace",index:st,value:jt[st]})}else Wt=Math.max(0,Math.min(Xt[Qe].index,lt)),ur.push({type:"insert",index:Wt,value:it}),mt.unshift({type:"delete",index:Wt}),lt++}var bt=a.modifyFrames,Et=a.modifyFrames,It=[pe,mt],Ht=[pe,ur];return d&&d.add(pe,bt,It,Et,Ht),a.modifyFrames(pe,ur)}function ze(pe,we){if(pe=C.getGraphDiv(pe),!C.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);var Ve,Qe,it=pe._transitionData._frames,st=[],Wt=[];if(!we)for(we=[],Ve=0;Ve<it.length;Ve++)we.push(Ve);for(we=we.slice(),we.sort(),Ve=we.length-1;Ve>=0;Ve--)Qe=we[Ve],st.push({type:"delete",index:Qe}),Wt.unshift({type:"insert",index:Qe,value:it[Qe]});var jt=a.modifyFrames,Tt=a.modifyFrames,Lt=[pe,Wt],Xt=[pe,st];return d&&d.add(pe,jt,Lt,Tt,Xt),a.modifyFrames(pe,st)}function ke(pe){pe=C.getGraphDiv(pe);var we=pe._fullLayout||{},Ve=pe._fullData||[];return a.cleanPlot([],{},Ve,we),a.purge(pe),v.purge(pe),we._container&&we._container.remove(),delete pe._context,pe}function je(pe){var we=pe._fullLayout,Ve=pe.getBoundingClientRect();if(!C.equalDomRects(Ve,we._lastBBox)){var Qe=we._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(pe));we._invScaleX=Math.sqrt(Qe[0][0]*Qe[0][0]+Qe[0][1]*Qe[0][1]+Qe[0][2]*Qe[0][2]),we._invScaleY=Math.sqrt(Qe[1][0]*Qe[1][0]+Qe[1][1]*Qe[1][1]+Qe[1][2]*Qe[1][2]),we._lastBBox=Ve}}function Ie(pe){var we=g.select(pe),Ve=pe._fullLayout;if(Ve._calcInverseTransform=je,Ve._calcInverseTransform(pe),Ve._container=we.selectAll(".plot-container").data([0]),Ve._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ve._paperdiv=Ve._container.selectAll(".svg-container").data([0]),Ve._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ve._glcontainer=Ve._paperdiv.selectAll(".gl-container").data([{}]),Ve._glcontainer.enter().append("div").classed("gl-container",!0),Ve._paperdiv.selectAll(".main-svg").remove(),Ve._paperdiv.select(".modebar-container").remove(),Ve._paper=Ve._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ve._toppaper=Ve._paperdiv.append("svg").classed("main-svg",!0),Ve._modebardiv=Ve._paperdiv.append("div"),delete Ve._modeBar,Ve._hoverpaper=Ve._paperdiv.append("svg").classed("main-svg",!0),!Ve._uid){var Qe={};g.selectAll("defs").each(function(){this.id&&(Qe[this.id.split("-")[1]]=1)}),Ve._uid=C.randstr(Qe)}Ve._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ve._defs=Ve._paper.append("defs").attr("id","defs-"+Ve._uid),Ve._clips=Ve._defs.append("g").classed("clips",!0),Ve._topdefs=Ve._toppaper.append("defs").attr("id","topdefs-"+Ve._uid),Ve._topclips=Ve._topdefs.append("g").classed("clips",!0),Ve._bgLayer=Ve._paper.append("g").classed("bglayer",!0),Ve._draggers=Ve._paper.append("g").classed("draglayer",!0);var it=Ve._paper.append("g").classed("layer-below",!0);Ve._imageLowerLayer=it.append("g").classed("imagelayer",!0),Ve._shapeLowerLayer=it.append("g").classed("shapelayer",!0),Ve._cartesianlayer=Ve._paper.append("g").classed("cartesianlayer",!0),Ve._polarlayer=Ve._paper.append("g").classed("polarlayer",!0),Ve._smithlayer=Ve._paper.append("g").classed("smithlayer",!0),Ve._ternarylayer=Ve._paper.append("g").classed("ternarylayer",!0),Ve._geolayer=Ve._paper.append("g").classed("geolayer",!0),Ve._funnelarealayer=Ve._paper.append("g").classed("funnelarealayer",!0),Ve._pielayer=Ve._paper.append("g").classed("pielayer",!0),Ve._iciclelayer=Ve._paper.append("g").classed("iciclelayer",!0),Ve._treemaplayer=Ve._paper.append("g").classed("treemaplayer",!0),Ve._sunburstlayer=Ve._paper.append("g").classed("sunburstlayer",!0),Ve._indicatorlayer=Ve._toppaper.append("g").classed("indicatorlayer",!0),Ve._glimages=Ve._paper.append("g").classed("glimages",!0);var st=Ve._toppaper.append("g").classed("layer-above",!0);Ve._imageUpperLayer=st.append("g").classed("imagelayer",!0),Ve._shapeUpperLayer=st.append("g").classed("shapelayer",!0),Ve._selectionLayer=Ve._toppaper.append("g").classed("selectionlayer",!0),Ve._infolayer=Ve._toppaper.append("g").classed("infolayer",!0),Ve._menulayer=Ve._toppaper.append("g").classed("menulayer",!0),Ve._zoomlayer=Ve._toppaper.append("g").classed("zoomlayer",!0),Ve._hoverlayer=Ve._hoverpaper.append("g").classed("hoverlayer",!0),Ve._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),pe.emit("plotly_framework")}H.animate=Ze,H.addFrames=We,H.deleteFrames=ze,H.addTraces=ne,H.deleteTraces=Y,H.extendTraces=J,H.moveTraces=oe,H.prependTraces=X,H.newPlot=F,H._doPlot=s,H.purge=ke,H.react=xt,H.redraw=z,H.relayout=Me,H.restyle=le,H.setPlotConfig=w,H.update=Ne,H._guiRelayout=De(Me),H._guiRestyle=De(le),H._guiUpdate=De(Ne),H._storeDirectGUIEdit=ae},20556:function(G){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(R,i){for(var C in R){var S=R[C];S.valType?i[C]=S.dflt:(i[C]||(i[C]={}),g(S,i[C]))}}g(H,e),G.exports={configAttributes:H,dfltConfig:e}},73060:function(G,H,e){var g=e(24040),R=e(3400),i=e(45464),C=e(64859),S=e(16672),v=e(85656),d=e(20556).configAttributes,r=e(67824),t=R.extendDeepAll,a=R.isPlainObject,n=R.isArrayOrTypedArray,f=R.nestedProperty,u=R.valObjectMeta,l="_isSubplotObj",y="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[l,y,h,T];H.IS_SUBPLOT_OBJ=l,H.IS_LINKED_TO_ARRAY=y,H.DEPRECATED=T,H.UNDERSCORE_ATTRS=c,H.get=function(){var N={};g.allTypes.forEach(function(F){N[F]=b(F)});var z={};return Object.keys(g.transformsRegistry).forEach(function(F){z[F]=m(F)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:P(),transforms:z,frames:L(),animation:M(v),config:M(d)}},H.crawl=function(N,z,F,U){var B=F||0;U=U||"",Object.keys(N).forEach(function(V){var j=N[V];if(c.indexOf(V)===-1){var Q=(U?U+".":"")+V;z(j,V,N,B,Q),!H.isValObject(j)&&a(j)&&V!=="impliedEdits"&&H.crawl(j,z,B+1,Q)}})},H.isValObject=function(N){return N&&N.valType!==void 0},H.findArrayAttributes=function(N){var z=[],F=[],U=[],B,V;function j(X,ne,Y,oe){F=F.slice(0,oe).concat([ne]),U=U.slice(0,oe).concat([X&&X._isLinkedToArray]);var le=X&&(X.valType==="data_array"||X.arrayOk===!0)&&!(F[oe-1]==="colorbar"&&(ne==="ticktext"||ne==="tickvals"));le&&Q(B,0,"")}function Q(X,ne,Y){var oe=X[F[ne]],le=Y+F[ne];if(ne===F.length-1)n(oe)&&z.push(V+le);else if(U[ne]){if(Array.isArray(oe))for(var Z=0;Z<oe.length;Z++)a(oe[Z])&&Q(oe[Z],ne+1,le+"["+Z+"].")}else a(oe)&&Q(oe,ne+1,le+".")}B=N,V="",H.crawl(i,j),N._module&&N._module.attributes&&H.crawl(N._module.attributes,j);var ee=N.transforms;if(ee)for(var re=0;re<ee.length;re++){var ue=ee[re],J=ue._module;J&&(V="transforms["+re+"].",B=ue,H.crawl(J.attributes,j))}return z},H.getTraceValObject=function(N,z){var F=z[0],U=1,B,V;if(F==="transforms"){if(z.length===1)return i.transforms;var j=N.transforms;if(!Array.isArray(j)||!j.length)return!1;var Q=z[1];if(!x(Q)||Q>=j.length)return!1;B=(g.transformsRegistry[j[Q].type]||{}).attributes,V=B&&B[z[2]],U=3}else{var ee=N._module;if(ee||(ee=(g.modules[N.type||i.type.dflt]||{})._module),!ee)return!1;if(B=ee.attributes,V=B&&B[F],!V){var re=ee.basePlotModule;re&&re.attributes&&(V=re.attributes[F])}V||(V=i[F])}return p(V,z,U)},H.getLayoutValObject=function(N,z){var F=o(N,z[0]);return p(F,z,1)};function o(N,z){var F,U,B,V,j=N._basePlotModules;if(j){var Q;for(F=0;F<j.length;F++){if(B=j[F],B.attrRegex&&B.attrRegex.test(z)){if(B.layoutAttrOverrides)return B.layoutAttrOverrides;!Q&&B.layoutAttributes&&(Q=B.layoutAttributes)}var ee=B.baseLayoutAttrOverrides;if(ee&&z in ee)return ee[z]}if(Q)return Q}var re=N._modules;if(re){for(F=0;F<re.length;F++)if(V=re[F].layoutAttributes,V&&z in V)return V[z]}for(U in g.componentsRegistry){if(B=g.componentsRegistry[U],B.name==="colorscale"&&z.indexOf("coloraxis")===0)return B.layoutAttributes[z];if(!B.schema&&z===B.name)return B.layoutAttributes}return z in C?C[z]:!1}function p(N,z,F){if(!N)return!1;if(N._isLinkedToArray){if(x(z[F]))F++;else if(F<z.length)return!1}for(;F<z.length;F++){var U=N[z[F]];if(a(U))N=U;else break;if(F===z.length-1)break;if(N._isLinkedToArray){if(F++,!x(z[F]))return!1}else if(N.valType==="info_array"){F++;var B=z[F];if(!x(B))return!1;var V=N.items;if(Array.isArray(V)){if(B>=V.length)return!1;if(N.dimensions===2){if(F++,z.length===F)return N;var j=z[F];if(!x(j))return!1;N=V[B][j]}else N=V[B]}else N=V}}return N}function x(N){return N===Math.round(N)&&N>=0}function b(N){var z,F;z=g.modules[N]._module,F=z.basePlotModule;var U={};U.type=null;var B=t({},i),V=t({},z.attributes);H.crawl(V,function(ee,re,ue,J,X){f(B,X).set(void 0),ee===void 0&&f(V,X).set(void 0)}),t(U,B),g.traceIs(N,"noOpacity")&&delete U.opacity,g.traceIs(N,"showLegend")||(delete U.showlegend,delete U.legendgroup),g.traceIs(N,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),z.selectPoints||delete U.selectedpoints,t(U,V),F.attributes&&t(U,F.attributes),U.type=N;var j={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:N,attributes:M(U)};if(z.layoutAttributes){var Q={};t(Q,z.layoutAttributes),j.layoutAttributes=M(Q)}return z.animatable||H.crawl(j,function(ee){H.isValObject(ee)&&"anim"in ee&&delete ee.anim}),j}function P(){var N={},z,F;t(N,C);for(z in g.subplotsRegistry)if(F=g.subplotsRegistry[z],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var U=0;U<F.attr.length;U++)_(N,F,F.attr[U]);else{var B=F.attr==="subplot"?F.name:F.attr;_(N,F,B)}for(z in g.componentsRegistry){F=g.componentsRegistry[z];var V=F.schema;if(V&&(V.subplots||V.layout)){var j=V.subplots;if(j&&j.xaxis&&!j.yaxis)for(var Q in j.xaxis)delete N.yaxis[Q];delete N.xaxis.shift,delete N.xaxis.autoshift}else F.name==="colorscale"?t(N,F.layoutAttributes):F.layoutAttributes&&D(N,F.layoutAttributes,F.name)}return{layoutAttributes:M(N)}}function m(N){var z=g.transformsRegistry[N],F=t({},z.attributes);return Object.keys(g.componentsRegistry).forEach(function(U){var B=g.componentsRegistry[U];B.schema&&B.schema.transforms&&B.schema.transforms[N]&&Object.keys(B.schema.transforms[N]).forEach(function(V){D(F,B.schema.transforms[N][V],V)})}),{attributes:M(F)}}function L(){var N={frames:t({},S)};return M(N),N.frames}function M(N){return s(N),E(N),w(N),N}function s(N){function z(U){return{valType:"string",editType:"none"}}function F(U,B,V){H.isValObject(U)?(U.arrayOk===!0||U.valType==="data_array")&&(V[B+"src"]=z()):a(U)&&(U.role="object")}H.crawl(N,F)}function E(N){function z(F,U,B){if(F){var V=F[y];V&&(delete F[y],B[U]={items:{}},B[U].items[V]=F,B[U].role="object")}}H.crawl(N,z)}function w(N){function z(F){for(var U in F)if(a(F[U]))z(F[U]);else if(Array.isArray(F[U]))for(var B=0;B<F[U].length;B++)z(F[U][B]);else F[U]instanceof RegExp&&(F[U]=F[U].toString())}z(N)}function _(N,z,F){var U=f(N,F),B=t({},z.layoutAttributes);B[l]=!0,U.set(B)}function D(N,z,F){var U=f(N,F);U.set(t(U.get()||{},z))}},31780:function(G,H,e){var g=e(3400),R=e(45464),i="templateitemname",C={name:{valType:"string",editType:"none"}};C[i]={valType:"string",editType:"calc"},H.templatedArray=function(d,r){return r._isLinkedToArray=d,r.name=C.name,r[i]=C[i],r},H.traceTemplater=function(d){var r={},t,a;for(t in d)a=d[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(f){t=g.coerce(f,{},R,"type");var u={type:t,_template:null};if(t in r){a=d[t];var l=r[t]%a.length;r[t]++,u._template=a[l]}return u}return{newTrace:n}},H.newContainer=function(d,r,t){var a=d._template,n=a&&(a[r]||t&&a[t]);g.isPlainObject(n)||(n=null);var f=d[r]={_template:n};return f},H.arrayTemplater=function(d,r,t){var a=d._template,n=a&&a[v(r)],f=a&&a[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var T={name:h.name,_input:h},c=T[i]=h[i];if(!S(c))return T._template=n,T;for(var o=0;o<f.length;o++){var p=f[o];if(p.name===c)return u[c]=1,T._template=p,T}return T[t]=h[t]||!1,T._template=!1,T}function y(){for(var h=[],T=0;T<f.length;T++){var c=f[T],o=c.name;if(S(o)&&!u[o]){var p={_template:c,name:o,_input:{_templateitemname:o}};p[i]=c[i],h.push(p),u[o]=1}}return h}return{newItem:l,defaultItems:y}};function S(d){return d&&typeof d=="string"}function v(d){var r=d.length-1;return d.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(d,r,t){var a=(g.nestedProperty(d,r).get()||[]).length,n=t._index,f=n>=a&&(t._input||{})._templateitemname;f&&(n=a);var u=r+"["+n+"]",l;function y(){l={},f&&(l[u]={},l[u][i]=f)}y();function h(p,x){l[p]=x}function T(p,x){f?g.nestedProperty(l[u],p).set(x):l[u+"."+p]=x}function c(){var p=l;return y(),p}function o(p,x){p&&T(p,x);var b=c();for(var P in b)g.nestedProperty(d,P).set(b[P])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:o}}},39172:function(G,H,e){var g=e(33428),R=e(24040),i=e(7316),C=e(3400),S=e(72736),v=e(73696),d=e(76308),r=e(43616),t=e(81668),a=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,y=u.clean,h=e(19280).doAutoRange,T="start",c="middle",o="end";H.layoutStyles=function(F){return C.syncOrAsync([i.doAutoMargin,x],F)};function p(F,U,B){for(var V=0;V<B.length;V++){var j=B[V][0],Q=B[V][1];if(!(j[0]>=F[1]||j[1]<=F[0])&&Q[0]<U[1]&&Q[1]>U[0])return!0}return!1}function x(F){var U=F._fullLayout,B=U._size,V=B.p,j=n.list(F,"",!0),Q,ee,re,ue,J,X;if(U._paperdiv.style({width:F._context.responsive&&U.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":U.width+"px",height:F._context.responsive&&U.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(r.setSize,U.width,U.height),F._context.setBackground(F,U.paper_bgcolor),H.drawMainTitle(F),a.manage(F),!U._has("cartesian"))return i.previousPromises(F);function ne(ke,je,Ie){var pe=ke._lw/2;if(ke._id.charAt(0)==="x"){if(je){if(Ie==="top")return je._offset-V-pe}else return B.t+B.h*(1-(ke.position||0))+pe%1;return je._offset+je._length+V+pe}if(je){if(Ie==="right")return je._offset+je._length+V+pe}else return B.l+B.w*(ke.position||0)+pe%1;return je._offset-V-pe}for(Q=0;Q<j.length;Q++){ue=j[Q];var Y=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(F,ue.linewidth,1),ue._mainLinePosition=ne(ue,Y,ue.side),ue._mainMirrorPosition=ue.mirror&&Y?ne(ue,Y,f.OPPOSITE_SIDE[ue.side]):null}var oe=[],le=[],Z=[],$=d.opacity(U.paper_bgcolor)===1&&d.opacity(U.plot_bgcolor)===1&&U.paper_bgcolor===U.plot_bgcolor;for(ee in U._plots)if(re=U._plots[ee],re.mainplot)re.bg&&re.bg.remove(),re.bg=void 0;else{var se=re.xaxis.domain,ae=re.yaxis.domain,he=re.plotgroup;if(p(se,ae,Z)){var me=he.node(),Me=re.bg=C.ensureSingle(he,"rect","bg");me.insertBefore(Me.node(),me.childNodes[0]),le.push(ee)}else he.select("rect.bg").remove(),Z.push([se,ae]),$||(oe.push(ee),le.push(ee))}var Te=U._bgLayer.selectAll(".bg").data(oe);for(Te.enter().append("rect").classed("bg",!0),Te.exit().remove(),Te.each(function(ke){U._plots[ke].bg=g.select(this)}),Q=0;Q<le.length;Q++)re=U._plots[le[Q]],J=re.xaxis,X=re.yaxis,re.bg&&J._offset!==void 0&&X._offset!==void 0&&re.bg.call(r.setRect,J._offset-V,X._offset-V,J._length+2*V,X._length+2*V).call(d.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(ee in U._plots){re=U._plots[ee],J=re.xaxis,X=re.yaxis;var Pe=re.clipId="clip"+U._uid+ee+"plot",be=C.ensureSingleById(U._clips,"clipPath",Pe,function(ke){ke.classed("plotclip",!0).append("rect")});re.clipRect=be.select("rect").attr({width:J._length,height:X._length}),r.setTranslate(re.plot,J._offset,X._offset);var Ee,xe;re._hasClipOnAxisFalse?(Ee=null,xe=Pe):(Ee=Pe,xe=null),r.setClipUrl(re.plot,Ee,F),re.layerClipId=xe}var Ce,Ue,Ne,De,He,at,vt,ot,et,ct,ht,gt,xt;function Mt(ke){return"M"+Ce+","+ke+"H"+Ue}function tt(ke){return"M"+J._offset+","+ke+"h"+J._length}function Oe(ke){return"M"+ke+","+ot+"V"+vt}function Xe(ke){return X._shift!==void 0&&(ke+=X._shift),"M"+ke+","+X._offset+"v"+X._length}function Ze(ke,je,Ie){if(!ke.showline||ee!==ke._mainSubplot)return"";if(!ke._anchorAxis)return Ie(ke._mainLinePosition);var pe=je(ke._mainLinePosition);return ke.mirror&&(pe+=je(ke._mainMirrorPosition)),pe}for(ee in U._plots){re=U._plots[ee],J=re.xaxis,X=re.yaxis;var We="M0,0";b(J,ee)&&(He=m(J,"left",X,j),Ce=J._offset-(He?V+He:0),at=m(J,"right",X,j),Ue=J._offset+J._length+(at?V+at:0),Ne=ne(J,X,"bottom"),De=ne(J,X,"top"),xt=!J._anchorAxis||ee!==J._mainSubplot,xt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ee]=[Ne,De]),We=Ze(J,Mt,tt),xt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(We+=Mt(Ne)+Mt(De)),re.xlines.style("stroke-width",J._lw+"px").call(d.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),re.xlines.attr("d",We);var ze="M0,0";b(X,ee)&&(ht=m(X,"bottom",J,j),vt=X._offset+X._length+(ht?V:0),gt=m(X,"top",J,j),ot=X._offset-(gt?V:0),et=ne(X,J,"left"),ct=ne(X,J,"right"),xt=!X._anchorAxis||ee!==X._mainSubplot,xt&&(X.mirror==="allticks"||X.mirror==="all")&&(X._linepositions[ee]=[et,ct]),ze=Ze(X,Oe,Xe),xt&&X.showline&&(X.mirror==="all"||X.mirror==="allticks")&&(ze+=Oe(et)+Oe(ct)),re.ylines.style("stroke-width",X._lw+"px").call(d.stroke,X.showline?X.linecolor:"rgba(0,0,0,0)")),re.ylines.attr("d",ze)}return n.makeClipPaths(F),i.previousPromises(F)}function b(F,U){return(F.ticks||F.showline)&&(U===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function P(F,U,B){if(!B.showline||!B._lw)return!1;if(B.mirror==="all"||B.mirror==="allticks")return!0;var V=B._anchorAxis;if(!V)return!1;var j=f.FROM_BL[U];return B.side===U?V.domain[j]===F.domain[j]:B.mirror&&V.domain[1-j]===F.domain[1-j]}function m(F,U,B,V){if(P(F,U,B))return B._lw;for(var j=0;j<V.length;j++){var Q=V[j];if(Q._mainAxis===B._mainAxis&&P(F,U,Q))return Q._lw}return 0}H.drawMainTitle=function(F){var U=F._fullLayout.title,B=F._fullLayout,V=N(B),j=z(B),Q=_(B,j),ee=w(B,V);if(t.draw(F,"gtitle",{propContainer:B,propName:"title.text",placeholder:B._dfltTitle.plot,attributes:{x:ee,y:Q,"text-anchor":V,dy:j}}),U.text&&U.automargin){var re=g.selectAll(".gtitle"),ue=r.bBox(re.node()).height,J=s(F,U,ue);if(J>0){E(F,Q,J,ue),re.attr({x:ee,y:Q,"text-anchor":V,dy:D(U.yanchor)}).call(S.positionText,ee,Q);var X=(U.text.match(S.BR_TAG_ALL)||[]).length;if(X){var ne=f.LINE_SPACING*X+f.MID_SHIFT;U.y===0&&(ne=-ne),re.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-ne+"em";this.setAttribute("dy",Y)})}}}};function L(F,U,B,V,j){var Q=U.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,ee=C.isTopAnchor(U)?V:V-j,re=B==="b"?Q-ee:ee;return C.isTopAnchor(U)&&B==="t"||C.isBottomAnchor(U)&&B==="b"?!1:re<j}function M(F,U,B,V,j){var Q=0;return B==="middle"&&(Q+=j/2),F==="t"?(B==="top"&&(Q+=j),Q+=V-U*V):(B==="bottom"&&(Q+=j),Q+=U*V),Q}function s(F,U,B){var V=U.y,j=U.yanchor,Q=V>.5?"t":"b",ee=F._fullLayout.margin[Q],re=0;return U.yref==="paper"?re=B+U.pad.t+U.pad.b:U.yref==="container"&&(re=M(Q,V,j,F._fullLayout.height,B)+U.pad.t+U.pad.b),re>ee?re:0}function E(F,U,B,V){var j="title.automargin",Q=F._fullLayout.title,ee=Q.y>.5?"t":"b",re={x:Q.x,y:Q.y,t:0,b:0},ue={};Q.yref==="paper"&&L(F,Q,ee,U,V)?re[ee]=B:Q.yref==="container"&&(ue[ee]=B,F._fullLayout._reservedMargin[j]=ue),i.allowAutoMargin(F,j),i.autoMargin(F,j,re)}function w(F,U){var B=F.title,V=F._size,j=0;switch(U===T?j=B.pad.l:U===o&&(j=-B.pad.r),B.xref){case"paper":return V.l+V.w*B.x+j;case"container":default:return F.width*B.x+j}}function _(F,U){var B=F.title,V=F._size,j=0;if(U==="0em"||!U?j=-B.pad.b:U===f.CAP_SHIFT+"em"&&(j=B.pad.t),B.y==="auto")return V.t/2;switch(B.yref){case"paper":return V.t+V.h-V.h*B.y+j;case"container":default:return F.height-F.height*B.y+j}}function D(F){return F==="top"?f.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(F){var U=F.title,B=c;return C.isRightAnchor(U)?B=o:C.isLeftAnchor(U)&&(B=T),B}function z(F){var U=F.title,B="0em";return C.isTopAnchor(U)?B=f.CAP_SHIFT+"em":C.isMiddleAnchor(U)&&(B=f.MID_SHIFT+"em"),B}H.doTraceStyle=function(F){var U=F.calcdata,B=[],V;for(V=0;V<U.length;V++){var j=U[V],Q=j[0]||{},ee=Q.trace||{},re=ee._module||{},ue=re.arraysToCalcdata;ue&&ue(j,ee);var J=re.editStyle;J&&B.push({fn:J,cd0:Q})}if(B.length){for(V=0;V<B.length;V++){var X=B[V];X.fn(F,X.cd0)}v(F),H.redrawReglTraces(F)}return i.style(F),R.getComponentMethod("legend","draw")(F),i.previousPromises(F)},H.doColorBars=function(F){return R.getComponentMethod("colorbar","draw")(F),i.previousPromises(F)},H.layoutReplot=function(F){var U=F.layout;return F.layout=void 0,R.call("_doPlot",F,"",U)},H.doLegend=function(F){return R.getComponentMethod("legend","draw")(F),i.previousPromises(F)},H.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(R.subplotsRegistry.splom.updateGrid(F),v(F),H.redrawReglTraces(F)),H.drawMainTitle(F),i.previousPromises(F)},H.doModeBar=function(F){var U=F._fullLayout;a.manage(F);for(var B=0;B<U._basePlotModules.length;B++){var V=U._basePlotModules[B].updateFx;V&&V(F)}return i.previousPromises(F)},H.doCamera=function(F){for(var U=F._fullLayout,B=U._subplots.gl3d,V=0;V<B.length;V++){var j=U[B[V]],Q=j._scene;Q.setViewport(j)}},H.drawData=function(F){var U=F._fullLayout;v(F);for(var B=U._basePlotModules,V=0;V<B.length;V++)B[V].plot(F);return H.redrawReglTraces(F),i.style(F),R.getComponentMethod("selections","draw")(F),R.getComponentMethod("shapes","draw")(F),R.getComponentMethod("annotations","draw")(F),R.getComponentMethod("images","draw")(F),U._replotting=!1,i.previousPromises(F)},H.redrawReglTraces=function(F){var U=F._fullLayout;if(U._has("regl")){var B=F._fullData,V=[],j=[],Q,ee;for(U._hasOnlyLargeSploms&&U._splomGrid.draw(),Q=0;Q<B.length;Q++){var re=B[Q];re.visible===!0&&re._length!==0&&(re.type==="splom"?U._splomScenes[re.uid].draw():re.type==="scattergl"?C.pushUnique(V,re.xaxis+re.yaxis):re.type==="scatterpolargl"&&C.pushUnique(j,re.subplot))}for(Q=0;Q<V.length;Q++)ee=U._plots[V[Q]],ee._scene&&ee._scene.draw();for(Q=0;Q<j.length;Q++)ee=U[j[Q]]._subplot,ee._scene&&ee._scene.draw()}},H.doAutoRangeAndConstraints=function(F){for(var U=n.list(F,"",!0),B,V={},j=0;j<U.length;j++)if(B=U[j],!V[B._id]){V[B._id]=1,y(F,B),h(F,B);var Q=B._matchGroup;if(Q)for(var ee in Q){var re=n.getFromId(F,ee);h(F,re,B.range),V[ee]=1}}l(F)},H.finalDraw=function(F){R.getComponentMethod("rangeslider","draw")(F),R.getComponentMethod("rangeselector","draw")(F)},H.drawMarginPushers=function(F){R.getComponentMethod("legend","draw")(F),R.getComponentMethod("rangeselector","draw")(F),R.getComponentMethod("sliders","draw")(F),R.getComponentMethod("updatemenus","draw")(F),R.getComponentMethod("colorbar","draw")(F)}},94828:function(G,H,e){var g=e(3400),R=g.isPlainObject,i=e(73060),C=e(7316),S=e(45464),v=e(31780),d=e(20556).dfltConfig;H.makeTemplate=function(h){h=g.isPlainObject(h)?h:g.getGraphDiv(h),h=g.extendDeep({_context:d},{data:h.data,layout:h.layout}),C.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};T.forEach(function(w){var _={};a(w,_,f.bind(null,w));var D=g.coerce(w,{},S,"type"),N=o.data[D];N||(N=o.data[D]=[]),N.push(_)}),a(c,o.layout,n.bind(null,c)),delete o.layout.template;var p=c.template;if(R(p)){var x=p.layout,b,P,m,L,M,s;R(x)&&r(x,o.layout);var E=p.data;if(R(E)){for(P in o.data)if(m=E[P],Array.isArray(m)){for(M=o.data[P],s=M.length,L=m.length,b=0;b<s;b++)r(m[b%L],M[b]);for(b=s;b<L;b++)M.push(g.extendDeep({},m[b]))}for(P in E)P in o.data||(o.data[P]=g.extendDeep([],E[P]))}}return o};function r(h,T){h=g.extendDeep({},h);var c=Object.keys(h).sort(),o,p;function x(M,s,E){if(R(s)&&R(M))r(M,s);else if(Array.isArray(s)&&Array.isArray(M)){var w=v.arrayTemplater({_template:h},E);for(p=0;p<s.length;p++){var _=s[p],D=w.newItem(_)._template;D&&r(D,_)}var N=w.defaultItems();for(p=0;p<N.length;p++)s.push(N[p]._template);for(p=0;p<s.length;p++)delete s[p].templateitemname}}for(o=0;o<c.length;o++){var b=c[o],P=h[b];if(b in T?x(P,T[b],b):T[b]=P,t(b)===b)for(var m in T){var L=t(m);m!==L&&L===b&&!(m in h)&&x(P,T[m],b)}}}function t(h){return h.replace(/[0-9]+$/,"")}function a(h,T,c,o,p){var x=p&&c(p);for(var b in h){var P=h[b],m=u(h,b,o),L=u(h,b,p),M=c(L);if(!M){var s=t(b);s!==b&&(L=u(h,s,p),M=c(L))}if(!(x&&x===M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(P)))if(!M.valType&&R(P))a(P,T,c,m,L);else if(M._isLinkedToArray&&Array.isArray(P))for(var E=!1,w=0,_={},D=0;D<P.length;D++){var N=P[D];if(R(N)){var z=N.name;if(z)_[z]||(a(N,T,c,u(P,w,m),u(P,w,L)),w++,_[z]=1);else if(!E){var F=v.arrayDefaultKey(b),U=u(h,F,o),B=u(P,w,m);a(N,T,c,B,u(P,w,L));var V=g.nestedProperty(T,B),j=g.nestedProperty(T,U);j.set(V.get()),V.set(null),E=!0}}}else{var Q=g.nestedProperty(T,m);Q.set(P)}}}function n(h,T){return i.getLayoutValObject(h,g.nestedProperty({},T).parts)}function f(h,T){return i.getTraceValObject(h,g.nestedProperty({},T).parts)}function u(h,T,c){var o;return c?Array.isArray(h)?o=c+"["+T+"]":o=c+"."+T:o=T,o}H.validateTemplate=function(h,T){var c=g.extendDeep({},{_context:d,data:h.data,layout:h.layout}),o=c.layout||{};R(T)||(T=o.template||{});var p=T.layout,x=T.data,b=[];c.layout=o,c.layout.template=T,C.supplyDefaults(c);var P=c._fullLayout,m=c._fullData,L={};function M(U,B){for(var V in U)if(V.charAt(0)!=="_"&&R(U[V])){var j=t(V),Q=[],ee;for(ee=0;ee<B.length;ee++)Q.push(u(U,V,B[ee])),j!==V&&Q.push(u(U,j,B[ee]));for(ee=0;ee<Q.length;ee++)L[Q[ee]]=1;M(U[V],Q)}}function s(U,B){for(var V in U)if(V.indexOf("defaults")===-1&&R(U[V])){var j=u(U,V,B);L[j]?s(U[V],j):b.push({code:"unused",path:j})}}if(R(p)?(M(P,["layout"]),s(p,"layout")):b.push({code:"layout"}),!R(x))b.push({code:"data"});else{for(var E={},w,_=0;_<m.length;_++){var D=m[_];w=D.type,E[w]=(E[w]||0)+1,D._fullInput._template||b.push({code:"missing",index:D._fullInput.index,traceType:w})}for(w in x){var N=x[w].length,z=E[w]||0;N>z?b.push({code:"unused",traceType:w,templateCount:N,dataCount:z}):z>N&&b.push({code:"reused",traceType:w,templateCount:N,dataCount:z})}}function F(U,B){for(var V in U)if(V.charAt(0)!=="_"){var j=U[V],Q=u(U,V,B);R(j)?(Array.isArray(U)&&j._template===!1&&j.templateitemname&&b.push({code:"missing",path:Q,templateitemname:j.templateitemname}),F(j,Q)):Array.isArray(j)&&l(j)&&F(j,Q)}}if(F({data:m,layout:P},""),b.length)return b.map(y)};function l(h){for(var T=0;T<h.length;T++)if(R(h[T]))return!0}function y(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(G,H,e){var g=e(38248),R=e(36424),i=e(7316),C=e(3400),S=e(81792),v=e(37164),d=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function a(n,f){f=f||{};var u,l,y,h;C.isPlainObject(n)?(u=n.data||[],l=n.layout||{},y=n.config||{},h={}):(n=C.getGraphDiv(n),u=C.extendDeep([],n.data),l=C.extendDeep({},n.layout),y=n._context,h=n._fullLayout||{});function T(z){return!(z in f)||C.validate(f[z],t[z])}if(!T("width")&&f.width!==null||!T("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var c={};function o(z,F){return C.coerce(f,c,t,z,F)}var p=o("format"),x=o("width"),b=o("height"),P=o("scale"),m=o("setBackground"),L=o("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var s=C.extendFlat({},l);x?s.width=x:f.width===null&&g(h.width)&&(s.width=h.width),b?s.height=b:f.height===null&&g(h.height)&&(s.height=h.height);var E=C.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),w=S.getRedrawFunc(M);function _(){return new Promise(function(z){setTimeout(z,S.getDelay(M._fullLayout))})}function D(){return new Promise(function(z,F){var U=v(M,p,P),B=M._fullLayout.width,V=M._fullLayout.height;function j(){R.purge(M),document.body.removeChild(M)}if(p==="full-json"){var Q=i.graphJson(M,!1,"keepdata","object",!0,!0);return Q.version=r,Q=JSON.stringify(Q),j(),z(L?Q:S.encodeJSON(Q))}if(j(),p==="svg")return z(L?U:S.encodeSVG(U));var ee=document.createElement("canvas");ee.id=C.randstr(),d({format:p,width:B,height:V,scale:P,canvas:ee,svg:U,promise:!0}).then(z).catch(F)})}function N(z){return L?z.replace(S.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,F){R.newPlot(M,u,s,E).then(w).then(_).then(D).then(function(U){z(N(U))}).catch(function(U){F(U)})})}G.exports=a},21480:function(G,H,e){var g=e(3400),R=e(7316),i=e(73060),C=e(20556).dfltConfig,S=g.isPlainObject,v=Array.isArray,d=g.isArrayOrTypedArray;G.exports=function(o,p){o===void 0&&(o=[]),p===void 0&&(p={});var x=i.get(),b=[],P={_context:g.extendFlat({},C)},m,L;v(o)?(P.data=g.extendDeep([],o),m=o):(P.data=[],m=[],b.push(f("array","data"))),S(p)?(P.layout=g.extendDeep({},p),L=p):(P.layout={},L={},arguments.length>1&&b.push(f("object","layout"))),R.supplyDefaults(P);for(var M=P._fullData,s=m.length,E=0;E<s;E++){var w=m[E],_=["data",E];if(!S(w)){b.push(f("object",_));continue}var D=M[E],N=D.type,z=x.traces[N].attributes;z.type={valType:"enumerated",values:[N]},D.visible===!1&&w.visible!==!1&&b.push(f("invisible",_)),r(w,D,z,b,_);var F=w.transforms,U=D.transforms;if(F){v(F)||b.push(f("array",_,["transforms"])),_.push("transforms");for(var B=0;B<F.length;B++){var V=["transforms",B],j=F[B].type;if(!S(F[B])){b.push(f("object",_,V));continue}var Q=x.transforms[j]?x.transforms[j].attributes:{};Q.type={valType:"enumerated",values:Object.keys(x.transforms)},r(F[B],U[B],Q,b,_,V)}}}var ee=P._fullLayout,re=t(x,M);return r(L,ee,re,b,"layout"),b.length===0?void 0:b};function r(c,o,p,x,b,P){P=P||[];for(var m=Object.keys(c),L=0;L<m.length;L++){var M=m[L];if(M!=="transforms"){var s=P.slice();s.push(M);var E=c[M],w=o[M],_=l(p,M),D=(_||{}).valType,N=D==="info_array",z=D==="colorscale",F=(_||{}).items;if(!u(p,M))x.push(f("schema",b,s));else if(S(E)&&S(w)&&D!=="any")r(E,w,_,x,b,s);else if(N&&v(E)){E.length>w.length&&x.push(f("unused",b,s.concat(w.length)));var U=w.length,B=Array.isArray(F);B&&(U=Math.min(U,F.length));var V,j,Q,ee,re;if(_.dimensions===2)for(j=0;j<U;j++)if(v(E[j])){E[j].length>w[j].length&&x.push(f("unused",b,s.concat(j,w[j].length)));var ue=w[j].length;for(V=0;V<(B?Math.min(ue,F[j].length):ue);V++)Q=B?F[j][V]:F,ee=E[j][V],re=w[j][V],g.validate(ee,Q)?re!==ee&&re!==+ee&&x.push(f("dynamic",b,s.concat(j,V),ee,re)):x.push(f("value",b,s.concat(j,V),ee))}else x.push(f("array",b,s.concat(j),E[j]));else for(j=0;j<U;j++)Q=B?F[j]:F,ee=E[j],re=w[j],g.validate(ee,Q)?re!==ee&&re!==+ee&&x.push(f("dynamic",b,s.concat(j),ee,re)):x.push(f("value",b,s.concat(j),ee))}else if(_.items&&!N&&v(E)){var J=F[Object.keys(F)[0]],X=[],ne,Y;for(ne=0;ne<w.length;ne++){var oe=w[ne]._index||ne;if(Y=s.slice(),Y.push(oe),S(E[oe])&&S(w[ne])){X.push(oe);var le=E[oe],Z=w[ne];S(le)&&le.visible!==!1&&Z.visible===!1?x.push(f("invisible",b,Y)):r(le,Z,J,x,b,Y)}}for(ne=0;ne<E.length;ne++)Y=s.slice(),Y.push(ne),S(E[ne])?X.indexOf(ne)===-1&&x.push(f("unused",b,Y)):x.push(f("object",b,Y,E[ne]))}else!S(E)&&S(w)?x.push(f("object",b,s,E)):!d(E)&&d(w)&&!N&&!z?x.push(f("array",b,s,E)):M in o?g.validate(E,_)?_.valType==="enumerated"&&(_.coerceNumber&&E!==+w||E!==w)&&x.push(f("dynamic",b,s,E,w)):x.push(f("value",b,s,E)):x.push(f("unused",b,s,E))}}return x}function t(c,o){for(var p=c.layout.layoutAttributes,x=0;x<o.length;x++){var b=o[x],P=c.traces[b.type],m=P.layoutAttributes;m&&(b.subplot?g.extendFlat(p[P.attributes.subplot.dflt],m):g.extendFlat(p,m))}return p}var a={object:function(c,o){var p;return c==="layout"&&o===""?p="The layout argument":c[0]==="data"&&o===""?p="Trace "+c[1]+" in the data argument":p=n(c)+"key "+o,p+" must be linked to an object container"},array:function(c,o){var p;return c==="data"?p="The data argument":p=n(c)+"key "+o,p+" must be linked to an array container"},schema:function(c,o){return n(c)+"key "+o+" is not part of the schema"},unused:function(c,o,p){var x=S(p)?"container":"key";return n(c)+x+" "+o+" did not get coerced"},dynamic:function(c,o,p,x){return[n(c)+"key",o,"(set to '"+p+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?n(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,p){return[n(c)+"key "+o,"is set to an invalid value ("+p+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,o,p,x,b){p=p||"";var P,m;v(o)?(P=o[0],m=o[1]):(P=o,m=null);var L=T(p),M=a[c](o,L,x,b);return g.log(M),{code:c,container:P,trace:m,path:p,astr:L,msg:M}}function u(c,o){var p=h(o),x=p.keyMinusId,b=p.id;return x in c&&c[x]._isSubplotObj&&b?!0:o in c}function l(c,o){if(o in c)return c[o];var p=h(o);return c[p.keyMinusId]}var y=g.counterRegex("([a-z]+)");function h(c){var o=c.match(y);return{keyMinusId:o&&o[1],id:o&&o[2]}}function T(c){if(!v(c))return String(c);for(var o="",p=0;p<c.length;p++){var x=c[p];typeof x=="number"?o=o.substr(0,o.length-1)+"["+x+"]":o+=x,p<c.length-1&&(o+=".")}return o}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,H,e){var g=e(3400),R=e(31780);G.exports=function(C,S,v){var d=v.name,r=v.inclusionAttr||"visible",t=S[d],a=g.isArrayOrTypedArray(C[d])?C[d]:[],n=S[d]=[],f=R.arrayTemplater(S,d,r),u,l;for(u=0;u<a.length;u++){var y=a[u];g.isPlainObject(y)?l=f.newItem(y):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(y,l,S,v),n.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=n.length,v.handleItemDefaults({},l,S,v,{}),n.push(l);if(g.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)g.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(G,H,e){var g=e(25376),R=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:R.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,H,e){var g=e(38248),R=e(3400),i=R.dateTime2ms,C=R.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;G.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var f=r[a+"periodalignment"];if(!f)return{vals:n};var u=r[a+"period"],l;if(g(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var y=+u.substring(1);if(y>0&&Math.round(y)===y)l=y;else return{vals:n}}for(var h=t.calendar,T=f==="start",c=f==="end",o=r[a+"period0"],p=i(o,h)||0,x=[],b=[],P=[],m=n.length,L=0;L<m;L++){var M=n[L],s,E,w;if(l){for(s=Math.round((M-p)/(l*v)),w=C(p,l*s,h);w>M;)w=C(w,-l,h);for(;w<=M;)w=C(w,l,h);E=C(w,-l,h)}else{for(s=Math.round((M-p)/u),w=p+s*u;w>M;)w-=u;for(;w<=M;)w+=u;E=w-u}x[L]=T?E:c?w:(E+w)/2,b[L]=E,P[L]=w}return{vals:x,starts:b,ends:P}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,H,e){var g=e(33428),R=e(38248),i=e(3400),C=e(39032).FP_SAFE,S=e(24040),v=e(43616),d=e(79811),r=d.getFromId,t=d.isLinked;G.exports={applyAutorangeOptions:s,getAutoRange:a,makePadFn:f,doAutoRange:h,findExtremes:T,concatExtremes:y};function a(E,w){var _,D,N=[],z=E._fullLayout,F=f(z,w,0),U=f(z,w,1),B=y(E,w),V=B.min,j=B.max;if(V.length===0||j.length===0)return i.simpleMap(w.range,w.r2l);var Q=V[0].val,ee=j[0].val;for(_=1;_<V.length&&Q===ee;_++)Q=Math.min(Q,V[_].val);for(_=1;_<j.length&&Q===ee;_++)ee=Math.max(ee,j[_].val);var re=w.autorange,ue=re==="reversed"||re==="min reversed"||re==="max reversed";if(!ue&&w.range){var J=i.simpleMap(w.range,w.r2l);ue=J[1]<J[0]}w.autorange==="reversed"&&(w.autorange=!0);var X=w.rangemode,ne=X==="tozero",Y=X==="nonnegative",oe=w._length,le=oe/10,Z=0,$,se,ae,he,me,Me;for(_=0;_<V.length;_++)for($=V[_],D=0;D<j.length;D++)se=j[D],Me=se.val-$.val-n(w,$.val,se.val),Me>0&&(me=oe-F($)-U(se),me>le?Me/me>Z&&(ae=$,he=se,Z=Me/me):Me/oe>Z&&(ae={val:$.val,nopad:1},he={val:se.val,nopad:1},Z=Me/oe));function Te(Ce,Ue){return Math.max(Ce,U(Ue))}if(Q===ee){var Pe=Q-1,be=Q+1;if(ne)if(Q===0)N=[0,1];else{var Ee=(Q>0?j:V).reduce(Te,0),xe=Q/(1-Math.min(.5,Ee/oe));N=Q>0?[0,xe]:[xe,0]}else Y?N=[Math.max(0,Pe),Math.max(1,be)]:N=[Pe,be]}else ne?(ae.val>=0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):Y&&(ae.val-Z*F(ae)<0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),Z=(he.val-ae.val-n(w,$.val,se.val))/(oe-F(ae)-U(he)),N=[ae.val-Z*F(ae),he.val+Z*U(he)];return N=s(N,w),w.limitRange&&w.limitRange(),ue&&N.reverse(),i.simpleMap(N,w.l2r||Number)}function n(E,w,_){var D=0;if(E.rangebreaks)for(var N=E.locateBreaks(w,_),z=0;z<N.length;z++){var F=N[z];D+=F.max-F.min}return D}function f(E,w,_){var D=.05*w._length,N=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var z=w.isReversed();if(!z){var F=i.simpleMap(w.range,w.r2l);z=F[1]<F[0]}z&&(_=!_)}var U=0;return t(E,w._id)||(U=l(E,w,_)),D=Math.max(U,D),w.constrain==="domain"&&w._inputDomain&&(D*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?D:U)}}var u=3;function l(E,w,_){var D=0,N=w._id.charAt(0)==="x";for(var z in E._plots){var F=E._plots[z];if(!(w._id!==F.xaxis._id&&w._id!==F.yaxis._id)){var U=(N?F.yaxis:F.xaxis)||{};if((U.ticklabelposition||"").indexOf("inside")!==-1&&(!_&&(U.side==="left"||U.side==="bottom")||_&&(U.side==="top"||U.side==="right"))){if(U._vals){var B=i.deg2rad(U._tickAngles[U._id+"tick"]||0),V=Math.abs(Math.cos(B)),j=Math.abs(Math.sin(B));if(!U._vals[0].bb){var Q=U._id+"tick",ee=U._selections[Q];ee.each(function(Y){var oe=g.select(this),le=oe.select(".text-math-group");le.empty()&&(Y.bb=v.bBox(oe.node()))})}for(var re=0;re<U._vals.length;re++){var ue=U._vals[re],J=ue.bb;if(J){var X=2*u+J.width,ne=2*u+J.height;D=Math.max(D,N?Math.max(X*V,ne*j):Math.max(ne*V,X*j))}}}U.ticks==="inside"&&U.ticklabelposition==="inside"&&(D+=U.ticklen||0)}}}return D}function y(E,w,_){var D=w._id,N=E._fullData,z=E._fullLayout,F=[],U=[],B,V,j;function Q(X,ne){for(B=0;B<ne.length;B++){var Y=X[ne[B]],oe=(Y._extremes||{})[D];if(Y.visible===!0&&oe){for(V=0;V<oe.min.length;V++)j=oe.min[V],c(F,j.val,j.pad,{extrapad:j.extrapad});for(V=0;V<oe.max.length;V++)j=oe.max[V],o(U,j.val,j.pad,{extrapad:j.extrapad})}}}if(Q(N,w._traceIndices),Q(z.annotations||[],w._annIndices||[]),Q(z.shapes||[],w._shapeIndices||[]),w._matchGroup&&!_){for(var ee in w._matchGroup)if(ee!==w._id){var re=r(E,ee),ue=y(E,re,!0),J=w._length/re._length;for(V=0;V<ue.min.length;V++)j=ue.min[V],c(F,j.val,j.pad*J,{extrapad:j.extrapad});for(V=0;V<ue.max.length;V++)j=ue.max[V],o(U,j.val,j.pad*J,{extrapad:j.extrapad})}}return{min:F,max:U}}function h(E,w,_){if(w.setScale(),w.autorange){w.range=_?_.slice():a(E,w),w._r=w.range.slice(),w._rl=i.simpleMap(w._r,w.r2l);var D=w._input,N={};N[w._attr+".range"]=w.range,N[w._attr+".autorange"]=w.autorange,S.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,N),D.range=w.range.slice(),D.autorange=w.autorange}var z=w._anchorAxis;if(z&&z.rangeslider){var F=z.rangeslider[w._name];F&&F.rangemode==="auto"&&(F.range=a(E,w)),z._input.rangeslider[w._name]=i.extendFlat({},F)}}function T(E,w,_){_||(_={}),E._m||E.setScale();var D=[],N=[],z=w.length,F=_.padded||!1,U=_.tozero&&(E.type==="linear"||E.type==="-"),B=E.type==="log",V=!1,j=_.vpadLinearized||!1,Q,ee,re,ue,J,X,ne,Y,oe;function le(Te){if(Array.isArray(Te))return V=!0,function(be){return Math.max(Number(Te[be]||0),0)};var Pe=Math.max(Number(Te||0),0);return function(){return Pe}}var Z=le((E._m>0?_.ppadplus:_.ppadminus)||_.ppad||0),$=le((E._m>0?_.ppadminus:_.ppadplus)||_.ppad||0),se=le(_.vpadplus||_.vpad),ae=le(_.vpadminus||_.vpad);if(!V){if(Y=1/0,oe=-1/0,B)for(Q=0;Q<z;Q++)ee=w[Q],ee<Y&&ee>0&&(Y=ee),ee>oe&&ee<C&&(oe=ee);else for(Q=0;Q<z;Q++)ee=w[Q],ee<Y&&ee>-C&&(Y=ee),ee>oe&&ee<C&&(oe=ee);w=[Y,oe],z=2}var he={tozero:U,extrapad:F};function me(Te){re=w[Te],R(re)&&(X=Z(Te),ne=$(Te),j?(ue=E.c2l(re)-ae(Te),J=E.c2l(re)+se(Te)):(Y=re-ae(Te),oe=re+se(Te),B&&Y<oe/10&&(Y=oe/10),ue=E.c2l(Y),J=E.c2l(oe)),U&&(ue=Math.min(0,ue),J=Math.max(0,J)),x(ue)&&c(D,ue,ne,he),x(J)&&o(N,J,X,he))}var Me=Math.min(6,z);for(Q=0;Q<Me;Q++)me(Q);for(Q=z-1;Q>=Me;Q--)me(Q);return{min:D,max:N,opts:_}}function c(E,w,_,D){p(E,w,_,D,b)}function o(E,w,_,D){p(E,w,_,D,P)}function p(E,w,_,D,N){for(var z=D.tozero,F=D.extrapad,U=!0,B=0;B<E.length&&U;B++){var V=E[B];if(N(V.val,w)&&V.pad>=_&&(V.extrapad||!F)){U=!1;break}else N(w,V.val)&&V.pad<=_&&(F||!V.extrapad)&&(E.splice(B,1),B--)}if(U){var j=z&&w===0;E.push({val:w,pad:j?0:_,extrapad:j?!1:F})}}function x(E){return R(E)&&Math.abs(E)<C}function b(E,w){return E<=w}function P(E,w){return E>=w}function m(E,w){var _=w.autorangeoptions;return _&&_.minallowed!==void 0&&M(w,_.minallowed,_.maxallowed)?_.minallowed:_&&_.clipmin!==void 0&&M(w,_.clipmin,_.clipmax)?Math.max(E,w.d2l(_.clipmin)):E}function L(E,w){var _=w.autorangeoptions;return _&&_.maxallowed!==void 0&&M(w,_.minallowed,_.maxallowed)?_.maxallowed:_&&_.clipmax!==void 0&&M(w,_.clipmin,_.clipmax)?Math.min(E,w.d2l(_.clipmax)):E}function M(E,w,_){return w!==void 0&&_!==void 0?(w=E.d2l(w),_=E.d2l(_),w<_):!0}function s(E,w){if(!w||!w.autorangeoptions)return E;var _=E[0],D=E[1],N=w.autorangeoptions.include;if(N!==void 0){var z=w.d2l(_),F=w.d2l(D);i.isArrayOrTypedArray(N)||(N=[N]);for(var U=0;U<N.length;U++){var B=w.d2l(N[U]);z>=B&&(z=B,_=B),F<=B&&(F=B,D=B)}}return _=m(_,w),D=L(D,w),[_,D]}},76808:function(G){G.exports=function(e,g,R){var i,C;if(R){var S=g==="reversed"||g==="min reversed"||g==="max reversed";i=R[S?1:0],C=R[S?0:1]}var v=e("autorangeoptions.minallowed",C===null?i:void 0),d=e("autorangeoptions.maxallowed",i===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),d===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,H,e){var g=e(33428),R=e(38248),i=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,d=e(72736),r=e(81668),t=e(76308),a=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,y=u.ONEAVGYEAR,h=u.ONEMINYEAR,T=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,o=u.ONEMINQUARTER,p=u.ONEMAXMONTH,x=u.ONEAVGMONTH,b=u.ONEMINMONTH,P=u.ONEWEEK,m=u.ONEDAY,L=m/2,M=u.ONEHOUR,s=u.ONEMIN,E=u.ONESEC,w=u.MINUS_SIGN,_=u.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},U={K:"tick",L:"text"},B={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),j=V.MID_SHIFT,Q=V.CAP_SHIFT,ee=V.LINE_SPACING,re=V.OPPOSITE_SIDE,ue=3,J=G.exports={};J.setConvert=e(78344);var X=e(52976),ne=e(79811),Y=ne.idSort,oe=ne.isLinked;J.id2name=ne.id2name,J.name2id=ne.name2id,J.cleanId=ne.cleanId,J.list=ne.list,J.listIds=ne.listIds,J.getFromId=ne.getFromId,J.getFromTrace=ne.getFromTrace;var le=e(19280);J.getAutoRange=le.getAutoRange,J.findExtremes=le.findExtremes;var Z=1e-4;function $(Ye){var Ge=(Ye[1]-Ye[0])*Z;return[Ye[0]-Ge,Ye[1]+Ge]}J.coerceRef=function(Ye,Ge,zt,Dt,Qt,nr){var ir=Dt.charAt(Dt.length-1),tr=zt._fullLayout._subplots[ir+"axis"],Ft=Dt+"ref",cr={};return Qt||(Qt=tr[0]||(typeof nr=="string"?nr:nr[0])),nr||(nr=Qt),tr=tr.concat(tr.map(function(pr){return pr+" domain"})),cr[Ft]={valType:"enumerated",values:tr.concat(nr?typeof nr=="string"?[nr]:nr:[]),dflt:Qt},S.coerce(Ye,Ge,cr,Ft)},J.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},J.coercePosition=function(Ye,Ge,zt,Dt,Qt,nr){var ir,tr,Ft=J.getRefType(Dt);if(Ft!=="range")ir=S.ensureNumber,tr=zt(Qt,nr);else{var cr=J.getFromId(Ge,Dt);nr=cr.fraction2r(nr),tr=zt(Qt,nr),ir=cr.cleanPos}Ye[Qt]=ir(tr)},J.cleanPosition=function(Ye,Ge,zt){var Dt=zt==="paper"||zt==="pixel"?S.ensureNumber:J.getFromId(Ge,zt).cleanPos;return Dt(Ye)},J.redrawComponents=function(Ye,Ge){Ge=Ge||J.listIds(Ye);var zt=Ye._fullLayout;function Dt(Qt,nr,ir,tr){for(var Ft=C.getComponentMethod(Qt,nr),cr={},pr=0;pr<Ge.length;pr++)for(var br=zt[J.id2name(Ge[pr])],hr=br[ir],Vr=0;Vr<hr.length;Vr++){var Pr=hr[Vr];if(!cr[Pr]&&(Ft(Ye,Pr),cr[Pr]=1,tr))return}}Dt("annotations","drawOne","_annIndices"),Dt("shapes","drawOne","_shapeIndices"),Dt("images","draw","_imgIndices",!0),Dt("selections","drawOne","_selectionIndices")};var se=J.getDataConversions=function(Ye,Ge,zt,Dt){var Qt,nr=zt==="x"||zt==="y"||zt==="z"?zt:Dt;if(S.isArrayOrTypedArray(nr)){if(Qt={type:X(Dt,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Qt),Qt.type==="category")for(var ir=0;ir<Dt.length;ir++)Qt.d2c(Dt[ir])}else Qt=J.getFromTrace(Ye,Ge,nr);return Qt?{d2c:Qt.d2c,c2d:Qt.c2d}:nr==="ids"?{d2c:he,c2d:he}:{d2c:ae,c2d:ae}};function ae(Ye){return+Ye}function he(Ye){return String(Ye)}J.getDataToCoordFunc=function(Ye,Ge,zt,Dt){return se(Ye,Ge,zt,Dt).d2c},J.counterLetter=function(Ye){var Ge=Ye.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},J.minDtick=function(Ye,Ge,zt,Dt){["log","category","multicategory"].indexOf(Ye.type)!==-1||!Dt?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=Ge,Ye._forceTick0=zt):Ye._minDtick&&((Ye._minDtick/Ge+1e-6)%1<2e-6&&((zt-Ye._forceTick0)/Ge%1+1.000001)%1<2e-6?(Ye._minDtick=Ge,Ye._forceTick0=zt):((Ge/Ye._minDtick+1e-6)%1>2e-6||((zt-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},J.saveRangeInitial=function(Ye,Ge){for(var zt=J.list(Ye,"",!0),Dt=!1,Qt=0;Qt<zt.length;Qt++){var nr=zt[Qt],ir=nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0,tr=ir||nr.range[0]!==nr._rangeInitial0||nr.range[1]!==nr._rangeInitial1,Ft=nr.autorange;(ir&&Ft!==!0||Ge&&tr)&&(nr._rangeInitial0=Ft==="min"||Ft==="max reversed"?void 0:nr.range[0],nr._rangeInitial1=Ft==="max"||Ft==="min reversed"?void 0:nr.range[1],nr._autorangeInitial=Ft,Dt=!0)}return Dt},J.saveShowSpikeInitial=function(Ye,Ge){for(var zt=J.list(Ye,"",!0),Dt=!1,Qt="on",nr=0;nr<zt.length;nr++){var ir=zt[nr],tr=ir._showSpikeInitial===void 0,Ft=tr||ir.showspikes!==ir._showspikes;(tr||Ge&&Ft)&&(ir._showSpikeInitial=ir.showspikes,Dt=!0),Qt==="on"&&!ir.showspikes&&(Qt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Qt,Dt},J.autoBin=function(Ye,Ge,zt,Dt,Qt,nr){var ir=S.aggNums(Math.min,null,Ye),tr=S.aggNums(Math.max,null,Ye);if(Ge.type==="category"||Ge.type==="multicategory")return{start:ir-.5,end:tr+.5,size:Math.max(1,Math.round(nr)||1),_dataSpan:tr-ir};Qt||(Qt=Ge.calendar);var Ft;if(Ge.type==="log"?Ft={type:"linear",range:[ir,tr]}:Ft={type:Ge.type,range:S.simpleMap([ir,tr],Ge.c2r,0,Qt),calendar:Qt},J.setConvert(Ft),nr=nr&&f.dtick(nr,Ft.type),nr)Ft.dtick=nr,Ft.tick0=f.tick0(void 0,Ft.type,Qt);else{var cr;if(zt)cr=(tr-ir)/zt;else{var pr=S.distinctVals(Ye),br=Math.pow(10,Math.floor(Math.log(pr.minDiff)/Math.LN10)),hr=br*S.roundUp(pr.minDiff/br,[.9,1.9,4.9,9.9],!0);cr=Math.max(hr,2*S.stdev(Ye)/Math.pow(Ye.length,Dt?.25:.4)),R(cr)||(cr=1)}J.autoTicks(Ft,cr)}var Vr=Ft.dtick,Pr=J.tickIncrement(J.tickFirst(Ft),Vr,"reverse",Qt),Ir,sn;if(typeof Vr=="number")Pr=me(Pr,Ye,Ft,ir,tr),sn=1+Math.floor((tr-Pr)/Vr),Ir=Pr+sn*Vr;else for(Ft.dtick.charAt(0)==="M"&&(Pr=Me(Pr,Ye,Vr,ir,Qt)),Ir=Pr,sn=0;Ir<=tr;)Ir=J.tickIncrement(Ir,Vr,!1,Qt),sn++;return{start:Ge.c2r(Pr,0,Qt),end:Ge.c2r(Ir,0,Qt),size:Vr,_dataSpan:tr-ir}};function me(Ye,Ge,zt,Dt,Qt){var nr=0,ir=0,tr=0,Ft=0;function cr(Vr){return(1+(Vr-Ye)*100/zt.dtick)%100<2}for(var pr=0;pr<Ge.length;pr++)Ge[pr]%1===0?tr++:R(Ge[pr])||Ft++,cr(Ge[pr])&&nr++,cr(Ge[pr]+zt.dtick/2)&&ir++;var br=Ge.length-Ft;if(tr===br&&zt.type!=="date")zt.dtick<1?Ye=Dt-.5*zt.dtick:(Ye-=.5,Ye+zt.dtick<Dt&&(Ye+=zt.dtick));else if(ir<br*.1&&(nr>br*.3||cr(Dt)||cr(Qt))){var hr=zt.dtick/2;Ye+=Ye+hr<Dt?hr:-hr}return Ye}function Me(Ye,Ge,zt,Dt,Qt){var nr=S.findExactDates(Ge,Qt),ir=.8;if(nr.exactDays>ir){var tr=Number(zt.substr(1));nr.exactYears>ir&&tr%12===0?Ye=J.tickIncrement(Ye,"M6","reverse")+m*1.5:nr.exactMonths>ir?Ye=J.tickIncrement(Ye,"M1","reverse")+m*15.5:Ye-=L;var Ft=J.tickIncrement(Ye,zt);if(Ft<=Dt)return Ft}return Ye}J.prepMinorTicks=function(Ye,Ge,zt){if(!Ge.minor.dtick){delete Ye.dtick;var Dt=Ge.dtick&&R(Ge._tmin),Qt;if(Dt){var nr=J.tickIncrement(Ge._tmin,Ge.dtick,!0);Qt=[Ge._tmin,nr*.99+Ge._tmin*.01]}else{var ir=S.simpleMap(Ge.range,Ge.r2l);Qt=[ir[0],.8*ir[0]+.2*ir[1]]}if(Ye.range=S.simpleMap(Qt,Ge.l2r),Ye._isMinor=!0,J.prepTicks(Ye,zt),Dt){var tr=R(Ge.dtick),Ft=R(Ye.dtick),cr=tr?Ge.dtick:+Ge.dtick.substring(1),pr=Ft?Ye.dtick:+Ye.dtick.substring(1);tr&&Ft?Te(cr,pr)?cr===2*P&&pr===2*m&&(Ye.dtick=P):cr===2*P&&pr===3*m?Ye.dtick=P:cr===P&&!(Ge._input.minor||{}).nticks?Ye.dtick=m:Pe(cr/pr,2.5)?Ye.dtick=cr/2:Ye.dtick=cr:String(Ge.dtick).charAt(0)==="M"?Ft?Ye.dtick="M1":Te(cr,pr)?cr>=12&&pr===2&&(Ye.dtick="M3"):Ye.dtick=Ge.dtick:String(Ye.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?Te(cr,pr)||(Ye.dtick=Pe(cr/pr,2.5)?Ge.dtick/2:Ge.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+Ge.dtick>1&&(Ye.dtick=1)}Ye.range=Ge.range}Ge.minor._tick0Init===void 0&&(Ye.tick0=Ge.tick0)};function Te(Ye,Ge){return Math.abs((Ye/Ge+.5)%1-.5)<.001}function Pe(Ye,Ge){return Math.abs(Ye/Ge-1)<.001}J.prepTicks=function(Ye,Ge){var zt=S.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Ge);if(Ye.tickmode==="auto"||!Ye.dtick){var Dt=Ye.nticks,Qt;Dt||(Ye.type==="category"||Ye.type==="multicategory"?(Qt=Ye.tickfont?S.bigFont(Ye.tickfont.size||12):15,Dt=Ye._length/Qt):(Qt=Ye._id.charAt(0)==="y"?40:80,Dt=S.constrain(Ye._length/Qt,4,9)+1),Ye._name==="radialaxis"&&(Dt*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(Dt*=100),Ye._roughDTick=Math.abs(zt[1]-zt[0])/Dt,J.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Ee(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),gt(Ye)};function be(Ye){return+Ye.substring(1)}function Ee(Ye){var Ge;function zt(){return!(R(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var Dt=zt(),Qt=J.getTickFormat(Ye);if(Qt){var nr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Qt)||(/%[HI]/.test(Qt)?(Ge=M,nr&&!Dt&&Ye.dtick<M&&(Ye.dtick=M)):/%p/.test(Qt)?(Ge=L,nr&&!Dt&&Ye.dtick<L&&(Ye.dtick=L)):/%[Aadejuwx]/.test(Qt)?(Ge=m,nr&&!Dt&&Ye.dtick<m&&(Ye.dtick=m)):/%[UVW]/.test(Qt)?(Ge=P,nr&&!Dt&&Ye.dtick<P&&(Ye.dtick=P)):/%[Bbm]/.test(Qt)?(Ge=x,nr&&(Dt?be(Ye.dtick)<1:Ye.dtick<b)&&(Ye.dtick="M1")):/%[q]/.test(Qt)?(Ge=c,nr&&(Dt?be(Ye.dtick)<3:Ye.dtick<o)&&(Ye.dtick="M3")):/%[Yy]/.test(Qt)&&(Ge=y,nr&&(Dt?be(Ye.dtick)<12:Ye.dtick<h)&&(Ye.dtick="M12")))}Dt=zt(),Dt&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=Ge}function xe(Ye,Ge,zt){for(var Dt=0;Dt<Ye.length;Dt++){var Qt=Ye[Dt].value,nr=Dt,ir=Dt+1;Dt<Ye.length-1?(nr=Dt,ir=Dt+1):Dt>0?(nr=Dt-1,ir=Dt):(nr=Dt,ir=Dt);var tr=Ye[nr].value,Ft=Ye[ir].value,cr=Math.abs(Ft-tr),pr=zt||cr,br=0;pr>=h?cr>=h&&cr<=l?br=cr:br=y:zt===c&&pr>=o?cr>=o&&cr<=T?br=cr:br=c:pr>=b?cr>=b&&cr<=p?br=cr:br=x:zt===P&&pr>=P?br=P:pr>=m?br=m:zt===L&&pr>=L?br=L:zt===M&&pr>=M&&(br=M);var hr;br>=cr&&(br=cr,hr=!0);var Vr=Qt+br;if(Ge.rangebreaks&&br>0){for(var Pr=84,Ir=0,sn=0;sn<Pr;sn++){var an=(sn+.5)/Pr;Ge.maskBreaks(Qt*(1-an)+an*Vr)!==_&&Ir++}br*=Ir/Pr,br||(Ye[Dt].drop=!0),hr&&cr>P&&(br=cr)}(br>0||Dt===0)&&(Ye[Dt].periodX=Qt+br/2)}}J.calcTicks=function(Ge,zt){for(var Dt=Ge.type,Qt=Ge.calendar,nr=Ge.ticklabelstep,ir=Ge.ticklabelmode==="period",tr=S.simpleMap(Ge.range,Ge.r2l,void 0,void 0,zt),Ft=tr[1]<tr[0],cr=Math.min(tr[0],tr[1]),pr=Math.max(tr[0],tr[1]),br=Math.max(1e3,Ge._length||0),hr=[],Vr=[],Pr=[],Ir=[],sn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),an=1;an>=(sn?0:1);an--){var En=!an;an?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var Mn=an?Ge:S.extendFlat({},Ge,Ge.minor);if(En?J.prepMinorTicks(Mn,Ge,zt):J.prepTicks(Mn,zt),Mn.tickmode==="array"){an?(Pr=[],hr=Ne(Ge,!En)):(Ir=[],Vr=Ne(Ge,!En));continue}if(Mn.tickmode==="sync"){Pr=[],hr=Ue(Ge);continue}var xr=$(tr),_r=xr[0],Yr=xr[1],zr=R(Mn.dtick),gn=Dt==="log"&&!(zr||Mn.dtick.charAt(0)==="L"),dn=J.tickFirst(Mn,zt);if(an){if(Ge._tmin=dn,dn<_r!==Ft)break;(Dt==="category"||Dt==="multicategory")&&(Yr=Ft?Math.max(-.5,Yr):Math.min(Ge._categories.length-.5,Yr))}var Rn=null,In=dn,Wn;if(an){var oa;zr?oa=Ge.dtick:Dt==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(oa=x*Ge.dtick.substring(1)):oa=Ge._roughDTick,Wn=Math.round((Ge.r2l(In)-Ge.r2l(Ge.tick0))/oa)-1}var ma=Mn.dtick;for(Mn.rangebreaks&&Mn._tick0Init!==Mn.tick0&&(In=Bt(In,Ge),Ft||(In=J.tickIncrement(In,ma,!Ft,Qt))),an&&ir&&(In=J.tickIncrement(In,ma,!Ft,Qt),Wn--);Ft?In>=Yr:In<=Yr;In=J.tickIncrement(In,ma,Ft,Qt)){if(an&&Wn++,Mn.rangebreaks&&!Ft){if(In<_r)continue;if(Mn.maskBreaks(In)===_&&Bt(In,Mn)>=pr)break}if(Pr.length>br||In===Rn)break;Rn=In;var Ta={value:In};an?(gn&&In!==(In|0)&&(Ta.simpleLabel=!0),nr>1&&Wn%nr&&(Ta.skipLabel=!0),Pr.push(Ta)):(Ta.minor=!0,Ir.push(Ta))}}if(sn){var Yn=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!Yn){for(var Qn=Pr.map(function(yn){return yn.value}),gr=[],en=0;en<Ir.length;en++){var $r=Ir[en],hn=$r.value;if(Qn.indexOf(hn)===-1){for(var Bn=!1,Tn=0;!Bn&&Tn<Pr.length;Tn++)1e7+Pr[Tn].value===1e7+hn&&(Bn=!0);Bn||gr.push($r)}}Ir=gr}}ir&&xe(Pr,Ge,Ge._definedDelta);var Sn;if(Ge.rangebreaks){var Nn=Ge._id.charAt(0)==="y",qn=1;Ge.tickmode==="auto"&&(qn=Ge.tickfont?Ge.tickfont.size:12);var va=NaN;for(Sn=Pr.length-1;Sn>-1;Sn--){if(Pr[Sn].drop){Pr.splice(Sn,1);continue}Pr[Sn].value=Bt(Pr[Sn].value,Ge);var Da=Ge.c2p(Pr[Sn].value);(Nn?va>Da-qn:va<Da+qn)?Pr.splice(Ft?Sn+1:Sn,1):va=Da}}Ut(Ge)&&Math.abs(tr[1]-tr[0])===360&&Pr.pop(),Ge._tmax=(Pr[Pr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Mr,Or=function(yn){yn.text="",Ge._prevDateHead=Mr};Pr=Pr.concat(Ir);var Ar,Fr;for(Sn=0;Sn<Pr.length;Sn++){var bn=Pr[Sn].minor,Dn=Pr[Sn].value;bn?Vr.push({x:Dn,minor:!0}):(Mr=Ge._prevDateHead,Ar=J.tickText(Ge,Dn,!1,Pr[Sn].simpleLabel),Fr=Pr[Sn].periodX,Fr!==void 0&&(Ar.periodX=Fr,(Fr>pr||Fr<cr)&&(Fr>pr&&(Ar.periodX=pr),Fr<cr&&(Ar.periodX=cr),Or(Ar))),Pr[Sn].skipLabel&&Or(Ar),hr.push(Ar))}return hr=hr.concat(Vr),Ge._inCalcTicks=!1,ir&&hr.length&&(hr[0].noTick=!0),hr};function Ce(Ye,Ge){return Ye.rangebreaks&&(Ge=Ge.filter(function(zt){return Ye.maskBreaks(zt.x)!==_})),Ge}function Ue(Ye){var Ge=Ye._mainAxis,zt=[];if(Ge._vals){for(var Dt=0;Dt<Ge._vals.length;Dt++)if(!Ge._vals[Dt].noTick){var Qt=Ge.l2p(Ge._vals[Dt].x),nr=Ye.p2l(Qt),ir=J.tickText(Ye,nr);Ge._vals[Dt].minor&&(ir.minor=!0,ir.text=""),zt.push(ir)}}return zt=Ce(Ye,zt),zt}function Ne(Ye,Ge){var zt=S.simpleMap(Ye.range,Ye.r2l),Dt=$(zt),Qt=Math.min(Dt[0],Dt[1]),nr=Math.max(Dt[0],Dt[1]),ir=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var tr=[],Ft=0;Ft<=1;Ft++)if(!(Ge!==void 0&&(Ge&&Ft||Ge===!1&&!Ft))&&!(Ft&&!Ye.minor)){var cr=Ft?Ye.minor.tickvals:Ye.tickvals,pr=Ft?[]:Ye.ticktext;if(cr){S.isArrayOrTypedArray(pr)||(pr=[]);for(var br=0;br<cr.length;br++){var hr=ir(cr[br]);if(hr>Qt&&hr<nr){var Vr=J.tickText(Ye,hr,!1,String(pr[br]));Ft&&(Vr.minor=!0,Vr.text=""),tr.push(Vr)}}}}return tr=Ce(Ye,tr),tr}var De=[2,5,10],He=[1,2,3,6,12],at=[1,2,5,10,15,30],vt=[1,2,3,7,14],ot=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],et=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function ht(Ye,Ge,zt){return Ge*S.roundUp(Ye/Ge,zt)}J.autoTicks=function(Ye,Ge,zt){var Dt;function Qt(br){return Math.pow(br,Math.floor(Math.log(Ge)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=S.dateTick0(Ye.calendar,0);var nr=2*Ge;if(nr>y)Ge/=y,Dt=Qt(10),Ye.dtick="M"+12*ht(Ge,Dt,De);else if(nr>x)Ge/=x,Ye.dtick="M"+ht(Ge,1,He);else if(nr>m){if(Ye.dtick=ht(Ge,m,Ye._hasDayOfWeekBreaks?[1,2,7,14]:vt),!zt){var ir=J.getTickFormat(Ye),tr=Ye.ticklabelmode==="period";tr&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(ir)?Ye.tick0=S.dateTick0(Ye.calendar,2):Ye.tick0=S.dateTick0(Ye.calendar,1),tr&&(Ye._dowTick0=Ye.tick0)}}else nr>M?Ye.dtick=ht(Ge,M,He):nr>s?Ye.dtick=ht(Ge,s,at):nr>E?Ye.dtick=ht(Ge,E,at):(Dt=Qt(10),Ye.dtick=ht(Ge,Dt,De))}else if(Ye.type==="log"){Ye.tick0=0;var Ft=S.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(Ge*=1.5),Ge>.7)Ye.dtick=Math.ceil(Ge);else if(Math.abs(Ft[1]-Ft[0])<1){var cr=1.5*Math.abs((Ft[1]-Ft[0])/Ge);Ge=Math.abs(Math.pow(10,Ft[1])-Math.pow(10,Ft[0]))/cr,Dt=Qt(10),Ye.dtick="L"+ht(Ge,Dt,De)}else Ye.dtick=Ge>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(Ge,1))):Ut(Ye)?(Ye.tick0=0,Dt=1,Ye.dtick=ht(Ge,Dt,ct)):(Ye.tick0=0,Dt=Qt(10),Ye.dtick=ht(Ge,Dt,De));if(Ye.dtick===0&&(Ye.dtick=1),!R(Ye.dtick)&&typeof Ye.dtick!="string"){var pr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(pr)}};function gt(Ye){var Ge=Ye.dtick;if(Ye._tickexponent=0,!R(Ge)&&typeof Ge!="string"&&(Ge=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var zt=Ye.r2l(Ye.tick0),Dt=Ye.l2r(zt).replace(/(^-|i)/g,""),Qt=Dt.length;if(String(Ge).charAt(0)==="M")Qt>10||Dt.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=m&&Qt<=10||Ge>=m*15)Ye._tickround="d";else if(Ge>=s&&Qt<=16||Ge>=M)Ye._tickround="M";else if(Ge>=E&&Qt<=19||Ge>=s)Ye._tickround="S";else{var nr=Ye.l2r(zt+Ge).replace(/^-/,"").length;Ye._tickround=Math.max(Qt,nr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(R(Ge)||Ge.charAt(0)==="L"){var ir=Ye.range.map(Ye.r2d||Number);R(Ge)||(Ge=Number(Ge.substr(1))),Ye._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var tr=Math.max(Math.abs(ir[0]),Math.abs(ir[1])),Ft=Math.floor(Math.log(tr)/Math.LN10+.01),cr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Ft)>cr&&(je(Ye.exponentformat)&&!Ie(Ft)?Ye._tickexponent=3*Math.round((Ft-1)/3):Ye._tickexponent=Ft)}else Ye._tickround=null}J.tickIncrement=function(Ye,Ge,zt,Dt){var Qt=zt?-1:1;if(R(Ge))return S.increment(Ye,Qt*Ge);var nr=Ge.charAt(0),ir=Qt*Number(Ge.substr(1));if(nr==="M")return S.incrementMonth(Ye,ir,Dt);if(nr==="L")return Math.log(Math.pow(10,Ye)+ir)/Math.LN10;if(nr==="D"){var tr=Ge==="D2"?et:ot,Ft=Ye+Qt*.01,cr=S.roundUp(S.mod(Ft,1),tr,zt);return Math.floor(Ft)+Math.log(g.round(Math.pow(10,cr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},J.tickFirst=function(Ye,Ge){var zt=Ye.r2l||Number,Dt=S.simpleMap(Ye.range,zt,void 0,void 0,Ge),Qt=Dt[1]<Dt[0],nr=Qt?Math.floor:Math.ceil,ir=$(Dt)[0],tr=Ye.dtick,Ft=zt(Ye.tick0);if(R(tr)){var cr=nr((ir-Ft)/tr)*tr+Ft;return(Ye.type==="category"||Ye.type==="multicategory")&&(cr=S.constrain(cr,0,Ye._categories.length-1)),cr}var pr=tr.charAt(0),br=Number(tr.substr(1));if(pr==="M"){for(var hr=0,Vr=Ft,Pr,Ir,sn;hr<10;){if(Pr=J.tickIncrement(Vr,tr,Qt,Ye.calendar),(Pr-ir)*(Vr-ir)<=0)return Qt?Math.min(Vr,Pr):Math.max(Vr,Pr);Ir=(ir-(Vr+Pr)/2)/(Pr-Vr),sn=pr+(Math.abs(Math.round(Ir))||1)*br,Vr=J.tickIncrement(Vr,sn,Ir<0?!Qt:Qt,Ye.calendar),hr++}return S.error("tickFirst did not converge",Ye),Vr}else{if(pr==="L")return Math.log(nr((Math.pow(10,ir)-Ft)/br)*br+Ft)/Math.LN10;if(pr==="D"){var an=tr==="D2"?et:ot,En=S.roundUp(S.mod(ir,1),an,Qt);return Math.floor(ir)+Math.log(g.round(Math.pow(10,En),1))/Math.LN10}else throw"unrecognized dtick "+String(tr)}},J.tickText=function(Ye,Ge,zt,Dt){var Qt=xt(Ye,Ge),nr=Ye.tickmode==="array",ir=zt||nr,tr=Ye.type,Ft=tr==="category"?Ye.d2l_noadd:Ye.d2l,cr,pr=function(sn){var an=Ye.l2p(sn);return an>=0&&an<=Ye._length?sn:null};if(nr&&S.isArrayOrTypedArray(Ye.ticktext)){var br=S.simpleMap(Ye.range,Ye.r2l),hr=(Math.abs(br[1]-br[0])-(Ye._lBreaks||0))/1e4;for(cr=0;cr<Ye.ticktext.length&&!(Math.abs(Ge-Ft(Ye.tickvals[cr]))<hr);cr++);if(cr<Ye.ticktext.length)return Qt.text=String(Ye.ticktext[cr]),Qt.xbnd=[pr(Qt.x-.5),pr(Qt.x+Ye.dtick-.5)],Qt}function Vr(sn){if(sn===void 0)return!0;if(zt)return sn==="none";var an={first:Ye._tmin,last:Ye._tmax}[sn];return sn!=="all"&&Ge!==an}var Pr=zt?"never":Ye.exponentformat!=="none"&&Vr(Ye.showexponent)?"hide":"";if(tr==="date"?Mt(Ye,Qt,zt,ir):tr==="log"?tt(Ye,Qt,zt,ir,Pr):tr==="category"?Oe(Ye,Qt):tr==="multicategory"?Xe(Ye,Qt,zt):Ut(Ye)?We(Ye,Qt,zt,ir,Pr):Ze(Ye,Qt,zt,ir,Pr),Dt||(Ye.tickprefix&&!Vr(Ye.showtickprefix)&&(Qt.text=Ye.tickprefix+Qt.text),Ye.ticksuffix&&!Vr(Ye.showticksuffix)&&(Qt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Qt.text)){var Ir=Ye.labelalias[Qt.text];typeof Ir=="string"&&(Qt.text=Ir)}return(Ye.tickson==="boundaries"||Ye.showdividers)&&(Qt.xbnd=[pr(Qt.x-.5),pr(Qt.x+Ye.dtick-.5)]),Qt},J.hoverLabelText=function(Ye,Ge,zt){zt&&(Ye=S.extendFlat({},Ye,{hoverformat:zt}));var Dt=S.isArrayOrTypedArray(Ge)?Ge[0]:Ge,Qt=S.isArrayOrTypedArray(Ge)?Ge[1]:void 0;if(Qt!==void 0&&Qt!==Dt)return J.hoverLabelText(Ye,Dt,zt)+" - "+J.hoverLabelText(Ye,Qt,zt);var nr=Ye.type==="log"&&Dt<=0,ir=J.tickText(Ye,Ye.c2l(nr?-Dt:Dt),"hover").text;return nr?Dt===0?"0":w+ir:ir};function xt(Ye,Ge,zt){var Dt=Ye.tickfont||{};return{x:Ge,dx:0,dy:0,text:zt||"",fontSize:Dt.size,font:Dt.family,fontWeight:Dt.weight,fontStyle:Dt.style,fontVariant:Dt.variant,fontColor:Dt.color}}function Mt(Ye,Ge,zt,Dt){var Qt=Ye._tickround,nr=zt&&Ye.hoverformat||J.getTickFormat(Ye);Dt=!nr&&Dt,Dt&&(R(Qt)?Qt=4:Qt={y:"m",m:"d",d:"M",M:"S",S:4}[Qt]);var ir=S.formatDate(Ge.x,nr,Qt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),tr,Ft=ir.indexOf(`
`);if(Ft!==-1&&(tr=ir.substr(Ft+1),ir=ir.substr(0,Ft)),Dt&&(tr!==void 0&&(ir==="00:00:00"||ir==="00:00")?(ir=tr,tr=""):ir.length===8&&(ir=ir.replace(/:00$/,""))),tr)if(zt)Qt==="d"?ir+=", "+tr:ir=tr+(ir?", "+ir:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==tr)Ye._prevDateHead=tr,ir+="<br>"+tr;else{var cr=$t(Ye),pr=Ye._trueSide||Ye.side;(!cr&&pr==="top"||cr&&pr==="bottom")&&(ir+="<br> ")}Ge.text=ir}function tt(Ye,Ge,zt,Dt,Qt){var nr=Ye.dtick,ir=Ge.x,tr=Ye.tickformat,Ft=typeof nr=="string"&&nr.charAt(0);if(Qt==="never"&&(Qt=""),Dt&&Ft!=="L"&&(nr="L3",Ft="L"),tr||Ft==="L")Ge.text=pe(Math.pow(10,ir),Ye,Qt,Dt);else if(R(nr)||Ft==="D"&&S.mod(ir+.01,1)<.1){var cr=Math.round(ir),pr=Math.abs(cr),br=Ye.exponentformat;br==="power"||je(br)&&Ie(cr)?(cr===0?Ge.text=1:cr===1?Ge.text="10":Ge.text="10<sup>"+(cr>1?"":w)+pr+"</sup>",Ge.fontSize*=1.25):(br==="e"||br==="E")&&pr>2?Ge.text="1"+br+(cr>0?"+":w)+pr:(Ge.text=pe(Math.pow(10,ir),Ye,"","fakehover"),nr==="D1"&&Ye._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Ft==="D")Ge.text=String(Math.round(Math.pow(10,S.mod(ir,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(nr);if(Ye.dtick==="D1"){var hr=String(Ge.text).charAt(0);(hr==="0"||hr==="1")&&(Ye._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*Ge.fontSize*(ir<0?.5:.25)))}}function Oe(Ye,Ge){var zt=Ye._categories[Math.round(Ge.x)];zt===void 0&&(zt=""),Ge.text=String(zt)}function Xe(Ye,Ge,zt){var Dt=Math.round(Ge.x),Qt=Ye._categories[Dt]||[],nr=Qt[1]===void 0?"":String(Qt[1]),ir=Qt[0]===void 0?"":String(Qt[0]);zt?Ge.text=ir+" - "+nr:(Ge.text=nr,Ge.text2=ir)}function Ze(Ye,Ge,zt,Dt,Qt){Qt==="never"?Qt="":Ye.showexponent==="all"&&Math.abs(Ge.x/Ye.dtick)<1e-6&&(Qt="hide"),Ge.text=pe(Ge.x,Ye,Qt,Dt)}function We(Ye,Ge,zt,Dt,Qt){if(Ye.thetaunit==="radians"&&!zt){var nr=Ge.x/180;if(nr===0)Ge.text="0";else{var ir=ze(nr);if(ir[1]>=100)Ge.text=pe(S.deg2rad(Ge.x),Ye,Qt,Dt);else{var tr=Ge.x<0;ir[1]===1?ir[0]===1?Ge.text="":Ge.text=ir[0]+"":Ge.text=["<sup>",ir[0],"</sup>","","<sub>",ir[1],"</sub>",""].join(""),tr&&(Ge.text=w+Ge.text)}}}else Ge.text=pe(Ge.x,Ye,Qt,Dt)}function ze(Ye){function Ge(tr,Ft){return Math.abs(tr-Ft)<=1e-6}function zt(tr,Ft){return Ge(Ft,0)?tr:zt(Ft,tr%Ft)}function Dt(tr){for(var Ft=1;!Ge(Math.round(tr*Ft)/Ft,tr);)Ft*=10;return Ft}var Qt=Dt(Ye),nr=Ye*Qt,ir=Math.abs(zt(nr,Qt));return[Math.round(nr/ir),Math.round(Qt/ir)]}var ke=["f","p","n","","m","","k","M","G","T"];function je(Ye){return Ye==="SI"||Ye==="B"}function Ie(Ye){return Ye>14||Ye<-15}function pe(Ye,Ge,zt,Dt){var Qt=Ye<0,nr=Ge._tickround,ir=zt||Ge.exponentformat||"B",tr=Ge._tickexponent,Ft=J.getTickFormat(Ge),cr=Ge.separatethousands;if(Dt){var pr={exponentformat:ir,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:R(Ye)&&Math.abs(Ye)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,Ye||1]};gt(pr),nr=(Number(pr._tickround)||0)+4,tr=pr._tickexponent,Ge.hoverformat&&(Ft=Ge.hoverformat)}if(Ft)return Ge._numFormat(Ft)(Ye).replace(/-/g,w);var br=Math.pow(10,-nr)/2;if(ir==="none"&&(tr=0),Ye=Math.abs(Ye),Ye<br)Ye="0",Qt=!1;else{if(Ye+=br,tr&&(Ye*=Math.pow(10,-tr),nr+=tr),nr===0)Ye=String(Math.floor(Ye));else if(nr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+nr);for(var hr=nr;hr<0;hr++)Ye+="0"}else{Ye=String(Ye);var Vr=Ye.indexOf(".")+1;Vr&&(Ye=Ye.substr(0,Vr+nr).replace(/\.?0+$/,""))}Ye=S.numSeparate(Ye,Ge._separators,cr)}if(tr&&ir!=="hide"){je(ir)&&Ie(tr)&&(ir="power");var Pr;tr<0?Pr=w+-tr:ir!=="power"?Pr="+"+tr:Pr=String(tr),ir==="e"||ir==="E"?Ye+=ir+Pr:ir==="power"?Ye+="10<sup>"+Pr+"</sup>":ir==="B"&&tr===9?Ye+="B":je(ir)&&(Ye+=ke[tr/3+5])}return Qt?w+Ye:Ye}J.getTickFormat=function(Ye){var Ge;function zt(Ft){return typeof Ft!="string"?Ft:Number(Ft.replace("M",""))*x}function Dt(Ft,cr){var pr=["L","D"];if(typeof Ft==typeof cr){if(typeof Ft=="number")return Ft-cr;var br=pr.indexOf(Ft.charAt(0)),hr=pr.indexOf(cr.charAt(0));return br===hr?Number(Ft.replace(/(L|D)/g,""))-Number(cr.replace(/(L|D)/g,"")):br-hr}else return typeof Ft=="number"?1:-1}function Qt(Ft,cr,pr){var br=pr||function(Pr){return Pr},hr=cr[0],Vr=cr[1];return(!hr&&typeof hr!="number"||br(hr)<=br(Ft))&&(!Vr&&typeof Vr!="number"||br(Vr)>=br(Ft))}function nr(Ft,cr){var pr=cr[0]===null,br=cr[1]===null,hr=Dt(Ft,cr[0])>=0,Vr=Dt(Ft,cr[1])<=0;return(pr||hr)&&(br||Vr)}var ir,tr;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(Ge=0;Ge<Ye.tickformatstops.length;Ge++)if(tr=Ye.tickformatstops[Ge],tr.enabled&&Qt(Ye.dtick,tr.dtickrange,zt)){ir=tr;break}break}case"log":{for(Ge=0;Ge<Ye.tickformatstops.length;Ge++)if(tr=Ye.tickformatstops[Ge],tr.enabled&&nr(Ye.dtick,tr.dtickrange)){ir=tr;break}break}}return ir?ir.value:Ye.tickformat},J.getSubplots=function(Ye,Ge){var zt=Ye._fullLayout._subplots,Dt=zt.cartesian.concat(zt.gl2d||[]),Qt=Ge?J.findSubplotsWithAxis(Dt,Ge):Dt;return Qt.sort(function(nr,ir){var tr=nr.substr(1).split("y"),Ft=ir.substr(1).split("y");return tr[0]===Ft[0]?+tr[1]-+Ft[1]:+tr[0]-+Ft[0]}),Qt},J.findSubplotsWithAxis=function(Ye,Ge){for(var zt=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),Dt=[],Qt=0;Qt<Ye.length;Qt++){var nr=Ye[Qt];zt.test(nr)&&Dt.push(nr)}return Dt},J.makeClipPaths=function(Ye){var Ge=Ye._fullLayout;if(!Ge._hasOnlyLargeSploms){var zt={_offset:0,_length:Ge.width,_id:""},Dt={_offset:0,_length:Ge.height,_id:""},Qt=J.list(Ye,"x",!0),nr=J.list(Ye,"y",!0),ir=[],tr,Ft;for(tr=0;tr<Qt.length;tr++)for(ir.push({x:Qt[tr],y:Dt}),Ft=0;Ft<nr.length;Ft++)tr===0&&ir.push({x:zt,y:nr[Ft]}),ir.push({x:Qt[tr],y:nr[Ft]});var cr=Ge._clips.selectAll(".axesclip").data(ir,function(pr){return pr.x._id+pr.y._id});cr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(pr){return"clip"+Ge._uid+pr.x._id+pr.y._id}).append("rect"),cr.exit().remove(),cr.each(function(pr){g.select(this).select("rect").attr({x:pr.x._offset||0,y:pr.y._offset||0,width:pr.x._length||1,height:pr.y._length||1})})}},J.draw=function(Ye,Ge,zt){var Dt=Ye._fullLayout;Ge==="redraw"&&Dt._paper.selectAll("g.subplot").each(function(Ft){var cr=Ft[0],pr=Dt._plots[cr];if(pr){var br=pr.xaxis,hr=pr.yaxis;pr.xaxislayer.selectAll("."+br._id+"tick").remove(),pr.yaxislayer.selectAll("."+hr._id+"tick").remove(),pr.xaxislayer.selectAll("."+br._id+"tick2").remove(),pr.yaxislayer.selectAll("."+hr._id+"tick2").remove(),pr.xaxislayer.selectAll("."+br._id+"divider").remove(),pr.yaxislayer.selectAll("."+hr._id+"divider").remove(),pr.minorGridlayer&&pr.minorGridlayer.selectAll("path").remove(),pr.gridlayer&&pr.gridlayer.selectAll("path").remove(),pr.zerolinelayer&&pr.zerolinelayer.selectAll("path").remove(),Dt._infolayer.select(".g-"+br._id+"title").remove(),Dt._infolayer.select(".g-"+hr._id+"title").remove()}});var Qt=!Ge||Ge==="redraw"?J.listIds(Ye):Ge,nr=J.list(Ye),ir=nr.filter(function(Ft){return Ft.autoshift}).map(function(Ft){return Ft.overlaying});Qt.map(function(Ft){var cr=J.getFromId(Ye,Ft);if(cr.tickmode==="sync"&&cr.overlaying){var pr=Qt.findIndex(function(br){return br===cr.overlaying});pr>=0&&Qt.unshift(Qt.splice(pr,1).shift())}});var tr={false:{left:0,right:0}};return S.syncOrAsync(Qt.map(function(Ft){return function(){if(Ft){var cr=J.getFromId(Ye,Ft);zt||(zt={}),zt.axShifts=tr,zt.overlayingShiftedAx=ir;var pr=J.drawOne(Ye,cr,zt);return cr._shiftPusher&&Zt(cr,cr._fullDepth||0,tr,!0),cr._r=cr.range.slice(),cr._rl=S.simpleMap(cr._r,cr.r2l),pr}}}))},J.drawOne=function(Ye,Ge,zt){zt=zt||{};var Dt=zt.axShifts||{},Qt=zt.overlayingShiftedAx||[],nr,ir,tr;Ge.setScale();var Ft=Ye._fullLayout,cr=Ge._id,pr=cr.charAt(0),br=J.counterLetter(cr),hr=Ft._plots[Ge._mainSubplot];if(!hr)return;if(Ge._shiftPusher=Ge.autoshift||Qt.indexOf(Ge._id)!==-1||Qt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Vr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Vr+=Ge.ticklen),Zt(Ge,Vr,Dt,!0),Zt(Ge,Ge.shift||0,Dt,!1)}(zt.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=vr(Ge,Dt));var Pr=hr[pr+"axislayer"],Ir=Ge._mainLinePosition,sn=Ir+=Ge._shift,an=Ge._mainMirrorPosition,En=Ge._vals=J.calcTicks(Ge),Mn=[Ge.mirror,sn,an].join("_");for(nr=0;nr<En.length;nr++)En[nr].axInfo=Mn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var xr={};function _r(Hr){var qr=cr+(Hr||"tick");return xr[qr]||(xr[qr]=st(Ge,qr,sn)),xr[qr]}if(Ge.visible){var Yr=J.makeTransTickFn(Ge),zr=J.makeTransTickLabelFn(Ge),gn,dn,Rn=Ge.ticks==="inside",In=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var Wn=Ve(Ge,En);dn=J.clipEnds(Ge,Wn),gn=Rn?dn:Wn}else dn=J.clipEnds(Ge,En),gn=Rn&&Ge.ticklabelmode!=="period"?dn:En;var oa=Ge._gridVals=dn,ma=it(Ge,En);if(!Ft._hasOnlyLargeSploms){var Ta=Ge._subplotsWith,Yn={};for(nr=0;nr<Ta.length;nr++){ir=Ta[nr],tr=Ft._plots[ir];var Qn=tr[br+"axis"],gr=Qn._mainAxis._id;if(!Yn[gr]){Yn[gr]=1;var en=pr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;J.drawGrid(Ye,Ge,{vals:oa,counterAxis:Qn,layer:tr.gridlayer.select("."+cr),minorLayer:tr.minorGridlayer.select("."+cr),path:en,transFn:Yr}),J.drawZeroLine(Ye,Ge,{counterAxis:Qn,layer:tr.zerolinelayer,path:en,transFn:Yr})}}}var $r,hn=J.getTickSigns(Ge),Bn=J.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var Tn=J.makeTickPath(Ge,sn,hn[2]),Sn=J.makeTickPath(Ge,sn,Bn[2],{minor:!0}),Nn,qn,va,Da;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Nn=J.makeTickPath(Ge,an,hn[3]),qn=J.makeTickPath(Ge,an,Bn[3],{minor:!0}),va=Tn+Nn,Da=Sn+qn):(Nn="",qn="",va=Tn,Da=Sn),Ge.showdividers&&In&&Ge.tickson==="boundaries"){var Mr={};for(nr=0;nr<ma.length;nr++)Mr[ma[nr].x]=1;$r=function(Hr){return Mr[Hr.x]?Nn:va}}else $r=function(Hr){return Hr.minor?Da:va}}if(J.drawTicks(Ye,Ge,{vals:gn,layer:Pr,path:$r,transFn:Yr}),Ge.mirror==="allticks"){var Or=Object.keys(Ge._linepositions||{});for(nr=0;nr<Or.length;nr++){ir=Or[nr],tr=Ft._plots[ir];var Ar=Ge._linepositions[ir]||[],Fr=Ar[0],bn=Ar[1],Dn=Ar[2],yn=J.makeTickPath(Ge,Fr,Dn?hn[0]:Bn[0],{minor:Dn})+J.makeTickPath(Ge,bn,Dn?hn[1]:Bn[1],{minor:Dn});J.drawTicks(Ye,Ge,{vals:gn,layer:tr[pr+"axislayer"],path:yn,transFn:Yr})}}var un=[];if(un.push(function(){return J.drawLabels(Ye,Ge,{vals:En,layer:Pr,plotinfo:tr,transFn:zr,labelFns:J.makeLabelFns(Ge,sn)})}),Ge.type==="multicategory"){var Er={x:2,y:10}[pr];un.push(function(){var Hr={x:"height",y:"width"}[pr],qr=_r()[Hr]+Er+(Ge._tickAngles[cr+"tick"]?Ge.tickfont.size*ee:0);return J.drawLabels(Ye,Ge,{vals:Qe(Ge,En),layer:Pr,cls:cr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yr,labelFns:J.makeLabelFns(Ge,sn+qr*hn[4])})}),un.push(function(){return Ge._depth=hn[4]*(_r("tick2")[Ge.side]-sn),Lt(Ye,Ge,{vals:ma,layer:Pr,path:J.makeTickPath(Ge,sn,hn[4],{len:Ge._depth}),transFn:Yr})})}else Ge.title.hasOwnProperty("standoff")&&un.push(function(){Ge._depth=hn[4]*(_r()[Ge.side]-sn)});var Zr=C.getComponentMethod("rangeslider","isVisible")(Ge);return!zt.skipTitle&&!(Zr&&Ge.side==="bottom")&&un.push(function(){return Tr(Ye,Ge)}),un.push(function(){var Hr=Ge.side.charAt(0),qr=re[Ge.side].charAt(0),An=J.getPxPosition(Ye,Ge),Fn=In?Ge.ticklen:0,Cn,Hn,Un,da;(Ge.automargin||Zr||Ge._shiftPusher)&&(Ge.type==="multicategory"?Cn=_r("tick2"):(Cn=_r(),pr==="x"&&Hr==="b"&&(Ge._depth=Math.max(Cn.width>0?Cn.bottom-An:0,Fn))));var la=0,ya=0;if(Ge._shiftPusher&&(la=Math.max(Fn,Cn.height>0?Hr==="l"?An-Cn.left:Cn.right-An:0),Ge.title.text!==Ft._dfltTitle[pr]&&(ya=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Hr==="l"&&(ya+=Xt(Ge))),Ge._fullDepth=Math.max(la,ya)),Ge.automargin){Hn={x:0,y:0,r:0,l:0,t:0,b:0};var Ra=[0,1],wi=typeof Ge._shift=="number"?Ge._shift:0;if(pr==="x"){if(Hr==="b"?Hn[Hr]=Ge._depth:(Hn[Hr]=Ge._depth=Math.max(Cn.width>0?An-Cn.top:0,Fn),Ra.reverse()),Cn.width>0){var si=Cn.right-(Ge._offset+Ge._length);si>0&&(Hn.xr=1,Hn.r=si);var Qo=Ge._offset-Cn.left;Qo>0&&(Hn.xl=0,Hn.l=Qo)}}else if(Hr==="l"?(Ge._depth=Math.max(Cn.height>0?An-Cn.left:0,Fn),Hn[Hr]=Ge._depth-wi):(Ge._depth=Math.max(Cn.height>0?Cn.right-An:0,Fn),Hn[Hr]=Ge._depth+wi,Ra.reverse()),Cn.height>0){var Wo=Cn.bottom-(Ge._offset+Ge._length);Wo>0&&(Hn.yb=0,Hn.b=Wo);var po=Ge._offset-Cn.top;po>0&&(Hn.yt=1,Hn.t=po)}Hn[br]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Ra[0]],Ge.title.text!==Ft._dfltTitle[pr]&&(Hn[Hr]+=Xt(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Un={x:0,y:0,r:0,l:0,t:0,b:0},Un[qr]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Un[qr]+=Fn),Ge.mirror===!0||Ge.mirror==="ticks"?Un[br]=Ge._anchorAxis.domain[Ra[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Un[br]=[Ge._counterDomainMin,Ge._counterDomainMax][Ra[1]]))}Zr&&(da=C.getComponentMethod("rangeslider","autoMarginOpts")(Ye,Ge)),typeof Ge.automargin=="string"&&(we(Hn,Ge.automargin),we(Un,Ge.automargin)),i.autoMargin(Ye,ur(Ge),Hn),i.autoMargin(Ye,mt(Ge),Un),i.autoMargin(Ye,lt(Ge),da)}),S.syncOrAsync(un)}};function we(Ye,Ge){if(Ye){var zt=Object.keys(B).reduce(function(Dt,Qt){return Ge.indexOf(Qt)!==-1&&B[Qt].forEach(function(nr){Dt[nr]=1}),Dt},{});Object.keys(Ye).forEach(function(Dt){zt[Dt]||(Dt.length===1?Ye[Dt]=0:delete Ye[Dt])})}}function Ve(Ye,Ge){var zt=[],Dt,Qt=function(nr,ir){var tr=nr.xbnd[ir];tr!==null&&zt.push(S.extendFlat({},nr,{x:tr}))};if(Ge.length){for(Dt=0;Dt<Ge.length;Dt++)Qt(Ge[Dt],0);Qt(Ge[Dt-1],1)}return zt}function Qe(Ye,Ge){for(var zt=[],Dt={},Qt=0;Qt<Ge.length;Qt++){var nr=Ge[Qt];Dt[nr.text2]?Dt[nr.text2].push(nr.x):Dt[nr.text2]=[nr.x]}for(var ir in Dt)zt.push(xt(Ye,S.interp(Dt[ir],.5),ir));return zt}function it(Ye,Ge){var zt=[],Dt,Qt,nr=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,ir=function(Ft,cr){var pr=Ft.xbnd[cr];pr!==null&&zt.push(S.extendFlat({},Ft,{x:pr}))};if(Ye.showdividers&&Ge.length){for(Dt=0;Dt<Ge.length;Dt++){var tr=Ge[Dt];tr.text2!==Qt&&ir(tr,nr?1:0),Qt=tr.text2}ir(Ge[Dt-1],nr?0:1)}return zt}function st(Ye,Ge,zt){var Dt,Qt,nr,ir;if(Ye._selections[Ge].size())Dt=1/0,Qt=-1/0,nr=1/0,ir=-1/0,Ye._selections[Ge].each(function(){var Ft=yr(this),cr=a.bBox(Ft.node().parentNode);Dt=Math.min(Dt,cr.top),Qt=Math.max(Qt,cr.bottom),nr=Math.min(nr,cr.left),ir=Math.max(ir,cr.right)});else{var tr=J.makeLabelFns(Ye,zt);Dt=Qt=tr.yFn({dx:0,dy:0,fontSize:0}),nr=ir=tr.xFn({dx:0,dy:0,fontSize:0})}return{top:Dt,bottom:Qt,left:nr,right:ir,height:Qt-Dt,width:ir-nr}}J.getTickSigns=function(Ye,Ge){var zt=Ye._id.charAt(0),Dt={x:"top",y:"right"}[zt],Qt=Ye.side===Dt?1:-1,nr=[-1,1,Qt,-Qt],ir=Ge?(Ye.minor||{}).ticks:Ye.ticks;return ir!=="inside"==(zt==="x")&&(nr=nr.map(function(tr){return-tr})),Ye.side&&nr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),nr},J.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(Ge){return v(Ye._offset+Ye.l2p(Ge.x),0)}:function(Ge){return v(0,Ye._offset+Ye.l2p(Ge.x))}},J.makeTransTickLabelFn=function(Ye){var Ge=jt(Ye),zt=Ge[0],Dt=Ge[1];return Ye._id.charAt(0)==="x"?function(Qt){return v(zt+Ye._offset+Ye.l2p(Wt(Qt)),Dt)}:function(Qt){return v(Dt,zt+Ye._offset+Ye.l2p(Wt(Qt)))}};function Wt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function jt(Ye){var Ge=Ye.ticklabelposition||"",zt=function(Vr){return Ge.indexOf(Vr)!==-1},Dt=zt("top"),Qt=zt("left"),nr=zt("right"),ir=zt("bottom"),tr=zt("inside"),Ft=ir||Qt||Dt||nr;if(!Ft&&!tr)return[0,0];var cr=Ye.side,pr=Ft?(Ye.tickwidth||0)/2:0,br=ue,hr=Ye.tickfont?Ye.tickfont.size:12;return(ir||Dt)&&(pr+=hr*Q,br+=(Ye.linewidth||0)/2),(Qt||nr)&&(pr+=(Ye.linewidth||0)/2,br+=ue),tr&&cr==="top"&&(br-=hr*(1-Q)),(Qt||Dt)&&(pr=-pr),(cr==="bottom"||cr==="right")&&(br=-br),[Ft?pr:0,tr?br:0]}J.makeTickPath=function(Ye,Ge,zt,Dt){Dt||(Dt={});var Qt=Dt.minor;if(Qt&&!Ye.minor)return"";var nr=Dt.len!==void 0?Dt.len:Qt?Ye.minor.ticklen:Ye.ticklen,ir=Ye._id.charAt(0),tr=(Ye.linewidth||1)/2;return ir==="x"?"M0,"+(Ge+tr*zt)+"v"+nr*zt:"M"+(Ge+tr*zt)+",0h"+nr*zt},J.makeLabelFns=function(Ye,Ge,zt){var Dt=Ye.ticklabelposition||"",Qt=function(Wn){return Dt.indexOf(Wn)!==-1},nr=Qt("top"),ir=Qt("left"),tr=Qt("right"),Ft=Qt("bottom"),cr=Ft||ir||nr||tr,pr=Qt("inside"),br=Dt==="inside"&&Ye.ticks==="inside"||!pr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",hr=0,Vr=0,Pr=br?Ye.ticklen:0;if(pr?Pr*=-1:cr&&(Pr=0),br&&(hr+=Pr,zt)){var Ir=S.deg2rad(zt);hr=Pr*Math.cos(Ir)+1,Vr=Pr*Math.sin(Ir)}Ye.showticklabels&&(br||Ye.showline)&&(hr+=.2*Ye.tickfont.size),hr+=(Ye.linewidth||1)/2*(pr?-1:1);var sn={labelStandoff:hr,labelShift:Vr},an,En,Mn,xr,_r=0,Yr=Ye.side,zr=Ye._id.charAt(0),gn=Ye.tickangle,dn;if(zr==="x")dn=!pr&&Yr==="bottom"||pr&&Yr==="top",xr=dn?1:-1,pr&&(xr*=-1),an=Vr*xr,En=Ge+hr*xr,Mn=dn?1:-.2,Math.abs(gn)===90&&(pr?Mn+=j:gn===-90&&Yr==="bottom"?Mn=Q:gn===90&&Yr==="top"?Mn=j:Mn=.5,_r=j/2*(gn/90)),sn.xFn=function(Wn){return Wn.dx+an+_r*Wn.fontSize},sn.yFn=function(Wn){return Wn.dy+En+Wn.fontSize*Mn},sn.anchorFn=function(Wn,oa){if(cr){if(ir)return"end";if(tr)return"start"}return!R(oa)||oa===0||oa===180?"middle":oa*xr<0!==pr?"end":"start"},sn.heightFn=function(Wn,oa,ma){return oa<-60||oa>60?-.5*ma:Ye.side==="top"!==pr?-ma:0};else if(zr==="y"){if(dn=!pr&&Yr==="left"||pr&&Yr==="right",xr=dn?1:-1,pr&&(xr*=-1),an=hr,En=Vr*xr,Mn=0,!pr&&Math.abs(gn)===90&&(gn===-90&&Yr==="left"||gn===90&&Yr==="right"?Mn=Q:Mn=.5),pr){var Rn=R(gn)?+gn:0;if(Rn!==0){var In=S.deg2rad(Rn);_r=Math.abs(Math.sin(In))*Q*xr,Mn=0}}sn.xFn=function(Wn){return Wn.dx+Ge-(an+Wn.fontSize*Mn)*xr+_r*Wn.fontSize},sn.yFn=function(Wn){return Wn.dy+En+Wn.fontSize*j},sn.anchorFn=function(Wn,oa){return R(oa)&&Math.abs(oa)===90?"middle":dn?"end":"start"},sn.heightFn=function(Wn,oa,ma){return Ye.side==="right"&&(oa*=-1),oa<-30?-ma:oa<30?-.5*ma:0}}return sn};function Tt(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}J.drawTicks=function(Ye,Ge,zt){zt=zt||{};var Dt=Ge._id+"tick",Qt=[].concat(Ge.minor&&Ge.minor.ticks?zt.vals.filter(function(ir){return ir.minor&&!ir.noTick}):[]).concat(Ge.ticks?zt.vals.filter(function(ir){return!ir.minor&&!ir.noTick}):[]),nr=zt.layer.selectAll("path."+Dt).data(Qt,Tt);nr.exit().remove(),nr.enter().append("path").classed(Dt,1).classed("ticks",1).classed("crisp",zt.crisp!==!1).each(function(ir){return t.stroke(g.select(this),ir.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(ir){return a.crispRound(Ye,ir.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",zt.path).style("display",null),fr(Ge,[F]),nr.attr("transform",zt.transFn)},J.drawGrid=function(Ye,Ge,zt){if(zt=zt||{},Ge.tickmode!=="sync"){var Dt=Ge._id+"grid",Qt=Ge.minor&&Ge.minor.showgrid,nr=Qt?zt.vals.filter(function(an){return an.minor}):[],ir=Ge.showgrid?zt.vals.filter(function(an){return!an.minor}):[],tr=zt.counterAxis;if(tr&&J.shouldShowZeroLine(Ye,Ge,tr))for(var Ft=Ge.tickmode==="array",cr=0;cr<ir.length;cr++){var pr=ir[cr].x;if(Ft?!pr:Math.abs(pr)<Ge.dtick/100)if(ir=ir.slice(0,cr).concat(ir.slice(cr+1)),Ft)cr--;else break}Ge._gw=a.crispRound(Ye,Ge.gridwidth,1);for(var br=Qt?a.crispRound(Ye,Ge.minor.gridwidth,1):0,hr=zt.layer,Vr=zt.minorLayer,Pr=1;Pr>=0;Pr--){var Ir=Pr?hr:Vr;if(Ir){var sn=Ir.selectAll("path."+Dt).data(Pr?ir:nr,Tt);sn.exit().remove(),sn.enter().append("path").classed(Dt,1).classed("crisp",zt.crisp!==!1),sn.attr("transform",zt.transFn).attr("d",zt.path).each(function(an){return t.stroke(g.select(this),an.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(an){return a.dashStyle(an.minor?Ge.minor.griddash:Ge.griddash,an.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(an){return(an.minor?br:Ge._gw)+"px"}).style("display",null),typeof zt.path=="function"&&sn.attr("d",zt.path)}}fr(Ge,[N,z])}},J.drawZeroLine=function(Ye,Ge,zt){zt=zt||zt;var Dt=Ge._id+"zl",Qt=J.shouldShowZeroLine(Ye,Ge,zt.counterAxis),nr=zt.layer.selectAll("path."+Dt).data(Qt?[{x:0,id:Ge._id}]:[]);nr.exit().remove(),nr.enter().append("path").classed(Dt,1).classed("zl",1).classed("crisp",zt.crisp!==!1).each(function(){zt.layer.selectAll("path").sort(function(ir,tr){return Y(ir.id,tr.id)})}),nr.attr("transform",zt.transFn).attr("d",zt.path).call(t.stroke,Ge.zerolinecolor||t.defaultLine).style("stroke-width",a.crispRound(Ye,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),fr(Ge,[D])},J.drawLabels=function(Ye,Ge,zt){zt=zt||{};var Dt=Ye._fullLayout,Qt=Ge._id,nr=zt.cls||Qt+"tick",ir=zt.vals.filter(function(gr){return gr.text}),tr=zt.labelFns,Ft=zt.secondary?0:Ge.tickangle,cr=(Ge._prevTickAngles||{})[nr],pr=zt.layer.selectAll("g."+nr).data(Ge.showticklabels?ir:[],Tt),br=[];pr.enter().append("g").classed(nr,1).append("text").attr("text-anchor","middle").each(function(gr){var en=g.select(this),$r=Ye._promises.length;en.call(d.positionText,tr.xFn(gr),tr.yFn(gr)).call(a.font,{family:gr.font,size:gr.fontSize,color:gr.fontColor,weight:gr.fontWeight,style:gr.fontStyle,variant:gr.fontVariant}).text(gr.text).call(d.convertToTspans,Ye),Ye._promises[$r]?br.push(Ye._promises.pop().then(function(){hr(en,Ft)})):hr(en,Ft)}),fr(Ge,[U]),pr.exit().remove(),zt.repositionOnUpdate&&pr.each(function(gr){g.select(this).select("text").call(d.positionText,tr.xFn(gr),tr.yFn(gr))});function hr(gr,en){gr.each(function($r){var hn=g.select(this),Bn=hn.select(".text-math-group"),Tn=tr.anchorFn($r,en),Sn=zt.transFn.call(hn.node(),$r)+(R(en)&&+en!=0?" rotate("+en+","+tr.xFn($r)+","+(tr.yFn($r)-$r.fontSize/2)+")":""),Nn=d.lineCount(hn),qn=ee*$r.fontSize,va=tr.heightFn($r,R(en)?+en:0,(Nn-1)*qn);if(va&&(Sn+=v(0,va)),Bn.empty()){var Da=hn.select("text");Da.attr({transform:Sn,"text-anchor":Tn}),Da.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Mr=a.bBox(Bn.node()).width,Or=Mr*{end:-.5,start:.5}[Tn];Bn.attr("transform",Sn+v(Or,0))}})}Ge._adjustTickLabelsOverflow=function(){var gr=Ge.ticklabeloverflow;if(!(!gr||gr==="allow")){var en=gr.indexOf("hide")!==-1,$r=Ge._id.charAt(0)==="x",hn=0,Bn=$r?Ye._fullLayout.width:Ye._fullLayout.height;if(gr.indexOf("domain")!==-1){var Tn=S.simpleMap(Ge.range,Ge.r2l);hn=Ge.l2p(Tn[0])+Ge._offset,Bn=Ge.l2p(Tn[1])+Ge._offset}var Sn=Math.min(hn,Bn),Nn=Math.max(hn,Bn),qn=Ge.side,va=1/0,Da=-1/0;pr.each(function(Fr){var bn=g.select(this),Dn=bn.select(".text-math-group");if(Dn.empty()){var yn=a.bBox(bn.node()),un=0;$r?(yn.right>Nn||yn.left<Sn)&&(un=1):(yn.bottom>Nn||yn.top+(Ge.tickangle?0:Fr.fontSize/4)<Sn)&&(un=1);var Er=bn.select("text");un?en&&Er.style("opacity",0):(Er.style("opacity",1),qn==="bottom"||qn==="right"?va=Math.min(va,$r?yn.top:yn.left):va=-1/0,qn==="top"||qn==="left"?Da=Math.max(Da,$r?yn.bottom:yn.right):Da=1/0)}});for(var Mr in Dt._plots){var Or=Dt._plots[Mr];if(!(Ge._id!==Or.xaxis._id&&Ge._id!==Or.yaxis._id)){var Ar=$r?Or.yaxis:Or.xaxis;Ar&&(Ar["_visibleLabelMin_"+Ge._id]=va,Ar["_visibleLabelMax_"+Ge._id]=Da)}}}},Ge._hideCounterAxisInsideTickLabels=function(gr){var en=Ge._id.charAt(0)==="x",$r=[];for(var hn in Dt._plots){var Bn=Dt._plots[hn];Ge._id!==Bn.xaxis._id&&Ge._id!==Bn.yaxis._id||$r.push(en?Bn.yaxis:Bn.xaxis)}$r.forEach(function(Tn,Sn){Tn&&$t(Tn)&&(gr||[D,z,N,F,U]).forEach(function(Nn){var qn=Nn.K==="tick"&&Nn.L==="text"&&Ge.ticklabelmode==="period",va=Dt._plots[Ge._mainSubplot],Da;Nn.K===D.K?Da=va.zerolinelayer.selectAll("."+Ge._id+"zl"):Nn.K===z.K?Da=va.minorGridlayer.selectAll("."+Ge._id):Nn.K===N.K?Da=va.gridlayer.selectAll("."+Ge._id):Da=va[Ge._id.charAt(0)+"axislayer"],Da.each(function(){var Mr=g.select(this);Nn.L&&(Mr=Mr.selectAll(Nn.L)),Mr.each(function(Or){var Ar=Ge.l2p(qn?Wt(Or):Or.x)+Ge._offset,Fr=g.select(this);Ar<Ge["_visibleLabelMax_"+Tn._id]&&Ar>Ge["_visibleLabelMin_"+Tn._id]?Fr.style("display","none"):Nn.K==="tick"&&!Sn&&Fr.style("display",null)})})})})},hr(pr,cr+1?cr:Ft);function Vr(){return br.length&&Promise.all(br)}var Pr=null;function Ir(){if(hr(pr,Ft),ir.length&&Ge.autotickangles&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Pr=Ge.autotickangles[0];var gr=0,en=[],$r,hn=1;pr.each(function(Cn){gr=Math.max(gr,Cn.fontSize);var Hn=Ge.l2p(Cn.x),Un=yr(this),da=a.bBox(Un.node());hn=Math.max(hn,d.lineCount(Un)),en.push({top:0,bottom:10,height:10,left:Hn-da.width/2,right:Hn+da.width/2+2,width:da.width+2})});var Bn=(Ge.tickson==="boundaries"||Ge.showdividers)&&!zt.secondary,Tn=ir.length,Sn=Math.abs((ir[Tn-1].x-ir[0].x)*Ge._m)/(Tn-1),Nn=Bn?Sn/2:Sn,qn=Bn?Ge.ticklen:gr*1.25*hn,va=Math.sqrt(Math.pow(Nn,2)+Math.pow(qn,2)),Da=Nn/va,Mr=Ge.autotickangles.map(function(Cn){return Cn*Math.PI/180}),Or=Mr.find(function(Cn){return Math.abs(Math.cos(Cn))<=Da});Or===void 0&&(Or=Mr.reduce(function(Cn,Hn){return Math.abs(Math.cos(Cn))<Math.abs(Math.cos(Hn))?Cn:Hn},Mr[0]));var Ar=Or*(180/Math.PI);if(Bn){var Fr=2;for(Ge.ticks&&(Fr+=Ge.tickwidth/2),$r=0;$r<en.length;$r++){var bn=ir[$r].xbnd,Dn=en[$r];if(bn[0]!==null&&Dn.left-Ge.l2p(bn[0])<Fr||bn[1]!==null&&Ge.l2p(bn[1])-Dn.right<Fr){Pr=Ar;break}}}else{var yn=Ge.ticklabelposition||"",un=function(Cn){return yn.indexOf(Cn)!==-1},Er=un("top"),Zr=un("left"),Hr=un("right"),qr=un("bottom"),An=qr||Zr||Er||Hr,Fn=An?(Ge.tickwidth||0)+2*ue:0;for($r=0;$r<en.length-1;$r++)if(S.bBoxIntersect(en[$r],en[$r+1],Fn)){Pr=Ar;break}}Pr&&hr(pr,Pr)}}Ge._selections&&(Ge._selections[nr]=pr);var sn=[Vr];Ge.automargin&&Dt._redrawFromAutoMarginCount&&cr===90?(Pr=cr,sn.push(function(){hr(pr,cr)})):sn.push(Ir),Ge._tickAngles&&sn.push(function(){Ge._tickAngles[nr]=Pr===null?R(Ft)?Ft:0:Pr});var an=function(){var gr=0,en=0;return pr.each(function($r,hn){var Bn=yr(this),Tn=Bn.select(".text-math-group");if(Tn.empty()){var Sn;Ge._vals[hn]&&(Sn=Ge._vals[hn].bb||a.bBox(Bn.node()),Ge._vals[hn].bb=Sn),gr=Math.max(gr,Sn.width),en=Math.max(en,Sn.height)}}),{labelsMaxW:gr,labelsMaxH:en}},En=Ge._anchorAxis;if(En&&(En.autorange||En.insiderange)&&$t(Ge)&&!oe(Dt,Ge._id)&&(Dt._insideTickLabelsUpdaterange||(Dt._insideTickLabelsUpdaterange={}),En.autorange&&(Dt._insideTickLabelsUpdaterange[En._name+".autorange"]=En.autorange,sn.push(an)),En.insiderange)){var Mn=an(),xr=Ge._id.charAt(0)==="y"?Mn.labelsMaxW:Mn.labelsMaxH;xr+=2*ue,Ge.ticklabelposition==="inside"&&(xr+=Ge.ticklen||0);var _r=Ge.side==="right"||Ge.side==="top"?1:-1,Yr=_r===1?1:0,zr=_r===1?0:1,gn=[];gn[zr]=En.range[zr];var dn=En.range,Rn=En.r2p(dn[Yr]),In=En.r2p(dn[zr]),Wn=Dt._insideTickLabelsUpdaterange[En._name+".range"];if(Wn){var oa=En.r2p(Wn[Yr]),ma=En.r2p(Wn[zr]),Ta=_r*(Ge._id.charAt(0)==="y"?1:-1);Ta*Rn<Ta*oa&&(Rn=oa,gn[Yr]=dn[Yr]=Wn[Yr]),Ta*In>Ta*ma&&(In=ma,gn[zr]=dn[zr]=Wn[zr])}var Yn=Math.abs(In-Rn);Yn-xr>0?(Yn-=xr,xr*=1+xr/Yn):xr=0,Ge._id.charAt(0)!=="y"&&(xr=-xr),gn[Yr]=En.p2r(En.r2p(dn[Yr])+_r*xr),En.autorange==="min"||En.autorange==="max reversed"?(gn[0]=null,En._rangeInitial0=void 0,En._rangeInitial1=void 0):(En.autorange==="max"||En.autorange==="min reversed")&&(gn[1]=null,En._rangeInitial0=void 0,En._rangeInitial1=void 0),Dt._insideTickLabelsUpdaterange[En._name+".range"]=gn}var Qn=S.syncOrAsync(sn);return Qn&&Qn.then&&Ye._promises.push(Qn),Qn};function Lt(Ye,Ge,zt){var Dt=Ge._id+"divider",Qt=zt.vals,nr=zt.layer.selectAll("path."+Dt).data(Qt,Tt);nr.exit().remove(),nr.enter().insert("path",":first-child").classed(Dt,1).classed("crisp",1).call(t.stroke,Ge.dividercolor).style("stroke-width",a.crispRound(Ye,Ge.dividerwidth,1)+"px"),nr.attr("transform",zt.transFn).attr("d",zt.path)}J.getPxPosition=function(Ye,Ge){var zt=Ye._fullLayout._size,Dt=Ge._id.charAt(0),Qt=Ge.side,nr;if(Ge.anchor!=="free"?nr=Ge._anchorAxis:Dt==="x"?nr={_offset:zt.t+(1-(Ge.position||0))*zt.h,_length:0}:Dt==="y"&&(nr={_offset:zt.l+(Ge.position||0)*zt.w+Ge._shift,_length:0}),Qt==="top"||Qt==="left")return nr._offset;if(Qt==="bottom"||Qt==="right")return nr._offset+nr._length};function Xt(Ye){var Ge=Ye.title.font.size,zt=(Ye.title.text.match(d.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?Ge*(Q+zt*ee):zt?Ge*(zt+1)*ee:Ge}function Tr(Ye,Ge){var zt=Ye._fullLayout,Dt=Ge._id,Qt=Dt.charAt(0),nr=Ge.title.font.size,ir,tr=(Ge.title.text.match(d.BR_TAG_ALL)||[]).length;if(Ge.title.hasOwnProperty("standoff"))Ge.side==="bottom"||Ge.side==="right"?ir=Ge._depth+Ge.title.standoff+nr*Q:(Ge.side==="top"||Ge.side==="left")&&(ir=Ge._depth+Ge.title.standoff+nr*(j+tr*ee));else{var Ft=$t(Ge);if(Ge.type==="multicategory")ir=Ge._depth;else{var cr=1.5*nr;Ft&&(cr=.5*nr,Ge.ticks==="outside"&&(cr+=Ge.ticklen)),ir=10+cr+(Ge.linewidth?Ge.linewidth-1:0)}Ft||(Qt==="x"?ir+=Ge.side==="top"?nr*(Ge.showticklabels?1:0):nr*(Ge.showticklabels?1.5:.5):ir+=Ge.side==="right"?nr*(Ge.showticklabels?1:.5):nr*(Ge.showticklabels?.5:0))}var pr=J.getPxPosition(Ye,Ge),br,hr,Vr;Qt==="x"?(hr=Ge._offset+Ge._length/2,Vr=Ge.side==="top"?pr-ir:pr+ir):(Vr=Ge._offset+Ge._length/2,hr=Ge.side==="right"?pr+ir:pr-ir,br={rotate:"-90",offset:0});var Pr;if(Ge.type!=="multicategory"){var Ir=Ge._selections[Ge._id+"tick"];if(Pr={selection:Ir,side:Ge.side},Ir&&Ir.node()&&Ir.node().parentNode){var sn=a.getTranslate(Ir.node().parentNode);Pr.offsetLeft=sn.x,Pr.offsetTop=sn.y}Ge.title.hasOwnProperty("standoff")&&(Pr.pad=0)}return Ge._titleStandoff=ir,r.draw(Ye,Dt+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:zt._dfltTitle[Qt],avoid:Pr,transform:br,attributes:{x:hr,y:Vr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(Ye,Ge,zt){var Dt=S.simpleMap(Ge.range,Ge.r2l);return Dt[0]*Dt[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===_)&&(yt(Ge,0)||!Kt(Ye,Ge,zt,Dt)||Jt(Ye,Ge))},J.clipEnds=function(Ye,Ge){return Ge.filter(function(zt){return yt(Ye,zt.x)})};function yt(Ye,Ge){var zt=Ye.l2p(Ge);return zt>1&&zt<Ye._length-1}function Kt(Ye,Ge,zt,Dt){var Qt=zt._mainAxis;if(!Qt)return;var nr=Ye._fullLayout,ir=Ge._id.charAt(0),tr=J.counterLetter(Ge._id),Ft=Ge._offset+(Math.abs(Dt[0])<Math.abs(Dt[1])==(ir==="x")?0:Ge._length);function cr(Pr){if(!Pr.showline||!Pr.linewidth)return!1;var Ir=Math.max((Pr.linewidth+Ge.zerolinewidth)/2,1);function sn(Mn){return typeof Mn=="number"&&Math.abs(Mn-Ft)<Ir}if(sn(Pr._mainLinePosition)||sn(Pr._mainMirrorPosition))return!0;var an=Pr._linepositions||{};for(var En in an)if(sn(an[En][0])||sn(an[En][1]))return!0}var pr=nr._plots[zt._mainSubplot];if(!(pr.mainplotinfo||pr).overlays.length)return cr(zt);for(var br=J.list(Ye,tr),hr=0;hr<br.length;hr++){var Vr=br[hr];if(Vr._mainAxis===Qt&&cr(Vr))return!0}}function Jt(Ye,Ge){for(var zt=Ye._fullData,Dt=Ge._mainSubplot,Qt=Ge._id.charAt(0),nr=0;nr<zt.length;nr++){var ir=zt[nr];if(ir.visible===!0&&ir.xaxis+ir.yaxis===Dt&&(C.traceIs(ir,"bar-like")&&ir.orientation==={x:"h",y:"v"}[Qt]||ir.fill&&ir.fill.charAt(ir.fill.length-1)===Qt))return!0}return!1}function yr(Ye){var Ge=g.select(Ye),zt=Ge.select(".text-math-group");return zt.empty()?Ge.select("text"):zt}J.allowAutoMargin=function(Ye){for(var Ge=J.list(Ye,"",!0),zt=0;zt<Ge.length;zt++){var Dt=Ge[zt];Dt.automargin&&(i.allowAutoMargin(Ye,ur(Dt)),Dt.mirror&&i.allowAutoMargin(Ye,mt(Dt))),C.getComponentMethod("rangeslider","isVisible")(Dt)&&i.allowAutoMargin(Ye,lt(Dt))}};function ur(Ye){return Ye._id+".automargin"}function mt(Ye){return ur(Ye)+".mirror"}function lt(Ye){return Ye._id+".rangeslider"}J.swap=function(Ye,Ge){for(var zt=bt(Ye,Ge),Dt=0;Dt<zt.length;Dt++)It(Ye,zt[Dt].x,zt[Dt].y)};function bt(Ye,Ge){var zt=[],Dt,Qt;for(Dt=0;Dt<Ge.length;Dt++){var nr=[],ir=Ye._fullData[Ge[Dt]].xaxis,tr=Ye._fullData[Ge[Dt]].yaxis;if(!(!ir||!tr)){for(Qt=0;Qt<zt.length;Qt++)(zt[Qt].x.indexOf(ir)!==-1||zt[Qt].y.indexOf(tr)!==-1)&&nr.push(Qt);if(!nr.length){zt.push({x:[ir],y:[tr]});continue}var Ft=zt[nr[0]],cr;if(nr.length>1)for(Qt=1;Qt<nr.length;Qt++)cr=zt[nr[Qt]],Et(Ft.x,cr.x),Et(Ft.y,cr.y);Et(Ft.x,[ir]),Et(Ft.y,[tr])}}return zt}function Et(Ye,Ge){for(var zt=0;zt<Ge.length;zt++)Ye.indexOf(Ge[zt])===-1&&Ye.push(Ge[zt])}function It(Ye,Ge,zt){var Dt=[],Qt=[],nr=Ye.layout,ir,tr;for(ir=0;ir<Ge.length;ir++)Dt.push(J.getFromId(Ye,Ge[ir]));for(ir=0;ir<zt.length;ir++)Qt.push(J.getFromId(Ye,zt[ir]));var Ft=Object.keys(n),cr=["anchor","domain","overlaying","position","side","tickangle","editType"],pr=["linear","log"];for(ir=0;ir<Ft.length;ir++){var br=Ft[ir],hr=Dt[0][br],Vr=Qt[0][br],Pr=!0,Ir=!1,sn=!1;if(!(br.charAt(0)==="_"||typeof hr=="function"||cr.indexOf(br)!==-1)){for(tr=1;tr<Dt.length&&Pr;tr++){var an=Dt[tr][br];br==="type"&&pr.indexOf(hr)!==-1&&pr.indexOf(an)!==-1&&hr!==an?Ir=!0:an!==hr&&(Pr=!1)}for(tr=1;tr<Qt.length&&Pr;tr++){var En=Qt[tr][br];br==="type"&&pr.indexOf(Vr)!==-1&&pr.indexOf(En)!==-1&&Vr!==En?sn=!0:Qt[tr][br]!==Vr&&(Pr=!1)}Pr&&(Ir&&(nr[Dt[0]._name].type="linear"),sn&&(nr[Qt[0]._name].type="linear"),Ht(nr,br,Dt,Qt,Ye._fullLayout._dfltTitle))}}for(ir=0;ir<Ye._fullLayout.annotations.length;ir++){var Mn=Ye._fullLayout.annotations[ir];Ge.indexOf(Mn.xref)!==-1&&zt.indexOf(Mn.yref)!==-1&&S.swapAttrs(nr.annotations[ir],["?"])}}function Ht(Ye,Ge,zt,Dt,Qt){var nr=S.nestedProperty,ir=nr(Ye[zt[0]._name],Ge).get(),tr=nr(Ye[Dt[0]._name],Ge).get(),Ft;for(Ge==="title"&&(ir&&ir.text===Qt.x&&(ir.text=Qt.y),tr&&tr.text===Qt.y&&(tr.text=Qt.x)),Ft=0;Ft<zt.length;Ft++)nr(Ye,zt[Ft]._name+"."+Ge).set(tr);for(Ft=0;Ft<Dt.length;Ft++)nr(Ye,Dt[Ft]._name+"."+Ge).set(ir)}function Ut(Ye){return Ye._id==="angularaxis"}function Bt(Ye,Ge){for(var zt=Ge._rangebreaks.length,Dt=0;Dt<zt;Dt++){var Qt=Ge._rangebreaks[Dt];if(Ye>=Qt.min&&Ye<Qt.max)return Qt.max}return Ye}function $t(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function fr(Ye,Ge){$t(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(Ge)}function Zt(Ye,Ge,zt,Dt){var Qt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,nr;Dt?nr=Ye.side==="right"?Ge:-Ge:nr=Ge,Qt in zt||(zt[Qt]={}),Ye.side in zt[Qt]||(zt[Qt][Ye.side]=0),zt[Qt][Ye.side]+=nr}function vr(Ye,Ge){return Ye.autoshift?Ge[Ye.overlaying][Ye.side]:Ye.shift||0}},52976:function(G,H,e){var g=e(38248),R=e(3400),i=e(39032).BADNUM,C=R.isArrayOrTypedArray,S=R.isDateTime,v=R.cleanNumber,d=Math.round;G.exports=function(y,h,T){var c=y,o=T.noMultiCategory;if(C(c)&&!c.length)return"-";if(!o&&u(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var p=[],x=0;x<c.length;x++)if(C(c[x]))for(var b=0;b<c[x].length;b++)p.push(c[x][b]);c=p}if(a(c,h))return"date";var P=T.autotypenumbers!=="strict";return f(c,P)?"category":t(c,P)?"linear":"-"};function r(l,y){return y?g(l):typeof l=="number"}function t(l,y){for(var h=l.length,T=0;T<h;T++)if(r(l[T],y))return!0;return!1}function a(l,y){for(var h=l.length,T=n(h),c=0,o=0,p={},x=0;x<h;x+=T){var b=d(x),P=l[b],m=String(P);p[m]||(p[m]=1,S(P,y)&&c++,g(P)&&o++)}return c>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,y){for(var h=l.length,T=n(h),c=0,o=0,p={},x=0;x<h;x+=T){var b=d(x),P=l[b],m=String(P);if(!p[m]){p[m]=1;var L=typeof P;L==="boolean"?o++:(y?v(P)!==i:L==="number")?c++:L==="string"&&o++}}return o>c*2}function u(l){return C(l[0])&&C(l[1])}},28336:function(G,H,e){var g=e(38248),R=e(24040),i=e(3400),C=e(31780),S=e(51272),v=e(94724),d=e(26332),r=e(25404),t=e(95936),a=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),y=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;G.exports=function(x,b,P,m,L){var M=m.letter,s=m.font||{},E=m.splomStash||{},w=P("visible",!m.visibleDflt),_=b._template||{},D=b.type||_.type||"-",N;if(D==="date"){var z=R.getComponentMethod("calendars","handleDefaults");z(x,b,"calendar",m.calendar),m.noTicklabelmode||(N=P("ticklabelmode"))}var F="";(!m.noTicklabelposition||D==="multicategory")&&(F=i.coerce(x,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||P("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),l(b,L),u(x,b,P,m),n(x,b,P,m),D!=="category"&&!m.noHover&&P("hoverformat");var U=P("color"),B=U!==v.color.dflt?U:s.color,V=E.label||L._dfltTitle[M];if(a(x,b,P,D,m),!w)return b;P("title.text",V),i.coerceFont(P,"title.font",{family:s.family,weight:s.weight,style:s.style,variant:s.variant,size:i.bigFont(s.size),color:B}),d(x,b,P,D);var j=m.hasMinor;if(j&&(C.newContainer(b,"minor"),d(x,b,P,D,{isMinor:!0})),t(x,b,P,D,m),r(x,b,P,m),j){var Q=m.isMinor;m.isMinor=!0,r(x,b,P,m),m.isMinor=Q}f(x,b,P,{dfltColor:U,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:j,attributes:v}),j&&!b.minor.ticks&&!b.minor.showgrid&&delete b.minor,(b.showline||b.ticks)&&P("mirror");var ee=D==="multicategory";if(!m.noTickson&&(D==="category"||ee)&&(b.ticks||b.showgrid)){var re;ee&&(re="boundaries");var ue=P("tickson",re);ue==="boundaries"&&delete b.ticklabelposition}if(ee){var J=P("showdividers");J&&(P("dividercolor"),P("dividerwidth"))}if(D==="date")if(S(x,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!b.rangebreaks.length)delete b.rangebreaks;else{for(var X=0;X<b.rangebreaks.length;X++)if(b.rangebreaks[X].pattern===y){b._hasDayOfWeekBreaks=!0;break}if(l(b,L),L._has("scattergl")||L._has("splom"))for(var ne=0;ne<m.data.length;ne++){var Y=m.data[ne];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,i.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return b};function T(p,x,b){function P(N,z){return i.coerce(p,x,v.rangebreaks,N,z)}var m=P("enabled");if(m){var L=P("bounds");if(L&&L.length>=2){var M="",s,E;if(L.length===2){for(s=0;s<2;s++)if(E=o(L[s]),E){M=y;break}}var w=P("pattern",M);if(w===y)for(s=0;s<2;s++)E=o(L[s]),E&&(x.bounds[s]=L[s]=E-1);if(w)for(s=0;s<2;s++)switch(E=L[s],w){case y:if(!g(E)){x.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){x.enabled=!1;return}x.bounds[s]=L[s]=E;break;case h:if(!g(E)){x.enabled=!1;return}if(E=+E,E<0||E>24){x.enabled=!1;return}x.bounds[s]=L[s]=E;break}if(b.autorange===!1){var _=b.range;if(_[0]<_[1]){if(L[0]<_[0]&&L[1]>_[1]){x.enabled=!1;return}}else if(L[0]>_[0]&&L[1]<_[1]){x.enabled=!1;return}}}else{var D=P("values");if(D&&D.length)P("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(p){if(typeof p=="string")return c[p.substr(0,3).toLowerCase()]}},29736:function(G,H,e){var g=e(26880),R=g.FORMAT_LINK,i=g.DATE_FORMAT_LINK;function C(d,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",d)+["By default the values are formatted using "+(r?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function S(d,r){return["Sets the "+d+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+R+"."].join(" ")}function v(d,r){return S(d,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:C,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(G,H,e){var g=e(24040),R=e(33816);H.id2name=function(S){if(!(typeof S!="string"||!S.match(R.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},H.name2id=function(S){if(S.match(R.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},H.cleanId=function(S,v,d){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(R.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!d)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&d?" domain":"")}},H.list=function(C,S,v){var d=C._fullLayout;if(!d)return[];var r=H.listIds(C,S),t=new Array(r.length),a;for(a=0;a<r.length;a++){var n=r[a];t[a]=d[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=d._subplots.gl3d||[];for(a=0;a<f.length;a++){var u=d[f[a]];S?t.push(u[S+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},H.listIds=function(C,S){var v=C._fullLayout;if(!v)return[];var d=v._subplots;return S?d[S+"axis"]:d.xaxis.concat(d.yaxis)},H.getFromId=function(C,S,v){var d=C._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),d[H.id2name(S)]},H.getFromTrace=function(C,S,v){var d=C._fullLayout,r=null;if(g.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=d[t][v+"axis"])}else r=H.getFromId(C,S[v+"axis"]||v);return r},H.idSort=function(C,S){var v=C.charAt(0),d=S.charAt(0);return v!==d?v>d?1:-1:+(C.substr(1)||1)-+(S.substr(1)||1)},H.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function i(C,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][C])return!0}return!1}H.isLinked=function(C,S){return i(S,C._axisMatchGroups)||i(S,C._axisConstraintGroups)}},22416:function(G,H,e){var g=e(38116).isTypedArraySpec;function R(i,C){var S=C.dataAttr||i._id.charAt(0),v={},d,r,t;if(C.axData)d=C.axData;else for(d=[],r=0;r<C.data.length;r++){var a=C.data[r];a[S+"axis"]===i._id&&d.push(a)}for(r=0;r<d.length;r++){var n=d[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}G.exports=function(C,S,v,d){if(S.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),a;t&&(a="array");var n=v("categoryorder",a),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=R(S,d).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(G,H,e){var g=e(38248),R=e(3400),i=e(39032),C=i.ONEDAY,S=i.ONEWEEK;H.dtick=function(v,d){var r=d==="log",t=d==="date",a=d==="category",n=t?C:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:a?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=g(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},H.tick0=function(v,d,r,t){if(d==="date")return R.cleanDate(v,R.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(G,H,e){var g=e(53756).counter;G.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(G,H,e){var g=e(3400),R=e(19280),i=e(79811).id2name,C=e(94724),S=e(21160),v=e(78344),d=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;H.handleDefaults=function(h,T,c){var o=c.axIds,p=c.axHasImage,x=T._axisConstraintGroups=[],b=T._axisMatchGroups=[],P,m,L,M,s,E,w,_;for(P=0;P<o.length;P++)M=i(o[P]),s=h[M],E=T[M],t(s,E,{axIds:o,layoutOut:T,hasImage:p[M]});function D(ee,re){for(P=0;P<ee.length;P++){m=ee[P];for(L in m)T[i(L)][re]=m}}for(D(b,"_matchGroup"),P=0;P<x.length;P++){m=x[P];for(L in m)if(E=T[i(L)],E.fixedrange){for(var N in m){var z=i(N);(h[z]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),T[z].fixedrange=!0}break}}for(P=0;P<x.length;){m=x[P];for(L in m){E=T[i(L)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(m).length&&(x.splice(P,1),P--);break}P++}D(x,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],U=!1,B=!1;function V(){_=E[w],w==="rangebreaks"&&(B=E._hasDayOfWeekBreaks)}for(P=0;P<b.length;P++){m=b[P];for(var j=0;j<F.length;j++){w=F[j],_=null;var Q;for(L in m)if(M=i(L),s=h[M],E=T[M],w in E){if(!E.matches&&(Q=E,w in s)){V();break}_===null&&w in s&&V()}if(w==="range"&&_&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(U=!0),w==="autorange"&&_===null&&U&&(_=!1),_===null&&w in Q&&(_=Q[w]),_!==null)for(L in m)E=T[i(L)],E[w]=w==="range"?_.slice():_,w==="rangebreaks"&&(E._hasDayOfWeekBreaks=B,v(E,T))}}};function t(h,T,c){var o=c.axIds,p=c.layoutOut,x=c.hasImage,b=p._axisConstraintGroups,P=p._axisMatchGroups,m=T._id,L=m.charAt(0),M=((p._splomAxes||{})[L]||{})[m]||{},s=T._id,E=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function w(X,ne){return g.coerce(h,T,C,X,ne)}w("constrain",x?"domain":"range"),g.coerce(h,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var _=T.type,D,N,z=[];for(D=0;D<o.length;D++)if(N=o[D],N!==s){var F=p[i(N)];F.type===_&&z.push(N)}var U=n(b,s);if(U){var B=[];for(D=0;D<z.length;D++)N=z[D],U[N]||B.push(N);z=B}var V=z.length,j,Q;V&&(h.matches||M.matches)&&(j=g.coerce(h,T,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var ee=x&&!E?T.anchor:void 0;if(V&&!j&&(h.scaleanchor||ee)&&(Q=g.coerce(h,T,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",ee)),j){T._matchGroup=f(P,s,j,1);var re=p[i(j)],ue=a(p,T)/a(p,re);E!==(j.charAt(0)==="x")&&(ue=(E?"x":"y")+ue),f(b,s,j,ue)}else h.matches&&o.indexOf(h.matches)!==-1&&g.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(Q){var J=w("scaleratio");J||(J=T.scaleratio=1),f(b,s,Q,J)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&g.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var c=T.domain;return c||(c=h[i(T.overlaying)].domain),c[1]-c[0]}function n(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function f(h,T,c,o){var p,x,b,P,m,L=n(h,T);L===null?(L={},L[T]=1,m=h.length,h.push(L)):m=h.indexOf(L);var M=Object.keys(L);for(p=0;p<h.length;p++)if(b=h[p],p!==m&&b[c]){var s=b[c];for(x=0;x<M.length;x++)P=M[x],b[P]=u(s,u(o,L[P]));h.splice(m,1);return}if(o!==1)for(x=0;x<M.length;x++){var E=M[x];L[E]=u(o,L[E])}L[c]=1}function u(h,T){var c="",o="",p,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],p=c.length,h=+h.substr(p)),typeof T=="string"&&(o=T.match(/^[xy]*/)[0],x=o.length,T=+T.substr(x));var b=h*T;return!p&&!x?b:!p||!x||c.charAt(0)===o.charAt(0)?c+o+h*T:p===x?b:(p>x?c.substr(x):o.substr(p))+b}function l(h,T){for(var c=T._size,o=c.h/c.w,p={},x=Object.keys(h),b=0;b<x.length;b++){var P=x[b],m=h[P];if(typeof m=="string"){var L=m.match(/^[xy]*/)[0],M=L.length;m=+m.substr(M);for(var s=L.charAt(0)==="y"?o:1/o,E=0;E<M;E++)m*=s}p[P]=m}return p}H.enforce=function(T){var c=T._fullLayout,o=c._axisConstraintGroups||[],p,x,b,P,m,L,M,s;for(p=0;p<o.length;p++){b=l(o[p],c);var E=Object.keys(b),w=1/0,_=0,D=1/0,N={},z={},F=!1;for(x=0;x<E.length;x++)P=E[x],z[P]=m=c[i(P)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),N[P]=L=Math.abs(m._m)/b[P],w=Math.min(w,L),(m.constrain==="domain"||!m._constraintShrinkable)&&(D=Math.min(D,L)),delete m._constraintShrinkable,_=Math.max(_,L),m.constrain==="domain"&&(F=!0);if(!(w>d*_&&!F)){for(x=0;x<E.length;x++)if(P=E[x],L=N[P],m=z[P],M=m.constrain,L!==D||M==="domain")if(s=L/D,M==="range")S(m,s);else{var U=m._inputDomain,B=(m.domain[1]-m.domain[0])/(U[1]-U[0]),V=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=B,s*V<1){m.domain=m._input.domain=U.slice(),S(m,s);continue}if(V<1&&(m.range=m._input.range=m._inputRange.slice(),s*=V),m.autorange){var j=m.r2l(m.range[0]),Q=m.r2l(m.range[1]),ee=(j+Q)/2,re=ee,ue=ee,J=Math.abs(Q-ee),X=ee-J*s*1.0001,ne=ee+J*s*1.0001,Y=R.makePadFn(c,m,0),oe=R.makePadFn(c,m,1);y(m,s);var le=Math.abs(m._m),Z=R.concatExtremes(T,m),$=Z.min,se=Z.max,ae,he;for(he=0;he<$.length;he++)ae=$[he].val-Y($[he])/le,ae>X&&ae<re&&(re=ae);for(he=0;he<se.length;he++)ae=se[he].val+oe(se[he])/le,ae<ne&&ae>ue&&(ue=ae);var me=(ue-re)/(2*J);s/=me,re=m.l2r(re),ue=m.l2r(ue),m.range=m._input.range=j<Q?[re,ue]:[ue,re]}y(m,s)}}}},H.getAxisGroup=function(T,c){for(var o=T._axisMatchGroups,p=0;p<o.length;p++){var x=o[p];if(x[c])return"g"+p}return c},H.clean=function(T,c){if(c._inputDomain){for(var o=!1,p=c._id,x=T._fullLayout._axisConstraintGroups,b=0;b<x.length;b++)if(x[b][p]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function y(h,T){var c=h._inputDomain,o=r[h.constraintoward],p=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[p+(c[0]-p)/T,p+(c[1]-p)/T],h.setScale()}},51184:function(G,H,e){var g=e(33428),R=e(3400),i=R.numberFormat,C=e(49760),S=e(89184),v=e(24040),d=R.strTranslate,r=e(72736),t=e(76308),a=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),y=e(72760),h=y.selectingOrDrawing,T=y.freeMode,c=e(84284).FROM_TL,o=e(73696),p=e(39172).redrawReglTraces,x=e(7316),b=e(79811).getFromId,P=e(22676).prepSelect,m=e(22676).clearOutline,L=e(22676).selectOnClick,M=e(21160),s=e(33816),E=s.MINDRAG,w=s.MINZOOM,_=!0;function D(ae,he,me,Me,Te,Pe,be,Ee){var xe=ae._fullLayout._zoomlayer,Ce=be+Ee==="nsew",Ue=(be+Ee).length===1,Ne,De,He,at,vt,ot,et,ct,ht,gt,xt,Mt,tt,Oe,Xe,Ze,We,ze,ke,je,Ie,pe,we;me+=he.yaxis._shift;function Ve(){if(Ne=he.xaxis,De=he.yaxis,ht=Ne._length,gt=De._length,et=Ne._offset,ct=De._offset,He={},He[Ne._id]=Ne,at={},at[De._id]=De,be&&Ee)for(var tr=he.overlays,Ft=0;Ft<tr.length;Ft++){var cr=tr[Ft].xaxis;He[cr._id]=cr;var pr=tr[Ft].yaxis;at[pr._id]=pr}vt=se(He),ot=se(at),tt=F(vt,Ee),Oe=F(ot,be),Xe=!Oe&&!tt,Mt=Z(ae,ae._fullLayout._axisMatchGroups,He,at),xt=Z(ae,ae._fullLayout._axisConstraintGroups,He,at,Mt);var br=xt.isSubplotConstrained||Mt.isSubplotConstrained;Ze=Ee||br,We=be||br;var hr=ae._fullLayout;ze=hr._has("scattergl"),ke=hr._has("splom"),je=hr._has("svg")}Ve();var Qe=Q(Oe+tt,ae._fullLayout.dragmode,Ce),it=z(he,be+Ee+"drag",Qe,me,Me,Te,Pe);if(Xe&&!Ce)return it.onmousedown=null,it.style.pointerEvents="none",it;var st={element:it,gd:ae,plotinfo:he};st.prepFn=function(tr,Ft,cr){var pr=st.dragmode,br=ae._fullLayout.dragmode;br!==pr&&(st.dragmode=br),Ve(),pe=ae._fullLayout._invScaleX,we=ae._fullLayout._invScaleY,Xe||(Ce?tr.shiftKey?br==="pan"?br="zoom":h(br)||(br="pan"):tr.ctrlKey&&(br="pan"):br="pan"),T(br)?st.minDrag=1:st.minDrag=void 0,h(br)?(st.xaxes=vt,st.yaxes=ot,P(tr,Ft,cr,st,br)):(st.clickFn=jt,h(pr)&&Wt(),Xe||(br==="zoom"?(st.moveFn=bt,st.doneFn=It,st.minDrag=1,lt(tr,Ft,cr)):br==="pan"&&(st.moveFn=Zt,st.doneFn=zt))),ae._fullLayout._redrag=function(){var hr=ae._dragdata;if(hr&&hr.element===it){var Vr=ae._fullLayout.dragmode;h(Vr)||(Ve(),Dt([0,0,ht,gt]),st.moveFn(hr.dx,hr.dy))}}};function Wt(){st.plotinfo.selection=!1,m(ae)}function jt(tr,Ft){var cr=st.gd;if(cr._fullLayout._activeShapeIndex>=0){cr._fullLayout._deactivateShape(cr);return}var pr=cr._fullLayout.clickmode;if(X(cr),tr===2&&!Ue&&Ge(),Ce)pr.indexOf("select")>-1&&L(Ft,cr,vt,ot,he.id,st),pr.indexOf("event")>-1&&n.click(cr,Ft,he.id);else if(tr===1&&Ue){var br=be?De:Ne,hr=be==="s"||Ee==="w"?0:1,Vr=br._name+".range["+hr+"]",Pr=U(br,hr),Ir="left",sn="middle";if(br.fixedrange)return;be?(sn=be==="n"?"top":"bottom",br.side==="right"&&(Ir="right")):Ee==="e"&&(Ir="right"),cr._context.showAxisRangeEntryBoxes&&g.select(it).call(r.makeEditable,{gd:cr,immediate:!0,background:cr._fullLayout.paper_bgcolor,text:String(Pr),fill:br.tickfont?br.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:sn}).on("edit",function(an){var En=br.d2r(an);En!==void 0&&v.call("_guiRelayout",cr,Vr,En)})}}l.init(st);var Tt,Lt,Xt,Tr,yt,Kt,Jt,yr,ur,mt;function lt(tr,Ft,cr){var pr=it.getBoundingClientRect();Tt=Ft-pr.left,Lt=cr-pr.top,ae._fullLayout._calcInverseTransform(ae);var br=R.apply3DTransform(ae._fullLayout._invTransform)(Tt,Lt);Tt=br[0],Lt=br[1],Xt={l:Tt,r:Tt,w:0,t:Lt,b:Lt,h:0},Tr=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:C(ae._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+ht+"V"+gt+"H0V0",Kt=!1,Jt="xy",mt=!1,yr=ee(xe,Tr,et,ct,yt),ur=re(xe,et,ct)}function bt(tr,Ft){if(ae._transitioningWithDuration)return!1;var cr=Math.max(0,Math.min(ht,pe*tr+Tt)),pr=Math.max(0,Math.min(gt,we*Ft+Lt)),br=Math.abs(cr-Tt),hr=Math.abs(pr-Lt);Xt.l=Math.min(Tt,cr),Xt.r=Math.max(Tt,cr),Xt.t=Math.min(Lt,pr),Xt.b=Math.max(Lt,pr);function Vr(){Jt="",Xt.r=Xt.l,Xt.t=Xt.b,ur.attr("d","M0,0Z")}if(xt.isSubplotConstrained)br>w||hr>w?(Jt="xy",br/ht>hr/gt?(hr=br*gt/ht,Lt>pr?Xt.t=Lt-hr:Xt.b=Lt+hr):(br=hr*ht/gt,Tt>cr?Xt.l=Tt-br:Xt.r=Tt+br),ur.attr("d",le(Xt))):Vr();else if(Mt.isSubplotConstrained)if(br>w||hr>w){Jt="xy";var Pr=Math.min(Xt.l/ht,(gt-Xt.b)/gt),Ir=Math.max(Xt.r/ht,(gt-Xt.t)/gt);Xt.l=Pr*ht,Xt.r=Ir*ht,Xt.b=(1-Pr)*gt,Xt.t=(1-Ir)*gt,ur.attr("d",le(Xt))}else Vr();else!Oe||hr<Math.min(Math.max(br*.6,E),w)?br<E||!tt?Vr():(Xt.t=0,Xt.b=gt,Jt="x",ur.attr("d",Y(Xt,Lt))):!tt||br<Math.min(hr*.6,w)?(Xt.l=0,Xt.r=ht,Jt="y",ur.attr("d",oe(Xt,Tt))):(Jt="xy",ur.attr("d",le(Xt)));Xt.w=Xt.r-Xt.l,Xt.h=Xt.b-Xt.t,Jt&&(mt=!0),ae._dragged=mt,ue(yr,ur,Xt,yt,Kt,Tr),Et(),ae.emit("plotly_relayouting",Ie),Kt=!0}function Et(){Ie={},(Jt==="xy"||Jt==="x")&&(B(vt,Xt.l/ht,Xt.r/ht,Ie,xt.xaxes),vr("x",Ie)),(Jt==="xy"||Jt==="y")&&(B(ot,(gt-Xt.b)/gt,(gt-Xt.t)/gt,Ie,xt.yaxes),vr("y",Ie))}function It(){Et(),X(ae),zt(),ne(ae)}var Ht=[0,0,ht,gt],Ut=null,Bt=s.REDRAWDELAY,$t=he.mainplot?ae._fullLayout._plots[he.mainplot]:he;function fr(tr){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(Wt(),ae._transitioningWithDuration){tr.preventDefault(),tr.stopPropagation();return}Ve(),clearTimeout(Ut);var Ft=-tr.deltaY;if(isFinite(Ft)||(Ft=tr.wheelDelta/10),!isFinite(Ft)){R.log("Did not find wheel motion attributes: ",tr);return}var cr=Math.exp(-Math.min(Math.max(Ft,-20),20)/200),pr=$t.draglayer.select(".nsewdrag").node().getBoundingClientRect(),br=(tr.clientX-pr.left)/pr.width,hr=(pr.bottom-tr.clientY)/pr.height,Vr;function Pr(Ir,sn,an){if(Ir.fixedrange)return;var En=R.simpleMap(Ir.range,Ir.r2l),Mn=En[0]+(En[1]-En[0])*sn;function xr(_r){return Ir.l2r(Mn+(_r-Mn)*an)}Ir.range=En.map(xr)}if(Ze){for(Ee||(br=.5),Vr=0;Vr<vt.length;Vr++)Pr(vt[Vr],br,cr);vr("x"),Ht[2]*=cr,Ht[0]+=Ht[2]*br*(1/cr-1)}if(We){for(be||(hr=.5),Vr=0;Vr<ot.length;Vr++)Pr(ot[Vr],hr,cr);vr("y"),Ht[3]*=cr,Ht[1]+=Ht[3]*(1-hr)*(1/cr-1)}Dt(Ht),Ye(),ae.emit("plotly_relayouting",Ie),Ut=setTimeout(function(){ae._fullLayout&&(Ht=[0,0,ht,gt],zt())},Bt),tr.preventDefault()}be.length*Ee.length!==1&&$(it,fr);function Zt(tr,Ft){if(tr=tr*pe,Ft=Ft*we,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,tt==="ew"||Oe==="ns"){var cr=tt?-tr:0,pr=Oe?-Ft:0;if(Mt.isSubplotConstrained){if(tt&&Oe){var br=(tr/ht-Ft/gt)/2;tr=br*ht,Ft=-br*gt,cr=-tr,pr=-Ft}Oe?cr=-pr*ht/gt:pr=-cr*gt/ht}tt&&(V(vt,tr),vr("x")),Oe&&(V(ot,Ft),vr("y")),Dt([cr,pr,ht,gt]),Ye(),ae.emit("plotly_relayouting",Ie);return}function hr(xr,_r,Yr){for(var zr=1-_r,gn,dn,Rn=0;Rn<xr.length;Rn++){var In=xr[Rn];if(!In.fixedrange){gn=In,dn=In._rl[zr]+(In._rl[_r]-In._rl[zr])/j(Yr/In._length);var Wn=In.l2r(dn);Wn!==!1&&Wn!==void 0&&(In.range[_r]=Wn)}}return gn._length*(gn._rl[_r]-dn)/(gn._rl[_r]-gn._rl[zr])}var Vr=tt==="w"==(Oe==="n")?1:-1;if(tt&&Oe&&(xt.isSubplotConstrained||Mt.isSubplotConstrained)){var Pr=(tr/ht+Vr*Ft/gt)/2;tr=Pr*ht,Ft=Vr*Pr*gt}var Ir,sn;if(tt==="w"?tr=hr(vt,0,tr):tt==="e"?tr=hr(vt,1,-tr):tt||(tr=0),Oe==="n"?Ft=hr(ot,1,Ft):Oe==="s"?Ft=hr(ot,0,-Ft):Oe||(Ft=0),Ir=tt==="w"?tr:0,sn=Oe==="n"?Ft:0,xt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&tt&&Oe&&Vr>0){var an;if(Mt.isSubplotConstrained||!tt&&Oe.length===1){for(an=0;an<vt.length;an++)vt[an].range=vt[an]._r.slice(),M(vt[an],1-Ft/gt);tr=Ft*ht/gt,Ir=tr/2}if(Mt.isSubplotConstrained||!Oe&&tt.length===1){for(an=0;an<ot.length;an++)ot[an].range=ot[an]._r.slice(),M(ot[an],1-tr/ht);Ft=tr*gt/ht,sn=Ft/2}}(!Mt.isSubplotConstrained||!Oe)&&vr("x"),(!Mt.isSubplotConstrained||!tt)&&vr("y");var En=ht-tr,Mn=gt-Ft;Mt.isSubplotConstrained&&!(tt&&Oe)&&(tt?(sn=Ir?0:tr*gt/ht,Mn=En*gt/ht):(Ir=sn?0:Ft*ht/gt,En=Mn*ht/gt)),Dt([Ir,sn,En,Mn]),Ye(),ae.emit("plotly_relayouting",Ie)}function vr(tr,Ft){for(var cr=Mt.isSubplotConstrained?{x:ot,y:vt}[tr]:Mt[tr+"axes"],pr=Mt.isSubplotConstrained?{x:vt,y:ot}[tr]:[],br=0;br<cr.length;br++){var hr=cr[br],Vr=hr._id,Pr=Mt.xLinks[Vr]||Mt.yLinks[Vr],Ir=pr[0]||He[Pr]||at[Pr];Ir&&(Ft?(Ft[hr._name+".range[0]"]=Ft[Ir._name+".range[0]"],Ft[hr._name+".range[1]"]=Ft[Ir._name+".range[1]"]):hr.range=Ir.range.slice())}}function Ye(){var tr=[],Ft;function cr(Vr){for(Ft=0;Ft<Vr.length;Ft++)Vr[Ft].fixedrange||tr.push(Vr[Ft]._id)}function pr(Vr,Pr){for(Ft=0;Ft<Vr.length;Ft++){var Ir=Vr[Ft],sn=Ir[Pr];!Ir.fixedrange&&sn.tickmode==="sync"&&tr.push(sn._id)}}for(Ze&&(cr(vt),cr(xt.xaxes),cr(Mt.xaxes),pr(he.overlays,"xaxis")),We&&(cr(ot),cr(xt.yaxes),cr(Mt.yaxes),pr(he.overlays,"yaxis")),Ie={},Ft=0;Ft<tr.length;Ft++){var br=tr[Ft],hr=b(ae,br);f.drawOne(ae,hr,{skipTitle:!0}),Ie[hr._name+".range[0]"]=hr.range[0],Ie[hr._name+".range[1]"]=hr.range[1]}f.redrawComponents(ae,tr)}function Ge(){if(!ae._transitioningWithDuration){var tr=ae._context.doubleClick,Ft=[];tt&&(Ft=Ft.concat(vt)),Oe&&(Ft=Ft.concat(ot)),Mt.xaxes&&(Ft=Ft.concat(Mt.xaxes)),Mt.yaxes&&(Ft=Ft.concat(Mt.yaxes));var cr={},pr,br;if(tr==="reset+autosize")for(tr="autosize",br=0;br<Ft.length;br++){pr=Ft[br];var hr=pr._rangeInitial0,Vr=pr._rangeInitial1,Pr=hr!==void 0||Vr!==void 0;if(Pr&&(hr!==void 0&&hr!==pr.range[0]||Vr!==void 0&&Vr!==pr.range[1])||!Pr&&pr.autorange!==!0){tr="reset";break}}if(tr==="autosize")for(br=0;br<Ft.length;br++)pr=Ft[br],pr.fixedrange||(cr[pr._name+".autorange"]=!0);else if(tr==="reset"){for((tt||xt.isSubplotConstrained)&&(Ft=Ft.concat(xt.xaxes)),Oe&&!xt.isSubplotConstrained&&(Ft=Ft.concat(xt.yaxes)),xt.isSubplotConstrained&&(tt?Oe||(Ft=Ft.concat(ot)):Ft=Ft.concat(vt)),br=0;br<Ft.length;br++)if(pr=Ft[br],!pr.fixedrange){var Ir=pr._name,sn=pr._autorangeInitial;pr._rangeInitial0===void 0&&pr._rangeInitial1===void 0?cr[Ir+".autorange"]=!0:pr._rangeInitial0===void 0?(cr[Ir+".autorange"]=sn,cr[Ir+".range"]=[null,pr._rangeInitial1]):pr._rangeInitial1===void 0?(cr[Ir+".range"]=[pr._rangeInitial0,null],cr[Ir+".autorange"]=sn):cr[Ir+".range"]=[pr._rangeInitial0,pr._rangeInitial1]}}ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,cr)}}function zt(){Dt([0,0,ht,gt]),R.syncOrAsync([x.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,Ie)}],ae)}function Dt(tr){var Ft=ae._fullLayout,cr=Ft._plots,pr=Ft._subplots.cartesian,br,hr,Vr,Pr;if(ke&&v.subplotsRegistry.splom.drag(ae),ze){for(br=0;br<pr.length;br++)if(hr=cr[pr[br]],Vr=hr.xaxis,Pr=hr.yaxis,hr._scene){var Ir=R.simpleMap(Vr.range,Vr.r2l),sn=R.simpleMap(Pr.range,Pr.r2l);Vr.limitRange&&Vr.limitRange(),Pr.limitRange&&Pr.limitRange(),Ir=Vr.range,sn=Pr.range,hr._scene.update({range:[Ir[0],sn[0],Ir[1],sn[1]]})}}if((ke||ze)&&(o(ae),p(ae)),je){var an=tr[2]/Ne._length,En=tr[3]/De._length;for(br=0;br<pr.length;br++){hr=cr[pr[br]],Vr=hr.xaxis,Pr=hr.yaxis;var Mn=(Ze||Mt.isSubplotConstrained)&&!Vr.fixedrange&&He[Vr._id],xr=(We||Mt.isSubplotConstrained)&&!Pr.fixedrange&&at[Pr._id],_r,Yr,zr,gn;if(Mn?(_r=an,zr=Ee||Mt.isSubplotConstrained?tr[0]:ir(Vr,_r)):Mt.xaHash[Vr._id]?(_r=an,zr=tr[0]*Vr._length/Ne._length):Mt.yaHash[Vr._id]?(_r=En,zr=Oe==="ns"?-tr[1]*Vr._length/De._length:ir(Vr,_r,{n:"top",s:"bottom"}[Oe])):(_r=Qt(Vr,an,En),zr=nr(Vr,_r)),_r>1&&(Vr.maxallowed!==void 0&&Ze===(Vr.range[0]<Vr.range[1]?"e":"w")||Vr.minallowed!==void 0&&Ze===(Vr.range[0]<Vr.range[1]?"w":"e"))&&(_r=1,zr=0),xr?(Yr=En,gn=be||Mt.isSubplotConstrained?tr[1]:ir(Pr,Yr)):Mt.yaHash[Pr._id]?(Yr=En,gn=tr[1]*Pr._length/De._length):Mt.xaHash[Pr._id]?(Yr=an,gn=tt==="ew"?-tr[0]*Pr._length/Ne._length:ir(Pr,Yr,{e:"right",w:"left"}[tt])):(Yr=Qt(Pr,an,En),gn=nr(Pr,Yr)),Yr>1&&(Pr.maxallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"n":"s")||Pr.minallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"s":"n"))&&(Yr=1,gn=0),!(!_r&&!Yr)){_r||(_r=1),Yr||(Yr=1);var dn=Vr._offset-zr/_r,Rn=Pr._offset-gn/Yr;hr.clipRect.call(a.setTranslate,zr,gn).call(a.setScale,_r,Yr),hr.plot.call(a.setTranslate,dn,Rn).call(a.setScale,1/_r,1/Yr),(_r!==hr.xScaleFactor||Yr!==hr.yScaleFactor)&&(a.setPointGroupScale(hr.zoomScalePts,_r,Yr),a.setTextPointsScale(hr.zoomScaleTxt,_r,Yr)),a.hideOutsideRangePoints(hr.clipOnAxisFalseTraces,hr),hr.xScaleFactor=_r,hr.yScaleFactor=Yr}}}}function Qt(tr,Ft,cr){return tr.fixedrange?0:Ze&&xt.xaHash[tr._id]?Ft:We&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[tr._id]?cr:0}function nr(tr,Ft){return Ft?(tr.range=tr._r.slice(),M(tr,Ft),ir(tr,Ft)):0}function ir(tr,Ft,cr){return tr._length*(1-Ft)*c[cr||tr.constraintoward||"middle"]}return it}function N(ae,he,me,Me){var Te=R.ensureSingle(ae.draglayer,he,me,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return Te.call(u,Me),Te.node()}function z(ae,he,me,Me,Te,Pe,be){var Ee=N(ae,"rect",he,me);return g.select(Ee).call(a.setRect,Me,Te,Pe,be),Ee}function F(ae,he){for(var me=0;me<ae.length;me++)if(!ae[me].fixedrange)return he;return""}function U(ae,he){var me=ae.range[he],Me=Math.abs(me-ae.range[1-he]),Te;return ae.type==="date"?me:ae.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(Me)/Math.LN10))+3,i("."+Te+"g")(Math.pow(10,me))):(Te=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(Me)/Math.LN10)+4,i("."+String(Te)+"g")(me))}function B(ae,he,me,Me,Te){for(var Pe=0;Pe<ae.length;Pe++){var be=ae[Pe];if(!be.fixedrange)if(be.rangebreaks){var Ee=be._id.charAt(0)==="y",xe=Ee?1-he:he,Ce=Ee?1-me:me;Me[be._name+".range[0]"]=be.l2r(be.p2l(xe*be._length)),Me[be._name+".range[1]"]=be.l2r(be.p2l(Ce*be._length))}else{var Ue=be._rl[0],Ne=be._rl[1]-Ue;Me[be._name+".range[0]"]=be.l2r(Ue+Ne*he),Me[be._name+".range[1]"]=be.l2r(Ue+Ne*me)}}if(Te&&Te.length){var De=(he+(1-me))/2;B(Te,De,1-De,Me,[])}}function V(ae,he){for(var me=0;me<ae.length;me++){var Me=ae[me];if(!Me.fixedrange){if(Me.rangebreaks){var Te=0,Pe=Me._length,be=Me.p2l(Te+he)-Me.p2l(Te),Ee=Me.p2l(Pe+he)-Me.p2l(Pe),xe=(be+Ee)/2;Me.range=[Me.l2r(Me._rl[0]-xe),Me.l2r(Me._rl[1]-xe)]}else Me.range=[Me.l2r(Me._rl[0]-he/Me._m),Me.l2r(Me._rl[1]-he/Me._m)];Me.limitRange&&Me.limitRange()}}}function j(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function Q(ae,he,me){return ae?ae==="nsew"?me?"":he==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function ee(ae,he,me,Me,Te){return ae.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(me,Me)).attr("d",Te+"Z")}function re(ae,he,me){return ae.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(he,me)).attr("d","M0,0Z")}function ue(ae,he,me,Me,Te,Pe){ae.attr("d",Me+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),J(ae,he,Te,Pe)}function J(ae,he,me,Me){me||(ae.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function X(ae){g.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ne(ae){_&&ae.data&&ae._context.showTips&&(R.notifier(R._(ae,"Double-click to zoom back out"),"long"),_=!1)}function Y(ae,he){return"M"+(ae.l-.5)+","+(he-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(ae.r+.5)+","+(he-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function oe(ae,he){return"M"+(he-w-.5)+","+(ae.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(he-w-.5)+","+(ae.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function le(ae){var he=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,w)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function Z(ae,he,me,Me,Te){for(var Pe=!1,be={},Ee={},xe,Ce,Ue,Ne,De=(Te||{}).xaHash,He=(Te||{}).yaHash,at=0;at<he.length;at++){var vt=he[at];for(xe in me)if(vt[xe]){for(Ue in vt)!(Te&&(De[Ue]||He[Ue]))&&!(Ue.charAt(0)==="x"?me:Me)[Ue]&&(be[Ue]=xe);for(Ce in Me)!(Te&&(De[Ce]||He[Ce]))&&vt[Ce]&&(Pe=!0)}for(Ce in Me)if(vt[Ce])for(Ne in vt)!(Te&&(De[Ne]||He[Ne]))&&!(Ne.charAt(0)==="x"?me:Me)[Ne]&&(Ee[Ne]=Ce)}Pe&&(R.extendFlat(be,Ee),Ee={});var ot={},et=[];for(Ue in be){var ct=b(ae,Ue);et.push(ct),ot[ct._id]=ct}var ht={},gt=[];for(Ne in Ee){var xt=b(ae,Ne);gt.push(xt),ht[xt._id]=xt}return{xaHash:ot,yaHash:ht,xaxes:et,yaxes:gt,xLinks:be,yLinks:Ee,isSubplotConstrained:Pe}}function $(ae,he){if(!S)ae.onwheel!==void 0?ae.onwheel=he:ae.onmousewheel!==void 0?ae.onmousewheel=he:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",he,{passive:!1}));else{var me=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(me,ae._onwheel),ae._onwheel=he,ae.addEventListener(me,he,{passive:!1})}}function se(ae){var he=[];for(var me in ae)he.push(ae[me]);return he}G.exports={makeDragBox:D,makeDragger:N,makeRectDragger:z,makeZoombox:ee,makeCorners:re,updateZoombox:ue,xyCorners:le,transitionZoombox:J,removeZoombox:X,showDoubleClickNotifier:ne,attachWheelEventHandler:$}},42464:function(G,H,e){var g=e(33428),R=e(93024),i=e(86476),C=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;H.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),y=u.split("y");return l[0]===y[0]?Number(l[1]||1)-Number(y[1]||1):Number(l[0]||1)-Number(y[0]||1)}return t._plots[f].mainplot?1:-1});a.forEach(function(f){var u=t._plots[f],l=u.xaxis,y=u.yaxis;if(!u.mainplot){var h=S(r,u,l._offset,y._offset,l._length,y._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&R.hover(r,o,f)},R.hover(r,o,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,i.unhover(r,o))},r._context.showAxisDragHandles&&(S(r,u,l._offset-v,y._offset-v,v,v,"n","w"),S(r,u,l._offset+l._length,y._offset-v,v,v,"n","e"),S(r,u,l._offset-v,y._offset+y._length,v,v,"s","w"),S(r,u,l._offset+l._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),S(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),S(r,u,l._offset,T,l._length*.1,v,"","w"),S(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(f===y._mainSubplot){var c=y._mainLinePosition;y.side!=="right"&&(c-=v),S(r,u,c,y._offset+y._length*.1,v,y._length*.8,"ns",""),S(r,u,c,y._offset+y._length*.9,v,y._length*.1,"s",""),S(r,u,c,y._offset,v,y._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,R.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,R.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},H.updateFx(r)}},H.updateFx=function(d){var r=d._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(G,H,e){var g=e(24040),R=e(3400),i=e(79811);G.exports=function(S){return function(d,r){var t=d[S];if(Array.isArray(t))for(var a=g.subplotsRegistry.cartesian,n=a.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,y=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(R.isPlainObject(c)){var o=i.cleanId(c.xref,"x",!1),p=i.cleanId(c.yref,"y",!1),x=n.x.test(o),b=n.y.test(p);if(x||b){h||R.pushUnique(r._basePlotModules,a);var P=!1;x&&u.indexOf(o)===-1&&(u.push(o),P=!0),b&&l.indexOf(p)===-1&&(l.push(p),P=!0),P&&x&&b&&y.push(o+p)}}}}}},57952:function(G,H,e){var g=e(33428),R=e(24040),i=e(3400),C=e(7316),S=e(43616),v=e(84888)._M,d=e(79811),r=e(33816),t=e(9616),a=i.ensureSingle;function n(T,c,o){return i.ensureSingle(T,c,o,function(p){p.datum(o)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=r.idRegex,H.attrRegex=r.attrRegex,H.attributes=e(26720),H.layoutAttributes=e(94724),H.supplyLayoutDefaults=e(67352),H.transitionAxes=e(73736),H.finalizeSubplots=function(T,c){var o=c._subplots,p=o.xaxis,x=o.yaxis,b=o.cartesian,P=b.concat(o.gl2d||[]),m={},L={},M,s,E;for(M=0;M<P.length;M++){var w=P[M].split("y");m[w[0]]=1,L["y"+w[1]]=1}for(M=0;M<p.length;M++)s=p[M],m[s]||(E=(T[d.id2name(s)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),b.push(s+E),P.push(s+E),L[E]||(L[E]=1,i.pushUnique(x,E)));for(M=0;M<x.length;M++)E=x[M],L[E]||(s=(T[d.id2name(E)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),b.push(s+E),P.push(s+E),m[s]||(m[s]=1,i.pushUnique(p,s)));if(!P.length){s="",E="";for(var _ in T)if(r.attrRegex.test(_)){var D=_.charAt(0);D==="x"?(!s||+_.substr(5)<+s.substr(5))&&(s=_):(!E||+_.substr(5)<+E.substr(5))&&(E=_)}s=s?d.name2id(s):"x",E=E?d.name2id(E):"y",p.push(s),x.push(E),b.push(s+E)}},H.plot=function(T,c,o,p){var x=T._fullLayout,b=x._subplots.cartesian,P=T.calcdata,m;if(!Array.isArray(c))for(c=[],m=0;m<P.length;m++)c.push(m);for(m=0;m<b.length;m++){for(var L=b[m],M=x._plots[L],s=[],E,w=0;w<P.length;w++){var _=P[w],D=_[0].trace;D.xaxis+D.yaxis===L&&((c.indexOf(D.index)!==-1||D.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===L&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&s.indexOf(E)===-1&&s.push(E),s.push(_)),E=_)}f(T,M,s,o,p)}};function f(T,c,o,p,x){for(var b=r.traceLayerClasses,P=T._fullLayout,m=P._modules,L,M,s,E={},w=0;w<o.length;w++){var _=o[w][0].trace,D=_.zorder||0;E[D]||(E[D]=[]),E[D].push(o[w])}for(var N=[],z=[],F=Object.keys(E).map(Number).sort(i.sorterAsc),U=0;U<F.length;U++)for(var B=F[U],V=0;V<m.length;V++){L=m[V];var j=L.name,Q=R.modules[j].categories;if(Q.svg){var ee=L.layerName||j+"layer",re=ee+(U?Number(U)+1:""),ue=L.plot;M=v(o,ue,B),s=M[0],o=M[1],s.length&&N.push({i:b.indexOf(ee),zorder:U,className:re,plotMethod:ue,cdModule:s}),Q.zoomScale&&z.push("."+re)}}N.sort(function(ne,Y){return(ne.zorder||0)-(Y.zorder||0)||ne.i-Y.i});var J=c.plot.selectAll("g.mlayer").data(N,function(ne){return ne.className});if(J.enter().append("g").attr("class",function(ne){return ne.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),J.exit().remove(),J.order(),J.each(function(ne){var Y=g.select(this),oe=ne.className;ne.plotMethod(T,c,ne.cdModule,Y,p,x),r.clipOnAxisFalseQuery.indexOf("."+oe)===-1&&S.setClipUrl(Y,c.layerClipId,T)}),P._has("scattergl")&&(L=R.getModule("scattergl"),s=v(o,L)[0],L.plot(T,c,s)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var X=c.plot.selectAll(z.join(",")).selectAll(".trace");c.zoomScalePts=X.selectAll("path.point"),c.zoomScaleTxt=X.selectAll(".textpoint")}}H.clean=function(T,c,o,p){var x=p._plots||{},b=c._plots||{},P=p._subplots||{},m,L,M;if(p._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(M in x)m=x[M],m.plotgroup&&m.plotgroup.remove();var s=p._has&&p._has("gl"),E=c._has&&c._has("gl");if(s&&!E)for(M in x)m=x[M],m._scene&&m._scene.destroy();if(P.xaxis&&P.yaxis){var w=d.listIds({_fullLayout:p});for(L=0;L<w.length;L++){var _=w[L];c[d.id2name(_)]||p._infolayer.selectAll(".g-"+_+"title").remove()}}var D=p._has&&p._has("cartesian"),N=c._has&&c._has("cartesian");if(D&&!N)y(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(P.cartesian)for(L=0;L<P.cartesian.length;L++){var z=P.cartesian[L];if(!b[z]){var F="."+z+",."+z+"-x,."+z+"-y";p._cartesianlayer.selectAll(F).remove(),h(z,p)}}},H.drawFramework=function(T){var c=T._fullLayout,o=u(T),p=c._cartesianlayer.selectAll(".subplot").data(o,String);p.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),p.order(),p.exit().call(y,c),p.each(function(x){var b=x[0],P=c._plots[b];P.plotgroup=g.select(this),l(T,P),P.draglayer=a(c._draggers,"g",b)})},H.rangePlot=function(T,c,o){l(T,c),f(T,c,o),C.style(T)};function u(T){var c=T._fullLayout,o=c._subplots.cartesian,p=o.length,x,b,P,m,L,M,s=[],E=[];for(x=0;x<p;x++){P=o[x],m=c._plots[P],L=m.xaxis,M=m.yaxis;var w=L._mainAxis,_=M._mainAxis,D=w._id+_._id,N=c._plots[D];m.overlays=[],D!==P&&N?(m.mainplot=D,m.mainplotinfo=N,E.push(P)):(m.mainplot=void 0,m.mainplotinfo=void 0,s.push(P))}for(x=0;x<E.length;x++)P=E[x],m=c._plots[P],m.mainplotinfo.overlays.push(m);var z=s.concat(E),F=new Array(p);for(x=0;x<p;x++){P=z[x],m=c._plots[P],L=m.xaxis,M=m.yaxis;var U=[P,L.layer,M.layer,L.overlaying||"",M.overlaying||""];for(b=0;b<m.overlays.length;b++)U.push(m.overlays[b].id);F[x]=U}return F}function l(T,c){var o=c.plotgroup,p=c.id,x=r.layerValue2layerClass[c.xaxis.layer],b=r.layerValue2layerClass[c.yaxis.layer],P=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var M=c.mainplotinfo,s=M.plotgroup,E=p+"-x",w=p+"-y";c.minorGridlayer=M.minorGridlayer,c.gridlayer=M.gridlayer,c.zerolinelayer=M.zerolinelayer,a(M.overlinesBelow,"path",E),a(M.overlinesBelow,"path",w),a(M.overaxesBelow,"g",E),a(M.overaxesBelow,"g",w),c.plot=a(M.overplot,"g",p),a(M.overlinesAbove,"path",E),a(M.overlinesAbove,"path",w),a(M.overaxesAbove,"g",E),a(M.overaxesAbove,"g",w),c.xlines=s.select(".overlines-"+x).select("."+E),c.ylines=s.select(".overlines-"+b).select("."+w),c.xaxislayer=s.select(".overaxes-"+x).select("."+E),c.yaxislayer=s.select(".overaxes-"+b).select("."+w)}else if(P)c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.xaxislayer=a(o,"g","xaxislayer-above"),c.yaxislayer=a(o,"g","yaxislayer-above");else{var m=a(o,"g","layer-subplot");c.shapelayer=a(m,"g","shapelayer"),c.imagelayer=a(m,"g","imagelayer"),c.minorGridlayer=a(o,"g","minor-gridlayer"),c.gridlayer=a(o,"g","gridlayer"),c.zerolinelayer=a(o,"g","zerolinelayer");var L=a(o,"g","layer-between");c.shapelayerBetween=a(L,"g","shapelayer"),c.imagelayerBetween=a(L,"g","imagelayer"),a(o,"path","xlines-below"),a(o,"path","ylines-below"),c.overlinesBelow=a(o,"g","overlines-below"),a(o,"g","xaxislayer-below"),a(o,"g","yaxislayer-below"),c.overaxesBelow=a(o,"g","overaxes-below"),c.plot=a(o,"g","plot"),c.overplot=a(o,"g","overplot"),c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.overlinesAbove=a(o,"g","overlines-above"),a(o,"g","xaxislayer-above"),a(o,"g","yaxislayer-above"),c.overaxesAbove=a(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+x),c.ylines=o.select(".ylines-"+b),c.xaxislayer=o.select(".xaxislayer-"+x),c.yaxislayer=o.select(".yaxislayer-"+b)}P||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(_){return _[0]}).sort(d.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(_){return _[0]}).sort(d.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function y(T,c){if(T){var o={};T.each(function(L){var M=L[0],s=g.select(this);s.remove(),h(M,c),o[M]=!0});for(var p in c._plots)for(var x=c._plots[p],b=x.overlays||[],P=0;P<b.length;P++){var m=b[P];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}H.toSVG=function(T){var c=T._fullLayout._glimages,o=g.select(T).selectAll(".svg-container"),p=o.filter(function(b,P){return P===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var b=this,P=b.toDataURL("image/png"),m=c.append("svg:image");m.attr({xmlns:t.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:b.style.width,height:b.style.height})}p.each(x)},H.updateFx=e(42464).updateFx},94724:function(G,H,e){var g=e(25376),R=e(22548),i=e(98192).u,C=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,d=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,a=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=C({},n,{values:n.values.slice().concat(["sync"])});function u(L){return{valType:"integer",min:0,dflt:L?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=5),M}function o(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var p={valType:"color",dflt:R.defaultLine,editType:"ticks"},x={valType:"color",dflt:R.lightLine,editType:"ticks"};function b(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var P=C({},i,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:R.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:x,gridwidth:b(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:y,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:p,gridcolor:x,gridwidth:b("minor"),griddash:P,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(G,H,e){var g=e(3400),R=e(76308),i=e(10624).isUnifiedHover,C=e(41008),S=e(31780),v=e(64859),d=e(94724),r=e(14944),t=e(28336),a=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,y=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function o(p,x,b){Array.isArray(p[x])?p[x].push(b):p[x]=[b]}G.exports=function(x,b,P){var m=b.autotypenumbers,L={},M={},s={},E={},w={},_={},D={},N={},z={},F={},U,B;for(U=0;U<P.length;U++){var V=P[U];if(!(!T(V,"cartesian")&&!T(V,"gl2d"))){var j;if(V.xaxis)j=u(V.xaxis),o(L,j,V);else if(V.xaxes)for(B=0;B<V.xaxes.length;B++)o(L,u(V.xaxes[B]),V);var Q;if(V.yaxis)Q=u(V.yaxis),o(L,Q,V);else if(V.yaxes)for(B=0;B<V.yaxes.length;B++)o(L,u(V.yaxes[B]),V);if(V.type==="funnel"?V.orientation==="h"?(j&&(M[j]=!0),Q&&(D[Q]=!0)):Q&&(s[Q]=!0):V.type==="image"?(Q&&(N[Q]=!0),j&&(N[j]=!0)):(Q&&(w[Q]=!0,_[Q]=!0),(!T(V,"carpet")||V.type==="carpet"&&!V._cheater)&&j&&(E[j]=!0)),V.type==="carpet"&&V._cheater&&j&&(M[j]=!0),T(V,"2dMap")&&(z[j]=!0,z[Q]=!0),T(V,"oriented")){var ee=V.orientation==="h"?Q:j;F[ee]=!0}}}var re=b._subplots,ue=re.xaxis,J=re.yaxis,X=g.simpleMap(ue,u),ne=g.simpleMap(J,u),Y=X.concat(ne),oe=R.background;ue.length&&J.length&&(oe=g.coerce(x,b,v,"plot_bgcolor"));var le=R.combine(oe,b.paper_bgcolor),Z,$,se,ae,he;function me(){var pe=L[Z]||[];he._traceIndices=pe.map(function(we){return we._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=Z,he._id=$}function Me(pe,we){return g.coerce(ae,he,d,pe,we)}function Te(pe,we){return g.coerce2(ae,he,d,pe,we)}function Pe(pe){return pe==="x"?J:ue}function be(pe,we){for(var Ve=pe==="x"?X:ne,Qe=[],it=0;it<Ve.length;it++){var st=Ve[it];st!==we&&!(x[st]||{}).overlaying&&Qe.push(l(st))}return Qe}var Ee={x:Pe("x"),y:Pe("y")},xe=Ee.x.concat(Ee.y),Ce={},Ue=[];function Ne(){var pe=ae.matches;y.test(pe)&&xe.indexOf(pe)===-1&&(Ce[pe]=ae.type,Ue=Object.keys(Ce))}var De=C(x,b),He=i(De);for(U=0;U<Y.length;U++){Z=Y[U],$=l(Z),se=Z.charAt(0),g.isPlainObject(x[Z])||(x[Z]={}),ae=x[Z],he=S.newContainer(b,Z,se+"axis"),me();var at=se==="x"&&!E[Z]&&M[Z]||se==="y"&&!w[Z]&&s[Z],vt=se==="y"&&(!_[Z]&&D[Z]||N[Z]),ot={hasMinor:!0,letter:se,font:b.font,outerTicks:z[Z],showGrid:!F[Z],data:L[Z]||[],bgColor:le,calendar:b.calendar,automargin:!0,visibleDflt:at,reverseDflt:vt,autotypenumbersDflt:m,splomStash:((b._splomAxes||{})[se]||{})[$],noAutotickangles:se==="y"};Me("uirevision",b.uirevision),r(ae,he,Me,ot),t(ae,he,Me,ot,b);var et=He&&se===De.charAt(0),ct=Te("spikecolor",He?he.color:void 0),ht=Te("spikethickness",He?1.5:void 0),gt=Te("spikedash",He?"dot":void 0),xt=Te("spikemode",He?"across":void 0),Mt=Te("spikesnap"),tt=Me("showspikes",!!et||!!ct||!!ht||!!gt||!!xt||!!Mt);tt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Oe=u(ae.overlaying),Xe=[0,1];if(b[Oe]!==void 0){var Ze=u(b[Oe].anchor);b[Ze]!==void 0&&(Xe=b[Ze].domain)}n(ae,he,Me,{letter:se,counterAxes:Ee[se],overlayableAxes:be(se,Z),grid:b.grid,overlayingDomain:Xe}),Me("title.standoff"),Ne(),he._input=ae}for(U=0;U<Ue.length;){$=Ue[U++],Z=u($),se=Z.charAt(0),g.isPlainObject(x[Z])||(x[Z]={}),ae=x[Z],he=S.newContainer(b,Z,se+"axis"),me();var We={letter:se,font:b.font,outerTicks:z[Z],showGrid:!F[Z],data:[],bgColor:le,calendar:b.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((b._splomAxes||{})[se]||{})[$]};Me("uirevision",b.uirevision),he.type=Ce[$]||"linear",t(ae,he,Me,We,b),n(ae,he,Me,{letter:se,counterAxes:Ee[se],overlayableAxes:be(se,Z),grid:b.grid}),Me("fixedrange"),Ne(),he._input=ae}var ze=c("rangeslider","handleDefaults"),ke=c("rangeselector","handleDefaults");for(U=0;U<X.length;U++)Z=X[U],ae=x[Z],he=b[Z],ze(x,b,Z),he.type==="date"&&ke(ae,he,b,ne,he.calendar),Me("fixedrange");for(U=0;U<ne.length;U++){Z=ne[U],ae=x[Z],he=b[Z];var je=b[u(he.anchor)],Ie=c("rangeslider","isVisible")(je);Me("fixedrange",Ie)}a.handleDefaults(x,b,{axIds:xe.concat(Ue).sort(f.idSort),axHasImage:N})}},42136:function(G,H,e){var g=e(49760).mix,R=e(22548),i=e(3400);G.exports=function(S,v,d,r){r=r||{};var t=r.dfltColor;function a(s,E){return i.coerce2(S,v,r.attributes,s,E)}var n=a("linecolor",t),f=a("linewidth"),u=d("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=g(t,r.bgColor,r.blend||R.lightFraction).toRgbString(),y=a("gridcolor",l),h=a("gridwidth"),T=a("griddash"),c=d("showgrid",r.showGrid||!!y||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=g(v.gridcolor,r.bgColor,67).toRgbString(),p=a("minor.gridcolor",o),x=a("minor.gridwidth",v.gridwidth||1),b=a("minor.griddash",v.griddash||"solid"),P=d("minor.showgrid",!!p||!!x||!!b);P||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=a("zerolinecolor",t),L=a("zerolinewidth"),M=d("zeroline",r.showGrid||!!m||!!L);M||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,H,e){var g=e(38248),R=e(3400);G.exports=function(C,S,v,d){var r=d.counterAxes||[],t=d.overlayableAxes||[],a=d.letter,n=d.grid,f=d.overlayingDomain,u,l,y,h,T,c;n&&(l=n._domains[a][n._axisMap[S._id]],u=n._anchors[S._id],l&&(y=n[a+"side"].split(" ")[0],h=n.domain[a][y==="right"||y==="top"?1:0])),l=l||[0,1],u=u||(g(C.position)?"free":r[0]||"free"),y=y||(a==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var o=R.coerce(C,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),p=R.coerce(C,S,{side:{valType:"enumerated",values:a==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(o==="free"){if(a==="y"){var x=v("autoshift");x&&(h=p==="left"?f[0]:f[1],c=S.automargin?S.automargin:!0,T=p==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var b=!1;if(t.length&&(b=R.coerce(C,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!b){var P=v("domain",l);P[0]>P[1]-.000244140625&&(S.domain=l),R.noneOrAll(C.domain,S.domain,l),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(G,H,e){var g=e(85024);G.exports=function(i,C,S,v,d){d||(d={});var r=d.tickSuffixDflt,t=g(i),a=S("tickprefix");a&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(G,H,e){var g=e(76808);G.exports=function(i,C,S,v){var d=C._template||{},r=C.type||d.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var a;!v.noInsiderange&&r!=="log"&&(a=S("insiderange"),a&&(a[0]===null||a[1]===null)&&(C.insiderange=!1,a=void 0),a&&(t=S("range",a)))}var n=C.getAutorangeDflt(t,v),f=S("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(n=C.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(g(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),C.cleanRange()}},21160:function(G,H,e){var g=e(84284).FROM_BL;G.exports=function(i,C,S){S===void 0&&(S=g[i.constraintoward||"center"]);var v=[i.r2l(i.range[0]),i.r2l(i.range[1])],d=v[0]+(v[1]-v[0])*S;i.range=i._input.range=[i.l2r(d+(v[0]-d)*C),i.l2r(d+(v[1]-d)*C)],i.setScale()}},78344:function(G,H,e){var g=e(33428),R=e(94336).E9,i=e(3400),C=i.numberFormat,S=e(38248),v=i.cleanNumber,d=i.ms2DateTime,r=i.dateTime2ms,t=i.ensureNumber,a=i.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,y=n.ONEWEEK,h=n.ONEDAY,T=n.ONEHOUR,c=n.ONEMIN,o=n.ONESEC,p=e(79811),x=e(33816),b=x.HOUR_PATTERN,P=x.WEEKDAY_PATTERN;function m(M){return Math.pow(10,M)}function L(M){return M!=null}G.exports=function(s,E){E=E||{};var w=s._id||"x",_=w.charAt(0);function D(Y,oe){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&oe&&s.range&&s.range.length===2){var le=s.range[0],Z=s.range[1];return .5*(le+Z-2*l*Math.abs(le-Z))}else return u}function N(Y,oe,le,Z){if((Z||{}).msUTC&&S(Y))return+Y;var $=r(Y,le||s.calendar);if($===u)if(S(Y)){Y=+Y;var se=Math.floor(i.mod(Y+.05,1)*10),ae=Math.round(Y-se/10);$=r(new Date(ae))+se/10}else return u;return $}function z(Y,oe,le){return d(Y,oe,le||s.calendar)}function F(Y){return s._categories[Math.round(Y)]}function U(Y){if(L(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var oe=s._categories.length-1;return s._categoriesMap[Y]=oe,oe}return u}function B(Y,oe){for(var le=new Array(oe),Z=0;Z<oe;Z++){var $=(Y[0]||[])[Z],se=(Y[1]||[])[Z];le[Z]=V([$,se])}return le}function V(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function j(Y){var oe=V(Y);if(oe!==void 0)return oe;if(S(Y))return+Y}function Q(Y){return S(Y)?+Y:V(Y)}function ee(Y,oe,le){return g.round(le+oe*Y,2)}function re(Y,oe,le){return(Y-le)/oe}var ue=function(oe){return S(oe)?ee(oe,s._m,s._b):u},J=function(Y){return re(Y,s._m,s._b)};if(s.rangebreaks){var X=_==="y";ue=function(Y){if(!S(Y))return u;var oe=s._rangebreaks.length;if(!oe)return ee(Y,s._m,s._b);var le=X;s.range[0]>s.range[1]&&(le=!le);for(var Z=le?-1:1,$=Z*Y,se=0,ae=0;ae<oe;ae++){var he=Z*s._rangebreaks[ae].min,me=Z*s._rangebreaks[ae].max;if($<he)break;if($>me)se=ae+1;else{se=$<(he+me)/2?ae:ae+1;break}}var Me=s._B[se]||0;return isFinite(Me)?ee(Y,s._m2,Me):0},J=function(Y){var oe=s._rangebreaks.length;if(!oe)return re(Y,s._m,s._b);for(var le=0,Z=0;Z<oe&&!(Y<s._rangebreaks[Z].pmin);Z++)Y>s._rangebreaks[Z].pmax&&(le=Z+1);return re(Y,s._m2,s._B[le])}}s.c2l=s.type==="log"?D:t,s.l2c=s.type==="log"?m:t,s.l2p=ue,s.p2l=J,s.c2p=s.type==="log"?function(Y,oe){return ue(D(Y,oe))}:ue,s.p2c=s.type==="log"?function(Y){return m(J(Y))}:J,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=J,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,oe){return D(v(Y),oe)},s.r2d=s.r2c=function(Y){return m(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=D,s.l2d=m,s.d2p=function(Y,oe){return s.l2p(s.d2r(Y,oe))},s.p2d=function(Y){return m(J(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=J,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=i.identity,s.d2c=s.r2c=s.d2l=s.r2l=N,s.c2d=s.c2r=s.l2d=s.l2r=z,s.d2p=s.r2p=function(Y,oe,le){return s.l2p(N(Y,0,le))},s.p2d=s.p2r=function(Y,oe,le){return z(J(Y),oe,le)},s.cleanPos=function(Y){return i.cleanDate(Y,u,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=U,s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=j,s.r2c=function(Y){var oe=Q(Y);return oe!==void 0?oe:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=Q,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=j,s.r2c=function(Y){var oe=j(Y);return oe!==void 0?oe:s.fraction2r(.5)},s.r2c_just_indices=V,s.l2r=s.c2r=t,s.r2l=j,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var oe=s._traceIndices,le,Z,$=s._matchGroup;if($&&s._categories.length===0){for(var se in $)if(se!==w){var ae=E[p.id2name(se)];oe=oe.concat(ae._traceIndices)}}var he=[[0,{}],[0,{}]],me=[];for(le=0;le<oe.length;le++){var Me=Y[oe[le]];if(_ in Me){var Te=Me[_],Pe=Me._length||i.minRowLength(Te);if(a(Te[0])&&a(Te[1]))for(Z=0;Z<Pe;Z++){var be=Te[0][Z],Ee=Te[1][Z];L(be)&&L(Ee)&&(me.push([be,Ee]),be in he[0][1]||(he[0][1][be]=he[0][0]++),Ee in he[1][1]||(he[1][1][Ee]=he[1][0]++))}}}for(me.sort(function(xe,Ce){var Ue=he[0][1],Ne=Ue[xe[0]]-Ue[Ce[0]];if(Ne)return Ne;var De=he[1][1];return De[xe[1]]-De[Ce[1]]}),le=0;le<me.length;le++)U(me[le])}),s.fraction2r=function(Y){var oe=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return s.l2r(oe+Y*(le-oe))},s.r2fraction=function(Y){var oe=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return(s.r2l(Y)-oe)/(le-oe)},s.limitRange=function(Y){var oe=s.minallowed,le=s.maxallowed;if(!(oe===void 0&&le===void 0)){Y||(Y="range");var Z=i.nestedProperty(s,Y).get(),$=i.simpleMap(Z,s.r2l),se=$[1]<$[0];se&&$.reverse();var ae=i.simpleMap([oe,le],s.r2l);if(oe!==void 0&&$[0]<ae[0]&&(Z[se?1:0]=oe),le!==void 0&&$[1]>ae[1]&&(Z[se?0:1]=le),Z[0]===Z[1]){var he=s.l2r(oe),me=s.l2r(le);if(oe!==void 0){var Me=he+1;le!==void 0&&(Me=Math.min(Me,me)),Z[se?1:0]=Me}if(le!==void 0){var Te=me+1;oe!==void 0&&(Te=Math.max(Te,he)),Z[se?0:1]=Te}}}},s.cleanRange=function(Y,oe){s._cleanRange(Y,oe),s.limitRange(Y)},s._cleanRange=function(Y,oe){oe||(oe={}),Y||(Y="range");var le=i.nestedProperty(s,Y).get(),Z,$;if(s.type==="date"?$=i.dfltRange(s.calendar):_==="y"?$=x.DFLTRANGEY:s._name==="realaxis"?$=[0,1]:$=oe.dfltRange||x.DFLTRANGEX,$=$.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&($[0]=0),!le||le.length!==2){i.nestedProperty(s,Y).set($);return}var se=le[0]===null,ae=le[1]===null;for(s.type==="date"&&!s.autorange&&(le[0]=i.cleanDate(le[0],u,s.calendar),le[1]=i.cleanDate(le[1],u,s.calendar)),Z=0;Z<2;Z++)if(s.type==="date"){if(!i.isDateTime(le[Z],s.calendar)){s[Y]=$;break}if(s.r2l(le[0])===s.r2l(le[1])){var he=i.constrain(s.r2l(le[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);le[0]=s.l2r(he-1e3),le[1]=s.l2r(he+1e3);break}}else{if(!S(le[Z]))if(!(se||ae)&&S(le[1-Z]))le[Z]=le[1-Z]*(Z?10:.1);else{s[Y]=$;break}if(le[Z]<-f?le[Z]=-f:le[Z]>f&&(le[Z]=f),le[0]===le[1]){var me=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=me,le[1]+=me}}},s.setScale=function(Y){var oe=E._size;if(s.overlaying){var le=p.getFromId({_fullLayout:E},s.overlaying);s.domain=le.domain}var Z=Y&&s._r?"_r":"range",$=s.calendar;s.cleanRange(Z);var se=s.r2l(s[Z][0],$),ae=s.r2l(s[Z][1],$),he=_==="y";if(he?(s._offset=oe.t+(1-s.domain[1])*oe.h,s._length=oe.h*(s.domain[1]-s.domain[0]),s._m=s._length/(se-ae),s._b=-s._m*ae):(s._offset=oe.l+s.domain[0]*oe.w,s._length=oe.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ae-se),s._b=-s._m*se),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var me,Me;if(s._rangebreaks=s.locateBreaks(Math.min(se,ae),Math.max(se,ae)),s._rangebreaks.length){for(me=0;me<s._rangebreaks.length;me++)Me=s._rangebreaks[me],s._lBreaks+=Math.abs(Me.max-Me.min);var Te=he;se>ae&&(Te=!Te),Te&&s._rangebreaks.reverse();var Pe=Te?-1:1;for(s._m2=Pe*s._length/(Math.abs(ae-se)-s._lBreaks),s._B.push(-s._m2*(he?ae:se)),me=0;me<s._rangebreaks.length;me++)Me=s._rangebreaks[me],s._B.push(s._B[s._B.length-1]-Pe*s._m2*(Me.max-Me.min));for(me=0;me<s._rangebreaks.length;me++)Me=s._rangebreaks[me],Me.pmin=ue(Me.min),Me.pmax=ue(Me.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var oe=s.rangebreaks||[],le,Z,$,se,ae;oe._cachedPatterns||(oe._cachedPatterns=oe.map(function(Ue){return Ue.enabled&&Ue.bounds?i.simpleMap(Ue.bounds,Ue.pattern?v:s.d2c):null})),oe._cachedValues||(oe._cachedValues=oe.map(function(Ue){return Ue.enabled&&Ue.values?i.simpleMap(Ue.values,s.d2c).sort(i.sorterAsc):null}));for(var he=0;he<oe.length;he++){var me=oe[he];if(me.enabled){if(me.bounds){var Me=me.pattern;switch(le=oe._cachedPatterns[he],Z=le[0],$=le[1],Me){case P:ae=new Date(Y),se=ae.getUTCDay(),Z>$&&($+=7,se<Z&&(se+=7));break;case b:ae=new Date(Y);var Te=ae.getUTCHours(),Pe=ae.getUTCMinutes(),be=ae.getUTCSeconds(),Ee=ae.getUTCMilliseconds();se=Te+(Pe/60+be/3600+Ee/36e5),Z>$&&($+=24,se<Z&&(se+=24));break;case"":se=Y;break}if(se>=Z&&se<$)return u}else for(var xe=oe._cachedValues[he],Ce=0;Ce<xe.length;Ce++)if(Z=xe[Ce],$=Z+me.dvalue,Y>=Z&&Y<$)return u}}return Y},s.locateBreaks=function(Y,oe){var le,Z,$,se,ae=[];if(!s.rangebreaks)return ae;var he=s.rangebreaks.slice().sort(function(De,He){return De.pattern===P&&He.pattern===b?-1:He.pattern===P&&De.pattern===b?1:0}),me=function(De,He){if(De=i.constrain(De,Y,oe),He=i.constrain(He,Y,oe),De!==He){for(var at=!0,vt=0;vt<ae.length;vt++){var ot=ae[vt];De<ot.max&&He>=ot.min&&(De<ot.min&&(ot.min=De),He>ot.max&&(ot.max=He),at=!1)}at&&ae.push({min:De,max:He})}};for(le=0;le<he.length;le++){var Me=he[le];if(Me.enabled)if(Me.bounds){var Te=Y,Pe=oe;Me.pattern&&(Te=Math.floor(Te)),Z=i.simpleMap(Me.bounds,Me.pattern?v:s.r2l),$=Z[0],se=Z[1];var be=new Date(Te),Ee,xe;switch(Me.pattern){case P:xe=y,Ee=((se<$?7:0)+(se-$))*h,Te+=$*h-(be.getUTCDay()*h+be.getUTCHours()*T+be.getUTCMinutes()*c+be.getUTCSeconds()*o+be.getUTCMilliseconds());break;case b:xe=h,Ee=((se<$?24:0)+(se-$))*T,Te+=$*T-(be.getUTCHours()*T+be.getUTCMinutes()*c+be.getUTCSeconds()*o+be.getUTCMilliseconds());break;default:Te=Math.min(Z[0],Z[1]),Pe=Math.max(Z[0],Z[1]),xe=Pe-Te,Ee=xe}for(var Ce=Te;Ce<Pe;Ce+=xe)me(Ce,Ce+Ee)}else for(var Ue=i.simpleMap(Me.values,s.d2c),Ne=0;Ne<Ue.length;Ne++)$=Ue[Ne],se=$+Me.dvalue,me($,se)}return ae.sort(function(De,He){return De.min-He.min}),ae},s.makeCalcdata=function(Y,oe,le){var Z,$,se,ae,he=s.type,me=he==="date"&&Y[oe+"calendar"];if(oe in Y){if(Z=Y[oe],ae=Y._length||i.minRowLength(Z),i.isTypedArray(Z)&&(he==="linear"||he==="log")){if(ae===Z.length)return Z;if(Z.subarray)return Z.subarray(0,ae)}if(he==="multicategory")return B(Z,ae);for($=new Array(ae),se=0;se<ae;se++)$[se]=s.d2c(Z[se],0,me,le)}else{var Me=oe+"0"in Y?s.d2c(Y[oe+"0"],0,me):0,Te=Y["d"+oe]?Number(Y["d"+oe]):1;for(Z=Y[{x:"y",y:"x"}[oe]],ae=Y._length||Z.length,$=new Array(ae),se=0;se<ae;se++)$[se]=Me+se*Te}if(s.rangebreaks)for(se=0;se<ae;se++)$[se]=s.maskBreaks($[se]);return $},s.isValidRange=function(Y,oe){return Array.isArray(Y)&&Y.length===2&&(oe&&Y[0]===null||S(s.r2l(Y[0])))&&(oe&&Y[1]===null||S(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,oe){var le=!s.isValidRange(Y,"nullOk");return le&&oe&&oe.reverseDflt?le="reversed":Y&&(Y[0]===null&&Y[1]===null?le=!0:Y[0]===null&&Y[1]!==null?le="min":Y[0]!==null&&Y[1]===null&&(le="max")),le},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,oe){var le=s.c2l(Y[_],null,oe),Z=s.r2l(s.range[0]),$=s.r2l(s.range[1]);return Z<$?Z<=le&&le<=$:$<=le&&le<=Z},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var oe=null,le=null;for(var Z in Y){var $=E[p.id2name(Z)];if($._categories){oe=$._categories,le=$._categoriesMap;break}}oe&&le?(s._categories=oe,s._categoriesMap=le):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var se=0;se<s._initialCategories.length;se++)U(s._initialCategories[se])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var oe=0;oe<s._initialCategories.length;oe++)U(s._initialCategories[oe]);Y=Y.concat(s._traceIndices);var le=s._matchGroup;for(var Z in le)if(w!==Z){var $=E[p.id2name(Z)];$._categories=s._categories,$._categoriesMap=s._categoriesMap,Y=Y.concat($._traceIndices)}return Y};var ne=E._d3locale;s.type==="date"&&(s._dateFormat=ne?ne.timeFormat:R,s._extraFormat=E._extraFormat),s._separators=E.separators,s._numFormat=ne?ne.numberFormat:C,delete s._minDtick,delete s._forceTick0}},85024:function(G){G.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],R=g.filter(function(C){return e[C]!==void 0}),i=function(C){return e[C]===e[R[0]]};if(R.every(i)||R.length===1)return e[R[0]]}},95936:function(G,H,e){var g=e(3400),R=e(76308).contrast,i=e(94724),C=e(85024),S=e(51272);G.exports=function(r,t,a,n,f){f||(f={});var u=a("labelalias");g.isPlainObject(u)||delete t.labelalias;var l=C(r),y=a("showticklabels");if(y){var h=f.font||{},T=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?R(f.bgColor):T&&T!==i.color.dflt?T:h.color;if(g.coerceFont(a,"tickfont",{family:h.family,weight:h.weight,style:h.style,variant:h.variant,size:h.size,color:o}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!f.noAng){var p=a("tickangle");!f.noAutotickangles&&p==="auto"&&a("autotickangles")}if(n!=="category"){var x=a("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!x&&n!=="date"&&(a("showexponent",l),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function v(d,r){function t(n,f){return g.coerce(d,r,i.tickformatstops,n,f)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}},25404:function(G,H,e){var g=e(3400),R=e(94724);G.exports=function(C,S,v,d){var r=d.isMinor,t=r?C.minor||{}:C,a=r?S.minor:S,n=r?R.minor:R,f=r?"minor.":"",u=g.coerce2(t,a,n,"ticklen",r?(S.ticklen||5)*.6:void 0),l=g.coerce2(t,a,n,"tickwidth",r?S.tickwidth||1:void 0),y=g.coerce2(t,a,n,"tickcolor",(r?S.tickcolor:void 0)||a.color),h=v(f+"ticks",!r&&d.outerTicks||u||l||y?"outside":"");h||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(G,H,e){var g=e(98728),R=e(3400).isArrayOrTypedArray,i=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;G.exports=function(v,d,r,t,a){a||(a={});var n=a.isMinor,f=n?v.minor||{}:v,u=n?d.minor:d,l=n?"minor.":"";function y(P){var m=f[P];return i(m)&&(m=C(m)),m!==void 0?m:(u._template||{})[P]}var h=y("tick0"),T=y("dtick"),c=y("tickvals"),o=R(c)?"array":T?"linear":"auto",p=r(l+"tickmode",o);if(p==="auto"||p==="sync")r(l+"nticks");else if(p==="linear"){var x=u.dtick=g.dtick(T,t);u.tick0=g.tick0(h,t,d.calendar,x)}else if(t!=="multicategory"){var b=r(l+"tickvals");b===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(G,H,e){var g=e(33428),R=e(24040),i=e(3400),C=e(43616),S=e(54460);G.exports=function(d,r,t,a){var n=d._fullLayout;if(r.length===0){S.redrawComponents(d);return}function f(b){var P=b.xaxis,m=b.yaxis;n._defs.select("#"+b.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),b.plot.call(C.setTranslate,P._offset,m._offset).call(C.setScale,1,1);var L=b.plot.selectAll(".scatterlayer .trace");L.selectAll(".point").call(C.setPointGroupScale,1,1),L.selectAll(".textpoint").call(C.setTextPointsScale,1,1),L.call(C.hideOutsideRangePoints,b)}function u(b,P){var m=b.plotinfo,L=m.xaxis,M=m.yaxis,s=L._length,E=M._length,w=!!b.xr1,_=!!b.yr1,D=[];if(w){var N=i.simpleMap(b.xr0,L.r2l),z=i.simpleMap(b.xr1,L.r2l),F=N[1]-N[0],U=z[1]-z[0];D[0]=(N[0]*(1-P)+P*z[0]-N[0])/(N[1]-N[0])*s,D[2]=s*(1-P+P*U/F),L.range[0]=L.l2r(N[0]*(1-P)+P*z[0]),L.range[1]=L.l2r(N[1]*(1-P)+P*z[1])}else D[0]=0,D[2]=s;if(_){var B=i.simpleMap(b.yr0,M.r2l),V=i.simpleMap(b.yr1,M.r2l),j=B[1]-B[0],Q=V[1]-V[0];D[1]=(B[1]*(1-P)+P*V[1]-B[1])/(B[0]-B[1])*E,D[3]=E*(1-P+P*Q/j),M.range[0]=L.l2r(B[0]*(1-P)+P*V[0]),M.range[1]=M.l2r(B[1]*(1-P)+P*V[1])}else D[1]=0,D[3]=E;S.drawOne(d,L,{skipTitle:!0}),S.drawOne(d,M,{skipTitle:!0}),S.redrawComponents(d,[L._id,M._id]);var ee=w?s/D[2]:1,re=_?E/D[3]:1,ue=w?D[0]:0,J=_?D[1]:0,X=w?D[0]/D[2]*s:0,ne=_?D[1]/D[3]*E:0,Y=L._offset-X,oe=M._offset-ne;m.clipRect.call(C.setTranslate,ue,J).call(C.setScale,1/ee,1/re),m.plot.call(C.setTranslate,Y,oe).call(C.setScale,ee,re),C.setPointGroupScale(m.zoomScalePts,1/ee,1/re),C.setTextPointsScale(m.zoomScaleTxt,1/ee,1/re)}var l;a&&(l=a());function y(){for(var b={},P=0;P<r.length;P++){var m=r[P],L=m.plotinfo.xaxis,M=m.plotinfo.yaxis;m.xr1&&(b[L._name+".range"]=m.xr1.slice()),m.yr1&&(b[M._name+".range"]=m.yr1.slice())}return l&&l(),R.call("relayout",d,b).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}function h(){for(var b={},P=0;P<r.length;P++){var m=r[P],L=m.plotinfo.xaxis,M=m.plotinfo.yaxis;m.xr0&&(b[L._name+".range"]=m.xr0.slice()),m.yr0&&(b[M._name+".range"]=m.yr0.slice())}return R.call("relayout",d,b).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}var T,c,o,p=g.ease(t.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function x(){c=Date.now();for(var b=Math.min(1,(c-T)/t.duration),P=p(b),m=0;m<r.length;m++)u(r[m],P);c-T>t.duration?(y(),o=window.cancelAnimationFrame(x)):o=window.requestAnimationFrame(x)}return T=Date.now(),o=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(G,H,e){var g=e(24040).traceIs,R=e(52976);G.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var f=a("type",(n.splomStash||{}).type);f==="-"&&(i(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function i(d,r){if(d.type==="-"){var t=d._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var f=C(r,t,a);if(f){if(f.type==="histogram"&&a==={v:"y",h:"x"}[f.orientation||"v"]){d.type="linear";return}var u=a+"calendar",l=f[u],y={noMultiCategory:!g(f,"cartesian")||g(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&a==={h:"x",v:"y"}[f.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=d.autotypenumbers,v(f,a)){var h=S(f),T=[];for(n=0;n<r.length;n++){var c=r[n];!g(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[u]!==l&&(l=void 0))}d.type=R(T,l,y)}else if(f.type==="splom"){var o=f.dimensions,p=o[f._axesDim[t]];p.visible&&(d.type=R(p.values,l,y))}else d.type=R(f[a]||[f[a+"0"]],l,y)}}}function C(d,r,t){for(var a=0;a<d.length;a++){var n=d[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(d){return{v:"x",h:"y"}[d.orientation||"v"]}function v(d,r){var t=S(d),a=g(d,"box-violin"),n=g(d._fullInput||{},"candlestick");return a&&!n&&r===t&&d[t]===void 0&&d[t+"0"]===void 0}},62460:function(G,H,e){var g=e(24040),R=e(3400);H.manageCommandObserver=function(r,t,a,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=H.hasSimpleAPICommandBindings(r,a,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){i(r,l,f.cache),f.check=function(){if(u){var c=i(r,l,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<y.length;h++)r._internalOn(y[h],f.check);f.remove=function(){for(var T=0;T<y.length;T++)r._removeInternalListener(y[T],f.check)}}else R.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},H.hasSimpleAPICommandBindings=function(r,t,a){var n,f=t.length,u;for(n=0;n<f;n++){var l,y=t[n],h=y.method,T=y.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=H.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<u.traces.length;o++)if(u.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var p=l.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;a&&(a[p]=n)}return u};function i(r,t,a){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=R.nestedProperty(n,t.prop).get(),u=a[t.type]=a[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}H.executeAPICommand=function(r,t,a){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],f=[r];Array.isArray(a)||(a=[]);for(var u=0;u<a.length;u++)f.push(a[u]);return n.apply(null,f).catch(function(l){return R.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},H.computeAPICommandBindings=function(r,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(r,a);break;case"relayout":n=S(r,a);break;case"update":n=v(r,[a[0],a[2]]).concat(S(r,[a[1]]));break;case"animate":n=C(r,a);break;default:n=[]}return n};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var a=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(R.isPlainObject(n))f=n;else return a;return d(f,function(u,l,y){a.push({type:"layout",prop:u,value:y})},"",0),a}function v(r,t){var a,n,f,u,l=[];if(n=t[0],f=t[1],a=t[2],u={},typeof n=="string")u[n]=f;else if(R.isPlainObject(n))u=n,a===void 0&&(a=f);else return l;return a===void 0&&(a=null),d(u,function(y,h,T){var c,o;if(Array.isArray(T)){o=T.slice();var p=Math.min(o.length,r.data.length);a&&(p=Math.min(p,a.length)),c=[];for(var x=0;x<p;x++)c[x]=a?a[x]:x}else o=T,c=a?a.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var b=o;o=[];for(var P=0;P<c.length;P++)o[P]=b}o.length=Math.min(c.length,o.length)}l.push({type:"data",prop:y,traces:c,value:o})},"",0),l}function d(r,t,a,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=a+(n>0?".":"")+f;R.isPlainObject(u)?d(u,t,l,n+1):t(l,f,u)}})}},86968:function(G,H,e){var g=e(92880).extendFlat;H.u=function(R,i){R=R||{},i=i||{};var C={valType:"info_array",editType:R.editType,items:[{valType:"number",min:0,max:1,editType:R.editType},{valType:"number",min:0,max:1,editType:R.editType}],dflt:[0,1]};R.name&&R.name+"",R.trace,i.description&&""+i.description;var S={x:g({},C,{}),y:g({},C,{}),editType:R.editType};return R.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:R.editType},S.column={valType:"integer",min:0,dflt:0,editType:R.editType}),S},H.Q=function(R,i,C,S){var v=S&&S.x||[0,1],d=S&&S.y||[0,1],r=i.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete R.domain.column);var a=C("domain.row");a!==void 0&&(a<r.rows?d=r._domains.y[a]:delete R.domain.row)}var n=C("domain.x",v),f=C("domain.y",d);n[0]<n[1]||(R.domain.x=v.slice()),f[0]<f[1]||(R.domain.y=d.slice())}},25376:function(G){G.exports=function(H){var e=H.variantValues,g=H.editType,R=H.colorEditType;R===void 0&&(R=g);var i={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:R},weight:{editType:g,valType:"enumerated",values:["normal","bold"],dflt:"normal"},style:{editType:g,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:H.noFontVariant?void 0:{editType:g,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},editType:g};return H.autoSize&&(i.size.dflt="auto"),H.autoColor&&(i.color.dflt="auto"),H.arrayOk&&(i.family.arrayOk=!0,i.weight.arrayOk=!0,i.style.arrayOk=!0,i.variant.arrayOk=!0,i.size.arrayOk=!0,i.color.arrayOk=!0),i}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,H,e){var g=e(33428),R=e(83356),i=R.geoPath,C=R.geoDistance,S=e(87108),v=e(24040),d=e(3400),r=d.strTranslate,t=e(76308),a=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,y=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),p=e(79552),x=e(27144),b=e(59972),P=e(55712).NO;function m(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var L=m.prototype;G.exports=function(_){return new m(_)},L.plot=function(w,_,D,N){var z=this;if(N)return z.update(w,_,!0);z._geoCalcData=w,z._fullLayout=_;var F=_[this.id],U=[],B=!1;for(var V in p.layerNameToAdjective)if(V!=="frame"&&F["show"+V]){B=!0;break}for(var j=!1,Q=0;Q<w.length;Q++){var ee=w[0][0].trace;ee._geo=z,ee.locationmode&&(B=!0);var re=ee.marker;if(re){var ue=re.angle,J=re.angleref;(ue||J==="north"||J==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,B){var X=b.getTopojsonName(F);(z.topojson===null||X!==z.topojsonName)&&(z.topojsonName=X,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&U.push(z.fetchTopojson()))}U=U.concat(x.fetchTraceGeoData(w)),D.push(new Promise(function(ne,Y){Promise.all(U).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(w,_),ne()}).catch(Y)}))},L.fetchTopojson=function(){var w=this,_=b.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(D,N){g.json(_,function(z,F){if(z)return z.status===404?N(new Error(["plotly.js could not find topojson file at",_+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",_].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=F,D()})})},L.update=function(w,_,D){var N=_[this.id];this.hasChoropleth=!1;for(var z=0;z<w.length;z++){var F=w[z],U=F[0].trace;U.type==="choropleth"&&(this.hasChoropleth=!0),U.visible===!0&&U._length>0&&U._module.calcGeoJSON(F,_)}if(!D){var B=this.updateProjection(w,_);if(B)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(_,N),this.updateDims(_,N),this.updateFx(_,N),f.generalUpdatePerTraceModule(this.graphDiv,this,w,N);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},L.updateProjection=function(w,_){var D=this.graphDiv,N=_[this.id],z=_._size,F=N.domain,U=N.projection,B=N.lonaxis,V=N.lataxis,j=B._ax,Q=V._ax,ee=this.projection=M(N),re=[[z.l+z.w*F.x[0],z.t+z.h*(1-F.y[1])],[z.l+z.w*F.x[1],z.t+z.h*(1-F.y[0])]],ue=N.center||{},J=U.rotation||{},X=B.range||[],ne=V.range||[];if(N.fitbounds){j._length=re[1][0]-re[0][0],Q._length=re[1][1]-re[0][1],j.range=l(D,j),Q.range=l(D,Q);var Y=(j.range[0]+j.range[1])/2,oe=(Q.range[0]+Q.range[1])/2;if(N._isScoped)ue={lon:Y,lat:oe};else if(N._isClipped){ue={lon:Y,lat:oe},J={lon:Y,lat:oe,roll:J.roll};var le=U.type,Z=p.lonaxisSpan[le]/2||180,$=p.lataxisSpan[le]/2||90;X=[Y-Z,Y+Z],ne=[oe-$,oe+$]}else ue={lon:Y,lat:oe},J={lon:Y,lat:J.lat,roll:J.roll}}ee.center([ue.lon-J.lon,ue.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(U.parallels);var se=E(X,ne);ee.fitExtent(re,se);var ae=this.bounds=ee.getBounds(se),he=this.fitScale=ee.scale(),me=ee.translate();if(N.fitbounds){var Me=ee.getBounds(E(j.range,Q.range)),Te=Math.min((ae[1][0]-ae[0][0])/(Me[1][0]-Me[0][0]),(ae[1][1]-ae[0][1])/(Me[1][1]-Me[0][1]));isFinite(Te)?ee.scale(Te*he):d.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ee.scale(U.scale*he);var Pe=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(ee.translate([me[0]+(Pe[0]-me[0]),me[1]+(Pe[1]-me[1])]).clipExtent(ae),N._isAlbersUsa){var be=ee([ue.lon,ue.lat]),Ee=ee.translate();ee.translate([Ee[0]-(be[0]-Ee[0]),Ee[1]-(be[1]-Ee[1])])}},L.updateBaseLayers=function(w,_){var D=this,N=D.topojson,z=D.layers,F=D.basePaths;function U(re){return re==="lonaxis"||re==="lataxis"}function B(re){return!!p.lineLayers[re]}function V(re){return!!p.fillLayers[re]}var j=this.hasChoropleth?p.layersForChoropleth:p.layers,Q=j.filter(function(re){return B(re)||V(re)?_["show"+re]:U(re)?_[re].showgrid:!0}),ee=D.framework.selectAll(".layer").data(Q,String);ee.exit().each(function(re){delete z[re],delete F[re],g.select(this).remove()}),ee.enter().append("g").attr("class",function(re){return"layer "+re}).each(function(re){var ue=z[re]=g.select(this);re==="bg"?D.bgRect=ue.append("rect").style("pointer-events","all"):U(re)?F[re]=ue.append("path").style("fill","none"):re==="backplot"?ue.append("g").classed("choroplethlayer",!0):re==="frontplot"?ue.append("g").classed("scatterlayer",!0):B(re)?F[re]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):V(re)&&(F[re]=ue.append("path").style("stroke","none"))}),ee.order(),ee.each(function(re){var ue=F[re],J=p.layerNameToAdjective[re];re==="frame"?ue.datum(p.sphereSVG):B(re)||V(re)?ue.datum(P(N,N.objects[re])):U(re)&&ue.datum(s(re,_,w)).call(t.stroke,_[re].gridcolor).call(a.dashLine,_[re].griddash,_[re].gridwidth),B(re)?ue.call(t.stroke,_[J+"color"]).call(a.dashLine,"",_[J+"width"]):V(re)&&ue.call(t.fill,_[J+"color"])})},L.updateDims=function(w,_){var D=this.bounds,N=(_.framewidth||0)/2,z=D[0][0]-N,F=D[0][1]-N,U=D[1][0]-z+N,B=D[1][1]-F+N;a.setRect(this.clipRect,z,F,U,B),this.bgRect.call(a.setRect,z,F,U,B).call(t.fill,_.bgcolor),this.xaxis._offset=z,this.xaxis._length=U,this.yaxis._offset=F,this.yaxis._length=B},L.updateFx=function(w,_){var D=this,N=D.graphDiv,z=D.bgRect,F=w.dragmode,U=w.clickmode;if(D.isStatic)return;function B(){var ee=D.viewInitial,re={};for(var ue in ee)re[D.id+"."+ue]=ee[ue];v.call("_guiRelayout",N,re),N.emit("plotly_doubleclick",null)}function V(ee){return D.projection.invert([ee[0]+D.xaxis._offset,ee[1]+D.yaxis._offset])}var j=function(ee,re){if(re.isRect){var ue=ee.range={};ue[D.id]=[V([re.xmin,re.ymin]),V([re.xmax,re.ymax])]}else{var J=ee.lassoPoints={};J[D.id]=re.map(V)}},Q={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:j},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(ee){ee===2&&T(N)}};F==="pan"?(z.node().onmousedown=null,z.call(o(D,_)),z.on("dblclick.zoom",B),N._context._scrollZoom.geo||z.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(z.on(".zoom",null),Q.prepFn=function(ee,re,ue){h(ee,re,ue,Q,F)},y.init(Q)),z.on("mousemove",function(){var ee=D.projection.invert(d.getPositionFromD3Event());if(!ee)return y.unhover(N,g.event);D.xaxis.p2c=function(){return ee[0]},D.yaxis.p2c=function(){return ee[1]},n.hover(N,g.event,D.id)}),z.on("mouseout",function(){N._dragging||y.unhover(N,g.event)}),z.on("click",function(){F!=="select"&&F!=="lasso"&&(U.indexOf("select")>-1&&c(g.event,N,[D.xaxis],[D.yaxis],D.id,Q),U.indexOf("event")>-1&&n.click(N,g.event))})},L.makeFramework=function(){var w=this,_=w.graphDiv,D=_._fullLayout,N="clip"+D._uid+w.id;w.clipDef=D._clips.append("clipPath").attr("id",N),w.clipRect=w.clipDef.append("rect"),w.framework=g.select(w.container).append("g").attr("class","geo "+w.id).call(a.setClipUrl,N,_),w.project=function(z){var F=w.projection(z);return F?[F[0]-w.xaxis._offset,F[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(z){return w.project(z)[0]}},w.yaxis={_id:"y",c2p:function(z){return w.project(z)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(w.mockAxis,D)},L.saveViewInitial=function(w){var _=w.center||{},D=w.projection,N=D.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":D.scale};var z;w._isScoped?z={"center.lon":_.lon,"center.lat":_.lat}:w._isClipped?z={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:z={"center.lon":_.lon,"center.lat":_.lat,"projection.rotation.lon":N.lon},d.extendFlat(this.viewInitial,z)},L.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},L._render=function(){var w=this.projection,_=w.getPath(),D;function N(F){var U=w(F.lonlat);return U?r(U[0],U[1]):null}function z(F){return w.isLonLatOverEdges(F.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",_);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(F){return _(F.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",z).attr("transform",N)};function M(w){var _=w.projection,D=_.type,N=p.projNames[D];N="geo"+d.titleCase(N);for(var z=R[N]||S[N],F=z(),U=w._isSatellite?Math.acos(1/_.distance)*180/Math.PI:w._isClipped?p.lonaxisSpan[D]/2:null,B=["center","rotate","parallels","clipExtent"],V=function(ee){return ee?F:[]},j=0;j<B.length;j++){var Q=B[j];typeof F[Q]!="function"&&(F[Q]=V)}return F.isLonLatOverEdges=function(ee){if(F(ee)===null)return!0;if(U){var re=F.rotate(),ue=C(ee,[-re[0],-re[1]]),J=U*Math.PI/180;return ue>J}else return!1},F.getPath=function(){return i().projection(F)},F.getBounds=function(ee){return F.getPath().bounds(ee)},F.precision(p.precision),w._isSatellite&&F.tilt(_.tilt).distance(_.distance),U&&F.clipAngle(U-p.clipPad),F}function s(w,_,D){var N=1e-6,z=2.5,F=_[w],U=p.scopeDefaults[_.scope],B,V,j;w==="lonaxis"?(B=U.lonaxisRange,V=U.lataxisRange,j=function(oe,le){return[oe,le]}):w==="lataxis"&&(B=U.lataxisRange,V=U.lonaxisRange,j=function(oe,le){return[le,oe]});var Q={type:"linear",range:[B[0],B[1]-N],tick0:F.tick0,dtick:F.dtick};u.setConvert(Q,D);var ee=u.calcTicks(Q);!_.isScoped&&w==="lonaxis"&&ee.pop();for(var re=ee.length,ue=new Array(re),J=0;J<re;J++)for(var X=ee[J].x,ne=ue[J]=[],Y=V[0];Y<V[1]+z;Y+=z)ne.push(j(X,Y));return{type:"MultiLineString",coordinates:ue}}function E(w,_){var D=p.clipPad,N=w[0]+D,z=w[1]-D,F=_[0]+D,U=_[1]-D;N>0&&z<0&&(z+=360);var B=(z-N)/4;return{type:"Polygon",coordinates:[[[N,F],[N,U],[N+B,U],[N+2*B,U],[N+3*B,U],[z,U],[z,F],[z-B,F],[z-2*B,F],[z-3*B,F],[N,F]]]}}},10816:function(G,H,e){var g=e(84888).KY,R=e(3400).counterRegex,i=e(43520),C="geo",S=R(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function d(a){for(var n=a._fullLayout,f=a.calcdata,u=n._subplots[C],l=0;l<u.length;l++){var y=u[l],h=g(f,C,y),T=n[y],c=T._subplot;c||(c=i({id:y,graphDiv:a,container:n._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),n[y]._subplot=c),c.plot(h,n,a._promises)}}function r(a,n,f,u){for(var l=u._subplots[C]||[],y=0;y<l.length;y++){var h=l[y],T=u[h]._subplot;!n[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(a){for(var n=a._fullLayout,f=n._subplots[C],u=0;u<f.length;u++){var l=n[f[u]],y=l._subplot;y.updateFx(n,l)}}G.exports={attr:C,name:C,idRoot:C,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:d,updateFx:t,clean:r}},40384:function(G,H,e){var g=e(22548),R=e(86968).u,i=e(98192).u,C=e(79552),S=e(67824).overrideAll,v=e(95376),d={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=G.exports=S({domain:R({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:d,lataxis:d},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,H,e){var g=e(3400),R=e(168),i=e(84888).op,C=e(79552),S=e(40384),v=C.axesNames;G.exports=function(t,a,n){R(t,a,n,{type:"geo",attributes:S,handleDefaults:d,fullData:n,partition:"y"})};function d(r,t,a,n){var f=i(n.fullData,"geo",n.id),u=f.map(function(ne){return ne._expandedIndex}),l=a("resolution"),y=a("scope"),h=C.scopeDefaults[y],T=a("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(y=t.scope="usa");var o=t._isScoped=y!=="world",p=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",b=t._isClipped=!!C.lonaxisSpan[T];if(r.visible===!1){var P=g.extendDeep({},t._template);P.showcoastlines=!1,P.showcountries=!1,P.showframe=!1,P.showlakes=!1,P.showland=!1,P.showocean=!1,P.showrivers=!1,P.showsubunits=!1,P.lonaxis&&(P.lonaxis.showgrid=!1),P.lataxis&&(P.lataxis.showgrid=!1),t._template=P}for(var m=a("visible"),L,M=0;M<v.length;M++){var s=v[M],E=[30,10][M],w;if(o)w=h[s+"Range"];else{var _=C[s+"Span"],D=(_[T]||_["*"])/2,N=a("projection.rotation."+s.substr(0,3),h.projRotate[M]);w=[N-D,N+D]}var z=a(s+".range",w);a(s+".tick0"),a(s+".dtick",E),L=a(s+".showgrid",m?void 0:!1),L&&(a(s+".gridcolor"),a(s+".gridwidth"),a(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:u,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var F=t.lonaxis.range,U=t.lataxis.range,B=F[0],V=F[1];B>0&&V<0&&(V+=360);var j=(B+V)/2,Q;if(!c){var ee=o?h.projRotate:[j,0,0];Q=a("projection.rotation.lon",ee[0]),a("projection.rotation.lat",ee[1]),a("projection.rotation.roll",ee[2]),L=a("showcoastlines",!o&&m),L&&(a("coastlinecolor"),a("coastlinewidth")),L=a("showocean",m?void 0:!1),L&&a("oceancolor")}var re,ue;if(c?(re=-96.6,ue=38.7):(re=o?j:Q,ue=(U[0]+U[1])/2),a("center.lon",re),a("center.lat",ue),p&&(a("projection.tilt"),a("projection.distance")),x){var J=h.projParallels||[0,60];a("projection.parallels",J)}a("projection.scale"),L=a("showland",m?void 0:!1),L&&a("landcolor"),L=a("showlakes",m?void 0:!1),L&&a("lakecolor"),L=a("showrivers",m?void 0:!1),L&&(a("rivercolor"),a("riverwidth")),L=a("showcountries",o&&y!=="usa"&&m),L&&(a("countrycolor"),a("countrywidth")),(y==="usa"||y==="north america"&&l===50)&&(a("showsubunits",m),a("subunitcolor"),a("subunitwidth")),o||(L=a("showframe",m),L&&(a("framecolor"),a("framewidth"))),a("bgcolor");var X=a("fitbounds");X&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):b?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,H,e){var g=e(33428),R=e(3400),i=e(24040),C=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},d={cursor:"auto"};function r(s,E){var w=s.projection,_;return E._isScoped?_=n:E._isClipped?_=u:_=f,_(s,w)}G.exports=r;function t(s,E){return g.behavior.zoom().translate(E.translate()).scale(E.scale())}function a(s,E,w){var _=s.id,D=s.graphDiv,N=D.layout,z=N[_],F=D._fullLayout,U=F[_],B={},V={};function j(Q,ee){B[_+"."+Q]=R.nestedProperty(z,Q).get(),i.call("_storeDirectGUIEdit",N,F._preGUI,B);var re=R.nestedProperty(U,Q);re.get()!==ee&&(re.set(ee),R.nestedProperty(z,Q).set(ee),V[_+"."+Q]=ee)}w(j),j("projection.scale",E.scale()/s.fitScale),j("fitbounds",!1),D.emit("plotly_relayout",V)}function n(s,E){var w=t(s,E);function _(){g.select(this).style(v)}function D(){E.scale(g.event.scale).translate(g.event.translate),s.render(!0);var F=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function N(F){var U=E.invert(s.midPt);F("center.lon",U[0]),F("center.lat",U[1])}function z(){g.select(this).style(d),a(s,E,N)}return w.on("zoomstart",_).on("zoom",D).on("zoomend",z),w}function f(s,E){var w=t(s,E),_=2,D,N,z,F,U,B,V,j,Q;function ee(Y){return E.invert(Y)}function re(Y){var oe=ee(Y);if(!oe)return!0;var le=E(oe);return Math.abs(le[0]-Y[0])>_||Math.abs(le[1]-Y[1])>_}function ue(){g.select(this).style(v),D=g.mouse(this),N=E.rotate(),z=E.translate(),F=N,U=ee(D)}function J(){if(B=g.mouse(this),re(D)){w.scale(E.scale()),w.translate(E.translate());return}E.scale(g.event.scale),E.translate([z[0],g.event.translate[1]]),U?ee(B)&&(j=ee(B),V=[F[0]+(j[0]-U[0]),N[1],N[2]],E.rotate(V),F=V):(D=B,U=ee(D)),Q=!0,s.render(!0);var Y=E.rotate(),oe=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":oe[0],"geo.center.lat":oe[1],"geo.projection.rotation.lon":-Y[0]})}function X(){g.select(this).style(d),Q&&a(s,E,ne)}function ne(Y){var oe=E.rotate(),le=E.invert(s.midPt);Y("projection.rotation.lon",-oe[0]),Y("center.lon",le[0]),Y("center.lat",le[1])}return w.on("zoomstart",ue).on("zoom",J).on("zoomend",X),w}function u(s,E){E.rotate(),E.scale();var w=t(s,E),_=M(w,"zoomstart","zoom","zoomend"),D=0,N=w.on,z;w.on("zoomstart",function(){g.select(this).style(v);var j=g.mouse(this),Q=E.rotate(),ee=Q,re=E.translate(),ue=y(Q);z=l(E,j),N.call(w,"zoom",function(){var J=g.mouse(this);if(E.scale(g.event.scale),!z)j=J,z=l(E,j);else if(l(E,J)){E.rotate(Q).translate(re);var X=l(E,J),ne=T(z,X),Y=b(h(ue,ne)),oe=c(Y,z,ee);(!isFinite(oe[0])||!isFinite(oe[1])||!isFinite(oe[2]))&&(oe=ee),E.rotate(oe),ee=oe}U(_.of(this,arguments))}),F(_.of(this,arguments))}).on("zoomend",function(){g.select(this).style(d),N.call(w,"zoom",null),B(_.of(this,arguments)),a(s,E,V)}).on("zoom.redraw",function(){s.render(!0);var j=E.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function F(j){D++||j({type:"zoomstart"})}function U(j){j({type:"zoom"})}function B(j){--D||j({type:"zoomend"})}function V(j){var Q=E.rotate();j("projection.rotation.lon",-Q[0]),j("projection.rotation.lat",-Q[1])}return g.rebind(w,_,"on")}function l(s,E){var w=s.invert(E);return w&&isFinite(w[0])&&isFinite(w[1])&&P(w)}function y(s){var E=.5*s[0]*C,w=.5*s[1]*C,_=.5*s[2]*C,D=Math.sin(E),N=Math.cos(E),z=Math.sin(w),F=Math.cos(w),U=Math.sin(_),B=Math.cos(_);return[N*F*B+D*z*U,D*F*B-N*z*U,N*z*B+D*F*U,N*F*U-D*z*B]}function h(s,E){var w=s[0],_=s[1],D=s[2],N=s[3],z=E[0],F=E[1],U=E[2],B=E[3];return[w*z-_*F-D*U-N*B,w*F+_*z+D*B-N*U,w*U-_*B+D*z+N*F,w*B+_*U-D*F+N*z]}function T(s,E){if(!(!s||!E)){var w=L(s,E),_=Math.sqrt(m(w,w)),D=.5*Math.acos(Math.max(-1,Math.min(1,m(s,E)))),N=Math.sin(D)/_;return _&&[Math.cos(D),w[2]*N,-w[1]*N,w[0]*N]}}function c(s,E,w){var _=x(E,2,s[0]);_=x(_,1,s[1]),_=x(_,0,s[2]-w[2]);var D=E[0],N=E[1],z=E[2],F=_[0],U=_[1],B=_[2],V=Math.atan2(N,D)*S,j=Math.sqrt(D*D+N*N),Q,ee;Math.abs(U)>j?(ee=(U>0?90:-90)-V,Q=0):(ee=Math.asin(U/j)*S-V,Q=Math.sqrt(j*j-U*U));var re=180-ee-2*V,ue=(Math.atan2(B,F)-Math.atan2(z,Q))*S,J=(Math.atan2(B,F)-Math.atan2(z,-Q))*S,X=o(w[0],w[1],ee,ue),ne=o(w[0],w[1],re,J);return X<=ne?[ee,ue,w[2]]:[re,J,w[2]]}function o(s,E,w,_){var D=p(w-s),N=p(_-E);return Math.sqrt(D*D+N*N)}function p(s){return(s%360+540)%360-180}function x(s,E,w){var _=w*C,D=s.slice(),N=E===0?1:0,z=E===2?1:2,F=Math.cos(_),U=Math.sin(_);return D[N]=s[N]*F-s[z]*U,D[z]=s[z]*F+s[N]*U,D}function b(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*S,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*S]}function P(s){var E=s[0]*C,w=s[1]*C,_=Math.cos(w);return[_*Math.cos(E),_*Math.sin(E),Math.sin(w)]}function m(s,E){for(var w=0,_=0,D=s.length;_<D;++_)w+=s[_]*E[_];return w}function L(s,E){return[s[1]*E[2]-s[2]*E[1],s[2]*E[0]-s[0]*E[2],s[0]*E[1]-s[1]*E[0]]}function M(s){for(var E=0,w=arguments.length,_=[];++E<w;)_.push(arguments[E]);var D=g.dispatch.apply(null,_);return D.of=function(N,z){return function(F){var U;try{U=F.sourceEvent=g.event,F.target=s,g.event=F,D[F.type].apply(N,z)}finally{g.event=U}}},D}},84888:function(G,H,e){var g=e(24040),R=e(33816).SUBPLOT_PATTERN;H.KY=function(i,C,S){var v=g.subplotsRegistry[C];if(!v)return[];for(var d=v.attr,r=[],t=0;t<i.length;t++){var a=i[t],n=a[0].trace;n[d]===S&&r.push(a)}return r},H._M=function(i,C,S){var v=[],d=[],r;if(typeof C=="string"?r=g.getModule(C).plot:typeof C=="function"?r=C:r=C.plot,!r)return[v,i];for(var t=S,a=0;a<i.length;a++){var n=i[a],f=n[0].trace,u=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!u||f.zorder===t)?v.push(n):d.push(n))}return[v,d]},H.op=function(C,S,v){if(!g.subplotsRegistry[S])return[];var d=g.subplotsRegistry[S].attr,r=[],t,a,n;if(S==="gl2d"){var f=v.match(R);a="x"+f[1],n="y"+f[2]}for(var u=0;u<C.length;u++)t=C[u],S==="gl2d"&&g.traceIs(t,"gl2d")?t[d[0]]===a&&t[d[1]]===n&&r.push(t):t[d]===v&&r.push(t);return r}},2428:function(G,H,e){var g=e(62644),R=e(97264),i=e(29128),C=e(33816),S=e(89184);G.exports=d;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function d(r){var t=r.mouseContainer,a=r.glplot,n=new v(t,a);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<y.length;c++)if(y[c][h]!==-1){if(y[c][T]!==-1)return!0;break}return!1}n.mouseListener=g(t,l),t.addEventListener("touchstart",function(y){var h=i(y.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),y.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var h=i(y.changedTouches[0],t);l(1,h[0],h[1]),y.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(y){l(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},S?{passive:!1}:!1);function l(y,h,T){var c=r.calcDataBox(),o=a.viewBox,p=n.lastPos[0],x=n.lastPos[1],b=C.MINDRAG*a.pixelRatio,P=C.MINZOOM*a.pixelRatio,m,L;h*=a.pixelRatio,T*=a.pixelRatio,T=o[3]-o[1]-T;function M(N,z,F){var U=Math.min(z,F),B=Math.max(z,F);U!==B?(c[N]=U,c[N+2]=B,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=h/(o[2]-o[0])*(c[2]-c[0])+c[0],E=T/(o[3]-o[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=T),n.boxEnd[0]=s,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-h)<P,_=Math.abs(n.dragStart[1]-T)<P;if(u()&&!(w&&_)){m=n.boxEnd[0]-n.boxStart[0],L=n.boxEnd[1]-n.boxStart[1];var D=(c[3]-c[1])/(c[2]-c[0]);Math.abs(m*D)>Math.abs(L)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*D*(L>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(D)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(D))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(L)/D*(m>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(D)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(D)))}else w&&(n.boxEnd[0]=n.boxStart[0]),_&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],L=n.boxStart[1]!==n.boxEnd[1],m||L?(m&&(M(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),L&&(M(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=T),Math.abs(n.dragStart[0]-h)<b&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<b&&(T=n.dragStart[1]),m=(p-h)*(c[2]-c[0])/(a.viewBox[2]-a.viewBox[0]),L=(x-T)*(c[3]-c[1])/(a.viewBox[3]-a.viewBox[1]),c[0]+=m,c[2]+=m,c[1]+=L,c[3]+=L,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=T}return n.wheelListener=R(t,function(y,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=a.viewBox,o=n.lastPos[0],p=n.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),b=o/(c[2]-c[0])*(T[2]-T[0])+T[0],P=p/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-b)*x+b,T[2]=(T[2]-b)*x+b,T[1]=(T[1]-P)*x+P,T[3]=(T[3]-P)*x+P,r.setRanges(T),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,H,e){var g=e(54460),R=e(43080);function i(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=i.prototype,S=["xaxis","yaxis"];C.merge=function(d){this.titleEnable=!1,this.backgroundColor=R(d.plot_bgcolor);var r,t,a,n,f,u,l,y,h,T,c;for(T=0;T<2;++T){r=S[T];var o=r.charAt(0);for(t=d[this.scene[r]._name],a=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=a,this.labelColor[T+c]=R(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=R((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=R(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=R(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,y=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),f?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(f||y)&&(this.borderLineEnable[T]=t.showline),(u||y)&&(this.borderLineEnable[T+2]=t.showline),(f||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=R(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=R(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},C.hasSharedAxis=function(d){var r=this.scene,t=r.fullLayout._subplots.gl2d,a=g.findSubplotsWithAxis(t,d);return a.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(d,r){var t=r.side;if(d==="xaxis")return t==="bottom";if(d==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(d,r){var t=r.side;if(d==="xaxis")return t==="top";if(d==="yaxis")return t==="right"},C.getLabelPad=function(d,r){var t=1.5,a=r.title.font.size,n=r.showticklabels;if(d==="xaxis")return r.side==="top"?-10+a*(t+(n?1:0)):-10+a*(t+(n?.5:0));if(d==="yaxis")return r.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0))},C.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},C.getTickMarkLength=function(d){if(!d.ticks)return 0;var r=d.ticklen;return d.ticks==="inside"?-r:r};function v(d){return new i(d)}G.exports=v},39952:function(G,H,e){var g=e(67824).overrideAll,R=e(17188),i=e(64859),C=e(9616),S=e(33816),v=e(57952),d=e(65460),r=e(84888).op;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=S.idRegex,H.attrRegex=S.attrRegex,H.attributes=e(26720),H.supplyLayoutDefaults=function(t,a,n){a._has("cartesian")||v.supplyLayoutDefaults(t,a,n)},H.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=g({plot_bgcolor:i.plot_bgcolor,hoverlabel:d.hoverlabel},"plot","nested"),H.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var y=u[l],h=n._plots[y],T=r(f,"gl2d",y),c=h._scene2d;c===void 0&&(c=new R({id:y,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(T,a.calcdata,n,a.layout)}},H.clean=function(t,a,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var y=u[l],h=f._plots[y];if(h._scene2d){var T=r(t,"gl2d",y);T.length===0&&(h._scene2d.destroy(),delete f._plots[y])}}v.clean.apply(this,arguments)},H.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},H.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]],l=u._scene2d,y=l.toImage("png"),h=a._glimages.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},H.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]]._scene2d;u.updateFx(a.dragmode)}}},17188:function(G,H,e){var g=e(24040),R=e(54460),i=e(93024),C=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,d=e(5408),r=e(92568),t=e(2428),a=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,y=e(72760),h=y.drawMode,T=y.selectMode,c=["xaxis","yaxis"],o,p,x=e(33816).SUBPLOT_PATTERN;function b(L,M){this.container=L.container,this.graphDiv=L.graphDiv,this.pixelRatio=L.plotGlPixelRatio||window.devicePixelRatio,this.id=L.id,this.staticPlot=!!L.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=b;var P=b.prototype;P.makeFramework=function(){if(this.staticPlot){if(!p&&(o=document.createElement("canvas"),p=d({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=p}else{var L=this.container.querySelector(".gl-canvas-focus"),M=d({canvas:L,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M){a(this),this.stopped=!0;return}this.canvas=L,this.gl=M}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var _=this.container;_.appendChild(E),_.appendChild(w);var D=this;w.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),w.addEventListener("mouseover",function(){D.isMouseOver=!0})},P.toImage=function(L){L||(L="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var M=this.glplot.gl,s=M.drawingBufferWidth,E=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var w=new Uint8Array(s*E*4);M.readPixels(0,0,s,E,M.RGBA,M.UNSIGNED_BYTE,w);for(var _=0,D=E-1;_<D;++_,--D)for(var N=0;N<s;++N)for(var z=0;z<4;++z){var F=w[4*(s*_+N)+z];w[4*(s*_+N)+z]=w[4*(s*D+N)+z],w[4*(s*D+N)+z]=F}var U=document.createElement("canvas");U.width=s,U.height=E;var B=U.getContext("2d",{willReadFrequently:!0}),V=B.createImageData(s,E);V.data.set(w),B.putImageData(V,0,0);var j;switch(L){case"jpeg":j=U.toDataURL("image/jpeg");break;case"webp":j=U.toDataURL("image/webp");break;default:j=U.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),j},P.updateSize=function(L){L||(L=this.canvas);var M=this.pixelRatio,s=this.fullLayout,E=s.width,w=s.height,_=Math.ceil(M*E)|0,D=Math.ceil(M*w)|0;return(L.width!==_||L.height!==D)&&(L.width=_,L.height=D),L},P.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var L=[R.calcTicks(this.xaxis),R.calcTicks(this.yaxis)],M=0;M<2;++M)for(var s=0;s<L[M].length;++s)L[M][s].text=L[M][s].text+"";return L};function m(L,M){for(var s=0;s<2;++s){var E=L[s],w=M[s];if(E.length!==w.length)return!0;for(var _=0;_<E.length;++_)if(E[_].x!==w[_].x)return!0}return!1}P.updateRefs=function(L){this.fullLayout=L;var M=this.id.match(x),s="xaxis"+M[1],E="yaxis"+M[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[E]},P.relayoutCallback=function(){var L=this.graphDiv,M=this.xaxis,s=this.yaxis,E=L.layout,w={},_=w[M._name+".range"]=M.range.slice(),D=w[s._name+".range"]=s.range.slice();w[M._name+".autorange"]=M.autorange,w[s._name+".autorange"]=s.autorange,g.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,w);var N=E[M._name];N.range=_,N.autorange=M.autorange;var z=E[s._name];z.range=D,z.autorange=s.autorange,w.lastInputTime=this.camera.lastInputTime,L.emit("plotly_relayout",w)},P.cameraChanged=function(){var L=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks(),s=this.glplotOptions.ticks;m(M,s)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=L.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},P.handleAnnotations=function(){for(var L=this.graphDiv,M=this.fullLayout.annotations,s=0;s<M.length;s++){var E=M[s];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(L,s)}},P.destroy=function(){if(this.glplot){var L=this.traces;L&&Object.keys(L).map(function(M){L[M].dispose(),delete L[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},P.plot=function(L,M,s){var E=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(L,M),this.updateFx(s.dragmode);var w=s.width,_=s.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(s),D.screenBox=[0,0,w,_];var N={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};u(N,this.xaxis),u(N,this.yaxis);var z=s._size,F=this.xaxis.domain,U=this.yaxis.domain;D.viewBox=[z.l+F[0]*z.w,z.b+U[0]*z.h,w-z.r-(1-F[1])*z.w,_-z.t-(1-U[1])*z.h],this.mouseContainer.style.width=z.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=z.h*(U[1]-U[0])+"px",this.mouseContainer.height=z.h*(U[1]-U[0]),this.mouseContainer.style.left=z.l+F[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-U[1])*z.h+"px";var B,V;for(V=0;V<2;++V)B=this[c[V]],B._length=D.viewBox[V+2]-D.viewBox[V],l(this.graphDiv,B),B.setScale();f(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(s),E.update(D),this.glplot.draw()},P.calcDataBox=function(){var L=this.xaxis,M=this.yaxis,s=L.range,E=M.range,w=L.r2l,_=M.r2l;return[w(s[0]),_(E[0]),w(s[1]),_(E[1])]},P.setRanges=function(L){var M=this.xaxis,s=this.yaxis,E=M.l2r,w=s.l2r;M.range=[E(L[0]),E(L[2])],s.range=[w(L[1]),w(L[3])]},P.updateTraces=function(L,M){var s=Object.keys(this.traces),E,w,_;this.fullData=L;e:for(E=0;E<s.length;E++){var D=s[E],N=this.traces[D];for(w=0;w<L.length;w++)if(_=L[w],_.uid===D&&_.type===N.type)continue e;N.dispose(),delete this.traces[D]}for(E=0;E<L.length;E++){_=L[E];var z=M[E],F=this.traces[_.uid];F?F.update(_,z):(F=_._module.plot(this,_,z),this.traces[_.uid]=F)}this.glplot.objects.sort(function(U,B){return U._trace.index-B._trace.index})},P.updateFx=function(L){T(L)||h(L)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),L==="pan"?this.mouseContainer.style.cursor="move":L==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},P.emitPointAction=function(L,M){for(var s=L.trace.uid,E=L.pointIndex,w,_=0;_<this.fullData.length;_++)this.fullData[_].uid===s&&(w=this.fullData[_]);var D={x:L.traceCoord[0],y:L.traceCoord[1],curveNumber:w.index,pointNumber:E,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(D,w,E),this.graphDiv.emit(M,{points:[D]})},P.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var L=this.glplot,M=this.camera,s=M.mouseListener,E=this.lastButtonState===1&&s.buttons===0,w=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var _=s.x*L.pixelRatio,D=this.canvas.height-L.pixelRatio*s.y,N;if(M.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],F=0;F<2;F++)M.boxStart[F]===M.boxEnd[F]&&(z[F]=L.dataBox[F],z[F+2]=L.dataBox[F+2]);L.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var U=w._size,B=this.xaxis.domain,V=this.yaxis.domain;N=L.pick(_/L.pixelRatio+U.l+B[0]*U.w,D/L.pixelRatio-(U.t+(1-V[1])*U.h));var j=N&&N.object._trace.handlePick(N);if(j&&E&&this.emitPointAction(j,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&w.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var Q=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),Q.screenCoord=[((L.viewBox[2]-L.viewBox[0])*(N.dataCoord[0]-L.dataBox[0])/(L.dataBox[2]-L.dataBox[0])+L.viewBox[0])/L.pixelRatio,(this.canvas.height-(L.viewBox[3]-L.viewBox[1])*(N.dataCoord[1]-L.dataBox[1])/(L.dataBox[3]-L.dataBox[1])-L.viewBox[1])/L.pixelRatio],this.emitPointAction(j,"plotly_hover");var ee=this.fullData[Q.trace.index]||{},re=Q.pointIndex,ue=i.castHoverinfo(ee,w,re);if(ue&&ue!=="all"){var J=ue.split("+");J.indexOf("x")===-1&&(Q.traceCoord[0]=void 0),J.indexOf("y")===-1&&(Q.traceCoord[1]=void 0),J.indexOf("z")===-1&&(Q.traceCoord[2]=void 0),J.indexOf("text")===-1&&(Q.textLabel=void 0),J.indexOf("name")===-1&&(Q.name=void 0)}i.loneHover({x:Q.screenCoord[0],y:Q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Q.traceCoord[1]),zLabel:Q.traceCoord[2],text:Q.textLabel,name:Q.name,color:i.castHoverOption(ee,re,"bgcolor")||Q.color,borderColor:i.castHoverOption(ee,re,"bordercolor"),fontFamily:i.castHoverOption(ee,re,"font.family"),fontSize:i.castHoverOption(ee,re,"font.size"),fontColor:i.castHoverOption(ee,re,"font.color"),nameLength:i.castHoverOption(ee,re,"namelength"),textAlign:i.castHoverOption(ee,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),L.draw()}},P.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},P.hoverFormatter=function(L,M){if(M!==void 0){var s=this[L];return R.tickText(s,s.c2l(M),"hover").text}}},12536:function(G,H,e){var g=e(67824).overrideAll,R=e(65460),i=e(98432),C=e(84888).op,S=e(3400),v=e(9616),d="gl3d",r="scene";H.name=d,H.attr=r,H.idRoot=r,H.idRegex=H.attrRegex=S.counterRegex("scene"),H.attributes=e(6636),H.layoutAttributes=e(346),H.baseLayoutAttrOverrides=g({hoverlabel:R.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(5208),H.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots[d],l=0;l<u.length;l++){var y=u[l],h=C(f,d,y),T=n[y],c=T.camera,o=T._scene;o||(o=new i({id:y,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:c},n),T._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,n,a.layout)}},H.clean=function(t,a,n,f){for(var u=f._subplots[d]||[],l=0;l<u.length;l++){var y=u[l];!a[y]&&f[y]._scene&&(f[y]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+y).remove())}},H.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots[d],f=a._size,u=0;u<n.length;u++){var l=a[n[u]],y=l.domain,h=l._scene,T=h.toImage("png"),c=a._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:f.l+f.w*y.x[0],y:f.t+f.h*(1-y.y[1]),width:f.w*(y.x[1]-y.x[0]),height:f.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),h.destroy()}},H.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),r+n}},H.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots[d],f=0;f<n.length;f++){var u=a[n[f]]._scene;u.updateFx(a.dragmode,a.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,H,e){var g=e(76308),R=e(94724),i=e(92880).extendFlat,C=e(67824).overrideAll;G.exports=C({visible:R.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:R.color,categoryorder:R.categoryorder,categoryarray:R.categoryarray,title:{text:R.title.text,font:R.title.font},type:i({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorange:R.autorange,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},rangemode:R.rangemode,minallowed:R.minallowed,maxallowed:R.maxallowed,range:i({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,mirror:R.mirror,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,tickfont:R.tickfont,tickangle:R.tickangle,tickprefix:R.tickprefix,showtickprefix:R.showtickprefix,ticksuffix:R.ticksuffix,showticksuffix:R.showticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickformat:R.tickformat,tickformatstops:R.tickformatstops,hoverformat:R.hoverformat,showline:R.showline,linecolor:R.linecolor,linewidth:R.linewidth,showgrid:R.showgrid,gridcolor:i({},R.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:R.gridwidth,zeroline:R.zeroline,zerolinecolor:R.zerolinecolor,zerolinewidth:R.zerolinewidth,_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}},"plot","from-root")},64380:function(G,H,e){var g=e(49760).mix,R=e(3400),i=e(31780),C=e(86140),S=e(14944),v=e(28336),d=["xaxis","yaxis","zaxis"],r=100*136/187;G.exports=function(a,n,f){var u,l;function y(c,o){return R.coerce(u,l,C,c,o)}for(var h=0;h<d.length;h++){var T=d[h];u=a[T]||{},l=i.newContainer(n,T),l._id=T[0]+f.scene,l._name=T,S(u,l,y,f),v(u,l,y,{font:f.font,letter:T[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),y("gridcolor",g(l.color,f.bgColor,r).toRgbString()),y("title.text",T[0]),l.setScale=R.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",l.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(G,H,e){var g=e(43080),R=e(3400),i=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=C.prototype;S.merge=function(d,r){for(var t=this,a=0;a<3;++a){var n=r[i[a]];if(!n.visible){t.tickEnable[a]=!1,t.labelEnable[a]=!1,t.lineEnable[a]=!1,t.lineTickEnable[a]=!1,t.gridEnable[a]=!1,t.zeroEnable[a]=!1,t.backgroundEnable[a]=!1;continue}t.labels[a]=d._meta?R.templateString(n.title.text,d._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[a]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[a]=n.title.font.family),n.title.font.size&&(t.labelSize[a]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[a]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[a]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[a]=n.title.font.variant)),"showline"in n&&(t.lineEnable[a]=n.showline),"linecolor"in n&&(t.lineColor[a]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[a]=n.linewidth),"showgrid"in n&&(t.gridEnable[a]=n.showgrid),"gridcolor"in n&&(t.gridColor[a]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[a]=n.gridwidth),n.type==="log"?t.zeroEnable[a]=!1:"zeroline"in n&&(t.zeroEnable[a]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[a]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[a]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[a]=!0:t.lineTickEnable[a]=!1,"ticklen"in n&&(t.lineTickLength[a]=t._defaultLineTickLength[a]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[a]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[a]=n.tickwidth),"tickangle"in n&&(t.tickAngle[a]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[a]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[a]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[a]=n.tickfont.family),n.tickfont.size&&(t.tickSize[a]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[a]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[a]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[a]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[a]=!0,t.lineMirror[a]=!0):n.mirror===!0?(t.lineTickMirror[a]=!1,t.lineMirror[a]=!0):(t.lineTickMirror[a]=!1,t.lineMirror[a]=!1):t.lineMirror[a]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[a]=!0,t.backgroundColor[a]=g(n.backgroundcolor)):t.backgroundEnable[a]=!1}};function v(d,r){var t=new C;return t.merge(d,r),t}G.exports=v},5208:function(G,H,e){var g=e(3400),R=e(76308),i=e(24040),C=e(168),S=e(64380),v=e(346),d=e(84888).op,r="gl3d";G.exports=function(n,f,u){var l=f._basePlotModules.length>1;function y(h){if(!l){var T=g.validate(n[h],v[h]);if(T)return n[h]}}C(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:y,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(a,n,f,u){for(var l=f("bgcolor"),y=R.combine(l,u.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)f("camera."+h[T]+".x"),f("camera."+h[T]+".y"),f("camera."+h[T]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),o=c?"manual":"auto",p=f("aspectmode",o);c||(a.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),a.aspectmode=n.aspectmode);var x=d(u.fullData,r,u.id);S(a,n,{font:u.font,scene:u.id,data:x,bgColor:y,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(a,n,u);var b=u.getDfltFromLayout("dragmode");if(b!==!1&&!b)if(b="orbit",a.camera&&a.camera.up){var P=a.camera.up.x,m=a.camera.up.y,L=a.camera.up.z;L!==0&&(!P||!m||!L||L/Math.sqrt(P*P+m*m+L*L)>.999)&&(b="turntable")}else b="turntable";f("dragmode",b),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(G,H,e){var g=e(86140),R=e(86968).u,i=e(92880).extendFlat,C=e(3400).counterRegex;function S(v,d,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:d,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(S(0,0,1),{}),center:i(S(0,0,0),{}),eye:i(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:R({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,H,e){var g=e(43080),R=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=i.prototype;C.merge=function(v){for(var d=0;d<3;++d){var r=v[R[d]];if(!r.visible){this.enabled[d]=!1,this.drawSides[d]=!1;continue}this.enabled[d]=r.showspikes,this.colors[d]=g(r.spikecolor),this.drawSides[d]=r.spikesides,this.lineWidth[d]=r.spikethickness}};function S(v){var d=new i;return d.merge(v),d}G.exports=S},87152:function(G,H,e){G.exports=S;var g=e(54460),R=e(3400),i=["xaxis","yaxis","zaxis"];function C(v){for(var d=new Array(3),r=0;r<3;++r){for(var t=v[r],a=new Array(t.length),n=0;n<t.length;++n)a[n]=t[n].x;d[r]=a}return d}function S(v){for(var d=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var f=t[i[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))a[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||R.constrain(f._length/40,4,9);g.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var y=g.calcTicks(f,{msUTC:!0}),h=0;h<y.length;++h)y[h].x=y[h].x*v.dataScale[n],f.type==="date"&&(y[h].text=y[h].text.replace(/\<br\>/g," "));a[n]=y,f.tickmode=u}}d.ticks=a;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)d.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=C(a)}},94424:function(G){function H(g,R){var i=[0,0,0,0],C,S;for(C=0;C<4;++C)for(S=0;S<4;++S)i[S]+=g[4*C+S]*R[C];return i}function e(g,R){var i=H(g.projection,H(g.view,H(g.model,[R[0],R[1],R[2],1])));return i}G.exports=e},98432:function(G,H,e){var g=e(67792).gl_plot3d,R=g.createCamera,i=g.createScene,C=e(5408),S=e(89184),v=e(24040),d=e(3400),r=d.preserveDrawingBuffer(),t=e(54460),a=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),y=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,o,p=!1;function x(D,N){var z=document.createElement("div"),F=D.container;this.graphDiv=D.graphDiv;var U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.style.position="absolute",U.style.top=U.style.left="0px",U.style.width=U.style.height="100%",U.style["z-index"]=20,U.style["pointer-events"]="none",z.appendChild(U),this.svgContainer=U,z.id=D.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",F.appendChild(z),this.fullLayout=N,this.id=D.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=y(N[this.id]),this.container=z,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var b=x.prototype;b.prepareOptions=function(){var D=this,N={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!o&&(c=document.createElement("canvas"),o=C({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");N.gl=o,N.canvas=c}return N};var P=!0;b.tryCreatePlot=function(){var D=this,N=D.prepareOptions(),z=!0;try{D.glplot=i(N)}catch{if(D.staticMode||!P||r)z=!1;else{d.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,D.glplot=i(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,z=!1}}}return P=!1,z},b.initializeGLCamera=function(){var D=this,N=D.fullSceneLayout.camera,z=N.projection.type==="orthographic";D.camera=R(D.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},b.initializeGLPlot=function(){var D=this;D.initializeGLCamera();var N=D.tryCreatePlot();if(!N)return f(D);D.traces={},D.make4thDimension();var z=D.graphDiv,F=z.layout,U=function(){var V={};return D.isCameraChanged(F)&&(V[D.id+".camera"]=D.getCamera()),D.isAspectChanged(F)&&(V[D.id+".aspectratio"]=D.glplot.getAspectratio(),F[D.id].aspectmode!=="manual"&&(D.fullSceneLayout.aspectmode=F[D.id].aspectmode=V[D.id+".aspectmode"]="manual")),V},B=function(V){if(V.fullSceneLayout.dragmode!==!1){var j=U();V.saveLayout(F),V.graphDiv.emit("plotly_relayout",j)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){B(D)}),D.glplot.canvas.addEventListener("touchstart",function(){p=!0}),D.glplot.canvas.addEventListener("wheel",function(V){if(z._context._scrollZoom.gl3d){if(D.camera._ortho){var j=V.deltaX>V.deltaY?1.1:.9090909090909091,Q=D.glplot.getAspectratio();D.glplot.setAspectratio({x:j*Q.x,y:j*Q.y,z:j*Q.z})}B(D)}},S?{passive:!1}:!1),D.glplot.canvas.addEventListener("mousemove",function(){if(D.fullSceneLayout.dragmode!==!1&&D.camera.mouseListener.buttons!==0){var V=U();D.graphDiv.emit("plotly_relayouting",V)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(V){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:V,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},b.render=function(){var D=this,N=D.graphDiv,z,F=D.svgContainer,U=D.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var B=N._fullLayout._invScaleX,V=N._fullLayout._invScaleY,j=U.width*B,Q=U.height*V;F.setAttributeNS(null,"viewBox","0 0 "+j+" "+Q),F.setAttributeNS(null,"width",j),F.setAttributeNS(null,"height",Q),h(D),D.glplot.axes.update(D.axesOptions);for(var ee=Object.keys(D.traces),re=null,ue=D.glplot.selection,J=0;J<ee.length;++J)z=D.traces[ee[J]],z.data.hoverinfo!=="skip"&&z.handlePick(ue)&&(re=z),z.setContourLevels&&z.setContourLevels();function X(Pe,be,Ee){var xe=D.fullSceneLayout[Pe+"axis"];return xe.type!=="log"&&(be=xe.d2l(be)),t.hoverLabelText(xe,be,Ee)}if(re!==null){var ne=u(D.glplot.cameraParams,ue.dataCoordinate);z=re.data;var Y=N._fullData[z.index],oe=ue.index,le={xLabel:X("x",ue.traceCoordinate[0],z.xhoverformat),yLabel:X("y",ue.traceCoordinate[1],z.yhoverformat),zLabel:X("z",ue.traceCoordinate[2],z.zhoverformat)},Z=a.castHoverinfo(Y,D.fullLayout,oe),$=(Z||"").split("+"),se=Z&&Z==="all";!Y.hovertemplate&&!se&&($.indexOf("x")===-1&&(le.xLabel=void 0),$.indexOf("y")===-1&&(le.yLabel=void 0),$.indexOf("z")===-1&&(le.zLabel=void 0),$.indexOf("text")===-1&&(ue.textLabel=void 0),$.indexOf("name")===-1&&(re.name=void 0));var ae,he=[];z.type==="cone"||z.type==="streamtube"?(le.uLabel=X("x",ue.traceCoordinate[3],z.uhoverformat),(se||$.indexOf("u")!==-1)&&he.push("u: "+le.uLabel),le.vLabel=X("y",ue.traceCoordinate[4],z.vhoverformat),(se||$.indexOf("v")!==-1)&&he.push("v: "+le.vLabel),le.wLabel=X("z",ue.traceCoordinate[5],z.whoverformat),(se||$.indexOf("w")!==-1)&&he.push("w: "+le.wLabel),le.normLabel=ue.traceCoordinate[6].toPrecision(3),(se||$.indexOf("norm")!==-1)&&he.push("norm: "+le.normLabel),z.type==="streamtube"&&(le.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(se||$.indexOf("divergence")!==-1)&&he.push("divergence: "+le.divergenceLabel)),ue.textLabel&&he.push(ue.textLabel),ae=he.join("<br>")):z.type==="isosurface"||z.type==="volume"?(le.valueLabel=t.hoverLabelText(D._mockAxis,D._mockAxis.d2l(ue.traceCoordinate[3]),z.valuehoverformat),he.push("value: "+le.valueLabel),ue.textLabel&&he.push(ue.textLabel),ae=he.join("<br>")):ae=ue.textLabel;var me={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:oe};a.appendArrayPointValue(me,Y,oe),z._module.eventData&&(me=Y._module.eventData(me,ue,Y,{},oe));var Me={points:[me]};if(D.fullSceneLayout.hovermode){var Te=[];a.loneHover({trace:Y,x:(.5+.5*ne[0]/ne[3])*j,y:(.5-.5*ne[1]/ne[3])*Q,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:ae,name:re.name,color:a.castHoverOption(Y,oe,"bgcolor")||re.color,borderColor:a.castHoverOption(Y,oe,"bordercolor"),fontFamily:a.castHoverOption(Y,oe,"font.family"),fontSize:a.castHoverOption(Y,oe,"font.size"),fontColor:a.castHoverOption(Y,oe,"font.color"),nameLength:a.castHoverOption(Y,oe,"namelength"),textAlign:a.castHoverOption(Y,oe,"align"),hovertemplate:d.castOption(Y,oe,"hovertemplate"),hovertemplateLabels:d.extendFlat({},me,le),eventData:[me]},{container:F,gd:N,inOut_bbox:Te}),me.bbox=Te[0]}ue.distance<5&&(ue.buttons||p)?N.emit("plotly_click",Me):N.emit("plotly_hover",Me),this.oldEventData=Me}else a.loneUnhover(F),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},b.recoverContext=function(){var D=this;D.glplot.dispose();var N=function(){if(D.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!D.initializeGLPlot()){d.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}D.plot.apply(D,D.plotArgs)};requestAnimationFrame(N)};var m=["xaxis","yaxis","zaxis"];function L(D,N,z){for(var F=D.fullSceneLayout,U=0;U<3;U++){var B=m[U],V=B.charAt(0),j=F[B],Q=N[V],ee=N[V+"calendar"],re=N["_"+V+"length"];if(!d.isArrayOrTypedArray(Q))z[0][U]=Math.min(z[0][U],0),z[1][U]=Math.max(z[1][U],re-1);else for(var ue,J=0;J<(re||Q.length);J++)if(d.isArrayOrTypedArray(Q[J]))for(var X=0;X<Q[J].length;++X)ue=j.d2l(Q[J][X],0,ee),!isNaN(ue)&&isFinite(ue)&&(z[0][U]=Math.min(z[0][U],ue),z[1][U]=Math.max(z[1][U],ue));else ue=j.d2l(Q[J],0,ee),!isNaN(ue)&&isFinite(ue)&&(z[0][U]=Math.min(z[0][U],ue),z[1][U]=Math.max(z[1][U],ue))}}function M(D,N){for(var z=D.fullSceneLayout,F=z.annotations||[],U=0;U<3;U++)for(var B=m[U],V=B.charAt(0),j=z[B],Q=0;Q<F.length;Q++){var ee=F[Q];if(ee.visible){var re=j.r2l(ee[V]);!isNaN(re)&&isFinite(re)&&(N[0][U]=Math.min(N[0][U],re),N[1][U]=Math.max(N[1][U],re))}}}b.plot=function(D,N,z){var F=this;if(F.plotArgs=[D,N,z],!F.glplot.contextLost){var U,B,V,j,Q,ee,re=N[F.id],ue=z[F.id];F.fullLayout=N,F.fullSceneLayout=re,F.axesOptions.merge(N,re),F.spikeOptions.merge(re),F.setViewport(re),F.updateFx(re.dragmode,re.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(re.bgcolor)),F.setConvert(Q),D?Array.isArray(D)||(D=[D]):D=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<D.length;++V)U=D[V],!(U.visible!==!0||U._length===0)&&L(this,U,J);M(this,J);var X=[1,1,1];for(j=0;j<3;++j)J[1][j]===J[0][j]?X[j]=1:X[j]=1/(J[1][j]-J[0][j]);for(F.dataScale=X,F.convertAnnotations(this),V=0;V<D.length;++V)U=D[V],!(U.visible!==!0||U._length===0)&&(B=F.traces[U.uid],B?B.data.type===U.type?B.update(U):(B.dispose(),B=U._module.plot(this,U),F.traces[U.uid]=B):(B=U._module.plot(this,U),F.traces[U.uid]=B),B.name=U.name);var ne=Object.keys(F.traces);e:for(V=0;V<ne.length;++V){for(j=0;j<D.length;++j)if(D[j].uid===ne[V]&&D[j].visible===!0&&D[j]._length!==0)continue e;B=F.traces[ne[V]],B.dispose(),delete F.traces[ne[V]]}F.glplot.objects.sort(function(vt,ot){return vt._trace.data.index-ot._trace.data.index});var Y=[[0,0,0],[0,0,0]],oe={};for(V=0;V<3;++V){Q=re[m[V]],ee=Q.type,ee in oe?(oe[ee].acc*=X[V],oe[ee].count+=1):oe[ee]={acc:X[V],count:1};var le;if(Q.autorange){Y[0][V]=1/0,Y[1][V]=-1/0;var Z=F.glplot.objects,$=F.fullSceneLayout.annotations||[],se=Q._name.charAt(0);for(j=0;j<Z.length;j++){var ae=Z[j],he=ae.bounds,me=ae._trace.data._pad||0;ae.constructor.name==="ErrorBars"&&Q._lowerLogErrorBound?Y[0][V]=Math.min(Y[0][V],Q._lowerLogErrorBound):Y[0][V]=Math.min(Y[0][V],he[0][V]/X[V]-me),Y[1][V]=Math.max(Y[1][V],he[1][V]/X[V]+me)}for(j=0;j<$.length;j++){var Me=$[j];if(Me.visible){var Te=Q.r2l(Me[se]);Y[0][V]=Math.min(Y[0][V],Te),Y[1][V]=Math.max(Y[1][V],Te)}}if("rangemode"in Q&&Q.rangemode==="tozero"&&(Y[0][V]=Math.min(Y[0][V],0),Y[1][V]=Math.max(Y[1][V],0)),Y[0][V]>Y[1][V])Y[0][V]=-1,Y[1][V]=1;else{var Pe=Y[1][V]-Y[0][V];Y[0][V]-=Pe/32,Y[1][V]+=Pe/32}if(le=[Y[0][V],Y[1][V]],le=T(le,Q),Y[0][V]=le[0],Y[1][V]=le[1],Q.isReversed()){var be=Y[0][V];Y[0][V]=Y[1][V],Y[1][V]=be}}else le=Q.range,Y[0][V]=Q.r2l(le[0]),Y[1][V]=Q.r2l(le[1]);Y[0][V]===Y[1][V]&&(Y[0][V]-=1,Y[1][V]+=1),Q.range=[Y[0][V],Y[1][V]],Q.limitRange(),F.glplot.setBounds(V,{min:Q.range[0]*X[V],max:Q.range[1]*X[V]})}var Ee,xe=re.aspectmode;if(xe==="cube")Ee=[1,1,1];else if(xe==="manual"){var Ce=re.aspectratio;Ee=[Ce.x,Ce.y,Ce.z]}else if(xe==="auto"||xe==="data"){var Ue=[1,1,1];for(V=0;V<3;++V){Q=re[m[V]],ee=Q.type;var Ne=oe[ee];Ue[V]=Math.pow(Ne.acc,1/Ne.count)/X[V]}xe==="data"||Math.max.apply(null,Ue)/Math.min.apply(null,Ue)<=4?Ee=Ue:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");re.aspectratio.x=ue.aspectratio.x=Ee[0],re.aspectratio.y=ue.aspectratio.y=Ee[1],re.aspectratio.z=ue.aspectratio.z=Ee[2],F.glplot.setAspectratio(re.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:re.aspectratio.x,y:re.aspectratio.y,z:re.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=re.aspectmode);var De=re.domain||null,He=N._size||null;if(De&&He){var at=F.container.style;at.position="absolute",at.left=He.l+De.x[0]*He.w+"px",at.top=He.t+(1-De.y[1])*He.h+"px",at.width=He.w*(De.x[1]-De.x[0])+"px",at.height=He.h*(De.y[1]-De.y[0])+"px"}F.glplot.redraw()}},b.destroy=function(){var D=this;D.glplot&&(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)};function s(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}function E(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:D._ortho===!0?"orthographic":"perspective"}}}b.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),E(D.camera)},b.setViewport=function(D){var N=this,z=D.camera;N.camera.lookAt.apply(this,s(z)),N.glplot.setAspectratio(D.aspectratio);var F=z.projection.type==="orthographic",U=N.camera._ortho;F!==U&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},b.isCameraChanged=function(D){var N=this,z=N.getCamera(),F=d.nestedProperty(D,N.id+".camera"),U=F.get();function B(ee,re,ue,J){var X=["up","center","eye"],ne=["x","y","z"];return re[X[ue]]&&ee[X[ue]][ne[J]]===re[X[ue]][ne[J]]}var V=!1;if(U===void 0)V=!0;else{for(var j=0;j<3;j++)for(var Q=0;Q<3;Q++)if(!B(z,U,j,Q)){V=!0;break}(!U.projection||z.projection&&z.projection.type!==U.projection.type)&&(V=!0)}return V},b.isAspectChanged=function(D){var N=this,z=N.glplot.getAspectratio(),F=d.nestedProperty(D,N.id+".aspectratio"),U=F.get();return U===void 0||U.x!==z.x||U.y!==z.y||U.z!==z.z},b.saveLayout=function(D){var N=this,z=N.fullLayout,F,U,B,V,j,Q,ee=N.isCameraChanged(D),re=N.isAspectChanged(D),ue=ee||re;if(ue){var J={};if(ee&&(F=N.getCamera(),U=d.nestedProperty(D,N.id+".camera"),B=U.get(),J[N.id+".camera"]=B),re&&(V=N.glplot.getAspectratio(),j=d.nestedProperty(D,N.id+".aspectratio"),Q=j.get(),J[N.id+".aspectratio"]=Q),v.call("_storeDirectGUIEdit",D,z._preGUI,J),ee){U.set(F);var X=d.nestedProperty(z,N.id+".camera");X.set(F)}if(re){j.set(V);var ne=d.nestedProperty(z,N.id+".aspectratio");ne.set(V),N.glplot.redraw()}}return ue},b.updateFx=function(D,N){var z=this,F=z.camera;if(F)if(D==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(D==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var U=z.graphDiv,B=U._fullLayout,V=z.fullSceneLayout.camera,j=V.up.x,Q=V.up.y,ee=V.up.z;if(ee/Math.sqrt(j*j+Q*Q+ee*ee)<.999){var re=z.id+".camera.up",ue={x:0,y:0,z:1},J={};J[re]=ue;var X=U.layout;v.call("_storeDirectGUIEdit",X,B._preGUI,J),V.up=ue,d.nestedProperty(X,re).set(ue)}}else F.keyBindingMode=D;z.fullSceneLayout.hovermode=N};function w(D,N,z){for(var F=0,U=z-1;F<U;++F,--U)for(var B=0;B<N;++B)for(var V=0;V<4;++V){var j=4*(N*F+B)+V,Q=4*(N*U+B)+V,ee=D[j];D[j]=D[Q],D[Q]=ee}}function _(D,N,z){for(var F=0;F<z;++F)for(var U=0;U<N;++U){var B=4*(N*F+U),V=D[B+3];if(V>0)for(var j=255/V,Q=0;Q<3;++Q)D[B+Q]=Math.min(j*D[B+Q],255)}}b.toImage=function(D){var N=this;D||(D="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var z=N.glplot.gl,F=z.drawingBufferWidth,U=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var B=new Uint8Array(F*U*4);z.readPixels(0,0,F,U,z.RGBA,z.UNSIGNED_BYTE,B),w(B,F,U),_(B,F,U);var V=document.createElement("canvas");V.width=F,V.height=U;var j=V.getContext("2d",{willReadFrequently:!0}),Q=j.createImageData(F,U);Q.data.set(B),j.putImageData(Q,0,0);var ee;switch(D){case"jpeg":ee=V.toDataURL("image/jpeg");break;case"webp":ee=V.toDataURL("image/webp");break;default:ee=V.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),ee},b.setConvert=function(){for(var D=this,N=0;N<3;N++){var z=D.fullSceneLayout[m[N]];t.setConvert(z,D.fullLayout),z.setScale=d.noop}},b.make4thDimension=function(){var D=this,N=D.graphDiv,z=N._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(D._mockAxis,z)},G.exports=x},52094:function(G){G.exports=function(e,g,R,i){i=i||e.length;for(var C=new Array(i),S=0;S<i;S++)C[S]=[e[S],g[S],R[S]];return C}},64859:function(G,H,e){var g=e(25376),R=e(85656),i=e(22548),C=e(92872),S=e(34200),v=e(66741),d=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},R.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(G,H,e){var g=e(95376),R="1.13.4",i=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(d);G.exports={requiredVersion:R,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+R+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,H,e){var g=e(3400);G.exports=function(i,C){var S=i.split(" "),v=S[0],d=S[1],r=g.isArrayOrTypedArray(C)?g.mean(C):C,t=.5+r/100,a=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-a;break;case"bottom":n[0]="bottom",f[1]=a;break}switch(d){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(G,H,e){var g=e(3480),R=e(3400),i=R.strTranslate,C=R.strScale,S=e(84888).KY,v=e(9616),d=e(33428),r=e(43616),t=e(72736),a=e(14440),n="mapbox",f=H.constants=e(47552);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=R.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(5232),H.supplyLayoutDefaults=e(5976),H.plot=function(h){var T=h._fullLayout,c=h.calcdata,o=T._subplots[n];if(g.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var p=u(h,o);g.accessToken=p;for(var x=0;x<o.length;x++){var b=o[x],P=S(c,n,b),m=T[b],L=m._subplot;L||(L=new a(h,b),T[b]._subplot=L),L.viewInitial||(L.viewInitial={center:R.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),L.plot(P,T,h._promises)}},H.clean=function(y,h,T,c){for(var o=c._subplots[n]||[],p=0;p<o.length;p++){var x=o[p];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},H.toSVG=function(y){for(var h=y._fullLayout,T=h._subplots[n],c=h._size,o=0;o<T.length;o++){var p=h[T[o]],x=p.domain,b=p._subplot,P=b.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":P,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var L=d.select(p._subplot.div),M=L.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!M){var s=h._glimages.append("g");s.attr("transform",i(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),s.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=L.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=h._glimages.append("g"),_=w.append("text");_.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var D=r.bBox(_.node()),N=c.w*(x.x[1]-x.x[0]);if(D.width>N/2){var z=E.split("|").join("<br>");_.text(z).attr("data-unformatted",z).call(t.convertToTspans,y),D=r.bBox(_.node())}_.attr("transform",i(-3,-D.height+8)),w.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;D.width+6>N&&(F=N/(D.width+6));var U=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];w.attr("transform",i(U[0],U[1])+C(F))}};function u(y,h){var T=y._fullLayout,c=y._context;if(c.mapboxAccessToken==="")return"";for(var o=[],p=[],x=!1,b=!1,P=0;P<h.length;P++){var m=T[h[P]],L=m.accesstoken;l(m.style)&&(L?R.pushUnique(o,L):(l(m._input.style)&&(R.error("Uses Mapbox map style, but did not set an access token."),x=!0),b=!0)),L&&R.pushUnique(p,L)}if(b){var M=x?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw R.error(M),new Error(M)}return o.length?(o.length>1&&R.warn(f.multipleTokensErrorMsg),o[0]):(p.length&&R.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(y){return typeof y=="string"&&(f.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}H.updateFx=function(y){for(var h=y._fullLayout,T=h._subplots[n],c=0;c<T.length;c++){var o=h[T[c]]._subplot;o.updateFx(h)}}},22360:function(G,H,e){var g=e(3400),R=e(72736).sanitizeHTML,i=e(89032),C=e(47552);function S(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=d(n)},v.needsNewImage=function(a){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},v.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},v.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(a){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,!!d(a)){var f=t(a);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){a=u;break}}return a},v.updateLayer=function(a){var n=this.subplot,f=r(a),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),d(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=a.type,this.below=u},v.updateStyle=function(a){if(d(a)){var n=r(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},v.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)};function d(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(a){var n={},f={};switch(a.type){case"circle":g.extendFlat(f,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":g.extendFlat(f,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":g.extendFlat(f,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var u=a.symbol,l=i(u.textposition,u.iconsize);g.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),g.extendFlat(f,{"icon-color":a.color,"text-color":u.textfont.color,"text-opacity":a.opacity});break;case"raster":g.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":a.opacity});break}return{layout:n,paint:f}}function t(a){var n=a.sourcetype,f=a.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=a.coordinates),u[l]=f,a.sourceattribution&&(u.attribution=R(a.sourceattribution)),u}G.exports=function(n,f,u){var l=new S(n,f);return l.update(u),l}},5232:function(G,H,e){var g=e(3400),R=e(76308).defaultLine,i=e(86968).u,C=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,d=e(31780).templatedArray,r=e(47552),t=C({noFontVariant:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var a=G.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:d("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:R},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:R}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");a.uirevision={valType:"any",editType:"none"}},5976:function(G,H,e){var g=e(3400),R=e(168),i=e(51272),C=e(5232);G.exports=function(r,t,a){R(r,t,a,{type:"mapbox",attributes:C,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(d,r,t,a){t("accesstoken",a.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,i(d,r,{name:"layers",handleItemDefaults:v}),r._input=d}function v(d,r){function t(y,h){return g.coerce(d,r,C.layers,y,h)}var a=t("visible");if(a){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,H,e){var g=e(3480),R=e(3400),i=e(27144),C=e(24040),S=e(54460),v=e(86476),d=e(93024),r=e(72760),t=r.drawMode,a=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,y=e(47552),h=e(22360);function T(P,m){this.id=m,this.gd=P;var L=P._fullLayout,M=P._context;this.container=L._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=L._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(L),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(P,m,L){var M=this,s=m[M.id];M.map&&s.accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]);var E;M.map?E=new Promise(function(w,_){M.updateMap(P,m,w,_)}):E=new Promise(function(w,_){M.createMap(P,m,w,_)}),L.push(E)},c.createMap=function(P,m,L,M){var s=this,E=m[s.id],w=s.styleObj=p(E.style,m);s.accessToken=E.accesstoken;var _=E.bounds,D=_?[[_.west,_.south],[_.east,_.north]]:null,N=s.map=new g.Map({container:s.div,style:w.style,center:b(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:D,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",s.rejectOnError(M),s.isStatic||s.initFx(P,m);var z=[];z.push(new Promise(function(F){N.once("load",F)})),z=z.concat(i.fetchTraceGeoData(P)),Promise.all(z).then(function(){s.fillBelowLookup(P,m),s.updateData(P),s.updateLayout(m),s.resolveOnRender(L)}).catch(M)},c.updateMap=function(P,m,L,M){var s=this,E=s.map,w=m[this.id];s.rejectOnError(M);var _=[],D=p(w.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(D)&&(s.styleObj=D,E.setStyle(D.style),s.traceHash={},_.push(new Promise(function(N){E.once("styledata",N)}))),_=_.concat(i.fetchTraceGeoData(P)),Promise.all(_).then(function(){s.fillBelowLookup(P,m),s.updateData(P),s.updateLayout(m),s.resolveOnRender(L)}).catch(M)},c.fillBelowLookup=function(P,m){var L=m[this.id],M=L.layers,s,E,w=this.belowLookup={},_=!1;for(s=0;s<P.length;s++){var D=P[s][0].trace,N=D._module;typeof D.below=="string"?E=D.below:N.getBelow&&(E=N.getBelow(D,this)),E===""&&(_=!0),w["trace-"+D.uid]=E||""}for(s=0;s<M.length;s++){var z=M[s];typeof z.below=="string"?E=z.below:_?E="traces":E="",w["layout-"+s]=E}var F={},U,B;for(U in w)E=w[U],F[E]?F[E].push(U):F[E]=[U];for(E in F){var V=F[E];if(V.length>1)for(s=0;s<V.length;s++)U=V[s],U.indexOf("trace-")===0?(B=U.split("trace-")[1],this.traceHash[B]&&(this.traceHash[B].below=null)):U.indexOf("layout-")===0&&(B=U.split("layout-")[1],this.layerList[B]&&(this.layerList[B].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(P){var m=this.traceHash,L,M,s,E,w=P.slice().sort(function(F,U){return o[F[0].trace.type]-o[U[0].trace.type]});for(s=0;s<w.length;s++){var _=w[s];M=_[0].trace,L=m[M.uid];var D=!1;L&&(L.type===M.type?(L.update(_),D=!0):L.dispose()),!D&&M._module&&(m[M.uid]=M._module.plot(this,_))}var N=Object.keys(m);e:for(s=0;s<N.length;s++){var z=N[s];for(E=0;E<P.length;E++)if(M=P[E][0].trace,z===M.uid)continue e;L=m[z],L.dispose(),delete m[z]}},c.updateLayout=function(P){var m=this.map,L=P[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(b(L.center)),m.setZoom(L.zoom),m.setBearing(L.bearing),m.setPitch(L.pitch)),this.updateLayers(P),this.updateFramework(P),this.updateFx(P),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},c.resolveOnRender=function(P){var m=this.map;m.on("render",function L(){m.loaded()&&(m.off("render",L),setTimeout(P,10))})},c.rejectOnError=function(P){var m=this.map;function L(){P(new Error(y.mapOnErrorMsg))}m.once("error",L),m.once("style.error",L),m.once("source.error",L),m.once("tile.error",L),m.once("layer.error",L)},c.createFramework=function(P){var m=this,L=m.div=document.createElement("div");L.id=m.uid,L.style.position="absolute",m.container.appendChild(L),m.xaxis={_id:"x",c2p:function(M){return m.project(M).x}},m.yaxis={_id:"y",c2p:function(M){return m.project(M).y}},m.updateFramework(P),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(m.mockAxis,P)},c.initFx=function(P,m){var L=this,M=L.gd,s=L.map;s.on("moveend",function(_){if(L.map){var D=M._fullLayout;if(_.originalEvent||L.wheeling){var N=D[L.id];C.call("_storeDirectGUIEdit",M.layout,D._preGUI,L.getViewEdits(N));var z=L.getView();N._input.center=N.center=z.center,N._input.zoom=N.zoom=z.zoom,N._input.bearing=N.bearing=z.bearing,N._input.pitch=N.pitch=z.pitch,M.emit("plotly_relayout",L.getViewEditsWithDerived(z))}_.originalEvent&&_.originalEvent.type==="mouseup"?L.dragging=!1:L.wheeling&&(L.wheeling=!1),D._rehover&&D._rehover()}}),s.on("wheel",function(){L.wheeling=!0}),s.on("mousemove",function(_){var D=L.div.getBoundingClientRect(),N=[_.originalEvent.offsetX,_.originalEvent.offsetY];_.target.getBoundingClientRect=function(){return D},L.xaxis.p2c=function(){return s.unproject(N).lng},L.yaxis.p2c=function(){return s.unproject(N).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===L.id&&M._fullLayout[L.id]&&d.hover(M,_,L.id)},d.hover(M,_,L.id),M._fullLayout._hoversubplot=L.id});function E(){d.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){L.dragging=!0,E()}),s.on("zoomstart",E),s.on("mouseout",function(){M._fullLayout._hoversubplot=null});function w(){var _=L.getView();M.emit("plotly_relayouting",L.getViewEditsWithDerived(_))}s.on("drag",w),s.on("zoom",w),s.on("dblclick",function(){var _=M._fullLayout[L.id];C.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,L.getViewEdits(_));var D=L.viewInitial;s.setCenter(b(D.center)),s.setZoom(D.zoom),s.setBearing(D.bearing),s.setPitch(D.pitch);var N=L.getView();_._input.center=_.center=N.center,_._input.zoom=_.zoom=N.zoom,_._input.bearing=_.bearing=N.bearing,_._input.pitch=_.pitch=N.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",L.getViewEditsWithDerived(N))}),L.clearOutline=function(){u(L.dragOptions),f(L.dragOptions.gd)},L.onClickInPanFn=function(_){return function(D){var N=M._fullLayout.clickmode;N.indexOf("select")>-1&&l(D.originalEvent,M,[L.xaxis],[L.yaxis],L.id,_),N.indexOf("event")>-1&&d.click(M,D.originalEvent)}}},c.updateFx=function(P){var m=this,L=m.map,M=m.gd;if(m.isStatic)return;function s(D){var N=m.map.unproject(D);return[N.lng,N.lat]}var E=P.dragmode,w;w=function(D,N){if(N.isRect){var z=D.range={};z[m.id]=[s([N.xmin,N.ymin]),s([N.xmax,N.ymax])]}else{var F=D.lassoPoints={};F[m.id]=N.map(s)}};var _=m.dragOptions;m.dragOptions=R.extendDeep(_||{},{dragmode:P.dragmode,element:m.div,gd:M,plotinfo:{id:m.id,domain:P[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:w},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),L.off("click",m.onClickInPanHandler),a(E)||t(E)?(L.dragPan.disable(),L.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(D,N,z){n(D,N,z,m.dragOptions,E)},v.init(m.dragOptions)):(L.dragPan.enable(),L.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),L.on("click",m.onClickInPanHandler))},c.updateFramework=function(P){var m=P[this.id].domain,L=P._size,M=this.div.style;M.width=L.w*(m.x[1]-m.x[0])+"px",M.height=L.h*(m.y[1]-m.y[0])+"px",M.left=L.l+m.x[0]*L.w+"px",M.top=L.t+(1-m.y[1])*L.h+"px",this.xaxis._offset=L.l+m.x[0]*L.w,this.xaxis._length=L.w*(m.x[1]-m.x[0]),this.yaxis._offset=L.t+(1-m.y[1])*L.h,this.yaxis._length=L.h*(m.y[1]-m.y[0])},c.updateLayers=function(P){var m=P[this.id],L=m.layers,M=this.layerList,s;if(L.length!==M.length){for(s=0;s<M.length;s++)M[s].dispose();for(M=this.layerList=[],s=0;s<L.length;s++)M.push(h(this,s,L[s]))}else for(s=0;s<L.length;s++)M[s].update(L[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(P,m,L){for(var M in L)this.map[m](P,M,L[M])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(P,m){var L=this.map;if(typeof m=="string"){if(m===""){L.addLayer(P,m);return}for(var M=this.getMapLayers(),s=0;s<M.length;s++)if(m===M[s].id){L.addLayer(P,m);return}R.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}L.addLayer(P)},c.project=function(P){return this.map.project(new g.LngLat(P[0],P[1]))},c.getView=function(){var P=this.map,m=P.getCenter(),L=m.lng,M=m.lat,s={lon:L,lat:M},E=P.getCanvas(),w=parseInt(E.style.width),_=parseInt(E.style.height);return{center:s,zoom:P.getZoom(),bearing:P.getBearing(),pitch:P.getPitch(),_derived:{coordinates:[P.unproject([0,0]).toArray(),P.unproject([w,0]).toArray(),P.unproject([w,_]).toArray(),P.unproject([0,_]).toArray()]}}},c.getViewEdits=function(P){for(var m=this.id,L=["center","zoom","bearing","pitch"],M={},s=0;s<L.length;s++){var E=L[s];M[m+"."+E]=P[E]}return M},c.getViewEditsWithDerived=function(P){var m=this.id,L=this.getViewEdits(P);return L[m+"._derived"]=P._derived,L};function p(P,m){var L={};if(R.isPlainObject(P))L.id=P.id,L.style=P;else if(typeof P=="string")if(L.id=P,y.styleValuesMapbox.indexOf(P)!==-1)L.style=x(P);else if(y.stylesNonMapbox[P]){L.style=y.stylesNonMapbox[P];var M=L.style.sources["plotly-"+P],s=M?M.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else L.style=P;else L.id=y.styleValueDflt,L.style=x(y.styleValueDflt);return L.transition={duration:0,delay:0},L}function x(P){return y.styleUrlPrefix+P+"-"+y.styleUrlSuffix}function b(P){return[P.lon,P.lat]}G.exports=T},66741:function(G){G.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,H,e){var g=e(33428),R=e(94336).m_,i=e(57624).SO,C=e(38248),S=e(83160),v=e(24040),d=e(73060),r=e(31780),t=e(3400),a=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),y=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,o=t._,p=G.exports={};t.extendFlat(p,v),p.attributes=e(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=e(25376),p.layoutAttributes=e(64859);var x=p.transformsRegistry,b=e(62460);p.executeAPICommand=b.executeAPICommand,p.computeAPICommandBindings=b.computeAPICommandBindings,p.manageCommandObserver=b.manageCommandObserver,p.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,p.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(oe){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),oe(p.previousPromises(Y)))},300)})},p.resize=function(Y){Y=t.getGraphDiv(Y);var oe,le=new Promise(function(Z,$){(!Y||t.isHidden(Y))&&$(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(oe=Y._resolveResize),Y._resolveResize=Z,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){Z(Y);return}delete Y.layout.width,delete Y.layout.height;var se=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=se,Y._resolveResize===Z&&(delete Y._resolveResize,Z(Y))})},100)});return oe&&oe(le),le},p.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},p.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var oe=Y._fullLayout,le=t.ensureSingle(oe._paper,"text","js-plot-link-container",function(me){me.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var Me=g.select(this);Me.append("tspan").classed("js-link-to-tool",!0),Me.append("tspan").classed("js-link-spacer",!0),Me.append("tspan").classed("js-sourcelinks",!0)})}),Z=le.node(),$={y:oe._paper.attr("height")-9};document.body.contains(Z)&&Z.getComputedTextLength()>=oe.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=oe._paper.attr("width")-7),le.attr($);var se=le.select(".js-link-to-tool"),ae=le.select(".js-link-spacer"),he=le.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&P(Y,se),ae.text(se.text()&&he.text()?" - ":"")}};function P(Y,oe){oe.text("");var le=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" ");if(Y._context.sendData)le.on("click",function(){p.sendDataToCloud(Y)});else{var Z=window.location.pathname.split("/"),$=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Z[2].split(".")[0]+"/"+Z[1]+$})}}p.sendDataToCloud=function(Y){var oe=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(oe){Y.emit("plotly_beforeexport");var le=g.select(Y).append("div").attr("id","hiddenform").style("display","none"),Z=le.append("form").attr({action:oe+"/external",method:"post",target:"_blank"}),$=Z.append("input").attr({type:"text",name:"data"});return $.node().value=p.graphJson(Y,!1,"keepdata"),Z.node().submit(),le.remove(),Y.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(Y,oe){var le=oe&&oe.skipUpdateCalc,Z=Y._fullLayout||{};if(Z._skipDefaults){delete Z._skipDefaults;return}var $=Y._fullLayout={},se=Y.layout||{},ae=Y._fullData||[],he=Y._fullData=[],me=Y.data||[],Me=Y.calcdata||[],Te=Y._context||{},Pe;Y._transitionData||p.createTransitionData(Y),$._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},$._traceWord=o(Y,"trace");var be=E(Y,m);if($._mapboxAccessToken=Te.mapboxAccessToken,Z._initialAutoSizeIsDone){var Ee=Z.width,xe=Z.height;p.supplyLayoutGlobalDefaults(se,$,be),se.width||($.width=Ee),se.height||($.height=xe),p.sanitizeMargins($)}else{p.supplyLayoutGlobalDefaults(se,$,be);var Ce=!se.width||!se.height,Ue=$.autosize,Ne=Te.autosizable,De=Ce&&(Ue||Ne);De?p.plotAutoSize(Y,se,$):Ce&&p.sanitizeMargins($),!Ue&&Ce&&(se.width=$.width,se.height=$.height)}$._d3locale=w(be,$.separators),$._extraFormat=E(Y,L),$._initialAutoSizeIsDone=!0,$._dataLength=me.length,$._modules=[],$._visibleModules=[],$._basePlotModules=[];var He=$._subplots=s(),at=$._splomAxes={x:{},y:{}},vt=$._splomSubplots={};$._splomGridDflt={},$._scatterStackOpts={},$._firstScatter={},$._alignmentOpts={},$._colorAxes={},$._requestRangeslider={},$._traceUids=M(ae,me),$._globalTransforms=(Y._context||{}).globalTransforms,p.supplyDataDefaults(me,he,se,$);var ot=Object.keys(at.x),et=Object.keys(at.y);if(ot.length>1&&et.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,$),Pe=0;Pe<ot.length;Pe++)t.pushUnique(He.xaxis,ot[Pe]);for(Pe=0;Pe<et.length;Pe++)t.pushUnique(He.yaxis,et[Pe]);for(var ct in vt)t.pushUnique(He.cartesian,ct)}if($._has=p._hasPlotType.bind($),ae.length===he.length)for(Pe=0;Pe<he.length;Pe++)c(he[Pe],ae[Pe]);p.supplyLayoutModuleDefaults(se,$,he,Y._transitionData);var ht=$._visibleModules,gt=[];for(Pe=0;Pe<ht.length;Pe++){var xt=ht[Pe].crossTraceDefaults;xt&&t.pushUnique(gt,xt)}for(Pe=0;Pe<gt.length;Pe++)gt[Pe](he,$);$._hasOnlyLargeSploms=$._basePlotModules.length===1&&$._basePlotModules[0].name==="splom"&&ot.length>15&&et.length>15&&$.shapes.length===0&&$.images.length===0,p.linkSubplots(he,$,ae,Z),p.cleanPlot(he,$,ae,Z);var Mt=!!(Z._has&&Z._has("gl2d")),tt=!!($._has&&$._has("gl2d")),Oe=!!(Z._has&&Z._has("cartesian")),Xe=!!($._has&&$._has("cartesian")),Ze=Oe||Mt,We=Xe||tt;Ze&&!We?Z._bgLayer.remove():We&&!Ze&&($._shouldCreateBgLayer=!0),Z._zoomlayer&&!Y._dragging&&u({_fullLayout:Z}),_(he,$),c($,Z),v.getComponentMethod("colorscale","crossTraceDefaults")(he,$),$._preGUI||($._preGUI={}),$._tracePreGUI||($._tracePreGUI={});var ze=$._tracePreGUI,ke={},je;for(je in ze)ke[je]="old";for(Pe=0;Pe<he.length;Pe++)je=he[Pe]._fullInput.uid,ke[je]||(ze[je]={}),ke[je]="new";for(je in ke)ke[je]==="old"&&delete ze[je];U($),v.getComponentMethod("rangeslider","makeData")($),!le&&Me.length===he.length&&p.supplyDefaultsUpdateCalc(Me,he)},p.supplyDefaultsUpdateCalc=function(Y,oe){for(var le=0;le<oe.length;le++){var Z=oe[le],$=(Y[le]||[])[0];if($&&$.trace){var se=$.trace;if(se._hasCalcTransform){var ae=se._arrayAttrs,he,me,Me;for(he=0;he<ae.length;he++)me=ae[he],Me=t.nestedProperty(se,me).get().slice(),t.nestedProperty(Z,me).set(Me)}$.trace=Z}}};function M(Y,oe){var le=oe.length,Z=[],$,se;for($=0;$<Y.length;$++){var ae=Y[$]._fullInput;ae!==se&&Z.push(ae),se=ae}var he=Z.length,me=new Array(le),Me={};function Te(Ee,xe){me[xe]=Ee,Me[Ee]=1}function Pe(Ee,xe){if(Ee&&typeof Ee=="string"&&!Me[Ee])return Te(Ee,xe),!0}for($=0;$<le;$++){var be=oe[$].uid;typeof be=="number"&&(be=String(be)),!Pe(be,$)&&($<he&&Pe(Z[$].uid,$)||Te(t.randstr(Me),$))}return me}function s(){var Y=v.collectableSubplotTypes,oe={},le,Z;if(!Y){Y=[];var $=v.subplotsRegistry;for(var se in $){var ae=$[se],he=ae.attr;if(he&&(Y.push(se),Array.isArray(he)))for(Z=0;Z<he.length;Z++)t.pushUnique(Y,he[Z])}}for(le=0;le<Y.length;le++)oe[Y[le]]=[];return oe}function E(Y,oe){var le=Y._context.locale;le||(le="en-US");var Z=!1,$={};function se(Pe){for(var be=!0,Ee=0;Ee<oe.length;Ee++){var xe=oe[Ee];$[xe]||(Pe[xe]?$[xe]=Pe[xe]:be=!1)}be&&(Z=!0)}for(var ae=0;ae<2;ae++){for(var he=Y._context.locales,me=0;me<2;me++){var Me=(he[le]||{}).format;if(Me&&(se(Me),Z))break;he=v.localeRegistry}var Te=le.split("-")[0];if(Z||Te===le)break;le=Te}return Z||se(v.localeRegistry.en.format),$}function w(Y,oe){return Y.decimal=oe.charAt(0),Y.thousands=oe.charAt(1),{numberFormat:function(le){try{le=i(Y).format(t.adjustFormat(le))}catch{return t.warnBadFormat(le),t.noFormat}return le},timeFormat:R(Y).utcFormat}}function _(Y,oe){var le,Z=[];oe.meta&&(le=oe._meta={meta:oe.meta,layout:{meta:oe.meta}});for(var $=0;$<Y.length;$++){var se=Y[$];se.meta?Z[se.index]=se._meta={meta:se.meta}:oe.meta&&(se._meta={meta:oe.meta}),oe.meta&&(se._meta.layout={meta:oe.meta})}Z.length&&(le||(le=oe._meta={}),le.data=Z)}p.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},p._hasPlotType=function(Y){var oe,le=this._basePlotModules||[];for(oe=0;oe<le.length;oe++)if(le[oe].name===Y)return!0;var Z=this._modules||[];for(oe=0;oe<Z.length;oe++){var $=Z[oe].name;if($===Y)return!0;var se=v.modules[$];if(se&&se.categories[Y])return!0}return!1},p.cleanPlot=function(Y,oe,le,Z){var $,se,ae=Z._basePlotModules||[];for($=0;$<ae.length;$++){var he=ae[$];he.clean&&he.clean(Y,oe,le,Z)}var me=Z._has&&Z._has("gl"),Me=oe._has&&oe._has("gl");me&&!Me&&Z._glcontainer!==void 0&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.selectAll(".no-webgl").remove(),Z._glcanvas=null);var Te=!!Z._infolayer;e:for($=0;$<le.length;$++){var Pe=le[$],be=Pe.uid;for(se=0;se<Y.length;se++){var Ee=Y[se];if(be===Ee.uid)continue e}Te&&Z._infolayer.select(".cb"+be).remove()}},p.linkSubplots=function(Y,oe,le,Z){var $,se,ae=Z._plots||{},he=oe._plots={},me=oe._subplots,Me={_fullData:Y,_fullLayout:oe},Te=me.cartesian.concat(me.gl2d||[]);for($=0;$<Te.length;$++){var Pe=Te[$],be=ae[Pe],Ee=f.getFromId(Me,Pe,"x"),xe=f.getFromId(Me,Pe,"y"),Ce;for(be?Ce=he[Pe]=be:(Ce=he[Pe]={},Ce.id=Pe),Ee._counterAxes.push(xe._id),xe._counterAxes.push(Ee._id),Ee._subplotsWith.push(Pe),xe._subplotsWith.push(Pe),Ce.xaxis=Ee,Ce.yaxis=xe,Ce._hasClipOnAxisFalse=!1,se=0;se<Y.length;se++){var Ue=Y[se];if(Ue.xaxis===Ce.xaxis._id&&Ue.yaxis===Ce.yaxis._id&&Ue.cliponaxis===!1){Ce._hasClipOnAxisFalse=!0;break}}}var Ne=f.list(Me,null,!0),De;for($=0;$<Ne.length;$++){De=Ne[$];var He=null;De.overlaying&&(He=f.getFromId(Me,De.overlaying),He&&He.overlaying&&(De.overlaying=!1,He=null)),De._mainAxis=He||De,He&&(De.domain=He.domain.slice()),De._anchorAxis=De.anchor==="free"?null:f.getFromId(Me,De.anchor)}for($=0;$<Ne.length;$++)if(De=Ne[$],De._counterAxes.sort(f.idSort),De._subplotsWith.sort(t.subplotSort),De._mainSubplot=D(De,oe),De._counterAxes.length&&(De.spikemode&&De.spikemode.indexOf("across")!==-1||De.automargin&&De.mirror&&De.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(De))){var at=1,vt=0;for(se=0;se<De._counterAxes.length;se++){var ot=f.getFromId(Me,De._counterAxes[se]);at=Math.min(at,ot.domain[0]),vt=Math.max(vt,ot.domain[1])}at<vt&&(De._counterDomainMin=at,De._counterDomainMax=vt)}};function D(Y,oe){var le={_fullLayout:oe},Z=Y._id.charAt(0)==="x",$=Y._mainAxis._anchorAxis,se="",ae="",he="";if($&&(he=$._mainAxis._id,se=Z?Y._id+he:he+Y._id),!se||!oe._plots[se]){se="";for(var me=Y._counterAxes,Me=0;Me<me.length;Me++){var Te=me[Me],Pe=Z?Y._id+Te:Te+Y._id;ae||(ae=Pe);var be=f.getFromId(le,Te);if(he&&be.overlaying===he){se=Pe;break}}}return se||ae}p.clearExpandedTraceDefaultColors=function(Y){var oe,le,Z;function $(ae,he,me,Me){le[Me]=he,le.length=Me+1,ae.valType==="color"&&ae.dflt===void 0&&oe.push(le.join("."))}for(le=[],oe=Y._module._colorAttrs,oe||(Y._module._colorAttrs=oe=[],d.crawl(Y._module.attributes,$)),Z=0;Z<oe.length;Z++){var se=t.nestedProperty(Y,"_input."+oe[Z]);se.get()||t.nestedProperty(Y,oe[Z]).set(null)}},p.supplyDataDefaults=function(Y,oe,le,Z){var $=Z._modules,se=Z._visibleModules,ae=Z._basePlotModules,he=0,me=0,Me,Te,Pe;Z._transformModules=[];function be(et){oe.push(et);var ct=et._module;ct&&(t.pushUnique($,ct),et.visible===!0&&t.pushUnique(se,ct),t.pushUnique(ae,et._module.basePlotModule),he++,et._input.visible!==!1&&me++)}var Ee={},xe=[],Ce=(le.template||{}).data||{},Ue=r.traceTemplater(Ce);for(Me=0;Me<Y.length;Me++){if(Pe=Y[Me],Te=Ue.newTrace(Pe),Te.uid=Z._traceUids[Me],p.supplyTraceDefaults(Pe,Te,me,Z,Me),Te.index=Me,Te._input=Pe,Te._expandedIndex=he,Te.transforms&&Te.transforms.length)for(var Ne=Pe.visible!==!1&&Te.visible===!1,De=z(Te,oe,le,Z),He=0;He<De.length;He++){var at=De[He],vt={_template:Te._template,type:Te.type,uid:Te.uid+He};Ne&&at.visible===!1&&delete at.visible,p.supplyTraceDefaults(at,vt,he,Z,Me),c(vt,at),vt.index=Me,vt._input=Pe,vt._fullInput=Te,vt._expandedIndex=he,vt._expandedInput=at,be(vt)}else Te._fullInput=Te,Te._expandedInput=Te,be(Te);v.traceIs(Te,"carpetAxis")&&(Ee[Te.carpet]=Te),v.traceIs(Te,"carpetDependent")&&xe.push(Me)}for(Me=0;Me<xe.length;Me++)if(Te=oe[xe[Me]],!!Te.visible){var ot=Ee[Te.carpet];if(Te._carpet=ot,!ot||!ot.visible){Te.visible=!1;continue}Te.xaxis=ot.xaxis,Te.yaxis=ot.yaxis}},p.supplyAnimationDefaults=function(Y){Y=Y||{};var oe,le={};function Z($,se){return t.coerce(Y||{},le,y,$,se)}if(Z("mode"),Z("direction"),Z("fromcurrent"),Array.isArray(Y.frame))for(le.frame=[],oe=0;oe<Y.frame.length;oe++)le.frame[oe]=p.supplyAnimationFrameDefaults(Y.frame[oe]||{});else le.frame=p.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(le.transition=[],oe=0;oe<Y.transition.length;oe++)le.transition[oe]=p.supplyAnimationTransitionDefaults(Y.transition[oe]||{});else le.transition=p.supplyAnimationTransitionDefaults(Y.transition||{});return le},p.supplyAnimationFrameDefaults=function(Y){var oe={};function le(Z,$){return t.coerce(Y||{},oe,y.frame,Z,$)}return le("duration"),le("redraw"),oe},p.supplyAnimationTransitionDefaults=function(Y){var oe={};function le(Z,$){return t.coerce(Y||{},oe,y.transition,Z,$)}return le("duration"),le("easing"),oe},p.supplyFrameDefaults=function(Y){var oe={};function le(Z,$){return t.coerce(Y,oe,h,Z,$)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),oe},p.supplyTraceDefaults=function(Y,oe,le,Z,$){var se=Z.colorway||a.defaults,ae=se[le%se.length],he;function me(He,at){return t.coerce(Y,oe,p.attributes,He,at)}var Me=me("visible");me("type"),me("name",Z._traceWord+" "+$),me("uirevision",Z.uirevision);var Te=p.getModule(oe);if(oe._module=Te,Te){var Pe=Te.basePlotModule,be=Pe.attr,Ee=Pe.attributes;if(be&&Ee){var xe=Z._subplots,Ce="";if(Me||Pe.name!=="gl2d"){if(Array.isArray(be))for(he=0;he<be.length;he++){var Ue=be[he],Ne=t.coerce(Y,oe,Ee,Ue);xe[Ue]&&t.pushUnique(xe[Ue],Ne),Ce+=Ne}else Ce=t.coerce(Y,oe,Ee,be);xe[Pe.name]&&t.pushUnique(xe[Pe.name],Ce)}}}if(Me){if(me("customdata"),me("ids"),me("meta"),v.traceIs(oe,"showLegend")?(t.coerce(Y,oe,Te.attributes.showlegend?Te.attributes:p.attributes,"showlegend"),me("legend"),me("legendwidth"),me("legendgroup"),me("legendgrouptitle.text"),me("legendrank"),oe._dfltShowLegend=!0):oe._dfltShowLegend=!1,Te&&Te.supplyDefaults(Y,oe,ae,Z),v.traceIs(oe,"noOpacity")||me("opacity"),v.traceIs(oe,"notLegendIsolatable")&&(oe.visible=!!oe.visible),v.traceIs(oe,"noHover")||(oe.hovertemplate||t.coerceHoverinfo(Y,oe,Z),oe.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,oe,ae,Z)),Te&&Te.selectPoints){var De=me("selectedpoints");t.isTypedArray(De)&&(oe.selectedpoints=Array.from(De))}p.supplyTransformDefaults(Y,oe,Z)}return oe};function N(Y){var oe=Y.transforms;if(Array.isArray(oe)&&oe.length)for(var le=0;le<oe.length;le++){var Z=oe[le],$=Z._module||x[Z.type];if($&&$.makesData)return!0}return!1}p.hasMakesDataTransform=N,p.supplyTransformDefaults=function(Y,oe,le){if(oe._length||N(Y)){var Z=le._globalTransforms||[],$=le._transformModules||[];if(!(!Array.isArray(Y.transforms)&&Z.length===0))for(var se=Y.transforms||[],ae=Z.concat(se),he=oe.transforms=[],me=0;me<ae.length;me++){var Me=ae[me],Te=Me.type,Pe=x[Te],be,Ee=!(Me._module&&Me._module===Pe),xe=Pe&&typeof Pe.transform=="function";Pe||t.warn("Unrecognized transform type "+Te+"."),Pe&&Pe.supplyDefaults&&(Ee||xe)?(be=Pe.supplyDefaults(Me,oe,le,Y),be.type=Te,be._module=Pe,t.pushUnique($,Pe)):be=t.extendFlat({},Me),he.push(be)}}};function z(Y,oe,le,Z){for(var $=Y.transforms,se=[Y],ae=0;ae<$.length;ae++){var he=$[ae],me=x[he.type];me&&me.transform&&(se=me.transform(se,{transform:he,fullTrace:Y,fullData:oe,layout:le,fullLayout:Z,transformIndex:ae}))}return se}p.supplyLayoutGlobalDefaults=function(Y,oe,le){function Z(Pe,be){return t.coerce(Y,oe,p.layoutAttributes,Pe,be)}var $=Y.template;t.isPlainObject($)&&(oe.template=$,oe._template=$.layout,oe._dataTemplate=$.data),Z("autotypenumbers");var se=t.coerceFont(Z,"font"),ae=se.size;t.coerceFont(Z,"title.font",t.extendFlat({},se,{size:Math.round(ae*1.4)})),Z("title.text",oe._dfltTitle.plot),Z("title.xref");var he=Z("title.yref");Z("title.pad.t"),Z("title.pad.r"),Z("title.pad.b"),Z("title.pad.l");var me=Z("title.automargin");Z("title.x"),Z("title.xanchor"),Z("title.y"),Z("title.yanchor"),me&&(he==="paper"&&(oe.title.y!==0&&(oe.title.y=1),oe.title.yanchor==="auto"&&(oe.title.yanchor=oe.title.y===0?"top":"bottom")),he==="container"&&(oe.title.y==="auto"&&(oe.title.y=1),oe.title.yanchor==="auto"&&(oe.title.yanchor=oe.title.y<.5?"bottom":"top")));var Me=Z("uniformtext.mode");Me&&Z("uniformtext.minsize"),Z("autosize",!(Y.width&&Y.height)),Z("width"),Z("height"),Z("minreducedwidth"),Z("minreducedheight"),Z("margin.l"),Z("margin.r"),Z("margin.t"),Z("margin.b"),Z("margin.pad"),Z("margin.autoexpand"),Y.width&&Y.height&&p.sanitizeMargins(oe),v.getComponentMethod("grid","sizeDefaults")(Y,oe),Z("paper_bgcolor"),Z("separators",le.decimal+le.thousands),Z("hidesources"),Z("colorway"),Z("datarevision");var Te=Z("uirevision");Z("editrevision",Te),Z("selectionrevision",Te),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,oe),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,oe,Z),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,oe,Z),Z("meta"),t.isPlainObject(Y.transition)&&(Z("transition.duration"),Z("transition.easing"),Z("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,oe,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,oe,Z),t.coerce(Y,oe,l,"scattermode")};function F(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}p.plotAutoSize=function(oe,le,Z){var $=oe._context||{},se=$.frameMargins,ae,he,me=t.isPlotDiv(oe);if(me&&oe.emit("plotly_autosize"),$.fillFrame)ae=window.innerWidth,he=window.innerHeight,document.body.style.overflow="hidden";else{var Me=me?window.getComputedStyle(oe):{};if(ae=F(Me.width)||F(Me.maxWidth)||Z.width,he=F(Me.height)||F(Me.maxHeight)||Z.height,C(se)&&se>0){var Te=1-2*se;ae=Math.round(Te*ae),he=Math.round(Te*he)}}var Pe=p.layoutAttributes.width.min,be=p.layoutAttributes.height.min;ae<Pe&&(ae=Pe),he<be&&(he=be);var Ee=!le.width&&Math.abs(Z.width-ae)>1,xe=!le.height&&Math.abs(Z.height-he)>1;(xe||Ee)&&(Ee&&(Z.width=ae),xe&&(Z.height=he)),oe._initialAutoSize||(oe._initialAutoSize={width:ae,height:he}),p.sanitizeMargins(Z)},p.supplyLayoutModuleDefaults=function(Y,oe,le,Z){var $=v.componentsRegistry,se=oe._basePlotModules,ae,he,me,Me=v.subplotsRegistry.cartesian;for(ae in $)me=$[ae],me.includeBasePlot&&me.includeBasePlot(Y,oe);se.length||se.push(Me),oe._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,oe),Me.finalizeSubplots(Y,oe));for(var Te in oe._subplots)oe._subplots[Te].sort(t.subplotSort);for(he=0;he<se.length;he++)me=se[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(Y,oe,le);var Pe=oe._modules;for(he=0;he<Pe.length;he++)me=Pe[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(Y,oe,le);var be=oe._transformModules;for(he=0;he<be.length;he++)me=be[he],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(Y,oe,le,Z);for(ae in $)me=$[ae],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(Y,oe,le)},p.purge=function(Y){var oe=Y._fullLayout||{};oe._glcontainer!==void 0&&(oe._glcontainer.selectAll(".gl-canvas").remove(),oe._glcontainer.remove(),oe._glcanvas=null),oe._modeBar&&oe._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},p.style=function(Y){var oe=Y._fullLayout._visibleModules,le=[],Z;for(Z=0;Z<oe.length;Z++){var $=oe[Z];$.style&&t.pushUnique(le,$.style)}for(Z=0;Z<le.length;Z++)le[Z](Y)},p.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var oe=Y.width,le=Y.height,Z=Y.margin,$=oe-(Z.l+Z.r),se=le-(Z.t+Z.b),ae;$<0&&(ae=(oe-1)/(Z.l+Z.r),Z.l=Math.floor(ae*Z.l),Z.r=Math.floor(ae*Z.r)),se<0&&(ae=(le-1)/(Z.t+Z.b),Z.t=Math.floor(ae*Z.t),Z.b=Math.floor(ae*Z.b))}},p.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(Y,oe){Y._fullLayout._pushmarginIds[oe]=1};function U(Y){var oe=Y.margin;if(!Y._size){var le=Y._size={l:Math.round(oe.l),r:Math.round(oe.r),t:Math.round(oe.t),b:Math.round(oe.b),p:Math.round(oe.pad)};le.w=Math.round(Y.width)-le.l-le.r,le.h=Math.round(Y.height)-le.t-le.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var B=2,V=2;p.autoMargin=function(Y,oe,le){var Z=Y._fullLayout,$=Z.width,se=Z.height,ae=Z.margin,he=Z.minreducedwidth,me=Z.minreducedheight,Me=t.constrain($-ae.l-ae.r,B,he),Te=t.constrain(se-ae.t-ae.b,V,me),Pe=Math.max(0,$-Me),be=Math.max(0,se-Te),Ee=Z._pushmargin,xe=Z._pushmarginIds;if(ae.autoexpand!==!1){if(!le)delete Ee[oe],delete xe[oe];else{var Ce=le.pad;if(Ce===void 0&&(Ce=Math.min(12,ae.l,ae.r,ae.t,ae.b)),Pe){var Ue=(le.l+le.r)/Pe;Ue>1&&(le.l/=Ue,le.r/=Ue)}if(be){var Ne=(le.t+le.b)/be;Ne>1&&(le.t/=Ne,le.b/=Ne)}var De=le.xl!==void 0?le.xl:le.x,He=le.xr!==void 0?le.xr:le.x,at=le.yt!==void 0?le.yt:le.y,vt=le.yb!==void 0?le.yb:le.y;Ee[oe]={l:{val:De,size:le.l+Ce},r:{val:He,size:le.r+Ce},b:{val:vt,size:le.b+Ce},t:{val:at,size:le.t+Ce}},xe[oe]=1}if(!Z._replotting)return p.doAutoMargin(Y)}};function j(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var oe=f.list(Y,"",!0);for(var le in oe)if(oe[le].autoshift||oe[le].shift)return!0;return!1}p.doAutoMargin=function(Y){var oe=Y._fullLayout,le=oe.width,Z=oe.height;oe._size||(oe._size={}),U(oe);var $=oe._size,se=oe.margin,ae={t:0,b:0,l:0,r:0},he=t.extendFlat({},$),me=se.l,Me=se.r,Te=se.t,Pe=se.b,be=oe._pushmargin,Ee=oe._pushmarginIds,xe=oe.minreducedwidth,Ce=oe.minreducedheight;if(se.autoexpand!==!1){for(var Ue in be)Ee[Ue]||delete be[Ue];var Ne=Y._fullLayout._reservedMargin;for(var De in Ne)for(var He in Ne[De]){var at=Ne[De][He];ae[He]=Math.max(ae[He],at)}be.base={l:{val:0,size:me},r:{val:1,size:Me},t:{val:1,size:Te},b:{val:0,size:Pe}};for(var vt in ae){var ot=0;for(var et in be)et!=="base"&&C(be[et][vt].size)&&(ot=be[et][vt].size>ot?be[et][vt].size:ot);var ct=Math.max(0,se[vt]-ot);ae[vt]=Math.max(0,ae[vt]-ct)}for(var ht in be){var gt=be[ht].l||{},xt=be[ht].b||{},Mt=gt.val,tt=gt.size,Oe=xt.val,Xe=xt.size,Ze=le-ae.r-ae.l,We=Z-ae.t-ae.b;for(var ze in be){if(C(tt)&&be[ze].r){var ke=be[ze].r.val,je=be[ze].r.size;if(ke>Mt){var Ie=(tt*ke+(je-Ze)*Mt)/(ke-Mt),pe=(je*(1-Mt)+(tt-Ze)*(1-ke))/(ke-Mt);Ie+pe>me+Me&&(me=Ie,Me=pe)}}if(C(Xe)&&be[ze].t){var we=be[ze].t.val,Ve=be[ze].t.size;if(we>Oe){var Qe=(Xe*we+(Ve-We)*Oe)/(we-Oe),it=(Ve*(1-Oe)+(Xe-We)*(1-we))/(we-Oe);Qe+it>Pe+Te&&(Pe=Qe,Te=it)}}}}}var st=t.constrain(le-se.l-se.r,B,xe),Wt=t.constrain(Z-se.t-se.b,V,Ce),jt=Math.max(0,le-st),Tt=Math.max(0,Z-Wt);if(jt){var Lt=(me+Me)/jt;Lt>1&&(me/=Lt,Me/=Lt)}if(Tt){var Xt=(Pe+Te)/Tt;Xt>1&&(Pe/=Xt,Te/=Xt)}if($.l=Math.round(me)+ae.l,$.r=Math.round(Me)+ae.r,$.t=Math.round(Te)+ae.t,$.b=Math.round(Pe)+ae.b,$.p=Math.round(se.pad),$.w=Math.round(le)-$.l-$.r,$.h=Math.round(Z)-$.t-$.b,!oe._replotting&&(p.didMarginChange(he,$)||j(Y))){"_redrawFromAutoMarginCount"in oe?oe._redrawFromAutoMarginCount++:oe._redrawFromAutoMarginCount=1;var Tr=3*(1+Object.keys(Ee).length);if(oe._redrawFromAutoMarginCount<Tr)return v.call("_doPlot",Y);oe._size=he,t.warn("Too many auto-margin redraws.")}Q(Y)};function Q(Y){var oe=f.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(le){for(var Z=0;Z<oe.length;Z++){var $=oe[Z][le];$&&$()}})}var ee=["l","r","t","b","p","w","h"];p.didMarginChange=function(Y,oe){for(var le=0;le<ee.length;le++){var Z=ee[le],$=Y[Z],se=oe[Z];if(!C($)||Math.abs(se-$)>1)return!0}return!1},p.graphJson=function(Y,oe,le,Z,$,se){($&&oe&&!Y._fullData||$&&!oe&&!Y._fullLayout)&&p.supplyDefaults(Y);var ae=$?Y._fullData:Y.data,he=$?Y._fullLayout:Y.layout,me=(Y._transitionData||{})._frames;function Me(be,Ee){if(typeof be=="function")return Ee?"_function_":null;if(t.isPlainObject(be)){var xe={},Ce;return Object.keys(be).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof be[He]=="function"){Ee&&(xe[He]="_function");return}if(le==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(le==="keepstream"){if(Ce=be[He+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0&&!t.isPlainObject(be.stream))return}else if(le!=="keepall"&&(Ce=be[He+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0))return;xe[He]=Me(be[He],Ee)}}),xe}var Ue=Array.isArray(be),Ne=t.isTypedArray(be);if((Ue||Ne)&&be.dtype&&be.shape){var De=be.bdata;return Me({dtype:be.dtype,shape:be.shape,bdata:t.isArrayBuffer(De)?S.encode(De):De},Ee)}return Ue?be.map(function(He){return Me(He,Ee)}):Ne?t.simpleMap(be,t.identity):t.isJSDate(be)?t.ms2DateTimeLocal(+be):be}var Te={data:(ae||[]).map(function(be){var Ee=Me(be);return oe&&delete Ee.fit,Ee})};if(!oe&&(Te.layout=Me(he),$)){var Pe=he._size;Te.layout.computed={margin:{b:Pe.b,l:Pe.l,r:Pe.r,t:Pe.t}}}return me&&(Te.frames=Me(me)),se&&(Te.config=Me(Y._context,!0)),Z==="object"?Te:JSON.stringify(Te)},p.modifyFrames=function(Y,oe){var le,Z,$,se=Y._transitionData._frames,ae=Y._transitionData._frameHash;for(le=0;le<oe.length;le++)switch(Z=oe[le],Z.type){case"replace":$=Z.value;var he=(se[Z.index]||{}).name,me=$.name;se[Z.index]=ae[me]=$,me!==he&&(delete ae[he],ae[me]=$);break;case"insert":$=Z.value,ae[$.name]=$,se.splice(Z.index,0,$);break;case"delete":$=se[Z.index],delete ae[$.name],se.splice(Z.index,1);break}return Promise.resolve()},p.computeFrame=function(Y,oe){var le=Y._transitionData._frameHash,Z,$,se,ae;if(!oe)throw new Error("computeFrame must be given a string frame name");var he=le[oe.toString()];if(!he)return!1;for(var me=[he],Me=[he.name];he.baseframe&&(he=le[he.baseframe.toString()])&&Me.indexOf(he.name)===-1;)me.push(he),Me.push(he.name);for(var Te={};he=me.pop();)if(he.layout&&(Te.layout=p.extendLayout(Te.layout,he.layout)),he.data){if(Te.data||(Te.data=[]),$=he.traces,!$)for($=[],Z=0;Z<he.data.length;Z++)$[Z]=Z;for(Te.traces||(Te.traces=[]),Z=0;Z<he.data.length;Z++)se=$[Z],se!=null&&(ae=Te.traces.indexOf(se),ae===-1&&(ae=Te.data.length,Te.traces[ae]=se),Te.data[ae]=p.extendTrace(Te.data[ae],he.data[Z]))}return Te},p.recomputeFrameHash=function(Y){for(var oe=Y._transitionData._frameHash={},le=Y._transitionData._frames,Z=0;Z<le.length;Z++){var $=le[Z];$&&$.name&&(oe[$.name]=$)}},p.extendObjectWithContainers=function(Y,oe,le){var Z,$,se,ae,he,me,Me,Te,Pe=t.extendDeepNoArrays({},oe||{}),be=t.expandObjectPaths(Pe),Ee={};if(le&&le.length)for(se=0;se<le.length;se++)Z=t.nestedProperty(be,le[se]),$=Z.get(),$===void 0?t.nestedProperty(Ee,le[se]).set(null):(Z.set(null),t.nestedProperty(Ee,le[se]).set($));if(Y=t.extendDeepNoArrays(Y||{},be),le&&le.length){for(se=0;se<le.length;se++)if(he=t.nestedProperty(Ee,le[se]),Me=he.get(),!!Me){for(me=t.nestedProperty(Y,le[se]),Te=me.get(),Array.isArray(Te)||(Te=[],me.set(Te)),ae=0;ae<Me.length;ae++){var xe=Me[ae];xe===null?Te[ae]=null:Te[ae]=p.extendObjectWithContainers(Te[ae],xe)}me.set(Te)}}return Y},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=v.layoutArrayContainers,p.extendTrace=function(Y,oe){return p.extendObjectWithContainers(Y,oe,p.dataArrayContainers)},p.extendLayout=function(Y,oe){return p.extendObjectWithContainers(Y,oe,p.layoutArrayContainers)},p.transition=function(Y,oe,le,Z,$,se){var ae={redraw:$.redraw},he={},me=[];return ae.prepareFn=function(){for(var Me=Array.isArray(oe)?oe.length:0,Te=Z.slice(0,Me),Pe=0;Pe<Te.length;Pe++){var be=Te[Pe],Ee=Y._fullData[be],xe=Ee._module;if(xe){if(xe.animatable){var Ce=xe.basePlotModule.name;he[Ce]||(he[Ce]=[]),he[Ce].push(be)}Y.data[Te[Pe]]=p.extendTrace(Y.data[Te[Pe]],oe[Pe])}}var Ue=t.expandObjectPaths(t.extendDeepNoArrays({},le)),Ne=/^[xy]axis[0-9]*$/;for(var De in Ue)Ne.test(De)&&delete Ue[De].range;p.extendLayout(Y.layout,Ue),delete Y.calcdata,p.supplyDefaults(Y),p.doCalcdata(Y);var He=t.expandObjectPaths(le);if(He){var at=Y._fullLayout._plots;for(var vt in at){var ot=at[vt],et=ot.xaxis,ct=ot.yaxis,ht=et.range.slice(),gt=ct.range.slice(),xt=null,Mt=null,tt=null,Oe=null;Array.isArray(He[et._name+".range"])?xt=He[et._name+".range"].slice():Array.isArray((He[et._name]||{}).range)&&(xt=He[et._name].range.slice()),Array.isArray(He[ct._name+".range"])?Mt=He[ct._name+".range"].slice():Array.isArray((He[ct._name]||{}).range)&&(Mt=He[ct._name].range.slice()),ht&&xt&&(et.r2l(ht[0])!==et.r2l(xt[0])||et.r2l(ht[1])!==et.r2l(xt[1]))&&(tt={xr0:ht,xr1:xt}),gt&&Mt&&(ct.r2l(gt[0])!==ct.r2l(Mt[0])||ct.r2l(gt[1])!==ct.r2l(Mt[1]))&&(Oe={yr0:gt,yr1:Mt}),(tt||Oe)&&me.push(t.extendFlat({plotinfo:ot},tt,Oe))}}return Promise.resolve()},ae.runFn=function(Me){var Te,Pe=Y._fullLayout._basePlotModules,be=me.length,Ee;if(le)for(Ee=0;Ee<Pe.length;Ee++)Pe[Ee].transitionAxes&&Pe[Ee].transitionAxes(Y,me,se,Me);be?(Te=t.extendFlat({},se),Te.duration=0,delete he.cartesian):Te=se;for(var xe in he){var Ce=he[xe],Ue=Y._fullData[Ce[0]]._module;Ue.basePlotModule.plot(Y,Ce,Te,Me)}},re(Y,se,ae)},p.transitionFromReact=function(Y,oe,le,Z){var $=Y._fullLayout,se=$.transition,ae={},he=[];return ae.prepareFn=function(){var me=$._plots;ae.redraw=!1,oe.anim==="some"&&(ae.redraw=!0),le.anim==="some"&&(ae.redraw=!0);for(var Me in me){var Te=me[Me],Pe=Te.xaxis,be=Te.yaxis,Ee=Z[Pe._name].range.slice(),xe=Z[be._name].range.slice(),Ce=Pe.range.slice(),Ue=be.range.slice();Pe.setScale(),be.setScale();var Ne=null,De=null;(Pe.r2l(Ee[0])!==Pe.r2l(Ce[0])||Pe.r2l(Ee[1])!==Pe.r2l(Ce[1]))&&(Ne={xr0:Ee,xr1:Ce}),(be.r2l(xe[0])!==be.r2l(Ue[0])||be.r2l(xe[1])!==be.r2l(Ue[1]))&&(De={yr0:xe,yr1:Ue}),(Ne||De)&&he.push(t.extendFlat({plotinfo:Te},Ne,De))}return Promise.resolve()},ae.runFn=function(me){for(var Me=Y._fullData,Te=Y._fullLayout,Pe=Te._basePlotModules,be,Ee,xe,Ce=[],Ue=0;Ue<Me.length;Ue++)Ce.push(Ue);function Ne(){if(Y._fullLayout)for(var He=0;He<Pe.length;He++)Pe[He].transitionAxes&&Pe[He].transitionAxes(Y,he,be,me)}function De(){if(Y._fullLayout)for(var He=0;He<Pe.length;He++)Pe[He].plot(Y,xe,Ee,me)}he.length&&oe.anim?se.ordering==="traces first"?(be=t.extendFlat({},se,{duration:0}),xe=Ce,Ee=se,setTimeout(Ne,se.duration),De()):(be=se,xe=null,Ee=t.extendFlat({},se,{duration:0}),setTimeout(De,be.duration),Ne()):he.length?(be=se,Ne()):oe.anim&&(xe=Ce,Ee=se,De())},re(Y,se,ae)};function re(Y,oe,le){var Z=!1;function $(Pe){var be=Promise.resolve();if(!Pe)return be;for(;Pe.length;)be=be.then(Pe.shift());return be}function se(Pe){if(Pe)for(;Pe.length;)Pe.shift()}function ae(){return Y.emit("plotly_transitioning",[]),new Promise(function(Pe){Y._transitioning=!0,oe.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){Z=!0}),le.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var be=0,Ee=0;function xe(){return be++,function(){Ee++,!Z&&Ee===be&&he(Pe)}}le.runFn(xe),setTimeout(xe())})}function he(Pe){if(Y._transitionData)return se(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(Pe)}function me(){if(Y._transitionData)return Y._transitioning=!1,$(Y._transitionData._interruptCallbacks)}var Me=[p.previousPromises,me,le.prepareFn,p.rehover,p.reselect,ae],Te=t.syncOrAsync(Me,Y);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return Y})}p.doCalcdata=function(Y,oe){var le=f.list(Y),Z=Y._fullData,$=Y._fullLayout,se,ae,he,me,Me=new Array(Z.length),Te=(Y.calcdata||[]).slice();for(Y.calcdata=Me,$._numBoxes=0,$._numViolins=0,$._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,$._piecolormap={},$._sunburstcolormap={},$._treemapcolormap={},$._iciclecolormap={},$._funnelareacolormap={},he=0;he<Z.length;he++)if(Array.isArray(oe)&&oe.indexOf(he)===-1){Me[he]=Te[he];continue}for(he=0;he<Z.length;he++)se=Z[he],se._arrayAttrs=d.findArrayAttributes(se),se._extremes={};var Pe=$._subplots.polar||[];for(he=0;he<Pe.length;he++)le.push($[Pe[he]].radialaxis,$[Pe[he]].angularaxis);for(var be in $._colorAxes){var Ee=$[be];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var xe=!1;function Ce(De){if(se=Z[De],ae=se._module,se.visible===!0&&se.transforms){if(ae&&ae.calc){var He=ae.calc(Y,se);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(me=0;me<se.transforms.length;me++){var at=se.transforms[me];ae=x[at.type],ae&&ae.calcTransform&&(se._hasCalcTransform=!0,xe=!0,ae.calcTransform(Y,se,at))}}}function Ue(De,He){if(se=Z[De],ae=se._module,!!ae.isContainer===He){var at=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var vt=se.transforms||[];for(me=vt.length-1;me>=0;me--)if(vt[me].enabled){se._indexToPoints=vt[me]._indexToPoints;break}ae&&ae.calc&&(at=ae.calc(Y,se))}(!Array.isArray(at)||!at[0])&&(at=[{x:n,y:n}]),at[0].t||(at[0].t={}),at[0].trace=se,Me[De]=at}}for(X(le,Z,$),he=0;he<Z.length;he++)Ue(he,!0);for(he=0;he<Z.length;he++)Ce(he);for(xe&&X(le,Z,$),he=0;he<Z.length;he++)Ue(he,!0);for(he=0;he<Z.length;he++)Ue(he,!1);ne(Y);var Ne=J(le,Y);if(Ne.length){for($._numBoxes=0,$._numViolins=0,he=0;he<Ne.length;he++)Ue(Ne[he],!0);for(he=0;he<Ne.length;he++)Ue(Ne[he],!1);ne(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(Y,oe){var le=[],Z,$,se,ae,he;function me(ze,ke,je){var Ie=ke._id.charAt(0);if(ze==="histogram2dcontour"){var pe=ke._counterAxes[0],we=f.getFromId(oe,pe),Ve=Ie==="x"||pe==="x"&&we.type==="category",Qe=Ie==="y"||pe==="y"&&we.type==="category";return function(it,st){return it===0||st===0||Ve&&it===je[st].length-1||Qe&&st===je.length-1?-1:(Ie==="y"?st:it)-1}}else return function(it,st){return Ie==="y"?st:it}}var Me={min:function(ze){return t.aggNums(Math.min,null,ze)},max:function(ze){return t.aggNums(Math.max,null,ze)},sum:function(ze){return t.aggNums(function(ke,je){return ke+je},null,ze)},total:function(ze){return t.aggNums(function(ke,je){return ke+je},null,ze)},mean:function(ze){return t.mean(ze)},median:function(ze){return t.median(ze)}};function Te(ze,ke){return ze[1]-ke[1]}function Pe(ze,ke){return ke[1]-ze[1]}for(Z=0;Z<Y.length;Z++){var be=Y[Z];if(be.type==="category"){var Ee=be.categoryorder.match(ue);if(Ee){var xe=Ee[1],Ce=Ee[2],Ue=be._id.charAt(0),Ne=Ue==="x",De=[];for($=0;$<be._categories.length;$++)De.push([be._categories[$],[]]);for($=0;$<be._traceIndices.length;$++){var He=be._traceIndices[$],at=oe._fullData[He];if(at.visible===!0){var vt=at.type;v.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var ot=vt==="splom",et=vt==="scattergl",ct=oe.calcdata[He];for(se=0;se<ct.length;se++){var ht=ct[se],gt,xt;if(ot){var Mt=at._axesDim[be._id];if(!Ne){var tt=at._diag[Mt][0];tt&&(be=oe._fullLayout[f.id2name(tt)])}var Oe=ht.trace.dimensions[Mt].values;for(ae=0;ae<Oe.length;ae++)for(gt=be._categoriesMap[Oe[ae]],he=0;he<ht.trace.dimensions.length;he++)if(he!==Mt){var Xe=ht.trace.dimensions[he];De[gt][1].push(Xe.values[ae])}}else if(et){for(ae=0;ae<ht.t.x.length;ae++)Ne?(gt=ht.t.x[ae],xt=ht.t.y[ae]):(gt=ht.t.y[ae],xt=ht.t.x[ae]),De[gt][1].push(xt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){xt=ht.z;var Ze=me(at.type,be,xt);for(ae=0;ae<xt.length;ae++)for(he=0;he<xt[ae].length;he++)gt=Ze(he,ae),gt+1&&De[gt][1].push(xt[ae][he])}else for(gt=ht.p,gt===void 0&&(gt=ht[Ue]),xt=ht.s,xt===void 0&&(xt=ht.v),xt===void 0&&(xt=Ne?ht.y:ht.x),Array.isArray(xt)||(xt===void 0?xt=[]:xt=[xt]),ae=0;ae<xt.length;ae++)De[gt][1].push(xt[ae])}}}be._categoriesValue=De;var We=[];for($=0;$<De.length;$++)We.push([De[$][0],Me[xe](De[$][1])]);We.sort(Ce==="descending"?Pe:Te),be._categoriesAggregatedValue=We,be._initialCategories=We.map(function(ze){return ze[0]}),le=le.concat(be.sortByInitialCategories())}}}return le}function X(Y,oe,le){var Z={};function $(me){me.clearCalc(),me.type==="multicategory"&&me.setupMultiCategory(oe),Z[me._id]=1}t.simpleMap(Y,$);for(var se=le._axisMatchGroups||[],ae=0;ae<se.length;ae++)for(var he in se[ae])Z[he]||$(le[f.id2name(he)])}function ne(Y){var oe=Y._fullLayout,le=oe._visibleModules,Z={},$,se,ae;for(se=0;se<le.length;se++){var he=le[se],me=he.crossTraceCalc;if(me){var Me=he.basePlotModule.name;Z[Me]?t.pushUnique(Z[Me],me):Z[Me]=[me]}}for(ae in Z){var Te=Z[ae],Pe=oe._subplots[ae];if(Array.isArray(Pe))for($=0;$<Pe.length;$++){var be=Pe[$],Ee=ae==="cartesian"?oe._plots[be]:oe[be];for(se=0;se<Te.length;se++)Te[se](Y,Ee,be)}else for(se=0;se<Te.length;se++)Te[se](Y)}}p.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},p.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},p.reselect=function(Y){var oe=Y._fullLayout,le=(Y.layout||{}).selections,Z=oe._previousSelections;oe._previousSelections=le;var $=oe._reselect||JSON.stringify(le)!==JSON.stringify(Z);v.getComponentMethod("selections","reselect")(Y,$)},p.generalUpdatePerTraceModule=function(Y,oe,le,Z){var $=oe.traceHash,se={},ae;for(ae=0;ae<le.length;ae++){var he=le[ae],me=he[0].trace;me.visible&&(se[me.type]=se[me.type]||[],se[me.type].push(he))}for(var Me in $)if(!se[Me]){var Te=$[Me][0],Pe=Te[0].trace;Pe.visible=!1,se[Me]=[Te]}for(var be in se){var Ee=se[be],xe=Ee[0][0].trace._module;xe.plot(Y,oe,t.filterVisible(Ee),Z)}oe.traceHash=se},p.plotBasePlot=function(Y,oe,le,Z,$){var se=v.getModule(Y),ae=T(oe.calcdata,se)[0];se.plot(oe,ae,Z,$)},p.cleanBasePlot=function(Y,oe,le,Z,$){var se=$._has&&$._has(Y),ae=le._has&&le._has(Y);se&&!ae&&$["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,H,e){var g=e(3400),R=e(92065).tester,i=g.findIndexOfMin,C=g.isAngleInsideSector,S=g.angleDelta,v=g.angleDist;function d(o,p,x,b,P){if(!C(p,b))return!1;var m,L;x[0]<x[1]?(m=x[0],L=x[1]):(m=x[1],L=x[0]);var M=R(f(m,b[0],b[1],P)),s=R(f(L,b[0],b[1],P)),E=[o*Math.cos(p),o*Math.sin(p)];return s.contains(E)&&!M.contains(E)}function r(o,p,x,b){var P,m,L=b[0],M=b[1],s=y(Math.sin(p)-Math.sin(o)),E=y(Math.cos(p)-Math.cos(o)),w=Math.tan(x),_=y(1/w),D=s/E,N=M-D*L;return _?s&&E?(P=N/(w-D),m=w*P):E?(P=M*_,m=M):(P=L,m=L*w):s&&E?(P=0,m=N):E?(P=0,m=M):P=m=NaN,[P,m]}function t(o,p,x,b){var P=-p*x,m=p*p+1,L=2*(p*P-x),M=P*P+x*x-o*o,s=Math.sqrt(L*L-4*m*M),E=(-L+s)/(2*m),w=(-L-s)/(2*m);return[[E,p*E+P+b],[w,p*w+P+b]]}function a(o,p){var x=p.length,b=new Array(x+1),P;for(P=0;P<x;P++){var m=p[P];b[P]=[o*Math.cos(m),o*Math.sin(m)]}return b[P]=b[0].slice(),b}function n(o,p,x,b){var P=b.length,m=[],L,M;function s(B){return[o*Math.cos(B),o*Math.sin(B)]}function E(B,V,j){return r(B,V,j,s(B))}function w(B){return g.mod(B,P)}function _(B){return C(B,[p,x])}var D=i(b,function(B){return _(B)?v(B,p):1/0}),N=E(b[D],b[w(D-1)],p);for(m.push(N),L=D,M=0;M<P;L++,M++){var z=b[w(L)];if(!_(z))break;m.push(s(z))}var F=i(b,function(B){return _(B)?v(B,x):1/0}),U=E(b[F],b[w(F+1)],x);return m.push(U),m.push([0,0]),m.push(m[0].slice()),m}function f(o,p,x,b){return g.isFullCircle([p,x])?a(o,b):n(o,p,x,b)}function u(o,p,x,b){for(var P=1/0,m=1/0,L=f(o,p,x,b),M=0;M<L.length;M++){var s=L[M];P=Math.min(P,s[0]),m=Math.min(m,-s[1])}return[P,m]}function l(o,p){var x=function(m){var L=S(m,o);return L>0?L:1/0},b=i(p,x),P=g.mod(b+1,p.length);return[p[b],p[P]]}function y(o){return Math.abs(o)>1e-10?o:0}function h(o,p,x){p=p||0,x=x||0;for(var b=o.length,P=new Array(b),m=0;m<b;m++){var L=o[m];P[m]=[p+L[0],x-L[1]]}return P}function T(o,p,x,b,P,m){var L=f(o,p,x,b);return"M"+h(L,P,m).join("L")}function c(o,p,x,b,P,m,L){var M,s;o<p?(M=o,s=p):(M=p,s=o);var E=h(f(M,x,b,P),m,L),w=h(f(s,x,b,P),m,L);return"M"+w.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:d,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(G,H,e){var g=e(84888).KY,R=e(3400).counterRegex,i=e(62400),C=e(39360),S=C.attr,v=C.name,d=R(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],y=0;y<l.length;y++){var h=l[y],T=g(u,v,h),c=f[h]._subplot;c||(c=i(n,h),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var y=l._subplots[v]||[],h=l._has&&l._has("gl"),T=f._has&&f._has("gl"),c=h&&!T,o=0;o<y.length;o++){var p=y[o],x=l[p]._subplot;if(!f[p]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var b in x.clipPaths)x.clipPaths[b].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}G.exports={attr:S,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:a,toSVG:e(57952).toSVG}},95300:function(G,H,e){var g=e(22548),R=e(94724),i=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),d=S({tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,ticklabelstep:R.ticklabelstep,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,tickformatstops:R.tickformatstops,layer:R.layer},"plot","from-root"),r={visible:C({},R.visible,{dflt:!0}),type:C({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},autorange:C({},R.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},R.minallowed,{editType:"plot"}),maxallowed:C({},R.maxallowed,{editType:"plot"}),range:C({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:R.categoryorder,categoryarray:R.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:R.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},R.title.text,{editType:"plot",dflt:""}),font:C({},R.title.font,{editType:"plot"}),editType:"plot"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}};C(r,v,d);var t={visible:C({},R.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:R.autotypenumbers,categoryorder:R.categoryorder,categoryarray:R.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,d),G.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,H,e){var g=e(3400),R=e(76308),i=e(31780),C=e(168),S=e(84888).op,v=e(26332),d=e(25404),r=e(95936),t=e(42568),a=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),y=e(57696),h=e(39360),T=h.axisNames;function c(p,x,b,P){var m=b("bgcolor");P.bgColor=R.combine(m,P.paper_bgcolor);var L=b("sector");b("hole");var M=S(P.fullData,h.name,P.id),s=P.layoutOut,E;function w($,se){return b(E+"."+$,se)}for(var _=0;_<T.length;_++){E=T[_],g.isPlainObject(p[E])||(p[E]={});var D=p[E],N=i.newContainer(x,E);N._id=N._name=E,N._attr=P.id+"."+E,N._traceIndices=M.map(function($){return $._expandedIndex});var z=h.axisName2dataArray[E],F=o(D,N,w,M,z,P);a(D,N,w,{axData:M,dataAttr:z});var U=w("visible");switch(y(N,x,s),w("uirevision",x.uirevision),N._m=1,E){case"radialaxis":w("minallowed"),w("maxallowed");var B=w("range"),V=N.getAutorangeDflt(B),j=w("autorange",V),Q;B&&(B[0]===null&&B[1]===null||(B[0]===null||B[1]===null)&&(j==="reversed"||j===!0)||B[0]!==null&&(j==="min"||j==="max reversed")||B[1]!==null&&(j==="max"||j==="min reversed"))&&(B=void 0,delete N.range,N.autorange=!0,Q=!0),Q||(V=N.getAutorangeDflt(B),j=w("autorange",V)),D.autorange=j,j&&(f(w,j,B),(F==="linear"||F==="-")&&w("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){g.log("Polar plots do not support date angular axes yet.");for(var ee=0;ee<M.length;ee++)M[ee].visible=!1;F=D.type=N.type="linear"}w(F==="linear"?"thetaunit":"period");var re=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[re]);break}if(t(D,N,w,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),U){var ue,J,X,ne,Y,oe,le,Z=P.font||{};ue=w("color"),J=ue===D.color?ue:Z.color,X=Z.size,ne=Z.family,Y=Z.weight,oe=Z.style,le=Z.variant,v(D,N,w,N.type),r(D,N,w,N.type,{font:{weight:Y,style:oe,variant:le,color:J,size:X,family:ne},noAutotickangles:E==="angularaxis"}),d(D,N,w,{outerTicks:!0}),n(D,N,w,{dfltColor:ue,bgColor:P.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),w("layer"),E==="radialaxis"&&(w("side"),w("angle",L[0]),w("title.text"),g.coerceFont(w,"title.font",{weight:Y,style:oe,variant:le,color:J,size:g.bigFont(X),family:ne}))}F!=="category"&&w("hoverformat"),N._input=D}x.angularaxis.type==="category"&&b("gridshape")}function o(p,x,b,P,m,L){var M=b("autotypenumbers",L.autotypenumbersDflt),s=b("type");if(s==="-"){for(var E,w=0;w<P.length;w++)if(P[w].visible){E=P[w];break}E&&E[m]&&(x.type=u(E[m],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),x.type==="-"?x.type="linear":p.type=x.type}return x.type}G.exports=function(x,b,P){C(x,b,P,{type:h.name,attributes:l,handleDefaults:c,font:b.font,autotypenumbersDflt:b.autotypenumbers,paper_bgcolor:b.paper_bgcolor,fullData:P,layoutOut:b})}},62400:function(G,H,e){var g=e(33428),R=e(49760),i=e(24040),C=e(3400),S=C.strRotate,v=C.strTranslate,d=e(76308),r=e(43616),t=e(7316),a=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),y=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,p=e(22676).clearOutline,x=e(93972),b=e(73696),P=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,L=e(39360),M=e(57384),s=e(36416),E=s.smith,w=s.reactanceArc,_=s.resistanceArc,D=s.smithTransform,N=C._,z=C.mod,F=C.deg2rad,U=C.rad2deg;function B(ue,J,X){this.isSmith=X||!1,this.id=J,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ne=ue._fullLayout,Y="clip"+ne._uid+J;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=ne._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ne["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(oe){return this.isSmith?0:oe.hole},this.getSector=function(oe){return this.isSmith?[0,360]:oe.sector},this.getRadial=function(oe){return this.isSmith?oe.realaxis:oe.radialaxis},this.getAngular=function(oe){return this.isSmith?oe.imaginaryaxis:oe.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=B.prototype;G.exports=function(J,X,ne){return new B(J,X,ne)},V.plot=function(ue,J){for(var X=this,ne=J[X.id],Y=!1,oe=0;oe<ue.length;oe++){var le=ue[oe][0].trace;if(le.cliponaxis===!1){Y=!0;break}}X._hasClipOnAxisFalse=Y,X.updateLayers(J,ne),X.updateLayout(J,ne),t.generalUpdatePerTraceModule(X.gd,X,ue,ne),X.updateFx(J,ne),X.isSmith&&(delete ne.realaxis.range,delete ne.imaginaryaxis.range)},V.updateLayers=function(ue,J){var X=this,ne=X.isSmith,Y=X.layers,oe=X.getRadial(J),le=X.getAngular(J),Z=L.layerNames,$=Z.indexOf("frontplot"),se=Z.slice(0,$),ae=le.layer==="below traces",he=oe.layer==="below traces";ae&&se.push("angular-line"),he&&se.push("radial-line"),ae&&se.push("angular-axis"),he&&se.push("radial-axis"),se.push("frontplot"),ae||se.push("angular-line"),he||se.push("radial-line"),ae||se.push("angular-axis"),he||se.push("radial-axis");var me=(ne?"smith":"polar")+"sublayer",Me=X.framework.selectAll("."+me).data(se,String);Me.enter().append("g").attr("class",function(Te){return me+" "+Te}).each(function(Te){var Pe=Y[Te]=g.select(this);switch(Te){case"frontplot":ne||Pe.append("g").classed("barlayer",!0),Pe.append("g").classed("scatterlayer",!0);break;case"backplot":Pe.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=Pe.append("path");break;case"radial-grid":Pe.style("fill","none");break;case"angular-grid":Pe.style("fill","none");break;case"radial-line":Pe.append("line").style("fill","none");break;case"angular-line":Pe.append("path").style("fill","none");break}}),Me.order()},V.updateLayout=function(ue,J){var X=this,ne=X.layers,Y=ue._size,oe=X.getRadial(J),le=X.getAngular(J),Z=J.domain.x,$=J.domain.y;X.xOffset=Y.l+Y.w*Z[0],X.yOffset=Y.t+Y.h*(1-$[1]);var se=X.xLength=Y.w*(Z[1]-Z[0]),ae=X.yLength=Y.h*($[1]-$[0]),he=X.getSector(J);X.sectorInRad=he.map(F);var me=X.sectorBBox=Q(he),Me=me[2]-me[0],Te=me[3]-me[1],Pe=ae/se,be=Math.abs(Te/Me),Ee,xe,Ce,Ue,Ne;Pe>be?(Ee=se,xe=se*be,Ne=(ae-xe)/Y.h/2,Ce=[Z[0],Z[1]],Ue=[$[0]+Ne,$[1]-Ne]):(Ee=ae/be,xe=ae,Ne=(se-Ee)/Y.w/2,Ce=[Z[0]+Ne,Z[1]-Ne],Ue=[$[0],$[1]]),X.xLength2=Ee,X.yLength2=xe,X.xDomain2=Ce,X.yDomain2=Ue;var De=X.xOffset2=Y.l+Y.w*Ce[0],He=X.yOffset2=Y.t+Y.h*(1-Ue[1]),at=X.radius=Ee/Me,vt=X.innerRadius=X.getHole(J)*at,ot=X.cx=De-at*me[0],et=X.cy=He+at*me[3],ct=X.cxx=ot-De,ht=X.cyy=et-He,gt=oe.side,xt;gt==="counterclockwise"?(xt=gt,gt="top"):gt==="clockwise"&&(xt=gt,gt="bottom"),X.radialAxis=X.mockAxis(ue,J,oe,{_id:"x",side:gt,_trueSide:xt,domain:[vt/Y.w,at/Y.w]}),X.angularAxis=X.mockAxis(ue,J,le,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(ue,J),X.updateAngularAxis(ue,J),X.updateRadialAxis(ue,J),X.updateRadialAxisTitle(ue,J),X.xaxis=X.mockCartesianAxis(ue,J,{_id:"x",domain:Ce}),X.yaxis=X.mockCartesianAxis(ue,J,{_id:"y",domain:Ue});var Mt=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ct,ht)),ne.frontplot.attr("transform",v(De,He)).call(r.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),ne.bg.attr("d",Mt).attr("transform",v(ot,et)).call(d.fill,J.bgcolor)},V.mockAxis=function(ue,J,X,ne){var Y=C.extendFlat({},X,ne);return f(Y,J,ue),Y},V.mockCartesianAxis=function(ue,J,X){var ne=this,Y=ne.isSmith,oe=X._id,le=C.extendFlat({type:"linear"},X);n(le,ue);var Z={x:[0,2],y:[1,3]};return le.setRange=function(){var $=ne.sectorBBox,se=Z[oe],ae=ne.radialAxis._rl,he=(ae[1]-ae[0])/(1-ne.getHole(J));le.range=[$[se[0]]*he,$[se[1]]*he]},le.isPtWithinRange=oe==="x"&&!Y?function($){return ne.isPtInside($)}:function(){return!0},le.setRange(),le.setScale(),le},V.doAutoRange=function(ue,J){var X=this,ne=X.gd,Y=X.radialAxis,oe=X.getRadial(J);u(ne,Y);var le=Y.range;if(oe.range=le.slice(),oe._input.range=le.slice(),Y._rl=[Y.r2l(le[0],null,"gregorian"),Y.r2l(le[1],null,"gregorian")],Y.minallowed!==void 0){var Z=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],Z):Y._rl[0]=Math.max(Y._rl[0],Z)}if(Y.maxallowed!==void 0){var $=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],$):Y._rl[0]=Math.min(Y._rl[0],$)}},V.updateRadialAxis=function(ue,J){var X=this,ne=X.gd,Y=X.layers,oe=X.radius,le=X.innerRadius,Z=X.cx,$=X.cy,se=X.getRadial(J),ae=z(X.getSector(J)[0],360),he=X.radialAxis,me=le<oe,Me=X.isSmith;Me||(X.fillViewInitialKey("radialaxis.angle",se.angle),X.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ae>90&&ae<=270&&(he.tickangle=180);var Te=Me?function(at){var vt=D(X,E([at.x,0]));return v(vt[0]-Z,vt[1]-$)}:function(at){return v(he.l2p(at.x)+le,0)},Pe=Me?function(at){return _(X,at.x,-1/0,1/0)}:function(at){return X.pathArc(he.r2p(at.x)+le)},be=j(se);if(X.radialTickLayout!==be&&(Y["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=be),me){he.setScale();var Ee=0,xe=Me?(he.tickvals||[]).filter(function(at){return at>=0}).map(function(at){return a.tickText(he,at,!0,!1)}):a.calcTicks(he),Ce=Me?xe:a.clipEnds(he,xe),Ue=a.getTickSigns(he)[2];Me&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ue=-Ue),he.ticks==="top"&&he.side==="top"&&(Ee=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ee=he.ticklen)),a.drawTicks(ne,he,{vals:xe,layer:Y["radial-axis"],path:a.makeTickPath(he,0,Ue),transFn:Te,crisp:!1}),a.drawGrid(ne,he,{vals:Ce,layer:Y["radial-grid"],path:Pe,transFn:C.noop,crisp:!1}),a.drawLabels(ne,he,{vals:xe,layer:Y["radial-axis"],transFn:Te,labelFns:a.makeLabelFns(he,Ee)})}var Ne=X.radialAxisAngle=X.vangles?U(ee(F(se.angle),X.vangles)):se.angle,De=v(Z,$),He=De+S(-Ne);re(Y["radial-axis"],me&&(se.showticklabels||se.ticks),{transform:He}),re(Y["radial-grid"],me&&se.showgrid,{transform:Me?"":De}),re(Y["radial-line"].select("line"),me&&se.showline,{x1:Me?-oe:le,y1:0,x2:oe,y2:0,transform:He}).attr("stroke-width",se.linewidth).call(d.stroke,se.linecolor)},V.updateRadialAxisTitle=function(ue,J,X){if(!this.isSmith){var ne=this,Y=ne.gd,oe=ne.radius,le=ne.cx,Z=ne.cy,$=ne.getRadial(J),se=ne.id+"title",ae=0;if($.title){var he=r.bBox(ne.layers["radial-axis"].node()).height,me=$.title.font.size,Me=$.side;ae=Me==="top"?me:Me==="counterclockwise"?-(he+me*.4):he+me*.8}var Te=X!==void 0?X:ne.radialAxisAngle,Pe=F(Te),be=Math.cos(Pe),Ee=Math.sin(Pe),xe=le+oe/2*be+ae*Ee,Ce=Z-oe/2*Ee+ae*be;ne.layers["radial-axis-title"]=T.draw(Y,se,{propContainer:$,propName:ne.id+".radialaxis.title",placeholder:N(Y,"Click to enter radial axis title"),attributes:{x:xe,y:Ce,"text-anchor":"middle"},transform:{rotate:-Te}})}},V.updateAngularAxis=function(ue,J){var X=this,ne=X.gd,Y=X.layers,oe=X.radius,le=X.innerRadius,Z=X.cx,$=X.cy,se=X.getAngular(J),ae=X.angularAxis,he=X.isSmith;he||(X.fillViewInitialKey("angularaxis.rotation",se.rotation),ae.setGeometry(),ae.setScale());var me=he?function(vt){var ot=D(X,E([0,vt.x]));return Math.atan2(ot[0]-Z,ot[1]-$)-Math.PI/2}:function(vt){return ae.t2g(vt.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=U(ae.tick0),ae.dtick=U(ae.dtick));var Me=function(vt){return v(Z+oe*Math.cos(vt),$-oe*Math.sin(vt))},Te=he?function(vt){var ot=D(X,E([0,vt.x]));return v(ot[0],ot[1])}:function(vt){return Me(me(vt))},Pe=he?function(vt){var ot=D(X,E([0,vt.x])),et=Math.atan2(ot[0]-Z,ot[1]-$)-Math.PI/2;return v(ot[0],ot[1])+S(-U(et))}:function(vt){var ot=me(vt);return Me(ot)+S(-U(ot))},be=he?function(vt){return w(X,vt.x,0,1/0)}:function(vt){var ot=me(vt),et=Math.cos(ot),ct=Math.sin(ot);return"M"+[Z+le*et,$-le*ct]+"L"+[Z+oe*et,$-oe*ct]},Ee=a.makeLabelFns(ae,0),xe=Ee.labelStandoff,Ce={};Ce.xFn=function(vt){var ot=me(vt);return Math.cos(ot)*xe},Ce.yFn=function(vt){var ot=me(vt),et=Math.sin(ot)>0?.2:1;return-Math.sin(ot)*(xe+vt.fontSize*et)+Math.abs(Math.cos(ot))*(vt.fontSize*m)},Ce.anchorFn=function(vt){var ot=me(vt),et=Math.cos(ot);return Math.abs(et)<.1?"middle":et>0?"start":"end"},Ce.heightFn=function(vt,ot,et){var ct=me(vt);return-.5*(1+Math.sin(ct))*et};var Ue=j(se);X.angularTickLayout!==Ue&&(Y["angular-axis"].selectAll("."+ae._id+"tick").remove(),X.angularTickLayout=Ue);var Ne=he?[1/0].concat(ae.tickvals||[]).map(function(vt){return a.tickText(ae,vt,!0,!1)}):a.calcTicks(ae);he&&(Ne[0].text="",Ne[0].fontSize*=1.75);var De;if(J.gridshape==="linear"?(De=Ne.map(me),C.angleDelta(De[0],De[1])<0&&(De=De.slice().reverse())):De=null,X.vangles=De,ae.type==="category"&&(Ne=Ne.filter(function(vt){return C.isAngleInsideSector(me(vt),X.sectorInRad)})),ae.visible){var He=ae.ticks==="inside"?-1:1,at=(ae.linewidth||1)/2;a.drawTicks(ne,ae,{vals:Ne,layer:Y["angular-axis"],path:"M"+He*at+",0h"+He*ae.ticklen,transFn:Pe,crisp:!1}),a.drawGrid(ne,ae,{vals:Ne,layer:Y["angular-grid"],path:be,transFn:C.noop,crisp:!1}),a.drawLabels(ne,ae,{vals:Ne,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:Ce})}re(Y["angular-line"].select("path"),se.showline,{d:X.pathSubplot(),transform:v(Z,$)}).attr("stroke-width",se.linewidth).call(d.stroke,se.linecolor)},V.updateFx=function(ue,J){if(!this.gd._context.staticPlot){var X=!this.isSmith;X&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,J,0),this.updateRadialDrag(ue,J,1)),this.updateHoverAndMainDrag(ue)}},V.updateHoverAndMainDrag=function(ue){var J=this,X=J.isSmith,ne=J.gd,Y=J.layers,oe=ue._zoomlayer,le=L.MINZOOM,Z=L.OFFEDGE,$=J.radius,se=J.innerRadius,ae=J.cx,he=J.cy,me=J.cxx,Me=J.cyy,Te=J.sectorInRad,Pe=J.vangles,be=J.radialAxis,Ee=M.clampTiny,xe=M.findXYatLength,Ce=M.findEnclosingVertexAngles,Ue=L.cornerHalfWidth,Ne=L.cornerLen/2,De,He,at=l.makeDragger(Y,"path","maindrag",ue.dragmode===!1?"none":"crosshair");g.select(at).attr("d",J.pathSubplot()).attr("transform",v(ae,he)),at.onmousemove=function(Tt){h.hover(ne,Tt,J.id),ne._fullLayout._lasthover=at,ne._fullLayout._hoversubplot=J.id},at.onmouseout=function(Tt){ne._dragging||y.unhover(ne,Tt)};var vt={element:at,gd:ne,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},ot,et,ct,ht,gt,xt,Mt,tt,Oe;function Xe(Tt,Lt){return Math.sqrt(Tt*Tt+Lt*Lt)}function Ze(Tt,Lt){return Xe(Tt-me,Lt-Me)}function We(Tt,Lt){return Math.atan2(Me-Lt,Tt-me)}function ze(Tt,Lt){return[Tt*Math.cos(Lt),Tt*Math.sin(-Lt)]}function ke(Tt,Lt){if(Tt===0)return J.pathSector(2*Ue);var Xt=Ne/Tt,Tr=Lt-Xt,yt=Lt+Xt,Kt=Math.max(0,Math.min(Tt,$)),Jt=Kt-Ue,yr=Kt+Ue;return"M"+ze(Jt,Tr)+"A"+[Jt,Jt]+" 0,0,0 "+ze(Jt,yt)+"L"+ze(yr,yt)+"A"+[yr,yr]+" 0,0,1 "+ze(yr,Tr)+"Z"}function je(Tt,Lt,Xt){if(Tt===0)return J.pathSector(2*Ue);var Tr=ze(Tt,Lt),yt=ze(Tt,Xt),Kt=Ee((Tr[0]+yt[0])/2),Jt=Ee((Tr[1]+yt[1])/2),yr,ur;if(Kt&&Jt){var mt=Jt/Kt,lt=-1/mt,bt=xe(Ue,mt,Kt,Jt);yr=xe(Ne,lt,bt[0][0],bt[0][1]),ur=xe(Ne,lt,bt[1][0],bt[1][1])}else{var Et,It;Jt?(Et=Ne,It=Ue):(Et=Ue,It=Ne),yr=[[Kt-Et,Jt-It],[Kt+Et,Jt-It]],ur=[[Kt-Et,Jt+It],[Kt+Et,Jt+It]]}return"M"+yr.join("L")+"L"+ur.reverse().join("L")+"Z"}function Ie(){ct=null,ht=null,gt=J.pathSubplot(),xt=!1;var Tt=ne._fullLayout[J.id];Mt=R(Tt.bgcolor).getLuminance(),tt=l.makeZoombox(oe,Mt,ae,he,gt),tt.attr("fill-rule","evenodd"),Oe=l.makeCorners(oe,ae,he),p(ne)}function pe(Tt,Lt){return Lt=Math.max(Math.min(Lt,$),se),Tt<Z?Tt=0:$-Tt<Z?Tt=$:Lt<Z?Lt=0:$-Lt<Z&&(Lt=$),Math.abs(Lt-Tt)>le?(Tt<Lt?(ct=Tt,ht=Lt):(ct=Lt,ht=Tt),!0):(ct=null,ht=null,!1)}function we(Tt,Lt){Tt=Tt||gt,Lt=Lt||"M0,0Z",tt.attr("d",Tt),Oe.attr("d",Lt),l.transitionZoombox(tt,Oe,xt,Mt),xt=!0;var Xt={};Wt(Xt),ne.emit("plotly_relayouting",Xt)}function Ve(Tt,Lt){Tt=Tt*De,Lt=Lt*He;var Xt=ot+Tt,Tr=et+Lt,yt=Ze(ot,et),Kt=Math.min(Ze(Xt,Tr),$),Jt=We(ot,et),yr,ur;pe(yt,Kt)&&(yr=gt+J.pathSector(ht),ct&&(yr+=J.pathSector(ct)),ur=ke(ct,Jt)+ke(ht,Jt)),we(yr,ur)}function Qe(Tt,Lt,Xt,Tr){var yt=M.findIntersectionXY(Xt,Tr,Xt,[Tt-me,Me-Lt]);return Xe(yt[0],yt[1])}function it(Tt,Lt){var Xt=ot+Tt,Tr=et+Lt,yt=We(ot,et),Kt=We(Xt,Tr),Jt=Ce(yt,Pe),yr=Ce(Kt,Pe),ur=Qe(ot,et,Jt[0],Jt[1]),mt=Math.min(Qe(Xt,Tr,yr[0],yr[1]),$),lt,bt;pe(ur,mt)&&(lt=gt+J.pathSector(ht),ct&&(lt+=J.pathSector(ct)),bt=[je(ct,Jt[0],Jt[1]),je(ht,Jt[0],Jt[1])].join(" ")),we(lt,bt)}function st(){if(l.removeZoombox(ne),!(ct===null||ht===null)){var Tt={};Wt(Tt),l.showDoubleClickNotifier(ne),i.call("_guiRelayout",ne,Tt)}}function Wt(Tt){var Lt=be._rl,Xt=(Lt[1]-Lt[0])/(1-se/$)/$,Tr=[Lt[0]+(ct-se)*Xt,Lt[0]+(ht-se)*Xt];Tt[J.id+".radialaxis.range"]=Tr}function jt(Tt,Lt){var Xt=ne._fullLayout.clickmode;if(l.removeZoombox(ne),Tt===2){var Tr={};for(var yt in J.viewInitial)Tr[J.id+"."+yt]=J.viewInitial[yt];ne.emit("plotly_doubleclick",null),i.call("_guiRelayout",ne,Tr)}Xt.indexOf("select")>-1&&Tt===1&&o(Lt,ne,[J.xaxis],[J.yaxis],J.id,vt),Xt.indexOf("event")>-1&&h.click(ne,Lt,J.id)}vt.prepFn=function(Tt,Lt,Xt){var Tr=ne._fullLayout.dragmode,yt=at.getBoundingClientRect();ne._fullLayout._calcInverseTransform(ne);var Kt=ne._fullLayout._invTransform;De=ne._fullLayout._invScaleX,He=ne._fullLayout._invScaleY;var Jt=C.apply3DTransform(Kt)(Lt-yt.left,Xt-yt.top);if(ot=Jt[0],et=Jt[1],Pe){var yr=M.findPolygonOffset($,Te[0],Te[1],Pe);ot+=me+yr[0],et+=Me+yr[1]}switch(Tr){case"zoom":vt.clickFn=jt,X||(Pe?vt.moveFn=it:vt.moveFn=Ve,vt.doneFn=st,Ie());break;case"select":case"lasso":c(Tt,Lt,Xt,vt,Tr);break}},y.init(vt)},V.updateRadialDrag=function(ue,J,X){var ne=this,Y=ne.gd,oe=ne.layers,le=ne.radius,Z=ne.innerRadius,$=ne.cx,se=ne.cy,ae=ne.radialAxis,he=L.radialDragBoxSize,me=he/2;if(!ae.visible)return;var Me=F(ne.radialAxisAngle),Te=ae._rl,Pe=Te[0],be=Te[1],Ee=Te[X],xe=.75*(Te[1]-Te[0])/(1-ne.getHole(J))/le,Ce,Ue,Ne;X?(Ce=$+(le+me)*Math.cos(Me),Ue=se-(le+me)*Math.sin(Me),Ne="radialdrag"):(Ce=$+(Z-me)*Math.cos(Me),Ue=se-(Z-me)*Math.sin(Me),Ne="radialdrag-inner");var De=l.makeRectDragger(oe,Ne,"crosshair",-me,-me,he,he),He={element:De,gd:Y};ue.dragmode===!1&&(He.dragmode=!1),re(g.select(De),ae.visible&&Z<le,{transform:v(Ce,Ue)});var at,vt,ot;function et(Mt,tt){if(at)at(Mt,tt);else{var Oe=[Mt,-tt],Xe=[Math.cos(Me),Math.sin(Me)],Ze=Math.abs(C.dot(Oe,Xe)/Math.sqrt(C.dot(Oe,Oe)));isNaN(Ze)||(at=Ze<.5?gt:xt)}var We={};ct(We),Y.emit("plotly_relayouting",We)}function ct(Mt){vt!==null?Mt[ne.id+".radialaxis.angle"]=vt:ot!==null&&(Mt[ne.id+".radialaxis.range["+X+"]"]=ot)}function ht(){vt!==null?i.call("_guiRelayout",Y,ne.id+".radialaxis.angle",vt):ot!==null&&i.call("_guiRelayout",Y,ne.id+".radialaxis.range["+X+"]",ot)}function gt(Mt,tt){if(X!==0){var Oe=Ce+Mt,Xe=Ue+tt;vt=Math.atan2(se-Xe,Oe-$),ne.vangles&&(vt=ee(vt,ne.vangles)),vt=U(vt);var Ze=v($,se)+S(-vt);oe["radial-axis"].attr("transform",Ze),oe["radial-line"].select("line").attr("transform",Ze);var We=ne.gd._fullLayout,ze=We[ne.id];ne.updateRadialAxisTitle(We,ze,vt)}}function xt(Mt,tt){var Oe=C.dot([Mt,-tt],[Math.cos(Me),Math.sin(Me)]);if(ot=Ee-xe*Oe,xe>0!=(X?ot>Pe:ot<be)){ot=null;return}var Xe=Y._fullLayout,Ze=Xe[ne.id];ae.range[X]=ot,ae._rl[X]=ot,ne.updateRadialAxis(Xe,Ze),ne.xaxis.setRange(),ne.xaxis.setScale(),ne.yaxis.setRange(),ne.yaxis.setScale();var We=!1;for(var ze in ne.traceHash){var ke=ne.traceHash[ze],je=C.filterVisible(ke),Ie=ke[0][0].trace._module;Ie.plot(Y,ne,je,Ze),i.traceIs(ze,"gl")&&je.length&&(We=!0)}We&&(b(Y),P(Y))}He.prepFn=function(){at=null,vt=null,ot=null,He.moveFn=et,He.doneFn=ht,p(Y)},He.clampFn=function(Mt,tt){return Math.sqrt(Mt*Mt+tt*tt)<L.MINDRAG&&(Mt=0,tt=0),[Mt,tt]},y.init(He)},V.updateAngularDrag=function(ue){var J=this,X=J.gd,ne=J.layers,Y=J.radius,oe=J.angularAxis,le=J.cx,Z=J.cy,$=J.cxx,se=J.cyy,ae=L.angularDragBoxSize,he=l.makeDragger(ne,"path","angulardrag",ue.dragmode===!1?"none":"move"),me={element:he,gd:X};ue.dragmode===!1?me.dragmode=!1:g.select(he).attr("d",J.pathAnnulus(Y,Y+ae)).attr("transform",v(le,Z)).call(x,"move");function Me(ot,et){return Math.atan2(se+ae-et,ot-$-ae)}var Te=ne.frontplot.select(".scatterlayer").selectAll(".trace"),Pe=Te.selectAll(".point"),be=Te.selectAll(".textpoint"),Ee,xe,Ce,Ue,Ne,De;function He(ot,et){var ct=J.gd._fullLayout,ht=ct[J.id],gt=Ee+ot*ue._invScaleX,xt=xe+et*ue._invScaleY,Mt=Me(gt,xt),tt=U(Mt-De);if(Ue=Ce+tt,ne.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+S([-tt,$,se])),J.vangles){Ne=J.radialAxisAngle+tt;var Oe=v(le,Z)+S(-tt),Xe=v(le,Z)+S(-Ne);ne.bg.attr("transform",Oe),ne["radial-grid"].attr("transform",Oe),ne["radial-axis"].attr("transform",Xe),ne["radial-line"].select("line").attr("transform",Xe),J.updateRadialAxisTitle(ct,ht,Ne)}else J.clipPaths.forTraces.select("path").attr("transform",v($,se)+S(tt));Pe.each(function(){var pe=g.select(this),we=r.getTranslate(pe);pe.attr("transform",v(we.x,we.y)+S([tt]))}),be.each(function(){var pe=g.select(this),we=pe.select("text"),Ve=r.getTranslate(pe);pe.attr("transform",S([tt,we.attr("x"),we.attr("y")])+v(Ve.x,Ve.y))}),oe.rotation=C.modHalf(Ue,360),J.updateAngularAxis(ct,ht),J._hasClipOnAxisFalse&&!C.isFullCircle(J.sectorInRad)&&Te.call(r.hideOutsideRangePoints,J);var Ze=!1;for(var We in J.traceHash)if(i.traceIs(We,"gl")){var ze=J.traceHash[We],ke=C.filterVisible(ze),je=ze[0][0].trace._module;je.plot(X,J,ke,ht),ke.length&&(Ze=!0)}Ze&&(b(X),P(X));var Ie={};at(Ie),X.emit("plotly_relayouting",Ie)}function at(ot){ot[J.id+".angularaxis.rotation"]=Ue,J.vangles&&(ot[J.id+".radialaxis.angle"]=Ne)}function vt(){be.select("text").attr("transform",null);var ot={};at(ot),i.call("_guiRelayout",X,ot)}me.prepFn=function(ot,et,ct){var ht=ue[J.id];Ce=ht.angularaxis.rotation;var gt=he.getBoundingClientRect();Ee=et-gt.left,xe=ct-gt.top,X._fullLayout._calcInverseTransform(X);var xt=C.apply3DTransform(ue._invTransform)(Ee,xe);Ee=xt[0],xe=xt[1],De=Me(Ee,xe),me.moveFn=He,me.doneFn=vt,p(X)},J.vangles&&!C.isFullCircle(J.sectorInRad)&&(me.prepFn=C.noop,x(g.select(he),null)),y.init(me)},V.isPtInside=function(ue){if(this.isSmith)return!0;var J=this.sectorInRad,X=this.vangles,ne=this.angularAxis.c2g(ue.theta),Y=this.radialAxis,oe=Y.c2l(ue.r),le=Y._rl,Z=X?M.isPtInsidePolygon:C.isPtInsideSector;return Z(oe,ne,le,J,X)},V.pathArc=function(ue){var J=this.sectorInRad,X=this.vangles,ne=X?M.pathPolygon:C.pathArc;return ne(ue,J[0],J[1],X)},V.pathSector=function(ue){var J=this.sectorInRad,X=this.vangles,ne=X?M.pathPolygon:C.pathSector;return ne(ue,J[0],J[1],X)},V.pathAnnulus=function(ue,J){var X=this.sectorInRad,ne=this.vangles,Y=ne?M.pathPolygonAnnulus:C.pathAnnulus;return Y(ue,J,X[0],X[1],ne)},V.pathSubplot=function(){var ue=this.innerRadius,J=this.radius;return ue?this.pathAnnulus(ue,J):this.pathSector(J)},V.fillViewInitialKey=function(ue,J){ue in this.viewInitial||(this.viewInitial[ue]=J)};function j(ue){var J=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(J+=ue.side),J}function Q(ue){var J=ue[0],X=ue[1],ne=X-J,Y=z(J,360),oe=Y+ne,le=Math.cos(F(Y)),Z=Math.sin(F(Y)),$=Math.cos(F(oe)),se=Math.sin(F(oe)),ae,he,me,Me;return Y<=90&&oe>=90||Y>90&&oe>=450?Me=1:Z<=0&&se<=0?Me=0:Me=Math.max(Z,se),Y<=180&&oe>=180||Y>180&&oe>=540?ae=-1:le>=0&&$>=0?ae=0:ae=Math.min(le,$),Y<=270&&oe>=270||Y>270&&oe>=630?he=-1:Z>=0&&se>=0?he=0:he=Math.min(Z,se),oe>=360?me=1:le<=0&&$<=0?me=0:me=Math.max(le,$),[ae,he,me,Me]}function ee(ue,J){var X=function(Y){return C.angleDist(ue,Y)},ne=C.findIndexOfMin(J,X);return J[ne]}function re(ue,J,X){return J?(ue.attr("display",null),ue.attr(X)):ue&&ue.attr("display","none"),ue}},57696:function(G,H,e){var g=e(3400),R=e(78344),i=g.deg2rad,C=g.rad2deg;G.exports=function(a,n,f){switch(R(a,f),a._id){case"x":case"radialaxis":S(a,n);break;case"angularaxis":r(a,n);break}};function S(t,a){var n=a._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,y=(n.radius-l)/(u-f),h=l/y,T=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-f;return(T(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*y},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,a){return a==="degrees"?i(t):t}function d(t,a){return a==="degrees"?C(t):t}function r(t,a){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,y){return v(f(l),y)},t.c2d=function(l,y){return u(d(l,y))}}t.makeCalcdata=function(l,y){var h=l[y],T=l._length,c,o,p=function(L){return t.d2c(L,l.thetaunit)};if(h)for(c=new Array(T),o=0;o<T;o++)c[o]=p(h[o]);else{var x=y+"0",b="d"+y,P=x in l?p(l[x]):0,m=l[b]?p(l[b]):(t.period||2*Math.PI)/T;for(c=new Array(T),o=0;o<T;o++)c[o]=P+o*m}return c},t.setGeometry=function(){var l=a.sector,y=l.map(i),h={clockwise:-1,counterclockwise:1}[t.direction],T=i(t.rotation),c=function(M){return h*M+T},o=function(M){return(M-T)/h},p,x,b,P;switch(n){case"linear":x=p=g.identity,P=i,b=C,t.range=g.isFullCircle(y)?[l[0],l[0]+360]:y.map(o).map(C);break;case"category":var m=t._categories.length,L=t.period?Math.max(t.period,m):m;L===0&&(L=1),x=P=function(M){return M*2*Math.PI/L},p=b=function(M){return M*L/Math.PI/2},t.range=[0,L];break}t.c2g=function(M){return c(x(M))},t.g2c=function(M){return p(o(M))},t.t2g=function(M){return c(P(M))},t.g2t=function(M){return b(o(M))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function H(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],d=S[1];if(!isFinite(v)||!isFinite(d))return[1,0];var r=(v+1)*(v+1)+d*d;return[(v*v+d*d-1)/r,2*d/r]}function g(S,v){var d=v[0],r=v[1];return[d*S.radius+S.cx,-r*S.radius+S.cy]}function R(S,v){return v*S.radius}function i(S,v,d,r){var t=g(S,e([d,v])),a=t[0],n=t[1],f=g(S,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+a+","+n,"L"+u+","+l].join(" ");var y=R(S,1/Math.abs(v));return["M"+a+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function C(S,v,d,r){var t=R(S,1/(v+1)),a=g(S,e([v,d])),n=a[0],f=a[1],u=g(S,e([v,r])),l=u[0],y=u[1];if(H(d)!==H(r)){var h=g(S,e([v,0])),T=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<d?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+y].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<d?0:1)+" "+l+","+y].join(" ")}G.exports={smith:e,reactanceArc:i,resistanceArc:C,smithTransform:g}},47788:function(G,H,e){var g=e(84888).KY,R=e(3400).counterRegex,i=e(62400),C=e(55012),S=C.attr,v=C.name,d=R(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],y=0;y<l.length;y++){var h=l[y],T=g(u,v,h),c=f[h]._subplot;c||(c=i(n,h,!0),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var y=l._subplots[v]||[],h=0;h<y.length;h++){var T=y[h],c=l[T]._subplot;if(!f[T]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}G.exports={attr:S,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:a,toSVG:e(57952).toSVG}},6183:function(G,H,e){var g=e(22548),R=e(94724),i=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),d=S({ticklen:R.ticklen,tickwidth:C({},R.tickwidth,{dflt:2}),tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,tickfont:R.tickfont,tickformat:R.tickformat,hoverformat:R.hoverformat,layer:R.layer},"plot","from-root"),r=C({visible:C({},R.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},R.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,d),t=C({visible:C({},R.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:R.ticks,editType:"calc"},v,d);G.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,H,e){var g=e(3400),R=e(76308),i=e(31780),C=e(168),S=e(84888).op,v=e(42568),d=e(95936),r=e(42136),t=e(78344),a=e(6183),n=e(55012),f=n.axisNames,u=y(function(h){return g.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function l(h,T,c,o){var p=c("bgcolor");o.bgColor=R.combine(p,o.paper_bgcolor);var x=S(o.fullData,n.name,o.id),b=o.layoutOut,P;function m(V,j){return c(P+"."+V,j)}for(var L=0;L<f.length;L++){P=f[L],g.isPlainObject(h[P])||(h[P]={});var M=h[P],s=i.newContainer(T,P);s._id=s._name=P,s._attr=o.id+"."+P,s._traceIndices=x.map(function(V){return V._expandedIndex});var E=m("visible");if(s.type="linear",t(s,b),v(M,s,m,s.type),E){var w=P==="realaxis";if(w&&m("side"),w)m("tickvals");else{var _=u(T.realaxis.tickvals||a.realaxis.tickvals.dflt);m("tickvals",_)}g.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var D,N,z,F,U=o.font||{};E&&(D=m("color"),N=D===M.color?D:U.color,z=U.size,F=U.family),d(M,s,m,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:N,size:z,family:F}}),g.coerce2(h,T,a,P+".ticklen"),g.coerce2(h,T,a,P+".tickwidth"),g.coerce2(h,T,a,P+".tickcolor",T.color);var B=m("ticks");B||(delete T[P].ticklen,delete T[P].tickwidth,delete T[P].tickcolor),r(M,s,m,{dfltColor:D,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a[P]}),m("layer")}m("hoverformat"),delete s.type,s._input=M}}G.exports=function(T,c,o){C(T,c,o,{noUirevision:!0,type:n.name,attributes:a,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function y(h,T){var c={};return function(o){var p=T?T(o):o;if(p in c)return c[p];var x=h(o);return c[p]=x,x}}},168:function(G,H,e){var g=e(3400),R=e(31780),i=e(86968).Q;G.exports=function(S,v,d,r){var t=r.type,a=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,y=l&&u[0].replace(/\d+$/,""),h,T;function c(b,P){return g.coerce(h,T,a,b,P)}for(var o=0;o<l;o++){var p=u[o];S[p]?h=S[p]:h=S[p]={},T=R.newContainer(v,p,y),r.noUirevision||c("uirevision",v.uirevision);var x={};x[f]=[o/l,(o+1)/l],i(T,v,c,x),r.id=p,n(h,T,c,r)}}},21776:function(G,H,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function R(i){var C=i.description?" "+i.description:"",S=i.keys||[];if(S.length>0){for(var v=[],d=0;d<S.length;d++)v[d]="`"+S[d]+"`";C=C+"Finally, the template string has access to ",S.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}H.Ks=function(i,C){i=i||{},C=C||{},R(C);var S={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(S.arrayOk=!0),S},H.Gw=function(i,C){i=i||{},C=C||{},R(C);var S={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(S.arrayOk=!0),S},H.ye=function(i,C){i=i||{},C=C||{},i.newshape,R(C);var S={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return S}},19352:function(G,H,e){var g=e(24696),R=e(84888).KY,i=e(3400).counterRegex,C="ternary";H.name=C;var S=H.attr="subplot";H.idRoot=C,H.idRegex=H.attrRegex=i(C);var v=H.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(86379),H.supplyLayoutDefaults=e(38536),H.plot=function(r){for(var t=r._fullLayout,a=r.calcdata,n=t._subplots[C],f=0;f<n.length;f++){var u=n[f],l=R(a,C,u),y=t[u]._subplot;y||(y=new g({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=y),y.plot(l,t,r._promises)}},H.clean=function(d,r,t,a){for(var n=a._subplots[C]||[],f=0;f<n.length;f++){var u=n[f],l=a[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(G,H,e){var g=e(22548),R=e(86968).u,i=e(94724),C=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:S({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:S({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:S({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},d=G.exports=C({domain:R({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");d.uirevision={valType:"any",editType:"none"},d.aaxis.uirevision=d.baxis.uirevision=d.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,H,e){var g=e(76308),R=e(31780),i=e(3400),C=e(168),S=e(95936),v=e(42568),d=e(25404),r=e(26332),t=e(42136),a=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(y,h,T){C(y,h,T,{type:"ternary",attributes:a,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,y,h,T){var c=h("bgcolor"),o=h("sum");T.bgColor=g.combine(c,T.paper_bgcolor);for(var p,x,b,P=0;P<n.length;P++)p=n[P],x=l[p]||{},b=R.newContainer(y,p),b._name=p,u(x,b,T,y);var m=y.aaxis,L=y.baxis,M=y.caxis;m.min+L.min+M.min>=o&&(m.min=0,L.min=0,M.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,y,h,T){var c=a[y._name];function o(s,E){return i.coerce(l,y,c,s,E)}o("uirevision",T.uirevision),y.type="linear";var p=o("color"),x=p!==c.color.dflt?p:h.font.color,b=y._name,P=b.charAt(0).toUpperCase(),m="Component "+P,L=o("title.text",m);y._hovertitle=L===m?L:P,i.coerceFont(o,"title.font",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:i.bigFont(h.font.size),color:x}),o("min"),r(l,y,o,"linear"),v(l,y,o,"linear"),S(l,y,o,"linear",{noAutotickangles:!0}),d(l,y,o,{outerTicks:!0});var M=o("showticklabels");M&&(i.coerceFont(o,"tickfont",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:h.font.size,color:x}),o("tickangle"),o("tickformat")),t(l,y,o,{dfltColor:p,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(G,H,e){var g=e(33428),R=e(49760),i=e(24040),C=e(3400),S=C.strTranslate,v=C._,d=e(76308),r=e(43616),t=e(78344),a=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),y=e(72760),h=y.freeMode,T=y.rectMode,c=e(81668),o=e(22676).prepSelect,p=e(22676).selectOnClick,x=e(22676).clearOutline,b=e(22676).clearSelectionsCache,P=e(33816);function m(U,B){this.id=U.id,this.graphDiv=U.graphDiv,this.init(B),this.makeFramework(B),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=m;var L=m.prototype;L.init=function(U){this.container=U._ternarylayer,this.defs=U._defs,this.layoutId=U._uid,this.traceHash={},this.layers={}},L.plot=function(U,B){var V=this,j=B[V.id],Q=B._size;V._hasClipOnAxisFalse=!1;for(var ee=0;ee<U.length;ee++){var re=U[ee][0].trace;if(re.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(j),V.adjustLayout(j,Q),n.generalUpdatePerTraceModule(V.graphDiv,V,U,j),V.layers.plotbg.select("path").call(d.fill,j.bgcolor)},L.makeFramework=function(U){var B=this,V=B.graphDiv,j=U[B.id],Q=B.clipId="clip"+B.layoutId+B.id,ee=B.clipIdRelative="clip-relative"+B.layoutId+B.id;B.clipDef=C.ensureSingleById(U._clips,"clipPath",Q,function(re){re.append("path").attr("d","M0,0Z")}),B.clipDefRelative=C.ensureSingleById(U._clips,"clipPath",ee,function(re){re.append("path").attr("d","M0,0Z")}),B.plotContainer=C.ensureSingle(B.container,"g",B.id),B.updateLayers(j),r.setClipUrl(B.layers.backplot,Q,V),r.setClipUrl(B.layers.grids,Q,V)},L.updateLayers=function(U){var B=this,V=B.layers,j=["draglayer","plotbg","backplot","grids"];U.aaxis.layer==="below traces"&&j.push("aaxis","aline"),U.baxis.layer==="below traces"&&j.push("baxis","bline"),U.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),U.aaxis.layer==="above traces"&&j.push("aaxis","aline"),U.baxis.layer==="above traces"&&j.push("baxis","bline"),U.caxis.layer==="above traces"&&j.push("caxis","cline");var Q=B.plotContainer.selectAll("g.toplevel").data(j,String),ee=["agrid","bgrid","cgrid"];Q.enter().append("g").attr("class",function(re){return"toplevel "+re}).each(function(re){var ue=g.select(this);V[re]=ue,re==="frontplot"?ue.append("g").classed("scatterlayer",!0):re==="backplot"?ue.append("g").classed("maplayer",!0):re==="plotbg"?ue.append("path").attr("d","M0,0Z"):re==="aline"||re==="bline"||re==="cline"?ue.append("path"):re==="grids"&&ee.forEach(function(J){V[J]=ue.append("g").classed("grid "+J,!0)})}),Q.order()};var M=Math.sqrt(4/3);L.adjustLayout=function(U,B){var V=this,j=U.domain,Q=(j.x[0]+j.x[1])/2,ee=(j.y[0]+j.y[1])/2,re=j.x[1]-j.x[0],ue=j.y[1]-j.y[0],J=re*B.w,X=ue*B.h,ne=U.sum,Y=U.aaxis.min,oe=U.baxis.min,le=U.caxis.min,Z,$,se,ae,he,me;J>M*X?(ae=X,se=ae*M):(se=J,ae=se/M),he=re*se/J,me=ue*ae/X,Z=B.l+B.w*Q-se/2,$=B.t+B.h*(1-ee)-ae/2,V.x0=Z,V.y0=$,V.w=se,V.h=ae,V.sum=ne,V.xaxis={type:"linear",range:[Y+2*le-ne,ne-Y-2*oe],domain:[Q-he/2,Q+he/2],_id:"x"},t(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(He){return He.a>=V.aaxis.range[0]&&He.a<=V.aaxis.range[1]&&He.b>=V.baxis.range[1]&&He.b<=V.baxis.range[0]&&He.c>=V.caxis.range[1]&&He.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Y,ne-oe-le],domain:[ee-me/2,ee+me/2],_id:"y"},t(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Me=V.yaxis.domain[0],Te=V.aaxis=a({},U.aaxis,{range:[Y,ne-oe-le],side:"left",tickangle:(+U.aaxis.tickangle||0)-30,domain:[Me,Me+me*M],anchor:"free",position:0,_id:"y",_length:se});t(Te,V.graphDiv._fullLayout),Te.setScale();var Pe=V.baxis=a({},U.baxis,{range:[ne-Y-le,oe],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(Pe,V.graphDiv._fullLayout),Pe.setScale();var be=V.caxis=a({},U.caxis,{range:[ne-Y-oe,le],side:"right",tickangle:(+U.caxis.tickangle||0)+30,domain:[Me,Me+me*M],anchor:"free",position:0,_id:"y",_length:se});t(be,V.graphDiv._fullLayout),be.setScale();var Ee="M"+Z+","+($+ae)+"h"+se+"l-"+se/2+",-"+ae+"Z";V.clipDef.select("path").attr("d",Ee),V.layers.plotbg.select("path").attr("d",Ee);var xe="M0,"+ae+"h"+se+"l-"+se/2+",-"+ae+"Z";V.clipDefRelative.select("path").attr("d",xe);var Ce=S(Z,$);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ce),V.clipDefRelative.select("path").attr("transform",null);var Ue=S(Z-Pe._offset,$+ae);V.layers.baxis.attr("transform",Ue),V.layers.bgrid.attr("transform",Ue);var Ne=S(Z+se/2,$)+"rotate(30)"+S(0,-Te._offset);V.layers.aaxis.attr("transform",Ne),V.layers.agrid.attr("transform",Ne);var De=S(Z+se/2,$)+"rotate(-30)"+S(0,-be._offset);V.layers.caxis.attr("transform",De),V.layers.cgrid.attr("transform",De),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Te.showline?"M"+Z+","+($+ae)+"l"+se/2+",-"+ae:"M0,0").call(d.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",Pe.showline?"M"+Z+","+($+ae)+"h"+se:"M0,0").call(d.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",be.showline?"M"+(Z+se/2)+","+$+"l"+se/2+","+ae:"M0,0").call(d.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},L.drawAxes=function(U){var B=this,V=B.graphDiv,j=B.id.substr(7)+"title",Q=B.layers,ee=B.aaxis,re=B.baxis,ue=B.caxis;if(B.drawAx(ee),B.drawAx(re),B.drawAx(ue),U){var J=Math.max(ee.showticklabels?ee.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),X=(re.showticklabels?re.tickfont.size:0)+(re.ticks==="outside"?re.ticklen:0)+3;Q["a-title"]=c.draw(V,"a"+j,{propContainer:ee,propName:B.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:B.x0+B.w/2,y:B.y0-ee.title.font.size/3-J,"text-anchor":"middle"}}),Q["b-title"]=c.draw(V,"b"+j,{propContainer:re,propName:B.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:B.x0-X,y:B.y0+B.h+re.title.font.size*.83+X,"text-anchor":"middle"}}),Q["c-title"]=c.draw(V,"c"+j,{propContainer:ue,propName:B.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:B.x0+B.w+X,y:B.y0+B.h+ue.title.font.size*.83+X,"text-anchor":"middle"}})}},L.drawAx=function(U){var B=this,V=B.graphDiv,j=U._name,Q=j.charAt(0),ee=U._id,re=B.layers[j],ue=30,J=Q+"tickLayout",X=s(U);B[J]!==X&&(re.selectAll("."+ee+"tick").remove(),B[J]=X),U.setScale();var ne=f.calcTicks(U),Y=f.clipEnds(U,ne),oe=f.makeTransTickFn(U),le=f.getTickSigns(U)[2],Z=C.deg2rad(ue),$=le*(U.linewidth||1)/2,se=le*U.ticklen,ae=B.w,he=B.h,me=Q==="b"?"M0,"+$+"l"+Math.sin(Z)*se+","+Math.cos(Z)*se:"M"+$+",0l"+Math.cos(Z)*se+","+-Math.sin(Z)*se,Me={a:"M0,0l"+he+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+he,c:"M0,0l-"+he+","+ae/2}[Q];f.drawTicks(V,U,{vals:U.ticks==="inside"?Y:ne,layer:re,path:me,transFn:oe,crisp:!1}),f.drawGrid(V,U,{vals:Y,layer:B.layers[Q+"grid"],path:Me,transFn:oe,crisp:!1}),f.drawLabels(V,U,{vals:ne,layer:re,transFn:oe,labelFns:f.makeLabelFns(U,0,ue)})};function s(U){return U.ticks+String(U.ticklen)+String(U.showticklabels)}var E=P.MINZOOM/2+.87,w="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",_="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",D="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;L.clearOutline=function(){b(this.dragOptions),x(this.dragOptions.gd)},L.initInteractions=function(){var U=this,B=U.layers.plotbg.select("path").node(),V=U.graphDiv,j=V._fullLayout._zoomlayer,Q,ee;this.dragOptions={element:B,gd:V,plotinfo:{id:U.id,domain:V._fullLayout[U.id].domain,xaxis:U.xaxis,yaxis:U.yaxis},subplot:U.id,prepFn:function(Ue,Ne,De){U.dragOptions.xaxes=[U.xaxis],U.dragOptions.yaxes=[U.yaxis],Q=V._fullLayout._invScaleX,ee=V._fullLayout._invScaleY;var He=U.dragOptions.dragmode=V._fullLayout.dragmode;h(He)?U.dragOptions.minDrag=1:U.dragOptions.minDrag=void 0,He==="zoom"?(U.dragOptions.moveFn=Pe,U.dragOptions.clickFn=ae,U.dragOptions.doneFn=be,he(Ue,Ne,De)):He==="pan"?(U.dragOptions.moveFn=xe,U.dragOptions.clickFn=ae,U.dragOptions.doneFn=Ce,Ee(),U.clearOutline(V)):(T(He)||h(He))&&o(Ue,Ne,De,U.dragOptions,He)}};var re,ue,J,X,ne,Y,oe,le,Z,$;function se(Ue){var Ne={};return Ne[U.id+".aaxis.min"]=Ue.a,Ne[U.id+".baxis.min"]=Ue.b,Ne[U.id+".caxis.min"]=Ue.c,Ne}function ae(Ue,Ne){var De=V._fullLayout.clickmode;F(V),Ue===2&&(V.emit("plotly_doubleclick",null),i.call("_guiRelayout",V,se({a:0,b:0,c:0}))),De.indexOf("select")>-1&&Ue===1&&p(Ne,V,[U.xaxis],[U.yaxis],U.id,U.dragOptions),De.indexOf("event")>-1&&l.click(V,Ne,U.id)}function he(Ue,Ne,De){var He=B.getBoundingClientRect();re=Ne-He.left,ue=De-He.top,V._fullLayout._calcInverseTransform(V);var at=V._fullLayout._invTransform,vt=C.apply3DTransform(at)(re,ue);re=vt[0],ue=vt[1],J={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},ne=J,X=U.aaxis.range[1]-J.a,Y=R(U.graphDiv._fullLayout[U.id].bgcolor).getLuminance(),oe="M0,"+U.h+"L"+U.w/2+", 0L"+U.w+","+U.h+"Z",le=!1,Z=j.append("path").attr("class","zoombox").attr("transform",S(U.x0,U.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",oe),$=j.append("path").attr("class","zoombox-corners").attr("transform",S(U.x0,U.y0)).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),U.clearOutline(V)}function me(Ue,Ne){return 1-Ne/U.h}function Me(Ue,Ne){return 1-(Ue+(U.h-Ne)/Math.sqrt(3))/U.w}function Te(Ue,Ne){return(Ue-(U.h-Ne)/Math.sqrt(3))/U.w}function Pe(Ue,Ne){var De=re+Ue*Q,He=ue+Ne*ee,at=Math.max(0,Math.min(1,me(re,ue),me(De,He))),vt=Math.max(0,Math.min(1,Me(re,ue),Me(De,He))),ot=Math.max(0,Math.min(1,Te(re,ue),Te(De,He))),et=(at/2+ot)*U.w,ct=(1-at/2-vt)*U.w,ht=(et+ct)/2,gt=ct-et,xt=(1-at)*U.h,Mt=xt-gt/M;gt<P.MINZOOM?(ne=J,Z.attr("d",oe),$.attr("d","M0,0Z")):(ne={a:J.a+at*X,b:J.b+vt*X,c:J.c+ot*X},Z.attr("d",oe+"M"+et+","+xt+"H"+ct+"L"+ht+","+Mt+"L"+et+","+xt+"Z"),$.attr("d","M"+re+","+ue+N+"M"+et+","+xt+w+"M"+ct+","+xt+_+"M"+ht+","+Mt+D)),le||(Z.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),le=!0),V.emit("plotly_relayouting",se(ne))}function be(){F(V),ne!==J&&(i.call("_guiRelayout",V,se(ne)),z&&V.data&&V._context.showTips&&(C.notifier(v(V,"Double-click to zoom back out"),"long"),z=!1))}function Ee(){J={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},ne=J}function xe(Ue,Ne){var De=Ue/U.xaxis._m,He=Ne/U.yaxis._m;ne={a:J.a-He,b:J.b+(De+He)/2,c:J.c-(De-He)/2};var at=[ne.a,ne.b,ne.c].sort(C.sorterAsc),vt={a:at.indexOf(ne.a),b:at.indexOf(ne.b),c:at.indexOf(ne.c)};at[0]<0&&(at[1]+at[0]/2<0?(at[2]+=at[0]+at[1],at[0]=at[1]=0):(at[2]+=at[0]/2,at[1]+=at[0]/2,at[0]=0),ne={a:at[vt.a],b:at[vt.b],c:at[vt.c]},Ne=(J.a-ne.a)*U.yaxis._m,Ue=(J.c-ne.c-J.b+ne.b)*U.xaxis._m);var ot=S(U.x0+Ue,U.y0+Ne);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ot);var et=S(-Ue,-Ne);U.clipDefRelative.select("path").attr("transform",et),U.aaxis.range=[ne.a,U.sum-ne.b-ne.c],U.baxis.range=[U.sum-ne.a-ne.c,ne.b],U.caxis.range=[U.sum-ne.a-ne.b,ne.c],U.drawAxes(!1),U._hasClipOnAxisFalse&&U.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,U),V.emit("plotly_relayouting",se(ne))}function Ce(){i.call("_guiRelayout",V,se(ne))}B.onmousemove=function(Ue){l.hover(V,Ue,U.id),V._fullLayout._lasthover=B,V._fullLayout._hoversubplot=U.id},B.onmouseout=function(Ue){V._dragging||u.unhover(V,Ue)},u.init(this.dragOptions)};function F(U){g.select(U).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,H,e){var g=e(24248),R=e(16628),i=e(52416),C=e(63620),S=e(52200).addStyleRule,v=e(92880),d=e(45464),r=e(64859),t=v.extendFlat,a=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(b){if(H.collectableSubplotTypes=null,b)b&&!Array.isArray(b)&&(b=[b]);else throw new Error("No argument passed to Plotly.register.");for(var P=0;P<b.length;P++){var m=b[P];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":u(m);break;case"locale":y(m);break;case"apiMethod":var L=m.name;H.apiMethodRegistry[L]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(x){var b=H.modules[p(x)];return b?b._module:!1},H.traceIs=function(x,b){if(x=p(x),x==="various")return!1;var P=H.modules[x];return P||(x&&g.log("Unrecognized trace type "+x+"."),P=H.modules[d.type.dflt]),!!P.categories[b]},H.getTransformIndices=function(x,b){for(var P=[],m=x.transforms||[],L=0;L<m.length;L++)m[L].type===b&&P.push(L);return P},H.hasTransform=function(x,b){for(var P=x.transforms||[],m=0;m<P.length;m++)if(P[m].type===b)return!0;return!1},H.getComponentMethod=function(x,b){var P=H.componentsRegistry[x];return P&&P[b]||R},H.call=function(){var x=arguments[0],b=[].slice.call(arguments,1);return H.apiMethodRegistry[x].apply(null,b)};function n(x){var b=x.name,P=x.categories,m=x.meta;if(H.modules[b]){g.log("Type "+b+" already registered");return}H.subplotsRegistry[x.basePlotModule.name]||f(x.basePlotModule);for(var L={},M=0;M<P.length;M++)L[P[M]]=!0,H.allCategories[P[M]]=!0;H.modules[b]={_module:x,categories:L},m&&Object.keys(m).length&&(H.modules[b].meta=m),H.allTypes.push(b);for(var s in H.componentsRegistry)T(s,b);x.layoutAttributes&&t(H.traceLayoutAttributes,x.layoutAttributes);var E=x.basePlotModule,w=E.name;if(w==="mapbox"){var _=E.constants.styleRules;for(var D in _)S(".js-plotly-plot .plotly .mapboxgl-"+D,_[D])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(x){var b=x.name;if(H.subplotsRegistry[b]){g.log("Plot type "+b+" already registered.");return}h(x),H.subplotsRegistry[b]=x;for(var P in H.componentsRegistry)o(P,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var b=x.name;H.componentsRegistry[b]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&i(H.layoutArrayContainers,b),h(x));for(var P in H.modules)T(b,P);for(var m in H.subplotsRegistry)o(b,m);for(var L in H.transformsRegistry)c(b,L);x.schema&&x.schema.layout&&a(r,x.schema.layout)}function l(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var b="Transform module "+x.name,P=typeof x.transform=="function",m=typeof x.calcTransform=="function";if(!P&&!m)throw new Error(b+" is missing a *transform* or *calcTransform* method.");P&&m&&g.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(x.attributes)||g.log(b+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&g.log(b+" registered without a *supplyDefaults* method."),H.transformsRegistry[x.name]=x;for(var L in H.componentsRegistry)c(L,x.name)}function y(x){var b=x.name,P=b.split("-")[0],m=x.dictionary,L=x.format,M=m&&Object.keys(m).length,s=L&&Object.keys(L).length,E=H.localeRegistry,w=E[b];if(w||(E[b]=w={}),P!==b){var _=E[P];_||(E[P]=_={}),M&&_.dictionary===w.dictionary&&(_.dictionary=m),s&&_.format===w.format&&(_.format=L)}M&&(w.dictionary=m),s&&(w.format=L)}function h(x){if(x.layoutAttributes){var b=x.layoutAttributes._arrayAttrRegexps;if(b)for(var P=0;P<b.length;P++)i(H.layoutArrayRegexes,b[P])}}function T(x,b){var P=H.componentsRegistry[x].schema;if(!(!P||!P.traces)){var m=P.traces[b];m&&a(H.modules[b]._module.attributes,m)}}function c(x,b){var P=H.componentsRegistry[x].schema;if(!(!P||!P.transforms)){var m=P.transforms[b];m&&a(H.transformsRegistry[b].attributes,m)}}function o(x,b){var P=H.componentsRegistry[x].schema;if(!(!P||!P.subplots)){var m=H.subplotsRegistry[b],L=m.layoutAttributes,M=m.attr==="subplot"?m.name:m.attr;Array.isArray(M)&&(M=M[0]);var s=P.subplots[M];L&&s&&a(L,s)}}function p(x){return typeof x=="object"&&(x=x.type),x}},91536:function(G,H,e){var g=e(24040),R=e(3400),i=R.extendFlat,C=R.extendDeep;function S(d){var r;switch(d){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(d){var r=["xaxis","yaxis","zaxis"];return r.indexOf(d.slice(0,5))>-1}G.exports=function(r,t){var a,n=r.data,f=r.layout,u=C([],n),l=C({},f,S(t.tileClass)),y=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(a=0;a<h.length;a++)v(h[a])&&(l[h[a]].title={text:""});for(a=0;a<u.length;a++){var T=u[a];T.showscale=!1,T.marker&&(T.marker.showscale=!1),g.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)l.annotations.push(t.annotations[a]);var c=Object.keys(l).filter(function(P){return P.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var p=l[c[a]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),i(p.xaxis,o),i(p.yaxis,o),i(p.zaxis,o),p._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var b={gd:x,td:x,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=S(t.tileClass),b}},39792:function(G,H,e){var g=e(3400),R=e(67024),i=e(48616),C=e(81792);function S(v,d){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(t,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),g.isIE()&&d.format!=="svg"&&a(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=R(v,d),f=d.filename||v.fn||"newplot";f+="."+d.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),i(u,f,d.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),a(u)})})}G.exports=S},48616:function(G,H,e){var g=e(3400),R=e(81792);function i(C,S,v){var d=document.createElement("a"),r="download"in d,t=new Promise(function(a,n){var f,u;if(g.isIE())return f=R.createBlob(C,"svg"),window.navigator.msSaveBlob(f,S),f=null,a(S);if(r)return f=R.createBlob(C,v),u=R.createObjectURL(f),d.href=u,d.download=S,document.body.appendChild(d),d.click(),document.body.removeChild(d),R.revokeObjectURL(u),f=null,a(S);if(g.isSafari()){var l=v==="svg"?",":";base64,";return R.octetStream(l+encodeURIComponent(C)),a(S)}n(new Error("download error"))});return t}G.exports=i},81792:function(G,H,e){var g=e(24040);H.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},H.getRedrawFunc=function(C){return function(){g.getComponentMethod("colorbar","draw")(C)}},H.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},H.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var R=window.URL||window.webkitURL;H.createObjectURL=function(C){return R.createObjectURL(C)},H.revokeObjectURL=function(C){return R.revokeObjectURL(C)},H.createBlob=function(C,S){if(S==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=i(window.atob(C));return new window.Blob([v],{type:"image/"+S})},H.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function i(C){for(var S=C.length,v=new ArrayBuffer(S),d=new Uint8Array(v),r=0;r<S;r++)d[r]=C.charCodeAt(r);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,H,e){var g=e(81792),R={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=R},63268:function(G,H,e){var g=e(3400),R=e(61252).EventEmitter,i=e(81792);function C(S){var v=S.emitter||new R,d=new Promise(function(r,t){var a=window.Image,n=S.svg,f=S.format||"png";if(g.isIE()&&f!=="svg"){var u=new Error(i.MSG_IE_BAD_FORMAT);return t(u),S.promise?d:v.emit("error",u)}var l=S.canvas,y=S.scale||1,h=S.width||300,T=S.height||150,c=y*h,o=y*T,p=l.getContext("2d",{willReadFrequently:!0}),x=new a,b,P;f==="svg"||g.isSafari()?P=i.encodeSVG(n):(b=i.createBlob(n,"svg"),P=i.createObjectURL(b)),l.width=c,l.height=o,x.onload=function(){var m;switch(b=null,i.revokeObjectURL(P),f!=="svg"&&p.drawImage(x,0,0,c,o),f){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=P;break;default:var L="Image format is not jpeg, png, svg or webp.";if(t(new Error(L)),!S.promise)return v.emit("error",L)}r(m),S.promise||v.emit("success",m)},x.onerror=function(m){if(b=null,i.revokeObjectURL(P),t(m),!S.promise)return v.emit("error",m)},x.src=P});return S.promise?d:v}G.exports=C},61808:function(G,H,e){var g=e(61252).EventEmitter,R=e(24040),i=e(3400),C=e(81792),S=e(91536),v=e(37164),d=e(63268);function r(t,a){var n=new g,f=S(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=C.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),c=document.createElement("canvas");c.id=i.randstr(),n=d({format:a.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var y=C.getRedrawFunc(u);return R.call("_doPlot",u,f.data,f.layout,f.config).then(y).then(l).catch(function(h){n.emit("error",h)}),n}G.exports=r},37164:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(76308),S=e(9616),v=/"/g,d="TOBESTRIPPED",r=new RegExp('("'+d+")|("+d+'")',"g");function t(n){var f=g.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function a(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(f,u,l){var y=f._fullLayout,h=y._paper,T=y._toppaper,c=y.width,o=y.height,p;h.insert("rect",":first-child").call(i.setRect,0,0,c,o).call(C.fill,y.paper_bgcolor);var x=y._basePlotModules||[];for(p=0;p<x.length;p++){var b=x[p];b.toSVG&&b.toSVG(f)}if(T){var P=T.node().childNodes,m=Array.prototype.slice.call(P);for(p=0;p<m.length;p++){var L=m[p];L.childNodes.length&&h.node().appendChild(L)}}y._draggers&&y._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&s.style("font-family",E.replace(v,d));var w=this.style.fontWeight;w&&w==="normal"&&s.style("font-weight",void 0);var _=this.style.fontStyle;_&&_==="normal"&&s.style("font-style",void 0);var D=this.style.fontVariant;D&&D==="normal"&&s.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=g.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&s.style("fill",E.replace(v,d));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&s.style("stroke",w.replace(v,d))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(S.xmlns,"xmlns",S.svg),h.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*o),h.attr("viewBox","0 0 "+c+" "+o));var M=new window.XMLSerializer().serializeToString(h.node());return M=t(M),M=a(M),M=M.replace(r,"'"),R.isIE()&&(M=M.replace(/"/gi,"'"),M=M.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),M=M.replace(/(\\')/gi,'"')),M}},84664:function(G,H,e){var g=e(3400);G.exports=function(i,C){for(var S=0;S<i.length;S++)i[S].i=S;g.mergeArray(C.text,i,"tx"),g.mergeArray(C.hovertext,i,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,i,"mo",!0),g.mergeArray(v.color,i,"mc");var d=v.line;d&&(g.mergeArray(d.color,i,"mlc"),g.mergeArrayCastPositive(d.width,i,"mlw"))}}},20832:function(G,H,e){var g=e(52904),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(21776).Gw,S=e(49084),v=e(25376),d=e(78048),r=e(98192).c,t=e(92880).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},S("marker.line")),y=t({line:l,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),text:g.text,texttemplate:C({editType:"plot"},{keys:d.eventDataKeys}),hovertext:g.hovertext,hovertemplate:i({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},a,{}),insidetextfont:t({},a,{}),outsidetextfont:t({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},zorder:g.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,H,e){var g=e(54460),R=e(1220),i=e(94288).hasColorscale,C=e(47128),S=e(84664),v=e(4500);G.exports=function(r,t){var a=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,y,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=a.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),y=R(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y",c),l=a.makeCalcdata(t,"x"),y=R(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=y.vals;for(var o=Math.min(u.length,f.length),p=new Array(o),x=0;x<o;x++)p[x]={p:u[x],s:f[x]},h&&(p[x].orig_p=l[x],p[x][T+"End"]=y.ends[x],p[x][T+"Start"]=y.starts[x]),t.ids&&(p[x].id=String(t.ids[x]));return i(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(p,t),v(p,t),p}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,H,e){var g=e(38248),R=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,C=e(24040),S=e(54460),v=e(71888).getAxisGroup,d=e(72592);function r(w,_){for(var D=_.xaxis,N=_.yaxis,z=w._fullLayout,F=w._fullData,U=w.calcdata,B=[],V=[],j=0;j<F.length;j++){var Q=F[j];if(Q.visible===!0&&C.traceIs(Q,"bar")&&Q.xaxis===D._id&&Q.yaxis===N._id&&(Q.orientation==="h"?B.push(U[j]):V.push(U[j]),Q._computePh))for(var ee=w.calcdata[j],re=0;re<ee.length;re++)typeof ee[re].ph0=="function"&&(ee[re].ph0=ee[re].ph0()),typeof ee[re].ph1=="function"&&(ee[re].ph1=ee[re].ph1())}var ue={xCat:D.type==="category"||D.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};t(w,D,N,V,ue),t(w,N,D,B,ue)}function t(w,_,D,N,z){if(N.length){var F,U,B,V,j;switch(f(D,N),z.mode){case"overlay":u(_,D,N,z);break;case"group":for(F=[],U=[],B=0;B<N.length;B++)V=N[B],j=V[0].trace,j.offset===void 0?U.push(V):F.push(V);U.length&&l(w,_,D,U,z),F.length&&u(_,D,F,z);break;case"stack":case"relative":for(F=[],U=[],B=0;B<N.length;B++)V=N[B],j=V[0].trace,j.base===void 0?U.push(V):F.push(V);n(U),U.length&&y(w,_,D,U,z),F.length&&u(_,D,F,z);break}a(N),s(N,_)}}function a(w){var _,D,N,z,F,U,B;for(_=0;_<w.length;_++)D=w[_],N=D[0].trace,z=D[0].t,z.cornerradiusvalue===void 0&&(F=N.marker?N.marker.cornerradius:void 0,F!==void 0&&(U=g(F)?+F:+F.slice(0,-1),B=g(F)?"px":"%",z.cornerradiusvalue=U,z.cornerradiusform=B))}function n(w){if(!(w.length<2)){var _,D,N,z,F,U,B;for(_=0;_<w.length&&(D=w[_],N=D[0].trace,F=N.marker?N.marker.cornerradius:void 0,F===void 0);_++);if(F!==void 0)for(U=g(F)?+F:+F.slice(0,-1),B=g(F)?"px":"%",_=0;_<w.length;_++)D=w[_],z=D[0].t,z.cornerradiusvalue=U,z.cornerradiusform=B}}function f(w,_){var D,N;for(D=0;D<_.length;D++){var z=_[D],F=z[0].trace,U=F.type==="funnel"?F._base:F.base,B,V=F.orientation==="h"?F.xcalendar:F.ycalendar,j=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(R(U)){for(N=0;N<Math.min(U.length,z.length);N++)B=j(U[N],0,V),g(B)?(z[N].b=+B,z[N].hasB=1):z[N].b=0;for(;N<z.length;N++)z[N].b=0}else{B=j(U,0,V);var Q=g(B);for(B=Q?B:0,N=0;N<z.length;N++)z[N].b=B,Q&&(z[N].hasB=1)}}}function u(w,_,D,N){for(var z=0;z<D.length;z++){var F=D[z],U=new d([F],{posAxis:w,sepNegVal:!1,overlapNoMerge:!N.norm});h(w,U,N),N.norm?(P(U),L(_,U,N)):x(_,U)}}function l(w,_,D,N,z){var F=new d(N,{posAxis:_,sepNegVal:!1,overlapNoMerge:!z.norm});T(w,_,F,z),m(F,_),z.norm?(P(F),L(D,F,z)):x(D,F)}function y(w,_,D,N,z){var F=new d(N,{posAxis:_,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});h(_,F,z),b(D,F,z);for(var U=0;U<N.length;U++)for(var B=N[U],V=0;V<B.length;V++){var j=B[V];if(j.s!==i){var Q=j.b+j.s===F.get(j.p,j.s);Q&&(j._outmost=!0)}}z.norm&&L(D,F,z)}function h(w,_,D){for(var N=_.minDiff,z=_.traces,F=N*(1-D.gap),U=F,B=U*(1-(D.groupgap||0)),V=-B/2,j=0;j<z.length;j++){var Q=z[j],ee=Q[0].t;ee.barwidth=B,ee.poffset=V,ee.bargroupwidth=F,ee.bardelta=N}_.binWidth=z[0][0].t.barwidth/100,c(_),o(w,_),p(w,_)}function T(w,_,D,N){for(var z=w._fullLayout,F=D.positions,U=D.distinctPositions,B=D.minDiff,V=D.traces,j=V.length,Q=F.length!==U.length,ee=B*(1-N.gap),re=v(z,_._id)+V[0][0].trace.orientation,ue=z._alignmentOpts[re]||{},J=0;J<j;J++){var X=V[J],ne=X[0].trace,Y=ue[ne.alignmentgroup]||{},oe=Object.keys(Y.offsetGroups||{}).length,le;oe?le=ee/oe:le=Q?ee/j:ee;var Z=le*(1-(N.groupgap||0)),$;oe?$=((2*ne._offsetIndex+1-oe)*le-Z)/2:$=Q?((2*J+1-j)*le-Z)/2:-Z/2;var se=X[0].t;se.barwidth=Z,se.poffset=$,se.bargroupwidth=ee,se.bardelta=B}D.binWidth=V[0][0].t.barwidth/100,c(D),o(_,D),p(_,D,Q)}function c(w){var _=w.traces,D,N;for(D=0;D<_.length;D++){var z=_[D],F=z[0],U=F.trace,B=F.t,V=U._offset||U.offset,j=B.poffset,Q;if(R(V)){for(Q=Array.prototype.slice.call(V,0,z.length),N=0;N<Q.length;N++)g(Q[N])||(Q[N]=j);for(N=Q.length;N<z.length;N++)Q.push(j);B.poffset=Q}else V!==void 0&&(B.poffset=V);var ee=U._width||U.width,re=B.barwidth;if(R(ee)){var ue=Array.prototype.slice.call(ee,0,z.length);for(N=0;N<ue.length;N++)g(ue[N])||(ue[N]=re);for(N=ue.length;N<z.length;N++)ue.push(re);if(B.barwidth=ue,V===void 0){for(Q=[],N=0;N<z.length;N++)Q.push(j+(re-ue[N])/2);B.poffset=Q}}else ee!==void 0&&(B.barwidth=ee,V===void 0&&(B.poffset=j+(re-ee)/2))}}function o(w,_){for(var D=_.traces,N=E(w),z=0;z<D.length;z++)for(var F=D[z],U=F[0].t,B=U.poffset,V=R(B),j=U.barwidth,Q=R(j),ee=0;ee<F.length;ee++){var re=F[ee],ue=re.w=Q?j[ee]:j;re.p===void 0&&(re.p=re[N],re["orig_"+N]=re[N]);var J=(V?B[ee]:B)+ue/2;re[N]=re.p+J}}function p(w,_,D){var N=_.traces,z=_.minDiff,F=z/2;S.minDtick(w,_.minDiff,_.distinctPositions[0],D);for(var U=0;U<N.length;U++){var B=N[U],V=B[0],j=V.trace,Q=[],ee,re,ue,J;for(J=0;J<B.length;J++)ee=B[J],re=ee.p-F,ue=ee.p+F,Q.push(re,ue);if(j.width||j.offset){var X=V.t,ne=X.poffset,Y=X.barwidth,oe=R(ne),le=R(Y);for(J=0;J<B.length;J++){ee=B[J];var Z=oe?ne[J]:ne,$=le?Y[J]:Y;re=ee.p+Z,ue=re+$,Q.push(re,ue)}}j._extremes[w._id]=S.findExtremes(w,Q,{padded:!1})}}function x(w,_){for(var D=_.traces,N=E(w),z=0;z<D.length;z++){for(var F=D[z],U=F[0].trace,B=U.type==="scatter",V=U.orientation==="v",j=[],Q=!1,ee=0;ee<F.length;ee++){var re=F[ee],ue=B?0:re.b,J=B?V?re.y:re.x:ue+re.s;re[N]=J,j.push(J),re.hasB&&j.push(ue),(!re.hasB||!re.b)&&(Q=!0)}U._extremes[w._id]=S.findExtremes(w,j,{tozero:Q,padded:!0})}}function b(w,_,D){var N=E(w),z=_.traces,F,U,B,V,j,Q;for(V=0;V<z.length;V++)if(F=z[V],U=F[0].trace,U.type==="funnel")for(j=0;j<F.length;j++)Q=F[j],Q.s!==i&&_.put(Q.p,-.5*Q.s);for(V=0;V<z.length;V++){F=z[V],U=F[0].trace,B=U.type==="funnel";var ee=[];for(j=0;j<F.length;j++)if(Q=F[j],Q.s!==i){var re;B?re=Q.s:re=Q.s+Q.b;var ue=_.put(Q.p,re),J=ue+re;Q.b=ue,Q[N]=J,D.norm||(ee.push(J),Q.hasB&&ee.push(ue))}D.norm||(U._extremes[w._id]=S.findExtremes(w,ee,{tozero:!0,padded:!0}))}}function P(w){for(var _=w.traces,D=0;D<_.length;D++)for(var N=_[D],z=0;z<N.length;z++){var F=N[z];F.s!==i&&w.put(F.p,F.b+F.s)}}function m(w,_){for(var D=w.traces,N=0;N<D.length;N++){var z=D[N],F=z[0].trace;if(F.base===void 0)for(var U=new d([z],{posAxis:_,sepNegVal:!0,overlapNoMerge:!0}),B=0;B<z.length;B++){var V=z[B];if(V.p!==i){var j=U.put(V.p,V.b+V.s);j&&(V.b=j)}}}}function L(w,_,D){var N=_.traces,z=E(w),F=D.norm==="fraction"?1:100,U=F/1e9,B=w.l2c(w.c2l(0)),V=D.mode==="stack"?F:B;function j($){return g(w.c2l($))&&($<B-U||$>V+U||!g(B))}for(var Q=0;Q<N.length;Q++){for(var ee=N[Q],re=ee[0].trace,ue=[],J=!1,X=!1,ne=0;ne<ee.length;ne++){var Y=ee[ne];if(Y.s!==i){var oe=Math.abs(F/_.get(Y.p,Y.s));Y.b*=oe,Y.s*=oe;var le=Y.b,Z=le+Y.s;Y[z]=Z,ue.push(Z),X=X||j(Z),Y.hasB&&(ue.push(le),X=X||j(le)),(!Y.hasB||!Y.b)&&(J=!0)}}re._extremes[w._id]=S.findExtremes(w,ue,{tozero:J,padded:X})}}function M(w,_,D,N){for(var z=E(N),F=0;F<w.length;F++)for(var U=w[F],B=0;B<U.length;B++){var V=U[B],j=V[z];V._sMin=_[j],V._sMax=D[j]}}function s(w,_){var D=E(_),N={},z,F,U,B=1/0,V=-1/0;for(z=0;z<w.length;z++)for(U=w[z],F=0;F<U.length;F++){var j=U[F].p;g(j)&&(B=Math.min(B,j),V=Math.max(V,j))}var Q=1e4/(V-B),ee=N.round=function(he){return String(Math.round(Q*(he-B)))},re={},ue={},J=w.some(function(he){var me=he[0].trace;return"marker"in me&&me.marker.cornerradius});for(z=0;z<w.length;z++){U=w[z],U[0].t.extents=N;var X=U[0].t.poffset,ne=R(X);for(F=0;F<U.length;F++){var Y=U[F],oe=Y[D]-Y.w/2;if(g(oe)){var le=Y[D]+Y.w/2,Z=ee(Y.p);N[Z]?N[Z]=[Math.min(oe,N[Z][0]),Math.max(le,N[Z][1])]:N[Z]=[oe,le]}if(Y.p0=Y.p+(ne?X[F]:X),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,J){var $=Math.min(Y.s0,Y.s1)||0,se=Math.max(Y.s0,Y.s1)||0,ae=Y[D];re[ae]=ae in re?Math.min(re[ae],$):$,ue[ae]=ae in ue?Math.max(ue[ae],se):se}}}J&&M(w,re,ue,_)}function E(w){return w._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,H,e){var g=e(38248),R=e(3400),i=e(76308),C=e(24040),S=e(43980),v=e(31147),d=e(55592),r=e(20011),t=e(20832),a=R.coerceFont;function n(y,h,T,c){function o(m,L){return R.coerce(y,h,t,m,L)}var p=S(y,h,c,o);if(!p){h.visible=!1;return}v(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("zorder"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");l(y,h,c,o,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(y,h,o,T,c);var b=(h.marker.line||{}).color,P=C.getComponentMethod("errorbars","supplyDefaults");P(y,h,b||i.defaultLine,{axis:"y"}),P(y,h,b||i.defaultLine,{axis:"x",inherit:"y"}),R.coerceSelectionMarkerOpacity(h,o)}function f(y,h){var T,c;function o(b,P){return R.coerce(c._input,c,t,b,P)}for(var p=0;p<y.length;p++)if(c=y[p],c.type==="bar"){T=c._input;var x=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(x)),h.barmode==="group"&&r(T,c,h,o)}}function u(y){if(g(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&g(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function l(y,h,T,c,o,p){p=p||{};var x=p.moduleHasSelected!==!1,b=p.moduleHasUnselected!==!1,P=p.moduleHasConstrain!==!1,m=p.moduleHasCliponaxis!==!1,L=p.moduleHasTextangle!==!1,M=p.moduleHasInsideanchor!==!1,s=!!p.hasPathbar,E=Array.isArray(o)||o==="auto",w=E||o==="inside",_=E||o==="outside";if(w||_){var D=a(c,"textfont",T.font),N=R.extendFlat({},D),z=y.textfont&&y.textfont.color,F=!z;if(F&&delete N.color,a(c,"insidetextfont",N),s){var U=R.extendFlat({},D);F&&delete U.color,a(c,"pathbar.textfont",U)}_&&a(c,"outsidetextfont",D),x&&c("selected.textfont.color"),b&&c("unselected.textfont.color"),P&&c("constraintext"),m&&c("cliponaxis"),L&&c("textangle"),c("texttemplate")}w&&M&&c("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(G){G.exports=function(e,g,R){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),R.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,H,e){var g=e(38248),R=e(49760),i=e(3400).isArrayOrTypedArray;H.coerceString=function(C,S,v){if(typeof S=="string"){if(S||!C.noBlank)return S}else if((typeof S=="number"||S===!0)&&!C.strict)return String(S);return v!==void 0?v:C.dflt},H.coerceNumber=function(C,S,v){if(g(S)){S=+S;var d=C.min,r=C.max,t=d!==void 0&&S<d||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:C.dflt},H.coerceColor=function(C,S,v){return R(S).isValid()?S:v!==void 0?v:C.dflt},H.coerceEnumerated=function(C,S,v){return C.coerceNumber&&(S=+S),C.values.indexOf(S)!==-1?S:v!==void 0?v:C.dflt},H.getValue=function(C,S){var v;return i(C)?S<C.length&&(v=C[S]):v=C,v},H.getLineWidth=function(C,S){var v=0<S.mlw?S.mlw:i(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(G,H,e){var g=e(93024),R=e(24040),i=e(76308),C=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,d=e(39032).BADNUM;function r(n,f,u,l,y){var h=t(n,f,u,l,y);if(h){var T=h.cd,c=T[0].trace,o=T[h.index];return h.color=a(c,o),R.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(n,f,u,l,y){var h=n.cd,T=h[0].trace,c=h[0].t,o=l==="closest",p=T.type==="waterfall",x=n.maxHoverDistance,b=n.maxSpikeDistance,P,m,L,M,s,E,w;T.orientation==="h"?(P=u,m=f,L="y",M="x",s=ue,E=Q):(P=f,m=u,L="x",M="y",E=ue,s=Q);var _=T[L+"period"],D=o||_;function N(he){return F(he,-1)}function z(he){return F(he,1)}function F(he,me){var Me=he.w;return he[L]+me*Me/2}function U(he){return he[L+"End"]-he[L+"Start"]}var B=o?N:_?function(he){return he.p-U(he)/2}:function(he){return Math.min(N(he),he.p-c.bardelta/2)},V=o?z:_?function(he){return he.p+U(he)/2}:function(he){return Math.max(z(he),he.p+c.bardelta/2)};function j(he,me,Me){return y.finiteRange&&(Me=0),g.inbox(he-P,me-P,Me+Math.min(1,Math.abs(me-he)/w)-1)}function Q(he){return j(B(he),V(he),x)}function ee(he){return j(N(he),z(he),b)}function re(he){var me=he[M];if(p){var Me=Math.abs(he.rawS)||0;m>0?me+=Me:m<0&&(me-=Me)}return me}function ue(he){var me=m,Me=he.b,Te=re(he);return g.inbox(Me-me,Te-me,x+(Te-me)/(Te-Me)-1)}function J(he){var me=m,Me=he.b,Te=re(he);return g.inbox(Me-me,Te-me,b+(Te-me)/(Te-Me)-1)}var X=n[L+"a"],ne=n[M+"a"];w=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));function Y(he){return(s(he)+E(he))/2}var oe=g.getDistanceFunction(l,s,E,Y);if(g.getClosest(h,oe,n),n.index!==!1&&h[n.index].p!==d){D||(B=function(he){return Math.min(N(he),he.p-c.bargroupwidth/2)},V=function(he){return Math.max(z(he),he.p+c.bargroupwidth/2)});var le=n.index,Z=h[le],$=T.base?Z.b+Z.s:Z.s;n[M+"0"]=n[M+"1"]=ne.c2p(Z[M],!0),n[M+"LabelVal"]=$;var se=c.extents[c.extents.round(Z.p)];n[L+"0"]=X.c2p(o?B(Z):se[0],!0),n[L+"1"]=X.c2p(o?V(Z):se[1],!0);var ae=Z.orig_p!==void 0;return n[L+"LabelVal"]=ae?Z.orig_p:Z.p,n.labelLabel=v(X,n[L+"LabelVal"],T[L+"hoverformat"]),n.valueLabel=v(ne,n[M+"LabelVal"],T[M+"hoverformat"]),n.baseLabel=v(ne,Z.b,T[M+"hoverformat"]),n.spikeDistance=(J(Z)+ee(Z))/2,n[L+"Spike"]=X.c2p(Z.p,!0),C(Z,T,n),n.hovertemplate=T.hovertemplate,n}}function a(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,y=S(n,f);if(i.opacity(u))return u;if(i.opacity(l)&&y)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:a}},51132:function(G,H,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,H,e){var g=e(24040),R=e(54460),i=e(3400),C=e(39324),S=e(31508).validateCornerradius;G.exports=function(v,d,r){function t(p,x){return i.coerce(v,d,C,p,x)}for(var a=!1,n=!1,f=!1,u={},l=t("barmode"),y=0;y<r.length;y++){var h=r[y];if(g.traceIs(h,"bar")&&h.visible)a=!0;else continue;if(l==="group"){var T=h.xaxis+h.yaxis;u[T]&&(f=!0),u[T]=!0}if(h.visible&&h.type==="histogram"){var c=R.getFromId({_fullLayout:d},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!a){delete d.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var o=t("barcornerradius");d.barcornerradius=S(o)}},98184:function(G,H,e){var g=e(33428),R=e(38248),i=e(3400),C=e(72736),S=e(76308),v=e(43616),d=e(24040),r=e(54460).tickText,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),y=e(20832),h=y.text,T=y.textposition,c=e(10624).appendArrayPointValue,o=l.TEXTPAD;function p(Q){return Q.id}function x(Q){if(Q.ids)return p}function b(Q){return(Q>0)-(Q<0)}function P(Q,ee){return Q<ee?1:-1}function m(Q,ee,re,ue){var J=[],X=[],ne=ue?ee:re,Y=ue?re:ee;return J[0]=ne.c2p(Q.s0,!0),X[0]=Y.c2p(Q.p0,!0),J[1]=ne.c2p(Q.s1,!0),X[1]=Y.c2p(Q.p1,!0),ue?[J,X]:[X,J]}function L(Q,ee,re,ue){if(!ee.uniformtext.mode&&M(re)){var J;return ue&&(J=ue()),Q.transition().duration(re.duration).ease(re.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})}else return Q}function M(Q){return Q&&Q.duration>0}function s(Q,ee,re,ue,J,X){var ne=ee.xaxis,Y=ee.yaxis,oe=Q._fullLayout,le=Q._context.staticPlot;J||(J={mode:oe.barmode,norm:oe.barmode,gap:oe.bargap,groupgap:oe.bargroupgap},n("bar",oe));var Z=i.makeTraceGroups(ue,re,"trace bars").each(function($){var se=g.select(this),ae=$[0].trace,he=$[0].t,me=ae.type==="waterfall",Me=ae.type==="funnel",Te=ae.type==="histogram",Pe=ae.type==="bar",be=Pe||Me,Ee=0;me&&ae.connector.visible&&ae.connector.mode==="between"&&(Ee=ae.connector.line.width/2);var xe=ae.orientation==="h",Ce=M(J),Ue=i.ensureSingle(se,"g","points"),Ne=x(ae),De=Ue.selectAll("g.point").data(i.identity,Ne);De.enter().append("g").classed("point",!0),De.exit().remove(),De.each(function(at,vt){var ot=g.select(this),et=m(at,ne,Y,xe),ct=et[0][0],ht=et[0][1],gt=et[1][0],xt=et[1][1],Mt=(xe?ht-ct:xt-gt)===0;Mt&&be&&u.getLineWidth(ae,at)&&(Mt=!1),Mt||(Mt=!R(ct)||!R(ht)||!R(gt)||!R(xt)),at.isBlank=Mt,Mt&&(xe?ht=ct:xt=gt),Ee&&!Mt&&(xe?(ct-=P(ct,ht)*Ee,ht+=P(ct,ht)*Ee):(gt-=P(gt,xt)*Ee,xt+=P(gt,xt)*Ee));var tt,Oe;if(ae.type==="waterfall"){if(!Mt){var Xe=ae[at.dir].marker;tt=Xe.line.width,Oe=Xe.color}}else tt=u.getLineWidth(ae,at),Oe=at.mc||ae.marker.color;function Ze(lt){var bt=g.round(tt/2%1,2);return J.gap===0&&J.groupgap===0?g.round(Math.round(lt)-bt,2):lt}function We(lt,bt,Et){return Et&&lt===bt?lt:Math.abs(lt-bt)>=2?Ze(lt):lt>bt?Math.ceil(lt):Math.floor(lt)}var ze=S.opacity(Oe),ke=ze<1||tt>.01?Ze:We;Q._context.staticPlot||(ct=ke(ct,ht,xe),ht=ke(ht,ct,xe),gt=ke(gt,xt,!xe),xt=ke(xt,gt,!xe));var je=xe?ne.c2p:Y.c2p,Ie;at.s0>0?Ie=at._sMax:at.s0<0?Ie=at._sMin:Ie=at.s1>0?at._sMax:at._sMin;function pe(lt,bt){if(!lt)return 0;var Et=Math.abs(xe?xt-gt:ht-ct),It=Math.abs(xe?ht-ct:xt-gt),Ht=ke(Math.abs(je(Ie,!0)-je(0,!0))),Ut=at.hasB?Math.min(Et/2,It/2):Math.min(Et/2,Ht),Bt;if(bt==="%"){var $t=Math.min(50,lt);Bt=Et*($t/100)}else Bt=lt;return ke(Math.max(Math.min(Bt,Ut),0))}var we=Pe||Te?pe(he.cornerradiusvalue,he.cornerradiusform):0,Ve,Qe,it="M"+ct+","+gt+"V"+xt+"H"+ht+"V"+gt+"Z",st=0;if(we&&at.s){var Wt=b(at.s0)===0||b(at.s)===b(at.s0)?at.s1:at.s0;if(st=ke(at.hasB?0:Math.abs(je(Ie,!0)-je(Wt,!0))),st<we){var jt=P(ct,ht),Tt=P(gt,xt),Lt=jt===-Tt?1:0;if(xe)if(at.hasB)Ve="M"+(ct+we*jt)+","+gt+"A "+we+","+we+" 0 0 "+Lt+" "+ct+","+(gt+we*Tt)+"V"+(xt-we*Tt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ct+we*jt)+","+xt+"H"+(ht-we*jt)+"A "+we+","+we+" 0 0 "+Lt+" "+ht+","+(xt-we*Tt)+"V"+(gt+we*Tt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ht-we*jt)+","+gt+"Z";else{Qe=Math.abs(ht-ct)+st;var Xt=Qe<we?we-Math.sqrt(Qe*(2*we-Qe)):0,Tr=st>0?Math.sqrt(st*(2*we-st)):0,yt=jt>0?Math.max:Math.min;Ve="M"+ct+","+gt+"V"+(xt-Xt*Tt)+"H"+yt(ht-(we-st)*jt,ct)+"A "+we+","+we+" 0 0 "+Lt+" "+ht+","+(xt-we*Tt-Tr)+"V"+(gt+we*Tt+Tr)+"A "+we+","+we+" 0 0 "+Lt+" "+yt(ht-(we-st)*jt,ct)+","+(gt+Xt*Tt)+"Z"}else if(at.hasB)Ve="M"+(ct+we*jt)+","+gt+"A "+we+","+we+" 0 0 "+Lt+" "+ct+","+(gt+we*Tt)+"V"+(xt-we*Tt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ct+we*jt)+","+xt+"H"+(ht-we*jt)+"A "+we+","+we+" 0 0 "+Lt+" "+ht+","+(xt-we*Tt)+"V"+(gt+we*Tt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ht-we*jt)+","+gt+"Z";else{Qe=Math.abs(xt-gt)+st;var Kt=Qe<we?we-Math.sqrt(Qe*(2*we-Qe)):0,Jt=st>0?Math.sqrt(st*(2*we-st)):0,yr=Tt>0?Math.max:Math.min;Ve="M"+(ct+Kt*jt)+","+gt+"V"+yr(xt-(we-st)*Tt,gt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ct+we*jt-Jt)+","+xt+"H"+(ht-we*jt+Jt)+"A "+we+","+we+" 0 0 "+Lt+" "+(ht-Kt*jt)+","+yr(xt-(we-st)*Tt,gt)+"V"+gt+"Z"}}else Ve=it}else Ve=it;var ur=L(i.ensureSingle(ot,"path"),oe,J,X);if(ur.style("vector-effect",le?"none":"non-scaling-stroke").attr("d",isNaN((ht-ct)*(xt-gt))||Mt&&Q._context.staticPlot?"M0,0Z":Ve).call(v.setClipUrl,ee.layerClipId,Q),!oe.uniformtext.mode&&Ce){var mt=v.makePointStyleFns(ae);v.singlePointStyle(at,ur,ae,mt,Q)}E(Q,ee,ot,$,vt,ct,ht,gt,xt,we,st,J,X),ee.layerClipId&&v.hideOutsideRangePoint(at,ot.select("text"),ne,Y,ae.xcalendar,ae.ycalendar)});var He=ae.cliponaxis===!1;v.setClipUrl(se,He?null:ee.layerClipId,Q)});d.getComponentMethod("errorbars","plot")(Q,Z,ee,J)}function E(Q,ee,re,ue,J,X,ne,Y,oe,le,Z,$,se){var ae=ee.xaxis,he=ee.yaxis,me=Q._fullLayout,Me;function Te(Qe,it,st){var Wt=i.ensureSingle(Qe,"text").text(it).attr({class:"bartext bartext-"+Me,"text-anchor":"middle","data-notex":1}).call(v.font,st).call(C.convertToTspans,Q);return Wt}var Pe=ue[0].trace,be=Pe.orientation==="h",Ee=U(me,ue,J,ae,he);Me=B(Pe,J);var xe=$.mode==="stack"||$.mode==="relative",Ce=ue[J],Ue=!xe||Ce._outmost,Ne=Ce.hasB,De=le&&le-Z>o;if(!Ee||Me==="none"||(Ce.isBlank||X===ne||Y===oe)&&(Me==="auto"||Me==="inside")){re.select("text").remove();return}var He=me.font,at=f.getBarColor(ue[J],Pe),vt=f.getInsideTextFont(Pe,J,He,at),ot=f.getOutsideTextFont(Pe,J,He),et=Pe.insidetextanchor||"end",ct=re.datum();be?ae.type==="log"&&ct.s0<=0&&(ae.range[0]<ae.range[1]?X=0:X=ae._length):he.type==="log"&&ct.s0<=0&&(he.range[0]<he.range[1]?Y=he._length:Y=0);var ht=Math.abs(ne-X),gt=Math.abs(oe-Y),xt=ht-2*o,Mt=gt-2*o,tt,Oe,Xe,Ze,We;if(Me==="outside"&&!Ue&&!Ce.hasB&&(Me="inside"),Me==="auto")if(Ue){Me="inside",We=i.ensureUniformFontSize(Q,vt),tt=Te(re,Ee,We),Oe=v.bBox(tt.node()),Xe=Oe.width,Ze=Oe.height;var ze=Xe>0&&Ze>0,ke;De?Ne?ke=w(xt-2*le,Mt,Xe,Ze,be)||w(xt,Mt-2*le,Xe,Ze,be):be?ke=w(xt-(le-Z),Mt,Xe,Ze,be)||w(xt,Mt-2*(le-Z),Xe,Ze,be):ke=w(xt,Mt-(le-Z),Xe,Ze,be)||w(xt-2*(le-Z),Mt,Xe,Ze,be):ke=w(xt,Mt,Xe,Ze,be),ze&&ke?Me="inside":(Me="outside",tt.remove(),tt=null)}else Me="inside";if(!tt){We=i.ensureUniformFontSize(Q,Me==="outside"?ot:vt),tt=Te(re,Ee,We);var je=tt.attr("transform");if(tt.attr("transform",""),Oe=v.bBox(tt.node()),Xe=Oe.width,Ze=Oe.height,tt.attr("transform",je),Xe<=0||Ze<=0){tt.remove();return}}var Ie=Pe.textangle,pe,we;Me==="outside"?(we=Pe.constraintext==="both"||Pe.constraintext==="outside",pe=F(X,ne,Y,oe,Oe,{isHorizontal:be,constrained:we,angle:Ie})):(we=Pe.constraintext==="both"||Pe.constraintext==="inside",pe=N(X,ne,Y,oe,Oe,{isHorizontal:be,constrained:we,angle:Ie,anchor:et,hasB:Ne,r:le,overhead:Z})),pe.fontSize=We.size,a(Pe.type==="histogram"?"bar":Pe.type,pe,me),Ce.transform=pe;var Ve=L(tt,me,$,se);i.setTransormAndDisplay(Ve,pe)}function w(Q,ee,re,ue,J){if(Q<0||ee<0)return!1;var X=re<=Q&&ue<=ee,ne=re<=ee&&ue<=Q,Y=J?Q>=re*(ee/ue):ee>=ue*(Q/re);return X||ne||Y}function _(Q){return Q==="auto"?0:Q}function D(Q,ee){var re=Math.PI/180*ee,ue=Math.abs(Math.sin(re)),J=Math.abs(Math.cos(re));return{x:Q.width*J+Q.height*ue,y:Q.width*ue+Q.height*J}}function N(Q,ee,re,ue,J,X){var ne=!!X.isHorizontal,Y=!!X.constrained,oe=X.angle||0,le=X.anchor,Z=le==="end",$=le==="start",se=X.leftToRight||0,ae=(se+1)/2,he=1-ae,me=X.hasB,Me=X.r,Te=X.overhead,Pe=J.width,be=J.height,Ee=Math.abs(ee-Q),xe=Math.abs(ue-re),Ce=Ee>2*o&&xe>2*o?o:0;Ee-=2*Ce,xe-=2*Ce;var Ue=_(oe);oe==="auto"&&!(Pe<=Ee&&be<=xe)&&(Pe>Ee||be>xe)&&(!(Pe>xe||be>Ee)||Pe<be!=Ee<xe)&&(Ue+=90);var Ne=D(J,Ue),De,He;if(Me&&Me-Te>o){var at=z(Q,ee,re,ue,Ne,Me,Te,ne,me);De=at.scale,He=at.pad}else De=1,Y&&(De=Math.min(1,Ee/Ne.x,xe/Ne.y)),He=0;var vt=J.left*he+J.right*ae,ot=(J.top+J.bottom)/2,et=(Q+o)*he+(ee-o)*ae,ct=(re+ue)/2,ht=0,gt=0;if($||Z){var xt=(ne?Ne.x:Ne.y)/2;Me&&(Z||me)&&(Ce+=He);var Mt=ne?P(Q,ee):P(re,ue);ne?$?(et=Q+Mt*Ce,ht=-Mt*xt):(et=ee-Mt*Ce,ht=Mt*xt):$?(ct=re+Mt*Ce,gt=-Mt*xt):(ct=ue-Mt*Ce,gt=Mt*xt)}return{textX:vt,textY:ot,targetX:et,targetY:ct,anchorX:ht,anchorY:gt,scale:De,rotate:Ue}}function z(Q,ee,re,ue,J,X,ne,Y,oe){var le=Math.max(0,Math.abs(ee-Q)-2*o),Z=Math.max(0,Math.abs(ue-re)-2*o),$=X-o,se=ne?$-Math.sqrt($*$-($-ne)*($-ne)):$,ae=oe?$*2:Y?$-ne:2*se,he=oe?$*2:Y?2*se:$-ne,me,Me,Te,Pe,be;return J.y/J.x>=Z/(le-ae)?Pe=Z/J.y:J.y/J.x<=(Z-he)/le?Pe=le/J.x:!oe&&Y?(me=J.x*J.x+J.y*J.y/4,Me=-2*J.x*(le-$)-J.y*(Z/2-$),Te=(le-$)*(le-$)+(Z/2-$)*(Z/2-$)-$*$,Pe=(-Me+Math.sqrt(Me*Me-4*me*Te))/(2*me)):oe?(me=(J.x*J.x+J.y*J.y)/4,Me=-J.x*(le/2-$)-J.y*(Z/2-$),Te=(le/2-$)*(le/2-$)+(Z/2-$)*(Z/2-$)-$*$,Pe=(-Me+Math.sqrt(Me*Me-4*me*Te))/(2*me)):(me=J.x*J.x/4+J.y*J.y,Me=-J.x*(le/2-$)-2*J.y*(Z-$),Te=(le/2-$)*(le/2-$)+(Z-$)*(Z-$)-$*$,Pe=(-Me+Math.sqrt(Me*Me-4*me*Te))/(2*me)),Pe=Math.min(1,Pe),Y?be=Math.max(0,$-Math.sqrt(Math.max(0,$*$-($-(Z-J.y*Pe)/2)*($-(Z-J.y*Pe)/2)))-ne):be=Math.max(0,$-Math.sqrt(Math.max(0,$*$-($-(le-J.x*Pe)/2)*($-(le-J.x*Pe)/2)))-ne),{scale:Pe,pad:be}}function F(Q,ee,re,ue,J,X){var ne=!!X.isHorizontal,Y=!!X.constrained,oe=X.angle||0,le=J.width,Z=J.height,$=Math.abs(ee-Q),se=Math.abs(ue-re),ae;ne?ae=se>2*o?o:0:ae=$>2*o?o:0;var he=1;Y&&(he=ne?Math.min(1,se/Z):Math.min(1,$/le));var me=_(oe),Me=D(J,me),Te=(ne?Me.x:Me.y)/2,Pe=(J.left+J.right)/2,be=(J.top+J.bottom)/2,Ee=(Q+ee)/2,xe=(re+ue)/2,Ce=0,Ue=0,Ne=ne?P(ee,Q):P(re,ue);return ne?(Ee=ee-Ne*ae,Ce=Ne*Te):(xe=ue+Ne*ae,Ue=-Ne*Te),{textX:Pe,textY:be,targetX:Ee,targetY:xe,anchorX:Ce,anchorY:Ue,scale:he,rotate:me}}function U(Q,ee,re,ue,J){var X=ee[0].trace,ne=X.texttemplate,Y;return ne?Y=V(Q,ee,re,ue,J):X.textinfo?Y=j(ee,re,ue,J):Y=u.getValue(X.text,re),u.coerceString(h,Y)}function B(Q,ee){var re=u.getValue(Q.textposition,ee);return u.coerceEnumerated(T,re)}function V(Q,ee,re,ue,J){var X=ee[0].trace,ne=i.castOption(X,re,"texttemplate");if(!ne)return"";var Y=X.type==="histogram",oe=X.type==="waterfall",le=X.type==="funnel",Z=X.orientation==="h",$,se,ae,he;Z?($="y",se=J,ae="x",he=ue):($="x",se=ue,ae="y",he=J);function me(Ce){return r(se,se.c2l(Ce),!0).text}function Me(Ce){return r(he,he.c2l(Ce),!0).text}var Te=ee[re],Pe={};Pe.label=Te.p,Pe.labelLabel=Pe[$+"Label"]=me(Te.p);var be=i.castOption(X,Te.i,"text");(be===0||be)&&(Pe.text=be),Pe.value=Te.s,Pe.valueLabel=Pe[ae+"Label"]=Me(Te.s);var Ee={};c(Ee,X,Te.i),(Y||Ee.x===void 0)&&(Ee.x=Z?Pe.value:Pe.label),(Y||Ee.y===void 0)&&(Ee.y=Z?Pe.label:Pe.value),(Y||Ee.xLabel===void 0)&&(Ee.xLabel=Z?Pe.valueLabel:Pe.labelLabel),(Y||Ee.yLabel===void 0)&&(Ee.yLabel=Z?Pe.labelLabel:Pe.valueLabel),oe&&(Pe.delta=+Te.rawS||Te.s,Pe.deltaLabel=Me(Pe.delta),Pe.final=Te.v,Pe.finalLabel=Me(Pe.final),Pe.initial=Pe.final-Pe.delta,Pe.initialLabel=Me(Pe.initial)),le&&(Pe.value=Te.s,Pe.valueLabel=Me(Pe.value),Pe.percentInitial=Te.begR,Pe.percentInitialLabel=i.formatPercent(Te.begR),Pe.percentPrevious=Te.difR,Pe.percentPreviousLabel=i.formatPercent(Te.difR),Pe.percentTotal=Te.sumR,Pe.percenTotalLabel=i.formatPercent(Te.sumR));var xe=i.castOption(X,Te.i,"customdata");return xe&&(Pe.customdata=xe),i.texttemplateString(ne,Pe,Q._d3locale,Ee,Pe,X._meta||{})}function j(Q,ee,re,ue){var J=Q[0].trace,X=J.orientation==="h",ne=J.type==="waterfall",Y=J.type==="funnel";function oe(xe){var Ce=X?ue:re;return r(Ce,xe,!0).text}function le(xe){var Ce=X?re:ue;return r(Ce,+xe,!0).text}var Z=J.textinfo,$=Q[ee],se=Z.split("+"),ae=[],he,me=function(xe){return se.indexOf(xe)!==-1};if(me("label")&&ae.push(oe(Q[ee].p)),me("text")&&(he=i.castOption(J,$.i,"text"),(he===0||he)&&ae.push(he)),ne){var Me=+$.rawS||$.s,Te=$.v,Pe=Te-Me;me("initial")&&ae.push(le(Pe)),me("delta")&&ae.push(le(Me)),me("final")&&ae.push(le(Te))}if(Y){me("value")&&ae.push(le($.s));var be=0;me("percent initial")&&be++,me("percent previous")&&be++,me("percent total")&&be++;var Ee=be>1;me("percent initial")&&(he=i.formatPercent($.begR),Ee&&(he+=" of initial"),ae.push(he)),me("percent previous")&&(he=i.formatPercent($.difR),Ee&&(he+=" of previous"),ae.push(he)),me("percent total")&&(he=i.formatPercent($.sumR),Ee&&(he+=" of total"),ae.push(he))}return ae.join("<br>")}G.exports={plot:s,toMoveInsideBar:N}},45784:function(G){G.exports=function(g,R){var i=g.cd,C=g.xaxis,S=g.yaxis,v=i[0].trace,d=v.type==="funnel",r=v.orientation==="h",t=[],a;if(R===!1)for(a=0;a<i.length;a++)i[a].selected=0;else for(a=0;a<i.length;a++){var n=i[a],f="ct"in n?n.ct:H(n,C,S,r,d);R.contains(f,!1,a,g)?(t.push({pointNumber:a,x:C.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function H(e,g,R,i,C){var S=g.c2p(i?e.s0:e.p0,!0),v=g.c2p(i?e.s1:e.p1,!0),d=R.c2p(i?e.p0:e.s0,!0),r=R.c2p(i?e.p1:e.s1,!0);return C?[(S+v)/2,(d+r)/2]:i?[v,(d+r)/2]:[(S+v)/2,r]}},72592:function(G,H,e){G.exports=R;var g=e(3400).distinctVals;function R(i,C){this.traces=i,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var S=1/0,v=C.posAxis._id.charAt(0),d=[],r=0;r<i.length;r++){for(var t=i[r],a=0;a<t.length;a++){var n=t[a],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&d.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=d;var u=g(d);this.distinctPositions=u.vals,u.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(u.minDiff,S);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}R.prototype.put=function(C,S){var v=this.getLabel(C,S),d=this.bins[v]||0;return this.bins[v]=d+S,d},R.prototype.get=function(C,S){var v=this.getLabel(C,S);return this.bins[v]||0},R.prototype.getLabel=function(C,S){var v=S<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+d}},60100:function(G,H,e){var g=e(33428),R=e(76308),i=e(43616),C=e(3400),S=e(24040),v=e(82744).resizeText,d=e(20832),r=d.textfont,t=d.insidetextfont,a=d.outsidetextfont,n=e(60444);function f(m){var L=g.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(m,L,"bar");var M=L.size(),s=m._fullLayout;L.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(s.barmode==="stack"&&M>1||s.bargap===0&&s.bargroupgap===0&&!E[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),L.selectAll("g.points").each(function(E){var w=g.select(this),_=E[0].trace;u(w,_,m)}),S.getComponentMethod("errorbars","style")(L)}function u(m,L,M){i.pointStyle(m.selectAll("path"),L,M),l(m,L,M)}function l(m,L,M){m.selectAll("text").each(function(s){var E=g.select(this),w=C.ensureUniformFontSize(M,c(E,s,L,M));i.font(E,w)})}function y(m,L,M){var s=L[0].trace;s.selectedpoints?h(M,s,m):(u(M,s,m),S.getComponentMethod("errorbars","style")(M))}function h(m,L,M){i.selectedPointStyle(m.selectAll("path"),L),T(m.selectAll("text"),L,M)}function T(m,L,M){m.each(function(s){var E=g.select(this),w;if(s.selected){w=C.ensureUniformFontSize(M,c(E,s,L,M));var _=L.selected.textfont&&L.selected.textfont.color;_&&(w.color=_),i.font(E,w)}else i.selectedTextStyle(E,L)})}function c(m,L,M,s){var E=s._fullLayout.font,w=M.textfont;if(m.classed("bartext-inside")){var _=P(L,M);w=p(M,L.i,E,_)}else m.classed("bartext-outside")&&(w=x(M,L.i,E));return w}function o(m,L,M){return b(r,m.textfont,L,M)}function p(m,L,M,s){var E=o(m,L,M),w=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[L]===void 0;return w&&(E={color:R.contrast(s),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant}),b(t,m.insidetextfont,L,E)}function x(m,L,M){var s=o(m,L,M);return b(a,m.outsidetextfont,L,s)}function b(m,L,M,s){L=L||{};var E=n.getValue(L.family,M),w=n.getValue(L.size,M),_=n.getValue(L.color,M),D=n.getValue(L.weight,M),N=n.getValue(L.style,M),z=n.getValue(L.variant,M);return{family:n.coerceString(m.family,E,s.family),size:n.coerceNumber(m.size,w,s.size),color:n.coerceColor(m.color,_,s.color),weight:n.coerceString(m.weight,D,s.weight),style:n.coerceString(m.style,N,s.style),variant:n.coerceString(m.variant,z,s.variant)}}function P(m,L){return L.type==="waterfall"?L[m.dir].marker.color:m.mcc||m.mc||L.marker.color}G.exports={style:f,styleTextPoints:l,styleOnSelect:y,getInsideTextFont:p,getOutsideTextFont:x,getBarColor:P,resizeText:v}},55592:function(G,H,e){var g=e(76308),R=e(94288).hasColorscale,i=e(27260),C=e(3400).coercePattern;G.exports=function(v,d,r,t,a){var n=r("marker.color",t),f=R(v,"marker");f&&i(v,d,a,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),R(v,"marker.line")&&i(v,d,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,H,e){var g=e(33428),R=e(3400);function i(d,r,t){var a=d._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var f=a.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var y=l.transform;if(y){y.scale=f&&y.hide?0:n/y.fontSize;var h=g.select(this).select("text");R.setTransormAndDisplay(h,y)}})}}function C(d,r,t){if(t.uniformtext.mode){var a=v(d),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(f,n)))}}function S(d,r){var t=v(d);r[t]=void 0}function v(d){return"_"+d+"Text_minsize"}G.exports={recordMinTextSize:C,clearMinTextSize:S,resizeText:i}},78100:function(G,H,e){var g=e(21776).Ks,R=e(92880).extendFlat,i=e(8319),C=e(20832);G.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:R({},C.base,{}),offset:R({},C.offset,{}),width:R({},C.width,{}),text:R({},C.text,{}),hovertext:R({},C.hovertext,{}),marker:S(),hoverinfo:i.hoverinfo,hovertemplate:g(),selected:C.selected,unselected:C.unselected};function S(){var v=R({},C.marker);return delete v.cornerradius,v}},47056:function(G,H,e){var g=e(94288).hasColorscale,R=e(47128),i=e(3400).isArrayOrTypedArray,C=e(84664),S=e(96376).setGroupPositions,v=e(4500),d=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,y=u[l].radialaxis,h=u[l].angularaxis,T=y.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),o=f._length,p=new Array(o),x=T,b=c,P=0;P<o;P++)p[P]={p:b[P],s:x[P]};function m(L){var M=f[L];M!==void 0&&(f["_"+L]=i(M)?h.makeCalcdata(f,L):h.d2c(M,f.thetaunit))}return h.type==="linear"&&(m("width"),m("offset")),g(f,"marker")&&R(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),g(f,"marker.line")&&R(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(p,f),v(p,f),p}function a(n,f,u){for(var l=n.calcdata,y=[],h=0;h<l.length;h++){var T=l[h],c=T[0].trace;c.visible===!0&&d(c,"bar")&&c.subplot===u&&y.push(T)}var o=r({},f.radialaxis,{_id:"x"}),p=f.angularaxis;S(n,p,o,y,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}G.exports={calc:t,crossTraceCalc:a}},70384:function(G,H,e){var g=e(3400),R=e(85968).handleRThetaDefaults,i=e(55592),C=e(78100);G.exports=function(v,d,r,t){function a(f,u){return g.coerce(v,d,C,f,u)}var n=R(v,d,t,a);if(!n){d.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),i(v,d,a,r,t),g.coerceSelectionMarkerOpacity(d,a)}},68896:function(G,H,e){var g=e(93024),R=e(3400),i=e(63400).getTraceColor,C=R.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,y=u.angularAxis,h=u.vangles,T=h?v:R.isPtInsideSector,c=r.maxHoverDistance,o=y._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(t*t+a*a))),x=Math.atan2(a,t);l.range[0]>l.range[1]&&(x+=Math.PI);var b=function(M){return T(p,x,[M.rp0,M.rp1],[M.thetag0,M.thetag1],h)?c+Math.min(1,Math.abs(M.thetag1-M.thetag0)/o)-1+(M.rp1-p)/(M.rp1-M.rp0)-1:1/0};if(g.getClosest(n,b,r),r.index!==!1){var P=r.index,m=n[P];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var L=R.extendFlat({},m,{r:m.s,theta:m.p});return C(m,f,r),S(L,f,u,r),r.hovertemplate=f.hovertemplate,r.color=i(f,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,H,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,H,e){var g=e(3400),R=e(9320);G.exports=function(i,C,S){var v={},d;function r(n,f){return g.coerce(i[d]||{},C[d],R,n,f)}for(var t=0;t<S.length;t++){var a=S[t];a.type==="barpolar"&&a.visible===!0&&(d=a.subplot,v[d]||(r("barmode"),r("bargap"),v[d]=1))}}},42040:function(G,H,e){var g=e(33428),R=e(38248),i=e(3400),C=e(43616),S=e(57384);G.exports=function(r,t,a){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,y=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");i.makeTraceGroups(T,a,"trace bars").each(function(){var c=g.select(this),o=i.ensureSingle(c,"g","points"),p=o.selectAll("g.point").data(i.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(x){var b=g.select(this),P=x.rp0=l.c2p(x.s0),m=x.rp1=l.c2p(x.s1),L=x.thetag0=y.c2g(x.p0),M=x.thetag1=y.c2g(x.p1),s;if(!R(P)||!R(m)||!R(L)||!R(M)||P===m||L===M)s="M0,0Z";else{var E=l.c2g(x.s1),w=(L+M)/2;x.ct=[f.c2p(E*Math.cos(w)),u.c2p(E*Math.sin(w))],s=h(P,m,L,M)}i.ensureSingle(b,"path").attr("d",s)}),C.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(d){var r=d.cxx,t=d.cyy;return d.vangles?function(a,n,f,u){var l,y;i.angleDelta(f,u)>0?(l=f,y=u):(l=u,y=f);var h=S.findEnclosingVertexAngles(l,d.vangles)[0],T=S.findEnclosingVertexAngles(y,d.vangles)[1],c=[h,(l+y)/2,T];return S.pathPolygonAnnulus(a,n,l,y,c,r,t)}:function(a,n,f,u){return i.pathAnnulus(a,n,f,u,r,t)}}},63188:function(G,H,e){var g=e(98304),R=e(52904),i=e(20832),C=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,d=e(92880).extendFlat,r=R.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:R.xperiod,yperiod:R.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:R.xperiodalignment,yperiodalignment:R.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},r.angle,{arrayOk:!1,editType:"calc"}),size:d({},r.size,{arrayOk:!1,editType:"calc"}),color:d({},r.color,{arrayOk:!1,editType:"style"}),line:{color:d({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:d({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:R.selected.marker,editType:"style"},unselected:{marker:R.unselected.marker,editType:"style"},text:d({},R.text,{}),hovertext:d({},R.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:R.zorder}},62555:function(G,H,e){var g=e(38248),R=e(54460),i=e(1220),C=e(3400),S=e(39032).BADNUM,v=C._;G.exports=function(x,b){var P=x._fullLayout,m=R.getFromId(x,b.xaxis||"x"),L=R.getFromId(x,b.yaxis||"y"),M=[],s=b.type==="violin"?"_numViolins":"_numBoxes",E,w,_,D,N,z,F;b.orientation==="h"?(_=m,D="x",N=L,z="y",F=!!b.yperiodalignment):(_=L,D="y",N=m,z="x",F=!!b.xperiodalignment);var U=d(b,z,N,P[s]),B=U[0],V=U[1],j=C.distinctVals(B,N),Q=j.vals,ee=j.minDiff/2,re,ue,J,X,ne,Y,oe=(b.boxpoints||b.points)==="all"?C.identity:function(Mt){return Mt.v<re.lf||Mt.v>re.uf};if(b._hasPreCompStats){var le=b[D],Z=function(Mt){return _.d2c((b[Mt]||[])[E])},$=1/0,se=-1/0;for(E=0;E<b._length;E++){var ae=B[E];if(g(ae)){if(re={},re.pos=re[z]=ae,F&&V&&(re.orig_p=V[E]),re.q1=Z("q1"),re.med=Z("median"),re.q3=Z("q3"),ue=[],le&&C.isArrayOrTypedArray(le[E]))for(w=0;w<le[E].length;w++)Y=_.d2c(le[E][w]),Y!==S&&(ne={v:Y,i:[E,w]},n(ne,b,[E,w]),ue.push(ne));if(re.pts=ue.sort(u),J=re[D]=ue.map(l),X=J.length,re.med!==S&&re.q1!==S&&re.q3!==S&&re.med>=re.q1&&re.q3>=re.med){var he=Z("lowerfence");re.lf=he!==S&&he<=re.q1?he:y(re,J,X);var me=Z("upperfence");re.uf=me!==S&&me>=re.q3?me:h(re,J,X);var Me=Z("mean");re.mean=Me!==S?Me:X?C.mean(J,X):(re.q1+re.q3)/2;var Te=Z("sd");re.sd=Me!==S&&Te>=0?Te:X?C.stdev(J,X,re.mean):re.q3-re.q1,re.lo=T(re),re.uo=c(re);var Pe=Z("notchspan");Pe=Pe!==S&&Pe>0?Pe:o(re,X),re.ln=re.med-Pe,re.un=re.med+Pe;var be=re.lf,Ee=re.uf;b.boxpoints&&J.length&&(be=Math.min(be,J[0]),Ee=Math.max(Ee,J[X-1])),b.notched&&(be=Math.min(be,re.ln),Ee=Math.max(Ee,re.un)),re.min=be,re.max=Ee}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+re.q1,"median = "+re.med,"q3 = "+re.q3].join(`
`));var xe;re.med!==S?xe=re.med:re.q1!==S?re.q3!==S?xe=(re.q1+re.q3)/2:xe=re.q1:re.q3!==S?xe=re.q3:xe=0,re.med=xe,re.q1=re.q3=xe,re.lf=re.uf=xe,re.mean=re.sd=xe,re.ln=re.un=xe,re.min=re.max=xe}$=Math.min($,re.min),se=Math.max(se,re.max),re.pts2=ue.filter(oe),M.push(re)}}b._extremes[_._id]=R.findExtremes(_,[$,se],{padded:!0})}else{var Ce=_.makeCalcdata(b,D),Ue=r(Q,ee),Ne=Q.length,De=t(Ne);for(E=0;E<b._length;E++)if(Y=Ce[E],!!g(Y)){var He=C.findBin(B[E],Ue);He>=0&&He<Ne&&(ne={v:Y,i:E},n(ne,b,E),De[He].push(ne))}var at=1/0,vt=-1/0,ot=b.quartilemethod,et=ot==="exclusive",ct=ot==="inclusive";for(E=0;E<Ne;E++)if(De[E].length>0){if(re={},re.pos=re[z]=Q[E],ue=re.pts=De[E].sort(u),J=re[D]=ue.map(l),X=J.length,re.min=J[0],re.max=J[X-1],re.mean=C.mean(J,X),re.sd=C.stdev(J,X,re.mean)*b.sdmultiple,re.med=C.interp(J,.5),X%2&&(et||ct)){var ht,gt;et?(ht=J.slice(0,X/2),gt=J.slice(X/2+1)):ct&&(ht=J.slice(0,X/2+1),gt=J.slice(X/2)),re.q1=C.interp(ht,.5),re.q3=C.interp(gt,.5)}else re.q1=C.interp(J,.25),re.q3=C.interp(J,.75);re.lf=y(re,J,X),re.uf=h(re,J,X),re.lo=T(re),re.uo=c(re);var xt=o(re,X);re.ln=re.med-xt,re.un=re.med+xt,at=Math.min(at,re.ln),vt=Math.max(vt,re.un),re.pts2=ue.filter(oe),M.push(re)}b.notched&&C.isTypedArray(Ce)&&(Ce=Array.from(Ce)),b._extremes[_._id]=R.findExtremes(_,b.notched?Ce.concat([at,vt]):Ce,{padded:!0})}return f(M,b),M.length>0?(M[0].t={num:P[s],dPos:ee,posLetter:z,valLetter:D,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:b.boxmean==="sd"||b.sizemode==="sd"?v(x,"mean  :").replace("",b.sdmultiple===1?"":b.sdmultiple+""):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},P[s]++,M):[{t:{empty:!0}}]};function d(p,x,b,P){var m=x in p,L=x+"0"in p,M="d"+x in p;if(m||L&&M){var s=b.makeCalcdata(p,x),E=i(p,b,x,s).vals;return[E,s]}var w;L?w=p[x+"0"]:"name"in p&&(b.type==="category"||g(p.name)&&["linear","log"].indexOf(b.type)!==-1||C.isDateTime(p.name)&&b.type==="date")?w=p.name:w=P;for(var _=b.type==="multicategory"?b.r2c_just_indices(w):b.d2c(w,0,p[x+"calendar"]),D=p._length,N=new Array(D),z=0;z<D;z++)N[z]=_;return[N]}function r(p,x){for(var b=p.length,P=new Array(b+1),m=0;m<b;m++)P[m]=p[m]-x;return P[b]=p[b-1]+x,P}function t(p){for(var x=new Array(p),b=0;b<p;b++)x[b]=[];return x}var a={text:"tx",hovertext:"htx"};function n(p,x,b){for(var P in a)C.isArrayOrTypedArray(x[P])&&(Array.isArray(b)?C.isArrayOrTypedArray(x[P][b[0]])&&(p[a[P]]=x[P][b[0]][b[1]]):p[a[P]]=x[P][b])}function f(p,x){if(C.isArrayOrTypedArray(x.selectedpoints))for(var b=0;b<p.length;b++){for(var P=p[b].pts||[],m={},L=0;L<P.length;L++)m[P[L].i]=L;C.tagSelected(P,x,m)}}function u(p,x){return p.v-x.v}function l(p){return p.v}function y(p,x,b){return b===0?p.q1:Math.min(p.q1,x[Math.min(C.findBin(2.5*p.q1-1.5*p.q3,x,!0)+1,b-1)])}function h(p,x,b){return b===0?p.q3:Math.max(p.q3,x[Math.max(C.findBin(2.5*p.q3-1.5*p.q1,x),0)])}function T(p){return 4*p.q1-3*p.q3}function c(p){return 4*p.q3-3*p.q1}function o(p,x){return x===0?0:1.57*(p.q3-p.q1)/Math.sqrt(x)}},96404:function(G,H,e){var g=e(54460),R=e(3400),i=e(71888).getAxisGroup,C=["v","h"];function S(d,r){for(var t=d.calcdata,a=r.xaxis,n=r.yaxis,f=0;f<C.length;f++){for(var u=C[f],l=u==="h"?n:a,y=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,o=T[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===u&&o.xaxis===a._id&&o.yaxis===n._id&&y.push(h)}v("box",d,y,l)}}function v(d,r,t,a){var n=r.calcdata,f=r._fullLayout,u=a._id,l=u.charAt(0),y,h,T,c=[],o=0;for(y=0;y<t.length;y++)for(T=n[t[y]],h=0;h<T.length;h++)c.push(a.c2l(T[h].pos,!0)),o+=(T[h].pts2||[]).length;if(c.length){var p=R.distinctVals(c);(a.type==="category"||a.type==="multicategory")&&(p.minDiff=1);var x=p.minDiff/2;g.minDtick(a,p.minDiff,p.vals[0],!0);var b=d==="violin"?"_numViolins":"_numBoxes",P=f[b],m=f[d+"mode"]==="group"&&P>1,L=1-f[d+"gap"],M=1-f[d+"groupgap"];for(y=0;y<t.length;y++){T=n[t[y]];var s=T[0].trace,E=T[0].t,w=s.width,_=s.side,D,N,z,F;if(w)D=N=F=w/2,z=0;else if(D=x,m){var U=i(f,a._id)+s.orientation,B=f._alignmentOpts[U]||{},V=B[s.alignmentgroup]||{},j=Object.keys(V.offsetGroups||{}).length,Q=j||P,ee=j?s._offsetIndex:E.num;N=D*L*M/Q,z=2*D*(-.5+(ee+.5)/Q)*L,F=D*L/Q}else N=D*L*M,z=0,F=D;E.dPos=D,E.bPos=z,E.bdPos=N,E.wHover=F;var re,ue,J=z+N,X,ne,Y,oe,le,Z,$=!!w,se=(s.boxpoints||s.points)&&o>0;if(_==="positive"?(re=D*(w?1:.5),X=J,ue=X=z):_==="negative"?(re=X=z,ue=D*(w?1:.5),ne=J):(re=ue=D,X=ne=J),se){var ae=s.pointpos,he=s.jitter,me=s.marker.size/2,Me=0;ae+he>=0&&(Me=J*(ae+he),Me>re?($=!0,le=me,Y=Me):Me>X&&(le=me,Y=re)),Me<=re&&(Y=re);var Te=0;ae-he<=0&&(Te=-J*(ae-he),Te>ue?($=!0,Z=me,oe=Te):Te>ne&&(Z=me,oe=ue)),Te<=ue&&(oe=ue)}else Y=re,oe=ue;var Pe=new Array(T.length);for(h=0;h<T.length;h++)Pe[h]=T[h].pos;s._extremes[u]=g.findExtremes(a,Pe,{padded:$,vpadminus:oe,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:Z,y:le}[l],ppadplus:{x:le,y:Z}[l]})}}}G.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(G,H,e){var g=e(3400),R=e(24040),i=e(76308),C=e(31147),S=e(20011),v=e(52976),d=e(63188);function r(f,u,l,y){function h(M,s){return g.coerce(f,u,d,M,s)}if(t(f,u,h,y),u.visible!==!1){C(f,u,y,h),h("xhoverformat"),h("yhoverformat");var T=u._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",i.addOpacity(u.line.color,.5));var c=!1;if(T){var o=h("mean"),p=h("sd");o&&o.length&&(c=!0,p&&p.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),b;x==="quartiles"&&(b=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||b==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var P=!1;if(T){var m=h("notchspan");m&&m.length&&(P=!0)}else g.validate(f.notchwidth,d.notchwidth)&&(P=!0);var L=h("notched",P);L&&h("notchwidth"),a(f,u,h,{prefix:"box"}),h("zorder")}}function t(f,u,l,y){function h(j){var Q=0;return j&&j.length&&(Q+=1,g.isArrayOrTypedArray(j[0])&&j[0].length&&(Q+=1)),Q}function T(j){return g.validate(f[j],d[j])}var c=l("y"),o=l("x"),p;if(u.type==="box"){var x=l("q1"),b=l("median"),P=l("q3");u._hasPreCompStats=x&&x.length&&b&&b.length&&P&&P.length,p=Math.min(g.minRowLength(x),g.minRowLength(b),g.minRowLength(P))}var m=h(c),L=h(o),M=m&&g.minRowLength(c),s=L&&g.minRowLength(o),E=y.calendar,w={autotypenumbers:y.autotypenumbers},_,D;if(u._hasPreCompStats)switch(String(L)+String(m)){case"00":var N=T("x0")||T("dx"),z=T("y0")||T("dy");z&&!N?_="h":_="v",D=p;break;case"10":_="v",D=Math.min(p,s);break;case"20":_="h",D=Math.min(p,o.length);break;case"01":_="h",D=Math.min(p,M);break;case"02":_="v",D=Math.min(p,c.length);break;case"12":_="v",D=Math.min(p,s,c.length);break;case"21":_="h",D=Math.min(p,o.length,M);break;case"11":D=0;break;case"22":var F=!1,U;for(U=0;U<o.length;U++)if(v(o[U],E,w)==="category"){F=!0;break}if(F)_="v",D=Math.min(p,s,c.length);else{for(U=0;U<c.length;U++)if(v(c[U],E,w)==="category"){F=!0;break}F?(_="h",D=Math.min(p,o.length,M)):(_="v",D=Math.min(p,s,c.length))}break}else m>0?(_="v",L>0?D=Math.min(s,M):D=Math.min(M)):L>0?(_="h",D=Math.min(s)):D=0;if(!D){u.visible=!1;return}u._length=D;var B=l("orientation",_);u._hasPreCompStats?B==="v"&&L===0?(l("x0",0),l("dx",1)):B==="h"&&m===0&&(l("y0",0),l("dy",1)):B==="v"&&L===0?l("x0"):B==="h"&&m===0&&l("y0");var V=R.getComponentMethod("calendars","handleTraceDefaults");V(f,u,["x","y"],y)}function a(f,u,l,y){var h=y.prefix,T=g.coerce2(f,u,d,"marker.outliercolor"),c=l("marker.line.outliercolor"),o="outliers";u._hasPreCompStats?o="all":(T||c)&&(o="suspectedoutliers");var p=l(h+"points",o);p?(l("jitter",p==="all"?.3:0),l("pointpos",p==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),p==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var x=l("hoveron");(x==="all"||x.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,y;function h(o){return g.coerce(y._input,y,d,o)}for(var T=0;T<f.length;T++){y=f[T];var c=y.type;(c==="box"||c==="violin")&&(l=y._input,u[c+"mode"]==="group"&&S(l,y,u,h))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(G){G.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(G,H,e){var g=e(54460),R=e(3400),i=e(93024),C=e(76308),S=R.fillText;function v(t,a,n,f){var u=t.cd,l=u[0].trace,y=l.hoveron,h=[],T;return y.indexOf("boxes")!==-1&&(h=h.concat(d(t,a,n,f))),y.indexOf("points")!==-1&&(T=r(t,a,n)),f==="closest"?T?[T]:h:(T&&h.push(T),h)}function d(t,a,n,f){var u=t.cd,l=t.xa,y=t.ya,h=u[0].trace,T=u[0].t,c=h.type==="violin",o,p,x,b,P,m,L,M,s,E,w,_=T.bdPos,D,N,z=T.wHover,F=function(Te){return x.c2l(Te.pos)+T.bPos-x.c2l(m)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(Te){var Pe=F(Te);return i.inbox(Pe,Pe+z,E)},D=_,N=0),h.side==="negative"&&(s=function(Te){var Pe=F(Te);return i.inbox(Pe-z,Pe,E)},D=0,N=_)):(s=function(Te){var Pe=F(Te);return i.inbox(Pe-z,Pe+z,E)},D=N=_);var U;c?U=function(Te){return i.inbox(Te.span[0]-P,Te.span[1]-P,E)}:U=function(Te){return i.inbox(Te.min-P,Te.max-P,E)},h.orientation==="h"?(P=a,m=n,L=U,M=s,o="y",x=y,p="x",b=l):(P=n,m=a,L=s,M=U,o="x",x=l,p="y",b=y);var B=Math.min(1,_/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));E=t.maxHoverDistance-B,w=t.maxSpikeDistance-B;function V(Te){return(L(Te)+M(Te))/2}var j=i.getDistanceFunction(f,L,M,V);if(i.getClosest(u,j,t),t.index===!1)return[];var Q=u[t.index],ee=h.line.color,re=(h.marker||{}).color;C.opacity(ee)&&h.line.width?t.color=ee:C.opacity(re)&&h.boxpoints?t.color=re:t.color=h.fillcolor,t[o+"0"]=x.c2p(Q.pos+T.bPos-N,!0),t[o+"1"]=x.c2p(Q.pos+T.bPos+D,!0),t[o+"LabelVal"]=Q.orig_p!==void 0?Q.orig_p:Q.pos;var ue=o+"Spike";t.spikeDistance=V(Q)*w/E,t[ue]=x.c2p(Q.pos,!0);var J=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,X=h.boxpoints||h.points,ne=X&&J?["max","uf","q3","med","mean","q1","lf","min"]:X&&!J?["max","uf","q3","med","q1","lf","min"]:!X&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=b.range[1]<b.range[0];h.orientation===(Y?"v":"h")&&ne.reverse();for(var oe=t.spikeDistance,le=t[ue],Z=[],$=0;$<ne.length;$++){var se=ne[$];if(se in Q){var ae=Q[se],he=b.c2p(ae,!0),me=R.extendFlat({},t);me.attr=se,me[p+"0"]=me[p+"1"]=he,me[p+"LabelVal"]=ae,me[p+"Label"]=(T.labels?T.labels[se]+" ":"")+g.hoverLabelText(b,ae,h[p+"hoverformat"]),me.hoverOnBox=!0,se==="mean"&&"sd"in Q&&(h.boxmean==="sd"||h.sizemode==="sd")&&(me[p+"err"]=Q.sd),me.hovertemplate=!1,Z.push(me)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var Me=0;Me<Z.length;Me++)Z[Me].attr!=="med"?(Z[Me].name="",Z[Me].spikeDistance=void 0,Z[Me][ue]=void 0):(Z[Me].spikeDistance=oe,Z[Me][ue]=le);return Z}function r(t,a,n){for(var f=t.cd,u=t.xa,l=t.ya,y=f[0].trace,h=u.c2p(a),T=l.c2p(n),c,o=function(U){var B=Math.max(3,U.mrc||0);return Math.max(Math.abs(u.c2p(U.x)-h)-B,1-3/B)},p=function(U){var B=Math.max(3,U.mrc||0);return Math.max(Math.abs(l.c2p(U.y)-T)-B,1-3/B)},x=i.quadrature(o,p),b=!1,P,m,L=0;L<f.length;L++){P=f[L];for(var M=0;M<(P.pts||[]).length;M++){m=P.pts[M];var s=x(m);s<=t.distance&&(t.distance=s,b=[L,M])}}if(!b)return!1;P=f[b[0]],m=P.pts[b[1]];var E=u.c2p(m.x,!0),w=l.c2p(m.y,!0),_=m.mrc||1;c=R.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:E-_,x1:E+_,y0:w-_,y1:w+_,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var D=P.orig_p,N=D!==void 0?D:P.pos,z;y.orientation==="h"?(z=l,c.xLabelVal=m.x,c.yLabelVal=N):(z=u,c.xLabelVal=N,c.yLabelVal=m.y);var F=z._id.charAt(0);return c[F+"Spike"]=z.c2p(P.pos,!0),S(m,y,c),c}G.exports={hoverPoints:v,hoverOnBoxes:d,hoverOnPoints:r}},67244:function(G,H,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,H,e){var g=e(24040),R=e(3400),i=e(16560);function C(v,d,r,t,a){for(var n=a+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(g.traceIs(l,n)){f=!0;break}}f&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}function S(v,d,r){function t(a,n){return R.coerce(v,d,i,a,n)}C(v,d,r,t,"box")}G.exports={supplyLayoutDefaults:S,_supply:C}},18728:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=5,S=.01;function v(a,n,f,u){var l=a._context.staticPlot,y=n.xaxis,h=n.yaxis;R.makeTraceGroups(u,f,"trace boxes").each(function(T){var c=g.select(this),o=T[0],p=o.t,x=o.trace;if(p.wdPos=p.bdPos*x.whiskerwidth,x.visible!==!0||p.empty){c.remove();return}var b,P;x.orientation==="h"?(b=h,P=y):(b=y,P=h),d(c,{pos:b,val:P},x,p,l),r(c,{x:y,y:h},x,p),t(c,{pos:b,val:P},x,p)})}function d(a,n,f,u,l){var y=f.orientation==="h",h=n.val,T=n.pos,c=!!T.rangebreaks,o=u.bPos,p=u.wdPos||0,x=u.bPosPxOffset||0,b=f.whiskerwidth||0,P=f.showwhiskers!==!1,m=f.notched||!1,L=m?1-2*f.notchwidth:1,M,s;Array.isArray(u.bdPos)?(M=u.bdPos[0],s=u.bdPos[1]):(M=u.bdPos,s=u.bdPos);var E=a.selectAll("path.box").data(f.type!=="violin"||f.box.visible?R.identity:[]);E.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(w){if(w.empty)return g.select(this).attr("d","M0,0Z");var _=T.c2l(w.pos+o,!0),D=T.l2p(_-M)+x,N=T.l2p(_+s)+x,z=c?(D+N)/2:T.l2p(_)+x,F=f.whiskerwidth,U=c?D*F+(1-F)*z:T.l2p(_-p)+x,B=c?N*F+(1-F)*z:T.l2p(_+p)+x,V=T.l2p(_-M*L)+x,j=T.l2p(_+s*L)+x,Q=f.sizemode==="sd",ee=h.c2p(Q?w.mean-w.sd:w.q1,!0),re=Q?h.c2p(w.mean+w.sd,!0):h.c2p(w.q3,!0),ue=R.constrain(Q?h.c2p(w.mean,!0):h.c2p(w.med,!0),Math.min(ee,re)+1,Math.max(ee,re)-1),J=w.lf===void 0||f.boxpoints===!1||Q,X=h.c2p(J?w.min:w.lf,!0),ne=h.c2p(J?w.max:w.uf,!0),Y=h.c2p(w.ln,!0),oe=h.c2p(w.un,!0);y?g.select(this).attr("d","M"+ue+","+V+"V"+j+"M"+ee+","+D+"V"+N+(m?"H"+Y+"L"+ue+","+j+"L"+oe+","+N:"")+"H"+re+"V"+D+(m?"H"+oe+"L"+ue+","+V+"L"+Y+","+D:"")+"Z"+(P?"M"+ee+","+z+"H"+X+"M"+re+","+z+"H"+ne+(b===0?"":"M"+X+","+U+"V"+B+"M"+ne+","+U+"V"+B):"")):g.select(this).attr("d","M"+V+","+ue+"H"+j+"M"+D+","+ee+"H"+N+(m?"V"+Y+"L"+j+","+ue+"L"+N+","+oe:"")+"V"+re+"H"+D+(m?"V"+oe+"L"+V+","+ue+"L"+D+","+Y:"")+"Z"+(P?"M"+z+","+ee+"V"+X+"M"+z+","+re+"V"+ne+(b===0?"":"M"+U+","+X+"H"+B+"M"+U+","+ne+"H"+B):""))})}function r(a,n,f,u){var l=n.x,y=n.y,h=u.bdPos,T=u.bPos,c=f.boxpoints||f.points;R.seedPseudoRandom();var o=function(b){return b.forEach(function(P){P.t=u,P.trace=f}),b},p=a.selectAll("g.points").data(c?o:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var x=p.selectAll("path").data(function(b){var P,m=b.pts2,L=Math.max((b.max-b.min)/10,b.q3-b.q1),M=L*1e-9,s=L*S,E=[],w=0,_;if(f.jitter){if(L===0)for(w=1,E=new Array(m.length),P=0;P<m.length;P++)E[P]=1;else for(P=0;P<m.length;P++){var D=Math.max(0,P-C),N=m[D].v,z=Math.min(m.length-1,P+C),F=m[z].v;c!=="all"&&(m[P].v<b.lf?F=Math.min(F,b.lf):N=Math.max(N,b.uf));var U=Math.sqrt(s*(z-D)/(F-N+M))||0;U=R.constrain(Math.abs(U),0,1),E.push(U),w=Math.max(U,w)}_=f.jitter*2/(w||1)}for(P=0;P<m.length;P++){var B=m[P],V=B.v,j=f.jitter?_*E[P]*(R.pseudoRandom()-.5):0,Q=b.pos+T+h*(f.pointpos+j);f.orientation==="h"?(B.y=Q,B.x=V):(B.x=Q,B.y=V),c==="suspectedoutliers"&&V<b.uo&&V>b.lo&&(B.so=!0)}return m});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(i.translatePoints,l,y)}function t(a,n,f,u){var l=n.val,y=n.pos,h=!!y.rangebreaks,T=u.bPos,c=u.bPosPxOffset||0,o=f.boxmean||(f.meanline||{}).visible,p,x;Array.isArray(u.bdPos)?(p=u.bdPos[0],x=u.bdPos[1]):(p=u.bdPos,x=u.bdPos);var b=a.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?R.identity:[]);b.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),b.exit().remove(),b.each(function(P){var m=y.c2l(P.pos+T,!0),L=y.l2p(m-p)+c,M=y.l2p(m+x)+c,s=h?(L+M)/2:y.l2p(m)+c,E=l.c2p(P.mean,!0),w=l.c2p(P.mean-P.sd,!0),_=l.c2p(P.mean+P.sd,!0);f.orientation==="h"?g.select(this).attr("d","M"+E+","+L+"V"+M+(o==="sd"?"m0,0L"+w+","+s+"L"+E+","+L+"L"+_+","+s+"Z":"")):g.select(this).attr("d","M"+L+","+E+"H"+M+(o==="sd"?"m0,0L"+s+","+w+"L"+L+","+E+"L"+s+","+_+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:d,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,C=e.yaxis,S=[],v,d;if(g===!1)for(v=0;v<R.length;v++)for(d=0;d<(R[v].pts||[]).length;d++)R[v].pts[d].selected=0;else for(v=0;v<R.length;v++)for(d=0;d<(R[v].pts||[]).length;d++){var r=R[v].pts[d],t=i.c2p(r.x),a=C.c2p(r.y);g.contains([t,a],null,r.i,e)?(S.push({pointNumber:r.i,x:i.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(G,H,e){var g=e(33428),R=e(76308),i=e(43616);function C(v,d,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var n=g.select(this),f=a[0].trace,u=f.line.width;function l(T,c,o,p){T.style("stroke-width",c+"px").call(R.stroke,o).call(R.fill,p)}var y=n.selectAll("path.box");if(f.type==="candlestick")y.each(function(T){if(!T.empty){var c=g.select(this),o=f[T.dir];l(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",f.selectedpoints&&!T.selected?.3:1)}});else{l(y,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(R.stroke,f.line.color);var h=n.selectAll("path.point");i.pointStyle(h,f,v)}})}function S(v,d,r){var t=d[0].trace,a=r.selectAll("path.point");t.selectedpoints?i.selectedPointStyle(a,t):i.pointStyle(a,t,v)}G.exports={style:C,styleOnSelect:S}},64216:function(G,H,e){var g=e(3400).extendFlat,R=e(29736).axisHoverFormat,i=e(20279),C=e(63188);function S(v){return{line:{color:g({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}G.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:g({},C.line.width,{}),editType:"style"},increasing:S(i.increasing.line.color.dflt),decreasing:S(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:g({},C.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel,zorder:C.zorder}},46283:function(G,H,e){var g=e(3400),R=e(54460),i=e(1220),C=e(42812).calcCommon;G.exports=function(v,d){var r=v._fullLayout,t=R.getFromId(v,d.xaxis),a=R.getFromId(v,d.yaxis),n=t.makeCalcdata(d,"x"),f=i(d,t,"x",n).vals,u=C(v,d,n,f,a,S);return u.length?(g.extendFlat(u[0].t,{num:r._numBoxes,dPos:g.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function S(v,d,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:d}}},64588:function(G,H,e){var g=e(3400),R=e(76308),i=e(52744),C=e(31147),S=e(64216);G.exports=function(r,t,a,n){function f(l,y){return g.coerce(r,t,S,l,y)}var u=i(r,t,f,n);if(!u){t.visible=!1;return}C(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(d,r,t,a){var n=t(a+".line.color");t(a+".line.width",r.line.width),t(a+".fillcolor",R.addOpacity(n,.5))}},61712:function(G,H,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,H,e){var g=e(63856),R=e(31780);G.exports=function(S,v,d,r,t){var a=r("a");a||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),i(S,v,d,t)};function i(C,S,v,d){var r=["aaxis","baxis"];r.forEach(function(t){var a=t.charAt(0),n=C[t]||{},f=R.newContainer(S,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:a+"axis",letter:a,font:S.font,name:t,data:C[a],calendar:S.calendar,dfltColor:d,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,f,u),f._categories=f._categories||[],!C[t]&&n.type!=="-"&&(C[t]={type:n.type})})}},51676:function(G,H,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(i){return R(i,0)};function R(i,C){if(!g(i)||C>=10)return null;for(var S=1/0,v=-1/0,d=i.length,r=0;r<d;r++){var t=i[r];if(g(t)){var a=R(t,C+1);a&&(S=Math.min(a[0],S),v=Math.max(a[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(G,H,e){var g=e(25376),R=e(98692),i=e(22548),C=g({editType:"calc"}),S=e(52904).zorder;C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=i.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:R,baxis:R,font:C,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(G,H,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(R,i,C,S){var v,d,r,t,a,n,f,u,l,y,h,T,c,o=g(C)?"a":"b",p=o==="a"?R.aaxis:R.baxis,x=p.smoothing,b=o==="a"?R.a2i:R.b2j,P=o==="a"?C:S,m=o==="a"?S:C,L=o==="a"?i.a.length:i.b.length,M=o==="a"?i.b.length:i.a.length,s=Math.floor(o==="a"?R.b2j(m):R.a2i(m)),E=o==="a"?function(ee){return R.evalxy([],ee,s)}:function(ee){return R.evalxy([],s,ee)};x&&(r=Math.max(0,Math.min(M-2,s)),t=s-r,d=o==="a"?function(ee,re){return R.dxydi([],ee,r,re,t)}:function(ee,re){return R.dxydj([],r,ee,t,re)});var w=b(P[0]),_=b(P[1]),D=w<_?1:-1,N=(_-w)*1e-8,z=D>0?Math.floor:Math.ceil,F=D>0?Math.ceil:Math.floor,U=D>0?Math.min:Math.max,B=D>0?Math.max:Math.min,V=z(w+N),j=F(_-N);f=E(w);var Q=[[f]];for(v=V;v*D<j*D;v+=D)a=[],h=B(w,v),T=U(_,v+D),c=T-h,n=Math.max(0,Math.min(L-2,Math.floor(.5*(h+T)))),u=E(T),x&&(l=d(n,h-n),y=d(n,T-n),a.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),a.push([u[0]-y[0]/3*c,u[1]-y[1]/3*c])),a.push(u),Q.push(a),f=u;return Q}},98692:function(G,H,e){var g=e(25376),R=e(22548),i=e(94724),C=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,d=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:d({},i.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:S(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:d({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:d({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:R.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,H,e){var g=e(85720),R=e(76308).addOpacity,i=e(24040),C=e(3400),S=e(26332),v=e(95936),d=e(42568),r=e(22416),t=e(78344),a=e(52976);G.exports=function(u,l,y){var h=y.letter,T=y.font||{},c=g[h+"axis"];function o(V,j){return C.coerce(u,l,c,V,j)}function p(V,j){return C.coerce2(u,l,c,V,j)}y.name&&(l._name=y.name,l._id=y.name),o("autotypenumbers",y.autotypenumbersDflt);var x=o("type");if(x==="-"&&(y.data&&n(l,y.data),l.type==="-"?l.type="linear":x=u.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=h,x==="date"){var b=i.getComponentMethod("calendars","handleDefaults");b(u,l,"calendar",y.calendar)}t(l,y.fullLayout),l.c2p=C.identity;var P=o("color",y.dfltColor),m=P===u.color?P:T.color,L=o("title.text");L&&(C.coerceFont(o,"title.font",{weight:T.weight,style:T.style,variant:T.variant,family:T.family,size:C.bigFont(T.size),color:m}),o("title.offset")),o("tickangle");var M=o("autorange",!l.isValidRange(u.range));M&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),S(u,l,o,x),d(u,l,o,x,y),v(u,l,o,x,y),r(u,l,o,{data:y.data,dataAttr:h});var s=p("gridcolor",R(P,.3)),E=p("gridwidth"),w=p("griddash"),_=o("showgrid");_||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var D=p("startlinecolor",P),N=p("startlinewidth",E),z=o("startline",l.showgrid||!!D||!!N);z||(delete l.startlinecolor,delete l.startlinewidth);var F=p("endlinecolor",P),U=p("endlinewidth",E),B=o("endline",l.showgrid||!!F||!!U);return B||(delete l.endlinecolor,delete l.endlinewidth),_?(o("minorgridcount"),o("minorgridwidth",E),o("minorgriddash",w),o("minorgridcolor",R(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,y=l.charAt(0),h=y+"calendar",T=f[h];f.type=a(u,T,{autotypenumbers:f.autotypenumbers})}}},58744:function(G,H,e){var g=e(54460),R=e(3400).isArray1D,i=e(60776),C=e(51676),S=e(19216),v=e(14724),d=e(24944),r=e(26136),t=e(51512),a=e(2872),n=e(81e3);G.exports=function(u,l){var y=g.getFromId(u,l.xaxis),h=g.getFromId(u,l.yaxis),T=l.aaxis,c=l.baxis,o=l.x,p=l.y,x=[];o&&R(o)&&x.push("x"),p&&R(p)&&x.push("y"),x.length&&a(l,T,c,"a","b",x);var b=l._a=l._a||l.a,P=l._b=l._b||l.b;o=l._x||l.x,p=l._y||l.y;var m={};if(l._cheater){var L=T.cheatertype==="index"?b.length:b,M=c.cheatertype==="index"?P.length:P;o=i(L,M,l.cheaterslope)}l._x=o=r(o),l._y=p=r(p),t(o,b,P),t(p,b,P),n(l),l.setScale();var s=C(o),E=C(p),w=.5*(s[1]-s[0]),_=.5*(s[1]+s[0]),D=.5*(E[1]-E[0]),N=.5*(E[1]+E[0]),z=1.3;return s=[_-w*z,_+w*z],E=[N-D*z,N+D*z],l._extremes[y._id]=g.findExtremes(y,s,{padded:!0}),l._extremes[h._id]=g.findExtremes(h,E,{padded:!0}),S(l,"a","b"),S(l,"b","a"),v(l,T),v(l,c),m.clipsegments=d(l._xctrl,l._yctrl,T,c),m.x=o,m.y=p,m.a=b,m.b=P,[m]}},24944:function(G){G.exports=function(e,g,R,i){var C,S,v,d=[],r=!!R.smoothing,t=!!i.smoothing,a=e[0].length-1,n=e.length-1;for(C=0,S=[],v=[];C<=a;C++)S[C]=e[0][C],v[C]=g[0][C];for(d.push({x:S,y:v,bicubic:r}),C=0,S=[],v=[];C<=n;C++)S[C]=e[C][a],v[C]=g[C][a];for(d.push({x:S,y:v,bicubic:t}),C=a,S=[],v=[];C>=0;C--)S[a-C]=e[n][C],v[a-C]=g[n][C];for(d.push({x:S,y:v,bicubic:r}),C=n,S=[],v=[];C>=0;C--)S[n-C]=e[C][0],v[n-C]=g[C][0];return d.push({x:S,y:v,bicubic:t}),d}},19216:function(G,H,e){var g=e(54460),R=e(92880).extendFlat;G.exports=function(C,S,v){var d,r,t,a,n,f,u,l,y,h,T,c,o,p,x=C["_"+S],b=C[S+"axis"],P=b._gridlines=[],m=b._minorgridlines=[],L=b._boundarylines=[],M=C["_"+v],s=C[v+"axis"];b.tickmode==="array"&&(b.tickvals=x.slice());var E=C._xctrl,w=C._yctrl,_=E[0].length,D=E.length,N=C._a.length,z=C._b.length;g.prepTicks(b),b.tickmode==="array"&&delete b.tickvals;var F=b.smoothing?3:1;function U(V){var j,Q,ee,re,ue,J,X,ne,Y,oe,le,Z,$=[],se=[],ae={};if(S==="b")for(Q=C.b2j(V),ee=Math.floor(Math.max(0,Math.min(z-2,Q))),re=Q-ee,ae.length=z,ae.crossLength=N,ae.xy=function(he){return C.evalxy([],he,Q)},ae.dxy=function(he,me){return C.dxydi([],he,ee,me,re)},j=0;j<N;j++)J=Math.min(N-2,j),X=j-J,ne=C.evalxy([],j,Q),s.smoothing&&j>0&&(Y=C.dxydi([],j-1,ee,0,re),$.push(ue[0]+Y[0]/3),se.push(ue[1]+Y[1]/3),oe=C.dxydi([],j-1,ee,1,re),$.push(ne[0]-oe[0]/3),se.push(ne[1]-oe[1]/3)),$.push(ne[0]),se.push(ne[1]),ue=ne;else for(j=C.a2i(V),J=Math.floor(Math.max(0,Math.min(N-2,j))),X=j-J,ae.length=N,ae.crossLength=z,ae.xy=function(he){return C.evalxy([],j,he)},ae.dxy=function(he,me){return C.dxydj([],J,he,X,me)},Q=0;Q<z;Q++)ee=Math.min(z-2,Q),re=Q-ee,ne=C.evalxy([],j,Q),s.smoothing&&Q>0&&(le=C.dxydj([],J,Q-1,X,0),$.push(ue[0]+le[0]/3),se.push(ue[1]+le[1]/3),Z=C.dxydj([],J,Q-1,X,1),$.push(ne[0]-Z[0]/3),se.push(ne[1]-Z[1]/3)),$.push(ne[0]),se.push(ne[1]),ue=ne;return ae.axisLetter=S,ae.axis=b,ae.crossAxis=s,ae.value=V,ae.constvar=v,ae.index=l,ae.x=$,ae.y=se,ae.smoothing=s.smoothing,ae}function B(V){var j,Q,ee,re,ue,J=[],X=[],ne={};if(ne.length=x.length,ne.crossLength=M.length,S==="b")for(ee=Math.max(0,Math.min(z-2,V)),ue=Math.min(1,Math.max(0,V-ee)),ne.xy=function(Y){return C.evalxy([],Y,V)},ne.dxy=function(Y,oe){return C.dxydi([],Y,ee,oe,ue)},j=0;j<_;j++)J[j]=E[V*F][j],X[j]=w[V*F][j];else for(Q=Math.max(0,Math.min(N-2,V)),re=Math.min(1,Math.max(0,V-Q)),ne.xy=function(Y){return C.evalxy([],V,Y)},ne.dxy=function(Y,oe){return C.dxydj([],Q,Y,re,oe)},j=0;j<D;j++)J[j]=E[j][V*F],X[j]=w[j][V*F];return ne.axisLetter=S,ne.axis=b,ne.crossAxis=s,ne.value=x[V],ne.constvar=v,ne.index=V,ne.x=J,ne.y=X,ne.smoothing=s.smoothing,ne}if(b.tickmode==="array"){for(a=5e-15,n=[Math.floor((x.length-1-b.arraytick0)/b.arraydtick*(1+a)),Math.ceil(-b.arraytick0/b.arraydtick/(1+a))].sort(function(V,j){return V-j}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=b.arraytick0+b.arraydtick*l,!(r<0||r>x.length-1)&&P.push(R(B(r),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(l=f;l<u;l++)if(t=b.arraytick0+b.arraydtick*l,T=Math.min(t+b.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(c=x[t],o=x[T],d=0;d<b.minorgridcount;d++)p=T-t,!(p<=0)&&(h=c+(o-c)*(d+1)/(b.minorgridcount+1)*(b.arraydtick/p),!(h<x[0]||h>x[x.length-1])&&m.push(R(U(h),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash})));b.startline&&L.push(R(B(0),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&L.push(R(B(x.length-1),{color:b.endlinecolor,width:b.endlinewidth}))}else{for(a=5e-15,n=[Math.floor((x[x.length-1]-b.tick0)/b.dtick*(1+a)),Math.ceil((x[0]-b.tick0)/b.dtick/(1+a))].sort(function(V,j){return V-j}),f=n[0],u=n[1],l=f;l<=u;l++)y=b.tick0+b.dtick*l,P.push(R(U(y),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(l=f-1;l<u+1;l++)for(y=b.tick0+b.dtick*l,d=0;d<b.minorgridcount;d++)h=y+b.dtick*(d+1)/(b.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&m.push(R(U(h),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash}));b.startline&&L.push(R(U(x[0]),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&L.push(R(U(x[x.length-1]),{color:b.endlinecolor,width:b.endlinewidth}))}}},14724:function(G,H,e){var g=e(54460),R=e(92880).extendFlat;G.exports=function(C,S){var v,d,r,t,a,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)a=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(d=g.tickText(S,a.value),R(d,{prefix:r,suffix:t,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(d)),["end","both"].indexOf(S.showticklabels)!==-1&&(d=g.tickText(S,a.value),R(d,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(d))}},62284:function(G){var H=.5;G.exports=function(g,R,i,C){var S=g[0]-R[0],v=g[1]-R[1],d=i[0]-R[0],r=i[1]-R[1],t=Math.pow(S*S+v*v,H/2),a=Math.pow(d*d+r*r,H/2),n=(a*a*S-t*t*d)*C,f=(a*a*v-t*t*r)*C,u=a*(t+a)*3,l=t*(t+a)*3;return[[R[0]+(u&&n/u),R[1]+(u&&f/u)],[R[0]-(l&&n/l),R[1]-(l&&f/l)]]}},60776:function(G,H,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(R,i,C){var S,v,d,r,t,a,n=[],f=g(R)?R.length:R,u=g(i)?i.length:i,l=g(R)?R:null,y=g(i)?i:null;l&&(d=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(u-1));var h,T=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],a=y?(y[v]-y[0])*r:v/(u-1),S=0;S<f;S++)t=l?(l[S]-l[0])*d:S/(f-1),h=t-a*C,T=Math.min(h,T),c=Math.max(h,c),n[v][S]=h;var o=1/(c-T),p=-T*o;for(v=0;v<u;v++)for(S=0;S<f;S++)n[v][S]=o*n[v][S]+p;return n}},30180:function(G,H,e){var g=e(62284),R=e(3400).ensureArray;function i(C,S,v){var d=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*d+C[0])/3,(2*r+C[1])/3]}G.exports=function(S,v,d,r,t,a){var n,f,u,l,y,h,T,c,o,p,x=d[0].length,b=d.length,P=t?3*x-2:x,m=a?3*b-2:b;for(S=R(S,m),v=R(v,m),u=0;u<m;u++)S[u]=R(S[u],P),v[u]=R(v[u],P);for(f=0,l=0;f<b;f++,l+=a?3:1)for(y=S[l],h=v[l],T=d[f],c=r[f],n=0,u=0;n<x;n++,u+=t?3:1)y[u]=T[n],h[u]=c[n];if(t)for(f=0,l=0;f<b;f++,l+=a?3:1){for(n=1,u=3;n<x-1;n++,u+=3)o=g([d[f][n-1],r[f][n-1]],[d[f][n],r[f][n]],[d[f][n+1],r[f][n+1]],t),S[l][u-1]=o[0][0],v[l][u-1]=o[0][1],S[l][u+1]=o[1][0],v[l][u+1]=o[1][1];p=i([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=p[0],v[l][1]=p[1],p=i([S[l][P-1],v[l][P-1]],[S[l][P-3],v[l][P-3]],[S[l][P-4],v[l][P-4]]),S[l][P-2]=p[0],v[l][P-2]=p[1]}if(a)for(u=0;u<P;u++){for(l=3;l<m-3;l+=3)o=g([S[l-3][u],v[l-3][u]],[S[l][u],v[l][u]],[S[l+3][u],v[l+3][u]],a),S[l-1][u]=o[0][0],v[l-1][u]=o[0][1],S[l+1][u]=o[1][0],v[l+1][u]=o[1][1];p=i([S[0][u],v[0][u]],[S[2][u],v[2][u]],[S[3][u],v[3][u]]),S[1][u]=p[0],v[1][u]=p[1],p=i([S[m-1][u],v[m-1][u]],[S[m-3][u],v[m-3][u]],[S[m-4][u],v[m-4][u]]),S[m-2][u]=p[0],v[m-2][u]=p[1]}if(t&&a)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(u=3;u<P-3;u+=3)o=g([S[l][u-3],v[l][u-3]],[S[l][u],v[l][u]],[S[l][u+3],v[l][u+3]],t),S[l][u-1]=.5*(S[l][u-1]+o[0][0]),v[l][u-1]=.5*(v[l][u-1]+o[0][1]),S[l][u+1]=.5*(S[l][u+1]+o[1][0]),v[l][u+1]=.5*(v[l][u+1]+o[1][1]);p=i([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=.5*(S[l][1]+p[0]),v[l][1]=.5*(v[l][1]+p[1]),p=i([S[l][P-1],v[l][P-1]],[S[l][P-3],v[l][P-3]],[S[l][P-4],v[l][P-4]]),S[l][P-2]=.5*(S[l][P-2]+p[0]),v[l][P-2]=.5*(v[l][P-2]+p[1])}return[S,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(H,e,g){return e&&g?function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n,f;i*=3,C*=3;var u=S*S,l=1-S,y=l*l,h=l*S*2,T=-3*y,c=3*(y-h),o=3*(h-u),p=3*u,x=v*v,b=x*v,P=1-v,m=P*P,L=m*P;for(f=0;f<H.length;f++)n=H[f],d=T*n[C][i]+c*n[C][i+1]+o*n[C][i+2]+p*n[C][i+3],r=T*n[C+1][i]+c*n[C+1][i+1]+o*n[C+1][i+2]+p*n[C+1][i+3],t=T*n[C+2][i]+c*n[C+2][i+1]+o*n[C+2][i+2]+p*n[C+2][i+3],a=T*n[C+3][i]+c*n[C+3][i+1]+o*n[C+3][i+2]+p*n[C+3][i+3],R[f]=L*d+3*(m*v*r+P*x*t)+b*a;return R}:e?function(R,i,C,S,v){R||(R=[]);var d,r,t,a;i*=3;var n=S*S,f=1-S,u=f*f,l=f*S*2,y=-3*u,h=3*(u-l),T=3*(l-n),c=3*n,o=1-v;for(t=0;t<H.length;t++)a=H[t],d=y*a[C][i]+h*a[C][i+1]+T*a[C][i+2]+c*a[C][i+3],r=y*a[C+1][i]+h*a[C+1][i+1]+T*a[C+1][i+2]+c*a[C+1][i+3],R[t]=o*d+v*r;return R}:g?function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n,f;C*=3;var u=v*v,l=u*v,y=1-v,h=y*y,T=h*y;for(n=0;n<H.length;n++)f=H[n],d=f[C][i+1]-f[C][i],r=f[C+1][i+1]-f[C+1][i],t=f[C+2][i+1]-f[C+2][i],a=f[C+3][i+1]-f[C+3][i],R[n]=T*d+3*(h*v*r+y*u*t)+l*a;return R}:function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n=1-v;for(t=0;t<H.length;t++)a=H[t],d=a[C][i+1]-a[C][i],r=a[C+1][i+1]-a[C+1][i],R[t]=n*d+v*r;return R}}},24464:function(G){G.exports=function(H,e,g){return e&&g?function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n,f;i*=3,C*=3;var u=S*S,l=u*S,y=1-S,h=y*y,T=h*y,c=v*v,o=1-v,p=o*o,x=o*v*2,b=-3*p,P=3*(p-x),m=3*(x-c),L=3*c;for(f=0;f<H.length;f++)n=H[f],d=b*n[C][i]+P*n[C+1][i]+m*n[C+2][i]+L*n[C+3][i],r=b*n[C][i+1]+P*n[C+1][i+1]+m*n[C+2][i+1]+L*n[C+3][i+1],t=b*n[C][i+2]+P*n[C+1][i+2]+m*n[C+2][i+2]+L*n[C+3][i+2],a=b*n[C][i+3]+P*n[C+1][i+3]+m*n[C+2][i+3]+L*n[C+3][i+3],R[f]=T*d+3*(h*S*r+y*u*t)+l*a;return R}:e?function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n,f;i*=3;var u=v*v,l=u*v,y=1-v,h=y*y,T=h*y;for(n=0;n<H.length;n++)f=H[n],d=f[C+1][i]-f[C][i],r=f[C+1][i+1]-f[C][i+1],t=f[C+1][i+2]-f[C][i+2],a=f[C+1][i+3]-f[C][i+3],R[n]=T*d+3*(h*v*r+y*u*t)+l*a;return R}:g?function(R,i,C,S,v){R||(R=[]);var d,r,t,a;C*=3;var n=1-S,f=v*v,u=1-v,l=u*u,y=u*v*2,h=-3*l,T=3*(l-y),c=3*(y-f),o=3*f;for(t=0;t<H.length;t++)a=H[t],d=h*a[C][i]+T*a[C+1][i]+c*a[C+2][i]+o*a[C+3][i],r=h*a[C][i+1]+T*a[C+1][i+1]+c*a[C+2][i+1]+o*a[C+3][i+1],R[t]=n*d+S*r;return R}:function(R,i,C,S,v){R||(R=[]);var d,r,t,a,n=1-S;for(t=0;t<H.length;t++)a=H[t],d=a[C+1][i]-a[C][i],r=a[C+1][i+1]-a[C][i+1],R[t]=n*d+S*r;return R}}},29056:function(G){G.exports=function(H,e,g,R,i){var C=e-2,S=g-2;return R&&i?function(v,d,r){v||(v=[]);var t,a,n,f,u,l,y=Math.max(0,Math.min(Math.floor(d),C)),h=Math.max(0,Math.min(Math.floor(r),S)),T=Math.max(0,Math.min(1,d-y)),c=Math.max(0,Math.min(1,r-h));y*=3,h*=3;var o=T*T,p=o*T,x=1-T,b=x*x,P=b*x,m=c*c,L=m*c,M=1-c,s=M*M,E=s*M;for(l=0;l<H.length;l++)u=H[l],t=P*u[h][y]+3*(b*T*u[h][y+1]+x*o*u[h][y+2])+p*u[h][y+3],a=P*u[h+1][y]+3*(b*T*u[h+1][y+1]+x*o*u[h+1][y+2])+p*u[h+1][y+3],n=P*u[h+2][y]+3*(b*T*u[h+2][y+1]+x*o*u[h+2][y+2])+p*u[h+2][y+3],f=P*u[h+3][y]+3*(b*T*u[h+3][y+1]+x*o*u[h+3][y+2])+p*u[h+3][y+3],v[l]=E*t+3*(s*c*a+M*m*n)+L*f;return v}:R?function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T,c;t*=3;var o=n*n,p=o*n,x=1-n,b=x*x,P=b*x,m=1-f;for(T=0;T<H.length;T++)c=H[T],u=m*c[a][t]+f*c[a+1][t],l=m*c[a][t+1]+f*c[a+1][t+1],y=m*c[a][t+2]+f*c[a+1][t+1],h=m*c[a][t+3]+f*c[a+1][t+1],v[T]=P*u+3*(b*n*l+x*o*y)+p*h;return v}:i?function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T,c;a*=3;var o=f*f,p=o*f,x=1-f,b=x*x,P=b*x,m=1-n;for(T=0;T<H.length;T++)c=H[T],u=m*c[a][t]+n*c[a][t+1],l=m*c[a+1][t]+n*c[a+1][t+1],y=m*c[a+2][t]+n*c[a+2][t+1],h=m*c[a+3][t]+n*c[a+3][t+1],v[T]=P*u+3*(b*f*l+x*o*y)+p*h;return v}:function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T=1-f,c=1-n;for(y=0;y<H.length;y++)h=H[y],u=c*h[a][t]+n*h[a][t+1],l=c*h[a+1][t]+n*h[a+1][t+1],v[y]=T*u+f*l;return v}}},38356:function(G,H,e){var g=e(3400),R=e(86411),i=e(93504),C=e(85720),S=e(22548);G.exports=function(d,r,t,a){function n(l,y){return g.coerce(d,r,C,l,y)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(g.coerceFont(n,"font",a.font),n("carpet"),i(d,r,a,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=R(d,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(G,H,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(H,e){for(var g=H._fullData.length,R,i=0;i<g;i++){var C=H._fullData[i];if(C.index!==e.index&&C.type==="carpet"&&(R||(R=C),C.carpet===e.carpet))return C}return R}},53416:function(G){G.exports=function(e,g,R){if(e.length===0)return"";var i,C=[],S=R?3:1;for(i=0;i<e.length;i+=S)C.push(e[i]+","+g[i]),R&&i<e.length-S&&(C.push("C"),C.push([e[i+1]+","+g[i+1],e[i+2]+","+g[i+2]+" "].join(" ")));return C.join(R?"":"L")}},87072:function(G,H,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(i,C,S){var v;for(g(i)?i.length>C.length&&(i=i.slice(0,C.length)):i=[],v=0;v<C.length;v++)i[v]=S(C[v]);return i}},15584:function(G){G.exports=function(e,g,R,i,C,S){var v=C[0]*e.dpdx(g),d=C[1]*e.dpdy(R),r=1,t=1;if(S){var a=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(C[0]*S[0]+C[1]*S[1])/a/n;t=Math.max(0,f)}var u=Math.atan2(d,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(i,g,R),offsetMultplier:t}}},164:function(G,H,e){var g=e(33428),R=e(43616),i=e(87072),C=e(53416),S=e(15584),v=e(72736),d=e(3400),r=d.strRotate,t=d.strTranslate,a=e(84284);G.exports=function(o,p,x,b){var P=o._context.staticPlot,m=p.xaxis,L=p.yaxis,M=o._fullLayout,s=M._clips;d.makeTraceGroups(b,x,"trace").each(function(E){var w=g.select(this),_=E[0],D=_.trace,N=D.aaxis,z=D.baxis,F=d.ensureSingle(w,"g","minorlayer"),U=d.ensureSingle(w,"g","majorlayer"),B=d.ensureSingle(w,"g","boundarylayer"),V=d.ensureSingle(w,"g","labellayer");w.style("opacity",D.opacity),f(m,L,U,N,"a",N._gridlines,!0),f(m,L,U,z,"b",z._gridlines,!0),f(m,L,F,N,"a",N._minorgridlines,!0),f(m,L,F,z,"b",z._minorgridlines,!0),f(m,L,B,N,"a-boundary",N._boundarylines,P),f(m,L,B,z,"b-boundary",z._boundarylines,P);var j=u(o,m,L,D,_,V,N._labels,"a-label"),Q=u(o,m,L,D,_,V,z._labels,"b-label");l(o,V,D,_,m,L,j,Q),n(D,_,s,m,L)})};function n(c,o,p,x,b){var P,m,L,M,s=p.select("#"+c._clipPathId);s.size()||(s=p.append("clipPath").classed("carpetclip",!0));var E=d.ensureSingle(s,"path","carpetboundary"),w=o.clipsegments,_=[];for(M=0;M<w.length;M++)P=w[M],m=i([],P.x,x.c2p),L=i([],P.y,b.c2p),_.push(C(m,L,P.bicubic));var D="M"+_.join("L")+"Z";s.attr("id",c._clipPathId),E.attr("d",D)}function f(c,o,p,x,b,P,m){var L="const-"+b+"-lines",M=p.selectAll("."+L).data(P);M.enter().append("path").classed(L,!0).style("vector-effect",m?"none":"non-scaling-stroke"),M.each(function(s){var E=s,w=E.x,_=E.y,D=i([],w,c.c2p),N=i([],_,o.c2p),z="M"+C(D,N,E.smoothing),F=g.select(this);F.attr("d",z).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",R.dashStyle(E.dash,E.width)).style("fill","none")}),M.exit().remove()}function u(c,o,p,x,b,P,m,L){var M=P.selectAll("text."+L).data(m);M.enter().append("text").classed(L,!0);var s=0,E={};return M.each(function(w,_){var D;if(w.axis.tickangle==="auto")D=S(x,o,p,w.xy,w.dxy);else{var N=(w.axis.tickangle+180)*Math.PI/180;D=S(x,o,p,w.xy,[Math.cos(N),Math.sin(N)])}_||(E={angle:D.angle,flip:D.flip});var z=(w.endAnchor?-1:1)*D.flip,F=g.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(R.font,w.font).text(w.text).call(v.convertToTspans,c),U=R.bBox(this);F.attr("transform",t(D.p[0],D.p[1])+r(D.angle)+t(w.axis.labelpadding*z,U.height*.3)),s=Math.max(s,U.width+w.axis.labelpadding)}),M.exit().remove(),E.maxExtent=s,E}function l(c,o,p,x,b,P,m,L){var M,s,E,w,_=d.aggNums(Math.min,null,p.a),D=d.aggNums(Math.max,null,p.a),N=d.aggNums(Math.min,null,p.b),z=d.aggNums(Math.max,null,p.b);M=.5*(_+D),s=N,E=p.ab2xy(M,s,!0),w=p.dxyda_rough(M,s),m.angle===void 0&&d.extendFlat(m,S(p,b,P,E,p.dxydb_rough(M,s))),T(c,o,p,x,E,w,p.aaxis,b,P,m,"a-title"),M=_,s=.5*(N+z),E=p.ab2xy(M,s,!0),w=p.dxydb_rough(M,s),L.angle===void 0&&d.extendFlat(L,S(p,b,P,E,p.dxyda_rough(M,s))),T(c,o,p,x,E,w,p.baxis,b,P,L,"b-title")}var y=a.LINE_SPACING,h=(1-a.MID_SHIFT)/y+1;function T(c,o,p,x,b,P,m,L,M,s,E){var w=[];m.title.text&&w.push(m.title.text);var _=o.selectAll("text."+E).data(w),D=s.maxExtent;_.enter().append("text").classed(E,!0),_.each(function(){var N=S(p,L,M,b,P);["start","both"].indexOf(m.showticklabels)===-1&&(D=0);var z=m.title.font.size;D+=z+m.title.offset;var F=s.angle+(s.flip<0?180:0),U=(F-N.angle+450)%360,B=U>90&&U<270,V=g.select(this);V.text(m.title.text).call(v.convertToTspans,c),B&&(D=(-v.lineCount(V)+h)*y*z-D),V.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,D)).attr("text-anchor","middle").call(R.font,m.title.font)}),_.exit().remove()}},81e3:function(G,H,e){var g=e(24588),R=e(14952).findBin,i=e(30180),C=e(29056),S=e(26435),v=e(24464);G.exports=function(r){var t=r._a,a=r._b,n=t.length,f=a.length,u=r.aaxis,l=r.baxis,y=t[0],h=t[n-1],T=a[0],c=a[f-1],o=t[t.length-1]-t[0],p=a[a.length-1]-a[0],x=o*g.RELATIVE_CULL_TOLERANCE,b=p*g.RELATIVE_CULL_TOLERANCE;y-=x,h+=x,T-=b,c+=b,r.isVisible=function(P,m){return P>y&&P<h&&m>T&&m<c},r.isOccluded=function(P,m){return P<y||P>h||m<T||m>c},r.setScale=function(){var P=r._x,m=r._y,L=i(r._xctrl,r._yctrl,P,m,u.smoothing,l.smoothing);r._xctrl=L[0],r._yctrl=L[1],r.evalxy=C([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=S([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(P){var m=Math.max(0,Math.floor(P[0]),n-2),L=P[0]-m;return(1-L)*t[m]+L*t[m+1]},r.j2b=function(P){var m=Math.max(0,Math.floor(P[1]),n-2),L=P[1]-m;return(1-L)*a[m]+L*a[m+1]},r.ij2ab=function(P){return[r.i2a(P[0]),r.j2b(P[1])]},r.a2i=function(P){var m=Math.max(0,Math.min(R(P,t),n-2)),L=t[m],M=t[m+1];return Math.max(0,Math.min(n-1,m+(P-L)/(M-L)))},r.b2j=function(P){var m=Math.max(0,Math.min(R(P,a),f-2)),L=a[m],M=a[m+1];return Math.max(0,Math.min(f-1,m+(P-L)/(M-L)))},r.ab2ij=function(P){return[r.a2i(P[0]),r.b2j(P[1])]},r.i2c=function(P,m){return r.evalxy([],P,m)},r.ab2xy=function(P,m,L){if(!L&&(P<t[0]||P>t[n-1]|m<a[0]||m>a[f-1]))return[!1,!1];var M=r.a2i(P),s=r.b2j(m),E=r.evalxy([],M,s);if(L){var w=0,_=0,D=[],N,z,F,U;P<t[0]?(N=0,z=0,w=(P-t[0])/(t[1]-t[0])):P>t[n-1]?(N=n-2,z=1,w=(P-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(M))),z=M-N),m<a[0]?(F=0,U=0,_=(m-a[0])/(a[1]-a[0])):m>a[f-1]?(F=f-2,U=1,_=(m-a[f-1])/(a[f-1]-a[f-2])):(F=Math.max(0,Math.min(f-2,Math.floor(s))),U=s-F),w&&(r.dxydi(D,N,F,z,U),E[0]+=D[0]*w,E[1]+=D[1]*w),_&&(r.dxydj(D,N,F,z,U),E[0]+=D[0]*_,E[1]+=D[1]*_)}return E},r.c2p=function(P,m,L){return[m.c2p(P[0]),L.c2p(P[1])]},r.p2x=function(P,m,L){return[m.p2c(P[0]),L.p2c(P[1])]},r.dadi=function(P){var m=Math.max(0,Math.min(t.length-2,P));return t[m+1]-t[m]},r.dbdj=function(P){var m=Math.max(0,Math.min(a.length-2,P));return a[m+1]-a[m]},r.dxyda=function(P,m,L,M){var s=r.dxydi(null,P,m,L,M),E=r.dadi(P,L);return[s[0]/E,s[1]/E]},r.dxydb=function(P,m,L,M){var s=r.dxydj(null,P,m,L,M),E=r.dbdj(m,M);return[s[0]/E,s[1]/E]},r.dxyda_rough=function(P,m,L){var M=o*(L||.1),s=r.ab2xy(P+M,m,!0),E=r.ab2xy(P-M,m,!0);return[(s[0]-E[0])*.5/M,(s[1]-E[1])*.5/M]},r.dxydb_rough=function(P,m,L){var M=p*(L||.1),s=r.ab2xy(P,m+M,!0),E=r.ab2xy(P,m-M,!0);return[(s[0]-E[0])*.5/M,(s[1]-E[1])*.5/M]},r.dpdx=function(P){return P._m},r.dpdy=function(P){return P._m}}},51512:function(G,H,e){var g=e(3400);G.exports=function(i,C,S){var v,d,r,t=[],a=[],n=i[0].length,f=i.length;function u(Q,ee){var re=0,ue,J=0;return Q>0&&(ue=i[ee][Q-1])!==void 0&&(J++,re+=ue),Q<n-1&&(ue=i[ee][Q+1])!==void 0&&(J++,re+=ue),ee>0&&(ue=i[ee-1][Q])!==void 0&&(J++,re+=ue),ee<f-1&&(ue=i[ee+1][Q])!==void 0&&(J++,re+=ue),re/Math.max(1,J)}var l=0;for(v=0;v<n;v++)for(d=0;d<f;d++)i[d][v]===void 0&&(t.push(v),a.push(d),i[d][v]=u(v,d)),l=Math.max(l,Math.abs(i[d][v]));if(!t.length)return i;var y,h,T,c,o,p,x,b,P,m,L,M=1e-5,s=0,E=100,w=0,_=t.length;do{for(s=0,r=0;r<_;r++){v=t[r],d=a[r];var D=0,N=0,z,F,U,B,V,j;v===0?(V=Math.min(n-1,2),U=C[V],B=C[1],z=i[d][V],F=i[d][1],N+=F+(F-z)*(C[0]-B)/(B-U),D++):v===n-1&&(V=Math.max(0,n-3),U=C[V],B=C[n-2],z=i[d][V],F=i[d][n-2],N+=F+(F-z)*(C[n-1]-B)/(B-U),D++),(v===0||v===n-1)&&d>0&&d<f-1&&(y=S[d+1]-S[d],h=S[d]-S[d-1],N+=(h*i[d+1][v]+y*i[d-1][v])/(h+y),D++),d===0?(j=Math.min(f-1,2),U=S[j],B=S[1],z=i[j][v],F=i[1][v],N+=F+(F-z)*(S[0]-B)/(B-U),D++):d===f-1&&(j=Math.max(0,f-3),U=S[j],B=S[f-2],z=i[j][v],F=i[f-2][v],N+=F+(F-z)*(S[f-1]-B)/(B-U),D++),(d===0||d===f-1)&&v>0&&v<n-1&&(y=C[v+1]-C[v],h=C[v]-C[v-1],N+=(h*i[d][v+1]+y*i[d][v-1])/(h+y),D++),D?N/=D:(T=C[v+1]-C[v],c=C[v]-C[v-1],o=S[d+1]-S[d],p=S[d]-S[d-1],x=T*c*(T+c),b=o*p*(o+p),N=(x*(p*i[d+1][v]+o*i[d-1][v])+b*(c*i[d][v+1]+T*i[d][v-1]))/(b*(c+T)+x*(p+o))),P=N-i[d][v],m=P/l,s+=m*m,L=D?0:.85,i[d][v]+=P*(1+L)}s=Math.sqrt(s)}while(w++<E&&s>M);return g.log("Smoother converged to",s,"after",w,"iterations"),i}},86411:function(G,H,e){var g=e(3400).isArray1D;G.exports=function(i,C,S){var v=S("x"),d=v&&v.length,r=S("y"),t=r&&r.length;if(!d&&!t)return!1;if(C._cheater=!v,(!d||g(v))&&(!t||g(r))){var a=d?v.length:1/0;t&&(a=Math.min(a,r.length)),C.a&&C.a.length&&(a=Math.min(a,C.a.length)),C.b&&C.b.length&&(a=Math.min(a,C.b.length)),C._length=a}else C._length=null;return!0}},83372:function(G,H,e){var g=e(21776).Ks,R=e(6096),i=e(49084),C=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,d=R.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:R.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},R.geojson,{}),featureidkey:R.featureidkey,text:v({},R.text,{}),hovertext:v({},R.hovertext,{}),marker:{line:{color:v({},d.color,{dflt:S}),width:v({},d.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:R.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:R.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},C.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,H,e){var g=e(38248),R=e(39032).BADNUM,i=e(47128),C=e(20148),S=e(4500);function v(d){return d&&typeof d=="string"}G.exports=function(r,t){var a=t._length,n=new Array(a),f;t.geojson?f=function(T){return v(T)||g(T)}:f=v;for(var u=0;u<a;u++){var l=n[u]={},y=t.locations[u],h=t.z[u];f(y)&&g(h)?(l.loc=y,l.z=h):(l.loc=null,l.z=R),l.index=u}return C(n,t),i(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(G,H,e){var g=e(3400),R=e(27260),i=e(83372);G.exports=function(S,v,d,r){function t(h,T){return g.coerce(S,v,i,h,T)}var a=t("locations"),n=t("z");if(!(a&&a.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(a.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||g.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),R(S,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,g,R,i,C){e.location=g.location,e.z=g.z;var S=i[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(G,H,e){var g=e(54460),R=e(83372),i=e(3400).fillText;G.exports=function(v,d,r){var t=v.cd,a=t[0].trace,n=v.subplot,f,u,l,y,h=[d,r],T=[d+360,r];for(u=0;u<t.length;u++)if(f=t[u],y=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(y=!y),f._polygons[l].contains(T)&&(y=!y);if(y)break}if(!(!y||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,C(v,a,f),[v]};function C(S,v,d){if(!v.hovertemplate){var r=d.hi||v.hoverinfo,t=String(d.loc),a=r==="all"?R.hoverinfo.flags:r.split("+"),n=a.indexOf("name")!==-1,f=a.indexOf("location")!==-1,u=a.indexOf("z")!==-1,l=a.indexOf("text")!==-1,y=!n&&f,h=[];y?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&h.push(t)),u&&h.push(S.zLabel),l&&i(d,v,h),S.extraText=h.join("<br>")}}},54272:function(G,H,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,H,e){var g=e(33428),R=e(3400),i=e(27144),C=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function d(t,a,n){var f=a.layers.backplot.select(".choroplethlayer");R.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=g.select(this),y=l.selectAll("path.choroplethlocation").data(R.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,u)})}function r(t,a){for(var n=t[0].trace,f=a[n.geo],u=f._subplot,l=n.locationmode,y=n._length,h=l==="geojson-id"?i.extractTraceFeature(t):C(n,u.topojson),T=[],c=[],o=0;o<y;o++){var p=t[o],x=l==="geojson-id"?p.fOut:i.locationToFeature(l,p.loc,h);if(x){p.geojson=x,p.ct=x.properties.ct,p._polygons=i.feature2polygons(x);var b=i.computeBbox(x);T.push(b[0],b[2]),c.push(b[1],b[3])}else p.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var P=i.computeBbox(i.getTraceGeojson(n));T=[P[0],P[2]],c=[P[1],P[3]]}var m={padded:!0};n._extremes.lon=S(f.lonaxis._ax,T,m),n._extremes.lat=S(f.lataxis._ax,c,m)}G.exports={calcGeoJSON:r,plot:d}},17328:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,C=e.yaxis,S=[],v,d,r,t,a;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++)d=R[v],r=d.ct,r&&(t=i.c2p(r),a=C.c2p(r),g.contains([t,a],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),d.selected=1):d.selected=0);return S}},7947:function(G,H,e){var g=e(33428),R=e(76308),i=e(43616),C=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var a=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=a.marker||{},l=u.line||{},y=C.makeColorScaleFuncFromTrace(a);f.each(function(h){g.select(this).attr("fill",y(h.z)).call(R.stroke,h.mlc||l.color).call(i.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),i.selectedPointStyle(f,a)}function d(r,t){var a=t[0].node3,n=t[0].trace;n.selectedpoints?i.selectedPointStyle(a.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:S,styleOnSelect:d}},45608:function(G,H,e){var g=e(83372),R=e(49084),i=e(21776).Ks,C=e(45464),S=e(92880).extendFlat;G.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:S({},g.marker.line.color,{editType:"plot"}),width:S({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:S({},C.showlegend,{dflt:!1})},R("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,H,e){var g=e(38248),R=e(3400),i=e(8932),C=e(43616),S=e(44808).makeBlank,v=e(27144);function d(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=a._opts={fill:f,line:u,geojson:S()};if(!n)return l;var y=v.extractTraceFeature(t);if(!y)return l;var h=i.makeColorScaleFuncFromTrace(a),T=a.marker,c=T.line||{},o;R.isArrayOrTypedArray(T.opacity)&&(o=function(s){var E=s.mo;return g(E)?+R.constrain(E,0,1):0});var p;R.isArrayOrTypedArray(c.color)&&(p=function(s){return s.mlc});var x;R.isArrayOrTypedArray(c.width)&&(x=function(s){return s.mlw});for(var b=0;b<t.length;b++){var P=t[b],m=P.fOut;if(m){var L=m.properties;L.fc=h(P.z),o&&(L.mo=o(P)),p&&(L.mlc=p(P)),x&&(L.mlw=x(P)),P.ct=L.ct,P._polygons=v.feature2polygons(m)}}var M=o?{type:"identity",property:"mo"}:T.opacity;return R.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),R.extendFlat(u.paint,{"line-color":p?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":M}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:y},r(t),l}function r(t){var a=t[0].trace,n=a._opts,f;if(a.selectedpoints){for(var u=C.makeSelectedPointStyleFns(a),l=0;l<t.length;l++){var y=t[l];y.fOut&&(y.fOut.properties.mo2=u.selectedOpacityFn(y))}f={type:"identity",property:"mo2"}}else f=R.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return R.extendFlat(n.fill.paint,{"fill-opacity":f}),R.extendFlat(n.line.paint,{"line-opacity":f}),n}G.exports={convert:d,convertOnSelect:r}},9352:function(G,H,e){var g=e(3400),R=e(27260),i=e(45608);G.exports=function(S,v,d,r){function t(l,y){return g.coerce(S,v,i,l,y)}var a=t("locations"),n=t("z"),f=t("geojson");if(!g.isArrayOrTypedArray(a)||!a.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||g.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),R(S,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,H,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,R){if(R){var i=R[0].trace;i._glTrace.updateOnSelect(R)}},getBelow:function(g,R){for(var i=R.getMapLayers(),C=i.length-2;C>=0;C--){var S=i[C].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=C+1;v<i.length;v++)if(S=i[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,H,e){var g=e(13504).convert,R=e(13504).convertOnSelect,i=e(47552).traceLayerPrefix;function C(v,d){this.type="choroplethmapbox",this.subplot=v,this.uid=d,this.sourceId="source-"+d,this.layerList=[["fill",i+d+"-fill"],["line",i+d+"-line"]],this.below=null}var S=C.prototype;S.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(R(v))},S._update=function(v){var d=this.subplot,r=this.layerList,t=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var a=0;a<r.length;a++){var n=r[a],f=n[0],u=n[1],l=v[f];d.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&d.setOptions(u,"setPaintProperty",l.paint)}},S._addLayers=function(v,d){for(var r=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:a,layout:l.layout,paint:l.paint},d)}},S._removeLayers=function(){for(var v=this.subplot.map,d=this.layerList,r=d.length-1;r>=0;r--)v.removeLayer(d[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(d,r){var t=r[0].trace,a=new C(d,t.uid),n=a.sourceId,f=g(r),u=a.below=d.belowLookup["trace-"+t.uid];return d.map.addSource(n,{type:"geojson",data:f.geojson}),a._addLayers(f,u),r[0].trace._glTrace=a,a}},86040:function(G,H,e){var g=e(49084),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){d[t]=C[t]}),d.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,G.exports=d},83344:function(G,H,e){var g=e(47128);G.exports=function(i,C){for(var S=C.u,v=C.v,d=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,S.length,v.length,d.length),t=-1/0,a=1/0,n=0;n<r;n++){var f=S[n],u=v[n],l=d[n],y=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,y),a=Math.min(a,y)}C._len=r,C._normMax=t,g(i,C,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(G,H,e){var g=e(67792).gl_cone3d,R=e(67792).gl_cone3d.createConeMesh,i=e(3400).simpleMap,C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,d=e(52094);function r(y,h){this.scene=y,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var h=y.index=y.data.index,T=this.data.x[h],c=this.data.y[h],o=this.data.z[h],p=this.data.u[h],x=this.data.v[h],b=this.data.w[h];y.traceCoordinate=[T,c,o,p,x,b,Math.sqrt(p*p+x*x+b*b)];var P=this.data.hovertext||this.data.text;return v(P)&&P[h]!==void 0?y.textLabel=P[h]:P&&(y.textLabel=P),!0}};var a={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(y,h){var T=y.fullSceneLayout,c=y.dataScale,o={};function p(L,M){var s=T[M],E=c[a[M]];return i(L,function(w){return s.d2l(w)*E})}o.vectors=d(p(h.u,"xaxis"),p(h.v,"yaxis"),p(h.w,"zaxis"),h._len),o.positions=d(p(h.x,"xaxis"),p(h.y,"yaxis"),p(h.z,"zaxis"),h._len);var x=S(h);o.colormap=C(h),o.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],o.coneOffset=n[h.anchor];var b=h.sizemode;b==="scaled"?o.coneSize=h.sizeref||.5:b==="absolute"?o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:b==="raw"&&(o.coneSize=h.sizeref),o.coneSizemode=b;var P=g(o),m=h.lightposition;return P.lightPosition=[m.x,m.y,m.z],P.ambient=h.lighting.ambient,P.diffuse=h.lighting.diffuse,P.specular=h.lighting.specular,P.roughness=h.lighting.roughness,P.fresnel=h.lighting.fresnel,P.opacity=h.opacity,h._pad=f[h.anchor]*P.vectorScale*P.coneScale*h._normMax,P}t.update=function(y){this.data=y;var h=u(this.scene,y);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(y,h){var T=y.glplot.gl,c=u(y,h),o=R(T,c),p=new r(y,h.uid);return p.mesh=o,p.data=h,o._trace=p,y.glplot.add(o),p}G.exports=l},86096:function(G,H,e){var g=e(3400),R=e(27260),i=e(86040);G.exports=function(S,v,d,r){function t(T,c){return g.coerce(S,v,i,T,c)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),y=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!y||!y.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),R(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,H,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,R){return g.norm=R.traceCoordinate[6],g},meta:{}}},67104:function(G,H,e){var g=e(83328),R=e(52904),i=e(29736),C=i.axisHoverFormat,S=i.descriptionOnlyNumbers,v=e(49084),d=e(98192).u,r=e(25376),t=e(92880).extendFlat,a=e(69104),n=a.COMPARISON_OPS2,f=a.INTERVAL_OPS,u=R.line;G.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:d,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:R.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,H,e){var g=e(8932),R=e(19512),i=e(54444),C=e(46960);G.exports=function(v,d){var r=R(v,d),t=r[0].z;i(d,t);var a=d.contours,n=g.extractOpts(d),f;if(a.coloring==="heatmap"&&n.auto&&d.autocontour===!1){var u=a.start,l=C(a),y=a.size||1,h=Math.floor((l-u)/y)+1;isFinite(y)||(y=1,h=1);var T=u-y/2,c=T+h*y;f=[T,c]}else f=t;return g.calc(v,d,{vals:f,cLetter:"z"}),r}},56008:function(G){G.exports=function(H,e){var g=H[0],R=g.z,i;switch(e.type){case"levels":var C=Math.min(R[0][0],R[0][1]);for(i=0;i<H.length;i++){var S=H[i];S.prefixBoundary=!S.edgepaths.length&&(C>S.level||S.starts.length&&C===S.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,d=g.y.length,r=-1/0,t=1/0;for(i=0;i<d;i++)t=Math.min(t,R[i][0]),t=Math.min(t,R[i][v-1]),r=Math.max(r,R[i][0]),r=Math.max(r,R[i][v-1]);for(i=1;i<v-1;i++)t=Math.min(t,R[0][i]),t=Math.min(t,R[d-1][i]),r=Math.max(r,R[0][i]),r=Math.max(r,R[d-1][i]);var a=e.value,n,f;switch(e._operation){case">":a>r&&(g.prefixBoundary=!0);break;case"<":(a<t||g.starts.length&&a===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),(f<t||n>r||g.starts.length&&f===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),n<t&&f>r&&(g.prefixBoundary=!0);break}break}}},55296:function(G,H,e){var g=e(8932),R=e(41076),i=e(46960);function C(S,v,d){var r=v.contours,t=v.line,a=r.size||1,n=r.coloring,f=R(v,{isColorbar:!0});if(n==="heatmap"){var u=g.extractOpts(v);d._fillgradient=u.reversescale?g.flipScale(u.colorscale):u.colorscale,d._zrange=[u.min,u.max]}else n==="fill"&&(d._fillcolor=f);d._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},d._levels={start:r.start,end:i(r),size:a}}G.exports={min:"zmin",max:"zmax",calc:C}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,H,e){var g=e(38248),R=e(17428),i=e(76308),C=i.addOpacity,S=i.opacity,v=e(69104),d=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(f,u,l,y,h,T){var c=u.contours,o,p,x,b=l("contours.operation");if(c._operation=r[b],a(l,c),b==="="?o=c.showlines=!0:(o=l("contours.showlines"),x=l("fillcolor",C((f.line||{}).color||h,.5))),o){var P=x&&S(x)?C(u.fillcolor,1):h;p=l("line.color",P),l("line.width",2),l("line.dash")}l("line.smoothing"),R(l,y,p,T)};function a(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),d(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:g(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),g(f.value)||(d(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(G,H,e){var g=e(69104),R=e(38248);G.exports={"[]":C("[]"),"][":C("]["),">":S(">"),"<":S("<"),"=":S("=")};function i(v,d){var r=Array.isArray(d),t;function a(n){return R(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=a(r?d[0]:d):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[a(d[0]),a(d[1])]:[a(d),a(d)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?d.map(a):[a(d)]),t}function C(v){return function(d){d=i(v,d);var r=Math.min(d[0],d[1]),t=Math.max(d[0],d[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(d){return d=i(v,d),{start:d,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,g,R,i){var C=i("contours.start"),S=i("contours.end"),v=C===!1||S===!1,d=R("contours.size"),r;v?r=g.autocontour=!0:r=R("autocontour",!1),(r||!d)&&R("ncontours")}},82172:function(G,H,e){var g=e(3400);G.exports=function(i,C){var S,v,d,r=function(n){return n.reverse()},t=function(n){return n};switch(C){case"=":case"<":return i;case">":for(i.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=i[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return i;case"][":var a=r;r=t,t=a;case"[]":for(i.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=R(i[0]),d=R(i[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;d.edgepaths.length;)v.edgepaths.push(t(d.edgepaths.shift()));for(;d.paths.length;)v.paths.push(t(d.paths.shift()));for(;d.starts.length;)v.starts.push(t(d.starts.shift()));return[v]}};function R(i){return g.extendFlat({},i,{edgepaths:g.extendDeep([],i.edgepaths),paths:g.extendDeep([],i.paths),starts:g.extendDeep([],i.starts)})}},57004:function(G,H,e){var g=e(3400),R=e(51264),i=e(31147),C=e(95536),S=e(84952),v=e(97680),d=e(39096),r=e(67104);G.exports=function(a,n,f,u){function l(c,o){return g.coerce(a,n,r,c,o)}function y(c){return g.coerce2(a,n,r,c)}var h=R(a,n,l,u);if(!h){n.visible=!1;return}i(a,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),T?C(a,n,l,u,f):(S(a,n,l,y),v(a,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&d(l,u),l("zorder")}},61512:function(G,H,e){var g=e(3400),R=e(3212),i=e(46960);G.exports=function(S,v,d){for(var r=S.type==="constraint"?R[S._operation](S.value):S,t=r.size,a=[],n=i(r),f=d.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:d.a,y:d.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:d.x,y:d.y},l=r.start;l<n;l+=t)if(a.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},u)),a.length>1e3){g.warn("Too many contours, clipping at 1000",S);break}return a}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,H,e){var g=e(3400),R=e(93252);G.exports=function(t,a,n){var f,u,l,y,h;for(a=a||.01,n=n||.01,l=0;l<t.length;l++){for(y=t[l],h=0;h<y.starts.length;h++)u=y.starts[h],S(y,u,"edge",a,n);for(f=0;Object.keys(y.crossings).length&&f<1e4;)f++,u=Object.keys(y.crossings)[0].split(",").map(Number),S(y,u,void 0,a,n);f===1e4&&g.log("Infinite loop in contour?")}};function i(r,t,a,n){return Math.abs(r[0]-t[0])<a&&Math.abs(r[1]-t[1])<n}function C(r,t){var a=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(a*a+n*n)}function S(r,t,a,n,f){var u=t.join(","),l=r.crossings[u],y=v(l,a,t),h=[d(r,t,[-y[0],-y[1]])],T=r.z.length,c=r.z[0].length,o=t.slice(),p=y.slice(),x;for(x=0;x<1e4;x++){if(l>20?(l=R.CHOOSESADDLE[l][(y[0]||y[1])<0?0:1],r.crossings[u]=R.SADDLEREMAINDER[l]):delete r.crossings[u],y=R.NEWDELTA[l],!y){g.log("Found bad marching index:",l,t,r.level);break}h.push(d(r,t,y)),t[0]+=y[0],t[1]+=y[1],u=t.join(","),i(h[h.length-1],h[h.length-2],n,f)&&h.pop();var b=y[0]&&(t[0]<0||t[0]>c-2)||y[1]&&(t[1]<0||t[1]>T-2),P=t[0]===o[0]&&t[1]===o[1]&&y[0]===p[0]&&y[1]===p[1];if(P||a&&b)break;l=r.crossings[u]}x===1e4&&g.log("Infinite loop in contour?");var m=i(h[0],h[h.length-1],n,f),L=0,M=.2*r.smoothing,s=[],E=0,w,_,D,N,z,F,U,B,V,j,Q;for(x=1;x<h.length;x++)U=C(h[x],h[x-1]),L+=U,s.push(U);var ee=L/s.length*M;function re(X){return h[X%h.length]}for(x=h.length-2;x>=E;x--)if(w=s[x],w<ee){for(D=0,_=x-1;_>=E&&w+s[_]<ee;_--)w+=s[_];if(m&&x===h.length-2)for(D=0;D<_&&w+s[D]<ee;D++)w+=s[D];z=x-_+D+1,F=Math.floor((x+_+D+2)/2),!m&&x===h.length-2?N=h[h.length-1]:!m&&_===-1?N=h[0]:z%2?N=re(F):N=[(re(F)[0]+re(F+1)[0])/2,(re(F)[1]+re(F+1)[1])/2],h.splice(_+1,x-_+1,N),x=_+1,D&&(E=D),m&&(x===h.length-2?h[D]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(m)h.pop(),r.paths.push(h);else{a||g.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var ue=!1;for(B=0;B<r.edgepaths.length;B++)if(j=r.edgepaths[B],!ue&&i(j[0],h[h.length-1],n,f)){h.pop(),ue=!0;var J=!1;for(V=0;V<r.edgepaths.length;V++)if(Q=r.edgepaths[V],i(Q[Q.length-1],h[0],n,f)){J=!0,h.shift(),r.edgepaths.splice(B,1),V===B?r.paths.push(h.concat(Q)):(V>B&&V--,r.edgepaths[V]=Q.concat(h,j));break}J||(r.edgepaths[B]=h.concat(j))}for(B=0;B<r.edgepaths.length&&!ue;B++)j=r.edgepaths[B],i(j[j.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[B]=j.concat(h),ue=!0);ue||r.edgepaths.push(h)}}function v(r,t,a){var n=0,f=0;return r>20&&t?r===208||r===1114?n=a[0]===0?1:-1:f=a[1]===0?1:-1:R.BOTTOMSTART.indexOf(r)!==-1?f=1:R.LEFTSTART.indexOf(r)!==-1?n=1:R.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function d(r,t,a){var n=t[0]+Math.max(a[0],0),f=t[1]+Math.max(a[1],0),u=r.z[f][n],l=r.xaxis,y=r.yaxis;if(a[1]){var h=(r.level-u)/(r.z[f][n+1]-u),T=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),y.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-u)/(r.z[f+1][n]-u),o=(c!==1?(1-c)*y.c2l(r.y[f]):0)+(c!==0?c*y.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),y.c2p(y.l2c(o),!0),n,f+c]}}},38200:function(G,H,e){var g=e(76308),R=e(55512);G.exports=function(C,S,v,d,r){r||(r={}),r.isContour=!0;var t=R(C,S,v,d,r);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?a.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(a.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(G,H,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,H,e){var g=e(3400);G.exports=function(i,C,S,v){v||(v={});var d=i("contours.showlabels");if(d){var r=C.font;g.coerceFont(i,"contours.labelfont",{weight:r.weight,style:r.style,variant:r.variant,family:r.family,size:r.size,color:S}),i("contours.labelformat")}v.hasHover!==!1&&i("zhoverformat")}},41076:function(G,H,e){var g=e(33428),R=e(8932),i=e(46960);G.exports=function(S){var v=S.contours,d=v.start,r=i(v),t=v.size||1,a=Math.floor((r-d)/t)+1,n=v.coloring==="lines"?0:1,f=R.extractOpts(S);isFinite(t)||(t=1,a=1);var u=f.reversescale?R.flipScale(f.colorscale):f.colorscale,l=u.length,y=new Array(l),h=new Array(l),T,c,o=f.min,p=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)T=u[c],y[c]=T[0]*(p-o)+o,h[c]=T[1];var x=g.extent([o,p,v.start,v.start+t*(a-1)]),b=x[o<p?0:1],P=x[o<p?1:0];b!==o&&(y.splice(0,0,b),h.splice(0,0,h[0])),P!==p&&(y.push(P),h.push(h[h.length-1]))}else{var m=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(m&&(d<=o||r>=p)&&(d<=o&&(d=o),r>=p&&(r=p),a=Math.floor((r-d)/t)+1,n=0),c=0;c<l;c++)T=u[c],y[c]=(T[0]*(a+n-1)-n/2)*t+d,h[c]=T[1];(m||S.autocontour)&&(y[0]>o&&(y.unshift(o),h.unshift(h[0])),y[y.length-1]<p&&(y.push(p),h.push(h[h.length-1])))}return R.makeColorScaleFunc({domain:y,range:h},{noNumericCheck:!0})}},72424:function(G,H,e){var g=e(93252);G.exports=function(C){var S=C[0].z,v=S.length,d=S[0].length,r=v===2||d===2,t,a,n,f,u,l,y,h,T;for(a=0;a<v-1;a++)for(f=[],a===0&&(f=f.concat(g.BOTTOMSTART)),a===v-2&&(f=f.concat(g.TOPSTART)),t=0;t<d-1;t++)for(n=f.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===d-2&&(n=n.concat(g.RIGHTSTART)),u=t+","+a,l=[[S[a][t],S[a][t+1]],[S[a+1][t],S[a+1][t+1]]],T=0;T<C.length;T++)h=C[T],y=R(h.level,l),y&&(h.crossings[u]=y,n.indexOf(y)!==-1&&(h.starts.push([t,a]),r&&n.indexOf(y,n.indexOf(y)+1)!==-1&&h.starts.push([t,a])))};function R(i,C){var S=(C[0][0]>i?0:1)+(C[0][1]>i?0:2)+(C[1][1]>i?0:4)+(C[1][0]>i?0:8);if(S===5||S===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return i>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(8932),S=e(72736),v=e(54460),d=e(78344),r=e(41420),t=e(72424),a=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),y=l.LABELOPTIMIZER;H.plot=function(m,L,M,s){var E=L.xaxis,w=L.yaxis;R.makeTraceGroups(s,M,"contour").each(function(_){var D=g.select(this),N=_[0],z=N.trace,F=N.x,U=N.y,B=z.contours,V=n(B,L,N),j=R.ensureSingle(D,"g","heatmapcoloring"),Q=[];B.coloring==="heatmap"&&(Q=[_]),r(m,L,Q,j),t(V),a(V);var ee=E.c2p(F[0],!0),re=E.c2p(F[F.length-1],!0),ue=w.c2p(U[0],!0),J=w.c2p(U[U.length-1],!0),X=[[ee,J],[re,J],[re,ue],[ee,ue]],ne=V;B.type==="constraint"&&(ne=f(V,B._operation)),h(D,X,B),T(D,ne,X,B),o(D,V,m,N,B),x(D,L,m,N,X)})};function h(P,m,L){var M=R.ensureSingle(P,"g","contourbg"),s=M.selectAll("path").data(L.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function T(P,m,L,M){var s=M.coloring==="fill"||M.type==="constraint"&&M._operation!=="=",E="M"+L.join("L")+"Z";s&&u(m,M);var w=R.ensureSingle(P,"g","contourfill"),_=w.selectAll("path").data(s?m:[]);_.enter().append("path"),_.exit().remove(),_.each(function(D){var N=(D.prefixBoundary?E:"")+c(D,L);N?g.select(this).attr("d",N).style("stroke","none"):g.select(this).remove()})}function c(P,m){var L="",M=0,s=P.edgepaths.map(function(ee,re){return re}),E=!0,w,_,D,N,z,F;function U(ee){return Math.abs(ee[1]-m[0][1])<.01}function B(ee){return Math.abs(ee[1]-m[2][1])<.01}function V(ee){return Math.abs(ee[0]-m[0][0])<.01}function j(ee){return Math.abs(ee[0]-m[2][0])<.01}for(;s.length;){for(F=i.smoothopen(P.edgepaths[M],P.smoothing),L+=E?F:F.replace(/^M/,"L"),s.splice(s.indexOf(M),1),w=P.edgepaths[M][P.edgepaths[M].length-1],N=-1,D=0;D<4;D++){if(!w){R.log("Missing end?",M,P);break}for(U(w)&&!j(w)?_=m[1]:V(w)?_=m[0]:B(w)?_=m[3]:j(w)&&(_=m[2]),z=0;z<P.edgepaths.length;z++){var Q=P.edgepaths[z][0];Math.abs(w[0]-_[0])<.01?Math.abs(w[0]-Q[0])<.01&&(Q[1]-w[1])*(_[1]-Q[1])>=0&&(_=Q,N=z):Math.abs(w[1]-_[1])<.01?Math.abs(w[1]-Q[1])<.01&&(Q[0]-w[0])*(_[0]-Q[0])>=0&&(_=Q,N=z):R.log("endpt to newendpt is not vert. or horz.",w,_,Q)}if(w=_,N>=0)break;L+="L"+_}if(N===P.edgepaths.length){R.log("unclosed perimeter path");break}M=N,E=s.indexOf(M)===-1,E&&(M=s[0],L+="Z")}for(M=0;M<P.paths.length;M++)L+=i.smoothclosed(P.paths[M],P.smoothing);return L}function o(P,m,L,M,s){var E=L._context.staticPlot,w=R.ensureSingle(P,"g","contourlines"),_=s.showlines!==!1,D=s.showlabels,N=_&&D,z=H.createLines(w,_||D,m,E),F=H.createLineClip(w,N,L,M.trace.uid),U=P.selectAll("g.contourlabels").data(D?[0]:[]);if(U.exit().remove(),U.enter().append("g").classed("contourlabels",!0),D){var B=[],V=[];R.clearLocationCache();var j=H.labelFormatter(L,M),Q=i.tester.append("text").attr("data-notex",1).call(i.font,s.labelfont),ee=m[0].xaxis,re=m[0].yaxis,ue=ee._length,J=re._length,X=ee.range,ne=re.range,Y=R.aggNums(Math.min,null,M.x),oe=R.aggNums(Math.max,null,M.x),le=R.aggNums(Math.min,null,M.y),Z=R.aggNums(Math.max,null,M.y),$=Math.max(ee.c2p(Y,!0),0),se=Math.min(ee.c2p(oe,!0),ue),ae=Math.max(re.c2p(Z,!0),0),he=Math.min(re.c2p(le,!0),J),me={};X[0]<X[1]?(me.left=$,me.right=se):(me.left=se,me.right=$),ne[0]<ne[1]?(me.top=ae,me.bottom=he):(me.top=he,me.bottom=ae),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,B.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var Me=Math.sqrt(ue*ue+J*J),Te=l.LABELDISTANCE*Me/Math.max(1,m.length/l.LABELINCREASE);z.each(function(Pe){var be=H.calcTextOpts(Pe.level,j,Q,L);g.select(this).selectAll("path").each(function(){var Ee=this,xe=R.getVisibleSegment(Ee,me,be.height/2);if(xe&&!(xe.len<(be.width+be.height)*l.LABELMIN))for(var Ce=Math.min(Math.ceil(xe.len/Te),l.LABELMAX),Ue=0;Ue<Ce;Ue++){var Ne=H.findBestTextLocation(Ee,xe,be,V,me);if(!Ne)break;H.addLabelData(Ne,be,V,B)}})}),Q.remove(),H.drawLabels(U,V,L,F,N?B:null)}D&&!_&&z.remove()}H.createLines=function(P,m,L,M){var s=L[0].smoothing,E=P.selectAll("g.contourlevel").data(m?L:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),m){var w=E.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(D){return i.smoothopen(D,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var _=E.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});_.exit().remove(),_.enter().append("path").classed("closedline",!0),_.attr("d",function(D){return i.smoothclosed(D,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return E},H.createLineClip=function(P,m,L,M){var s=L._fullLayout._clips,E=m?"clipline"+M:null,w=s.selectAll("#"+E).data(m?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),i.setClipUrl(P,E,L),w},H.labelFormatter=function(P,m){var L=P._fullLayout,M=m.trace,s=M.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)E.tickformat=s.labelformat,d(E,L);else{var w=C.extractOpts(M);if(w&&w.colorbar&&w.colorbar._axis)E=w.colorbar._axis;else{if(s.type==="constraint"){var _=s.value;R.isArrayOrTypedArray(_)?E.range=[_[0],_[_.length-1]]:E.range=[_,_]}else E.range=[s.start,s.end],E.nticks=(s.end-s.start)/s.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),d(E,L),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(D){return v.tickText(E,D).text}},H.calcTextOpts=function(P,m,L,M){var s=m(P);L.text(s).call(S.convertToTspans,M);var E=L.node(),w=i.bBox(E,!0);return{text:s,width:w.width,height:w.height,fontSize:+E.style["font-size"].replace("px",""),level:P,dy:(w.top+w.bottom)/2}},H.findBestTextLocation=function(P,m,L,M,s){var E=L.width,w,_,D,N,z;m.isClosed?(_=m.len/y.INITIALSEARCHPOINTS,w=m.min+_/2,D=m.max):(_=(m.len-E)/(y.INITIALSEARCHPOINTS+1),w=m.min+_+E/2,D=m.max-(_+E)/2);for(var F=1/0,U=0;U<y.ITERATIONS;U++){for(var B=w;B<D;B+=_){var V=R.getTextLocation(P,m.total,B,E),j=p(V,L,M,s);j<F&&(F=j,z=V,N=B)}if(F>y.MAXCOST*2)break;U&&(_/=2),w=N-_/2,D=w+_*1.5}if(F<=y.MAXCOST)return z};function p(P,m,L,M){var s=m.width/2,E=m.height/2,w=P.x,_=P.y,D=P.theta,N=Math.cos(D)*s,z=Math.sin(D)*s,F=(w>M.center?M.right-w:w-M.left)/(N+Math.abs(Math.sin(D)*E)),U=(_>M.middle?M.bottom-_:_-M.top)/(Math.abs(z)+Math.cos(D)*E);if(F<1||U<1)return 1/0;var B=y.EDGECOST*(1/(F-1)+1/(U-1));B+=y.ANGLECOST*D*D;for(var V=w-N,j=_-z,Q=w+N,ee=_+z,re=0;re<L.length;re++){var ue=L[re],J=Math.cos(ue.theta)*ue.width/2,X=Math.sin(ue.theta)*ue.width/2,ne=R.segmentDistance(V,j,Q,ee,ue.x-J,ue.y-X,ue.x+J,ue.y+X)*2/(m.height+ue.height),Y=ue.level===m.level,oe=Y?y.SAMELEVELDISTANCE:1;if(ne<=oe)return 1/0;var le=y.NEIGHBORCOST*(Y?y.SAMELEVELFACTOR:1);B+=le/(ne-oe)}return B}H.addLabelData=function(P,m,L,M){var s=m.fontSize,E=m.width+s/3,w=Math.max(0,m.height-s/3),_=P.x,D=P.y,N=P.theta,z=Math.sin(N),F=Math.cos(N),U=function(V,j){return[_+V*F-j*z,D+V*z+j*F]},B=[U(-E/2,-w/2),U(-E/2,w/2),U(E/2,w/2),U(E/2,-w/2)];L.push({text:m.text,x:_,y:D,dy:m.dy,theta:N,level:m.level,width:E,height:w}),M.push(B)},H.drawLabels=function(P,m,L,M,s){var E=P.selectAll("text").data(m,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var z=N.x+Math.sin(N.theta)*N.dy,F=N.y-Math.cos(N.theta)*N.dy;g.select(this).text(N.text).attr({x:z,y:F,transform:"rotate("+180*N.theta/Math.PI+" "+z+" "+F+")"}).call(S.convertToTspans,L)}),s){for(var w="",_=0;_<s.length;_++)w+="M"+s[_].join("L")+"Z";var D=R.ensureSingle(M,"path","");D.attr("d",w)}};function x(P,m,L,M,s){var E=M.trace,w=L._fullLayout._clips,_="clip"+E.uid,D=w.selectAll("#"+_).data(E.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",_),D.exit().remove(),E.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:M.x,y:M.y,z:b(M),smoothing:0};t([N]),a([N]),u([N],{type:"levels"});var z=R.ensureSingle(D,"path","");z.attr("d",(N.prefixBoundary?"M"+s.join("L")+"Z":"")+c(N,s))}else _=null;i.setClipUrl(P,_,L)}function b(P){var m=P.trace._emptypoints,L=[],M=P.z.length,s=P.z[0].length,E,w=[],_;for(E=0;E<s;E++)w.push(1);for(E=0;E<M;E++)L.push(w.slice());for(E=0;E<m.length;E++)_=m[E],L[_[0]][_[1]]=0;return P.zmask=L,L}},54444:function(G,H,e){var g=e(54460),R=e(3400);G.exports=function(S,v){var d=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=R.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=R.aggNums(Math.max,null,v));var a=i(r,t,S.ncontours);d.size=a.dtick,d.start=g.tickFirst(a),a.range.reverse(),d.end=g.tickFirst(a),d.start===r&&(d.start+=d.size),d.end===t&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),S._input.contours||(S._input.contours={}),R.extendFlat(S._input.contours,{start:d.start,end:d.end,size:d.size}),S._input.autocontour=!0}else if(d.type!=="constraint"){var n=d.start,f=d.end,u=S._input.contours;if(n>f&&(d.start=u.start=f,f=d.end=u.end=n,n=d.start),!(d.size>0)){var l;n===f?l=1:l=i(n,f,S.ncontours).dtick,u.size=d.size=l}}};function i(C,S,v){var d={type:"linear",range:[C,S]};return g.autoTicks(d,(S-C)/(v||15)),d}},52440:function(G,H,e){var g=e(33428),R=e(43616),i=e(41648),C=e(41076);G.exports=function(v){var d=g.select(v).selectAll("g.contour");d.style("opacity",function(r){return r[0].trace.opacity}),d.each(function(r){var t=g.select(this),a=r[0].trace,n=a.contours,f=a.line,u=n.size||1,l=n.start,y=n.type==="constraint",h=!y&&n.coloring==="lines",T=!y&&n.coloring==="fill",c=h||T?C(a):null;t.selectAll("g.contourlevel").each(function(x){g.select(this).selectAll("path").call(R.lineGroupStyle,f.width,h?c(x.level):f.color,f.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){R.font(g.select(this),{weight:o.weight,style:o.style,variant:o.variant,family:o.family,size:o.size,color:o.color||(h?c(x.level):f.color)})}),y)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(T){var p;t.selectAll("g.contourfill path").style("fill",function(x){return p===void 0&&(p=x.level),c(x.level+.5*u)}),p===void 0&&(p=l),t.selectAll("g.contourbg path").style("fill",c(p-.5*u))}}),i(v)}},97680:function(G,H,e){var g=e(27260),R=e(17428);G.exports=function(C,S,v,d,r){var t=v("contours.coloring"),a,n="";t==="fill"&&(a=v("contours.showlines")),a!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,g(C,S,d,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),R(v,d,n,r)}},37960:function(G,H,e){var g=e(83328),R=e(67104),i=e(49084),C=e(92880).extendFlat,S=R.contours;G.exports=C({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:R.fillcolor,autocontour:R.autocontour,ncontours:R.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:R.line.color,width:R.line.width,dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},zorder:R.zorder,transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,H,e){var g=e(47128),R=e(3400),i=e(2872),C=e(26136),S=e(70448),v=e(11240),d=e(35744),r=e(3252),t=e(50948),a=e(54444);G.exports=function(u,l){var y=l._carpetTrace=t(u,l);if(!(!y||!y.visible||y.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[y.index],T=u.data[l.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,l,l._defaultColor,u._fullLayout)}var c=n(u,l);return a(l,l._z),c}};function n(f,u){var l=u._carpetTrace,y=l.aaxis,h=l.baxis,T,c,o,p,x,b,P;y._minDtick=0,h._minDtick=0,R.isArray1D(u.z)&&i(u,y,h,"a","b",["z"]),T=u._a=u._a||u.a,p=u._b=u._b||u.b,T=T?y.makeCalcdata(u,"_a"):[],p=p?h.makeCalcdata(u,"_b"):[],c=u.a0||0,o=u.da||1,x=u.b0||0,b=u.db||1,P=u._z=C(u._z||u.z,u.transpose),u._emptypoints=v(P),S(P,u._emptypoints);var m=R.maxRowLength(P),L=u.xtype==="scaled"?"":T,M=d(u,L,c,o,m,y),s=u.ytype==="scaled"?"":p,E=d(u,s,x,b,P.length,h),w={a:M,b:E,z:P};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&g(f,u,{vals:P,containerStr:"",cLetter:"z"}),[w]}},3252:function(G,H,e){var g=e(3400),R=e(51264),i=e(37960),C=e(95536),S=e(84952),v=e(97680);G.exports=function(r,t,a,n){function f(h,T){return g.coerce(r,t,i,h,T)}function u(h){return g.coerce2(r,t,i,h)}if(f("carpet"),r.a&&r.b){var l=R(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var y=f("contours.type")==="constraint";y?C(r,t,f,n,a,{hasHover:!1}):(S(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null;f("zorder")}},40448:function(G,H,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,H,e){var g=e(33428),R=e(87072),i=e(53416),C=e(43616),S=e(3400),v=e(72424),d=e(88748),r=e(23676),t=e(93252),a=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);G.exports=function(L,M,s,E){var w=M.xaxis,_=M.yaxis;S.makeTraceGroups(E,s,"contour").each(function(D){var N=g.select(this),z=D[0],F=z.trace,U=F._carpetTrace=u(L,F),B=L.calcdata[U.index][0];if(!U.visible||U.visible==="legendonly")return;var V=z.a,j=z.b,Q=F.contours,ee=n(Q,M,z),re=Q.type==="constraint",ue=Q._operation,J=re?ue==="="?"lines":"fill":Q.coloring;function X(Me){var Te=U.ab2xy(Me[0],Me[1],!0);return[w.c2p(Te[0]),_.c2p(Te[1])]}var ne=[[V[0],j[j.length-1]],[V[V.length-1],j[j.length-1]],[V[V.length-1],j[0]],[V[0],j[0]]];v(ee);var Y=(V[V.length-1]-V[0])*1e-8,oe=(j[j.length-1]-j[0])*1e-8;d(ee,Y,oe);var le=ee;Q.type==="constraint"&&(le=a(ee,ue)),y(ee,X);var Z,$,se,ae,he=[];for(ae=B.clipsegments.length-1;ae>=0;ae--)Z=B.clipsegments[ae],$=R([],Z.x,w.c2p),se=R([],Z.y,_.c2p),$.reverse(),se.reverse(),he.push(i($,se,Z.bicubic));var me="M"+he.join("L")+"Z";x(N,B.clipsegments,w,_,re,J),b(F,N,w,_,le,ne,X,U,B,J,me),h(N,ee,L,z,Q,M,U),C.setClipUrl(N,U._clipPathId,L)})};function y(m,L){var M,s,E,w,_,D,N,z,F;for(M=0;M<m.length;M++){for(w=m[M],_=w.pedgepaths=[],D=w.ppaths=[],s=0;s<w.edgepaths.length;s++){for(F=w.edgepaths[s],N=[],E=0;E<F.length;E++)N[E]=L(F[E]);_.push(N)}for(s=0;s<w.paths.length;s++){for(F=w.paths[s],z=[],E=0;E<F.length;E++)z[E]=L(F[E]);D.push(z)}}}function h(m,L,M,s,E,w,_){var D=M._context.staticPlot,N=S.ensureSingle(m,"g","contourlines"),z=E.showlines!==!1,F=E.showlabels,U=z&&F,B=r.createLines(N,z||F,L,D),V=r.createLineClip(N,U,M,s.trace.uid),j=m.selectAll("g.contourlabels").data(F?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),F){var Q=w.xaxis,ee=w.yaxis,re=Q._length,ue=ee._length,J=[[[0,0],[re,0],[re,ue],[0,ue]]],X=[];S.clearLocationCache();var ne=r.labelFormatter(M,s),Y=C.tester.append("text").attr("data-notex",1).call(C.font,E.labelfont),oe={left:0,right:re,center:re/2,top:0,bottom:ue,middle:ue/2},le=Math.sqrt(re*re+ue*ue),Z=t.LABELDISTANCE*le/Math.max(1,L.length/t.LABELINCREASE);B.each(function($){var se=r.calcTextOpts($.level,ne,Y,M);g.select(this).selectAll("path").each(function(ae){var he=this,me=S.getVisibleSegment(he,oe,se.height/2);if(me&&(T(he,ae,$,me,_,se.height),!(me.len<(se.width+se.height)*t.LABELMIN)))for(var Me=Math.min(Math.ceil(me.len/Z),t.LABELMAX),Te=0;Te<Me;Te++){var Pe=r.findBestTextLocation(he,me,se,X,oe);if(!Pe)break;r.addLabelData(Pe,se,X,J)}})}),Y.remove(),r.drawLabels(j,X,M,V,U?J:null)}F&&!z&&B.remove()}function T(m,L,M,s,E,w){for(var _,D=0;D<M.pedgepaths.length;D++)L===M.pedgepaths[D]&&(_=M.edgepaths[D]);if(!_)return;var N=E.a[0],z=E.a[E.a.length-1],F=E.b[0],U=E.b[E.b.length-1];function B(re,ue){var J=0,X,ne=.1;return(Math.abs(re[0]-N)<ne||Math.abs(re[0]-z)<ne)&&(X=o(E.dxydb_rough(re[0],re[1],ne)),J=Math.max(J,w*p(ue,X)/2)),(Math.abs(re[1]-F)<ne||Math.abs(re[1]-U)<ne)&&(X=o(E.dxyda_rough(re[0],re[1],ne)),J=Math.max(J,w*p(ue,X)/2)),J}var V=c(m,0,1),j=c(m,s.total,s.total-1),Q=B(_[0],V),ee=s.total-B(_[_.length-1],j);s.min<Q&&(s.min=Q),s.max>ee&&(s.max=ee),s.len=s.max-s.min}function c(m,L,M){var s=m.getPointAtLength(L),E=m.getPointAtLength(M),w=E.x-s.x,_=E.y-s.y,D=Math.sqrt(w*w+_*_);return[w/D,_/D]}function o(m){var L=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/L,m[1]/L]}function p(m,L){var M=Math.abs(m[0]*L[0]+m[1]*L[1]),s=Math.sqrt(1-M*M);return s/M}function x(m,L,M,s,E,w){var _,D,N,z,F=S.ensureSingle(m,"g","contourbg"),U=F.selectAll("path").data(w==="fill"&&!E?[0]:[]);U.enter().append("path"),U.exit().remove();var B=[];for(z=0;z<L.length;z++)_=L[z],D=R([],_.x,M.c2p),N=R([],_.y,s.c2p),B.push(i(D,N,_.bicubic));U.attr("d","M"+B.join("L")+"Z").style("stroke","none")}function b(m,L,M,s,E,w,_,D,N,z,F){var U=z==="fill";U&&f(E,m.contours);var B=S.ensureSingle(L,"g","contourfill"),V=B.selectAll("path").data(U?E:[]);V.enter().append("path"),V.exit().remove(),V.each(function(j){var Q=(j.prefixBoundary?F:"")+P(m,j,w,_,D,N,M,s);Q?g.select(this).attr("d",Q).style("stroke","none"):g.select(this).remove()})}function P(m,L,M,s,E,w,_,D){var N,z="",F=L.edgepaths.map(function(se,ae){return ae}),U=!0,B,V,j,Q,ee,re,ue=Math.abs(M[0][0]-M[2][0])*1e-4,J=Math.abs(M[0][1]-M[2][1])*1e-4;function X(se){return Math.abs(se[1]-M[0][1])<J}function ne(se){return Math.abs(se[1]-M[2][1])<J}function Y(se){return Math.abs(se[0]-M[0][0])<ue}function oe(se){return Math.abs(se[0]-M[2][0])<ue}function le(se,ae){var he,me,Me,Te,Pe="";for(X(se)&&!oe(se)||ne(se)&&!Y(se)?(Te=E.aaxis,Me=l(E,w,[se[0],ae[0]],.5*(se[1]+ae[1]))):(Te=E.baxis,Me=l(E,w,.5*(se[0]+ae[0]),[se[1],ae[1]])),he=1;he<Me.length;he++)for(Pe+=Te.smoothing?"C":"L",me=0;me<Me[he].length;me++){var be=Me[he][me];Pe+=[_.c2p(be[0]),D.c2p(be[1])]+" "}return Pe}for(N=0,B=null;F.length;){var Z=L.edgepaths[N][0];for(B&&(z+=le(B,Z)),re=C.smoothopen(L.edgepaths[N].map(s),L.smoothing),z+=U?re:re.replace(/^M/,"L"),F.splice(F.indexOf(N),1),B=L.edgepaths[N][L.edgepaths[N].length-1],Q=-1,j=0;j<4;j++){if(!B){S.log("Missing end?",N,L);break}for(X(B)&&!oe(B)?V=M[1]:Y(B)?V=M[0]:ne(B)?V=M[3]:oe(B)&&(V=M[2]),ee=0;ee<L.edgepaths.length;ee++){var $=L.edgepaths[ee][0];Math.abs(B[0]-V[0])<ue?Math.abs(B[0]-$[0])<ue&&($[1]-B[1])*(V[1]-$[1])>=0&&(V=$,Q=ee):Math.abs(B[1]-V[1])<J?Math.abs(B[1]-$[1])<J&&($[0]-B[0])*(V[0]-$[0])>=0&&(V=$,Q=ee):S.log("endpt to newendpt is not vert. or horz.",B,V,$)}if(Q>=0)break;z+=le(B,V),B=V}if(Q===L.edgepaths.length){S.log("unclosed perimeter path");break}N=Q,U=F.indexOf(N)===-1,U&&(N=F[0],z+=le(B,V)+"Z",B=null)}for(N=0;N<L.paths.length;N++)z+=C.smoothclosed(L.paths[N].map(s),L.smoothing);return z}},33928:function(G,H,e){var g=e(49084),R=e(21776).Ks,i=e(45464),C=e(31512),S=e(92880).extendFlat;G.exports=S({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:S({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:R(),showlegend:S({},i.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,H,e){var g=e(38248),R=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,C=e(47128),S=e(3400)._;G.exports=function(d,r){for(var t=r._length,a=new Array(t),n=r.z,f=R(n)&&n.length,u=0;u<t;u++){var l=a[u]={},y=r.lon[u],h=r.lat[u];if(l.lonlat=g(y)&&g(h)?[+y,+h]:[i,i],f){var T=n[u];l.z=g(T)?T:i}}return C(d,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:S(d,"lat:")+" ",lon:S(d,"lon:")+" "}}),a}},4629:function(G,H,e){var g=e(38248),R=e(3400),i=e(76308),C=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,a=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!a)return f;var u=[],l,y=t.z,h=t.radius,T=R.isArrayOrTypedArray(y)&&y.length,c=R.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var o=r[l],p=o.lonlat;if(p[0]!==S){var x={};if(T){var b=o.z;x.z=b!==S?b:0}c&&(x.r=g(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:x})}}var P=C.extractOpts(t),m=P.reversescale?C.flipScale(P.colorscale):P.colorscale,L=m[0][1],M=i.opacity(L)<1?L:i.addOpacity(L,0),s=["interpolate",["linear"],["heatmap-density"],0,M];for(l=1;l<m.length;l++)s.push(m[l][0],m[l][1]);var E=["interpolate",["linear"],["get","z"],P.min,0,P.max,1];return R.extendFlat(f.heatmap.paint,{"heatmap-weight":T?E:1/(P.max-P.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(G,H,e){var g=e(3400),R=e(27260),i=e(33928);G.exports=function(S,v,d,r){function t(u,l){return g.coerce(S,v,i,u,l)}var a=t("lon")||[],n=t("lat")||[],f=Math.min(a.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),R(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(G,H,e){var g=e(54460),R=e(63312).hoverPoints,i=e(63312).getExtraText;G.exports=function(S,v,d){var r=R(S,v,d);if(r){var t=r[0],a=t.cd,n=a[0].trace,f=a[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=g.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=i(n,f,a[0].t.labels),[t]}}},15088:function(G,H,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,R){for(var i=R.getMapLayers(),C=0;C<i.length;C++){var S=i[C],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,H,e){var g=e(4629),R=e(47552).traceLayerPrefix;function i(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",R+v+"-heatmap"]],this.below=null}var C=i.prototype;C.update=function(S){var v=this.subplot,d=this.layerList,r=g(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var a=0;a<d.length;a++){var n=d[a],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},C._addLayers=function(S,v){for(var d=this.subplot,r=this.layerList,t=this.sourceId,a=0;a<r.length;a++){var n=r[a],f=n[0],u=S[f];d.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},C._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,d=v.length-1;d>=0;d--)S.removeLayer(v[d][1])},C.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},G.exports=function(v,d){var r=d[0].trace,t=new i(v,r.uid),a=t.sourceId,n=g(d),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(G,H,e){var g=e(3400);G.exports=function(i,C){for(var S=0;S<i.length;S++)i[S].i=S;g.mergeArray(C.text,i,"tx"),g.mergeArray(C.hovertext,i,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,i,"mo"),g.mergeArray(v.color,i,"mc");var d=v.line;d&&(g.mergeArray(d.color,i,"mlc"),g.mergeArrayCastPositive(d.width,i,"mlw"))}}},20088:function(G,H,e){var g=e(20832),R=e(52904).line,i=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:S({},{keys:d.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:a(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},R.color,{dflt:t.defaultLine}),width:r({},R.width,{dflt:0,editType:"plot"}),dash:R.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder};function a(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,H,e){var g=e(54460),R=e(1220),i=e(74248),C=e(4500),S=e(39032).BADNUM;G.exports=function(r,t){var a=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,y,h,T,c,o;t.orientation==="h"?(f=a.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),y=R(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y"),l=a.makeCalcdata(t,"x"),y=R(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=y.vals;var p=Math.min(u.length,f.length),x=new Array(p);for(t._base=[],c=0;c<p;c++){f[c]<0&&(f[c]=S);var b=!1;f[c]!==S&&c+1<p&&f[c+1]!==S&&(b=!0),o=x[c]={p:u[c],s:f[c],cNext:b},t._base[c]=-.5*o.s,h&&(x[c].orig_p=l[c],x[c][T+"End"]=y.ends[c],x[c][T+"Start"]=y.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(o.s),o.begR=v(o.s)/v(x[0].s)}var P;for(c=0;c<p;c++)o=x[c],o.s!==S&&(o.sumR=o.s/x[0].vTotal,o.difR=P!==void 0?o.s/P:1,P=o.s);return i(x,t),C(x,t),x};function v(d){return d===S?0:d}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,H,e){var g=e(96376).setGroupPositions;G.exports=function(i,C){var S=i._fullLayout,v=i._fullData,d=i.calcdata,r=C.xaxis,t=C.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var y=v[l],h=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(u=d[l],h?f.push(u):n.push(u),a.push(u))}var T={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(g(i,r,t,n,T),g(i,t,r,f,T),l=0;l<a.length;l++){u=a[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(G,H,e){var g=e(3400),R=e(20011),i=e(31508).handleText,C=e(43980),S=e(31147),v=e(20088),d=e(76308);function r(n,f,u,l){function y(b,P){return g.coerce(n,f,v,b,P)}var h=C(n,f,l,y);if(!h){f.visible=!1;return}S(n,f,l,y),y("xhoverformat"),y("yhoverformat"),y("orientation",f.y&&!f.x?"v":"h"),y("offset"),y("width");var T=y("text");y("hovertext"),y("hovertemplate");var c=y("textposition");i(n,f,l,y,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&y("textinfo",g.isArrayOrTypedArray(T)?"text+value":"value");var o=y("marker.color",u);y("marker.line.color",d.defaultLine),y("marker.line.width");var p=y("connector.visible");if(p){y("connector.fillcolor",t(o));var x=y("connector.line.width");x&&(y("connector.line.color"),y("connector.line.dash"))}y("zorder")}function t(n){var f=g.isArrayOrTypedArray(n)?"#000":n;return d.addOpacity(f,.5*d.opacity(f))}function a(n,f){var u,l;function y(T){return g.coerce(l._input,l,v,T)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],u=l._input,R(u,l,f,y)}G.exports={supplyDefaults:r,crossTraceDefaults:a}},34580:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(G,H,e){var g=e(76308).opacity,R=e(63400).hoverOnBars,i=e(3400).formatPercent;G.exports=function(v,d,r,t,a){var n=R(v,d,r,t,a);if(n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",y=n.index,h=f[y],T=l?"x":"y";n[T+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=i(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=i(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=i(h.sumR,1);var c=h.hi||u.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var p=c==="all",x=c.split("+"),b=function(P){return p||x.indexOf(P)!==-1};b("percent initial")&&o.push(n.percentInitialLabel+" of initial"),b("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),b("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=C(u,h),[n]}};function C(S,v){var d=S.marker,r=v.mc||d.color,t=v.mlc||d.line.color,a=v.mlw||d.line.width;if(g(r))return r;if(g(t)&&a)return t}},94704:function(G,H,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,H,e){var g=e(3400),R=e(7076);G.exports=function(i,C,S){var v=!1;function d(a,n){return g.coerce(i,C,R,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(d("funnelmode"),d("funnelgap",.2),d("funnelgroupgap"))}},42200:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,f,u,l){var y=n._fullLayout;v("funnel",y),d(n,f,u,l),r(n,f,u,l),S.plot(n,f,u,l,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function d(a,n,f,u){var l=n.xaxis,y=n.yaxis;R.makeTraceGroups(u,f,"trace bars").each(function(h){var T=g.select(this),c=h[0].trace,o=R.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var p=c.orientation==="h",x=o.selectAll("g.region").data(R.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var b=x.size();x.each(function(P,m){if(!(m!==b-1&&!P.cNext)){var L=t(P,l,y,p),M=L[0],s=L[1],E="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&M[2]!==C&&s[2]!==C&&M[3]!==C&&s[3]!==C&&(p?E+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2]+"H"+M[3]+"L"+M[1]+","+s[1]+"Z":E+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3]+"V"+s[2]+"L"+M[1]+","+s[0]+"Z"),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,a)}})})}function r(a,n,f,u){var l=n.xaxis,y=n.yaxis;R.makeTraceGroups(u,f,"trace bars").each(function(h){var T=g.select(this),c=h[0].trace,o=R.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var p=c.orientation==="h",x=o.selectAll("g.line").data(R.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var b=x.size();x.each(function(P,m){if(!(m!==b-1&&!P.cNext)){var L=t(P,l,y,p),M=L[0],s=L[1],E="";M[3]!==void 0&&s[3]!==void 0&&(p?(E+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2],E+="M"+M[1]+","+s[1]+"L"+M[3]+","+s[2]):(E+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3],E+="M"+M[1]+","+s[0]+"L"+M[2]+","+s[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,a)}})})}function t(a,n,f,u){var l=[],y=[],h=u?n:f,T=u?f:n;return l[0]=h.c2p(a.s0,!0),y[0]=T.c2p(a.p0,!0),l[1]=h.c2p(a.s1,!0),y[1]=T.c2p(a.p1,!0),l[2]=h.c2p(a.nextS0,!0),y[2]=T.c2p(a.nextP0,!0),l[3]=h.c2p(a.nextS1,!0),y[3]=T.c2p(a.nextP1,!0),u?[l,y]:[y,l]}},44544:function(G,H,e){var g=e(33428),R=e(43616),i=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,d=S.styleTextPoints;function r(t,a,n){var f=n||g.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),y=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=y.marker;g.select(this).call(i.fill,h.mc||T.color).call(i.stroke,h.mlc||T.line.color).call(R.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",y.selectedpoints&&!h.selected?C:1)}}),d(l,y,t),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(i.fill,y.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=y.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},22332:function(G,H,e){var g=e(74996),R=e(45464),i=e(86968).u,C=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},R.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,H,e){var g=e(7316);H.name="funnelarea",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},54e3:function(G,H,e){var g=e(45768);function R(C,S){return g.calc(C,S)}function i(C){g.crossTraceCalc(C,{type:"funnelarea"})}G.exports={calc:R,crossTraceCalc:i}},92688:function(G,H,e){var g=e(3400),R=e(22332),i=e(86968).Q,C=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,a,n){function f(b,P){return g.coerce(r,t,R,b,P)}var u=f("labels"),l=f("values"),y=S(u,l),h=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var T=f("text"),c=f("texttemplate"),o;if(c||(o=f("textinfo",Array.isArray(T)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||o&&o!=="none"){var p=f("textposition");C(r,t,n,f,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&f("textposition","none");i(t,n,f);var x=f("title.text");x&&(f("title.position"),g.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(G,H,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,H,e){var g=e(85204).hiddenlabels;G.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,H,e){var g=e(3400),R=e(61280);G.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(G,H,e){var g=e(33428),R=e(43616),i=e(3400),C=i.strScale,S=i.strTranslate,v=e(72736),d=e(98184),r=d.toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,y=u.determineInsideTextFont,h=u.layoutAreas,T=u.prerenderTitles,c=u.positionTitleOutside,o=u.formatSliceLabel;G.exports=function(m,L){var M=m._context.staticPlot,s=m._fullLayout;n("funnelarea",s),T(L,m),h(L,s._size),i.makeTraceGroups(s._funnelarealayer,L,"trace").each(function(E){var w=g.select(this),_=E[0],D=_.trace;b(E),w.each(function(){var N=g.select(this).selectAll("g.slice").data(E);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(F,U){if(F.hidden){g.select(this).selectAll("path,g").remove();return}F.pointNumber=F.i,F.curveNumber=D.index;var B=_.cx,V=_.cy,j=g.select(this),Q=j.selectAll("path.surface").data([F]);Q.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),j.call(l,m,E);var ee="M"+(B+F.TR[0])+","+(V+F.TR[1])+p(F.TR,F.BR)+p(F.BR,F.BL)+p(F.BL,F.TL)+"Z";Q.attr("d",ee),o(m,F,_);var re=f.castOption(D.textposition,F.pts),ue=j.selectAll("g.slicetext").data(F.text&&re!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var J=i.ensureSingle(g.select(this),"text","",function(se){se.attr("data-notex",1)}),X=i.ensureUniformFontSize(m,y(D,F,s.font));J.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(R.font,X).call(v.convertToTspans,m);var ne=R.bBox(J.node()),Y,oe,le,Z=Math.min(F.BL[1],F.BR[1])+V,$=Math.max(F.TL[1],F.TR[1])+V;oe=Math.max(F.TL[0],F.BL[0])+B,le=Math.min(F.TR[0],F.BR[0])+B,Y=r(oe,le,Z,$,ne,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=X.size,a(D.type,Y,s),E[U].transform=Y,i.setTransormAndDisplay(J,Y)})});var z=g.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var F=i.ensureSingle(g.select(this),"text","",function(V){V.attr("data-notex",1)}),U=D.title.text;D._meta&&(U=i.templateString(U,D._meta)),F.text(U).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(R.font,D.title.font).call(v.convertToTspans,m);var B=c(_,s._size);F.attr("transform",S(B.x,B.y)+C(Math.min(1,B.scale))+S(B.tx,B.ty))})})})};function p(P,m){var L=m[0]-P[0],M=m[1]-P[1];return"l"+L+","+M}function x(P,m){return[.5*(P[0]+m[0]),.5*(P[1]+m[1])]}function b(P){if(!P.length)return;var m=P[0],L=m.trace,M=L.aspectratio,s=L.baseratio;s>.999&&(s=.999);var E=Math.pow(s,2),w=m.vTotal,_=w*E/(1-E),D=w,N=_/w;function z(){var ae=Math.sqrt(N);return{x:ae,y:-ae}}function F(){var ae=z();return[ae.x,ae.y]}var U,B=[];B.push(F());var V,j;for(V=P.length-1;V>-1;V--)if(j=P[V],!j.hidden){var Q=j.v/D;N+=Q,B.push(F())}var ee=1/0,re=-1/0;for(V=0;V<B.length;V++)U=B[V],ee=Math.min(ee,U[1]),re=Math.max(re,U[1]);for(V=0;V<B.length;V++)B[V][1]-=(re+ee)/2;var ue=B[B.length-1][0],J=m.r,X=(re-ee)/2,ne=J/ue,Y=J/X*M;for(m.r=Y*X,V=0;V<B.length;V++)B[V][0]*=ne,B[V][1]*=Y;U=B[0];var oe=[-U[0],U[1]],le=[U[0],U[1]],Z=0;for(V=P.length-1;V>-1;V--)if(j=P[V],!j.hidden){Z+=1;var $=B[Z][0],se=B[Z][1];j.TL=[-$,se],j.TR=[$,se],j.BL=oe,j.BR=le,j.pxmid=x(j.TR,j.BR),oe=j.TL,le=j.TR}}},62096:function(G,H,e){var g=e(33428),R=e(10528),i=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");i(S,v,"funnelarea"),v.each(function(d){var r=d[0],t=r.trace,a=g.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){g.select(this).call(R,n,t,S)})})}},83328:function(G,H,e){var g=e(52904),R=e(45464),i=e(25376),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},R.showlegend,{dflt:!1}),zorder:g.zorder},{transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,H,e){var g=e(24040),R=e(3400),i=e(54460),C=e(1220),S=e(55480),v=e(47128),d=e(2872),r=e(26136),t=e(70448),a=e(11240),n=e(35744),f=e(39032).BADNUM;G.exports=function(h,T){var c=i.getFromId(h,T.xaxis||"x"),o=i.getFromId(h,T.yaxis||"y"),p=g.traceIs(T,"contour"),x=g.traceIs(T,"histogram"),b=g.traceIs(T,"gl2d"),P=p?"best":T.zsmooth,m,L,M,s,E,w,_,D,N,z,F;if(c._minDtick=0,o._minDtick=0,x)F=S(h,T),s=F.orig_x,m=F.x,L=F.x0,M=F.dx,D=F.orig_y,E=F.y,w=F.y0,_=F.dy,N=F.z;else{var U=T.z;R.isArray1D(U)?(d(T,c,o,"x","y",["z"]),m=T._x,E=T._y,U=T._z):(s=T.x?c.makeCalcdata(T,"x"):[],D=T.y?o.makeCalcdata(T,"y"):[],m=C(T,c,"x",s).vals,E=C(T,o,"y",D).vals,T._x=m,T._y=E),L=T.x0,M=T.dx,w=T.y0,_=T.dy,N=r(U,T,c,o)}(c.rangebreaks||o.rangebreaks)&&(N=l(m,E,N),x||(m=u(m),E=u(E),T._x=m,T._y=E)),!x&&(p||T.connectgaps)&&(T._emptypoints=a(N),t(N,T._emptypoints));function B(ne){P=T._input.zsmooth=T.zsmooth=!1,R.warn('cannot use zsmooth: "fast": '+ne)}function V(ne){if(ne.length>1){var Y=(ne[ne.length-1]-ne[0])/(ne.length-1),oe=Math.abs(Y/100);for(z=0;z<ne.length-1;z++)if(Math.abs(ne[z+1]-ne[z]-Y)>oe)return!1}return!0}T._islinear=!1,c.type==="log"||o.type==="log"?P==="fast"&&B("log axis found"):V(m)?V(E)?T._islinear=!0:P==="fast"&&B("y scale is not linear"):P==="fast"&&B("x scale is not linear");var j=R.maxRowLength(N),Q=T.xtype==="scaled"?"":m,ee=n(T,Q,L,M,j,c),re=T.ytype==="scaled"?"":E,ue=n(T,re,w,_,N.length,o);b||(T._extremes[c._id]=i.findExtremes(c,ee),T._extremes[o._id]=i.findExtremes(o,ue));var J={x:ee,y:ue,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(J.orig_x=s),T.yperiodalignment&&D&&(J.orig_y=D),Q&&Q.length===ee.length-1&&(J.xCenter=Q),re&&re.length===ue.length-1&&(J.yCenter=re),x&&(J.xRanges=F.xRanges,J.yRanges=F.yRanges,J.pts=F.pts),p||v(h,T,{vals:N,cLetter:"z"}),p&&T.contours&&T.contours.coloring==="heatmap"){var X={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};J.xfill=n(X,Q,L,M,j,c),J.yfill=n(X,re,w,_,N.length,o)}return[J]};function u(y){for(var h=[],T=y.length,c=0;c<T;c++){var o=y[c];o!==f&&h.push(o)}return h}function l(y,h,T){for(var c=[],o=-1,p=0;p<T.length;p++)if(h[p]!==f){o++,c[o]=[];for(var x=0;x<T[p].length;x++)y[x]!==f&&c[o].push(T[p][x])}return c}},26136:function(G,H,e){var g=e(38248),R=e(3400),i=e(39032).BADNUM;G.exports=function(S,v,d,r){var t,a,n,f,u,l;function y(x){if(g(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<S.length;u++)t=Math.max(t,S[u].length);if(t===0)return!1;n=function(x){return x.length},f=function(x,b,P){return(x[P]||[])[b]}}else t=S.length,n=function(x,b){return x[b].length},f=function(x,b,P){return(x[b]||[])[P]};var h=function(x,b,P){return b===i||P===i?i:f(x,b,P)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var b=x._id.charAt(0),P={},m=v["_"+b+"CategoryMap"]||v[b];for(u=0;u<m.length;u++)P[m[u]]=u;return function(L){var M=P[x._categories[L]];return M+1?M:i}}else return R.identity}var c=T(d),o=T(r);r&&r.type==="category"&&(t=r._categories.length);var p=new Array(t);for(u=0;u<t;u++)for(d&&d.type==="category"?a=d._categories.length:a=n(S,u),p[u]=new Array(a),l=0;l<a;l++)p[u][l]=y(h(S,o(u),c(l)));return p}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,H,e){var g=e(3400),R=e(39032).BADNUM,i=e(1220);G.exports=function(S,v,d,r,t,a){var n=S._length,f=v.makeCalcdata(S,r),u=d.makeCalcdata(S,t);f=i(S,v,r,f).vals,u=i(S,d,t,u).vals;var l=S.text,y=l!==void 0&&g.isArray1D(l),h=S.hovertext,T=h!==void 0&&g.isArray1D(h),c,o,p=g.distinctVals(f),x=p.vals,b=g.distinctVals(u),P=b.vals,m=[],L,M,s=P.length,E=x.length;for(c=0;c<a.length;c++)m[c]=g.init2dArray(s,E);y&&(L=g.init2dArray(s,E)),T&&(M=g.init2dArray(s,E));var w=g.init2dArray(s,E);for(c=0;c<n;c++)if(f[c]!==R&&u[c]!==R){var _=g.findBin(f[c]+p.minDiff/2,x),D=g.findBin(u[c]+b.minDiff/2,P);for(o=0;o<a.length;o++){var N=a[o],z=S[N],F=m[o];F[D][_]=z[c],w[D][_]=c}y&&(L[D][_]=l[c]),T&&(M[D][_]=h[c])}for(S["_"+r]=x,S["_"+t]=P,o=0;o<a.length;o++)S["_"+a[o]]=m[o];y&&(S._text=L),T&&(S._hovertext=M),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=x.map(function(U){return v._categories[U]})),d&&d.type==="category"&&(S["_"+t+"CategoryMap"]=P.map(function(U){return d._categories[U]})),S._after2before=w}},24480:function(G,H,e){var g=e(3400),R=e(51264),i=e(39096),C=e(31147),S=e(82748),v=e(27260),d=e(83328);G.exports=function(t,a,n,f){function u(y,h){return g.coerce(t,a,d,y,h)}var l=R(t,a,u,f);if(!l){a.visible=!1;return}C(t,a,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),i(u,f),S(t,a,u,f),u("hoverongaps"),u("connectgaps",g.isArray1D(a.z)&&a.zsmooth!==!1),v(t,a,f,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(G,H,e){var g=e(3400).maxRowLength;G.exports=function(i){var C=[],S={},v=[],d=i[0],r=[],t=[0,0,0],a=g(i),n,f,u,l,y,h,T,c;for(f=0;f<i.length;f++)for(n=r,r=d,d=i[f+1]||[],u=0;u<a;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(d[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===i.length-1&&h++,u===r.length-1&&h++,h<4&&(S[[f,u]]=[f,u,h]),C.push([f,u,h])):v.push([f,u]));for(;v.length;){for(T={},c=!1,y=v.length-1;y>=0;y--)l=v[y],f=l[0],u=l[1],h=((S[[f-1,u]]||t)[2]+(S[[f+1,u]]||t)[2]+(S[[f,u-1]]||t)[2]+(S[[f,u+1]]||t)[2])/20,h&&(T[l]=[f,u,h],v.splice(y,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in T)S[l]=T[l],C.push(T[l])}return C.sort(function(o,p){return p[2]-o[2]})}},55512:function(G,H,e){var g=e(93024),R=e(3400),i=R.isArrayOrTypedArray,C=e(54460),S=e(8932).extractOpts;G.exports=function(d,r,t,a,n){n||(n={});var f=n.isContour,u=d.cd[0],l=u.trace,y=d.xa,h=d.ya,T=u.x,c=u.y,o=u.z,p=u.xCenter,x=u.yCenter,b=u.zmask,P=l.zhoverformat,m=T,L=c,M,s,E,w;if(d.index!==!1){try{E=Math.round(d.index[1]),w=Math.round(d.index[0])}catch{R.error("Error hovering on heatmap, pointNumber must be [row,col], found:",d.index);return}if(E<0||E>=o[0].length||w<0||w>o.length)return}else{if(g.inbox(r-T[0],r-T[T.length-1],0)>0||g.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var _;for(m=[2*T[0]-T[1]],_=1;_<T.length;_++)m.push((T[_]+T[_-1])/2);for(m.push([2*T[T.length-1]-T[T.length-2]]),L=[2*c[0]-c[1]],_=1;_<c.length;_++)L.push((c[_]+c[_-1])/2);L.push([2*c[c.length-1]-c[c.length-2]])}E=Math.max(0,Math.min(m.length-2,R.findBin(r,m))),w=Math.max(0,Math.min(L.length-2,R.findBin(t,L)))}var D=y.c2p(T[E]),N=y.c2p(T[E+1]),z=h.c2p(c[w]),F=h.c2p(c[w+1]),U,B;f?(U=u.orig_x||T,B=u.orig_y||c,N=D,M=U[E],F=z,s=B[w]):(U=u.orig_x||p||T,B=u.orig_y||x||c,M=p?U[E]:(U[E]+U[E+1])/2,s=x?B[w]:(B[w]+B[w+1])/2,y&&y.type==="category"&&(M=T[E]),h&&h.type==="category"&&(s=c[w]),l.zsmooth&&(D=N=y.c2p(M),z=F=h.c2p(s)));var V=o[w][E];if(b&&!b[w][E]&&(V=void 0),!(V===void 0&&!l.hoverongaps)){var j;i(u.hovertext)&&i(u.hovertext[w])?j=u.hovertext[w][E]:i(u.text)&&i(u.text[w])&&(j=u.text[w][E]);var Q=S(l),ee={type:"linear",range:[Q.min,Q.max],hoverformat:P,_separators:y._separators,_numFormat:y._numFormat},re=C.tickText(ee,V,"hover").text;return[R.extendFlat(d,{index:l._after2before?l._after2before[w][E]:[w,E],distance:d.maxHoverDistance,spikeDistance:d.maxSpikeDistance,x0:D,x1:N,y0:z,y1:F,xLabelVal:M,yLabelVal:s,zLabelVal:V,zLabel:re,text:j})]}}},81932:function(G,H,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,H,e){var g=e(3400),R=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(d,r){var t=1,a;for(S(d,r),a=0;a<r.length&&!(r[a][2]<4);a++);for(r=r.slice(a),a=0;a<100&&t>R;a++)t=S(d,r,C(t));return t>R&&g.log("interp2d didn't converge quickly",t),d};function S(v,d,r){var t=0,a,n,f,u,l,y,h,T,c,o,p,x,b;for(u=0;u<d.length;u++){for(a=d[u],n=a[0],f=a[1],p=v[n][f],o=0,c=0,l=0;l<4;l++)y=i[l],h=v[n+y[0]],h&&(T=h[f+y[1]],T!==void 0&&(o===0?x=b=T:(x=Math.min(x,T),b=Math.max(b,T)),c++,o+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=o/c,p===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*p,b>x&&(t=Math.max(t,Math.abs(v[n][f]-p)/(b-x))))}return t}},39096:function(G,H,e){var g=e(3400);G.exports=function(i,C){i("texttemplate");var S=g.extendFlat({},C.font,{color:"auto",size:"auto"});g.coerceFont(i,"textfont",S)}},35744:function(G,H,e){var g=e(24040),R=e(3400).isArrayOrTypedArray;G.exports=function(C,S,v,d,r,t){var a=[],n=g.traceIs(C,"contour"),f=g.traceIs(C,"histogram"),u=g.traceIs(C,"gl2d"),l,y,h,T=R(S)&&S.length>1;if(T&&!f&&t.type!=="category"){var c=S.length;if(c<=r){if(n||u)a=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?a=[.5*S[0],2*S[0]]:a=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(a=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],h=1;h<c;h++)a.push(Math.sqrt(S[h-1]*S[h]));a.push(Math.pow(S[c-1],1.5)/Math.pow(S[c-2],.5))}else{for(a=[1.5*S[0]-.5*S[1]],h=1;h<c;h++)a.push((S[h-1]+S[h])*.5);a.push(1.5*S[c-1]-.5*S[c-2])}if(c<r){var o=a[a.length-1],p;if(t.type==="log")for(p=o/a[a.length-2],h=c;h<r;h++)o*=p,a.push(o);else for(p=o-a[a.length-2],h=c;h<r;h++)o+=p,a.push(o)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var x=C[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,x);else if(R(S)&&S.length===1)l=S[0];else if(v===void 0)l=0;else{var b=t.type==="log"?t.d2c:t.r2c;l=b(v,0,x)}for(y=d||1,h=n||u?0:-.5;h<r;h++)a.push(l+y*h)}return a}},41420:function(G,H,e){var g=e(33428),R=e(49760),i=e(24040),C=e(43616),S=e(54460),v=e(3400),d=e(72736),r=e(76688),t=e(76308),a=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,y=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(P){return P.selectAll("g."+T)}function o(P){c(P).remove()}G.exports=function(P,m,L,M){var s=m.xaxis,E=m.yaxis;v.makeTraceGroups(M,L,"hm").each(function(w){var _=g.select(this),D=w[0],N=D.trace,z=N.xgap||0,F=N.ygap||0,U=D.z,B=D.x,V=D.y,j=D.xCenter,Q=D.yCenter,ee=i.traceIs(N,"contour"),re=ee?"best":N.zsmooth,ue=U.length,J=v.maxRowLength(U),X=!1,ne=!1,Y,oe,le,Z,$,se,ae,he;for(se=0;Y===void 0&&se<B.length-1;)Y=s.c2p(B[se]),se++;for(se=B.length-1;oe===void 0&&se>0;)oe=s.c2p(B[se]),se--;for(oe<Y&&(le=oe,oe=Y,Y=le,X=!0),se=0;Z===void 0&&se<V.length-1;)Z=E.c2p(V[se]),se++;for(se=V.length-1;$===void 0&&se>0;)$=E.c2p(V[se]),se--;$<Z&&(le=Z,Z=$,$=le,ne=!0),ee&&(j=B,Q=V,B=D.xfill,V=D.yfill);var me="default";if(re?me=re==="best"?"smooth":"fast":N._islinear&&z===0&&F===0&&y()&&(me="fast"),me!=="fast"){var Me=re==="best"?0:.5;Y=Math.max(-Me*s._length,Y),oe=Math.min((1+Me)*s._length,oe),Z=Math.max(-Me*E._length,Z),$=Math.min((1+Me)*E._length,$)}var Te=Math.round(oe-Y),Pe=Math.round($-Z),be=Y>=s._length||oe<=0||Z>=E._length||$<=0;if(be){var Ee=_.selectAll("image").data([]);Ee.exit().remove(),o(_);return}var xe,Ce;me==="fast"?(xe=J,Ce=ue):(xe=Te,Ce=Pe);var Ue=document.createElement("canvas");Ue.width=xe,Ue.height=Ce;var Ne=Ue.getContext("2d",{willReadFrequently:!0}),De=n(N,{noNumericCheck:!0,returnArray:!0}),He,at;me==="fast"?(He=X?function(zr){return J-1-zr}:v.identity,at=ne?function(zr){return ue-1-zr}:v.identity):(He=function(zr){return v.constrain(Math.round(s.c2p(B[zr])-Y),0,Te)},at=function(zr){return v.constrain(Math.round(E.c2p(V[zr])-Z),0,Pe)});var vt=at(0),ot=[vt,vt],et=X?0:1,ct=ne?0:1,ht=0,gt=0,xt=0,Mt=0,tt,Oe,Xe,Ze,We;function ze(zr,gn){if(zr!==void 0){var dn=De(zr);return dn[0]=Math.round(dn[0]),dn[1]=Math.round(dn[1]),dn[2]=Math.round(dn[2]),ht+=gn,gt+=dn[0]*gn,xt+=dn[1]*gn,Mt+=dn[2]*gn,dn}return[0,0,0,0]}function ke(zr,gn,dn,Rn){var In=zr[dn.bin0];if(In===void 0)return ze(void 0,1);var Wn=zr[dn.bin1],oa=gn[dn.bin0],ma=gn[dn.bin1],Ta=Wn-In||0,Yn=oa-In||0,Qn;return Wn===void 0?ma===void 0?Qn=0:oa===void 0?Qn=2*(ma-In):Qn=(2*ma-oa-In)*2/3:ma===void 0?oa===void 0?Qn=0:Qn=(2*In-Wn-oa)*2/3:oa===void 0?Qn=(2*ma-Wn-In)*2/3:Qn=ma+In-Wn-oa,ze(In+dn.frac*Ta+Rn.frac*(Yn+dn.frac*Qn))}if(me!=="default"){var je=0,Ie;try{Ie=new Uint8Array(xe*Ce*4)}catch{Ie=new Array(xe*Ce*4)}if(me==="smooth"){var pe=j||B,we=Q||V,Ve=new Array(pe.length),Qe=new Array(we.length),it=new Array(Te),st=j?x:p,Wt=Q?x:p,jt,Tt,Lt;for(se=0;se<pe.length;se++)Ve[se]=Math.round(s.c2p(pe[se])-Y);for(se=0;se<we.length;se++)Qe[se]=Math.round(E.c2p(we[se])-Z);for(se=0;se<Te;se++)it[se]=st(se,Ve);for(ae=0;ae<Pe;ae++)for(jt=Wt(ae,Qe),Tt=U[jt.bin0],Lt=U[jt.bin1],se=0;se<Te;se++,je+=4)We=ke(Tt,Lt,it[se],jt),b(Ie,je,We)}else for(ae=0;ae<ue;ae++)for(Ze=U[ae],ot=at(ae),se=0;se<J;se++)We=ze(Ze[se],1),je=(ot*J+He(se))*4,b(Ie,je,We);var Xt=Ne.createImageData(xe,Ce);try{Xt.data.set(Ie)}catch{var Tr=Xt.data,yt=Tr.length;for(ae=0;ae<yt;ae++)Tr[ae]=Ie[ae]}Ne.putImageData(Xt,0,0)}else{var Kt=Math.floor(z/2),Jt=Math.floor(F/2);for(ae=0;ae<ue;ae++)if(Ze=U[ae],ot.reverse(),ot[ct]=at(ae+1),!(ot[0]===ot[1]||ot[0]===void 0||ot[1]===void 0))for(Oe=He(0),tt=[Oe,Oe],se=0;se<J;se++)tt.reverse(),tt[et]=He(se+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(Xe=Ze[se],We=ze(Xe,(tt[1]-tt[0])*(ot[1]-ot[0])),Ne.fillStyle="rgba("+We.join(",")+")",Ne.fillRect(tt[0]+Kt,ot[0]+Jt,tt[1]-tt[0]-z,ot[1]-ot[0]-F))}gt=Math.round(gt/ht),xt=Math.round(xt/ht),Mt=Math.round(Mt/ht);var yr=R("rgb("+gt+","+xt+","+Mt+")");P._hmpixcount=(P._hmpixcount||0)+ht,P._hmlumcount=(P._hmlumcount||0)+ht*yr.getLuminance();var ur=_.selectAll("image").data(w);ur.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),ur.attr({height:Pe,width:Te,x:Y,y:Z,"xlink:href":Ue.toDataURL("image/png")}),me==="fast"&&!re&&ur.attr("style",h),o(_);var mt=N.texttemplate;if(mt){var lt=a(N),bt={type:"linear",range:[lt.min,lt.max],_separators:s._separators,_numFormat:s._numFormat},Et=N.type==="histogram2dcontour",It=N.type==="contour",Ht=It?1:0,Ut=It?ue-1:ue,Bt=It?1:0,$t=It?J-1:J,fr=[];for(se=Ht;se<Ut;se++){var Zt;if(It)Zt=D.y[se];else if(Et){if(se===0||se===ue-1)continue;Zt=D.y[se]}else if(D.yCenter)Zt=D.yCenter[se];else{if(se+1===ue&&D.y[se+1]===void 0)continue;Zt=(D.y[se]+D.y[se+1])/2}var vr=Math.round(E.c2p(Zt));if(!(0>vr||vr>E._length))for(ae=Bt;ae<$t;ae++){var Ye;if(It)Ye=D.x[ae];else if(Et){if(ae===0||ae===J-1)continue;Ye=D.x[ae]}else if(D.xCenter)Ye=D.xCenter[ae];else{if(ae+1===J&&D.x[ae+1]===void 0)continue;Ye=(D.x[ae]+D.x[ae+1])/2}var Ge=Math.round(s.c2p(Ye));if(!(0>Ge||Ge>s._length)){var zt=r({x:Ye,y:Zt},N,P._fullLayout);zt.x=Ye,zt.y=Zt;var Dt=D.z[se][ae];Dt===void 0?(zt.z="",zt.zLabel=""):(zt.z=Dt,zt.zLabel=S.tickText(bt,Dt,"hover").text);var Qt=D.text&&D.text[se]&&D.text[se][ae];(Qt===void 0||Qt===!1)&&(Qt=""),zt.text=Qt;var nr=v.texttemplateString(mt,zt,P._fullLayout._d3locale,zt,N._meta||{});if(nr){var ir=nr.split("<br>"),tr=ir.length,Ft=0;for(he=0;he<tr;he++)Ft=Math.max(Ft,ir[he].length);fr.push({l:tr,c:Ft,t:nr,x:Ge,y:vr,z:Dt})}}}}var cr=N.textfont,pr=cr.size,br=P._fullLayout.font.size;if(!pr||pr==="auto"){var hr=1/0,Vr=1/0,Pr=0,Ir=0;for(he=0;he<fr.length;he++){var sn=fr[he];if(Pr=Math.max(Pr,sn.l),Ir=Math.max(Ir,sn.c),he<fr.length-1){var an=fr[he+1],En=Math.abs(an.x-sn.x),Mn=Math.abs(an.y-sn.y);En&&(hr=Math.min(hr,En)),Mn&&(Vr=Math.min(Vr,Mn))}}!isFinite(hr)||!isFinite(Vr)?pr=br:(hr-=z,Vr-=F,hr/=Ir,Vr/=Pr,hr/=l/2,Vr/=l,pr=Math.min(Math.floor(hr),Math.floor(Vr),br))}if(pr<=0||!isFinite(pr))return;var xr=function(zr){return zr.x},_r=function(zr){return zr.y-pr*(zr.l*l/2-1)},Yr=c(_).data(fr);Yr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(zr){var gn=g.select(this),dn=cr.color;(!dn||dn==="auto")&&(dn=t.contrast(zr.z===void 0?P._fullLayout.plot_bgcolor:"rgba("+De(zr.z).join()+")")),gn.attr("data-notex",1).call(d.positionText,xr(zr),_r(zr)).call(C.font,{family:cr.family,size:pr,color:dn,weight:cr.weight,style:cr.style,variant:cr.variant}).text(zr.t).call(d.convertToTspans,P)})}})};function p(P,m){var L=m.length-2,M=v.constrain(v.findBin(P,m),0,L),s=m[M],E=m[M+1],w=v.constrain(M+(P-s)/(E-s)-.5,0,L),_=Math.round(w),D=Math.abs(w-_);return!w||w===L||!D?{bin0:_,bin1:_,frac:0}:{bin0:_,frac:D,bin1:Math.round(_+D/(w-_))}}function x(P,m){var L=m.length-1,M=v.constrain(v.findBin(P,m),0,L),s=m[M],E=m[M+1],w=(P-s)/(E-s)||0;return w<=0?{bin0:M,bin1:M,frac:0}:w<.5?{bin0:M,bin1:M+1,frac:w}:{bin0:M+1,bin1:M,frac:1-w}}function b(P,m,L){P[m]=L[0],P[m+1]=L[1],P[m+2]=L[2],P[m+3]=Math.round(L[3]*255)}},41648:function(G,H,e){var g=e(33428);G.exports=function(i){g.select(i).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(G){G.exports=function(e,g,R){var i=R("zsmooth");i===!1&&(R("xgap"),R("ygap")),R("zhoverformat")}},51264:function(G,H,e){var g=e(38248),R=e(3400),i=e(24040);G.exports=function(d,r,t,a,n,f){var u=t("z");n=n||"x",f=f||"y";var l,y;if(u===void 0||!u.length)return 0;if(R.isArray1D(u)){l=t(n),y=t(f);var h=R.minRowLength(l),T=R.minRowLength(y);if(h===0||T===0)return 0;r._length=Math.min(h,T,u.length)}else{if(l=C(n,t),y=C(f,t),!S(u))return 0;t("transpose"),r._length=null}if(d.type==="heatmapgl")return!0;var c=i.getComponentMethod("calendars","handleTraceDefaults");return c(d,r,[n,f],a),!0};function C(v,d){var r=d(v),t=r?d(v+"type","array"):"scaled";return t==="scaled"&&(d(v+"0"),d("d"+v)),r}function S(v){for(var d=!0,r=!1,t=!1,a,n=0;n<v.length;n++){if(a=v[n],!R.isArrayOrTypedArray(a)){d=!1;break}a.length>0&&(r=!0);for(var f=0;f<a.length;f++)if(g(a[f])){t=!0;break}}return d&&r&&t}},74512:function(G,H,e){for(var g=e(83328),R=e(49084),i=e(92880).extendFlat,C=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},d=0;d<S.length;d++){var r=S[d];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,R("",{cLetter:"z",autoColorDflt:!1})),G.exports=C(v,"calc","nested")},84656:function(G,H,e){var g=e(67792).gl_heatmap2d,R=e(54460),i=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var S=C.prototype;S.handlePick=function(r){var t=this.options,a=t.shape,n=r.pointId,f=n%a[0],u=Math.floor(n/a[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var a=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=a.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:a.x[1]-a.x[0]},c={ppad:a.y[1]-a.y[0]}),r._extremes[y._id]=R.findExtremes(y,a.x,T),r._extremes[h._id]=R.findExtremes(h,a.y,c)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,a=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),y=0;y<f;y++){var h=t[y],T=i(h[1]);u[y]=a+h[0]*(n-a);for(var c=0;c<4;c++)l[4*y+c]=T[c]}return{colorLevels:u,colorValues:l}}function d(r,t,a){var n=new C(r,t.uid);return n.update(t,a),n}G.exports=d},86464:function(G,H,e){var g=e(3400),R=e(51264),i=e(27260),C=e(74512);G.exports=function(v,d,r,t){function a(f,u){return g.coerce(v,d,C,f,u)}var n=R(v,d,a,t);if(!n){d.visible=!1;return}a("text"),a("zsmooth"),i(v,d,t,a,{prefix:"",cLetter:"z"})}},45536:function(G,H,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,H,e){var g=e(20832),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(21776).Gw,S=e(25376),v=e(11120),d=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:R("x"),yhoverformat:R("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:d.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir},zorder:g.zorder}},2e3:function(G){G.exports=function(e,g){for(var R=e.length,i=0,C=0;C<R;C++)g[C]?(e[C]/=g[C],i+=e[C]):e[C]=null;return i}},11120:function(G){G.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,H,e){var g=e(38248);G.exports={count:function(R,i,C){return C[R]++,1},sum:function(R,i,C,S){var v=S[i];return g(v)?(v=Number(v),C[R]+=v,v):0},avg:function(R,i,C,S,v){var d=S[i];return g(d)&&(d=Number(d),C[R]+=d,v[R]++),0},min:function(R,i,C,S){var v=S[i];if(g(v))if(v=Number(v),g(C[R])){if(C[R]>v){var d=v-C[R];return C[R]=v,d}}else return C[R]=v,v;return 0},max:function(R,i,C,S){var v=S[i];if(g(v))if(v=Number(v),g(C[R])){if(C[R]<v){var d=v-C[R];return C[R]=v,d}}else return C[R]=v,v;return 0}}},67712:function(G,H,e){var g=e(39032),R=g.ONEAVGYEAR,i=g.ONEAVGMONTH,C=g.ONEDAY,S=g.ONEHOUR,v=g.ONEMIN,d=g.ONESEC,r=e(54460).tickIncrement;G.exports=function(l,y,h,T,c){var o=-1.1*y,p=-.1*y,x=l-p,b=h[0],P=h[1],m=Math.min(t(b+p,b+x,T,c),t(P+p,P+x,T,c)),L=Math.min(t(b+o,b+p,T,c),t(P+o,P+p,T,c)),M,s;if(m>L&&L<Math.abs(P-b)/4e3?(M=m,s=!1):(M=Math.min(m,L),s=!0),T.type==="date"&&M>C){var E=M===R?1:6,w=M===R?"M12":"M1";return function(_,D){var N=T.c2d(_,R,c),z=N.indexOf("-",E);z>0&&(N=N.substr(0,z));var F=T.d2c(N,0,c);if(F<_){var U=r(F,w,!1,c);(F+U)/2<_+l&&(F=U)}return D&&s?r(F,w,!0,c):F}}return function(_,D){var N=M*Math.round(_/M);return N+M/10<_&&N+M*.9<_+l&&(N+=M),D&&s&&(N-=M),N}};function t(u,l,y,h){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),c=y.type==="date",o=a(T,c),p=0;p<10;p++){var x=a(o*80,c);if(o===x)break;if(n(x,u,l,c,y,h))o=x;else break}return o}function a(u,l){return l&&u>d?u>C?u>R*1.1?R:u>i*1.1?i:C:u>S?S:u>v?v:d:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,y,h,T,c){if(h&&u>C){var o=f(l,T,c),p=f(y,T,c),x=u===R?0:1;return o[x]!==p[x]}return Math.floor(y/u)-Math.floor(l/u)>.1}function f(u,l,y){var h=l.c2d(u,R,y).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(G,H,e){var g=e(38248),R=e(3400),i=e(24040),C=e(54460),S=e(84664),v=e(16964),d=e(10648),r=e(2e3),t=e(67712);function a(y,h){var T=[],c=[],o=h.orientation==="h",p=C.getFromId(y,o?h.yaxis:h.xaxis),x=o?"y":"x",b={x:"y",y:"x"}[x],P=h[x+"calendar"],m=h.cumulative,L,M=n(y,h,p,x),s=M[0],E=M[1],w=typeof s.size=="string",_=[],D=w?_:s,N=[],z=[],F=[],U=0,B=h.histnorm,V=h.histfunc,j=B.indexOf("density")!==-1,Q,ee,re;m.enabled&&j&&(B=B.replace(/ ?density$/,""),j=!1);var ue=V==="max"||V==="min",J=ue?null:0,X=v.count,ne=d[B],Y=!1,oe=function(Ne){return p.r2c(Ne,0,P)},le;for(R.isArrayOrTypedArray(h[b])&&V!=="count"&&(le=h[b],Y=V==="avg",X=v[V]),L=oe(s.start),ee=oe(s.end)+(L-C.tickIncrement(L,s.size,!1,P))/1e6;L<ee&&T.length<1e6&&(Q=C.tickIncrement(L,s.size,!1,P),T.push((L+Q)/2),c.push(J),F.push([]),_.push(L),j&&N.push(1/(Q-L)),Y&&z.push(0),!(Q<=L));)L=Q;_.push(L),!w&&p.type==="date"&&(D={start:oe(D.start),end:oe(D.end),size:D.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var Z=h["_"+x+"bingroup"],$={leftGap:1/0,rightGap:1/0};Z&&(y._fullLayout._roundFnOpts[Z]||(y._fullLayout._roundFnOpts[Z]=$),$=y._fullLayout._roundFnOpts[Z]);var se=c.length,ae=!0,he=$.leftGap,me=$.rightGap,Me={};for(L=0;L<E.length;L++){var Te=E[L];re=R.findBin(Te,D),re>=0&&re<se&&(U+=X(re,L,c,le,z),ae&&F[re].length&&Te!==E[F[re][0]]&&(ae=!1),F[re].push(L),Me[L]=re,he=Math.min(he,Te-_[re]),me=Math.min(me,_[re+1]-Te))}$.leftGap=he,$.rightGap=me;var Pe;ae||(Pe=function(Ne,De){return function(){var He=y._fullLayout._roundFnOpts[Z];return t(He.leftGap,He.rightGap,_,p,P)(Ne,De)}}),Y&&(U=r(c,z)),ne&&ne(c,U,N),m.enabled&&l(c,m.direction,m.currentbin);var be=Math.min(T.length,c.length),Ee=[],xe=0,Ce=be-1;for(L=0;L<be;L++)if(c[L]){xe=L;break}for(L=be-1;L>=xe;L--)if(c[L]){Ce=L;break}for(L=xe;L<=Ce;L++)if(g(T[L])&&g(c[L])){var Ue={p:T[L],s:c[L],b:0};m.enabled||(Ue.pts=F[L],ae?Ue.ph0=Ue.ph1=F[L].length?E[F[L][0]]:T[L]:(h._computePh=!0,Ue.ph0=Pe(_[L]),Ue.ph1=Pe(_[L+1],!0))),Ee.push(Ue)}return Ee.length===1&&(Ee[0].width1=C.tickIncrement(Ee[0].p,s.size,!1,P)-Ee[0].p),S(Ee,h),R.isArrayOrTypedArray(h.selectedpoints)&&R.tagSelected(Ee,h,Me),Ee}function n(y,h,T,c,o){var p=c+"bins",x=y._fullLayout,b=h["_"+c+"bingroup"],P=x._histogramBinOpts[b],m=x.barmode==="overlay",L,M,s,E,w,_,D,N=function(Te){return T.r2c(Te,0,E)},z=function(Te){return T.c2r(Te,0,E)},F=T.type==="date"?function(Te){return Te||Te===0?R.cleanDate(Te,null,E):null}:function(Te){return g(Te)?Number(Te):null};function U(Te,Pe,be){Pe[Te+"Found"]?(Pe[Te]=F(Pe[Te]),Pe[Te]===null&&(Pe[Te]=be[Te])):(_[Te]=Pe[Te]=be[Te],R.nestedProperty(M[0],p+"."+Te).set(be[Te]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{M=P.traces;var B=[],V=!0,j=!1,Q=!1;for(L=0;L<M.length;L++)if(s=M[L],s.visible){var ee=P.dirs[L];w=s["_"+ee+"pos0"]=T.makeCalcdata(s,ee),B=R.concat(B,w),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(V?V=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),i.traceIs(s,"2dMap")&&(j=!0),s.type==="histogram2dcontour"&&(Q=!0))}E=M[0][c+"calendar"];var re=C.autoBin(B,T,P.nbins,j,E,P.sizeFound&&P.size),ue=M[0]._autoBin={};if(_=ue[P.dirs[0]]={},Q&&(P.size||(re.start=z(C.tickIncrement(N(re.start),re.size,!0,E))),P.end===void 0&&(re.end=z(C.tickIncrement(N(re.end),re.size,!1,E)))),m&&!i.traceIs(h,"2dMap")&&re._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[re,w,!0];re=f(y,h,T,c,p)}D=s.cumulative||{},D.enabled&&D.currentbin!=="include"&&(D.direction==="decreasing"?re.start=z(C.tickIncrement(N(re.start),re.size,!0,E)):re.end=z(C.tickIncrement(N(re.end),re.size,!1,E))),P.size=re.size,P.sizeFound||(_.size=re.size,R.nestedProperty(M[0],p+".size").set(re.size)),U("start",P,re),U("end",P,re)}w=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var J=h._input[p]||{},X=R.extendFlat({},P),ne=P.start,Y=T.r2l(J.start),oe=Y!==void 0;if((P.startFound||oe)&&Y!==T.r2l(ne)){var le=oe?Y:R.aggNums(Math.min,null,w),Z={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:P.size,tick0:ne,calendar:E,range:[le,C.tickIncrement(le,P.size,!1,E)].map(T.l2r)},$=C.tickFirst(Z);$>T.r2l(le)&&($=C.tickIncrement($,P.size,!0,E)),X.start=T.l2r($),oe||R.nestedProperty(h,p+".start").set(X.start)}var se=P.end,ae=T.r2l(J.end),he=ae!==void 0;if((P.endFound||he)&&ae!==T.r2l(se)){var me=he?ae:R.aggNums(Math.max,null,w);X.end=T.l2r(me),he||R.nestedProperty(h,p+".start").set(X.end)}var Me="autobin"+c;return h._input[Me]===!1&&(h._input[p]=R.extendFlat({},h[p]||{}),delete h._input[Me],delete h[Me]),[X,w]}function f(y,h,T,c,o){var p=y._fullLayout,x=u(y,h),b=!1,P=1/0,m=[h],L,M,s;for(L=0;L<x.length;L++)if(M=x[L],M===h)b=!0;else if(!b)s=p._histogramBinOpts[M["_"+c+"bingroup"]],P=Math.min(P,s.size||M[o].size);else{var E=n(y,M,T,c,!0),w=E[0],_=E[2];M["_"+c+"autoBinFinished"]=1,M["_"+c+"pos0"]=E[1],_?m.push(M):P=Math.min(P,w.size)}var D=new Array(m.length);for(L=0;L<m.length;L++)for(var N=m[L]["_"+c+"pos0"],z=0;z<N.length;z++)if(N[z]!==void 0){D[L]=N[z];break}for(isFinite(P)||(P=R.distinctVals(D).minDiff),L=0;L<m.length;L++){M=m[L];var F=M[c+"calendar"],U={start:T.c2r(D[L]-P/2,0,F),end:T.c2r(D[L]+P/2,0,F),size:P};M._input[o]=M[o]=U,s=p._histogramBinOpts[M["_"+c+"bingroup"]],s&&R.extendFlat(s,U)}return h[o]}function u(y,h){for(var T=h.xaxis,c=h.yaxis,o=h.orientation,p=[],x=y._fullData,b=0;b<x.length;b++){var P=x[b];P.type==="histogram"&&P.visible===!0&&P.orientation===o&&P.xaxis===T&&P.yaxis===c&&p.push(P)}return p}function l(y,h,T){var c,o,p;function x(P){p=y[P],y[P]/=2}function b(P){o=y[P],y[P]=p+o/2,p+=o}if(T==="half")if(h==="increasing")for(x(0),c=1;c<y.length;c++)b(c);else for(x(y.length-1),c=y.length-2;c>=0;c--)b(c);else if(h==="increasing"){for(c=1;c<y.length;c++)y[c]+=y[c-1];T==="exclude"&&(y.unshift(0),y.pop())}else{for(c=y.length-2;c>=0;c--)y[c]+=y[c+1];T==="exclude"&&(y.push(0),y.shift())}}G.exports={calc:a,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,H,e){var g=e(3400),R=e(79811),i=e(24040).traceIs,C=e(20011),S=e(31508).validateCornerradius,v=g.nestedProperty,d=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,f){var u=f._histogramBinOpts={},l=[],y={},h=[],T,c,o,p,x,b,P;function m(re,ue){return g.coerce(T._input,T,T._module.attributes,re,ue)}function L(re){return re.orientation==="v"?"x":"y"}function M(re,ue){var J=R.getFromTrace({_fullLayout:f},re,ue);return J.type}function s(re,ue,J){var X=re.uid+"__"+J;ue||(ue=X);var ne=M(re,J),Y=re[J+"calendar"]||"",oe=u[ue],le=!0;oe&&(ne===oe.axType&&Y===oe.calendar?(le=!1,oe.traces.push(re),oe.dirs.push(J)):(ue=X,ne!==oe.axType&&g.warn(["Attempted to group the bins of trace",re.index,"set on a","type:"+ne,"axis","with bins on","type:"+oe.axType,"axis."].join(" ")),Y!==oe.calendar&&g.warn(["Attempted to group the bins of trace",re.index,"set with a",Y,"calendar","with bins",oe.calendar?"on a "+oe.calendar+" calendar":"w/o a set calendar"].join(" ")))),le&&(u[ue]={traces:[re],dirs:[J],axType:ne,calendar:re[J+"calendar"]||""}),re["_"+J+"bingroup"]=ue}for(x=0;x<n.length;x++)if(T=n[x],i(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var E=m("marker.cornerradius",f.barcornerradius);T.marker&&(T.marker.cornerradius=S(E))}i(T,"2dMap")||C(T._input,T,f,m)}var w=f._alignmentOpts||{};for(x=0;x<l.length;x++){if(T=l[x],o="",!i(T,"2dMap")){if(p=L(T),f.barmode==="group"&&T.alignmentgroup){var _=T[p+"axis"],D=d(f,_)+T.orientation;(w[D]||{})[T.alignmentgroup]&&(o=D)}!o&&f.barmode!=="overlay"&&(o=d(f,T.xaxis)+d(f,T.yaxis)+L(T))}o?(y[o]||(y[o]=[]),y[o].push(T)):h.push(T)}for(o in y){if(c=y[o],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(T=c[0],N=m("bingroup")),o=N||o,x=0;x<c.length;x++){T=c[x];var z=T._input.bingroup;z&&z!==o&&g.warn(["Trace",T.index,"must match","within bingroup",o+".","Ignoring its bingroup:",z,"setting."].join(" ")),T.bingroup=o,s(T,o,L(T))}}for(x=0;x<h.length;x++){T=h[x];var F=m("bingroup");if(i(T,"2dMap"))for(P=0;P<2;P++){p=t[P];var U=m(p+"bingroup",F?F+"__"+p:null);s(T,U,p)}else s(T,F,L(T))}for(o in u){var B=u[o];for(c=B.traces,b=0;b<r.length;b++){var V=r[b],j=V.name,Q,ee;if(!(j==="nbins"&&B.sizeFound)){for(x=0;x<c.length;x++){if(T=c[x],p=B.dirs[x],Q=V.aStr[p],v(T._input,Q).get()!==void 0){B[j]=m(Q),B[j+"Found"]=!0;break}ee=(T._autoBin||{})[p]||{},ee[j]&&v(T,Q).set(ee[j])}if(j==="start"||j==="end")for(;x<c.length;x++)T=c[x],T["_"+p+"bingroup"]&&(ee=(T._autoBin||{})[p]||{},m(Q,ee[j]));j==="nbins"&&!B.sizeFound&&!B.nbinsFound&&(T=c[0],B[j]=m(Q))}}}}},6616:function(G,H,e){var g=e(24040),R=e(3400),i=e(76308),C=e(31508).handleText,S=e(55592),v=e(40196);G.exports=function(r,t,a,n){function f(L,M){return R.coerce(r,t,v,L,M)}var u=f("x"),l=f("y"),y=f("cumulative.enabled");y&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");C(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var T=f("orientation",l&&!u?"h":"v"),c=T==="v"?"x":"y",o=T==="v"?"y":"x",p=u&&l?Math.min(R.minRowLength(u)&&R.minRowLength(l)):R.minRowLength(t[c]||[]);if(!p){t.visible=!1;return}t._length=p;var x=g.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var b=t[o];b&&f("histfunc"),f("histnorm"),f("autobin"+c),S(r,t,f,a,n),R.coerceSelectionMarkerOpacity(t,f);var P=(t.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(r,t,P||i.defaultLine,{axis:"y"}),m(r,t,P||i.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(G){G.exports=function(e,g,R,i,C){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(R.cumulative||{}).enabled){var S=Array.isArray(C)?i[0].pts[C[0]][C[1]]:i[C].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(R._indexToPoints){v=[];for(var d=0;d<S.length;d++)v=v.concat(R._indexToPoints[S[d]])}else v=S;e.pointIndices=v}return e}},43339:function(G,H,e){var g=e(63400).hoverPoints,R=e(54460).hoverLabelText;G.exports=function(C,S,v,d,r){var t=g(C,S,v,d,r);if(t){C=t[0];var a=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";C[f+"Label"]=R(C[f+"a"],[a.ph0,a.ph1],n[f+"hoverformat"])}return t}}},42600:function(G,H,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(H,e){for(var g=H.length,R=100/e,i=0;i<g;i++)H[i]*=R},probability:function(H,e){for(var g=H.length,R=0;R<g;R++)H[R]/=e},density:function(H,e,g,R){var i=H.length;R=R||1;for(var C=0;C<i;C++)H[C]*=g[C]*R},"probability density":function(H,e,g,R){var i=H.length;R&&(e/=R);for(var C=0;C<i;C++)H[C]*=g[C]/e}}},37008:function(G,H,e){var g=e(40196),R=e(11120),i=e(83328),C=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,d=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:R("x"),nbinsy:g.nbinsy,ybins:R("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,H,e){var g=e(3400),R=e(54460),i=e(16964),C=e(10648),S=e(2e3),v=e(67712),d=e(35852).calcAllAutoBins;G.exports=function(f,u){var l=R.getFromId(f,u.xaxis),y=R.getFromId(f,u.yaxis),h=u.xcalendar,T=u.ycalendar,c=function(We){return l.r2c(We,0,h)},o=function(We){return y.r2c(We,0,T)},p=function(We){return l.c2r(We,0,h)},x=function(We){return y.c2r(We,0,T)},b,P,m,L,M=d(f,u,l,"x"),s=M[0],E=M[1],w=d(f,u,y,"y"),_=w[0],D=w[1],N=u._length;E.length>N&&E.splice(N,E.length-N),D.length>N&&D.splice(N,D.length-N);var z=[],F=[],U=[],B=typeof s.size=="string",V=typeof _.size=="string",j=[],Q=[],ee=B?j:s,re=V?Q:_,ue=0,J=[],X=[],ne=u.histnorm,Y=u.histfunc,oe=ne.indexOf("density")!==-1,le=Y==="max"||Y==="min",Z=le?null:0,$=i.count,se=C[ne],ae=!1,he=[],me=[],Me="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Me&&Y!=="count"&&(ae=Y==="avg",$=i[Y]);var Te=s.size,Pe=c(s.start),be=c(s.end)+(Pe-R.tickIncrement(Pe,Te,!1,h))/1e6;for(b=Pe;b<be;b=R.tickIncrement(b,Te,!1,h))F.push(Z),j.push(b),ae&&U.push(0);j.push(b);var Ee=F.length,xe=(b-Pe)/Ee,Ce=p(Pe+xe/2),Ue=_.size,Ne=o(_.start),De=o(_.end)+(Ne-R.tickIncrement(Ne,Ue,!1,T))/1e6;for(b=Ne;b<De;b=R.tickIncrement(b,Ue,!1,T)){z.push(F.slice()),Q.push(b);var He=new Array(Ee);for(P=0;P<Ee;P++)He[P]=[];X.push(He),ae&&J.push(U.slice())}Q.push(b);var at=z.length,vt=(b-Ne)/at,ot=x(Ne+vt/2);oe&&(he=r(F.length,ee,xe,B),me=r(z.length,re,vt,V)),!B&&l.type==="date"&&(ee=t(c,ee)),!V&&y.type==="date"&&(re=t(o,re));var et=!0,ct=!0,ht=new Array(Ee),gt=new Array(at),xt=1/0,Mt=1/0,tt=1/0,Oe=1/0;for(b=0;b<N;b++){var Xe=E[b],Ze=D[b];m=g.findBin(Xe,ee),L=g.findBin(Ze,re),m>=0&&m<Ee&&L>=0&&L<at&&(ue+=$(m,b,z[L],Me,J[L]),X[L][m].push(b),et&&(ht[m]===void 0?ht[m]=Xe:ht[m]!==Xe&&(et=!1)),ct&&(gt[L]===void 0?gt[L]=Ze:gt[L]!==Ze&&(ct=!1)),xt=Math.min(xt,Xe-j[m]),Mt=Math.min(Mt,j[m+1]-Xe),tt=Math.min(tt,Ze-Q[L]),Oe=Math.min(Oe,Q[L+1]-Ze))}if(ae)for(L=0;L<at;L++)ue+=S(z[L],J[L]);if(se)for(L=0;L<at;L++)se(z[L],ue,he,me[L]);return{x:E,xRanges:a(j,et&&ht,xt,Mt,l,h),x0:Ce,dx:xe,y:D,yRanges:a(Q,ct&&gt,tt,Oe,y,T),y0:ot,dy:vt,z,pts:X}};function r(n,f,u,l){var y=new Array(n),h;if(l)for(h=0;h<n;h++)y[h]=1/(f[h+1]-f[h]);else{var T=1/u;for(h=0;h<n;h++)y[h]=T}return y}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function a(n,f,u,l,y,h){var T,c=n.length-1,o=new Array(c),p=v(u,l,n,y,h);for(T=0;T<c;T++){var x=(f||[])[T];o[T]=x===void 0?[p(n[T]),p(n[T+1],!0)]:[x,x]}return o}},99784:function(G,H,e){var g=e(3400),R=e(56408),i=e(82748),C=e(27260),S=e(39096),v=e(37008);G.exports=function(r,t,a,n){function f(u,l){return g.coerce(r,t,v,u,l)}R(r,t,f,n),t.visible!==!1&&(i(r,t,f,n),C(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(G,H,e){var g=e(55512),R=e(54460).hoverLabelText;G.exports=function(C,S,v,d,r){var t=g(C,S,v,d,r);if(t){C=t[0];var a=C.index,n=a[0],f=a[1],u=C.cd[0],l=u.trace,y=u.xRanges[f],h=u.yRanges[n];return C.xLabel=R(C.xa,[y[0],y[1]],l.xhoverformat),C.yLabel=R(C.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(G,H,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,H,e){var g=e(24040),R=e(3400);G.exports=function(C,S,v,d){var r=v("x"),t=v("y"),a=R.minRowLength(r),n=R.minRowLength(t);if(!a||!n){S.visible=!1;return}S._length=Math.min(a,n);var f=g.getComponentMethod("calendars","handleTraceDefaults");f(C,S,["x","y"],d);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,H,e){var g=e(37008),R=e(67104),i=e(49084),C=e(29736).axisHoverFormat,S=e(92880).extendFlat;G.exports=S({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:R.autocontour,ncontours:R.ncontours,contours:R.contours,line:{color:R.line.color,width:S({},R.line.width,{dflt:.5}),dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:R.texttemplate,textfont:R.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,H,e){var g=e(3400),R=e(56408),i=e(84952),C=e(97680),S=e(39096),v=e(81220);G.exports=function(r,t,a,n){function f(l,y){return g.coerce(r,t,v,l,y)}function u(l){return g.coerce2(r,t,v,l)}R(r,t,f,n),t.visible!==!1&&(i(r,t,f,u),C(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(G,H,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(49084),C=e(86968).u,S=e(74996),v=e(424),d=e(40516),r=e(32984),t=e(92880).extendFlat,a=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:d.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:d.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:d.outsidetextfont,textposition:d.textposition,sort:S.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,H,e){var g=e(7316);H.name="icicle",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},73876:function(G,H,e){var g=e(3776);H.r=function(R,i){return g.calc(R,i)},H.q=function(R){return g._runCrossTraceCalc("icicle",R)}},7045:function(G,H,e){var g=e(3400),R=e(97376),i=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,d=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,u,l,y){function h(m,L){return g.coerce(f,u,R,m,L)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var p=h("text");h("texttemplate"),u.texttemplate||h("textinfo",g.isArrayOrTypedArray(p)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),b="auto";S(f,u,y,h,b,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),d(f,u,y,h);var P=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;P&&a(f,u,y,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",P?1:.7),u._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},x&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,y,h),u._length=null}},67880:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(72736),S=e(25132),v=e(47192).styleOne,d=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,y,h,T){var c=T.width,o=T.height,p=T.viewX,x=T.viewY,b=T.pathSlice,P=T.toMoveInsideSlice,m=T.strTransform,L=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,w=T.prevEntry,_={},D=u._context.staticPlot,N=u._fullLayout,z=l[0],F=z.trace,U=F.textposition.indexOf("left")!==-1,B=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,j=S(y,[c,o],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}),Q=j.descendants(),ee=1/0,re=-1/0;Q.forEach(function(Y){var oe=Y.depth;oe>=F._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(ee=Math.min(ee,oe),re=Math.max(re,oe))}),h=h.data(Q,r.getPtId),F._maxVisibleLayers=isFinite(re)?re-ee+1:0,h.enter().append("g").classed("slice",!0),M(h,n,_,[c,o],b),h.order();var ue=null;if(L&&w){var J=r.getPtId(w);h.each(function(Y){ue===null&&r.getPtId(Y)===J&&(ue={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var X=function(){return ue||{x0:0,x1:c,y0:0,y1:o}},ne=h;return L&&(ne=ne.transition().each("end",function(){var Y=g.select(this);r.setSliceCursor(Y,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ne.each(function(Y){Y._x0=p(Y.x0),Y._x1=p(Y.x1),Y._y0=x(Y.y0),Y._y1=x(Y.y1),Y._hoverX=p(Y.x1-F.tiling.pad),Y._hoverY=x(V?Y.y1-F.tiling.pad/2:Y.y0+F.tiling.pad/2);var oe=g.select(this),le=R.ensureSingle(oe,"path","surface",function(ae){ae.style("pointer-events",D?"none":"all")});L?le.transition().attrTween("d",function(ae){var he=s(ae,n,X(),[c,o],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(me){return b(he(me))}}):le.attr("d",b),oe.call(t,y,u,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),le.call(v,Y,F,u,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=a(Y,y,F,l,N)||"";var Z=R.ensureSingle(oe,"g","slicetext"),$=R.ensureSingle(Z,"text","",function(ae){ae.attr("data-notex",1)}),se=R.ensureUniformFontSize(u,r.determineTextFont(F,Y,N.font));$.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",B?"end":U?"start":"middle").call(i.font,se).call(C.convertToTspans,u),Y.textBB=i.bBox($.node()),Y.transform=P(Y,{fontSize:se.size}),Y.transform.fontSize=se.size,L?$.transition().attrTween("transform",function(ae){var he=E(ae,n,X(),[c,o]);return function(me){return m(he(me))}}):$.attr("transform",m(Y))}),ue}},29044:function(G,H,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,H,e){var g=e(3400),R=e(90676);G.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(G,H,e){var g=e(74148),R=e(83024);G.exports=function(C,S,v){var d=v.flipX,r=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=S[0],f=S[1];a&&(n=(C.height+1)*S[0]/Math.min(C.height+1,a),f=(C.height+1)*S[1]/Math.min(C.height+1,a));var u=g.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(C);return(t||d||r)&&R(u,S,{swapXY:t,flipX:d,flipY:r}),u}},38364:function(G,H,e){var g=e(95808),R=e(67880);G.exports=function(C,S,v,d){return g(C,S,v,d,{type:"icicle",drawDescendants:R})}},47192:function(G,H,e){var g=e(33428),R=e(76308),i=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(a){var n=g.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,u,r)})})}function d(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,y=i.castOption(a,l,"marker.line.color")||R.defaultLine,h=i.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(R.stroke,y).style("opacity",u?a.leaf.opacity:null)}G.exports={style:v,styleOne:d}},95188:function(G,H,e){for(var g=e(45464),R=e(52904).zorder,i=e(21776).Ks,C=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],d=[],r=[],t=0;t<v.length;t++){var a=S[v[t]];d.push("For the `"+v[t]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}G.exports=C({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:C({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:i({},{keys:["z","color","colormodel"]}),zorder:R,transforms:void 0})},93336:function(G,H,e){var g=e(3400),R=e(47797),i=e(38248),C=e(54460),S=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=S(f.z);else if(f._hasSource){var y=v(f.source);u=y.height,l=y.width}var h=C.getFromId(n,f.xaxis||"x"),T=C.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,o=T.d2c(f.y0)-f.dy/2,p,x=[c,c+l*f.dx],b=[o,o+u*f.dy];if(h&&h.type==="log")for(p=0;p<l;p++)x.push(c+p*f.dx);if(T&&T.type==="log")for(p=0;p<u;p++)b.push(o+p*f.dy);f._extremes[h._id]=C.findExtremes(h,x),f._extremes[T._id]=C.findExtremes(T,b),f._scaler=t(f);var P={x0:c,y0:o,z:f.z,w:l,h:u};return[P]};function d(a,n,f,u){return function(l){return g.constrain((l-a)*n,f,u)}}function r(a,n){return function(f){return g.constrain(f,a,n)}}function t(a){var n=R.colormodel[a.colormodel],f=n.colormodel||a.colormodel,u=f.length;a._sArray=[];for(var l=0;l<u;l++)n.min[l]!==a.zmin[l]||n.max[l]!==a.zmax[l]?a._sArray.push(d(a.zmin[l],(n.max[l]-n.min[l])/(a.zmax[l]-a.zmin[l]),n.min[l],n.max[l])):a._sArray.push(r(n.min[l],n.max[l]));return function(y){for(var h=y.slice(0,u),T=0;T<u;T++){var c=h[T];if(!i(c))return!1;h[T]=a._sArray[T](c)}return h}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(G,H,e){var g=e(3400),R=e(95188),i=e(47797),C=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,d){function r(n,f){return g.coerce(v,d,R,n,f)}r("source"),d.source&&!d.source.match(C)&&delete d.source,d._hasSource=!!d.source;var t=r("z");if(d._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!d._hasZ&&!d._hasSource){d.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var a;d._hasZ?(r("colormodel","rgb"),a=i.colormodel[d.colormodel],r("zmin",a.zminDflt||a.min),r("zmax",a.zmaxDflt||a.max)):d._hasSource&&(d.colormodel="rgba256",a=i.colormodel[d.colormodel],d.zmin=a.zminDflt,d.zmax=a.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),d._length=null,r("zorder")}},79972:function(G){G.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(G,H,e){var g=e(19480),R=e(81792).IMAGE_URL_PREFIX,i=e(33576).Buffer;H.i=function(C){var S=C.replace(R,""),v=new i(S,"base64");return g(v)}},24892:function(G,H,e){var g=e(93024),R=e(3400),i=R.isArrayOrTypedArray,C=e(47797);G.exports=function(v,d,r){var t=v.cd[0],a=t.trace,n=v.xa,f=v.ya;if(!(g.inbox(d-t.x0,d-(t.x0+t.w*a.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*a.dy),0)>0)){var u=Math.floor((d-t.x0)/a.dx),l=Math.floor(Math.abs(r-t.y0)/a.dy),y;if(a._hasZ?y=t.z[l][u]:a._hasSource&&(y=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!y){var h=t.hi||a.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var o=C.colormodel[a.colormodel],p=o.colormodel||a.colormodel,x=p.length,b=a._scaler(y),P=o.suffix,m=[];(a.hovertemplate||T)&&(m.push("["+[b[0]+P[0],b[1]+P[1],b[2]+P[2]].join(", ")),x===4&&m.push(", "+b[3]+P[3]),m.push("]"),m=m.join(""),v.extraText=p.toUpperCase()+": "+m);var L;i(a.hovertext)&&i(a.hovertext[l])?L=a.hovertext[l][u]:i(a.text)&&i(a.text[l])&&(L=a.text[l][u]);var M=f.c2p(t.y0+(l+.5)*a.dy),s=t.x0+(u+.5)*a.dx,E=t.y0+(l+.5)*a.dy,w="["+y.slice(0,a.colormodel.length).join(", ")+"]";return[R.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*a.dx),x1:n.c2p(t.x0+(u+1)*a.dx),y0:M,y1:M,color:b,xVal:s,xLabelVal:s,yVal:E,yLabelVal:E,zLabelVal:w,text:L,hovertemplateLabels:{zLabel:w,colorLabel:m,"color[0]Label":b[0]+P[0],"color[1]Label":b[1]+P[1],"color[2]Label":b[2]+P[2],"color[3]Label":b[3]+P[3]}})]}}}},48928:function(G,H,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,H,e){var g=e(33428),R=e(3400),i=R.strTranslate,C=e(9616),S=e(47797),v=e(9188),d=e(2264).STYLE;G.exports=function(t,a,n,f){var u=a.xaxis,l=a.yaxis,y=!t._context._exportedPlot&&v();R.makeTraceGroups(f,n,"im").each(function(h){var T=g.select(this),c=h[0],o=c.trace,p=(o.zsmooth==="fast"||o.zsmooth===!1&&y)&&!o._hasZ&&o._hasSource&&u.type==="linear"&&l.type==="linear";o._realImage=p;var x=c.z,b=c.x0,P=c.y0,m=c.w,L=c.h,M=o.dx,s=o.dy,E,w,_,D,N,z;for(z=0;E===void 0&&z<m;)E=u.c2p(b+z*M),z++;for(z=m;w===void 0&&z>0;)w=u.c2p(b+z*M),z--;for(z=0;D===void 0&&z<L;)D=l.c2p(P+z*s),z++;for(z=L;N===void 0&&z>0;)N=l.c2p(P+z*s),z--;if(w<E&&(_=w,w=E,E=_),N<D&&(_=D,D=N,N=_),!p){var F=.5;E=Math.max(-F*u._length,E),w=Math.min((1+F)*u._length,w),D=Math.max(-F*l._length,D),N=Math.min((1+F)*l._length,N)}var U=Math.round(w-E),B=Math.round(N-D),V=U<=0||B<=0;if(V){var j=T.selectAll("image").data([]);j.exit().remove();return}function Q(Z){var $=document.createElement("canvas");$.width=U,$.height=B;var se=$.getContext("2d",{willReadFrequently:!0}),ae=function(Ne){return R.constrain(Math.round(u.c2p(b+Ne*M)-E),0,U)},he=function(Ne){return R.constrain(Math.round(l.c2p(P+Ne*s)-D),0,B)},me=S.colormodel[o.colormodel],Me=me.colormodel||o.colormodel,Te=me.fmt,Pe;for(z=0;z<c.w;z++){var be=ae(z),Ee=ae(z+1);if(!(Ee===be||isNaN(Ee)||isNaN(be)))for(var xe=0;xe<c.h;xe++){var Ce=he(xe),Ue=he(xe+1);Ue===Ce||isNaN(Ue)||isNaN(Ce)||!Z(z,xe)||(Pe=o._scaler(Z(z,xe)),Pe?se.fillStyle=Me+"("+Te(Pe).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(be,Ce,Ee-be,Ue-Ce))}}return $}var ee=T.selectAll("image").data([h]);ee.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ee.exit().remove();var re=o.zsmooth===!1?d:"";if(p){var ue=R.simpleMap(u.range,u.r2l),J=R.simpleMap(l.range,l.r2l),X=ue[1]<ue[0],ne=J[1]>J[0];if(X||ne){var Y=E+U/2,oe=D+B/2;re+="transform:"+i(Y+"px",oe+"px")+"scale("+(X?-1:1)+","+(ne?-1:1)+")"+i(-Y+"px",-oe+"px")+";"}}ee.attr("style",re);var le=new Promise(function(Z){if(o._hasZ)Z();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===L&&o._canvas.source===o.source)Z();else{var $=document.createElement("canvas");$.width=m,$.height=L;var se=$.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ae=o._image;ae.onload=function(){se.drawImage(ae,0,0),o._canvas={el:$,source:o.source},Z()},ae.setAttribute("src",o.source)}}).then(function(){var Z,$;if(o._hasZ)$=Q(function(he,me){var Me=x[me][he];return R.isTypedArray(Me)&&(Me=Array.from(Me)),Me}),Z=$.toDataURL("image/png");else if(o._hasSource)if(p)Z=o.source;else{var se=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ae=se.getImageData(0,0,m,L).data;$=Q(function(he,me){var Me=4*(me*m+he);return[ae[Me],ae[Me+1],ae[Me+2],ae[Me+3]]}),Z=$.toDataURL("image/png")}ee.attr({"xlink:href":Z,height:B,width:U,x:E,y:D})});t._promises.push(le)})}},28576:function(G,H,e){var g=e(33428);G.exports=function(i){g.select(i).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(G,H,e){var g=e(92880).extendFlat,R=e(92880).extendDeep,i=e(67824).overrideAll,C=e(25376),S=e(22548),v=e(86968).u,d=e(94724),r=e(31780).templatedArray,t=e(48164),a=e(29736).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",R({},f,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:R({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:u,visible:g({},d.visible,{dflt:!0}),tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:g({},d.ticks,{dflt:"outside"}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:C({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},f.line.color,{}),width:g({},f.line.width,{dflt:1}),editType:"plot"},thickness:g({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,H,e){var g=e(7316);H.name="indicator",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},79136:function(G){function H(e,g){var R=[],i=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var C=g._lastValue,S=C;return g._hasDelta&&typeof g.delta.reference=="number"&&(S=g.delta.reference),R[0]={y:i,lastY:C,delta:i-S,relativeDelta:(i-S)/S},R}G.exports={calc:H}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,H,e){var g=e(3400),R=e(89864),i=e(86968).Q,C=e(31780),S=e(51272),v=e(12096),d=e(26332),r=e(25404),t=e(95936),a=e(42568);function n(u,l,y,h){function T(U,B){return g.coerce(u,l,R,U,B)}i(l,h,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=T("value");l._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),p;if(l._hasNumber){T("number.valueformat");var x=g.extendFlat({},h.font);x.size=void 0,g.coerceFont(T,"number.font",x),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),T("number.prefix"),T("number.suffix"),p=l.number.font.size}var b;if(l._hasDelta){var P=g.extendFlat({},h.font);P.size=void 0,g.coerceFont(T,"delta.font",P),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(p||v.defaultNumberFontSize),o[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),b=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1;var m=g.extendFlat({},h.font);m.size=.25*(p||b||v.defaultNumberFontSize),g.coerceFont(T,"title.font",m),T("title.text");var L,M,s,E;function w(U,B){return g.coerce(L,M,R.gauge,U,B)}function _(U,B){return g.coerce(s,E,R.gauge.axis,U,B)}if(l._hasGauge){L=u.gauge,L||(L={}),M=C.newContainer(l,"gauge"),w("shape");var D=l._isBullet=l.gauge.shape==="bullet";D||T("title.align","center");var N=l._isAngular=l.gauge.shape==="angular";N||T("align","center"),w("bgcolor",h.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var z=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);w("bar.thickness",z),S(L,M,{name:"steps",handleItemDefaults:f}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),s={},L&&(s=L.axis||{}),E=C.newContainer(M,"axis"),_("visible"),l._range=_("range",l._range);var F={font:h.font,noAutotickangles:!0,outerTicks:!0};d(s,E,_,"linear"),a(s,E,_,"linear",F),t(s,E,_,"linear",F),r(s,E,_,F)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function y(h,T){return g.coerce(u,l,R.gauge.steps,h,T)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}G.exports={supplyDefaults:n}},43480:function(G,H,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,H,e){var g=e(33428),R=e(67756).qy,i=e(67756).Gz,C=e(3400),S=C.strScale,v=C.strTranslate,d=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),a=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),y=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function p(D){return D&&D.duration>0}G.exports=function(N,z,F,U){var B=N._fullLayout,V;p(F)&&U&&(V=U()),C.makeTraceGroups(B._indicatorlayer,z,"trace").each(function(j){var Q=j[0],ee=Q.trace,re=g.select(this),ue=ee._hasGauge,J=ee._isAngular,X=ee._isBullet,ne=ee.domain,Y={w:B._size.w*(ne.x[1]-ne.x[0]),h:B._size.h*(ne.y[1]-ne.y[0]),l:B._size.l+B._size.w*ne.x[0],r:B._size.r+B._size.w*(1-ne.x[1]),t:B._size.t+B._size.h*(1-ne.y[1]),b:B._size.b+B._size.h*ne.y[0]},oe=Y.l+Y.w/2,le=Y.t+Y.h/2,Z=Math.min(Y.w/2,Y.h),$=a.innerRadius*Z,se,ae,he,me=ee.align||"center";if(ae=le,!ue)se=Y.l+c[me]*Y.w,he=function(De){return s(De,Y.w,Y.h)};else if(J&&(se=oe,ae=le+Z/2,he=function(De){return E(De,.9*$)}),X){var Me=a.bulletPadding,Te=1-a.bulletNumberDomainSize+Me;se=Y.l+(Te+(1-Te)*c[me])*Y.w,he=function(De){return s(De,(a.bulletNumberDomainSize-Me)*Y.w,Y.h)}}P(N,re,j,{numbersX:se,numbersY:ae,numbersScaler:he,transitionOpts:F,onComplete:V});var Pe,be;ue&&(Pe={range:ee.gauge.axis.range,color:ee.gauge.bgcolor,line:{color:ee.gauge.bordercolor,width:0},thickness:1},be={range:ee.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ee.gauge.bordercolor,width:ee.gauge.borderwidth},thickness:1});var Ee=re.selectAll("g.angular").data(J?j:[]);Ee.exit().remove();var xe=re.selectAll("g.angularaxis").data(J?j:[]);xe.exit().remove(),J&&b(N,re,j,{radius:Z,innerRadius:$,gauge:Ee,layer:xe,size:Y,gaugeBg:Pe,gaugeOutline:be,transitionOpts:F,onComplete:V});var Ce=re.selectAll("g.bullet").data(X?j:[]);Ce.exit().remove();var Ue=re.selectAll("g.bulletaxis").data(X?j:[]);Ue.exit().remove(),X&&x(N,re,j,{gauge:Ce,layer:Ue,size:Y,gaugeBg:Pe,gaugeOutline:be,transitionOpts:F,onComplete:V});var Ne=re.selectAll("text.title").data(j);Ne.exit().remove(),Ne.enter().append("text").classed("title",!0),Ne.attr("text-anchor",function(){return X?T.right:T[ee.title.align]}).text(ee.title.text).call(t.font,ee.title.font).call(n.convertToTspans,N),Ne.attr("transform",function(){var De=Y.l+Y.w*c[ee.title.align],He,at=a.titlePadding,vt=t.bBox(Ne.node());if(ue){if(J)if(ee.gauge.axis.visible){var ot=t.bBox(xe.node());He=ot.top-at-vt.bottom}else He=Y.t+Y.h/2-Z/2-vt.bottom-at;X&&(He=ae-(vt.top+vt.bottom)/2,De=Y.l-a.bulletPadding*Y.w)}else He=ee._numbersTop-at-vt.bottom;return v(De,He)})})};function x(D,N,z,F){var U=z[0].trace,B=F.gauge,V=F.layer,j=F.gaugeBg,Q=F.gaugeOutline,ee=F.size,re=U.domain,ue=F.transitionOpts,J=F.onComplete,X,ne,Y,oe,le;B.enter().append("g").classed("bullet",!0),B.attr("transform",v(ee.l,ee.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var Z=ee.h,$=U.gauge.bar.thickness*Z,se=re.x[0],ae=re.x[0]+(re.x[1]-re.x[0])*(U._hasNumber||U._hasDelta?1-a.bulletNumberDomainSize:1);X=M(D,U.gauge.axis),X._id="xbulletaxis",X.domain=[se,ae],X.setScale(),ne=f.calcTicks(X),Y=f.makeTransTickFn(X),oe=f.getTickSigns(X)[2],le=ee.t+ee.h,X.visible&&(f.drawTicks(D,X,{vals:X.ticks==="inside"?f.clipEnds(X,ne):ne,layer:V,path:f.makeTickPath(X,le,oe),transFn:Y}),f.drawLabels(D,X,{vals:ne,layer:V,transFn:Y,labelFns:f.makeLabelFns(X,le)}));function he(xe){xe.attr("width",function(Ce){return Math.max(0,X.c2p(Ce.range[1])-X.c2p(Ce.range[0]))}).attr("x",function(Ce){return X.c2p(Ce.range[0])}).attr("y",function(Ce){return .5*(1-Ce.thickness)*Z}).attr("height",function(Ce){return Ce.thickness*Z})}var me=[j].concat(U.gauge.steps),Me=B.selectAll("g.bg-bullet").data(me);Me.enter().append("g").classed("bg-bullet",!0).append("rect"),Me.select("rect").call(he).call(m),Me.exit().remove();var Te=B.selectAll("g.value-bullet").data([U.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",$).attr("y",(Z-$)/2).call(m),p(ue)?Te.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,X.c2p(Math.min(U.gauge.axis.range[1],z[0].y)))):Te.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,X.c2p(Math.min(U.gauge.axis.range[1],z[0].y))):0),Te.exit().remove();var Pe=z.filter(function(){return U.gauge.threshold.value||U.gauge.threshold.value===0}),be=B.selectAll("g.threshold-bullet").data(Pe);be.enter().append("g").classed("threshold-bullet",!0).append("line"),be.select("line").attr("x1",X.c2p(U.gauge.threshold.value)).attr("x2",X.c2p(U.gauge.threshold.value)).attr("y1",(1-U.gauge.threshold.thickness)/2*Z).attr("y2",(1-(1-U.gauge.threshold.thickness)/2)*Z).call(h.stroke,U.gauge.threshold.line.color).style("stroke-width",U.gauge.threshold.line.width),be.exit().remove();var Ee=B.selectAll("g.gauge-outline").data([Q]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(he).call(m),Ee.exit().remove()}function b(D,N,z,F){var U=z[0].trace,B=F.size,V=F.radius,j=F.innerRadius,Q=F.gaugeBg,ee=F.gaugeOutline,re=[B.l+B.w/2,B.t+B.h/2+V/2],ue=F.gauge,J=F.layer,X=F.transitionOpts,ne=F.onComplete,Y=Math.PI/2;function oe(et){var ct=U.gauge.axis.range[0],ht=U.gauge.axis.range[1],gt=(et-ct)/(ht-ct)*Math.PI-Y;return gt<-Y?-Y:gt>Y?Y:gt}function le(et){return g.svg.arc().innerRadius((j+V)/2-et/2*(V-j)).outerRadius((j+V)/2+et/2*(V-j)).startAngle(-Y)}function Z(et){et.attr("d",function(ct){return le(ct.thickness).startAngle(oe(ct.range[0])).endAngle(oe(ct.range[1]))()})}var $,se,ae,he;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(re[0],re[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),$=M(D,U.gauge.axis),$.type="linear",$.range=U.gauge.axis.range,$._id="xangularaxis",$.ticklabeloverflow="allow",$.setScale();var me=function(et){return($.range[0]-et.x)/($.range[1]-$.range[0])*Math.PI+Math.PI},Me={},Te=f.makeLabelFns($,0),Pe=Te.labelStandoff;Me.xFn=function(et){var ct=me(et);return Math.cos(ct)*Pe},Me.yFn=function(et){var ct=me(et),ht=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(Pe+et.fontSize*ht)+Math.abs(Math.cos(ct))*(et.fontSize*r)},Me.anchorFn=function(et){var ct=me(et),ht=Math.cos(ct);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},Me.heightFn=function(et,ct,ht){var gt=me(et);return-.5*(1+Math.sin(gt))*ht};var be=function(et){return v(re[0]+V*Math.cos(et),re[1]-V*Math.sin(et))};ae=function(et){return be(me(et))};var Ee=function(et){var ct=me(et);return be(ct)+"rotate("+-d(ct)+")"};if(se=f.calcTicks($),he=f.getTickSigns($)[2],$.visible){he=$.ticks==="inside"?-1:1;var xe=($.linewidth||1)/2;f.drawTicks(D,$,{vals:se,layer:J,path:"M"+he*xe+",0h"+he*$.ticklen,transFn:Ee}),f.drawLabels(D,$,{vals:se,layer:J,transFn:ae,labelFns:Me})}var Ce=[Q].concat(U.gauge.steps),Ue=ue.selectAll("g.bg-arc").data(Ce);Ue.enter().append("g").classed("bg-arc",!0).append("path"),Ue.select("path").call(Z).call(m),Ue.exit().remove();var Ne=le(U.gauge.bar.thickness),De=ue.selectAll("g.value-arc").data([U.gauge.bar]);De.enter().append("g").classed("value-arc",!0).append("path");var He=De.select("path");p(X)?(He.transition().duration(X.duration).ease(X.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()}).attrTween("d",L(Ne,oe(z[0].lastY),oe(z[0].y))),U._lastValue=z[0].y):He.attr("d",typeof z[0].y=="number"?Ne.endAngle(oe(z[0].y)):"M0,0Z"),He.call(m),De.exit().remove(),Ce=[];var at=U.gauge.threshold.value;(at||at===0)&&Ce.push({range:[at,at],color:U.gauge.threshold.color,line:{color:U.gauge.threshold.line.color,width:U.gauge.threshold.line.width},thickness:U.gauge.threshold.thickness});var vt=ue.selectAll("g.threshold-arc").data(Ce);vt.enter().append("g").classed("threshold-arc",!0).append("path"),vt.select("path").call(Z).call(m),vt.exit().remove();var ot=ue.selectAll("g.gauge-outline").data([ee]);ot.enter().append("g").classed("gauge-outline",!0).append("path"),ot.select("path").call(Z).call(m),ot.exit().remove()}function P(D,N,z,F){var U=z[0].trace,B=F.numbersX,V=F.numbersY,j=U.align||"center",Q=T[j],ee=F.transitionOpts,re=F.onComplete,ue=C.ensureSingle(N,"g","numbers"),J,X,ne,Y=[];U._hasNumber&&Y.push("number"),U._hasDelta&&(Y.push("delta"),U.delta.position==="left"&&Y.reverse());var oe=ue.selectAll("text").data(Y);oe.enter().append("text"),oe.attr("text-anchor",function(){return Q}).attr("class",function(be){return be}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),oe.exit().remove();function le(be,Ee,xe,Ce){if(be.match("s")&&xe>=0!=Ce>=0&&!Ee(xe).slice(-1).match(o)&&!Ee(Ce).slice(-1).match(o)){var Ue=be.slice().replace("s","f").replace(/\d+/,function(De){return parseInt(De)-1}),Ne=M(D,{tickformat:Ue});return function(De){return Math.abs(De)<1?f.tickText(Ne,De).text:Ee(De)}}else return Ee}function Z(){var be=M(D,{tickformat:U.number.valueformat},U._range);be.setScale(),f.prepTicks(be);var Ee=function(De){return f.tickText(be,De).text},xe=U.number.suffix,Ce=U.number.prefix,Ue=ue.select("text.number");function Ne(){var De=typeof z[0].y=="number"?Ce+Ee(z[0].y)+xe:"-";Ue.text(De).call(t.font,U.number.font).call(n.convertToTspans,D)}return p(ee)?Ue.transition().duration(ee.duration).ease(ee.easing).each("end",function(){Ne(),re&&re()}).each("interrupt",function(){Ne(),re&&re()}).attrTween("text",function(){var De=g.select(this),He=i(z[0].lastY,z[0].y);U._lastValue=z[0].y;var at=le(U.number.valueformat,Ee,z[0].lastY,z[0].y);return function(vt){De.text(Ce+at(He(vt))+xe)}}):Ne(),J=w(Ce+Ee(z[0].y)+xe,U.number.font,Q,D),Ue}function $(){var be=M(D,{tickformat:U.delta.valueformat},U._range);be.setScale(),f.prepTicks(be);var Ee=function(vt){return f.tickText(be,vt).text},xe=U.delta.suffix,Ce=U.delta.prefix,Ue=function(vt){var ot=U.delta.relative?vt.relativeDelta:vt.delta;return ot},Ne=function(vt,ot){return vt===0||typeof vt!="number"||isNaN(vt)?"-":(vt>0?U.delta.increasing.symbol:U.delta.decreasing.symbol)+Ce+ot(vt)+xe},De=function(vt){return vt.delta>=0?U.delta.increasing.color:U.delta.decreasing.color};U._deltaLastValue===void 0&&(U._deltaLastValue=Ue(z[0]));var He=ue.select("text.delta");He.call(t.font,U.delta.font).call(h.fill,De({delta:U._deltaLastValue}));function at(){He.text(Ne(Ue(z[0]),Ee)).call(h.fill,De(z[0])).call(n.convertToTspans,D)}return p(ee)?He.transition().duration(ee.duration).ease(ee.easing).tween("text",function(){var vt=g.select(this),ot=Ue(z[0]),et=U._deltaLastValue,ct=le(U.delta.valueformat,Ee,et,ot),ht=i(et,ot);return U._deltaLastValue=ot,function(gt){vt.text(Ne(ht(gt),ct)),vt.call(h.fill,De({delta:ht(gt)}))}}).each("end",function(){at(),re&&re()}).each("interrupt",function(){at(),re&&re()}):at(),X=w(Ne(Ue(z[0]),Ee),U.delta.font,Q,D),He}var se=U.mode+U.align,ae;if(U._hasDelta&&(ae=$(),se+=U.delta.position+U.delta.font.size+U.delta.font.family+U.delta.valueformat,se+=U.delta.increasing.symbol+U.delta.decreasing.symbol,ne=X),U._hasNumber&&(Z(),se+=U.number.font.size+U.number.font.family+U.number.valueformat+U.number.suffix+U.number.prefix,ne=J),U._hasDelta&&U._hasNumber){var he=[(J.left+J.right)/2,(J.top+J.bottom)/2],me=[(X.left+X.right)/2,(X.top+X.bottom)/2],Me,Te,Pe=.75*U.delta.font.size;U.delta.position==="left"&&(Me=_(U,"deltaPos",0,-1*(J.width*c[U.align]+X.width*(1-c[U.align])+Pe),se,Math.min),Te=he[1]-me[1],ne={width:J.width+X.width+Pe,height:Math.max(J.height,X.height),left:X.left+Me,right:J.right,top:Math.min(J.top,X.top+Te),bottom:Math.max(J.bottom,X.bottom+Te)}),U.delta.position==="right"&&(Me=_(U,"deltaPos",0,J.width*(1-c[U.align])+X.width*c[U.align]+Pe,se,Math.max),Te=he[1]-me[1],ne={width:J.width+X.width+Pe,height:Math.max(J.height,X.height),left:J.left,right:X.right+Me,top:Math.min(J.top,X.top+Te),bottom:Math.max(J.bottom,X.bottom+Te)}),U.delta.position==="bottom"&&(Me=null,Te=X.height,ne={width:Math.max(J.width,X.width),height:J.height+X.height,left:Math.min(J.left,X.left),right:Math.max(J.right,X.right),top:J.bottom-J.height,bottom:J.bottom+X.height}),U.delta.position==="top"&&(Me=null,Te=J.top,ne={width:Math.max(J.width,X.width),height:J.height+X.height,left:Math.min(J.left,X.left),right:Math.max(J.right,X.right),top:J.bottom-J.height-X.height,bottom:J.bottom}),ae.attr({dx:Me,dy:Te})}(U._hasNumber||U._hasDelta)&&ue.attr("transform",function(){var be=F.numbersScaler(ne);se+=be[2];var Ee=_(U,"numbersScale",1,be[0],se,Math.min),xe;U._scaleNumbers||(Ee=1),U._isAngular?xe=V-Ee*ne.bottom:xe=V-Ee*(ne.top+ne.bottom)/2,U._numbersTop=Ee*ne.top+xe;var Ce=ne[j];j==="center"&&(Ce=(ne.left+ne.right)/2);var Ue=B-Ee*Ce;return Ue=_(U,"numbersTranslate",0,Ue,se,Math.max),v(Ue,xe)+S(Ee)})}function m(D){D.each(function(N){h.stroke(g.select(this),N.line.color)}).each(function(N){h.fill(g.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function L(D,N,z){return function(){var F=R(N,z);return function(U){return D.endAngle(F(U))()}}}function M(D,N,z){var F=D._fullLayout,U=C.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},N),B={type:"linear",_id:"x"+N._id},V={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function j(Q,ee){return C.coerce(U,B,y,Q,ee)}return u(U,B,j,V,F),l(U,B,j,V),B}function s(D,N,z){var F=Math.min(N/D.width,z/D.height);return[F,D,N+"x"+z]}function E(D,N){var z=Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),F=N/z;return[F,D,N]}function w(D,N,z,F){var U=document.createElementNS("http://www.w3.org/2000/svg","text"),B=g.select(U);return B.text(D).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",D).call(n.convertToTspans,F).call(t.font,N),t.bBox(B.node())}function _(D,N,z,F,U,B){var V="_cache"+N;D[V]&&D[V].key===U||(D[V]={key:U,value:z});var j=C.aggNums(B,null,[D[V].value,F],2);return D[V].value=j,j}},50048:function(G,H,e){var g=e(49084),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var a=G.exports=d(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),valuehoverformat:R("value",1),showlegend:v({},S.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},62624:function(G,H,e){var g=e(47128),R=e(3832).processGrid,i=e(3832).filter;G.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=i(v.x,v._len),v._y=i(v.y,v._len),v._z=i(v.z,v._len),v._value=i(v.value,v._len);var d=R(v);v._gridFill=d.fill,v._Xs=d.Xs,v._Ys=d.Ys,v._Zs=d.Zs,v._len=d.len;for(var r=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,g(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,H,e){var g=e(67792).gl_mesh3d,R=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),d=function(u,l){for(var y=l.length-1;y>0;y--){var h=Math.min(l[y],l[y-1]),T=Math.max(l[y],l[y-1]);if(T>h&&h<u&&u<=T)return{id:y,distRatio:(T-u)/(T-h)}}return{id:0,distRatio:0}};function r(u,l,y){this.scene=u,this.uid=y,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,y=this.data._meshX[l],h=this.data._meshY[l],T=this.data._meshZ[l],c=this.data._Ys.length,o=this.data._Zs.length,p=d(y,this.data._Xs).id,x=d(h,this.data._Ys).id,b=d(T,this.data._Zs).id,P=u.index=b+o*x+o*c*p;u.traceCoordinate=[this.data._meshX[P],this.data._meshY[P],this.data._meshZ[P],this.data._value[P]];var m=this.data.hovertext||this.data.text;return i(m)&&m[P]!==void 0?u.textLabel=m[P]:m&&(u.textLabel=m),!0}},t.update=function(u){var l=this.scene,y=l.fullSceneLayout;this.data=n(u);function h(x,b,P,m){return b.map(function(L){return x.d2l(L,0,m)*P})}var T=v(h(y.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(y.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(y.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),o={positions:T,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},p=S(u);o.vertexIntensity=u._meshIntensity,o.vertexIntensityBounds=[p.min,p.max],o.colormap=R(u),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,y=u.spaceframe.show,h=u.surface.fill,T=u.spaceframe.fill,c=!1,o=!1,p=0,x,b,P=u._Xs,m=u._Ys,L=u._Zs,M=P.length,s=m.length,E=L.length,w=a.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),_=function(Ze,We,ze){switch(w){case 5:return ze+E*We+E*s*Ze;case 4:return ze+E*Ze+E*M*We;case 3:return We+s*ze+s*E*Ze;case 2:return We+s*Ze+s*M*ze;case 1:return Ze+M*ze+M*E*We;default:return Ze+M*We+M*s*ze}},D=u._minValues,N=u._maxValues,z=u._vMin,F=u._vMax,U,B,V,j;function Q(Ze,We,ze){for(var ke=j.length,je=b;je<ke;je++)if(Ze===U[je]&&We===B[je]&&ze===V[je])return je;return-1}function ee(){b=x}function re(){U=[],B=[],V=[],j=[],x=0,ee()}function ue(Ze,We,ze,ke){return U.push(Ze),B.push(We),V.push(ze),j.push(ke),x++,x-1}function J(Ze,We,ze){return u._meshI.push(Ze),u._meshJ.push(We),u._meshK.push(ze),p++,p-1}function X(Ze,We,ze){for(var ke=[],je=0;je<Ze.length;je++)ke[je]=(Ze[je]+We[je]+ze[je])/3;return ke}function ne(Ze,We,ze){for(var ke=[],je=0;je<Ze.length;je++)ke[je]=Ze[je]*(1-ze)+ze*We[je];return ke}var Y;function oe(Ze){Y=Ze}function le(Ze,We){var ze=Ze[0],ke=Ze[1],je=Ze[2],Ie=X(ze,ke,je),pe=Math.sqrt(1-Y),we=ne(Ie,ze,pe),Ve=ne(Ie,ke,pe),Qe=ne(Ie,je,pe),it=We[0],st=We[1],Wt=We[2];return{xyzv:[[ze,ke,Ve],[Ve,we,ze],[ke,je,Qe],[Qe,Ve,ke],[je,ze,we],[we,Qe,je]],abc:[[it,st,-1],[-1,-1,it],[st,Wt,-1],[-1,-1,st],[Wt,it,-1],[-1,-1,Wt]]}}function Z(Ze,We){return Ze==="all"||Ze===null?!0:Ze.indexOf(We)>-1}function $(Ze,We){return Ze===null?We:Ze}function se(Ze,We,ze){ee();var ke=[We],je=[ze];if(Y>=1)ke=[We],je=[ze];else if(Y>0){var Ie=le(We,ze);ke=Ie.xyzv,je=Ie.abc}for(var pe=0;pe<ke.length;pe++){We=ke[pe],ze=je[pe];for(var we=[],Ve=0;Ve<3;Ve++){var Qe=We[Ve][0],it=We[Ve][1],st=We[Ve][2],Wt=We[Ve][3],jt=ze[Ve]>-1?ze[Ve]:Q(Qe,it,st);jt>-1?we[Ve]=jt:we[Ve]=ue(Qe,it,st,$(Ze,Wt))}J(we[0],we[1],we[2])}}function ae(Ze,We,ze){var ke=function(je,Ie,pe){se(Ze,[We[je],We[Ie],We[pe]],[ze[je],ze[Ie],ze[pe]])};ke(0,1,2),ke(2,3,0)}function he(Ze,We,ze){var ke=function(je,Ie,pe){se(Ze,[We[je],We[Ie],We[pe]],[ze[je],ze[Ie],ze[pe]])};ke(0,1,2),ke(3,0,1),ke(2,3,0),ke(1,2,3)}function me(Ze,We,ze,ke){var je=Ze[3];je<ze&&(je=ze),je>ke&&(je=ke);for(var Ie=(Ze[3]-je)/(Ze[3]-We[3]+1e-9),pe=[],we=0;we<4;we++)pe[we]=(1-Ie)*Ze[we]+Ie*We[we];return pe}function Me(Ze,We,ze){return Ze>=We&&Ze<=ze}function Te(Ze){var We=.001*(F-z);return Ze>=z-We&&Ze<=F+We}function Pe(Ze){for(var We=[],ze=0;ze<4;ze++){var ke=Ze[ze];We.push([u._x[ke],u._y[ke],u._z[ke],u._value[ke]])}return We}var be=3;function Ee(Ze,We,ze,ke,je,Ie){Ie||(Ie=1),ze=[-1,-1,-1];var pe=!1,we=[Me(We[0][3],ke,je),Me(We[1][3],ke,je),Me(We[2][3],ke,je)];if(!we[0]&&!we[1]&&!we[2])return!1;var Ve=function(it,st,Wt){return Te(st[0][3])&&Te(st[1][3])&&Te(st[2][3])?(se(it,st,Wt),!0):Ie<be?Ee(it,st,Wt,z,F,++Ie):!1};if(we[0]&&we[1]&&we[2])return Ve(Ze,We,ze)||pe;var Qe=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(it){if(we[it[0]]&&we[it[1]]&&!we[it[2]]){var st=We[it[0]],Wt=We[it[1]],jt=We[it[2]],Tt=me(jt,st,ke,je),Lt=me(jt,Wt,ke,je);pe=Ve(Ze,[Lt,Tt,st],[-1,-1,ze[it[0]]])||pe,pe=Ve(Ze,[st,Wt,Lt],[ze[it[0]],ze[it[1]],-1])||pe,Qe=!0}}),Qe||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(it){if(we[it[0]]&&!we[it[1]]&&!we[it[2]]){var st=We[it[0]],Wt=We[it[1]],jt=We[it[2]],Tt=me(Wt,st,ke,je),Lt=me(jt,st,ke,je);pe=Ve(Ze,[Lt,Tt,st],[-1,-1,ze[it[0]]])||pe,Qe=!0}}),pe}function xe(Ze,We,ze,ke){var je=!1,Ie=Pe(We),pe=[Me(Ie[0][3],ze,ke),Me(Ie[1][3],ze,ke),Me(Ie[2][3],ze,ke),Me(Ie[3][3],ze,ke)];if(!pe[0]&&!pe[1]&&!pe[2]&&!pe[3])return je;if(pe[0]&&pe[1]&&pe[2]&&pe[3])return o&&(je=he(Ze,Ie,We)||je),je;var we=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ve){if(pe[Ve[0]]&&pe[Ve[1]]&&pe[Ve[2]]&&!pe[Ve[3]]){var Qe=Ie[Ve[0]],it=Ie[Ve[1]],st=Ie[Ve[2]],Wt=Ie[Ve[3]];if(o)je=se(Ze,[Qe,it,st],[We[Ve[0]],We[Ve[1]],We[Ve[2]]])||je;else{var jt=me(Wt,Qe,ze,ke),Tt=me(Wt,it,ze,ke),Lt=me(Wt,st,ze,ke);je=se(null,[jt,Tt,Lt],[-1,-1,-1])||je}we=!0}}),we||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ve){if(pe[Ve[0]]&&pe[Ve[1]]&&!pe[Ve[2]]&&!pe[Ve[3]]){var Qe=Ie[Ve[0]],it=Ie[Ve[1]],st=Ie[Ve[2]],Wt=Ie[Ve[3]],jt=me(st,Qe,ze,ke),Tt=me(st,it,ze,ke),Lt=me(Wt,it,ze,ke),Xt=me(Wt,Qe,ze,ke);o?(je=se(Ze,[Qe,Xt,jt],[We[Ve[0]],-1,-1])||je,je=se(Ze,[it,Tt,Lt],[We[Ve[1]],-1,-1])||je):je=ae(null,[jt,Tt,Lt,Xt],[-1,-1,-1,-1])||je,we=!0}}),we)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ve){if(pe[Ve[0]]&&!pe[Ve[1]]&&!pe[Ve[2]]&&!pe[Ve[3]]){var Qe=Ie[Ve[0]],it=Ie[Ve[1]],st=Ie[Ve[2]],Wt=Ie[Ve[3]],jt=me(it,Qe,ze,ke),Tt=me(st,Qe,ze,ke),Lt=me(Wt,Qe,ze,ke);o?(je=se(Ze,[Qe,jt,Tt],[We[Ve[0]],-1,-1])||je,je=se(Ze,[Qe,Tt,Lt],[We[Ve[0]],-1,-1])||je,je=se(Ze,[Qe,Lt,jt],[We[Ve[0]],-1,-1])||je):je=se(null,[jt,Tt,Lt],[-1,-1,-1])||je,we=!0}}),je}function Ce(Ze,We,ze,ke,je,Ie,pe,we,Ve,Qe,it){var st=!1;return c&&(Z(Ze,"A")&&(st=xe(null,[We,ze,ke,Ie],Qe,it)||st),Z(Ze,"B")&&(st=xe(null,[ze,ke,je,Ve],Qe,it)||st),Z(Ze,"C")&&(st=xe(null,[ze,Ie,pe,Ve],Qe,it)||st),Z(Ze,"D")&&(st=xe(null,[ke,Ie,we,Ve],Qe,it)||st),Z(Ze,"E")&&(st=xe(null,[ze,ke,Ie,Ve],Qe,it)||st)),o&&(st=xe(Ze,[ze,ke,Ie,Ve],Qe,it)||st),st}function Ue(Ze,We,ze,ke,je,Ie,pe,we){return[we[0]===!0?!0:Ee(Ze,Pe([We,ze,ke]),[We,ze,ke],Ie,pe),we[1]===!0?!0:Ee(Ze,Pe([ke,je,We]),[ke,je,We],Ie,pe)]}function Ne(Ze,We,ze,ke,je,Ie,pe,we,Ve){return we?Ue(Ze,We,ze,je,ke,Ie,pe,Ve):Ue(Ze,ze,je,ke,We,Ie,pe,Ve)}function De(Ze,We,ze,ke,je,Ie,pe){var we=!1,Ve,Qe,it,st,Wt=function(){we=Ee(Ze,[Ve,Qe,it],[-1,-1,-1],je,Ie)||we,we=Ee(Ze,[it,st,Ve],[-1,-1,-1],je,Ie)||we},jt=pe[0],Tt=pe[1],Lt=pe[2];return jt&&(Ve=ne(Pe([_(We,ze-0,ke-0)])[0],Pe([_(We-1,ze-0,ke-0)])[0],jt),Qe=ne(Pe([_(We,ze-0,ke-1)])[0],Pe([_(We-1,ze-0,ke-1)])[0],jt),it=ne(Pe([_(We,ze-1,ke-1)])[0],Pe([_(We-1,ze-1,ke-1)])[0],jt),st=ne(Pe([_(We,ze-1,ke-0)])[0],Pe([_(We-1,ze-1,ke-0)])[0],jt),Wt()),Tt&&(Ve=ne(Pe([_(We-0,ze,ke-0)])[0],Pe([_(We-0,ze-1,ke-0)])[0],Tt),Qe=ne(Pe([_(We-0,ze,ke-1)])[0],Pe([_(We-0,ze-1,ke-1)])[0],Tt),it=ne(Pe([_(We-1,ze,ke-1)])[0],Pe([_(We-1,ze-1,ke-1)])[0],Tt),st=ne(Pe([_(We-1,ze,ke-0)])[0],Pe([_(We-1,ze-1,ke-0)])[0],Tt),Wt()),Lt&&(Ve=ne(Pe([_(We-0,ze-0,ke)])[0],Pe([_(We-0,ze-0,ke-1)])[0],Lt),Qe=ne(Pe([_(We-0,ze-1,ke)])[0],Pe([_(We-0,ze-1,ke-1)])[0],Lt),it=ne(Pe([_(We-1,ze-1,ke)])[0],Pe([_(We-1,ze-1,ke-1)])[0],Lt),st=ne(Pe([_(We-1,ze-0,ke)])[0],Pe([_(We-1,ze-0,ke-1)])[0],Lt),Wt()),we}function He(Ze,We,ze,ke,je,Ie,pe,we,Ve,Qe,it,st){var Wt=Ze;return st?(c&&Ze==="even"&&(Wt=null),Ce(Wt,We,ze,ke,je,Ie,pe,we,Ve,Qe,it)):(c&&Ze==="odd"&&(Wt=null),Ce(Wt,Ve,we,pe,Ie,je,ke,ze,We,Qe,it))}function at(Ze,We,ze,ke,je){for(var Ie=[],pe=0,we=0;we<We.length;we++)for(var Ve=We[we],Qe=1;Qe<E;Qe++)for(var it=1;it<s;it++)Ie.push(Ne(Ze,_(Ve,it-1,Qe-1),_(Ve,it-1,Qe),_(Ve,it,Qe-1),_(Ve,it,Qe),ze,ke,(Ve+it+Qe)%2,je&&je[pe]?je[pe]:[])),pe++;return Ie}function vt(Ze,We,ze,ke,je){for(var Ie=[],pe=0,we=0;we<We.length;we++)for(var Ve=We[we],Qe=1;Qe<M;Qe++)for(var it=1;it<E;it++)Ie.push(Ne(Ze,_(Qe-1,Ve,it-1),_(Qe,Ve,it-1),_(Qe-1,Ve,it),_(Qe,Ve,it),ze,ke,(Qe+Ve+it)%2,je&&je[pe]?je[pe]:[])),pe++;return Ie}function ot(Ze,We,ze,ke,je){for(var Ie=[],pe=0,we=0;we<We.length;we++)for(var Ve=We[we],Qe=1;Qe<s;Qe++)for(var it=1;it<M;it++)Ie.push(Ne(Ze,_(it-1,Qe-1,Ve),_(it-1,Qe,Ve),_(it,Qe-1,Ve),_(it,Qe,Ve),ze,ke,(it+Qe+Ve)%2,je&&je[pe]?je[pe]:[])),pe++;return Ie}function et(Ze,We,ze){for(var ke=1;ke<E;ke++)for(var je=1;je<s;je++)for(var Ie=1;Ie<M;Ie++)He(Ze,_(Ie-1,je-1,ke-1),_(Ie-1,je-1,ke),_(Ie-1,je,ke-1),_(Ie-1,je,ke),_(Ie,je-1,ke-1),_(Ie,je-1,ke),_(Ie,je,ke-1),_(Ie,je,ke),We,ze,(Ie+je+ke)%2)}function ct(Ze,We,ze){o=!0,et(Ze,We,ze),o=!1}function ht(Ze,We,ze){c=!0,et(Ze,We,ze),c=!1}function gt(Ze,We,ze,ke,je,Ie){for(var pe=[],we=0,Ve=0;Ve<We.length;Ve++)for(var Qe=We[Ve],it=1;it<E;it++)for(var st=1;st<s;st++)pe.push(De(Ze,Qe,st,it,ze,ke,je[Ve],Ie&&Ie[we]?Ie[we]:[])),we++;return pe}function xt(Ze,We,ze,ke,je,Ie){for(var pe=[],we=0,Ve=0;Ve<We.length;Ve++)for(var Qe=We[Ve],it=1;it<M;it++)for(var st=1;st<E;st++)pe.push(De(Ze,it,Qe,st,ze,ke,je[Ve],Ie&&Ie[we]?Ie[we]:[])),we++;return pe}function Mt(Ze,We,ze,ke,je,Ie){for(var pe=[],we=0,Ve=0;Ve<We.length;Ve++)for(var Qe=We[Ve],it=1;it<s;it++)for(var st=1;st<M;st++)pe.push(De(Ze,st,it,Qe,ze,ke,je[Ve],Ie&&Ie[we]?Ie[we]:[])),we++;return pe}function tt(Ze,We){for(var ze=[],ke=Ze;ke<We;ke++)ze.push(ke);return ze}function Oe(){for(var Ze=0;Ze<M;Ze++)for(var We=0;We<s;We++)for(var ze=0;ze<E;ze++){var ke=_(Ze,We,ze);ue(u._x[ke],u._y[ke],u._z[ke],u._value[ke])}}function Xe(){re(),Oe();var Ze=null;if(y&&T&&(oe(T),ct(Ze,z,F)),l&&h){oe(h);for(var We=u.surface.pattern,ze=u.surface.count,ke=0;ke<ze;ke++){var je=ze===1?.5:ke/(ze-1),Ie=(1-je)*z+je*F,pe=Math.abs(Ie-D),we=Math.abs(Ie-N),Ve=pe>we?[D,Ie]:[Ie,N];ht(We,Ve[0],Ve[1])}}var Qe=[[Math.min(z,N),Math.max(z,N)],[Math.min(D,F),Math.max(D,F)]];["x","y","z"].forEach(function(it){for(var st=[],Wt=0;Wt<Qe.length;Wt++){var jt=0,Tt=Qe[Wt][0],Lt=Qe[Wt][1],Xt=u.slices[it];if(Xt.show&&Xt.fill){oe(Xt.fill);var Tr=[],yt=[],Kt=[];if(Xt.locations.length)for(var Jt=0;Jt<Xt.locations.length;Jt++){var yr=d(Xt.locations[Jt],it==="x"?P:it==="y"?m:L);yr.distRatio===0?Tr.push(yr.id):yr.id>0&&(yt.push(yr.id),it==="x"?Kt.push([yr.distRatio,0,0]):it==="y"?Kt.push([0,yr.distRatio,0]):Kt.push([0,0,yr.distRatio]))}else it==="x"?Tr=tt(1,M-1):it==="y"?Tr=tt(1,s-1):Tr=tt(1,E-1);yt.length>0&&(it==="x"?st[jt]=gt(Ze,yt,Tt,Lt,Kt,st[jt]):it==="y"?st[jt]=xt(Ze,yt,Tt,Lt,Kt,st[jt]):st[jt]=Mt(Ze,yt,Tt,Lt,Kt,st[jt]),jt++),Tr.length>0&&(it==="x"?st[jt]=at(Ze,Tr,Tt,Lt,st[jt]):it==="y"?st[jt]=vt(Ze,Tr,Tt,Lt,st[jt]):st[jt]=ot(Ze,Tr,Tt,Lt,st[jt]),jt++)}var ur=u.caps[it];ur.show&&ur.fill&&(oe(ur.fill),it==="x"?st[jt]=at(Ze,[0,M-1],Tt,Lt,st[jt]):it==="y"?st[jt]=vt(Ze,[0,s-1],Tt,Lt,st[jt]):st[jt]=ot(Ze,[0,E-1],Tt,Lt,st[jt]),jt++)}}),p===0&&re(),u._meshX=U,u._meshY=B,u._meshZ=V,u._meshIntensity=j,u._Xs=P,u._Ys=m,u._Zs=L}return Xe(),u}function f(u,l){var y=u.glplot.gl,h=g({gl:y}),T=new r(u,h,l.uid);return h._trace=T,T.update(l),u.glplot.add(h),T}G.exports={findNearestOnAxis:d,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(G,H,e){var g=e(3400),R=e(24040),i=e(50048),C=e(27260);function S(d,r,t,a){function n(f,u){return g.coerce(d,r,i,f,u)}v(d,r,t,a,n)}function v(d,r,t,a,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),y=n("y"),h=n("z"),T=n("value");if(!l||!l.length||!y||!y.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=R.getComponentMethod("calendars","handleTraceDefaults");c(d,r,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(b){n(b+"hoverformat");var P="caps."+b,m=n(P+".show");m&&n(P+".fill");var L="slices."+b,M=n(L+".show");M&&(n(L+".fill"),n(L+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){n(b)}),C(d,r,a,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(G,H,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,H,e){var g=e(49084),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(16716),S=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(G,H,e){var g=e(47128);G.exports=function(i,C){C.intensity&&g(i,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(G,H,e){var g=e(67792).gl_mesh3d,R=e(67792).delaunay_triangulate,i=e(67792).alpha_shape,C=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,d=e(43080),r=e(8932).extractOpts,t=e(52094);function a(c,o,p){this.scene=c,this.uid=p,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var p=this.data.hovertext||this.data.text;return v(p)&&p[o]!==void 0?c.textLabel=p[o]:p&&(c.textLabel=p),!0}};function f(c){for(var o=[],p=c.length,x=0;x<p;x++)o[x]=d(c[x]);return o}function u(c,o,p,x){for(var b=[],P=o.length,m=0;m<P;m++)b[m]=c.d2l(o[m],0,x)*p;return b}function l(c){for(var o=[],p=c.length,x=0;x<p;x++)o[x]=Math.round(c[x]);return o}function y(c,o){for(var p=["x","y","z"].indexOf(c),x=[],b=o.length,P=0;P<b;P++)x[P]=[o[P][(p+1)%3],o[P][(p+2)%3]];return R(x)}function h(c,o){for(var p=c.length,x=0;x<p;x++)if(c[x]<=-.5||c[x]>=o-.5)return!1;return!0}n.update=function(c){var o=this.scene,p=o.fullSceneLayout;this.data=c;var x=c.x.length,b=t(u(p.xaxis,c.x,o.dataScale[0],c.xcalendar),u(p.yaxis,c.y,o.dataScale[1],c.ycalendar),u(p.zaxis,c.z,o.dataScale[2],c.zcalendar)),P;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;P=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?P=C(b):c.alphahull>0?P=i(c.alphahull,b):P=y(c.delaunayaxis,b);var m={positions:b,cells:P,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:d(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var L=r(c);this.color="#fff";var M=c.intensitymode;m[M+"Intensity"]=c.intensity,m[M+"IntensityBounds"]=[L.min,L.max],m.colormap=S(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=f(c.facecolor)):(this.color=c.color,m.meshColor=d(c.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,o){var p=c.glplot.gl,x=g({gl:p}),b=new a(c,x,o.uid);return x._trace=b,b.update(o),c.glplot.add(x),b}G.exports=T},74212:function(G,H,e){var g=e(24040),R=e(3400),i=e(27260),C=e(52948);G.exports=function(v,d,r,t){function a(y,h){return R.coerce(v,d,C,y,h)}function n(y){var h=y.map(function(T){var c=a(T);return c&&R.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){d.visible=!1;return}if(n(["i","j","k"]),d.i&&(!d.j||!d.k)||d.j&&(!d.k||!d.i)||d.k&&(!d.i||!d.j)){d.visible=!1;return}var u=g.getComponentMethod("calendars","handleTraceDefaults");u(v,d,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){a(y)});var l=a("contour.show");l&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),i(v,d,t,a,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",r)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),d._length=null}},7404:function(G,H,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,H,e){var g=e(3400).extendFlat,R=e(52904),i=e(29736).axisHoverFormat,C=e(98192).u,S=e(55756),v=e(48164),d=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=R.line;function a(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:C,editType:"style"},editType:"style"}}G.exports={xperiod:R.xperiod,xperiod0:R.xperiod0,xperiodalignment:R.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},C,{}),editType:"style"},increasing:a(d),decreasing:a(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:R.zorder}},42812:function(G,H,e){var g=e(3400),R=g._,i=e(54460),C=e(1220),S=e(39032).BADNUM;function v(a,n){var f=i.getFromId(a,n.xaxis),u=i.getFromId(a,n.yaxis),l=t(a,f,n),y=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var c=r(a,n,h,T,u,d);return n._extremes[f._id]=i.findExtremes(f,T,{vpad:y/2}),c.length?(g.extendFlat(c[0].t,{wHover:y/2,tickLen:l}),c):[{t:{empty:!0}}]}function d(a,n,f,u){return{o:a,h:n,l:f,c:u}}function r(a,n,f,u,l,y){for(var h=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),p=g.isArrayOrTypedArray(n.text),x=g.isArrayOrTypedArray(n.hovertext),b=!0,P=null,m=!!n.xperiodalignment,L=[],M=0;M<u.length;M++){var s=u[M],E=h[M],w=T[M],_=c[M],D=o[M];if(s!==S&&E!==S&&w!==S&&_!==S&&D!==S){D===E?P!==null&&D!==P&&(b=D>P):b=D>E,P=D;var N=y(E,w,_,D);N.pos=s,N.yc=(E+D)/2,N.i=M,N.dir=b?"increasing":"decreasing",N.x=N.pos,N.y=[_,w],m&&(N.orig_p=f[M]),p&&(N.tx=n.text[M]),x&&(N.htx=n.hovertext[M]),L.push(N)}else L.push({pos:s,empty:!0})}return n._extremes[l._id]=i.findExtremes(l,g.concat(c,T),{padded:!0}),L.length&&(L[0].t={labels:{open:R(a,"open:")+" ",high:R(a,"high:")+" ",low:R(a,"low:")+" ",close:R(a,"close:")+" "}}),L}function t(a,n,f){var u=f._minDiff;if(!u){var l=a._fullData,y=[];u=1/0;var h;for(h=0;h<l.length;h++){var T=l[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){y.push(T);var c=n.makeCalcdata(T,"x");T._origX=c;var o=C(f,n,"x",c).vals;T._xcalc=o;var p=g.distinctVals(o).minDiff;p&&isFinite(p)&&(u=Math.min(u,p))}}for(u===1/0&&(u=1),h=0;h<y.length;h++)y[h]._minDiff=u}return u*f.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,H,e){var g=e(3400),R=e(52744),i=e(31147),C=e(20279);G.exports=function(d,r,t,a){function n(u,l){return g.coerce(d,r,C,u,l)}var f=R(d,r,n,a);if(!f){r.visible=!1;return}i(d,r,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(d,r,n,"increasing"),S(d,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,d,r,t){r(t+".line.color"),r(t+".line.width",d.line.width),r(t+".line.dash",d.line.dash)}},18720:function(G,H,e){var g=e(54460),R=e(3400),i=e(93024),C=e(76308),S=e(3400).fillText,v=e(48164),d={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,y){var h=f.cd,T=h[0].trace;return T.hoverlabel.split?a(f,u,l,y):n(f,u,l,y)}function t(f,u,l,y){var h=f.cd,T=f.xa,c=h[0].trace,o=h[0].t,p=c.type,x=p==="ohlc"?"l":"min",b=p==="ohlc"?"h":"max",P,m,L=o.bPos||0,M=function(j){return j.pos+L-u},s=o.bdPos||o.tickLen,E=o.wHover,w=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));P=f.maxHoverDistance-w,m=f.maxSpikeDistance-w;function _(j){var Q=M(j);return i.inbox(Q-E,Q+E,P)}function D(j){var Q=j[x],ee=j[b];return Q===ee||i.inbox(Q-l,ee-l,P)}function N(j){return(_(j)+D(j))/2}var z=i.getDistanceFunction(y,_,D,N);if(i.getClosest(h,z,f),f.index===!1)return null;var F=h[f.index];if(F.empty)return null;var U=F.dir,B=c[U],V=B.line.color;return C.opacity(V)&&B.line.width?f.color=V:f.color=B.fillcolor,f.x0=T.c2p(F.pos+L-s,!0),f.x1=T.c2p(F.pos+L+s,!0),f.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,f.spikeDistance=N(F)*m/P,f.xSpike=T.c2p(F.pos,!0),f}function a(f,u,l,y){var h=f.cd,T=f.ya,c=h[0].trace,o=h[0].t,p=[],x=t(f,u,l,y);if(!x)return[];var b=x.index,P=h[b],m=P.hi||c.hoverinfo,L=m.split("+"),M=m==="all",s=M||L.indexOf("y")!==-1;if(!s)return[];for(var E=["high","open","close","low"],w={},_=0;_<E.length;_++){var D=E[_],N=c[D][x.index],z=T.c2p(N,!0),F;N in w?(F=w[N],F.yLabel+="<br>"+o.labels[D]+g.hoverLabelText(T,N,c.yhoverformat)):(F=R.extendFlat({},x),F.y0=F.y1=z,F.yLabelVal=N,F.yLabel=o.labels[D]+g.hoverLabelText(T,N,c.yhoverformat),F.name="",p.push(F),w[N]=F)}return p}function n(f,u,l,y){var h=f.cd,T=f.ya,c=h[0].trace,o=h[0].t,p=t(f,u,l,y);if(!p)return[];var x=p.index,b=h[x],P=p.index=b.i,m=b.dir;function L(N){return o.labels[N]+g.hoverLabelText(T,c[N][P],c.yhoverformat)}var M=b.hi||c.hoverinfo,s=M.split("+"),E=M==="all",w=E||s.indexOf("y")!==-1,_=E||s.indexOf("text")!==-1,D=w?[L("open"),L("high"),L("low"),L("close")+"  "+d[m]]:[];return _&&S(b,c,D),p.extraText=D.join("<br>"),p.y0=p.y1=T.c2p(b.yc,!0),[p]}G.exports={hoverPoints:r,hoverSplit:a,hoverOnPoints:n}},65456:function(G,H,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,H,e){var g=e(24040),R=e(3400);G.exports=function(C,S,v,d){var r=v("x"),t=v("open"),a=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=g.getComponentMethod("calendars","handleTraceDefaults");if(u(C,S,["x"],d),!!(t&&a&&n&&f)){var l=Math.min(t.length,a.length,n.length,f.length);return r&&(l=Math.min(l,R.minRowLength(r))),S._length=l,l}}},36664:function(G,H,e){var g=e(33428),R=e(3400);G.exports=function(C,S,v,d){var r=S.yaxis,t=S.xaxis,a=!!t.rangebreaks;R.makeTraceGroups(d,v,"trace ohlc").each(function(n){var f=g.select(this),u=n[0],l=u.t,y=u.trace;if(y.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,T=f.selectAll("path").data(R.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),p=t.c2p(c.pos+h,!0),x=a?(o+p)/2:t.c2p(c.pos,!0),b=r.c2p(c.o,!0),P=r.c2p(c.h,!0),m=r.c2p(c.l,!0),L=r.c2p(c.c,!0);return"M"+o+","+b+"H"+x+"M"+x+","+P+"V"+m+"M"+p+","+L+"H"+x})})}},97384:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,C=e.yaxis,S=[],v,d=R[0].t.bPos||0;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++){var r=R[v];g.contains([i.c2p(r.pos+d),C.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:i.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(G,H,e){var g=e(33428),R=e(43616),i=e(76308);G.exports=function(S,v,d){var r=d||g.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var a=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var f=a[n.dir].line;g.select(this).style("fill","none").call(i.stroke,f.color).call(R.dashLine,f.dash,f.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,H,e){var g=e(92880).extendFlat,R=e(45464),i=e(25376),C=e(49084),S=e(21776).Ks,v=e(86968).u,d=g({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},R.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:d,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,H,e){var g=e(84888)._M,R=e(60268),i="parcats";H.name=i,H.plot=function(C,S,v,d){var r=g(C.calcdata,i);if(r.length){var t=r[0];R(C,t,v,d)}},H.clean=function(C,S,v,d){var r=d._has&&d._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&d._paperdiv.selectAll(".parcats").remove()}},69136:function(G,H,e){var g=e(71688).wrap,R=e(94288).hasColorscale,i=e(47128),C=e(68944),S=e(43616),v=e(3400),d=e(38248);G.exports=function(o,p){var x=v.filterVisible(p.dimensions);if(x.length===0)return[];var b=x.map(function(J){var X;if(J.categoryorder==="trace")X=null;else if(J.categoryorder==="array")X=J.categoryarray;else{X=C(J.values);for(var ne=!0,Y=0;Y<X.length;Y++)if(!d(X[Y])){ne=!1;break}X.sort(ne?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(X=X.reverse())}return l(J.values,X)}),P,m,L;v.isArrayOrTypedArray(p.counts)?P=p.counts:P=[p.counts],y(x),x.forEach(function(J,X){h(J,b[X])});var M=p.line,s;M?(R(p,"line")&&i(o,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),s=S.tryColorscale(M)):s=v.identity;function E(J){var X,ne;return v.isArrayOrTypedArray(M.color)?(X=M.color[J%M.color.length],ne=X):X=M.color,{color:s(X),rawColor:ne}}var w=x[0].values.length,_={},D=b.map(function(J){return J.inds});L=0;var N,z;for(N=0;N<w;N++){var F=[];for(z=0;z<D.length;z++)F.push(D[z][N]);m=P[N%P.length],L+=m;var U=E(N),B=F+"-"+U.rawColor;_[B]===void 0&&(_[B]=f(F,U.color,U.rawColor)),u(_[B],N,m)}var V=x.map(function(J,X){return t(X,J._index,J._displayindex,J.label,L)});for(N=0;N<w;N++)for(m=P[N%P.length],z=0;z<V.length;z++){var j=V[z].containerInd,Q=b[z].inds[N],ee=V[z].categories;if(ee[Q]===void 0){var re=p.dimensions[j]._categoryarray[Q],ue=p.dimensions[j]._ticktext[Q];ee[Q]=a(z,Q,re,ue)}n(ee[Q],N,m)}return g(r(V,_,L))};function r(c,o,p){var x=c.map(function(b){return b.categories.length}).reduce(function(b,P){return Math.max(b,P)});return{dimensions:c,paths:o,trace:void 0,maxCats:x,count:p}}function t(c,o,p,x,b){return{dimensionInd:c,containerInd:o,displayInd:p,dimensionLabel:x,count:b,categories:[],dragX:null}}function a(c,o,p,x){return{dimensionInd:c,categoryInd:o,categoryValue:p,displayInd:o,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(c,o,p){c.valueInds.push(o),c.count+=p}function f(c,o,p){return{categoryInds:c,color:o,rawColor:p,valueInds:[],count:0}}function u(c,o,p){c.valueInds.push(o),c.count+=p}function l(c,o){o==null?o=[]:o=o.map(function(s){return s});var p={},x={},b=[];o.forEach(function(s,E){p[s]=0,x[s]=E});for(var P=0;P<c.length;P++){var m=c[P],L;p[m]===void 0?(p[m]=1,L=o.push(m)-1,x[m]=L):(p[m]++,L=x[m]),b.push(L)}var M=o.map(function(s){return p[s]});return{uniqueValues:o,uniqueCounts:M,inds:b}}function y(c){var o=c.map(function(x){return x.displayindex}),p;if(T(o))for(p=0;p<c.length;p++)c[p]._displayindex=c[p].displayindex;else for(p=0;p<c.length;p++)c[p]._displayindex=p}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var p=c._ticktext.length;p<o.uniqueValues.length;p++)c._ticktext.push(o.uniqueValues[p])}function T(c){for(var o=new Array(c.length),p=0;p<c.length;p++){if(c[p]<0||c[p]>=c.length||o[c[p]]!==void 0)return!1;o[c[p]]=!0}return!0}},76671:function(G,H,e){var g=e(3400),R=e(94288).hasColorscale,i=e(27260),C=e(86968).Q,S=e(51272),v=e(72140),d=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,y){y("line.shape"),y("line.hovertemplate");var h=y("line.color",l.colorway[0]);if(R(n,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return y("line.colorscale"),i(n,f,l,y,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function a(n,f){function u(p,x){return g.coerce(n,f,v.dimensions,p,x)}var l=u("values"),y=u("visible");if(l&&l.length||(y=f.visible=!1),y){u("label"),u("displayindex",f._index);var h=n.categoryarray,T=g.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var o=u("categoryorder",c);o==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&o==="array"&&(f.categoryorder="trace")}}G.exports=function(f,u,l,y){function h(x,b){return g.coerce(f,u,v,x,b)}var T=S(f,u,{name:"dimensions",handleItemDefaults:a}),c=t(f,u,l,y,h);C(u,y,h),(!Array.isArray(T)||!T.length)&&(u.visible=!1),d(u,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={weight:y.font.weight,style:y.font.style,variant:y.font.variant,family:y.font.family,size:Math.round(y.font.size),color:y.font.color};g.coerceFont(h,"labelfont",o);var p={weight:y.font.weight,style:y.font.style,variant:y.font.variant,family:y.font.family,size:Math.round(y.font.size/1.2),color:y.font.color};g.coerceFont(h,"tickfont",p)}},22020:function(G,H,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,H,e){var g=e(33428),R=e(67756).Gz,i=e(36424),C=e(93024),S=e(3400),v=S.strTranslate,d=e(43616),r=e(49760),t=e(72736);function a(Y,oe,le,Z){var $=oe._context.staticPlot,se=Y.map(re.bind(0,oe,le)),ae=Z.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var he=ae.selectAll("g.trace.parcats").data(se,n),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(He){return v(He.x,He.y)}),me.append("g").attr("class","paths");var Me=he.select("g.paths"),Te=Me.selectAll("path.path").data(function(He){return He.paths},n);Te.attr("fill",function(He){return He.model.color});var Pe=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);o(Pe),Te.attr("d",function(He){return He.svgD}),Pe.empty()||Te.sort(u),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",y).on("click",c),me.append("g").attr("class","dimensions");var be=he.select("g.dimensions"),Ee=be.selectAll("g.dimension").data(function(He){return He.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(He){return v(He.x,0)}),Ee.exit().remove();var xe=Ee.selectAll("g.category").data(function(He){return He.categories},n),Ce=xe.enter().append("g").attr("class","category");xe.attr("transform",function(He){return v(0,He.y)}),Ce.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),b(Ce);var Ue=xe.selectAll("rect.bandrect").data(function(He){return He.bands},n);Ue.each(function(){S.raiseToTop(this)}),Ue.attr("fill",function(He){return He.color});var Ne=Ue.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Ue.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":He.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Ne),Ue.exit().remove(),Ce.append("text").attr("class","catlabel").attr("pointer-events","none");var De=oe._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(He){return f(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(De)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return f(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){d.font(g.select(this),He.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),oe)}),Ce.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,at){return at===0?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){d.font(g.select(this),He.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",F),xe.exit().remove(),Ee.call(g.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",U).on("drag",B).on("dragend",V)),he.each(function(He){He.traceSelection=g.select(this),He.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}G.exports=function(Y,oe,le,Z){a(le,Y,Z,oe)};function n(Y){return Y.key}function f(Y){var oe=Y.parcatsViewModel.dimensions.length,le=Y.parcatsViewModel.dimensions[oe-1].model.dimensionInd;return Y.model.dimensionInd===le}function u(Y,oe){return Y.model.rawColor>oe.model.rawColor?1:Y.model.rawColor<oe.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),p(g.select(this));var oe=h(Y),le=T(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:oe,event:g.event,constraints:le}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Z=g.mouse(this)[0],$=Y.parcatsViewModel.graphDiv,se=Y.parcatsViewModel.trace,ae=$._fullLayout,he=ae._paperdiv.node().getBoundingClientRect(),me=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),Me,Te,Pe;for(Pe=0;Pe<Y.leftXs.length-1;Pe++)if(Y.leftXs[Pe]+Y.dimWidths[Pe]-2<=Z&&Z<=Y.leftXs[Pe+1]+2){var be=Y.parcatsViewModel.dimensions[Pe],Ee=Y.parcatsViewModel.dimensions[Pe+1];Me=(be.x+be.width+Ee.x)/2,Te=(Y.topYs[Pe]+Y.topYs[Pe+1]+Y.height)/2;break}var xe=Y.parcatsViewModel.x+Me,Ce=Y.parcatsViewModel.y+Te,Ue=r.mostReadable(Y.model.color,["black","white"]),Ne=Y.model.count,De=Ne/Y.parcatsViewModel.model.count,He={countLabel:Ne,probabilityLabel:De.toFixed(3)},at=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",He.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&at.push(["P:",He.probabilityLabel].join(" "));var vt=at.join("<br>"),ot=g.mouse($)[0];C.loneHover({trace:se,x:xe-he.left+me.left,y:Ce-he.top+me.top,text:vt,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ue,idealAlign:ot<xe?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:se._input,fullData:se,count:Ne,probability:De}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:$})}}}function y(Y){if(!Y.parcatsViewModel.dragDimension&&(o(g.select(this)),C.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(u),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var oe=h(Y),le=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:oe,event:g.event,constraints:le})}}function h(Y){for(var oe=[],le=j(Y.parcatsViewModel),Z=0;Z<Y.model.valueInds.length;Z++){var $=Y.model.valueInds[Z];oe.push({curveNumber:le,pointNumber:$})}return oe}function T(Y){for(var oe={},le=Y.parcatsViewModel.model.dimensions,Z=0;Z<le.length;Z++){var $=le[Z],se=$.categories[Y.model.categoryInds[Z]];oe[$.containerInd]=se.categoryValue}return Y.model.rawColor!==void 0&&(oe.color=Y.model.rawColor),oe}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var oe=h(Y),le=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:oe,event:g.event,constraints:le})}}function o(Y){Y.attr("fill",function(oe){return oe.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(Y){Y.attr("fill-opacity",.8).attr("stroke",function(oe){return r.mostReadable(oe.model.color,["black","white"])}).attr("stroke-width",.3)}function x(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function b(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function P(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function m(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function L(Y){var oe=Y.parcatsViewModel.pathSelection,le=Y.categoryViewModel.model.dimensionInd,Z=Y.categoryViewModel.model.categoryInd;return oe.filter(function($){return $.model.categoryInds[le]===Z&&$.model.color===Y.color})}function M(Y){var oe=g.select(Y.parentNode).selectAll("rect.bandrect");oe.each(function(le){var Z=L(le);p(Z),Z.each(function(){S.raiseToTop(this)})}),x(g.select(Y.parentNode))}function s(Y){var oe=g.select(Y).datum(),le=L(oe);p(le),le.each(function(){S.raiseToTop(this)}),g.select(Y.parentNode).selectAll("rect.bandrect").filter(function(Z){return Z.color===oe.color}).each(function(){S.raiseToTop(this),P(g.select(this))})}function E(Y,oe,le){var Z=g.select(Y).datum(),$=Z.categoryViewModel.model,se=Z.parcatsViewModel.graphDiv,ae=g.select(Y.parentNode).selectAll("rect.bandrect"),he=[];ae.each(function(Me){var Te=L(Me);Te.each(function(Pe){Array.prototype.push.apply(he,h(Pe))})});var me={};me[$.dimensionInd]=$.categoryValue,se.emit(oe,{points:he,event:le,constraints:me})}function w(Y,oe,le){var Z=g.select(Y).datum(),$=Z.categoryViewModel.model,se=Z.parcatsViewModel.graphDiv,ae=L(Z),he=[];ae.each(function(Me){Array.prototype.push.apply(he,h(Me))});var me={};me[$.dimensionInd]=$.categoryValue,Z.rawColor!==void 0&&(me.color=Z.rawColor),se.emit(oe,{points:he,event:le,constraints:me})}function _(Y,oe,le){Y._fullLayout._calcInverseTransform(Y);var Z=Y._fullLayout._invScaleX,$=Y._fullLayout._invScaleY,se=g.select(le.parentNode).select("rect.catrect"),ae=se.node().getBoundingClientRect(),he=se.datum(),me=he.parcatsViewModel,Me=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Pe=ae.top+ae.height/2,be,Ee;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(be=ae.left,Ee="left"):(be=ae.left+ae.width,Ee="right");var xe=he.model.count,Ce=he.model.categoryLabel,Ue=xe/he.parcatsViewModel.model.count,Ne={countLabel:xe,categoryLabel:Ce,probabilityLabel:Ue.toFixed(3)},De=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&De.push(["Count:",Ne.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&De.push(["P("+Ne.categoryLabel+"):",Ne.probabilityLabel].join(" "));var He=De.join("<br>");return{trace:Te,x:Z*(be-oe.left),y:$*(Pe-oe.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Te.hovertemplate,hovertemplateLabels:Ne,eventData:[{data:Te._input,fullData:Te,count:xe,category:Ce,probability:Ue}]}}function D(Y,oe,le){var Z=[];return g.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var $=this;Z.push(_(Y,oe,$))}),Z}function N(Y,oe,le){Y._fullLayout._calcInverseTransform(Y);var Z=Y._fullLayout._invScaleX,$=Y._fullLayout._invScaleY,se=le.getBoundingClientRect(),ae=g.select(le).datum(),he=ae.categoryViewModel,me=he.parcatsViewModel,Me=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Pe=se.y+se.height/2,be,Ee;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(be=se.left,Ee="left"):(be=se.left+se.width,Ee="right");var xe=he.model.categoryLabel,Ce=ae.parcatsViewModel.model.count,Ue=0;ae.categoryViewModel.bands.forEach(function(gt){gt.color===ae.color&&(Ue+=gt.count)});var Ne=he.model.count,De=0;me.pathSelection.each(function(gt){gt.model.color===ae.color&&(De+=gt.model.count)});var He=Ue/Ce,at=Ue/De,vt=Ue/Ne,ot={countLabel:Ue,categoryLabel:xe,probabilityLabel:He.toFixed(3)},et=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",ot.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color  "+xe+"): "+ot.probabilityLabel),et.push("P("+xe+" | color): "+at.toFixed(3)),et.push("P(color | "+xe+"): "+vt.toFixed(3)));var ct=et.join("<br>"),ht=r.mostReadable(ae.color,["black","white"]);return{trace:Te,x:Z*(be-oe.left),y:$*(Pe-oe.top),text:ct,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Ee,hovertemplate:Te.hovertemplate,hovertemplateLabels:ot,eventData:[{data:Te._input,fullData:Te,category:xe,count:Ce,probability:He,categorycount:Ne,colorcount:De,bandcolorcount:Ue}]}}function z(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var oe=g.mouse(this)[1];if(oe<-1)return;var le=Y.parcatsViewModel.graphDiv,Z=le._fullLayout,$=Z._paperdiv.node().getBoundingClientRect(),se=Y.parcatsViewModel.hoveron,ae=this;if(se==="color"?(s(ae),w(ae,"plotly_hover",g.event)):(M(ae),E(ae,"plotly_hover",g.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;se==="category"?he=_(le,$,ae):se==="color"?he=N(le,$,ae):se==="dimension"&&(he=D(le,$,ae)),he&&C.loneHover(he,{container:Z._hoverlayer.node(),outerContainer:Z._paper.node(),gd:le})}}}function F(Y){var oe=Y.parcatsViewModel;if(!oe.dragDimension&&(o(oe.pathSelection),b(oe.dimensionSelection.selectAll("g.category")),m(oe.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(oe.graphDiv._fullLayout._hoverlayer.node()),oe.pathSelection.sort(u),oe.hoverinfoItems.indexOf("skip")===-1)){var le=Y.parcatsViewModel.hoveron,Z=this;le==="color"?w(Z,"plotly_unhover",g.event):E(Z,"plotly_unhover",g.event)}}function U(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(oe){return oe.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(oe){var le=g.mouse(this)[0],Z=g.mouse(this)[1];-2<=le&&le<=oe.width+2&&-2<=Z&&Z<=oe.height+2&&(Y.dragCategoryDisplayInd=oe.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function($){return $.displayInd}),oe.model.dragY=oe.y,S.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<Z&&Z<=$.y+$.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,C.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function B(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var oe=Y.dragDimensionDisplayInd,le=oe-1,Z=oe+1,$=Y.parcatsViewModel.dimensions[oe];if(Y.dragCategoryDisplayInd!==null){var se=$.categories[Y.dragCategoryDisplayInd];se.model.dragY+=g.event.dy;var ae=se.model.dragY,he=se.model.displayInd,me=$.categories,Me=me[he-1],Te=me[he+1];Me!==void 0&&ae<Me.y+Me.height/2&&(se.model.displayInd=Me.model.displayInd,Me.model.displayInd=he),Te!==void 0&&ae+se.height>Te.y+Te.height/2&&(se.model.displayInd=Te.model.displayInd,Te.model.displayInd=he),Y.dragCategoryDisplayInd=se.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){$.model.dragX=g.event.x;var Pe=Y.parcatsViewModel.dimensions[le],be=Y.parcatsViewModel.dimensions[Z];Pe!==void 0&&$.model.dragX<Pe.x+Pe.width&&($.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=oe),be!==void 0&&$.model.dragX+$.width>be.x&&($.model.displayInd=be.model.displayInd,be.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=$.model.displayInd}X(Y.parcatsViewModel),J(Y.parcatsViewModel),ee(Y.parcatsViewModel),Q(Y.parcatsViewModel)}}function V(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var oe={},le=j(Y.parcatsViewModel),Z=Y.parcatsViewModel.model.dimensions.map(function(be){return be.displayInd}),$=Y.initialDragDimensionDisplayInds.some(function(be,Ee){return be!==Z[Ee]});$&&Z.forEach(function(be,Ee){var xe=Y.parcatsViewModel.model.dimensions[Ee].containerInd;oe["dimensions["+xe+"].displayindex"]=be});var se=!1;if(Y.dragCategoryDisplayInd!==null){var ae=Y.model.categories.map(function(be){return be.displayInd});if(se=Y.initialDragCategoryDisplayInds.some(function(be,Ee){return be!==ae[Ee]}),se){var he=Y.model.categories.slice().sort(function(be,Ee){return be.displayInd-Ee.displayInd}),me=he.map(function(be){return be.categoryValue}),Me=he.map(function(be){return be.categoryLabel});oe["dimensions["+Y.model.containerInd+"].categoryarray"]=[me],oe["dimensions["+Y.model.containerInd+"].ticktext"]=[Me],oe["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?w(Y.potentialClickBand,"plotly_click",g.event.sourceEvent):E(Y.potentialClickBand,"plotly_click",g.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var Te=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];Te.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,X(Y.parcatsViewModel),J(Y.parcatsViewModel);var Pe=g.transition().duration(300).ease("cubic-in-out");Pe.each(function(){ee(Y.parcatsViewModel,!0),Q(Y.parcatsViewModel,!0)}).each("end",function(){($||se)&&i.restyle(Y.parcatsViewModel.graphDiv,oe,[le])})}}function j(Y){for(var oe,le=Y.graphDiv._fullData,Z=0;Z<le.length;Z++)if(Y.key===le[Z].uid){oe=Z;break}return oe}function Q(Y,oe){oe===void 0&&(oe=!1);function le(Z){return oe?Z.transition():Z}Y.pathSelection.data(function(Z){return Z.paths},n),le(Y.pathSelection).attr("d",function(Z){return Z.svgD})}function ee(Y,oe){oe===void 0&&(oe=!1);function le(me){return oe?me.transition():me}Y.dimensionSelection.data(function(me){return me.dimensions},n);var Z=Y.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},n);le(Y.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),le(Z).attr("transform",function(me){return v(0,me.y)});var $=Z.select(".dimlabel");$.text(function(me,Me){return Me===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var se=Z.select(".catlabel");se.attr("text-anchor",function(me){return f(me)?"start":"end"}).attr("x",function(me){return f(me)?me.width+5:-5}).each(function(me){var Me,Te;f(me)?(Me=me.width+5,Te="start"):(Me=-5,Te="end"),g.select(this).selectAll("tspan").attr("x",Me).attr("text-anchor",Te)});var ae=Z.selectAll("rect.bandrect").data(function(me){return me.bands},n),he=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ae.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),m(he),ae.each(function(){S.raiseToTop(this)}),ae.exit().remove()}function re(Y,oe,le){var Z=le[0],$=oe.margin||{l:80,r:80,t:100,b:80},se=Z.trace,ae=se.domain,he=oe.width,me=oe.height,Me=Math.floor(he*(ae.x[1]-ae.x[0])),Te=Math.floor(me*(ae.y[1]-ae.y[0])),Pe=ae.x[0]*he+$.l,be=oe.height-ae.y[1]*oe.height+$.t,Ee=se.line.shape,xe;se.hoverinfo==="all"?xe=["count","probability"]:xe=(se.hoverinfo||"").split("+");var Ce={trace:se,key:se.uid,model:Z,x:Pe,y:be,width:Me,height:Te,hoveron:se.hoveron,hoverinfoItems:xe,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Ee,dragDimension:null,margin:$,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return Z.dimensions&&(X(Ce),J(Ce)),Ce}function ue(Y,oe,le,Z,$){var se=[],ae=[],he,me;for(me=0;me<le.length-1;me++)he=R(le[me]+Y[me],Y[me+1]),se.push(he($)),ae.push(he(1-$));var Me="M "+Y[0]+","+oe[0];for(Me+="l"+le[0]+",0 ",me=1;me<le.length;me++)Me+="C"+se[me-1]+","+oe[me-1]+" "+ae[me-1]+","+oe[me]+" "+Y[me]+","+oe[me],Me+="l"+le[me]+",0 ";for(Me+="l0,"+Z+" ",Me+="l -"+le[le.length-1]+",0 ",me=le.length-2;me>=0;me--)Me+="C"+ae[me]+","+(oe[me+1]+Z)+" "+se[me]+","+(oe[me]+Z)+" "+(Y[me]+le[me])+","+(oe[me]+Z),Me+="l-"+le[me]+",0 ";return Me+="Z",Me}function J(Y){var oe=Y.dimensions,le=Y.model,Z=oe.map(function(tt){return tt.categories.map(function(Oe){return Oe.y})}),$=Y.model.dimensions.map(function(tt){return tt.categories.map(function(Oe){return Oe.displayInd})}),se=Y.model.dimensions.map(function(tt){return tt.displayInd}),ae=Y.dimensions.map(function(tt){return tt.model.dimensionInd}),he=oe.map(function(tt){return tt.x}),me=oe.map(function(tt){return tt.width}),Me=[];for(var Te in le.paths)le.paths.hasOwnProperty(Te)&&Me.push(le.paths[Te]);function Pe(tt){var Oe=tt.categoryInds.map(function(Ze,We){return $[We][Ze]}),Xe=ae.map(function(Ze){return Oe[Ze]});return Xe}Me.sort(function(tt,Oe){var Xe=Pe(tt),Ze=Pe(Oe);return Y.sortpaths==="backward"&&(Xe.reverse(),Ze.reverse()),Xe.push(tt.valueInds[0]),Ze.push(Oe.valueInds[0]),Y.bundlecolors&&(Xe.unshift(tt.rawColor),Ze.unshift(Oe.rawColor)),Xe<Ze?-1:Xe>Ze?1:0});for(var be=new Array(Me.length),Ee=oe[0].model.count,xe=oe[0].categories.map(function(tt){return tt.height}).reduce(function(tt,Oe){return tt+Oe}),Ce=0;Ce<Me.length;Ce++){var Ue=Me[Ce],Ne;Ee>0?Ne=xe*(Ue.count/Ee):Ne=0;for(var De=new Array(Z.length),He=0;He<Ue.categoryInds.length;He++){var at=Ue.categoryInds[He],vt=$[He][at],ot=se[He];De[ot]=Z[ot][vt],Z[ot][vt]+=Ne;var et=Y.dimensions[ot].categories[vt],ct=et.bands.length,ht=et.bands[ct-1];if(ht===void 0||Ue.rawColor!==ht.rawColor){var gt=ht===void 0?0:ht.y+ht.height;et.bands.push({key:gt,color:Ue.color,rawColor:Ue.rawColor,height:Ne,width:et.width,count:Ue.count,y:gt,categoryViewModel:et,parcatsViewModel:Y})}else{var xt=et.bands[ct-1];xt.height+=Ne,xt.count+=Ue.count}}var Mt;Y.pathShape==="hspline"?Mt=ue(he,De,me,Ne,.5):Mt=ue(he,De,me,Ne,0),be[Ce]={key:Ue.valueInds[0],model:Ue,height:Ne,leftXs:he,topYs:De,dimWidths:me,svgD:Mt,parcatsViewModel:Y}}Y.paths=be}function X(Y){var oe=Y.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});oe.sort(function(ae,he){return ae.displayInd-he.displayInd});var le=[];for(var Z in oe){var $=oe[Z].dimensionInd,se=Y.model.dimensions[$];le.push(ne(Y,se))}Y.dimensions=le}function ne(Y,oe){var le=40,Z=16,$=Y.model.dimensions.length,se=oe.displayInd,ae,he,me;$>1?ae=(Y.width-2*le-Z)/($-1):ae=0,he=le,me=he+ae*se;var Me=[],Te=Y.model.maxCats,Pe=oe.categories.length,be=8,Ee=oe.count,xe=Y.height-be*(Te-1),Ce,Ue,Ne,De,He,at=(Te-Pe)*be/2,vt=oe.categories.map(function(ot){return{displayInd:ot.displayInd,categoryInd:ot.categoryInd}});for(vt.sort(function(ot,et){return ot.displayInd-et.displayInd}),He=0;He<Pe;He++)De=vt[He].categoryInd,Ue=oe.categories[De],Ee>0?Ce=Ue.count/Ee*xe:Ce=0,Ne={key:Ue.valueInds[0],model:Ue,width:Z,height:Ce,y:Ue.dragY!==null?Ue.dragY:at,bands:[],parcatsViewModel:Y},at=at+Ce+be,Me.push(Ne);return{key:oe.dimensionInd,x:oe.dragX!==null?oe.dragX:me,y:0,width:Z,model:oe,categories:Me,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,H,e){var g=e(51036);G.exports=function(i,C,S,v){var d=i._fullLayout,r=d._paper,t=d._size;g(i,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(G,H,e){var g=e(49084),R=e(94724),i=e(25376),C=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},R.tickvals,{editType:"plot"}),ticktext:S({},R.ticktext,{editType:"plot"}),tickformat:S({},R.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,H,e){var g=e(30140),R=e(33428),i=e(71688).keyFun,C=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,d=g.bar.snapRatio;function r(V,j){return V*(1-d)+j*d}var t=g.bar.snapClose;function a(V,j){return V*(1-t)+j*t}function n(V,j,Q,ee){if(f(Q,ee))return Q;var re=V?-1:1,ue=0,J=j.length-1;if(re<0){var X=ue;ue=J,J=X}for(var ne=j[ue],Y=ne,oe=ue;re*oe<re*J;oe+=re){var le=oe+re,Z=j[le];if(re*Q<re*a(ne,Z))return r(ne,Y);if(re*Q<re*Z||le===J)return r(Z,ne);Y=ne,ne=Z}}function f(V,j){for(var Q=0;Q<j.length;Q++)if(V>=j[Q][0]&&V<=j[Q][1])return!0;return!1}function u(V){V.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var j=h(V.brush.filter.getConsolidated(),V.height),Q=[0],ee,re,ue,J=j.length?j[0][0]:null,X=0;X<j.length;X++)ee=j[X],re=ee[1]-ee[0],Q.push(J),Q.push(re),ue=X+1,ue<j.length&&(J=j[ue][0]-ee[1]);return Q.push(V.height),Q}function h(V,j){return V.map(function(Q){return Q.map(function(ee){return Math.max(0,ee*j)}).sort(S)})}function T(V,j){var Q=g.bar.handleHeight;if(!(j>V[1]+Q||j<V[0]-Q))return j>=.9*V[1]+.1*V[0]?"n":j<=.9*V[0]+.1*V[1]?"s":"ns"}function c(){R.select(document.body).style("cursor",null)}function o(V){V.attr("stroke-dasharray",y)}function p(V,j){var Q=R.select(V).selectAll(".highlight, .highlight-shadow"),ee=j?Q.transition().duration(g.bar.snapDuration).each("end",j):Q;o(ee)}function x(V,j){var Q=V.brush,ee=Q.filterSpecified,re=NaN,ue={},J;if(ee){var X=V.height,ne=Q.filter.getConsolidated(),Y=h(ne,X),oe=NaN,le=NaN,Z=NaN;for(J=0;J<=Y.length;J++){var $=Y[J];if($&&$[0]<=j&&j<=$[1]){oe=J;break}else if(le=J?J-1:NaN,$&&$[0]>j){Z=J;break}}if(re=oe,isNaN(re)&&(isNaN(le)||isNaN(Z)?re=isNaN(le)?Z:le:re=j-Y[le][1]<Y[Z][0]-j?le:Z),!isNaN(re)){var se=Y[re],ae=T(se,j);ae&&(ue.interval=ne[re],ue.intervalPix=se,ue.region=ae)}}if(V.ordinal&&!ue.region){var he=V.unitTickvals,me=V.unitToPaddedPx.invert(j);for(J=0;J<he.length;J++){var Me=[he[Math.max(J-1,0)]*.25+he[J]*.75,he[Math.min(J+1,he.length-1)]*.25+he[J]*.75];if(me>=Me[0]&&me<=Me[1]){ue.clickableOrdinalRange=Me;break}}}return ue}function b(V,j){R.event.sourceEvent.stopPropagation();var Q=j.height-R.mouse(V)[1]-2*g.verticalPadding,ee=j.unitToPaddedPx.invert(Q),re=j.brush,ue=x(j,Q),J=ue.interval,X=re.svgBrush;if(X.wasDragged=!1,X.grabbingBar=ue.region==="ns",X.grabbingBar){var ne=J.map(j.unitToPaddedPx);X.grabPoint=Q-ne[0]-g.verticalPadding,X.barLength=ne[1]-ne[0]}X.clickableOrdinalRange=ue.clickableOrdinalRange,X.stayingIntervals=j.multiselect&&re.filterSpecified?re.filter.getConsolidated():[],J&&(X.stayingIntervals=X.stayingIntervals.filter(function(Y){return Y[0]!==J[0]&&Y[1]!==J[1]})),X.startExtent=ue.region?J[ue.region==="s"?1:0]:ee,j.parent.inBrushDrag=!0,X.brushStartCallback()}function P(V,j){R.event.sourceEvent.stopPropagation();var Q=j.height-R.mouse(V)[1]-2*g.verticalPadding,ee=j.brush.svgBrush;ee.wasDragged=!0,ee._dragging=!0,ee.grabbingBar?ee.newExtent=[Q-ee.grabPoint,Q+ee.barLength-ee.grabPoint].map(j.unitToPaddedPx.invert):ee.newExtent=[ee.startExtent,j.unitToPaddedPx.invert(Q)].sort(S),j.brush.filterSpecified=!0,ee.extent=ee.stayingIntervals.concat([ee.newExtent]),ee.brushCallback(j),p(V.parentNode)}function m(V,j){var Q=j.brush,ee=Q.filter,re=Q.svgBrush;re._dragging||(L(V,j),P(V,j),j.brush.svgBrush.wasDragged=!1),re._dragging=!1;var ue=R.event;ue.sourceEvent.stopPropagation();var J=re.grabbingBar;if(re.grabbingBar=!1,re.grabLocation=void 0,j.parent.inBrushDrag=!1,c(),!re.wasDragged){re.wasDragged=void 0,re.clickableOrdinalRange?Q.filterSpecified&&j.multiselect?re.extent.push(re.clickableOrdinalRange):(re.extent=[re.clickableOrdinalRange],Q.filterSpecified=!0):J?(re.extent=re.stayingIntervals,re.extent.length===0&&D(Q)):D(Q),re.brushCallback(j),p(V.parentNode),re.brushEndCallback(Q.filterSpecified?ee.getConsolidated():[]);return}var X=function(){ee.set(ee.getConsolidated())};if(j.ordinal){var ne=j.unitTickvals;ne[ne.length-1]<ne[0]&&ne.reverse(),re.newExtent=[n(0,ne,re.newExtent[0],re.stayingIntervals),n(1,ne,re.newExtent[1],re.stayingIntervals)];var Y=re.newExtent[1]>re.newExtent[0];re.extent=re.stayingIntervals.concat(Y?[re.newExtent]:[]),re.extent.length||D(Q),re.brushCallback(j),Y?p(V.parentNode,X):(X(),p(V.parentNode))}else X();re.brushEndCallback(Q.filterSpecified?ee.getConsolidated():[])}function L(V,j){var Q=j.height-R.mouse(V)[1]-2*g.verticalPadding,ee=x(j,Q),re="crosshair";ee.clickableOrdinalRange?re="pointer":ee.region&&(re=ee.region+"-resize"),R.select(document.body).style("cursor",re)}function M(V){V.on("mousemove",function(j){R.event.preventDefault(),j.parent.inBrushDrag||L(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||c()}).call(R.behavior.drag().on("dragstart",function(j){b(this,j)}).on("drag",function(j){P(this,j)}).on("dragend",function(j){m(this,j)}))}function s(V,j){return V[0]-j[0]}function E(V,j,Q){var ee=Q._context.staticPlot,re=V.selectAll(".background").data(C);re.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",ee?"none":"auto").attr("transform",v(0,g.verticalPadding)),re.call(M).attr("height",function(X){return X.height-g.verticalPadding});var ue=V.selectAll(".highlight-shadow").data(C);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",j).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(X){return X.height}).call(o);var J=V.selectAll(".highlight").data(C);J.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(X){return X.height}).call(o)}function w(V,j,Q){var ee=V.selectAll("."+g.cn.axisBrush).data(C,i);ee.enter().append("g").classed(g.cn.axisBrush,!0),E(ee,j,Q)}function _(V){return V.svgBrush.extent.map(function(j){return j.slice()})}function D(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function N(V){return function(Q){var ee=Q.brush,re=_(ee),ue=re.slice();ee.filter.set(ue),V()}}function z(V){for(var j=V.slice(),Q=[],ee,re=j.shift();re;){for(ee=re.slice();(re=j.shift())&&re[0]<=ee[1];)ee[1]=Math.max(ee[1],re[1]);Q.push(ee)}return Q.length===1&&Q[0][0]>Q[0][1]&&(Q=[]),Q}function F(){var V=[],j,Q;return{set:function(ee){V=ee.map(function(re){return re.slice().sort(S)}).sort(s),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),j=z(V),Q=V.reduce(function(re,ue){return[Math.min(re[0],ue[0]),Math.max(re[1],ue[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return j},getBounds:function(){return Q}}}function U(V,j,Q,ee,re,ue){var J=F();return J.set(Q),{filter:J,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:ee,brushCallback:N(re),brushEndCallback:ue}}}function B(V,j){if(Array.isArray(V[0])?(V=V.map(function(ee){return ee.sort(S)}),j.multiselect?V=z(V.sort(s)):V=[V[0]]):V=[V.sort(S)],j.tickvals){var Q=j.tickvals.slice().sort(S);if(V=V.map(function(ee){var re=[n(0,Q,ee[0],[]),n(1,Q,ee[1],[])];if(re[1]>re[0])return re}).filter(function(ee){return ee}),!V.length)return}return V.length>1?V:V[0]}G.exports={makeBrush:U,ensureAxisBrush:w,cleanRanges:B}},61664:function(G,H,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,H,e){var g=e(33428),R=e(84888)._M,i=e(24196),C=e(9616);H.name="parcoords",H.plot=function(S){var v=R(S.calcdata,"parcoords")[0];v.length&&i(S,v)},H.clean=function(S,v,d,r){var t=r._has&&r._has("parcoords"),a=v._has&&v._has("parcoords");t&&!a&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},H.toSVG=function(S){var v=S._fullLayout._glimages,d=g.select(S).selectAll(".svg-container"),r=d.filter(function(a,n){return n===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var a=this,n=a.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,H,e){var g=e(3400).isArrayOrTypedArray,R=e(8932),i=e(71688).wrap;G.exports=function(v,d){var r,t;return R.hasColorscale(d,"line")&&g(d.line.color)?(r=d.line.color,t=R.extractOpts(d.line).colorscale,R.calc(v,d,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(d._length),t=[[0,d.line.color],[1,d.line.color]]),i({lineColor:r,cscale:t})};function C(S){for(var v=new Array(S),d=0;d<S;d++)v[d]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,H,e){var g=e(3400),R=e(94288).hasColorscale,i=e(27260),C=e(86968).Q,S=e(51272),v=e(54460),d=e(82296),r=e(71864),t=e(30140).maxDimensionCount,a=e(26284);function n(u,l,y,h,T){var c=T("line.color",y);if(R(u,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),i(u,l,h,T,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=y}return 1/0}function f(u,l,y,h){function T(b,P){return g.coerce(u,l,d.dimensions,b,P)}var c=T("values"),o=T("visible");if(c&&c.length||(o=l.visible=!1),o){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var p=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(l._ax,h.layout),T("multiselect");var x=T("constraintrange");x&&(l.constraintrange=r.cleanRanges(x,l))}}G.exports=function(l,y,h,T){function c(P,m){return g.coerce(l,y,d,P,m)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var p=S(l,y,{name:"dimensions",layout:T,handleItemDefaults:f}),x=n(l,y,h,T,c);C(y,T,c),(!Array.isArray(p)||!p.length)&&(y.visible=!1),a(y,p,"values",x);var b={weight:T.font.weight,style:T.font.style,variant:T.font.variant,family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};g.coerceFont(c,"labelfont",b),g.coerceFont(c,"tickfont",b),g.coerceFont(c,"rangefont",b),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(G,H,e){var g=e(3400).isTypedArray;H.convertTypedArray=function(R){return g(R)?Array.prototype.slice.call(R):R},H.isOrdinal=function(R){return!!R.tickvals},H.isVisible=function(R){return R.visible||!("visible"in R)}},29928:function(G,H,e){var g=e(61664);g.plot=e(24196),G.exports=g},51352:function(G,H,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),R=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=e(30140).maxDimensionCount,C=e(3400),S=1e-6,v=2048,d=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(m){m.read({x:0,y:0,width:1,height:1,data:d})}function n(m,L,M,s,E){var w=m._gl;w.enable(w.SCISSOR_TEST),w.scissor(L,M,s,E),m.clear({color:[0,0,0,0],depth:1})}function f(m,L,M,s,E,w){var _=w.key;function D(N){var z=Math.min(s,E-N*s);N===0&&(window.cancelAnimationFrame(M.currentRafs[_]),delete M.currentRafs[_],n(m,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),!M.clearOnly&&(w.count=2*z,w.offset=2*N*s,L(w),N*s+z<E&&(M.currentRafs[_]=window.requestAnimationFrame(function(){D(N+1)})),M.drawCompleted=!1)}M.drawCompleted||(a(m),M.drawCompleted=!0),D(0)}function u(m){return Math.max(S,Math.min(1-S,m))}function l(m,L){for(var M=new Array(256),s=0;s<256;s++)M[s]=m(s/255).concat(L);return M}function y(m,L){return(m>>>8*L)%256/255}function h(m,L,M){for(var s=new Array(m*(i+4)),E=0,w=0;w<m;w++){for(var _=0;_<i;_++)s[E++]=_<L.length?L[_].paddedUnitValues[w]:.5;s[E++]=y(w,2),s[E++]=y(w,1),s[E++]=y(w,0),s[E++]=u(M[w])}return s}function T(m,L,M){for(var s=new Array(L*8),E=0,w=0;w<L;w++)for(var _=0;_<2;_++)for(var D=0;D<4;D++){var N=m*4+D,z=M[w*64+N];N===63&&_===0&&(z*=-1),s[E++]=z}return s}function c(m){var L="0"+m;return L.substr(L.length-2)}function o(m){return m<i?"p"+c(m+1)+"_"+c(m+4):"colors"}function p(m,L,M){for(var s=0;s<=i;s+=4)m[o(s)](T(s/4,L,M))}function x(m){for(var L={},M=0;M<=i;M+=4)L[o(M)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return L}function b(m,L,M,s,E,w,_,D,N,z,F,U,B,V){for(var j=[[],[]],Q=0;Q<64;Q++)j[0][Q]=Q===E?1:0,j[1][Q]=Q===w?1:0;_*=V,D*=V,N*=V,z*=V;var ee=m.lines.canvasOverdrag*V,re=m.domain,ue=m.canvasWidth*V,J=m.canvasHeight*V,X=m.pad.l*V,ne=m.pad.b*V,Y=m.layoutHeight*V,oe=m.layoutWidth*V,le=m.deselectedLines.color,Z=m.deselectedLines.opacity,$=C.extendFlat({key:F,resolution:[ue,J],viewBoxPos:[_+ee,D],viewBoxSize:[N,z],i0:E,i1:w,dim0A:j[0].slice(0,16),dim0B:j[0].slice(16,32),dim0C:j[0].slice(32,48),dim0D:j[0].slice(48,64),dim1A:j[1].slice(0,16),dim1B:j[1].slice(16,32),dim1C:j[1].slice(32,48),dim1D:j[1].slice(48,64),drwLayer:U,contextColor:[le[0]/255,le[1]/255,le[2]/255,Z!=="auto"?le[3]*Z:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===L?0:_+ee)+(X-ee)+oe*re.x[0],scissorWidth:(s===M?ue-_+ee:N+.5)+(s===L?_+ee:0),scissorY:D+ne+Y*re.y[0],scissorHeight:z,viewportX:X-ee+oe*re.x[0],viewportY:ne+Y*re.y[0],viewportWidth:ue,viewportHeight:J},B);return $}function P(m){var L=v-1,M=Math.max(0,Math.floor(m[0]*L),0),s=Math.min(L,Math.ceil(m[1]*L),L);return[Math.min(M,s),Math.max(M,s)]}G.exports=function(m,L){var M=L.context,s=L.pick,E=L.regl,w=E._gl,_=w.getParameter(w.ALIASED_LINE_WIDTH_RANGE),D=Math.max(_[0],Math.min(_[1],L.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},z,F,U,B,V=x(E),j,Q=E.texture(t),ee=[];ue(L);var re=E({profile:!1,blend:{enable:M,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!M,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:g,frag:R,primitive:"lines",lineWidth:D,attributes:V,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:Q,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function ue(le){z=le.model,F=le.viewModel,U=F.dimensions.slice(),B=U[0]?U[0].values.length:0;var Z=z.lines,$=s?Z.color.map(function(ae,he){return he/Z.color.length}):Z.color,se=h(B,U,$);p(V,B,se),!M&&!s&&(Q=E.texture(C.extendFlat({data:l(z.unitToColor,255)},t)))}function J(le){var Z,$,se,ae=[[],[]];for(se=0;se<64;se++){var he=!le&&se<U.length?U[se].brush.filter.getBounds():[-1/0,1/0];ae[0][se]=he[0],ae[1][se]=he[1]}var me=v*8,Me=new Array(me);for(Z=0;Z<me;Z++)Me[Z]=255;if(!le)for(Z=0;Z<U.length;Z++){var Te=Z%8,Pe=(Z-Te)/8,be=Math.pow(2,Te),Ee=U[Z],xe=Ee.brush.filter.get();if(!(xe.length<2)){var Ce=P(xe[0])[1];for($=1;$<xe.length;$++){var Ue=P(xe[$]);for(se=Ce+1;se<Ue[0];se++)Me[se*8+Pe]&=~be;Ce=Math.max(Ce,Ue[1])}}}var Ne={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return j?j(Ne):j=E.texture(Ne),{maskTexture:j,maskHeight:v,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}function X(le,Z,$){var se=le.length,ae,he,me,Me=1/0,Te=-1/0;for(ae=0;ae<se;ae++)le[ae].dim0.canvasX<Me&&(Me=le[ae].dim0.canvasX,he=ae),le[ae].dim1.canvasX>Te&&(Te=le[ae].dim1.canvasX,me=ae);se===0&&n(E,0,0,z.canvasWidth,z.canvasHeight);var Pe=J(M);for(ae=0;ae<se;ae++){var be=le[ae],Ee=be.dim0.crossfilterDimensionIndex,xe=be.dim1.crossfilterDimensionIndex,Ce=be.canvasX,Ue=be.canvasY,Ne=Ce+be.panelSizeX,De=be.plotGlPixelRatio;if(Z||!ee[Ee]||ee[Ee][0]!==Ce||ee[Ee][1]!==Ne){ee[Ee]=[Ce,Ne];var He=b(z,he,me,ae,Ee,xe,Ce,Ue,be.panelSizeX,be.panelSizeY,be.dim0.crossfilterDimensionIndex,M?0:s?2:1,Pe,De);N.clearOnly=$;var at=Z?z.lines.blockLineCount:B;f(E,re,N,at,B,He)}}}function ne(le,Z){return E.read({x:le,y:Z,width:1,height:1,data:r}),r}function Y(le,Z,$,se){var ae=new Uint8Array(4*$*se);return E.read({x:le,y:Z,width:$,height:se,data:ae}),ae}function oe(){m.style["pointer-events"]="none",Q.destroy(),j&&j.destroy();for(var le in V)V[le].destroy()}return{render:X,readPixel:ne,readPixels:Y,destroy:oe,update:ue}}},26284:function(G){G.exports=function(H,e,g,R){R||(R=1/0);var i,C;for(i=0;i<e.length;i++)C=e[i],C.visible&&(R=Math.min(R,C[g].length));for(R===1/0&&(R=0),H._length=R,i=0;i<e.length;i++)C=e[i],C.visible&&(C._length=R);return R}},36336:function(G,H,e){var g=e(33428),R=e(3400),i=R.isArrayOrTypedArray,C=R.numberFormat,S=e(96824),v=e(54460),d=R.strRotate,r=R.strTranslate,t=e(72736),a=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,y=f.unwrap,h=e(95724),T=e(30140),c=e(71864),o=e(51352);function p(ee,re,ue){return R.aggNums(ee,null,re,ue)}function x(ee,re){return P(p(Math.min,ee,re),p(Math.max,ee,re))}function b(ee){var re=ee.range;return re?P(re[0],re[1]):x(ee.values,ee._length)}function P(ee,re){return(isNaN(ee)||!isFinite(ee))&&(ee=0),(isNaN(re)||!isFinite(re))&&(re=0),ee===re&&(ee===0?(ee-=1,re+=1):(ee*=.9,re*=1.1)),[ee,re]}function m(ee,re){return re?function(ue,J){var X=re[J];return X??ee(ue)}:ee}function L(ee,re,ue,J,X){var ne=b(ue);return J?g.scale.ordinal().domain(J.map(m(C(ue.tickformat),X))).range(J.map(function(Y){var oe=(Y-ne[0])/(ne[1]-ne[0]);return ee-re+oe*(2*re-ee)})):g.scale.linear().domain(ne).range([ee-re,re])}function M(ee,re){return g.scale.linear().range([re,ee-re])}function s(ee,re){return g.scale.linear().domain(b(ee)).range([re,1-re])}function E(ee){if(ee.tickvals){var re=b(ee);return g.scale.ordinal().domain(ee.tickvals).range(ee.tickvals.map(function(ue){return(ue-re[0])/(re[1]-re[0])}))}}function w(ee){var re=ee.map(function(ne){return ne[0]}),ue=ee.map(function(ne){var Y=S(ne[1]);return g.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),J=function(ne){return function(Y){return Y[ne]}},X="rgb".split("").map(function(ne){return g.scale.linear().clamp(!0).domain(re).range(ue.map(J(ne)))});return function(ne){return X.map(function(Y){return Y(ne)})}}function _(ee){return ee.dimensions.some(function(re){return re.brush.filterSpecified})}function D(ee,re,ue){var J=y(re),X=J.trace,ne=h.convertTypedArray(J.lineColor),Y=X.line,oe={color:S(X.unselected.line.color),opacity:X.unselected.line.opacity},le=n.extractOpts(Y),Z=le.reversescale?n.flipScale(J.cscale):J.cscale,$=X.domain,se=X.dimensions,ae=ee.width,he=X.labelangle,me=X.labelside,Me=X.labelfont,Te=X.tickfont,Pe=X.rangefont,be=R.extendDeepNoArrays({},Y,{color:ne.map(g.scale.linear().domain(b({values:ne,range:[le.min,le.max],_length:X._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Ee=Math.floor(ae*($.x[1]-$.x[0])),xe=Math.floor(ee.height*($.y[1]-$.y[0])),Ce=ee.margin||{l:80,r:80,t:100,b:80},Ue=Ee,Ne=xe;return{key:ue,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:w(Z),lines:be,deselectedLines:oe,labelAngle:he,labelSide:me,labelFont:Me,tickFont:Te,rangeFont:Pe,layoutWidth:ae,layoutHeight:ee.height,domain:$,translateX:$.x[0]*ae,translateY:ee.height-$.y[1]*ee.height,pad:Ce,canvasWidth:Ue*T.canvasPixelRatio+2*be.canvasOverdrag,canvasHeight:Ne*T.canvasPixelRatio,width:Ue,height:Ne,canvasPixelRatio:T.canvasPixelRatio}}function N(ee,re,ue){var J=ue.width,X=ue.height,ne=ue.dimensions,Y=ue.canvasPixelRatio,oe=function(ae){return J*ae/Math.max(1,ue.colCount-1)},le=T.verticalPadding/X,Z=M(X,T.verticalPadding),$={key:ue.key,xScale:oe,model:ue,inBrushDrag:!1},se={};return $.dimensions=ne.filter(h.isVisible).map(function(ae,he){var me=s(ae,le),Me=se[ae.label];se[ae.label]=(Me||0)+1;var Te=ae.label+(Me?"__"+Me:""),Pe=ae.constraintrange,be=Pe&&Pe.length;be&&!i(Pe[0])&&(Pe=[Pe]);var Ee=be?Pe.map(function(et){return et.map(me)}):[[-1/0,1/0]],xe=function(){var et=$;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ct=_(et);!ee.contextShown()&&ct?(et.contextLayer&&et.contextLayer.render(et.panels,!0),ee.contextShown(!0)):ee.contextShown()&&!ct&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),ee.contextShown(!1))},Ce=ae.values;Ce.length>ae._length&&(Ce=Ce.slice(0,ae._length));var Ue=ae.tickvals,Ne;function De(et,ct){return{val:et,text:Ne[ct]}}function He(et,ct){return et.val-ct.val}if(i(Ue)&&Ue.length){R.isTypedArray(Ue)&&(Ue=Array.from(Ue)),Ne=ae.ticktext,!i(Ne)||!Ne.length?Ne=Ue.map(C(ae.tickformat)):Ne.length>Ue.length?Ne=Ne.slice(0,Ue.length):Ue.length>Ne.length&&(Ue=Ue.slice(0,Ne.length));for(var at=1;at<Ue.length;at++)if(Ue[at]<Ue[at-1]){for(var vt=Ue.map(De).sort(He),ot=0;ot<Ue.length;ot++)Ue[ot]=vt[ot].val,Ne[ot]=vt[ot].text;break}}else Ue=void 0;return Ce=h.convertTypedArray(Ce),{key:Te,label:ae.label,tickFormat:ae.tickformat,tickvals:Ue,ticktext:Ne,ordinal:h.isOrdinal(ae),multiselect:ae.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ae._index,height:X,values:Ce,paddedUnitValues:Ce.map(me),unitTickvals:Ue&&Ue.map(me),xScale:oe,x:oe(he),canvasX:oe(he)*Y,unitToPaddedPx:Z,domainScale:L(X,T.verticalPadding,ae,Ue,Ne),ordinalScale:E(ae),parent:$,model:ue,brush:c.makeBrush(ee,be,Ee,function(){ee.linePickActive(!1)},xe,function(et){if($.focusLayer.render($.panels,!0),$.pickLayer&&$.pickLayer.render($.panels,!0),ee.linePickActive(!0),re&&re.filterChanged){var ct=me.invert,ht=et.map(function(gt){return gt.map(ct).sort(R.sorterAsc)}).sort(function(gt,xt){return gt[0]-xt[0]});re.filterChanged($.key,ae._index,ht)}})}}),$}function z(ee){ee.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var ee=!0,re=!1;return{linePickActive:function(ue){return arguments.length?ee=!!ue:ee},contextShown:function(ue){return arguments.length?re=!!ue:re}}}function U(ee,re){var ue=re==="top"?1:-1,J=ee*Math.PI/180,X=Math.sin(J),ne=Math.cos(J);return{dir:ue,dx:X,dy:ne,degrees:ee}}function B(ee,re,ue){for(var J=re.panels||(re.panels=[]),X=ee.data(),ne=0;ne<X.length-1;ne++){var Y=J[ne]||(J[ne]={}),oe=X[ne],le=X[ne+1];Y.dim0=oe,Y.dim1=le,Y.canvasX=oe.canvasX,Y.panelSizeX=le.canvasX-oe.canvasX,Y.panelSizeY=re.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=ue}}function V(ee){for(var re=0;re<ee.length;re++)for(var ue=0;ue<ee[re].length;ue++)for(var J=ee[re][ue].trace,X=J.dimensions,ne=0;ne<X.length;ne++){var Y=X[ne].values,oe=X[ne]._ax;oe&&(oe.range?oe.range=P(oe.range[0],oe.range[1]):oe.range=x(Y,J._length),oe.dtick||(oe.dtick=.01*(Math.abs(oe.range[1]-oe.range[0])||1)),oe.tickformat=X[ne].tickformat,v.calcTicks(oe),oe.cleanRange())}}function j(ee,re){return v.tickText(ee._ax,re,!1).text}function Q(ee,re){if(ee.ordinal)return"";var ue=ee.domainScale.domain(),J=ue[re?ue.length-1:0];return j(ee.model.dimensions[ee.visibleIndex],J)}G.exports=function(re,ue,J,X){var ne=re._context.staticPlot,Y=re._fullLayout,oe=Y._toppaper,le=Y._glcontainer,Z=re._context.plotGlPixelRatio,$=re._fullLayout.paper_bgcolor;V(ue);var se=F(),ae=ue.filter(function(ot){return y(ot).trace.visible}).map(D.bind(0,J)).map(N.bind(0,se,X));le.each(function(ot,et){return R.extendFlat(ot,ae[et])});var he=le.selectAll(".gl-canvas").each(function(ot){ot.viewModel=ae[0],ot.viewModel.plotGlPixelRatio=Z,ot.viewModel.paperColor=$,ot.model=ot.viewModel?ot.viewModel.model:null}),me=null,Me=he.filter(function(ot){return ot.pick});Me.style("pointer-events",ne?"none":"auto").on("mousemove",function(ot){if(se.linePickActive()&&ot.lineLayer&&X&&X.hover){var et=g.event,ct=this.width,ht=this.height,gt=g.mouse(this),xt=gt[0],Mt=gt[1];if(xt<0||Mt<0||xt>=ct||Mt>=ht)return;var tt=ot.lineLayer.readPixel(xt,ht-1-Mt),Oe=tt[3]!==0,Xe=Oe?tt[2]+256*(tt[1]+256*tt[0]):null,Ze={x:xt,y:Mt,clientX:et.clientX,clientY:et.clientY,dataIndex:ot.model.key,curveNumber:Xe};Xe!==me&&(Oe?X.hover(Ze):X.unhover&&X.unhover(Ze),me=Xe)}}),he.style("opacity",function(ot){return ot.pick?0:1}),oe.style("background","rgba(255, 255, 255, 0)");var Te=oe.selectAll("."+T.cn.parcoords).data(ae,u);Te.exit().remove(),Te.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function(ot){return r(ot.model.translateX,ot.model.translateY)});var Pe=Te.selectAll("."+T.cn.parcoordsControlView).data(l,u);Pe.enter().append("g").classed(T.cn.parcoordsControlView,!0),Pe.attr("transform",function(ot){return r(ot.model.pad.l,ot.model.pad.t)});var be=Pe.selectAll("."+T.cn.yAxis).data(function(ot){return ot.dimensions},u);be.enter().append("g").classed(T.cn.yAxis,!0),Pe.each(function(ot){B(be,ot,Z)}),he.each(function(ot){if(ot.viewModel){!ot.lineLayer||X?ot.lineLayer=o(this,ot):ot.lineLayer.update(ot),(ot.key||ot.key===0)&&(ot.viewModel[ot.key]=ot.lineLayer);var et=!ot.context||X;ot.lineLayer.render(ot.viewModel.panels,et)}}),be.attr("transform",function(ot){return r(ot.xScale(ot.xIndex),0)}),be.call(g.behavior.drag().origin(function(ot){return ot}).on("drag",function(ot){var et=ot.parent;se.linePickActive(!1),ot.x=Math.max(-T.overdrag,Math.min(ot.model.width+T.overdrag,g.event.x)),ot.canvasX=ot.x*ot.model.canvasPixelRatio,be.sort(function(ct,ht){return ct.x-ht.x}).each(function(ct,ht){ct.xIndex=ht,ct.x=ot===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),B(be,et,Z),be.filter(function(ct){return Math.abs(ot.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),g.select(this).attr("transform",r(ot.x,0)),be.each(function(ct,ht,gt){gt===ot.parent.key&&(et.dimensions[ht]=ct)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!_(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function(ot){var et=ot.parent;ot.x=ot.xScale(ot.xIndex),ot.canvasX=ot.x*ot.model.canvasPixelRatio,B(be,et,Z),g.select(this).attr("transform",function(ct){return r(ct.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!_(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),se.linePickActive(!0),X&&X.axesMoved&&X.axesMoved(et.key,et.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),be.exit().remove();var Ee=be.selectAll("."+T.cn.axisOverlays).data(l,u);Ee.enter().append("g").classed(T.cn.axisOverlays,!0),Ee.selectAll("."+T.cn.axis).remove();var xe=Ee.selectAll("."+T.cn.axis).data(l,u);xe.enter().append("g").classed(T.cn.axis,!0),xe.each(function(ot){var et=ot.model.height/ot.model.tickDistance,ct=ot.domainScale,ht=ct.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,ot.tickFormat).tickValues(ot.ordinal?ht:null).tickFormat(function(gt){return h.isOrdinal(ot)?gt:j(ot.model.dimensions[ot.visibleIndex],gt)}).scale(ct)),a.font(xe.selectAll("text"),ot.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow($)).style("cursor","default");var Ce=Ee.selectAll("."+T.cn.axisHeading).data(l,u);Ce.enter().append("g").classed(T.cn.axisHeading,!0);var Ue=Ce.selectAll("."+T.cn.axisTitle).data(l,u);Ue.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ne?"none":"auto"),Ue.text(function(ot){return ot.label}).each(function(ot){var et=g.select(this);a.font(et,ot.model.labelFont),t.convertToTspans(et,re)}).attr("transform",function(ot){var et=U(ot.model.labelAngle,ot.model.labelSide),ct=T.axisTitleOffset;return(et.dir>0?"":r(0,2*ct+ot.model.height))+d(et.degrees)+r(-ct*et.dx,-ct*et.dy)}).attr("text-anchor",function(ot){var et=U(ot.model.labelAngle,ot.model.labelSide),ct=Math.abs(et.dx),ht=Math.abs(et.dy);return 2*ct>ht?et.dir*et.dx<0?"start":"end":"middle"});var Ne=Ee.selectAll("."+T.cn.axisExtent).data(l,u);Ne.enter().append("g").classed(T.cn.axisExtent,!0);var De=Ne.selectAll("."+T.cn.axisExtentTop).data(l,u);De.enter().append("g").classed(T.cn.axisExtentTop,!0),De.attr("transform",r(0,-T.axisExtentOffset));var He=De.selectAll("."+T.cn.axisExtentTopText).data(l,u);He.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(z),He.text(function(ot){return Q(ot,!0)}).each(function(ot){a.font(g.select(this),ot.model.rangeFont)});var at=Ne.selectAll("."+T.cn.axisExtentBottom).data(l,u);at.enter().append("g").classed(T.cn.axisExtentBottom,!0),at.attr("transform",function(ot){return r(0,ot.model.height+T.axisExtentOffset)});var vt=at.selectAll("."+T.cn.axisExtentBottomText).data(l,u);vt.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(z),vt.text(function(ot){return Q(ot,!1)}).each(function(ot){a.font(g.select(this),ot.model.rangeFont)}),c.ensureAxisBrush(Ee,$,re)}},24196:function(G,H,e){var g=e(36336),R=e(5048),i=e(95724).isVisible,C={};function S(r,t,a){var n=t.indexOf(a),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var d=G.exports=function(t,a){var n=t._fullLayout,f=R(t,[],C);if(f){var u={},l={},y={},h={},T=n._size;a.forEach(function(b,P){var m=b[0].trace;y[P]=m.index;var L=h[P]=m._fullInput.index;u[P]=t.data[L].dimensions,l[P]=t.data[L].dimensions.slice()});var c=function(b,P,m){var L=l[b][P],M=m.map(function(N){return N.slice()}),s="dimensions["+P+"].constraintrange",E=n._tracePreGUI[t._fullData[y[b]]._fullInput.uid];if(E[s]===void 0){var w=L.constraintrange;E[s]=w||null}var _=t._fullData[y[b]].dimensions[P];M.length?(M.length===1&&(M=M[0]),L.constraintrange=M,_.constraintrange=M.slice(),M=[M]):(delete L.constraintrange,delete _.constraintrange,M=null);var D={};D[s]=M,t.emit("plotly_restyle",[D,[h[b]]])},o=function(b){t.emit("plotly_hover",b)},p=function(b){t.emit("plotly_unhover",b)},x=function(b,P){var m=v(P,l[b].filter(i));u[b].sort(m),l[b].filter(function(L){return!i(L)}).sort(function(L){return l[b].indexOf(L)}).forEach(function(L){u[b].splice(u[b].indexOf(L),1),u[b].splice(l[b].indexOf(L),0,L)}),t.emit("plotly_restyle",[{dimensions:[u[b]]},[h[b]]])};g(t,a,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:o,unhover:p,axesMoved:x})}};d.reglPrecompiled=C},74996:function(G,H,e){var g=e(45464),R=e(86968).u,i=e(25376),C=e(22548),S=e(21776).Ks,v=e(21776).Gw,d=e(92880).extendFlat,r=e(98192).c,t=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},t,{}),outsidetextfont:d({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:R({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,H,e){var g=e(7316);H.name="pie",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},45768:function(G,H,e){var g=e(38248),R=e(49760),i=e(76308),C={};function S(t,a){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=a.labels,y=a.marker.colors||[],h=a.values,T=a._length,c=a._hasValues&&T,o,p;if(a.dlabel)for(l=new Array(T),o=0;o<T;o++)l[o]=String(a.label0+o*a.dlabel);var x={},b=v(f["_"+a.type+"colormap"]),P=0,m=!1;for(o=0;o<T;o++){var L,M,s;if(c){if(L=h[o],!g(L))continue;L=+L}else L=1;M=l[o],(M===void 0||M==="")&&(M=o),M=String(M);var E=x[M];E===void 0?(x[M]=n.length,s=u.indexOf(M)!==-1,s||(P+=L),n.push({v:L,label:M,color:b(y[o],M),i:o,pts:[o],hidden:s})):(m=!0,p=n[E],p.v+=L,p.pts.push(o),p.hidden||(P+=L),p.color===!1&&y[o]&&(p.color=b(y[o],M)))}n=n.filter(function(_){return _.v>=0});var w=a.type==="funnelarea"?m:a.sort;return w&&n.sort(function(_,D){return D.v-_.v}),n[0]&&(n[0].vTotal=P),n}function v(t){return function(n,f){return!n||(n=R(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function d(t,a){var n=(a||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],y=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,C));for(var h=0,T=0;T<u.length;T++){var c=u[T],o=c[0].trace.type;if(o===n)for(var p=0;p<c.length;p++){var x=c[p];x.color===!1&&(y[x.label]?x.color=y[x.label]:(y[x.label]=x.color=l[h%l.length],h++))}}}function r(t,a){var n,f=JSON.stringify(t),u=a[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(R(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(R(t[n]).darken(20).toHexString());a[f]=u}return u}G.exports={calc:S,crossTraceCalc:d,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,H,e){var g=e(38248),R=e(3400),i=e(74996),C=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function d(a,n){var f=R.isArrayOrTypedArray(a),u=R.isArrayOrTypedArray(n),l=Math.min(f?a.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var y,h=0;h<l;h++){var T=n[h];if(g(T)&&T>0){y=!0;break}}y||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(a,n,f,u,l){var y=u("marker.line.width");y&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(a,n,f,u){function l(E,w){return R.coerce(a,n,i,E,w)}var y=l("labels"),h=l("values"),T=d(y,h),c=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(a,n,u,l,!0),l("scalegroup");var o=l("text"),p=l("texttemplate"),x;if(p||(x=l("textinfo",R.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||x&&x!=="none"){var b=l("textposition");S(a,n,u,l,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var P=Array.isArray(b)||b==="auto",m=P||b==="outside";m&&l("automargin"),(b==="inside"||b==="auto"||Array.isArray(b))&&l("insidetextorientation")}else x==="none"&&l("textposition","none");C(n,u,l);var L=l("hole"),M=l("title.text");if(M){var s=l("title.position",L?"middle center":"top center");!L&&s==="middle center"&&(n.title.position="top center"),R.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:d,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,H,e){var g=e(10624).appendArrayMultiPointValues;G.exports=function(i,C){var S={curveNumber:C.index,pointNumbers:i.pts,data:C._input,fullData:C,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(S.pointNumber=S.i=i.pts[0]),g(S,C,i.pts),C.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(G,H,e){var g=e(43616),R=e(76308);G.exports=function(C,S,v,d){var r=v.marker.pattern;r&&r.shape?g.pointStyle(C,v,d,S):R.fill(C,S.color)}},69656:function(G,H,e){var g=e(3400);function R(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}H.formatPiePercent=function(C,S){var v=R((C*100).toPrecision(3));return g.numSeparate(v,S)+"%"},H.formatPieValue=function(C,S){var v=R(C.toPrecision(10));return g.numSeparate(v,S)},H.getFirstFilled=function(C,S){if(g.isArrayOrTypedArray(C))for(var v=0;v<S.length;v++){var d=C[S[v]];if(d||d===0||d==="")return d}},H.castOption=function(C,S){if(g.isArrayOrTypedArray(C))return H.getFirstFilled(C,S);if(C)return C},H.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(G,H,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,H,e){var g=e(3400),R=e(85204);G.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(G,H,e){var g=e(33428),R=e(7316),i=e(93024),C=e(76308),S=e(43616),v=e(3400),d=v.strScale,r=v.strTranslate,t=e(72736),a=e(82744),n=a.recordMinTextSize,f=a.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),y=e(53644),h=e(3400).isValidTextValue;function T(X,ne){var Y=X._context.staticPlot,oe=X._fullLayout,le=oe._size;f("pie",oe),b(ne,X),j(ne,le);var Z=v.makeTraceGroups(oe._pielayer,ne,"trace").each(function($){var se=g.select(this),ae=$[0],he=ae.trace;ee($),se.attr("stroke-linejoin","round"),se.each(function(){var me=g.select(this).selectAll("g.slice").data($);me.enter().append("g").classed("slice",!0),me.exit().remove();var Me=[[[],[]],[[],[]]],Te=!1;me.each(function(De,He){if(De.hidden){g.select(this).selectAll("path,g").remove();return}De.pointNumber=De.i,De.curveNumber=he.index,Me[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var at=ae.cx,vt=ae.cy,ot=g.select(this),et=ot.selectAll("path.surface").data([De]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),ot.call(o,X,$),he.pull){var ct=+l.castOption(he.pull,De.pts)||0;ct>0&&(at+=ct*De.pxmid[0],vt+=ct*De.pxmid[1])}De.cxFinal=at,De.cyFinal=vt;function ht(Ze,We,ze,ke){var je=ke*(We[0]-Ze[0]),Ie=ke*(We[1]-Ze[1]);return"a"+ke*ae.r+","+ke*ae.r+" 0 "+De.largeArc+(ze?" 1 ":" 0 ")+je+","+Ie}var gt=he.hole;if(De.v===ae.vTotal){var xt="M"+(at+De.px0[0])+","+(vt+De.px0[1])+ht(De.px0,De.pxmid,!0,1)+ht(De.pxmid,De.px0,!0,1)+"Z";gt?et.attr("d","M"+(at+gt*De.px0[0])+","+(vt+gt*De.px0[1])+ht(De.px0,De.pxmid,!1,gt)+ht(De.pxmid,De.px0,!1,gt)+"Z"+xt):et.attr("d",xt)}else{var Mt=ht(De.px0,De.px1,!0,1);if(gt){var tt=1-gt;et.attr("d","M"+(at+gt*De.px1[0])+","+(vt+gt*De.px1[1])+ht(De.px1,De.px0,!1,gt)+"l"+tt*De.px0[0]+","+tt*De.px0[1]+Mt+"Z")}else et.attr("d","M"+at+","+vt+"l"+De.px0[0]+","+De.px0[1]+Mt+"Z")}ue(X,De,ae);var Oe=l.castOption(he.textposition,De.pts),Xe=ot.selectAll("g.slicetext").data(De.text&&Oe!=="none"?[0]:[]);Xe.enter().append("g").classed("slicetext",!0),Xe.exit().remove(),Xe.each(function(){var Ze=v.ensureSingle(g.select(this),"text","",function(Ve){Ve.attr("data-notex",1)}),We=v.ensureUniformFontSize(X,Oe==="outside"?p(he,De,oe.font):x(he,De,oe.font));Ze.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,We).call(t.convertToTspans,X);var ze=S.bBox(Ze.node()),ke;if(Oe==="outside")ke=D(ze,De);else if(ke=P(ze,De,ae),Oe==="auto"&&ke.scale<1){var je=v.ensureUniformFontSize(X,he.outsidetextfont);Ze.call(S.font,je),ze=S.bBox(Ze.node()),ke=D(ze,De)}var Ie=ke.textPosAngle,pe=Ie===void 0?De.pxmid:re(ae.r,Ie);if(ke.targetX=at+pe[0]*ke.rCenter+(ke.x||0),ke.targetY=vt+pe[1]*ke.rCenter+(ke.y||0),J(ke,ze),ke.outside){var we=ke.targetY;De.yLabelMin=we-ze.height/2,De.yLabelMid=we,De.yLabelMax=we+ze.height/2,De.labelExtraX=0,De.labelExtraY=0,Te=!0}ke.fontSize=We.size,n(he.type,ke,oe),$[He].transform=ke,v.setTransormAndDisplay(Ze,ke)})});var Pe=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Pe.enter().append("g").classed("titletext",!0),Pe.exit().remove(),Pe.each(function(){var De=v.ensureSingle(g.select(this),"text","",function(vt){vt.attr("data-notex",1)}),He=he.title.text;he._meta&&(He=v.templateString(He,he._meta)),De.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,he.title.font).call(t.convertToTspans,X);var at;he.title.position==="middle center"?at=N(ae):at=z(ae,le),De.attr("transform",r(at.x,at.y)+d(Math.min(1,at.scale))+r(at.tx,at.ty))}),Te&&V(Me,he),c(me,he),Te&&he.automargin){var be=S.bBox(se.node()),Ee=he.domain,xe=le.w*(Ee.x[1]-Ee.x[0]),Ce=le.h*(Ee.y[1]-Ee.y[0]),Ue=(.5*xe-ae.r)/le.w,Ne=(.5*Ce-ae.r)/le.h;R.autoMargin(X,"pie."+he.uid+".automargin",{xl:Ee.x[0]-Ue,xr:Ee.x[1]+Ue,yb:Ee.y[0]-Ne,yt:Ee.y[1]+Ne,l:Math.max(ae.cx-ae.r-be.left,0),r:Math.max(be.right-(ae.cx+ae.r),0),b:Math.max(be.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-be.top,0),pad:5})}})});setTimeout(function(){Z.selectAll("tspan").each(function(){var $=g.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)}function c(X,ne){X.each(function(Y){var oe=g.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){oe.select("path.textline").remove();return}var le=oe.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(le,Y.transform);var Z=Y.cxFinal+Y.pxmid[0],$=Y.cyFinal+Y.pxmid[1],se="M"+Z+","+$,ae=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var he=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],me=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(he)>Math.abs(me)?se+="l"+me*Y.pxmid[0]/Y.pxmid[1]+","+me+"H"+(Z+Y.labelExtraX+ae):se+="l"+Y.labelExtraX+","+he+"v"+(me-he)+"h"+ae}else se+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+ae;v.ensureSingle(oe,"path","textline").call(C.stroke,ne.outsidetextfont.color).attr({"stroke-width":Math.min(2,ne.outsidetextfont.size/8),d:se,fill:"none"})})}function o(X,ne,Y){var oe=Y[0],le=oe.cx,Z=oe.cy,$=oe.trace,se=$.type==="funnelarea";"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),X.on("mouseover",function(ae){var he=ne._fullLayout,me=ne._fullData[$.index];if(!(ne._dragging||he.hovermode===!1)){var Me=me.hoverinfo;if(Array.isArray(Me)&&(Me=i.castHoverinfo({hoverinfo:[l.castOption(Me,ae.pts)],_module:$._module},he,0)),Me==="all"&&(Me="label+text+value+percent+name"),me.hovertemplate||Me!=="none"&&Me!=="skip"&&Me){var Te=ae.rInscribed||0,Pe=le+ae.pxmid[0]*(1-Te),be=Z+ae.pxmid[1]*(1-Te),Ee=he.separators,xe=[];if(Me&&Me.indexOf("label")!==-1&&xe.push(ae.label),ae.text=l.castOption(me.hovertext||me.text,ae.pts),Me&&Me.indexOf("text")!==-1){var Ce=ae.text;v.isValidTextValue(Ce)&&xe.push(Ce)}ae.value=ae.v,ae.valueLabel=l.formatPieValue(ae.v,Ee),Me&&Me.indexOf("value")!==-1&&xe.push(ae.valueLabel),ae.percent=ae.v/oe.vTotal,ae.percentLabel=l.formatPiePercent(ae.percent,Ee),Me&&Me.indexOf("percent")!==-1&&xe.push(ae.percentLabel);var Ue=me.hoverlabel,Ne=Ue.font,De=[];i.loneHover({trace:$,x0:Pe-Te*oe.r,x1:Pe+Te*oe.r,y:be,_x0:se?le+ae.TL[0]:Pe-Te*oe.r,_x1:se?le+ae.TR[0]:Pe+Te*oe.r,_y0:se?Z+ae.TL[1]:be-Te*oe.r,_y1:se?Z+ae.BL[1]:be+Te*oe.r,text:xe.join("<br>"),name:me.hovertemplate||Me.indexOf("name")!==-1?me.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:l.castOption(Ue.bgcolor,ae.pts)||ae.color,borderColor:l.castOption(Ue.bordercolor,ae.pts),fontFamily:l.castOption(Ne.family,ae.pts),fontSize:l.castOption(Ne.size,ae.pts),fontColor:l.castOption(Ne.color,ae.pts),nameLength:l.castOption(Ue.namelength,ae.pts),textAlign:l.castOption(Ue.align,ae.pts),hovertemplate:l.castOption(me.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[y(ae,me)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:ne,inOut_bbox:De}),ae.bbox=De[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,ne.emit("plotly_hover",{points:[y(ae,me)],event:g.event})}}),X.on("mouseout",function(ae){var he=ne._fullLayout,me=ne._fullData[$.index],Me=g.select(this).datum();$._hasHoverEvent&&(ae.originalEvent=g.event,ne.emit("plotly_unhover",{points:[y(Me,me)],event:g.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(i.loneUnhover(he._hoverlayer.node()),$._hasHoverLabel=!1)}),X.on("click",function(ae){var he=ne._fullLayout,me=ne._fullData[$.index];ne._dragging||he.hovermode===!1||(ne._hoverdata=[y(ae,me)],i.click(ne,g.event))})}function p(X,ne,Y){var oe=l.castOption(X.outsidetextfont.color,ne.pts)||l.castOption(X.textfont.color,ne.pts)||Y.color,le=l.castOption(X.outsidetextfont.family,ne.pts)||l.castOption(X.textfont.family,ne.pts)||Y.family,Z=l.castOption(X.outsidetextfont.size,ne.pts)||l.castOption(X.textfont.size,ne.pts)||Y.size,$=l.castOption(X.outsidetextfont.weight,ne.pts)||l.castOption(X.textfont.weight,ne.pts)||Y.weight,se=l.castOption(X.outsidetextfont.style,ne.pts)||l.castOption(X.textfont.style,ne.pts)||Y.style,ae=l.castOption(X.outsidetextfont.variant,ne.pts)||l.castOption(X.textfont.variant,ne.pts)||Y.variant;return{color:oe,family:le,size:Z,weight:$,style:se,variant:ae}}function x(X,ne,Y){var oe=l.castOption(X.insidetextfont.color,ne.pts);!oe&&X._input.textfont&&(oe=l.castOption(X._input.textfont.color,ne.pts));var le=l.castOption(X.insidetextfont.family,ne.pts)||l.castOption(X.textfont.family,ne.pts)||Y.family,Z=l.castOption(X.insidetextfont.size,ne.pts)||l.castOption(X.textfont.size,ne.pts)||Y.size,$=l.castOption(X.insidetextfont.weight,ne.pts)||l.castOption(X.textfont.weight,ne.pts)||Y.weight,se=l.castOption(X.insidetextfont.style,ne.pts)||l.castOption(X.textfont.style,ne.pts)||Y.style,ae=l.castOption(X.insidetextfont.variant,ne.pts)||l.castOption(X.textfont.variant,ne.pts)||Y.variant;return{color:oe||C.contrast(ne.color),family:le,size:Z,weight:$,style:se,variant:ae}}function b(X,ne){for(var Y,oe,le=0;le<X.length;le++)if(Y=X[le][0],oe=Y.trace,oe.title.text){var Z=oe.title.text;oe._meta&&(Z=v.templateString(Z,oe._meta));var $=S.tester.append("text").attr("data-notex",1).text(Z).call(S.font,oe.title.font).call(t.convertToTspans,ne),se=S.bBox($.node(),!0);Y.titleBox={width:se.width,height:se.height},$.remove()}}function P(X,ne,Y){var oe=Y.r||ne.rpx1,le=ne.rInscribed,Z=ne.startangle===ne.stopangle;if(Z)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var $=ne.ring,se=$===1&&Math.abs(ne.startangle-ne.stopangle)===Math.PI*2,ae=ne.halfangle,he=ne.midangle,me=Y.trace.insidetextorientation,Me=me==="horizontal",Te=me==="tangential",Pe=me==="radial",be=me==="auto",Ee=[],xe;if(!be){var Ce=function(ot,et){if(m(ne,ot)){var ct=Math.abs(ot-ne.startangle),ht=Math.abs(ot-ne.stopangle),gt=ct<ht?ct:ht;et==="tan"?xe=M(X,oe,$,gt,0):xe=L(X,oe,$,gt,Math.PI/2),xe.textPosAngle=ot,Ee.push(xe)}},Ue;if(Me||Te){for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*Ue,"tan");for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+1),"tan")}if(Me||Pe){for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+1.5),"rad");for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+.5),"rad")}}if(se||be||Me){var Ne=Math.sqrt(X.width*X.width+X.height*X.height);if(xe={scale:le*oe*2/Ne,rCenter:1-le,rotate:0},xe.textPosAngle=(ne.startangle+ne.stopangle)/2,xe.scale>=1)return xe;Ee.push(xe)}(be||Pe)&&(xe=L(X,oe,$,ae,he),xe.textPosAngle=(ne.startangle+ne.stopangle)/2,Ee.push(xe)),(be||Te)&&(xe=M(X,oe,$,ae,he),xe.textPosAngle=(ne.startangle+ne.stopangle)/2,Ee.push(xe));for(var De=0,He=0,at=0;at<Ee.length;at++){var vt=Ee[at].scale;if(He<vt&&(He=vt,De=at),!be&&He>=1)break}return Ee[De]}function m(X,ne){var Y=X.startangle,oe=X.stopangle;return Y>ne&&ne>oe||Y<ne&&ne<oe}function L(X,ne,Y,oe,le){ne=Math.max(0,ne-2*u);var Z=X.width/X.height,$=w(Z,oe,ne,Y);return{scale:$*2/X.height,rCenter:s(Z,$/ne),rotate:E(le)}}function M(X,ne,Y,oe,le){ne=Math.max(0,ne-2*u);var Z=X.height/X.width,$=w(Z,oe,ne,Y);return{scale:$*2/X.width,rCenter:s(Z,$/ne),rotate:E(le+Math.PI/2)}}function s(X,ne){return Math.cos(ne)-X*ne}function E(X){return(180/Math.PI*X+720)%180-90}function w(X,ne,Y,oe){var le=X+1/(2*Math.tan(ne));return Y*Math.min(1/(Math.sqrt(le*le+.5)+le),oe/(Math.sqrt(X*X+oe/2)+X))}function _(X,ne){return X.v===ne.vTotal&&!ne.trace.hole?1:Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2)}function D(X,ne){var Y=ne.pxmid[0],oe=ne.pxmid[1],le=X.width/2,Z=X.height/2;return Y<0&&(le*=-1),oe<0&&(Z*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs(Z)*(le>0?1:-1)/2,y:Z/(1+Y*Y/(oe*oe)),outside:!0}}function N(X){var ne=Math.sqrt(X.titleBox.width*X.titleBox.width+X.titleBox.height*X.titleBox.height);return{x:X.cx,y:X.cy,scale:X.trace.hole*X.r*2/ne,tx:0,ty:-X.titleBox.height/2+X.trace.title.font.size}}function z(X,ne){var Y=1,oe=1,le,Z=X.trace,$={x:X.cx,y:X.cy},se={tx:0,ty:0};se.ty+=Z.title.font.size,le=B(Z),Z.title.position.indexOf("top")!==-1?($.y-=(1+le)*X.r,se.ty-=X.titleBox.height):Z.title.position.indexOf("bottom")!==-1&&($.y+=(1+le)*X.r);var ae=F(X.r,X.trace.aspectratio),he=ne.w*(Z.domain.x[1]-Z.domain.x[0])/2;return Z.title.position.indexOf("left")!==-1?(he=he+ae,$.x-=(1+le)*ae,se.tx+=X.titleBox.width/2):Z.title.position.indexOf("center")!==-1?he*=2:Z.title.position.indexOf("right")!==-1&&(he=he+ae,$.x+=(1+le)*ae,se.tx-=X.titleBox.width/2),Y=he/X.titleBox.width,oe=U(X,ne)/X.titleBox.height,{x:$.x,y:$.y,scale:Math.min(Y,oe),tx:se.tx,ty:se.ty}}function F(X,ne){return X/(ne===void 0?1:ne)}function U(X,ne){var Y=X.trace,oe=ne.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(X.titleBox.height,oe/2)}function B(X){var ne=X.pull;if(!ne)return 0;var Y;if(v.isArrayOrTypedArray(ne))for(ne=0,Y=0;Y<X.pull.length;Y++)X.pull[Y]>ne&&(ne=X.pull[Y]);return ne}function V(X,ne){var Y,oe,le,Z,$,se,ae,he,me,Me,Te,Pe,be;function Ee(Ne,De){return Ne.pxmid[1]-De.pxmid[1]}function xe(Ne,De){return De.pxmid[1]-Ne.pxmid[1]}function Ce(Ne,De){De||(De={});var He=De.labelExtraY+(oe?De.yLabelMax:De.yLabelMin),at=oe?Ne.yLabelMin:Ne.yLabelMax,vt=oe?Ne.yLabelMax:Ne.yLabelMin,ot=Ne.cyFinal+$(Ne.px0[1],Ne.px1[1]),et=He-at,ct,ht,gt,xt,Mt,tt;if(et*ae>0&&(Ne.labelExtraY=et),!!v.isArrayOrTypedArray(ne.pull))for(ht=0;ht<Me.length;ht++)gt=Me[ht],!(gt===Ne||(l.castOption(ne.pull,Ne.pts)||0)>=(l.castOption(ne.pull,gt.pts)||0))&&((Ne.pxmid[1]-gt.pxmid[1])*ae>0?(xt=gt.cyFinal+$(gt.px0[1],gt.px1[1]),et=xt-at-Ne.labelExtraY,et*ae>0&&(Ne.labelExtraY+=et)):(vt+Ne.labelExtraY-ot)*ae>0&&(ct=3*se*Math.abs(ht-Me.indexOf(Ne)),Mt=gt.cxFinal+Z(gt.px0[0],gt.px1[0]),tt=Mt+ct-(Ne.cxFinal+Ne.pxmid[0])-Ne.labelExtraX,tt*se>0&&(Ne.labelExtraX+=tt)))}for(oe=0;oe<2;oe++)for(le=oe?Ee:xe,$=oe?Math.max:Math.min,ae=oe?1:-1,Y=0;Y<2;Y++){for(Z=Y?Math.max:Math.min,se=Y?1:-1,he=X[oe][Y],he.sort(le),me=X[1-oe][Y],Me=me.concat(he),Pe=[],Te=0;Te<he.length;Te++)he[Te].yLabelMid!==void 0&&Pe.push(he[Te]);for(be=!1,Te=0;oe&&Te<me.length;Te++)if(me[Te].yLabelMid!==void 0){be=me[Te];break}for(Te=0;Te<Pe.length;Te++){var Ue=Te&&Pe[Te-1];be&&!Te&&(Ue=be),Ce(Pe[Te],Ue)}}}function j(X,ne){for(var Y=[],oe=0;oe<X.length;oe++){var le=X[oe][0],Z=le.trace,$=Z.domain,se=ne.w*($.x[1]-$.x[0]),ae=ne.h*($.y[1]-$.y[0]);Z.title.text&&Z.title.position!=="middle center"&&(ae-=U(le,ne));var he=se/2,me=ae/2;Z.type==="funnelarea"&&!Z.scalegroup&&(me/=Z.aspectratio),le.r=Math.min(he,me)/(1+B(Z)),le.cx=ne.l+ne.w*(Z.domain.x[1]+Z.domain.x[0])/2,le.cy=ne.t+ne.h*(1-Z.domain.y[0])-ae/2,Z.title.text&&Z.title.position.indexOf("bottom")!==-1&&(le.cy-=U(le,ne)),Z.scalegroup&&Y.indexOf(Z.scalegroup)===-1&&Y.push(Z.scalegroup)}Q(X,Y)}function Q(X,ne){for(var Y,oe,le,Z=0;Z<ne.length;Z++){var $=1/0,se=ne[Z];for(oe=0;oe<X.length;oe++)if(Y=X[oe][0],le=Y.trace,le.scalegroup===se){var ae;if(le.type==="pie")ae=Y.r*Y.r;else if(le.type==="funnelarea"){var he,me;le.aspectratio>1?(he=Y.r,me=he/le.aspectratio):(me=Y.r,he=me*le.aspectratio),he*=(1+le.baseratio)/2,ae=he*me}$=Math.min($,ae/Y.vTotal)}for(oe=0;oe<X.length;oe++)if(Y=X[oe][0],le=Y.trace,le.scalegroup===se){var Me=$*Y.vTotal;le.type==="funnelarea"&&(Me/=(1+le.baseratio)/2,Me/=le.aspectratio),Y.r=Math.sqrt(Me)}}}function ee(X){var ne=X[0],Y=ne.r,oe=ne.trace,le=l.getRotationAngle(oe.rotation),Z=2*Math.PI/ne.vTotal,$="px0",se="px1",ae,he,me;if(oe.direction==="counterclockwise"){for(ae=0;ae<X.length&&X[ae].hidden;ae++);if(ae===X.length)return;le+=Z*X[ae].v,Z*=-1,$="px1",se="px0"}for(me=re(Y,le),ae=0;ae<X.length;ae++)he=X[ae],!he.hidden&&(he[$]=me,he.startangle=le,le+=Z*he.v/2,he.pxmid=re(Y,le),he.midangle=le,le+=Z*he.v/2,me=re(Y,le),he.stopangle=le,he[se]=me,he.largeArc=he.v>ne.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/ne.vTotal,.5),he.ring=1-oe.hole,he.rInscribed=_(he,ne))}function re(X,ne){return[X*Math.sin(ne),-X*Math.cos(ne)]}function ue(X,ne,Y){var oe=X._fullLayout,le=Y.trace,Z=le.texttemplate,$=le.textinfo;if(!Z&&$&&$!=="none"){var se=$.split("+"),ae=function(De){return se.indexOf(De)!==-1},he=ae("label"),me=ae("text"),Me=ae("value"),Te=ae("percent"),Pe=oe.separators,be;if(be=he?[ne.label]:[],me){var Ee=l.getFirstFilled(le.text,ne.pts);h(Ee)&&be.push(Ee)}Me&&be.push(l.formatPieValue(ne.v,Pe)),Te&&be.push(l.formatPiePercent(ne.v/Y.vTotal,Pe)),ne.text=be.join("<br>")}function xe(De){return{label:De.label,value:De.v,valueLabel:l.formatPieValue(De.v,oe.separators),percent:De.v/Y.vTotal,percentLabel:l.formatPiePercent(De.v/Y.vTotal,oe.separators),color:De.color,text:De.text,customdata:v.castOption(le,De.i,"customdata")}}if(Z){var Ce=v.castOption(le,ne.i,"texttemplate");if(!Ce)ne.text="";else{var Ue=xe(ne),Ne=l.getFirstFilled(le.text,ne.pts);(h(Ne)||Ne==="")&&(Ue.text=Ne),ne.text=v.texttemplateString(Ce,Ue,X._fullLayout._d3locale,Ue,le._meta||{})}}}function J(X,ne){var Y=X.rotate*Math.PI/180,oe=Math.cos(Y),le=Math.sin(Y),Z=(ne.left+ne.right)/2,$=(ne.top+ne.bottom)/2;X.textX=Z*oe-$*le,X.textY=Z*le+$*oe,X.noCenter=!0}G.exports={plot:T,formatSliceLabel:ue,transformInsideText:P,determineInsideTextFont:x,positionTitleOutside:z,prerenderTitles:b,layoutAreas:j,attachFxHandlers:o,computeTransform:J}},22152:function(G,H,e){var g=e(33428),R=e(10528),i=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");i(S,v,"pie"),v.each(function(d){var r=d[0],t=r.trace,a=g.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){g.select(this).call(R,n,t,S)})})}},10528:function(G,H,e){var g=e(76308),R=e(69656).castOption,i=e(21552);G.exports=function(S,v,d,r){var t=d.marker.line,a=R(t.color,v.pts)||g.defaultLine,n=R(t.width,v.pts)||0;S.call(i,v,d,r).style("stroke-width",n).call(g.stroke,a)}},35484:function(G,H,e){var g=e(52904);G.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,H,e){var g=e(67792).gl_pointcloud2d,R=e(3400).isArrayOrTypedArray,i=e(43080),C=e(19280).findExtremes,S=e(44928);function v(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var d=v.prototype;d.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[a*2],this.pickXYData[a*2+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:R(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},d.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},d.updateFast=function(t){var a=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,y,h,T,c=this.bounds,o,p,x;if(f){if(T=f,y=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<y;x++)o=T[x*2],p=T[x*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),p<c[1]&&(c[1]=p),p>c[3]&&(c[3]=p);if(l)h=l;else for(h=new Int32Array(y),x=0;x<y;x++)h[x]=x}else for(y=a.length,T=new Float32Array(2*y),h=new Int32Array(y),x=0;x<y;x++)o=a[x],p=n[x],h[x]=x,T[x*2]=o,T[x*2+1]=p,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),p<c[1]&&(c[1]=p),p>c[3]&&(c[3]=p);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var b=i(t.marker.color),P=i(t.marker.border.color),m=t.opacity*t.marker.opacity;b[3]*=m,this.pointcloudOptions.color=b;var L=t.marker.blend;if(L===null){var M=100;L=a.length<M||n.length<M}this.pointcloudOptions.blend=L,P[3]*=m,this.pointcloudOptions.borderColor=P;var s=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,_=this.scene.yaxis,D=E/2||.5;t._extremes[w._id]=C(w,[c[0],c[2]],{ppad:D}),t._extremes[_._id]=C(_,[c[1],c[3]],{ppad:D})},d.dispose=function(){this.pointcloud.dispose()};function r(t,a){var n=new v(t,a.uid);return n.update(a),n}G.exports=r},41904:function(G,H,e){var g=e(3400),R=e(35484);G.exports=function(C,S,v){function d(r,t){return g.coerce(C,S,R,r,t)}d("x"),d("y"),d("xbounds"),d("ybounds"),C.xy&&C.xy instanceof Float32Array&&(S.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(S.indices=C.indices),d("text"),d("marker.color",v),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",v),d("marker.border.arearatio"),S._length=null}},156:function(G,H,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,H,e){var g=e(25376),R=e(45464),i=e(22548),C=e(55756),S=e(86968).u,v=e(21776).Ks,d=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,n=e(67824).overrideAll,f=G.exports=n({hoverinfo:a({},R.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(d().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(G,H,e){var g=e(67824).overrideAll,R=e(84888)._M,i=e(59596),C=e(65460),S=e(93972),v=e(86476),d=e(22676).prepSelect,r=e(3400),t=e(24040),a="sankey";H.name=a,H.baseLayoutAttrOverrides=g({hoverlabel:C.hoverlabel},"plot","nested"),H.plot=function(f){var u=R(f.calcdata,a)[0];i(f,u),H.updateFx(f)},H.clean=function(f,u,l,y){var h=y._has&&y._has(a),T=u._has&&u._has(a);h&&!T&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],y=f._fullLayout,h=y.dragmode,T=y.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){S(c,T);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},p={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:f,element:c.node(),plotinfo:{id:u,xaxis:o,yaxis:p,fillRangeItems:r.noop},subplot:u,xaxes:[o],yaxes:[p],doneFnCompleted:function(b){var P=f._fullData[u],m,L=P.node.groups.slice(),M=[];function s(D){for(var N=P._sankey.graph.nodes,z=0;z<N.length;z++)if(N[z].pointNumber===D)return N[z]}for(var E=0;E<b.length;E++){var w=s(b[E].pointNumber);if(w)if(w.group){for(var _=0;_<w.childrenNodes.length;_++)M.push(w.childrenNodes[_].pointNumber);L[w.pointNumber-P.node._count]=!1}else M.push(w.pointNumber)}m=L.filter(Boolean).concat([M]),t.call("_guiRestyle",f,{"node.groups":[m]},u)}};x.prepFn=function(b,P,m){d(b,P,m,x,h)},v.init(x)}}},48068:function(G,H,e){var g=e(78484),R=e(3400),i=e(71688).wrap,C=R.isArrayOrTypedArray,S=R.isIndex,v=e(8932);function d(t){var a=t.node,n=t.link,f=[],u=C(n.color),l=C(n.hovercolor),y=C(n.customdata),h={},T={},c=n.colorscales.length,o;for(o=0;o<c;o++){var p=n.colorscales[o],x=v.extractScale(p,{cLetter:"c"}),b=v.makeColorScaleFunc(x);T[p.label]=b}var P=0;for(o=0;o<n.value.length;o++)n.source[o]>P&&(P=n.source[o]),n.target[o]>P&&(P=n.target[o]);var m=P+1;t.node._count=m;var L,M=t.node.groups,s={};for(o=0;o<M.length;o++){var E=M[o];for(L=0;L<E.length;L++){var w=E[L],_=m+o;s.hasOwnProperty(w)?R.warn("Node "+w+" is already part of a group."):s[w]=_}}var D={source:[],target:[]};for(o=0;o<n.value.length;o++){var N=n.value[o],z=n.source[o],F=n.target[o];if(N>0&&S(z,m)&&S(F,m)&&!(s.hasOwnProperty(z)&&s.hasOwnProperty(F)&&s[z]===s[F])){s.hasOwnProperty(F)&&(F=s[F]),s.hasOwnProperty(z)&&(z=s[z]),z=+z,F=+F,h[z]=h[F]=!0;var U="";n.label&&n.label[o]&&(U=n.label[o]);var B=null;U&&T.hasOwnProperty(U)&&(B=T[U]),f.push({pointNumber:o,label:U,color:u?n.color[o]:n.color,hovercolor:l?n.hovercolor[o]:n.hovercolor,customdata:y?n.customdata[o]:n.customdata,concentrationscale:B,source:z,target:F,value:+N}),D.source.push(z),D.target.push(F)}}var V=m+M.length,j=C(a.color),Q=C(a.customdata),ee=[];for(o=0;o<V;o++)if(h[o]){var re=a.label[o];ee.push({group:o>m-1,childrenNodes:[],pointNumber:o,label:re,color:j?a.color[o]:a.color,customdata:Q?a.customdata[o]:a.customdata})}var ue=!1;return r(V,D.source,D.target)&&(ue=!0),{circular:ue,links:f,nodes:ee,groups:M,groupLookup:s}}function r(t,a,n){for(var f=R.init2dArray(t,0),u=0;u<Math.min(a.length,n.length);u++)if(R.isIndex(a[u],t)&&R.isIndex(n[u],t)){if(a[u]===n[u])return!0;f[a[u]].push(n[u])}var l=g(f);return l.components.some(function(y){return y.length>1})}G.exports=function(a,n){var f=d(n);return i({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,H,e){var g=e(3400),R=e(41440),i=e(76308),C=e(49760),S=e(86968).Q,v=e(16132),d=e(31780),r=e(51272);G.exports=function(n,f,u,l){function y(_,D){return g.coerce(n,f,R,_,D)}var h=g.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,c=d.newContainer(f,"node");function o(_,D){return g.coerce(T,c,R.node,_,D)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(T,c,o,h),o("hovertemplate"),o("align");var p=l.colorway,x=function(_){return p[_%p.length]};o("color",c.label.map(function(_,D){return i.addOpacity(x(D),.8)})),o("customdata");var b=n.link||{},P=d.newContainer(f,"link");function m(_,D){return g.coerce(b,P,R.link,_,D)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(b,P,m,h),m("hovertemplate");var L=C(l.paper_bgcolor).getLuminance()<.333,M=L?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",M);function E(_){var D=C(_);if(!D.isValid())return _;var N=D.getAlpha();return N<=.8?D.setAlpha(N+.2):D=L?D.brighten():D.darken(),D.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(E):E(s)),m("customdata"),r(b,P,{name:"colorscales",handleItemDefaults:t}),S(f,l,y),y("orientation"),y("valueformat"),y("valuesuffix");var w;c.x.length&&c.y.length&&(w="freeform"),y("arrangement",w),g.coerceFont(y,"textfont",g.extendFlat({},l.font)),f._length=null};function t(a,n){function f(u,l){return g.coerce(a,n,R.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(G,H,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,H,e){var g=e(33428),R=e(3400),i=R.numberFormat,C=e(83248),S=e(93024),v=e(76308),d=e(11820).cn,r=R._;function t(p){return p!==""}function a(p,x){return p.filter(function(b){return b.key===x.traceId})}function n(p,x){g.select(p).select("path").style("fill-opacity",x),g.select(p).select("rect").style("fill-opacity",x)}function f(p){g.select(p).select("text.name").style("fill","black")}function u(p){return function(x){return p.node.sourceLinks.indexOf(x.link)!==-1||p.node.targetLinks.indexOf(x.link)!==-1}}function l(p){return function(x){return x.node.sourceLinks.indexOf(p.link)!==-1||x.node.targetLinks.indexOf(p.link)!==-1}}function y(p,x,b){x&&b&&a(b,x).selectAll("."+d.sankeyLink).filter(u(x)).call(T.bind(0,x,b,!1))}function h(p,x,b){x&&b&&a(b,x).selectAll("."+d.sankeyLink).filter(u(x)).call(c.bind(0,x,b,!1))}function T(p,x,b,P){P.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),P.each(function(m){var L=m.link.label;L!==""&&a(x,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),b&&a(x,p).selectAll("."+d.sankeyNode).filter(l(p)).call(y)}function c(p,x,b,P){P.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),P.each(function(m){var L=m.link.label;L!==""&&a(x,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),b&&a(x,p).selectAll(d.sankeyNode).filter(l(p)).call(h)}function o(p,x){var b=p.hoverlabel||{},P=R.nestedProperty(b,x).get();return Array.isArray(P)?!1:P}G.exports=function(x,b){for(var P=x._fullLayout,m=P._paper,L=P._size,M=0;M<x._fullData.length;M++)if(x._fullData[M].visible&&x._fullData[M].type===d.sankey&&!x._fullData[M]._viewInitial){var s=x._fullData[M].node;x._fullData[M]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var E=function(re,ue){var J=ue.link;J.originalEvent=g.event,x._hoverdata=[J],S.click(x,{target:!0})},w=function(re,ue,J){x._fullLayout.hovermode!==!1&&(g.select(re).call(T.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_hover",{event:g.event,points:[ue.link]})))},_=r(x,"source:")+" ",D=r(x,"target:")+" ",N=r(x,"concentration:")+" ",z=r(x,"incoming flow count:")+" ",F=r(x,"outgoing flow count:")+" ",U=function(re,ue){if(x._fullLayout.hovermode===!1)return;var J=ue.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var X=[];function ne(ae){var he,me;ae.circular?(he=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,me=ae.circularPathData.verticalFullExtent):(he=(ae.source.x1+ae.target.x0)/2,me=(ae.y0+ae.y1)/2);var Me=[he,me];return ae.trace.orientation==="v"&&Me.reverse(),Me[0]+=ue.parent.translateX,Me[1]+=ue.parent.translateY,Me}for(var Y=0,oe=0;oe<ue.flow.links.length;oe++){var le=ue.flow.links[oe];if(!(x._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==le.pointNumber)){ue.link.pointNumber===le.pointNumber&&(Y=oe),le.fullData=le.trace,J=ue.link.trace.link;var Z=ne(le),$={valueLabel:i(ue.valueFormat)(le.value)+ue.valueSuffix};X.push({x:Z[0],y:Z[1],name:$.valueLabel,text:[le.label||"",_+le.source.label,D+le.target.label,le.concentrationscale?N+i("%0.2f")(le.flow.labelConcentration):""].filter(t).join("<br>"),color:o(J,"bgcolor")||v.addOpacity(le.color,1),borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),fontWeight:o(J,"font.weight"),fontStyle:o(J,"font.style"),fontVariant:o(J,"font.variant"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:g.event.x<Z[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:$,eventData:[le]})}}var se=S.loneHover(X,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:x,anchorIndex:Y});se.each(function(){var ae=this;ue.link.concentrationscale||n(ae,.65),f(ae)})},B=function(re,ue,J){x._fullLayout.hovermode!==!1&&(g.select(re).call(c.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_unhover",{event:g.event,points:[ue.link]})),S.loneUnhover(P._hoverlayer.node()))},V=function(re,ue,J){var X=ue.node;X.originalEvent=g.event,x._hoverdata=[X],g.select(re).call(h,ue,J),S.click(x,{target:!0})},j=function(re,ue,J){x._fullLayout.hovermode!==!1&&(g.select(re).call(y,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_hover",{event:g.event,points:[ue.node]})))},Q=function(re,ue){if(x._fullLayout.hovermode!==!1){var J=ue.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var X=g.select(re).select("."+d.nodeRect),ne=x._fullLayout._paperdiv.node().getBoundingClientRect(),Y=X.node().getBoundingClientRect(),oe=Y.left-2-ne.left,le=Y.right+2-ne.left,Z=Y.top+Y.height/4-ne.top,$={valueLabel:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,x._fullLayout._calcInverseTransform(x);var se=x._fullLayout._invScaleX,ae=x._fullLayout._invScaleY,he=S.loneHover({x0:se*oe,x1:se*le,y:ae*Z,name:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,z+ue.node.targetLinks.length,F+ue.node.sourceLinks.length].filter(t).join("<br>"),color:o(J,"bgcolor")||ue.tinyColorHue,borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),fontWeight:o(J,"font.weight"),fontStyle:o(J,"font.style"),fontVariant:o(J,"font.variant"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:$,eventData:[ue.node]},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:x});n(he,.85),f(he)}}},ee=function(re,ue,J){x._fullLayout.hovermode!==!1&&(g.select(re).call(h,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_unhover",{event:g.event,points:[ue.node]})),S.loneUnhover(P._hoverlayer.node()))};C(x,m,b,{width:L.w,height:L.h,margin:{t:L.t,r:L.r,b:L.b,l:L.l}},{linkEvents:{hover:w,follow:U,unhover:B,select:E},nodeEvents:{hover:j,follow:Q,unhover:ee,select:V}})}},83248:function(G,H,e){var g=e(49812),R=e(67756).Gz,i=e(33428),C=e(26800),S=e(48932),v=e(11820),d=e(49760),r=e(76308),t=e(43616),a=e(3400),n=a.strTranslate,f=a.strRotate,u=e(71688),l=u.keyFun,y=u.repeat,h=u.unwrap,T=e(72736),c=e(24040),o=e(84284),p=o.CAP_SHIFT,x=o.LINE_SPACING,b=3;function P(ne,Y,oe){var le=h(Y),Z=le.trace,$=Z.domain,se=Z.orientation==="h",ae=Z.node.pad,he=Z.node.thickness,me={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[Z.node.align],Me=ne.width*($.x[1]-$.x[0]),Te=ne.height*($.y[1]-$.y[0]),Pe=le._nodes,be=le._links,Ee=le.circular,xe;Ee?xe=S.sankeyCircular().circularLinkGap(0):xe=C.sankey(),xe.iterations(v.sankeyIterations).size(se?[Me,Te]:[Te,Me]).nodeWidth(he).nodePadding(ae).nodeId(function(tt){return tt.pointNumber}).nodeAlign(me).nodes(Pe).links(be);var Ce=xe();xe.nodePadding()<ae&&a.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var Ue,Ne,De;for(var He in le._groupLookup){var at=parseInt(le._groupLookup[He]),vt;for(Ue=0;Ue<Ce.nodes.length;Ue++)if(Ce.nodes[Ue].pointNumber===at){vt=Ce.nodes[Ue];break}if(vt){var ot={pointNumber:parseInt(He),x0:vt.x0,x1:vt.x1,y0:vt.y0,y1:vt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ce.nodes.unshift(ot),vt.childrenNodes.unshift(ot)}}function et(){for(Ue=0;Ue<Ce.nodes.length;Ue++){var tt=Ce.nodes[Ue],Oe={},Xe,Ze;for(Ne=0;Ne<tt.targetLinks.length;Ne++)Ze=tt.targetLinks[Ne],Xe=Ze.source.pointNumber+":"+Ze.target.pointNumber,Oe.hasOwnProperty(Xe)||(Oe[Xe]=[]),Oe[Xe].push(Ze);var We=Object.keys(Oe);for(Ne=0;Ne<We.length;Ne++){Xe=We[Ne];var ze=Oe[Xe],ke=0,je={};for(De=0;De<ze.length;De++)Ze=ze[De],je[Ze.label]||(je[Ze.label]=0),je[Ze.label]+=Ze.value,ke+=Ze.value;for(De=0;De<ze.length;De++)Ze=ze[De],Ze.flow={value:ke,labelConcentration:je[Ze.label]/ke,concentration:Ze.value/ke,links:ze},Ze.concentrationscale&&(Ze.color=d(Ze.concentrationscale(Ze.flow.labelConcentration)))}var Ie=0;for(Ne=0;Ne<tt.sourceLinks.length;Ne++)Ie+=tt.sourceLinks[Ne].value;for(Ne=0;Ne<tt.sourceLinks.length;Ne++)Ze=tt.sourceLinks[Ne],Ze.concentrationOut=Ze.value/Ie;var pe=0;for(Ne=0;Ne<tt.targetLinks.length;Ne++)pe+=tt.targetLinks[Ne].value;for(Ne=0;Ne<tt.targetLinks.length;Ne++)Ze=tt.targetLinks[Ne],Ze.concenrationIn=Ze.value/pe}}et();function ct(tt){tt.forEach(function(Oe){var Xe,Ze,We=0,ze=Oe.length,ke;for(Oe.sort(function(je,Ie){return je.y0-Ie.y0}),ke=0;ke<ze;++ke)Xe=Oe[ke],Xe.y0>=We||(Ze=We-Xe.y0,Ze>1e-6&&(Xe.y0+=Ze,Xe.y1+=Ze)),We=Xe.y1+ae})}function ht(tt){var Oe=tt.map(function(Ie,pe){return{x0:Ie.x0,index:pe}}).sort(function(Ie,pe){return Ie.x0-pe.x0}),Xe=[],Ze=-1,We,ze=-1/0,ke;for(Ue=0;Ue<Oe.length;Ue++){var je=tt[Oe[Ue].index];je.x0>ze+he&&(Ze+=1,We=je.x0),ze=je.x0,Xe[Ze]||(Xe[Ze]=[]),Xe[Ze].push(je),ke=We-je.x0,je.x0+=ke,je.x1+=ke}return Xe}if(Z.node.x.length&&Z.node.y.length){for(Ue=0;Ue<Math.min(Z.node.x.length,Z.node.y.length,Ce.nodes.length);Ue++)if(Z.node.x[Ue]&&Z.node.y[Ue]){var gt=[Z.node.x[Ue]*Me,Z.node.y[Ue]*Te];Ce.nodes[Ue].x0=gt[0]-he/2,Ce.nodes[Ue].x1=gt[0]+he/2;var xt=Ce.nodes[Ue].y1-Ce.nodes[Ue].y0;Ce.nodes[Ue].y0=gt[1]-xt/2,Ce.nodes[Ue].y1=gt[1]+xt/2}if(Z.arrangement==="snap"){Pe=Ce.nodes;var Mt=ht(Pe);ct(Mt)}xe.update(Ce)}return{circular:Ee,key:oe,trace:Z,guid:a.randstr(),horizontal:se,width:Me,height:Te,nodePad:Z.node.pad,nodeLineColor:Z.node.line.color,nodeLineWidth:Z.node.line.width,linkLineColor:Z.link.line.color,linkLineWidth:Z.link.line.width,linkArrowLength:Z.link.arrowlen,valueFormat:Z.valueformat,valueSuffix:Z.valuesuffix,textFont:Z.textfont,translateX:$.x[0]*ne.width+ne.margin.l,translateY:ne.height-$.y[1]*ne.height+ne.margin.t,dragParallel:se?Te:Me,dragPerpendicular:se?Me:Te,arrangement:Z.arrangement,sankey:xe,graph:Ce,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(ne,Y,oe){var le=d(Y.color),Z=d(Y.hovercolor),$=Y.source.label+"|"+Y.target.label,se=$+"__"+oe;return Y.trace=ne.trace,Y.curveNumber=ne.trace.index,{circular:ne.circular,key:se,traceId:ne.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(le),tinyColorAlpha:le.getAlpha(),tinyColorHoverHue:r.tinyRGB(Z),tinyColorHoverAlpha:Z.getAlpha(),linkPath:M,linkLineColor:ne.linkLineColor,linkLineWidth:ne.linkLineWidth,linkArrowLength:ne.linkArrowLength,valueFormat:ne.valueFormat,valueSuffix:ne.valueSuffix,sankey:ne.sankey,parent:ne,interactionState:ne.interactionState,flow:Y.flow}}function L(ne,Y){var oe="",le=ne.width/2,Z=ne.circularPathData;return ne.circularLinkType==="top"?oe="M "+(Z.targetX-Y)+" "+(Z.targetY+le)+" L"+(Z.rightInnerExtent-Y)+" "+(Z.targetY+le)+"A"+(Z.rightLargeArcRadius+le)+" "+(Z.rightSmallArcRadius+le)+" 0 0 1 "+(Z.rightFullExtent-le-Y)+" "+(Z.targetY-Z.rightSmallArcRadius)+"L"+(Z.rightFullExtent-le-Y)+" "+Z.verticalRightInnerExtent+"A"+(Z.rightLargeArcRadius+le)+" "+(Z.rightLargeArcRadius+le)+" 0 0 1 "+(Z.rightInnerExtent-Y)+" "+(Z.verticalFullExtent-le)+"L"+Z.leftInnerExtent+" "+(Z.verticalFullExtent-le)+"A"+(Z.leftLargeArcRadius+le)+" "+(Z.leftLargeArcRadius+le)+" 0 0 1 "+(Z.leftFullExtent+le)+" "+Z.verticalLeftInnerExtent+"L"+(Z.leftFullExtent+le)+" "+(Z.sourceY-Z.leftSmallArcRadius)+"A"+(Z.leftLargeArcRadius+le)+" "+(Z.leftSmallArcRadius+le)+" 0 0 1 "+Z.leftInnerExtent+" "+(Z.sourceY+le)+"L"+Z.sourceX+" "+(Z.sourceY+le)+"L"+Z.sourceX+" "+(Z.sourceY-le)+"L"+Z.leftInnerExtent+" "+(Z.sourceY-le)+"A"+(Z.leftLargeArcRadius-le)+" "+(Z.leftSmallArcRadius-le)+" 0 0 0 "+(Z.leftFullExtent-le)+" "+(Z.sourceY-Z.leftSmallArcRadius)+"L"+(Z.leftFullExtent-le)+" "+Z.verticalLeftInnerExtent+"A"+(Z.leftLargeArcRadius-le)+" "+(Z.leftLargeArcRadius-le)+" 0 0 0 "+Z.leftInnerExtent+" "+(Z.verticalFullExtent+le)+"L"+(Z.rightInnerExtent-Y)+" "+(Z.verticalFullExtent+le)+"A"+(Z.rightLargeArcRadius-le)+" "+(Z.rightLargeArcRadius-le)+" 0 0 0 "+(Z.rightFullExtent+le-Y)+" "+Z.verticalRightInnerExtent+"L"+(Z.rightFullExtent+le-Y)+" "+(Z.targetY-Z.rightSmallArcRadius)+"A"+(Z.rightLargeArcRadius-le)+" "+(Z.rightSmallArcRadius-le)+" 0 0 0 "+(Z.rightInnerExtent-Y)+" "+(Z.targetY-le)+"L"+(Z.targetX-Y)+" "+(Z.targetY-le)+(Y>0?"L"+Z.targetX+" "+Z.targetY:"")+"Z":oe="M "+(Z.targetX-Y)+" "+(Z.targetY-le)+" L"+(Z.rightInnerExtent-Y)+" "+(Z.targetY-le)+"A"+(Z.rightLargeArcRadius+le)+" "+(Z.rightSmallArcRadius+le)+" 0 0 0 "+(Z.rightFullExtent-le-Y)+" "+(Z.targetY+Z.rightSmallArcRadius)+"L"+(Z.rightFullExtent-le-Y)+" "+Z.verticalRightInnerExtent+"A"+(Z.rightLargeArcRadius+le)+" "+(Z.rightLargeArcRadius+le)+" 0 0 0 "+(Z.rightInnerExtent-Y)+" "+(Z.verticalFullExtent+le)+"L"+Z.leftInnerExtent+" "+(Z.verticalFullExtent+le)+"A"+(Z.leftLargeArcRadius+le)+" "+(Z.leftLargeArcRadius+le)+" 0 0 0 "+(Z.leftFullExtent+le)+" "+Z.verticalLeftInnerExtent+"L"+(Z.leftFullExtent+le)+" "+(Z.sourceY+Z.leftSmallArcRadius)+"A"+(Z.leftLargeArcRadius+le)+" "+(Z.leftSmallArcRadius+le)+" 0 0 0 "+Z.leftInnerExtent+" "+(Z.sourceY-le)+"L"+Z.sourceX+" "+(Z.sourceY-le)+"L"+Z.sourceX+" "+(Z.sourceY+le)+"L"+Z.leftInnerExtent+" "+(Z.sourceY+le)+"A"+(Z.leftLargeArcRadius-le)+" "+(Z.leftSmallArcRadius-le)+" 0 0 1 "+(Z.leftFullExtent-le)+" "+(Z.sourceY+Z.leftSmallArcRadius)+"L"+(Z.leftFullExtent-le)+" "+Z.verticalLeftInnerExtent+"A"+(Z.leftLargeArcRadius-le)+" "+(Z.leftLargeArcRadius-le)+" 0 0 1 "+Z.leftInnerExtent+" "+(Z.verticalFullExtent-le)+"L"+(Z.rightInnerExtent-Y)+" "+(Z.verticalFullExtent-le)+"A"+(Z.rightLargeArcRadius-le)+" "+(Z.rightLargeArcRadius-le)+" 0 0 1 "+(Z.rightFullExtent+le-Y)+" "+Z.verticalRightInnerExtent+"L"+(Z.rightFullExtent+le-Y)+" "+(Z.targetY+Z.rightSmallArcRadius)+"A"+(Z.rightLargeArcRadius-le)+" "+(Z.rightSmallArcRadius-le)+" 0 0 1 "+(Z.rightInnerExtent-Y)+" "+(Z.targetY+le)+"L"+(Z.targetX-Y)+" "+(Z.targetY+le)+(Y>0?"L"+Z.targetX+" "+Z.targetY:"")+"Z",oe}function M(){var ne=.5;function Y(oe){var le=oe.linkArrowLength;if(oe.link.circular)return L(oe.link,le);var Z=Math.abs((oe.link.target.x0-oe.link.source.x1)/2);le>Z&&(le=Z);var $=oe.link.source.x1,se=oe.link.target.x0-le,ae=R($,se),he=ae(ne),me=ae(1-ne),Me=oe.link.y0-oe.link.width/2,Te=oe.link.y0+oe.link.width/2,Pe=oe.link.y1-oe.link.width/2,be=oe.link.y1+oe.link.width/2,Ee="M"+$+","+Me,xe="C"+he+","+Me+" "+me+","+Pe+" "+se+","+Pe,Ce="C"+me+","+be+" "+he+","+Te+" "+$+","+Te,Ue=le>0?"L"+(se+le)+","+(Pe+oe.link.width/2):"";return Ue+="L"+se+","+be,Ee+xe+Ue+Ce+"Z"}return Y}function s(ne,Y){var oe=d(Y.color),le=v.nodePadAcross,Z=ne.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var $=Y.dx,se=Math.max(.5,Y.dy),ae="node_"+Y.pointNumber;return Y.group&&(ae=a.randstr()),Y.trace=ne.trace,Y.curveNumber=ne.trace.index,{index:Y.pointNumber,key:ae,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:ne.key,trace:ne.trace,node:Y,nodePad:ne.nodePad,nodeLineColor:ne.nodeLineColor,nodeLineWidth:ne.nodeLineWidth,textFont:ne.textFont,size:ne.horizontal?ne.height:ne.width,visibleWidth:Math.ceil($),visibleHeight:se,zoneX:-le,zoneY:-Z,zoneWidth:$+2*le,zoneHeight:se+2*Z,labelY:ne.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:ne.width,forceLayouts:ne.forceLayouts,horizontal:ne.horizontal,darkBackground:oe.getBrightness()<=128,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),valueFormat:ne.valueFormat,valueSuffix:ne.valueSuffix,sankey:ne.sankey,graph:ne.graph,arrangement:ne.arrangement,uniqueNodeLabelPathId:[ne.guid,ne.key,ae].join("_"),interactionState:ne.interactionState,figure:ne}}function E(ne){ne.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function w(ne){ne.call(E)}function _(ne,Y){ne.call(w),Y.attr("d",M())}function D(ne){ne.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function N(ne){return ne.link.width>1||ne.linkLineWidth>0}function z(ne){var Y=n(ne.translateX,ne.translateY);return Y+(ne.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(ne,Y,oe){ne.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(oe.hover(this,le,Y),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(oe.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(oe.unhover(this,le,Y),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(oe.unhover(this,le,Y),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&oe.select(this,le,Y)})}function U(ne,Y,oe,le){var Z=i.behavior.drag().origin(function($){return{x:$.node.x0+$.visibleWidth/2,y:$.node.y0+$.visibleHeight/2}}).on("dragstart",function($){if($.arrangement!=="fixed"&&(a.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(ae){le._fullLayout._dragCover=ae}),a.raiseToTop(this),$.interactionState.dragInProgress=$.node,re($.node),$.interactionState.hovered&&(oe.nodeEvents.unhover.apply(0,$.interactionState.hovered),$.interactionState.hovered=!1),$.arrangement==="snap")){var se=$.traceId+"|"+$.key;$.forceLayouts[se]?$.forceLayouts[se].alpha(1):B(ne,se,$),V(ne,Y,$,se,le)}}).on("drag",function($){if($.arrangement!=="fixed"){var se=i.event.x,ae=i.event.y;$.arrangement==="snap"?($.node.x0=se-$.visibleWidth/2,$.node.x1=se+$.visibleWidth/2,$.node.y0=ae-$.visibleHeight/2,$.node.y1=ae+$.visibleHeight/2):($.arrangement==="freeform"&&($.node.x0=se-$.visibleWidth/2,$.node.x1=se+$.visibleWidth/2),ae=Math.max(0,Math.min($.size-$.visibleHeight/2,ae)),$.node.y0=ae-$.visibleHeight/2,$.node.y1=ae+$.visibleHeight/2),re($.node),$.arrangement!=="snap"&&($.sankey.update($.graph),_(ne.filter(ue($)),Y))}}).on("dragend",function($){if($.arrangement!=="fixed"){$.interactionState.dragInProgress=!1;for(var se=0;se<$.node.childrenNodes.length;se++)$.node.childrenNodes[se].x=$.node.x,$.node.childrenNodes[se].y=$.node.y;$.arrangement!=="snap"&&Q($,le)}});ne.on(".drag",null).call(Z)}function B(ne,Y,oe,le){J(oe.graph.nodes);var Z=oe.graph.nodes.filter(function($){return $.originalX===oe.node.originalX}).filter(function($){return!$.partOfGroup});oe.forceLayouts[Y]=g.forceSimulation(Z).alphaDecay(0).force("collide",g.forceCollide().radius(function($){return $.dy/2+oe.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",j(ne,Y,Z,oe)).stop()}function V(ne,Y,oe,le,Z){window.requestAnimationFrame(function $(){var se;for(se=0;se<v.forceTicksPerFrame;se++)oe.forceLayouts[le].tick();var ae=oe.graph.nodes;if(X(ae),oe.sankey.update(oe.graph),_(ne.filter(ue(oe)),Y),oe.forceLayouts[le].alpha()>0)window.requestAnimationFrame($);else{var he=oe.node.originalX;oe.node.x0=he-oe.visibleWidth/2,oe.node.x1=he+oe.visibleWidth/2,Q(oe,Z)}})}function j(ne,Y,oe,le){return function(){for(var $=0,se=0;se<oe.length;se++){var ae=oe[se];ae===le.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(le.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),$=Math.max($,Math.abs(ae.vx),Math.abs(ae.vy))}!le.interactionState.dragInProgress&&$<.1&&le.forceLayouts[Y].alpha()>0&&le.forceLayouts[Y].alpha(0)}}function Q(ne,Y){for(var oe=[],le=[],Z=0;Z<ne.graph.nodes.length;Z++){var $=(ne.graph.nodes[Z].x0+ne.graph.nodes[Z].x1)/2,se=(ne.graph.nodes[Z].y0+ne.graph.nodes[Z].y1)/2;oe.push($/ne.figure.width),le.push(se/ne.figure.height)}c.call("_guiRestyle",Y,{"node.x":[oe],"node.y":[le]},ne.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function ee(ne){var Y=[],oe;for(oe=0;oe<ne.length;oe++)ne[oe].originalX=(ne[oe].x0+ne[oe].x1)/2,ne[oe].originalY=(ne[oe].y0+ne[oe].y1)/2,Y.indexOf(ne[oe].originalX)===-1&&Y.push(ne[oe].originalX);for(Y.sort(function(le,Z){return le-Z}),oe=0;oe<ne.length;oe++)ne[oe].originalLayerIndex=Y.indexOf(ne[oe].originalX),ne[oe].originalLayer=ne[oe].originalLayerIndex/(Y.length-1)}function re(ne){ne.lastDraggedX=ne.x0+ne.dx/2,ne.lastDraggedY=ne.y0+ne.dy/2}function ue(ne){return function(Y){return Y.node.originalX===ne.node.originalX}}function J(ne){for(var Y=0;Y<ne.length;Y++)ne[Y].y=(ne[Y].y0+ne[Y].y1)/2,ne[Y].x=(ne[Y].x0+ne[Y].x1)/2}function X(ne){for(var Y=0;Y<ne.length;Y++)ne[Y].y0=ne[Y].y-ne[Y].dy/2,ne[Y].y1=ne[Y].y0+ne[Y].dy,ne[Y].x0=ne[Y].x-ne[Y].dx/2,ne[Y].x1=ne[Y].x0+ne[Y].dx}G.exports=function(ne,Y,oe,le,Z){var $=ne._context.staticPlot,se=!1;a.ensureSingle(ne._fullLayout._infolayer,"g","first-render",function(){se=!0});var ae=ne._fullLayout._dragCover,he=oe.filter(function(Ce){return h(Ce).trace.visible}).map(P.bind(null,le)),me=Y.selectAll("."+v.cn.sankey).data(he,l);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",$?"none":"auto").attr("transform",z),me.each(function(Ce,Ue){ne._fullData[Ue]._sankey=Ce;var Ne="bgsankey-"+Ce.trace.uid+"-"+Ue;a.ensureSingle(ne._fullLayout._draggers,"rect",Ne),ne._fullData[Ue]._bgRect=i.select("."+Ne),ne._fullData[Ue]._bgRect.style("pointer-events",$?"none":"all").attr("width",Ce.width).attr("height",Ce.height).attr("x",Ce.translateX).attr("y",Ce.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Me=me.selectAll("."+v.cn.sankeyLinks).data(y,l);Me.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=Me.selectAll("."+v.cn.sankeyLink).data(function(Ce){var Ue=Ce.graph.links;return Ue.filter(function(Ne){return Ne.value}).map(m.bind(null,Ce))},l);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,me,Z.linkEvents),Te.style("stroke",function(Ce){return N(Ce)?r.tinyRGB(d(Ce.linkLineColor)):Ce.tinyColorHue}).style("stroke-opacity",function(Ce){return N(Ce)?r.opacity(Ce.linkLineColor):Ce.tinyColorAlpha}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}).style("stroke-width",function(Ce){return N(Ce)?Ce.linkLineWidth:1}).attr("d",M()),Te.style("opacity",function(){return ne._context.staticPlot||se||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Pe=me.selectAll("."+v.cn.sankeyNodeSet).data(y,l);Pe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Pe.style("cursor",function(Ce){switch(Ce.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var be=Pe.selectAll("."+v.cn.sankeyNode).data(function(Ce){var Ue=Ce.graph.nodes;return ee(Ue),Ue.map(s.bind(null,Ce))},l);be.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Ce){return(ne._context.staticPlot||se)&&!Ce.partOfGroup?1:0}),be.call(F,me,Z.nodeEvents).call(U,Te,Z,ne),be.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Ce){return Ce.partOfGroup?0:1}),be.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ee=be.selectAll("."+v.cn.nodeRect).data(y);Ee.enter().append("rect").classed(v.cn.nodeRect,!0).call(D),Ee.style("stroke-width",function(Ce){return Ce.nodeLineWidth}).style("stroke",function(Ce){return r.tinyRGB(d(Ce.nodeLineColor))}).style("stroke-opacity",function(Ce){return r.opacity(Ce.nodeLineColor)}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}),Ee.transition().ease(v.ease).duration(v.duration).call(D);var xe=be.selectAll("."+v.cn.nodeLabel).data(y);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Ce){return Ce.node.label}).each(function(Ce){var Ue=i.select(this);t.font(Ue,Ce.textFont),T.convertToTspans(Ue,ne)}).style("text-shadow",T.makeTextShadow(ne._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ce){return Ce.horizontal&&Ce.left?"end":"start"}).attr("transform",function(Ce){var Ue=i.select(this),Ne=T.lineCount(Ue),De=Ce.textFont.size*((Ne-1)*x-p),He=Ce.nodeLineWidth/2+b,at=((Ce.horizontal?Ce.visibleHeight:Ce.visibleWidth)-De)/2;Ce.horizontal&&(Ce.left?He=-He:He+=Ce.visibleWidth);var vt=Ce.horizontal?"":"scale(-1,1)"+f(90);return n(Ce.horizontal?He:at,Ce.horizontal?at:He)+vt}),xe.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,g){for(var R=e.cd,i=[],C=R[0].trace,S=C._sankey.graph.nodes,v=0;v<S.length;v++){var d=S[v];if(!d.partOfGroup){var r=[(d.x0+d.x1)/2,(d.y0+d.y1)/2];C.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&i.push({pointNumber:d.pointNumber})}}return i}},20148:function(G,H,e){var g=e(3400);G.exports=function(i,C){for(var S=0;S<i.length;S++)i[S].i=S;g.mergeArray(C.text,i,"tx"),g.mergeArray(C.texttemplate,i,"txt"),g.mergeArray(C.hovertext,i,"htx"),g.mergeArray(C.customdata,i,"data"),g.mergeArray(C.textposition,i,"tp"),C.textfont&&(g.mergeArrayCastPositive(C.textfont.size,i,"ts"),g.mergeArray(C.textfont.color,i,"tc"),g.mergeArray(C.textfont.family,i,"tf"),g.mergeArray(C.textfont.weight,i,"tw"),g.mergeArray(C.textfont.style,i,"ty"),g.mergeArray(C.textfont.variant,i,"tv"));var v=C.marker;if(v){g.mergeArrayCastPositive(v.size,i,"ms"),g.mergeArrayCastPositive(v.opacity,i,"mo"),g.mergeArray(v.symbol,i,"mx"),g.mergeArray(v.angle,i,"ma"),g.mergeArray(v.standoff,i,"mf"),g.mergeArray(v.color,i,"mc");var d=v.line;v.line&&(g.mergeArray(d.color,i,"mlc"),g.mergeArrayCastPositive(d.width,i,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,i,"mgt"),g.mergeArray(r.color,i,"mgc"))}}},52904:function(G,H,e){var g=e(29736).axisHoverFormat,R=e(21776).Gw,i=e(21776).Ks,C=e(49084),S=e(25376),v=e(98192).u,d=e(98192).c,r=e(43616),t=e(88200),a=e(92880).extendFlat,n=e(98304);function f(y){return{valType:"any",dflt:0,editType:"calc"}}function u(y){return{valType:"any",editType:"calc"}}function l(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:R({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:d,marker:a({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(G,H,e){var g=e(38248),R=e(3400),i=e(54460),C=e(1220),S=e(39032).BADNUM,v=e(43028),d=e(90136),r=e(20148),t=e(4500);function a(h,T){var c=h._fullLayout,o=T._xA=i.getFromId(h,T.xaxis||"x","x"),p=T._yA=i.getFromId(h,T.yaxis||"y","y"),x=o.makeCalcdata(T,"x"),b=p.makeCalcdata(T,"y"),P=C(T,o,"x",x),m=C(T,p,"y",b),L=P.vals,M=m.vals,s=T._length,E=new Array(s),w=T.ids,_=y(T,c,o,p),D=!1,N,z,F,U,B,V;u(c,T);var j="x",Q="y",ee;if(_)R.pushUnique(_.traceIndices,T._expandedIndex),N=_.orientation==="v",N?(Q="s",ee="x"):(j="s",ee="y"),B=_.stackgaps==="interpolate";else{var re=f(T,s);n(h,T,o,p,L,M,re)}var ue=!!T.xperiodalignment,J=!!T.yperiodalignment;for(z=0;z<s;z++){var X=E[z]={},ne=g(L[z]),Y=g(M[z]);ne&&Y?(X[j]=L[z],X[Q]=M[z],ue&&(X.orig_x=x[z],X.xEnd=P.ends[z],X.xStart=P.starts[z]),J&&(X.orig_y=b[z],X.yEnd=m.ends[z],X.yStart=m.starts[z])):_&&(N?ne:Y)?(X[ee]=N?L[z]:M[z],X.gap=!0,B?(X.s=S,D=!0):X.s=0):X[j]=X[Q]=S,w&&(X.id=String(w[z]))}if(r(E,T),d(h,T),t(E,T),_){for(z=0;z<E.length;)E[z][ee]===S?E.splice(z,1):z++;if(R.sort(E,function($,se){return $[ee]-se[ee]||$.i-se.i}),D){for(z=0;z<E.length-1&&E[z].gap;)z++;for(V=E[z].s,V||(V=E[z].s=0),F=0;F<z;F++)E[F].s=V;for(U=E.length-1;U>z&&E[U].gap;)U--;for(V=E[U].s,F=E.length-1;F>U;F--)E[F].s=V;for(;z<U;)if(z++,E[z].gap){for(F=z+1;E[F].gap;)F++;for(var oe=E[z-1][ee],le=E[z-1].s,Z=(E[F].s-le)/(E[F][ee]-oe);z<F;)E[z].s=le+(E[z][ee]-oe)*Z,z++}}}return E}function n(h,T,c,o,p,x,b){var P=T._length,m=h._fullLayout,L=c._id,M=o._id,s=m._firstScatter[l(T)]===T.uid,E=(y(T,m,c,o)||{}).orientation,w=T.fill;c._minDtick=0,o._minDtick=0;var _={padded:!0},D={padded:!0};b&&(_.ppad=D.ppad=b);var N=P<2||p[0]!==p[P-1]||x[0]!==x[P-1];N&&(w==="tozerox"||w==="tonextx"&&(s||E==="h"))?_.tozero=!0:!(T.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(_.padded=!1,_.ppad=0),N&&(w==="tozeroy"||w==="tonexty"&&(s||E==="v"))?D.tozero=!0:(w==="tonextx"||w==="tozerox")&&(D.padded=!1),L&&(T._extremes[L]=i.findExtremes(c,p,_)),M&&(T._extremes[M]=i.findExtremes(o,x,D))}function f(h,T){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),p;if(h.marker.sizemode==="area"?p=function(L){return Math.max(Math.sqrt((L||0)/o),3)}:p=function(L){return Math.max((L||0)/o,3)},R.isArrayOrTypedArray(c.size)){var x={type:"linear"};i.setConvert(x);for(var b=x.makeCalcdata(h.marker,"size"),P=new Array(T),m=0;m<T;m++)P[m]=p(b[m]);return P}else return p(c.size)}}function u(h,T){var c=l(T),o=h._firstScatter;o[c]||(o[c]=T.uid)}function l(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function y(h,T,c,o){var p=h.stackgroup;if(p){var x=T._scatterStackOpts[c._id+o._id][p],b=x.orientation==="v"?o:c;if(b.type==="linear"||b.type==="log")return x}}G.exports={calc:a,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:y}},4500:function(G,H,e){var g=e(3400);G.exports=function(i,C){g.isArrayOrTypedArray(C.selectedpoints)&&g.tagSelected(i,C)}},90136:function(G,H,e){var g=e(94288).hasColorscale,R=e(47128),i=e(43028);G.exports=function(S,v){i.hasLines(v)&&g(v,"line")&&R(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(v)&&(g(v,"marker")&&R(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&R(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,H,e){var g=e(16356),R=e(96376).setGroupPositions;function i(v,d){for(var r=d.xaxis,t=d.yaxis,a=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],y=0;y<n.length;y++){var h=n[y];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[y]):h.orientation==="v"&&l.push(f[y]))}var T={mode:a.scattermode,gap:a.scattergap};R(v,r,t,l,T),R(v,t,r,u,T)}G.exports=function(d,r){d._fullLayout.scattermode==="group"&&i(d,r);var t=r.xaxis,a=r.yaxis,n=t._id+a._id,f=d._fullLayout._scatterStackOpts[n];if(f){var u=d.calcdata,l,y,h,T,c,o,p,x,b,P,m,L,M,s,E;for(var w in f){P=f[w];var _=P.traceIndices;if(_.length){for(m=P.stackgaps==="interpolate",L=P.groupnorm,P.orientation==="v"?(M="x",s="y"):(M="y",s="x"),E=new Array(_.length),l=0;l<E.length;l++)E[l]=!1;o=u[_[0]];var D=new Array(o.length);for(l=0;l<o.length;l++)D[l]=o[l][M];for(l=1;l<_.length;l++){for(c=u[_[l]],y=h=0;y<c.length;y++){for(p=c[y][M];p>D[h]&&h<D.length;h++)C(c,y,D[h],l,E,m,M),y++;if(p!==D[h]){for(T=0;T<l;T++)C(u[_[T]],h,p,T,E,m,M);D.splice(h,0,p)}h++}for(;h<D.length;h++)C(c,y,D[h],l,E,m,M),y++}var N=D.length;for(y=0;y<o.length;y++){for(x=o[y][s]=o[y].s,l=1;l<_.length;l++)c=u[_[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,x+=c[y].s,c[y][s]=x;if(L)for(b=(L==="fraction"?x:x/100)||1,l=0;l<_.length;l++){var z=u[_[l]][y];z[s]/=b,z.sNorm=z.s/b}}for(l=0;l<_.length;l++){c=u[_[l]];var F=c[0].trace,U=g.calcMarkerSize(F,F._rawLength),B=Array.isArray(U);if(U&&E[l]||B){var V=U;for(U=new Array(N),y=0;y<N;y++)U[y]=c[y].gap?0:B?V[c[y].i]:V}var j=new Array(N),Q=new Array(N);for(y=0;y<N;y++)j[y]=c[y].x,Q[y]=c[y].y;g.calcAxisExpansion(d,F,t,a,j,Q,U),c[0].t.orientation=P.orientation}}}}};function C(v,d,r,t,a,n,f){a[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(d,0,u),d&&r===v[d-1][f]){var l=v[d-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=S(v,d,r,f));d||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,d,r,t){var a=v[d-1],n=v[d+1];return n?a?a.s+(n.s-a.s)*(r-a[t])/(n[t]-a[t]):n.s:a.s}},35036:function(G,H,e){var g=e(3400),R=e(20011),i=e(52904);G.exports=function(S,v){var d,r,t;function a(y){return g.coerce(r._input,r,i,y)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(d=r._input,R(d,r,v,a));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=S[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(G,H,e){var g=e(3400),R=e(24040),i=e(52904),C=e(88200),S=e(43028),v=e(43980),d=e(31147),r=e(43912),t=e(74428),a=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;G.exports=function(h,T,c,o){function p(E,w){return g.coerce(h,T,i,E,w)}var x=v(h,T,o,p);if(x||(T.visible=!1),!!T.visible){d(h,T,o,p),p("xhoverformat"),p("yhoverformat"),p("zorder");var b=r(h,T,o,p);o.scattermode==="group"&&T.orientation===void 0&&p("orientation","v");var P=!b&&x<C.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",P),S.hasMarkers(T)&&t(h,T,c,o,p,{gradient:!0}),S.hasLines(T)&&(a(h,T,c,o,p,{backoff:!0}),n(h,T,p),p("connectgaps"),p("line.simplify")),S.hasText(T)&&(p("texttemplate"),f(h,T,o,p));var m=[];(S.hasMarkers(T)||S.hasText(T))&&(p("cliponaxis"),p("marker.maxdisplayed"),m.push("points")),p("fill",b?b.fillDflt:"none"),T.fill!=="none"&&(u(h,T,c,p,{moduleHasFillgradient:!0}),S.hasLines(T)||n(h,T,p),l(p,"fillpattern",T.fillcolor,!1));var L=(T.line||{}).color,M=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&m.push("fills"),p("hoveron",m.join("+")||"points"),T.hoveron!=="fills"&&p("hovertemplate");var s=R.getComponentMethod("errorbars","supplyDefaults");s(h,T,L||M||c,{axis:"y"}),s(h,T,L||M||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(T,p)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,H,e){var g=e(76308),R=e(3400).isArrayOrTypedArray;function i(C){for(var S=g.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var d=g.interpolate(C[v-1][1],C[v][1],.5);S=g.interpolate(S,d,C[v-1][0]/C[v][0])}return S}G.exports=function(S,v,d,r,t){t||(t={});var a=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!R(n)?a=n:f&&!R(f)&&(a=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(u=i(y))}}r("fillcolor",g.addOpacity((v.line||{}).color||a||u||d,.5))}},76688:function(G,H,e){var g=e(54460);G.exports=function(i,C,S){var v={},d={_fullLayout:S},r=g.getFromTrace(d,C,"x"),t=g.getFromTrace(d,C,"y"),a=i.orig_x;a===void 0&&(a=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),v.xLabel=g.tickText(r,r.c2l(a),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,H,e){var g=e(76308),R=e(43028);G.exports=function(C,S){var v,d;if(C.mode==="lines")return v=C.line.color,v&&g.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=S.mcc||(C.marker||{}).color,t=S.mlcc||((C.marker||{}).line||{}).color;return d=r&&g.opacity(r)?r:t&&g.opacity(t)&&(S.mlw||((C.marker||{}).line||{}).width)?t:"",d?g.opacity(d)<.3?g.addOpacity(d,.3):d:(v=(C.line||{}).color,v&&g.opacity(v)&&R.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(G,H,e){var g=e(71888).getAxisGroup;G.exports=function(i,C,S,v){var d=C.orientation,r=C[{v:"x",h:"y"}[d]+"axis"],t=g(S,r)+d,a=S._alignmentOpts||{},n=v("alignmentgroup"),f=a[t];f||(f=a[t]={});var u=f[n];u?u.traces.push(C):u=f[n]={traces:[C],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),y=u.offsetGroups,h=y[l];l&&(h||(h=y[l]={offsetIndex:Object.keys(y).length}),C._offsetIndex=h.offsetIndex)}},98723:function(G,H,e){var g=e(3400),R=e(93024),i=e(24040),C=e(44928),S=e(76308),v=g.fillText;G.exports=function(r,t,a,n){var f=r.cd,u=f[0].trace,l=r.xa,y=r.ya,h=l.c2p(t),T=y.c2p(a),c=[h,T],o=u.hoveron||"",p=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,b=!!u.yperiodalignment;if(o.indexOf("points")!==-1){var P=function(ee){if(x){var re=l.c2p(ee.xStart),ue=l.c2p(ee.xEnd);return h>=Math.min(re,ue)&&h<=Math.max(re,ue)?0:1/0}var J=Math.max(3,ee.mrc||0),X=1-1/J,ne=Math.abs(l.c2p(ee.x)-h);return ne<J?X*ne/J:ne-J+X},m=function(ee){if(b){var re=y.c2p(ee.yStart),ue=y.c2p(ee.yEnd);return T>=Math.min(re,ue)&&T<=Math.max(re,ue)?0:1/0}var J=Math.max(3,ee.mrc||0),X=1-1/J,ne=Math.abs(y.c2p(ee.y)-T);return ne<J?X*ne/J:ne-J+X},L=function(ee){var re=Math.max(p,ee.mrc||0),ue=l.c2p(ee.x)-h,J=y.c2p(ee.y)-T;return Math.max(Math.sqrt(ue*ue+J*J)-re,1-p/re)},M=R.getDistanceFunction(n,P,m,L);if(R.getClosest(f,M,r),r.index!==!1){var s=f[r.index],E=l.c2p(s.x,!0),w=y.c2p(s.y,!0),_=s.mrc||1;r.index=s.i;var D=f[0].t.orientation,N=D&&(s.sNorm||s.s),z=D==="h"?N:s.orig_x!==void 0?s.orig_x:s.x,F=D==="v"?N:s.orig_y!==void 0?s.orig_y:s.y;return g.extendFlat(r,{color:C(u,s),x0:E-_,x1:E+_,xLabelVal:z,y0:w-_,y1:w+_,yLabelVal:F,spikeDistance:L(s),hovertemplate:u.hovertemplate}),v(s,u,r),i.getComponentMethod("errorbars","hoverInfo")(s,u,r),[r]}}function U(ee){if(!ee)return!1;var re=ee.node();try{var ue=new DOMPoint(c[0],c[1]);return re.isPointInFill(ue)}catch{var J=re.ownerSVGElement.createSVGPoint();return J.x=c[0],J.y=c[1],re.isPointInFill(J)}}function B(ee){var re,ue=[],J=1/0,X=-1/0,ne=1/0,Y=-1/0,oe;for(re=0;re<ee.length;re++){var le=ee[re];le.contains(c)&&(ue.push(le),ne=Math.min(ne,le.ymin),Y=Math.max(Y,le.ymax))}if(ue.length===0)return null;ne=Math.max(ne,0),Y=Math.min(Y,y._length),oe=(ne+Y)/2;var Z,$,se,ae,he,me,Me;for(re=0;re<ue.length;re++)for($=ue[re].pts,Z=1;Z<$.length;Z++)me=$[Z-1][1],Me=$[Z][1],me>oe!=Me>=oe&&(ae=$[Z-1][0],he=$[Z][0],Me-me&&(se=ae+(he-ae)*(oe-me)/(Me-me),J=Math.min(J,se),X=Math.max(X,se)));return J=Math.max(J,0),X=Math.min(X,l._length),{x0:J,x1:X,y0:oe,y1:oe}}if(o.indexOf("fills")!==-1&&u._fillElement){var V=U(u._fillElement)&&!U(u._fillExclusionElement);if(V){var j=B(u._polygons);j===null&&(j={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var Q=S.defaultLine;return S.opacity(u.fillcolor)?Q=u.fillcolor:S.opacity((u.line||{}).color)&&(Q=u.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1,color:Q,hovertemplate:!1}),delete r.index,u.text&&!g.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(G,H,e){var g=e(43028);G.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,H,e){var g=e(3400),R=e(55308);G.exports=function(i,C){function S(d,r){return g.coerce(i,C,R,d,r)}var v=C.barmode==="group";C.scattermode==="group"&&S("scattergap",v?C.bargap:.2)}},66828:function(G,H,e){var g=e(3400).isArrayOrTypedArray,R=e(94288).hasColorscale,i=e(27260);G.exports=function(S,v,d,r,t,a){a||(a={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",d),R(S,"line"))i(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(g(n)?!1:n)||d;t("line.color",f)}t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(G,H,e){var g=e(43616),R=e(39032),i=R.BADNUM,C=R.LOG_CLIP,S=C+.5,v=C-.5,d=e(3400),r=d.segmentsIntersect,t=d.constrain,a=e(88200);G.exports=function(f,u){var l=u.trace||{},y=u.xaxis,h=u.yaxis,T=y.type==="log",c=h.type==="log",o=y._length,p=h._length,x=u.backoff,b=l.marker,P=u.connectGaps,m=u.baseTolerance,L=u.shape,M=L==="linear",s=l.fill&&l.fill!=="none",E=[],w=a.minTolerance,_=f.length,D=new Array(_),N=0,z,F,U,B,V,j,Q,ee,re,ue,J,X,ne,Y,oe,le;function Z(it){var st=f[it];if(!st)return!1;var Wt=u.linearized?y.l2p(st.x):y.c2p(st.x),jt=u.linearized?h.l2p(st.y):h.c2p(st.y);if(Wt===i){if(T&&(Wt=y.c2p(st.x,!0)),Wt===i)return!1;c&&jt===i&&(Wt*=Math.abs(y._m*p*(y._m>0?S:v)/(h._m*o*(h._m>0?S:v)))),Wt*=1e3}if(jt===i){if(c&&(jt=h.c2p(st.y,!0)),jt===i)return!1;jt*=1e3}return[Wt,jt]}function $(it,st,Wt,jt){var Tt=Wt-it,Lt=jt-st,Xt=.5-it,Tr=.5-st,yt=Tt*Tt+Lt*Lt,Kt=Tt*Xt+Lt*Tr;if(Kt>0&&Kt<yt){var Jt=Xt*Lt-Tr*Tt;if(Jt*Jt<yt)return!0}}var se,ae;function he(it,st){var Wt=it[0]/o,jt=it[1]/p,Tt=Math.max(0,-Wt,Wt-1,-jt,jt-1);return Tt&&se!==void 0&&$(Wt,jt,se,ae)&&(Tt=0),Tt&&st&&$(Wt,jt,st[0]/o,st[1]/p)&&(Tt=0),(1+a.toleranceGrowth*Tt)*m}function me(it,st){var Wt=it[0]-st[0],jt=it[1]-st[1];return Math.sqrt(Wt*Wt+jt*jt)}var Me=a.maxScreensAway,Te=-o*Me,Pe=o*(1+Me),be=-p*Me,Ee=p*(1+Me),xe=[[Te,be,Pe,be],[Pe,be,Pe,Ee],[Pe,Ee,Te,Ee],[Te,Ee,Te,be]],Ce,Ue,Ne,De,He,at;function vt(it,st){for(var Wt=[],jt=0,Tt=0;Tt<4;Tt++){var Lt=xe[Tt],Xt=r(it[0],it[1],st[0],st[1],Lt[0],Lt[1],Lt[2],Lt[3]);Xt&&(!jt||Math.abs(Xt.x-Wt[0][0])>1||Math.abs(Xt.y-Wt[0][1])>1)&&(Xt=[Xt.x,Xt.y],jt&&me(Xt,it)<me(Wt[0],it)?Wt.unshift(Xt):Wt.push(Xt),jt++)}return Wt}function ot(it){if(it[0]<Te||it[0]>Pe||it[1]<be||it[1]>Ee)return[t(it[0],Te,Pe),t(it[1],be,Ee)]}function et(it,st){if(it[0]===st[0]&&(it[0]===Te||it[0]===Pe)||it[1]===st[1]&&(it[1]===be||it[1]===Ee))return!0}function ct(it,st){var Wt=[],jt=ot(it),Tt=ot(st);return jt&&Tt&&et(jt,Tt)||(jt&&Wt.push(jt),Tt&&Wt.push(Tt)),Wt}function ht(it,st,Wt){return function(jt,Tt){var Lt=ot(jt),Xt=ot(Tt),Tr=[];if(Lt&&Xt&&et(Lt,Xt))return Tr;Lt&&Tr.push(Lt),Xt&&Tr.push(Xt);var yt=2*d.constrain((jt[it]+Tt[it])/2,st,Wt)-((Lt||jt)[it]+(Xt||Tt)[it]);if(yt){var Kt;Lt&&Xt?Kt=yt>0==Lt[it]>Xt[it]?Lt:Xt:Kt=Lt||Xt,Kt[it]+=yt}return Tr}}var gt;L==="linear"||L==="spline"?gt=vt:L==="hv"||L==="vh"?gt=ct:L==="hvh"?gt=ht(0,Te,Pe):L==="vhv"&&(gt=ht(1,be,Ee));function xt(it,st){var Wt=st[0]-it[0],jt=(st[1]-it[1])/Wt,Tt=(it[1]*st[0]-st[1]*it[0])/Wt;return Tt>0?[jt>0?Te:Pe,Ee]:[jt>0?Pe:Te,be]}function Mt(it){var st=it[0],Wt=it[1],jt=st===D[N-1][0],Tt=Wt===D[N-1][1];if(!(jt&&Tt))if(N>1){var Lt=st===D[N-2][0],Xt=Wt===D[N-2][1];jt&&(st===Te||st===Pe)&&Lt?Xt?N--:D[N-1]=it:Tt&&(Wt===be||Wt===Ee)&&Xt?Lt?N--:D[N-1]=it:D[N++]=it}else D[N++]=it}function tt(it){D[N-1][0]!==it[0]&&D[N-1][1]!==it[1]&&Mt([Ne,De]),Mt(it),He=null,Ne=De=0}var Oe=d.isArrayOrTypedArray(b);function Xe(it){if(it&&x&&(it.i=z,it.d=f,it.trace=l,it.marker=Oe?b[it.i]:b,it.backoff=x),se=it[0]/o,ae=it[1]/p,Ce=it[0]<Te?Te:it[0]>Pe?Pe:0,Ue=it[1]<be?be:it[1]>Ee?Ee:0,Ce||Ue){if(!N)D[N++]=[Ce||it[0],Ue||it[1]];else if(He){var st=gt(He,it);st.length>1&&(tt(st[0]),D[N++]=st[1])}else at=gt(D[N-1],it)[0],D[N++]=at;var Wt=D[N-1];Ce&&Ue&&(Wt[0]!==Ce||Wt[1]!==Ue)?(He&&(Ne!==Ce&&De!==Ue?Mt(Ne&&De?xt(He,it):[Ne||Ce,De||Ue]):Ne&&De&&Mt([Ne,De])),Mt([Ce,Ue])):Ne-Ce&&De-Ue&&Mt([Ce||Ne,Ue||De]),He=it,Ne=Ce,De=Ue}else He&&tt(gt(He,it)[0]),D[N++]=it}for(z=0;z<_;z++)if(F=Z(z),!!F){for(N=0,He=null,Xe(F),z++;z<_;z++){if(B=Z(z),!B){if(P)continue;break}if(!M||!u.simplify){Xe(B);continue}var Ze=Z(z+1);if(ue=me(B,F),!(!(s&&(N===0||N===_-1))&&ue<he(B,Ze)*w)){for(ee=[(B[0]-F[0])/ue,(B[1]-F[1])/ue],V=F,J=ue,X=Y=oe=0,Q=!1,U=B,z++;z<f.length;z++){if(j=Ze,Ze=Z(z+1),!j){if(P)continue;break}if(re=[j[0]-F[0],j[1]-F[1]],le=re[0]*ee[1]-re[1]*ee[0],Y=Math.min(Y,le),oe=Math.max(oe,le),oe-Y>he(j,Ze))break;U=j,ne=re[0]*ee[0]+re[1]*ee[1],ne>J?(J=ne,B=j,Q=!1):ne<X&&(X=ne,V=j,Q=!0)}if(Q?(Xe(B),U!==V&&Xe(V)):(V!==F&&Xe(V),U!==B&&Xe(B)),Xe(U),z>=f.length||!j)break;Xe(j),F=j}}He&&Mt([Ne||He[0],De||He[1]]),E.push(D.slice(0,N))}var We=L.slice(L.length-1);if(x&&We!=="h"&&We!=="v"){for(var ze=!1,ke=-1,je=[],Ie=0;Ie<E.length;Ie++)for(var pe=0;pe<E[Ie].length-1;pe++){var we=E[Ie][pe],Ve=E[Ie][pe+1],Qe=g.applyBackoff(Ve,we);(Qe[0]!==Ve[0]||Qe[1]!==Ve[1])&&(ze=!0),je[ke+1]||(ke++,je[ke]=[we,[Qe[0],Qe[1]]])}return ze?je:E}return E}},11731:function(G){G.exports=function(e,g,R){var i=R("line.shape");i==="spline"&&R("line.smoothing")}},14328:function(G){var H={tonextx:1,tonexty:1,tonext:1};G.exports=function(g,R,i){var C,S,v,d,r,t={},a=!1,n=-1,f=0,u=-1;for(S=0;S<i.length;S++)C=i[S][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):C.fill in H&&u>=0?r=u:(r=u=f,f++),r<n&&(a=!0),C._groupIndex=n=r;var l=i.slice();a&&l.sort(function(h,T){var c=h[0].trace,o=T[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var y={};for(S=0;S<l.length;S++)C=l[S][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in H&&(d=y[v],C._prevtrace=d||null,d&&(d._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),y[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(G,H,e){var g=e(38248);G.exports=function(i,C){C||(C=2);var S=i.marker,v=S.sizeref||1,d=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=r(t/C);return g(a)&&a>0?Math.max(a,d):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,H,e){var g=e(76308),R=e(94288).hasColorscale,i=e(27260),C=e(43028);G.exports=function(v,d,r,t,a,n){var f=C.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),a("marker.symbol"),a("marker.opacity",f?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",r),R(v,"marker")&&i(v,d,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&d.marker.color!==u?l=u:f?l=g.background:l=g.defaultLine,a("marker.line.color",l),R(v,"marker.line")&&i(v,d,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",f?1:0)),f&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient){var y=a("marker.gradient.type");y!=="none"&&a("marker.gradient.color")}}},31147:function(G,H,e){var g=e(3400).dateTick0,R=e(39032),i=R.ONEWEEK;function C(S,v){return S%i===0?g(v,1):g(v,0)}G.exports=function(v,d,r,t,a){if(a||(a={x:!0,y:!0}),a.x){var n=t("xperiod");n&&(t("xperiod0",C(n,d.xcalendar)),t("xperiodalignment"))}if(a.y){var f=t("yperiod");f&&(t("yperiod0",C(f,d.ycalendar)),t("yperiodalignment"))}}},96504:function(G,H,e){var g=e(33428),R=e(24040),i=e(3400),C=i.ensureSingle,S=i.identity,v=e(43616),d=e(43028),r=e(52340),t=e(14328),a=e(92065).tester;G.exports=function(y,h,T,c,o,p){var x,b,P=!o,m=!!o&&o.duration>0,L=t(y,h,T);if(x=c.selectAll("g.trace").data(L,function(s){return s[0].trace.uid}),x.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(y,x,h),m){p&&(b=p());var M=g.transition().duration(o.duration).ease(o.easing).each("end",function(){b&&b()}).each("interrupt",function(){b&&b()});M.each(function(){c.selectAll("g.trace").each(function(s,E){f(y,E,h,s,L,this,o)})})}else x.each(function(s,E){f(y,E,h,s,L,this,o)});P&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,y,h){y.each(function(T){var c=C(g.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var o=T[0].trace,p=[];o._ownfill&&p.push("_ownFill"),o._nexttrace&&p.push("_nextFill");var x=c.selectAll("g").data(p,S);x.enter().append("g"),x.exit().each(function(b){o[b]=null}).remove(),x.order().each(function(b){o[b]=C(g.select(this),"path","js-fill")})})}function f(l,y,h,T,c,o,p){var x=l._context.staticPlot,b;u(l,y,h,T,c);var P=!!p&&p.duration>0;function m(Mt){return P?Mt.transition():Mt}var L=h.xaxis,M=h.yaxis,s=T[0].trace,E=s.line,w=g.select(o),_=C(w,"g","errorbars"),D=C(w,"g","lines"),N=C(w,"g","points"),z=C(w,"g","text");if(R.getComponentMethod("errorbars","plot")(l,_,h,p),s.visible!==!0)return;m(w).style("opacity",s.opacity);var F,U,B=s.fill.charAt(s.fill.length-1);B!=="x"&&B!=="y"&&(B="");var V,j;B==="y"?(V=1,j=M.c2p(0,!0)):B==="x"&&(V=0,j=L.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=w;var Q="",ee=[],re=s._prevtrace,ue=null,J=null;re&&(Q=re._prevRevpath||"",U=re._nextFill,ee=re._ownPolygons,ue=re._fillsegments,J=re._fillElement);var X,ne,Y="",oe="",le,Z,$,se,ae,he,me=[];s._polygons=[];var Me=[],Te=[],Pe=i.noop;if(F=s._ownFill,d.hasLines(s)||s.fill!=="none"){U&&U.datum(T),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(le=v.steps(E.shape),Z=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?le=Z=function(Mt){var tt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===tt[0]&&Mt[0][1]===tt[1]?v.smoothclosed(Mt.slice(1),E.smoothing):v.smoothopen(Mt,E.smoothing)}:le=Z=function(Mt){return"M"+Mt.join("L")},$=function(Mt){return Z(Mt.reverse())},Te=r(T,{xaxis:L,yaxis:M,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:s.fill}),Me=new Array(Te.length);var be=0;for(b=0;b<Te.length;b++){var Ee,xe=Te[b];!Ee||!B?(Ee=xe.slice(),Me[be]=Ee,be++):Ee.push.apply(Ee,xe)}s._fillElement=null,s._fillExclusionElement=J,s._fillsegments=Me.slice(0,be),Me=s._fillsegments,Te.length&&(se=Te[0][0].slice(),ae=Te[Te.length-1],he=ae[ae.length-1].slice()),Pe=function(Mt){return function(tt){if(X=le(tt),ne=$(tt),Y?B?(Y+="L"+X.substr(1),oe=ne+("L"+oe.substr(1))):(Y+="Z"+X,oe=ne+"Z"+oe):(Y=X,oe=ne),d.hasLines(s)){var Oe=g.select(this);if(Oe.datum(T),Mt)m(Oe.style("opacity",0).attr("d",X).call(v.lineGroupStyle)).style("opacity",1);else{var Xe=m(Oe);Xe.attr("d",X),v.singleLineStyle(T,Xe)}}}}}var Ce=D.selectAll(".js-line").data(Te);m(Ce.exit()).style("opacity",0).remove(),Ce.each(Pe(!1)),Ce.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Pe(!0)),v.setClipUrl(Ce,h.layerClipId,l);function Ue(Mt){m(Mt).attr("d","M0,0Z")}var Ne=function(){var Mt=new Array(Me.length);for(b=0;b<Me.length;b++)Mt[b]=a(Me[b]);return Mt},De=function(Mt){var tt,Oe;if(!Mt||Mt.length===0)for(tt=new Array(Me.length),Oe=0;Oe<Me.length;Oe++){var Xe=Me[Oe][0].slice(),Ze=Me[Oe][Me[Oe].length-1].slice();Xe[V]=Ze[V]=j;var We=[Ze,Xe],ze=We.concat(Me[Oe]);tt[Oe]=a(ze)}else{for(tt=new Array(Mt.length-1+Me.length),Oe=0;Oe<Mt.length-1;Oe++)tt[Oe]=a(Mt[Oe]);var ke=Mt[Mt.length-1].slice();for(ke.reverse(),Oe=0;Oe<Me.length;Oe++)tt[Mt.length-1+Oe]=a(Me[Oe].concat(ke))}return tt};Te.length?(F?(F.datum(T),se&&he&&(B?(se[V]=he[V]=j,m(F).attr("d","M"+he+"L"+se+"L"+Y.substr(1)).call(v.singleFillStyle,l),me=De(null)):(m(F).attr("d",Y+"Z").call(v.singleFillStyle,l),me=Ne())),s._polygons=me,s._fillElement=F):U&&(s.fill.substr(0,6)==="tonext"&&Y&&Q?(s.fill==="tonext"?(m(U).attr("d",Y+"Z"+Q+"Z").call(v.singleFillStyle,l),me=Ne(),s._polygons=me.concat(ee)):(m(U).attr("d",Y+"L"+Q.substr(1)+"Z").call(v.singleFillStyle,l),me=De(ue),s._polygons=me),s._fillElement=U):Ue(U)),s._prevRevpath=oe):(F?Ue(F):U&&Ue(U),s._prevRevpath=null),s._ownPolygons=me;function He(Mt){return Mt.filter(function(tt){return!tt.gap&&tt.vis})}function at(Mt){return Mt.filter(function(tt){return tt.vis})}function vt(Mt){return Mt.filter(function(tt){return!tt.gap})}function ot(Mt){return Mt.id}function et(Mt){if(Mt.ids)return ot}function ct(){return!1}function ht(Mt,tt,Oe){var Xe,Ze,We,ze=Oe[0].trace,ke=d.hasMarkers(ze),je=d.hasText(ze),Ie=et(ze),pe=ct,we=ct;if(ke||je){var Ve=S,Qe=ze.stackgroup,it=Qe&&l._fullLayout._scatterStackOpts[L._id+M._id][Qe].stackgaps==="infer zero";ze.marker.maxdisplayed||ze._needsCull?Ve=it?at:He:Qe&&!it&&(Ve=vt),ke&&(pe=Ve),je&&(we=Ve)}Ze=Mt.selectAll("path.point"),Xe=Ze.data(pe,Ie);var st=Xe.enter().append("path").classed("point",!0);P&&st.call(v.pointStyle,ze,l).call(v.translatePoints,L,M).style("opacity",0).transition().style("opacity",1),Xe.order();var Wt;ke&&(Wt=v.makePointStyleFns(ze)),Xe.each(function(jt){var Tt=g.select(this),Lt=m(Tt);We=v.translatePoint(jt,Lt,L,M),We?(v.singlePointStyle(jt,Lt,ze,Wt,l),h.layerClipId&&v.hideOutsideRangePoint(jt,Lt,L,M,ze.xcalendar,ze.ycalendar),ze.customdata&&Tt.classed("plotly-customdata",jt.data!==null&&jt.data!==void 0)):Lt.remove()}),P?Xe.exit().transition().style("opacity",0).remove():Xe.exit().remove(),Ze=tt.selectAll("g"),Xe=Ze.data(we,Ie),Xe.enter().append("g").classed("textpoint",!0).append("text"),Xe.order(),Xe.each(function(jt){var Tt=g.select(this),Lt=m(Tt.select("text"));We=v.translatePoint(jt,Lt,L,M),We?h.layerClipId&&v.hideOutsideRangePoint(jt,Tt,L,M,ze.xcalendar,ze.ycalendar):Tt.remove()}),Xe.selectAll("text").call(v.textPointStyle,ze,l).each(function(jt){var Tt=L.c2p(jt.x),Lt=M.c2p(jt.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:Tt,y:Lt})})}),Xe.exit().remove()}N.datum(T),z.datum(T),ht(N,z,T);var gt=s.cliponaxis===!1,xt=gt?null:h.layerClipId;v.setClipUrl(N,xt,l),v.setClipUrl(z,xt,l)}function u(l,y,h,T,c){var o=h.xaxis,p=h.yaxis,x=g.extent(i.simpleMap(o.range,o.r2c)),b=g.extent(i.simpleMap(p.range,p.r2c)),P=T[0].trace;if(d.hasMarkers(P)){var m=P.marker.maxdisplayed;if(m!==0){var L=T.filter(function(w){return w.x>=x[0]&&w.x<=x[1]&&w.y>=b[0]&&w.y<=b[1]}),M=Math.ceil(L.length/m),s=0;c.forEach(function(w,_){var D=w[0].trace;d.hasMarkers(D)&&D.marker.maxdisplayed>0&&_<y&&s++});var E=Math.round(s*M/3+Math.floor(s/3)*M/7.1);T.forEach(function(w){delete w.vis}),L.forEach(function(w,_){Math.round((_+E)%M)===0&&(w.vis=!0)})}}}},91560:function(G,H,e){var g=e(43028);G.exports=function(i,C){var S=i.cd,v=i.xaxis,d=i.yaxis,r=[],t=S[0].trace,a,n,f,u,l=!g.hasMarkers(t)&&!g.hasText(t);if(l)return[];if(C===!1)for(a=0;a<S.length;a++)S[a].selected=0;else for(a=0;a<S.length;a++)n=S[a],f=v.c2p(n.x),u=d.c2p(n.y),n.i!==null&&C.contains([f,u],!1,a,i)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var H=["orientation","groupnorm","stackgaps"];G.exports=function(g,R,i,C){var S=i._scatterStackOpts,v=C("stackgroup");if(v){var d=R.xaxis+R.yaxis,r=S[d];r||(r=S[d]={});var t=r[v],a=!1;t?t.traces.push(R):(t=r[v]={traceIndices:[],traces:[R]},a=!0);for(var n={orientation:R.x&&!R.y?"h":"v"},f=0;f<H.length;f++){var u=H[f],l=u+"Found";if(!t[l]){var y=g[u]!==void 0,h=u==="orientation";if((y||a)&&(t[u]=C(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),y&&(t[l]=!0,!a&&(delete t.traces[0][u],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(G,H,e){var g=e(33428),R=e(43616),i=e(24040);function C(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(a){return a[0].trace.opacity}),t.selectAll("g.points").each(function(a){var n=g.select(this),f=a.trace||a[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(a){var n=g.select(this),f=a.trace||a[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(R.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(R.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(t)}function S(r,t,a){R.pointStyle(r.selectAll("path.point"),t,a)}function v(r,t,a){R.textPointStyle(r.selectAll("text"),t,a)}function d(r,t,a){var n=t[0].trace;n.selectedpoints?(R.selectedPointStyle(a.selectAll("path.point"),n),R.selectedTextStyle(a.selectAll("text"),n)):(S(a,n,r),v(a,n,r))}G.exports={style:C,stylePoints:S,styleText:v,styleOnSelect:d}},43028:function(G,H,e){var g=e(3400),R=e(38116).isTypedArraySpec;G.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var C=i.marker;return g.isPlainObject(C)&&(g.isArrayOrTypedArray(C.size)||R(C.size))}}},124:function(G,H,e){var g=e(3400);G.exports=function(R,i,C,S,v){v=v||{},S("textposition"),g.coerceFont(S,"textfont",v.font||C.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(G,H,e){var g=e(3400),R=e(24040);G.exports=function(C,S,v,d){var r=d("x"),t=d("y"),a,n=R.getComponentMethod("calendars","handleTraceDefaults");if(n(C,S,["x","y"],v),r){var f=g.minRowLength(r);t?a=Math.min(f,g.minRowLength(t)):(a=f,d("y0"),d("dy"))}else{if(!t)return 0;a=g.minRowLength(t),d("x0"),d("dx")}return S._length=a,a}},91592:function(G,H,e){var g=e(52904),R=e(25376),i=e(49084),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(45464),r=e(99168),t=e(87792),a=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),u=g.line,l=g.marker,y=l.line,h=a({width:u.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},i("line"));function T(o){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=G.exports=n({x:g.x,y:g.y,z:{valType:"data_array"},text:a({},g.text,{}),texttemplate:v({},{}),hovertext:a({},g.hovertext,{}),hovertemplate:S(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),mode:a({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:g.connectgaps,line:h,marker:a({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:a({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:a({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:a({width:a({},y.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:a({},g.textposition,{dflt:"top center"}),textfont:R({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:d.opacity,hoverinfo:a({},d.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(G,H,e){var g=e(20148),R=e(90136);G.exports=function(C,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return g(v,S),R(C,S),v}},45156:function(G,H,e){var g=e(24040);function R(S,v,d,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),a=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var u=r.c2l(S[n]),l=S[n]-f[0],y=S[n]+f[1];if(a[n]=[(r.c2l(l,!0)-u)*d,(r.c2l(y,!0)-u)*d],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else a[n]=[-f[0]*d,f[1]*d]}return a}function i(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function C(S,v,d){var r=[R(S.x,S.error_x,v[0],d.xaxis),R(S.y,S.error_y,v[1],d.yaxis),R(S.z,S.error_z,v[2],d.zaxis)],t=i(r);if(t===0)return null;for(var a=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];a[n]=f}return a}G.exports=C},41064:function(G,H,e){var g=e(67792).gl_line3d,R=e(67792).gl_scatter3d,i=e(67792).gl_error3d,C=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),d=e(43080),r=e(33040).formatColor,t=e(7152),a=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function y(w,_){this.scene=w,this.uid=_,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=y.prototype;h.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var _=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[_]||this.textLabels[_]===0)&&(w.textLabel=this.textLabels[_]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[_],this.data.y[_],this.data.z[_]],!0}};function T(w,_,D){var N=(D+1)%3,z=(D+2)%3,F=[],U=[],B;for(B=0;B<w.length;++B){var V=w[B];isNaN(V[N])||!isFinite(V[N])||isNaN(V[z])||!isFinite(V[z])||(F.push([V[N],V[z]]),U.push(B))}var j=S(F);for(B=0;B<j.length;++B)for(var Q=j[B],ee=0;ee<Q.length;++ee)Q[ee]=U[Q[ee]];return{positions:w,cells:j,meshColor:_}}function c(w){for(var _=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],z=0;z<3;z++){var F=w[z];F&&F.copy_zstyle!==!1&&w[2].visible!==!1&&(F=w[2]),!(!F||!F.visible)&&(_[z]=F.width/2,D[z]=d(F.color),N[z]=F.thickness)}return{capSize:_,color:D,lineWidth:N}}function o(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function p(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function x(w){var _=0,D=0,N=[_,D];if(Array.isArray(w))for(var z=0;z<w.length;z++)N[z]=[_,D],w[z]&&(N[z][0]=o(w[z]),N[z][1]=p(w[z]));else N[0]=o(w),N[1]=p(w);return N}function b(w,_){return _(w*4)}function P(w){return n[w]}function m(w,_,D,N,z){var F=null;if(v.isArrayOrTypedArray(w)){F=[];for(var U=0;U<_;U++)w[U]===void 0?F[U]=N:F[U]=D(w[U],z)}else F=D(w,v.identity);return F}function L(w,_){var D=[],N=w.fullSceneLayout,z=w.dataScale,F=N.xaxis,U=N.yaxis,B=N.zaxis,V=_.marker,j=_.line,Q=_.x||[],ee=_.y||[],re=_.z||[],ue=Q.length,J=_.xcalendar,X=_.ycalendar,ne=_.zcalendar,Y,oe,le,Z,$,se;for($=0;$<ue;$++)Y=F.d2l(Q[$],0,J)*z[0],oe=U.d2l(ee[$],0,X)*z[1],le=B.d2l(re[$],0,ne)*z[2],D[$]=[Y,oe,le];if(Array.isArray(_.text))se=_.text;else if(v.isTypedArray(_.text))se=Array.from(_.text);else if(_.text!==void 0)for(se=new Array(ue),$=0;$<ue;$++)se[$]=_.text;function ae(vt,ot){var et=N[vt];return f.tickText(et,et.d2l(ot),!0).text}var he=_.texttemplate;if(he){var me=w.fullLayout,Me=me._d3locale,Te=Array.isArray(he),Pe=Te?Math.min(he.length,ue):ue,be=Te?function(vt){return he[vt]}:function(){return he};for(se=new Array(Pe),$=0;$<Pe;$++){var Ee={x:Q[$],y:ee[$],z:re[$]},xe={xLabel:ae("xaxis",Q[$]),yLabel:ae("yaxis",ee[$]),zLabel:ae("zaxis",re[$])},Ce={};u(Ce,_,$);var Ue=_._meta||{};se[$]=v.texttemplateString(be($),xe,Me,Ce,Ee,Ue)}}if(Z={position:D,mode:_.mode,text:se},"line"in _&&(Z.lineColor=r(j,1,ue),Z.lineWidth=j.width,Z.lineDashes=j.dash),"marker"in _){var Ne=t(_);Z.scatterColor=r(V,1,ue),Z.scatterSize=m(V.size,ue,b,20,Ne),Z.scatterMarker=m(V.symbol,ue,P,""),Z.scatterLineWidth=V.line.width,Z.scatterLineColor=r(V.line,1,ue),Z.scatterAngle=0}"textposition"in _&&(Z.textOffset=x(_.textposition),Z.textColor=r(_.textfont,1,ue),Z.textSize=m(_.textfont.size,ue,v.identity,12),Z.textFontFamily=_.textfont.family,Z.textFontWeight=_.textfont.weight,Z.textFontStyle=_.textfont.style,Z.textFontVariant=_.textfont.variant,Z.textAngle=0);var De=["x","y","z"];for(Z.project=[!1,!1,!1],Z.projectScale=[1,1,1],Z.projectOpacity=[1,1,1],$=0;$<3;++$){var He=_.projection[De[$]];(Z.project[$]=He.show)&&(Z.projectOpacity[$]=He.opacity,Z.projectScale[$]=He.scale)}Z.errorBounds=l(_,z,N);var at=c([_.error_x,_.error_y,_.error_z]);return Z.errorColor=at.color,Z.errorLineWidth=at.lineWidth,Z.errorCapSize=at.capSize,Z.delaunayAxis=_.surfaceaxis,Z.delaunayColor=d(_.surfacecolor),Z}function M(w){if(v.isArrayOrTypedArray(w)){var _=w[0];return v.isArrayOrTypedArray(_)&&(w=_),"rgb("+w.slice(0,3).map(function(D){return Math.round(D*255)})+")"}return null}function s(w){return v.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?M(w):w.map(M):null}h.update=function(w){var _=this.scene.glplot.gl,D,N,z,F,U=a.solid;this.data=w;var B=L(this.scene,w);"mode"in B&&(this.mode=B.mode),"lineDashes"in B&&B.lineDashes in a&&(U=a[B.lineDashes]),this.color=s(B.scatterColor)||s(B.lineColor),this.dataPoints=B.position,D={gl:this.scene.glplot.gl,position:B.position,color:B.lineColor,lineWidth:B.lineWidth||1,dashes:U[0],dashScale:U[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(D):(this.linePlot=g(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(V*=w.marker.opacity),N={gl:this.scene.glplot.gl,position:B.position,color:B.scatterColor,size:B.scatterSize,glyph:B.scatterMarker,opacity:V,orthographic:!0,lineWidth:B.scatterLineWidth,lineColor:B.scatterLineColor,project:B.project,projectScale:B.projectScale,projectOpacity:B.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=R(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:B.position,glyph:B.text,color:B.textColor,size:B.textSize,angle:B.textAngle,alignment:B.textOffset,font:B.textFontFamily,fontWeight:B.textFontWeight,fontStyle:B.textFontStyle,fontVariant:B.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=R(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:B.position,color:B.errorColor,error:B.errorBounds,lineWidth:B.errorLineWidth,capSize:B.errorCapSize,opacity:w.opacity},this.errorBars?B.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):B.errorBounds&&(this.errorBars=i(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),B.delaunayAxis>=0){var j=T(B.position,B.delaunayColor,B.delaunayAxis);j.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=_,this.delaunayMesh=C(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(w,_){var D=new y(w,_.uid);return D.update(_),D}G.exports=E},83484:function(G,H,e){var g=e(24040),R=e(3400),i=e(43028),C=e(74428),S=e(66828),v=e(124),d=e(91592);G.exports=function(a,n,f,u){function l(b,P){return R.coerce(a,n,d,b,P)}var y=r(a,n,l,u);if(!y){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),i.hasMarkers(n)&&C(a,n,f,u,l,{noSelect:!0,noAngle:!0}),i.hasLines(n)&&(l("connectgaps"),S(a,n,f,u,l)),i.hasText(n)&&(l("texttemplate"),v(a,n,u,l,{noSelect:!0}));var h=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||T);for(var c=["x","y","z"],o=0;o<3;++o){var p="projection."+c[o];l(p+".show")&&(l(p+".opacity"),l(p+".scale"))}var x=g.getComponentMethod("errorbars","supplyDefaults");x(a,n,h||T||f,{axis:"z"}),x(a,n,h||T||f,{axis:"y",inherit:"z"}),x(a,n,h||T||f,{axis:"x",inherit:"z"})};function r(t,a,n,f){var u=0,l=n("x"),y=n("y"),h=n("z"),T=g.getComponentMethod("calendars","handleTraceDefaults");return T(t,a,["x","y","z"],f),l&&y&&h&&(u=Math.min(l.length,y.length,h.length),a._length=a._xlength=a._ylength=a._zlength=u),u}},3296:function(G,H,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,H,e){var g=e(98304),R=e(52904),i=e(45464),C=e(21776).Ks,S=e(21776).Gw,v=e(49084),d=e(92880).extendFlat,r=R.marker,t=R.line,a=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},R.mode,{dflt:"markers"}),text:d({},R.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},R.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:d({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:R.connectgaps,fill:d({},R.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:d({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:d({width:a.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:R.textfont,textposition:R.textposition,selected:R.selected,unselected:R.unselected,hoverinfo:d({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:R.hoveron,hovertemplate:C(),zorder:R.zorder}},48228:function(G,H,e){var g=e(38248),R=e(90136),i=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var a=t._carpetTrace=v(r,t);if(!(!a||!a.visible||a.visible==="legendonly")){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var f=t._length,u=new Array(f),l,y,h=!1;for(n=0;n<f;n++)if(l=t.a[n],y=t.b[n],g(l)&&g(y)){var T=a.ab2xy(+l,+y,!0),c=a.isVisible(+l,+y);c||(h=!0),u[n]={x:T[0],y:T[1],a:l,b:y,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=a,u[0].trace=t,S(t,f),R(r,t),i(u,t),C(u,t),u}}},6176:function(G,H,e){var g=e(3400),R=e(88200),i=e(43028),C=e(74428),S=e(66828),v=e(11731),d=e(124),r=e(70840),t=e(90372);G.exports=function(n,f,u,l){function y(b,P){return g.coerce(n,f,t,b,P)}y("carpet"),f.xaxis="x",f.yaxis="y";var h=y("a"),T=y("b"),c=Math.min(h.length,T.length);if(!c){f.visible=!1;return}f._length=c,y("text"),y("texttemplate"),y("hovertext");var o=c<R.PTS_LINESONLY?"lines+markers":"lines";y("mode",o),i.hasMarkers(f)&&C(n,f,u,l,y,{gradient:!0}),i.hasLines(f)&&(S(n,f,u,l,y,{backoff:!0}),v(n,f,y),y("connectgaps")),i.hasText(f)&&d(n,f,l,y);var p=[];(i.hasMarkers(f)||i.hasText(f))&&(y("marker.maxdisplayed"),p.push("points")),y("fill"),f.fill!=="none"&&(r(n,f,u,y),i.hasLines(f)||v(n,f,y)),(f.fill==="tonext"||f.fill==="toself")&&p.push("fills");var x=y("hoveron",p.join("+")||"points");x!=="fills"&&y("hovertemplate"),y("zorder"),g.coerceSelectionMarkerOpacity(f,y)}},89307:function(G){G.exports=function(e,g,R,i,C){var S=i[C];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(G){G.exports=function(e,g){var R={},i=g._carpet,C=i.ab2ij([e.a,e.b]),S=Math.floor(C[0]),v=C[0]-S,d=Math.floor(C[1]),r=C[1]-d,t=i.evalxy([],S,d,v,r);return R.yLabel=t[1].toFixed(3),R}},58960:function(G,H,e){var g=e(98723),R=e(3400).fillText;G.exports=function(C,S,v,d){var r=g(C,S,v,d);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var a=1-t.y0/C.ya._length,n=C.xa._length,f=n*a/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,h=y._carpet,T=y._module.formatLabels(l,y);t.yLabel=T.yLabel,delete t.text;var c=[];function o(b,P){var m;b.labelprefix&&b.labelprefix.length>0?m=b.labelprefix.replace(/ = $/,""):m=b._hovertitle,c.push(m+": "+P.toFixed(3)+b.labelsuffix)}if(!y.hovertemplate){var p=l.hi||y.hoverinfo,x=p.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&o(h.aaxis,l.a),x.indexOf("b")!==-1&&o(h.baxis,l.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&R(l,y,c),t.extraText=c.join("<br>")}return r}},4184:function(G,H,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,H,e){var g=e(96504),R=e(54460),i=e(43616);G.exports=function(S,v,d,r){var t,a,n,f=d[0][0].carpet,u=R.getFromId(S,f.xaxis||"x"),l=R.getFromId(S,f.yaxis||"y"),y={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<d.length;t++)a=d[t][0].trace,a._xA=u,a._yA=l;for(g(S,y,d,r),t=0;t<d.length;t++)a=d[t][0].trace,n=r.selectAll("g.trace"+a.uid+" .js-line"),i.setClipUrl(n,d[t][0].carpet._clipPathId,S)}},6096:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(98304),C=e(52904),S=e(45464),v=e(49084),d=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,a=C.marker,n=C.line,f=a.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:n.color,width:n.width,dash:d},connectgaps:C.connectgaps,marker:r({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:r({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:r({width:f.width},v("marker.line")),gradient:a.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(G,H,e){var g=e(38248),R=e(39032).BADNUM,i=e(90136),C=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,d=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(a,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),y;n.geojson?y=function(x){return r(x)||g(x)}:y=r;for(var h=0;h<u;h++){var T=l[h]={};if(f){var c=n.locations[h];T.loc=y(c)?c:null}else{var o=n.lon[h],p=n.lat[h];g(o)&&g(p)?T.lonlat=[+o,+p]:T.lonlat=[R,R]}}return C(l,n),i(a,n),S(l,n),u&&(l[0].t={labels:{lat:d(a,"lat:")+" ",lon:d(a,"lon:")+" "}}),l}},86188:function(G,H,e){var g=e(3400),R=e(43028),i=e(74428),C=e(66828),S=e(124),v=e(70840),d=e(6096);G.exports=function(t,a,n,f){function u(x,b){return g.coerce(t,a,d,x,b)}var l=u("locations"),y;if(l&&l.length){var h=u("geojson"),T;(typeof h=="string"&&h!==""||g.isPlainObject(h))&&(T="geojson-id");var c=u("locationmode",T);c==="geojson-id"&&u("featureidkey"),y=l.length}else{var o=u("lon")||[],p=u("lat")||[];y=Math.min(o.length,p.length)}if(!y){a.visible=!1;return}a._length=y,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),R.hasMarkers(a)&&i(t,a,n,f,u,{gradient:!0}),R.hasLines(a)&&(C(t,a,n,f,u),u("connectgaps")),R.hasText(a)&&(u("texttemplate"),S(t,a,f,u)),u("fill"),a.fill!=="none"&&v(t,a,n,u),g.coerceSelectionMarkerOpacity(a,u)}},58544:function(G){G.exports=function(e,g,R,i,C){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var S=i[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(G,H,e){var g=e(54460);G.exports=function(i,C,S){var v={},d=S[C.geo]._subplot,r=d.mockAxis,t=i.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,H,e){var g=e(93024),R=e(39032).BADNUM,i=e(44928),C=e(3400).fillText,S=e(6096);G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,y=r.subplot,h=y.projection.isLonLatOverEdges,T=y.project;function c(L){var M=L.lonlat;if(M[0]===R||h(M))return 1/0;var s=T(M),E=T([t,a]),w=Math.abs(s[0]-E[0]),_=Math.abs(s[1]-E[1]),D=Math.max(3,L.mrc||0);return Math.max(Math.sqrt(w*w+_*_)-D,1-3/D)}if(g.getClosest(n,c,r),r.index!==!1){var o=n[r.index],p=o.lonlat,x=[u.c2p(p),l.c2p(p)],b=o.mrc||1;r.x0=x[0]-b,r.x1=x[0]+b,r.y0=x[1]-b,r.y1=x[1]+b,r.loc=o.loc,r.lon=p[0],r.lat=p[1];var P={};P[f.geo]={_subplot:y};var m=f._module.formatLabels(o,f,P);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=i(f,o),r.extraText=v(f,o,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(d,r,t,a){if(d.hovertemplate)return;var n=r.hi||d.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(d.locations),l=f.indexOf("lon")!==-1,y=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,T=[];function c(o){return o+""}return u?T.push(r.loc):l&&y?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?T.push(a.lon+c(t.lonLabel)):y&&T.push(a.lat+c(t.latLabel)),h&&C(r,d,T),T.join("<br>")}},36952:function(G,H,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,H,e){var g=e(33428),R=e(3400),i=e(59972).getTopojsonFeatures,C=e(44808),S=e(27144),v=e(19280).findExtremes,d=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),a=e(25064);function n(u,l,y){var h=l.layers.frontplot.select(".scatterlayer"),T=R.makeTraceGroups(h,y,"trace scattergeo");function c(o,p){o.lonlat[0]===d&&g.select(p).remove()}T.selectAll("*").remove(),T.each(function(o){var p=g.select(this),x=o[0].trace;if(t.hasLines(x)||x.fill!=="none"){var b=C.calcTraceToLineCoords(o),P=x.fill!=="none"?C.makePolygon(b):C.makeLine(b);p.selectAll("path.js-line").data([{geojson:P,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&p.selectAll("path.point").data(R.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),t.hasText(x)&&p.selectAll("g").data(R.identity).enter().append("g").append("text").each(function(m){c(m,this)}),a(u,o)})}function f(u,l){var y=u[0].trace,h=l[y.geo],T=h._subplot,c=y._length,o,p;if(R.isArrayOrTypedArray(y.locations)){var x=y.locationmode,b=x==="geojson-id"?S.extractTraceFeature(u):i(y,T.topojson);for(o=0;o<c;o++){p=u[o];var P=x==="geojson-id"?p.fOut:S.locationToFeature(x,p.loc,b);p.lonlat=P?P.properties.ct:[d,d]}}var m={padded:!0},L,M;if(h.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=S.computeBbox(S.getTraceGeojson(y));L=[s[0],s[2]],M=[s[1],s[3]]}else{for(L=new Array(c),M=new Array(c),o=0;o<c;o++)p=u[o],L[o]=p.lonlat[0],M[o]=p.lonlat[1];m.ppad=r(y,c)}y._extremes.lon=v(h.lonaxis._ax,L,m),y._extremes.lat=v(h.lataxis._ax,M,m)}G.exports={calcGeoJSON:f,plot:n}},8796:function(G,H,e){var g=e(43028),R=e(39032).BADNUM;G.exports=function(C,S){var v=C.cd,d=C.xaxis,r=C.yaxis,t=[],a=v[0].trace,n,f,u,l,y,h=!g.hasMarkers(a)&&!g.hasText(a);if(h)return[];if(S===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],f=n.lonlat,f[0]!==R&&(u=d.c2p(f),l=r.c2p(f),S.contains([u,l],null,y,C)?(t.push({pointNumber:y,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,H,e){var g=e(33428),R=e(43616),i=e(76308),C=e(49224),S=C.stylePoints,v=C.styleText;G.exports=function(t,a){a&&d(t,a)};function d(r,t){var a=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,a,r),v(n,a,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=g.select(this),l=f.trace,y=l.line||{};u.call(i.stroke,y.color).call(R.dashLine,y.dash||"",y.width||0),l.fill!=="none"&&u.call(i.fill,l.fillcolor)})}},2876:function(G,H,e){var g=e(45464),R=e(25376),i=e(98304),C=e(52904),S=e(29736).axisHoverFormat,v=e(49084),d=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,a=e(67072).DASHES,n=C.line,f=C.marker,u=f.line,l=G.exports=t({x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:C.text,hovertext:C.hovertext,textposition:C.textposition,textfont:R({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:d(a),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:C.connectgaps,fill:r({},C.fill,{dflt:"none"}),fillcolor:i(),selected:{marker:C.selected.marker,textfont:C.selected.textfont},unselected:{marker:C.unselected.marker,textfont:C.unselected.textfont},opacity:g.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=C.hovertemplate,l.texttemplate=C.texttemplate},64628:function(G,H,e){var g=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,H,e){var g=e(3108),R=e(3400),i=e(79811),C=e(19280).findExtremes,S=e(1220),v=e(16356),d=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,a=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;G.exports=function(c,o){var p=c._fullLayout,x=o._xA=i.getFromId(c,o.xaxis,"x"),b=o._yA=i.getFromId(c,o.yaxis,"y"),P=p._plots[o.xaxis+o.yaxis],m=o._length,L=m>=l,M=m*2,s={},E,w=x.makeCalcdata(o,"x"),_=b.makeCalcdata(o,"y"),D=S(o,x,"x",w),N=S(o,b,"y",_),z=D.vals,F=N.vals;o._x=z,o._y=F,o.xperiodalignment&&(o._origX=w,o._xStarts=D.starts,o._xEnds=D.ends),o.yperiodalignment&&(o._origY=_,o._yStarts=N.starts,o._yEnds=N.ends);var U=new Array(M),B=new Array(m);for(E=0;E<m;E++)U[E*2]=z[E]===u?NaN:z[E],U[E*2+1]=F[E]===u?NaN:F[E],B[E]=E;if(x.type==="log")for(E=0;E<M;E+=2)U[E]=x.c2l(U[E]);if(b.type==="log")for(E=1;E<M;E+=2)U[E]=b.c2l(U[E]);L&&x.type!=="log"&&b.type!=="log"?s.tree=g(U):s.ids=B,a(c,o);var V=h(c,P,o,U,z,F),j=f(c,P);t(p,o);var Q;return L?V.marker&&(Q=V.marker.sizeAvg||Math.max(V.marker.size,3)):Q=d(o,m),r(c,o,x,b,z,F,Q),V.errorX&&y(o,x,V.errorX),V.errorY&&y(o,b,V.errorY),V.fill&&!j.fill2d&&(j.fill2d=!0),V.marker&&!j.scatter2d&&(j.scatter2d=!0),V.line&&!j.line2d&&(j.line2d=!0),(V.errorX||V.errorY)&&!j.error2d&&(j.error2d=!0),V.text&&!j.glText&&(j.glText=!0),V.marker&&(V.marker.snap=m),j.lineOptions.push(V.line),j.errorXOptions.push(V.errorX),j.errorYOptions.push(V.errorY),j.fillOptions.push(V.fill),j.markerOptions.push(V.marker),j.markerSelectedOptions.push(V.markerSel),j.markerUnselectedOptions.push(V.markerUnsel),j.textOptions.push(V.text),j.textSelectedOptions.push(V.textSel),j.textUnselectedOptions.push(V.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),s._scene=j,s.index=j.count,s.x=z,s.y=F,s.positions=U,j.count++,[{x:!1,y:!1,t:s,trace:o}]};function y(T,c,o){var p=T._extremes[c._id],x=C(c,o._bnds,{padded:!0});p.min=p.min.concat(x.min),p.max=p.max.concat(x.max)}function h(T,c,o,p,x,b){var P=n.style(T,o);if(P.marker&&(P.marker.positions=p),P.line&&p.length>1&&R.extendFlat(P.line,n.linePositions(T,o,p)),P.errorX||P.errorY){var m=n.errorBarPositions(T,o,p,x,b);P.errorX&&R.extendFlat(P.errorX,m.x),P.errorY&&R.extendFlat(P.errorY,m.y)}return P.text&&(R.extendFlat(P.text,{positions:p},n.textPosition(T,o,P.text,P.marker)),R.extendFlat(P.textSel,{positions:p},n.textPosition(T,o,P.text,P.markerSel)),R.extendFlat(P.textUnsel,{positions:p},n.textPosition(T,o,P.text,P.markerUnsel))),P}},67072:function(G){var H=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,H,e){var g=e(38248),R=e(20472),i=e(72160),C=e(24040),S=e(3400),v=S.isArrayOrTypedArray,d=e(43616),r=e(79811),t=e(33040).formatColor,a=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(N,z){var F,U={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=N._context.plotGlPixelRatio;if(z.visible!==!0)return U;if(a.hasText(z)&&(U.text=c(N,z),U.textSel=x(N,z,z.selected),U.textUnsel=x(N,z,z.unselected)),a.hasMarkers(z)&&(U.marker=o(N,z),U.markerSel=p(N,z,z.selected),U.markerUnsel=p(N,z,z.unselected),!z.unselected&&v(z.marker.opacity))){var V=z.marker.opacity;for(U.markerUnsel.opacity=new Array(V.length),F=0;F<V.length;F++)U.markerUnsel.opacity[F]=l*V[F]}if(a.hasLines(z)){U.line={overlay:!0,thickness:z.line.width*B,color:z.line.color,opacity:z.opacity};var j=(u.DASHES[z.line.dash]||[1]).slice();for(F=0;F<j.length;++F)j[F]*=z.line.width*B;U.line.dashes=j}return z.error_x&&z.error_x.visible&&(U.errorX=b(z,z.error_x,B)),z.error_y&&z.error_y.visible&&(U.errorY=b(z,z.error_y,B)),z.fill&&z.fill!=="none"&&(U.fill={closed:!0,fill:z.fillcolor,thickness:0}),U}function c(N,z){var F=N._fullLayout,U=z._length,B=z.textfont,V=z.textposition,j=v(V)?V:[V],Q=B.color,ee=B.size,re=B.family,ue=B.weight,J=B.style,X=B.variant,ne={},Y,oe=N._context.plotGlPixelRatio,le=z.texttemplate;if(le){ne.text=[];var Z=F._d3locale,$=Array.isArray(le),se=$?Math.min(le.length,U):U,ae=$?function(Ee){return le[Ee]}:function(){return le};for(Y=0;Y<se;Y++){var he={i:Y},me=z._module.formatLabels(he,z,F),Me={};h(Me,z,Y);var Te=z._meta||{};ne.text.push(S.texttemplateString(ae(Y),me,Z,Me,he,Te))}}else v(z.text)&&z.text.length<U?ne.text=z.text.slice():ne.text=z.text;if(v(ne.text))for(Y=ne.text.length;Y<U;Y++)ne.text[Y]="";for(ne.opacity=z.opacity,ne.font={},ne.align=[],ne.baseline=[],Y=0;Y<j.length;Y++){var Pe=j[Y].split(/\s+/);switch(Pe[1]){case"left":ne.align.push("right");break;case"right":ne.align.push("left");break;default:ne.align.push(Pe[1])}switch(Pe[0]){case"top":ne.baseline.push("bottom");break;case"bottom":ne.baseline.push("top");break;default:ne.baseline.push(Pe[0])}}if(v(Q))for(ne.color=new Array(U),Y=0;Y<U;Y++)ne.color[Y]=Q[Y];else ne.color=Q;if(v(ee)||Array.isArray(re)||Array.isArray(ue)||Array.isArray(J)||Array.isArray(X))for(ne.font=new Array(U),Y=0;Y<U;Y++){var be=ne.font[Y]={};be.size=(S.isTypedArray(ee)?ee[Y]:v(ee)?g(ee[Y])?ee[Y]:0:ee)*oe,be.family=Array.isArray(re)?re[Y]:re,be.weight=Array.isArray(ue)?ue[Y]:ue,be.style=Array.isArray(J)?J[Y]:J,be.variant=Array.isArray(X)?X[Y]:X}else ne.font={size:ee*oe,family:re,weight:ue,style:J,variant:X};return ne}function o(N,z){var F=z._length,U=z.marker,B={},V,j=v(U.symbol),Q=v(U.angle),ee=v(U.color),re=v(U.line.color),ue=v(U.opacity),J=v(U.size),X=v(U.line.width),ne;if(j||(ne=f.isOpenSymbol(U.symbol)),j||ee||re||ue||Q){B.symbols=new Array(F),B.angles=new Array(F),B.colors=new Array(F),B.borderColors=new Array(F);var Y=U.symbol,oe=U.angle,le=t(U,U.opacity,F),Z=t(U.line,U.opacity,F);if(!v(Z[0])){var $=Z;for(Z=Array(F),V=0;V<F;V++)Z[V]=$}if(!v(le[0])){var se=le;for(le=Array(F),V=0;V<F;V++)le[V]=se}if(!v(Y)){var ae=Y;for(Y=Array(F),V=0;V<F;V++)Y[V]=ae}if(!v(oe)){var he=oe;for(oe=Array(F),V=0;V<F;V++)oe[V]=he}for(B.symbols=Y,B.angles=oe,B.colors=le,B.borderColors=Z,V=0;V<F;V++)j&&(ne=f.isOpenSymbol(U.symbol[V])),ne&&(Z[V]=le[V].slice(),le[V]=le[V].slice(),le[V][3]=0);for(B.opacity=z.opacity,B.markers=new Array(F),V=0;V<F;V++)B.markers[V]=E({mx:B.symbols[V],ma:B.angles[V]},z)}else ne?(B.color=i(U.color,"uint8"),B.color[3]=0,B.borderColor=i(U.color,"uint8")):(B.color=i(U.color,"uint8"),B.borderColor=i(U.line.color,"uint8")),B.opacity=z.opacity*U.opacity,B.marker=E({mx:U.symbol,ma:U.angle},z);var me=1,Me=n(z,me),Te;if(J||X){var Pe=B.sizes=new Array(F),be=B.borderSizes=new Array(F),Ee=0,xe;if(J){for(V=0;V<F;V++)Pe[V]=Me(U.size[V]),Ee+=Pe[V];xe=Ee/F}else for(Te=Me(U.size),V=0;V<F;V++)Pe[V]=Te;if(X)for(V=0;V<F;V++)be[V]=U.line.width[V];else for(Te=U.line.width,V=0;V<F;V++)be[V]=Te;B.sizeAvg=xe}else B.size=Me(U&&U.size||10),B.borderSizes=Me(U.line.width);return B}function p(N,z,F){var U=z.marker,B={};return F&&(F.marker&&F.marker.symbol?B=o(N,S.extendFlat({},U,F.marker)):F.marker&&(F.marker.size&&(B.size=F.marker.size),F.marker.color&&(B.colors=F.marker.color),F.marker.opacity!==void 0&&(B.opacity=F.marker.opacity))),B}function x(N,z,F){var U={};if(!F)return U;if(F.textfont){var B={opacity:1,text:z.text,texttemplate:z.texttemplate,textposition:z.textposition,textfont:S.extendFlat({},z.textfont)};F.textfont&&S.extendFlat(B.textfont,F.textfont),U=c(N,B)}return U}function b(N,z,F){var U={capSize:z.width*2*F,lineWidth:z.thickness*F,color:z.color};return z.copy_ystyle&&(U=N.error_y),U}var P=u.SYMBOL_SDF_SIZE,m=u.SYMBOL_SIZE,L=u.SYMBOL_STROKE,M={},s=d.symbolFuncs[0](m*.05);function E(N,z){var F=N.mx;if(F==="circle")return null;var U,B,V=d.symbolNumber(F),j=d.symbolFuncs[V%100],Q=!!d.symbolNoDot[V%100],ee=!!d.symbolNoFill[V%100],re=f.isDotSymbol(F);if(N.ma&&(F+="_"+N.ma),M[F])return M[F];var ue=d.getMarkerAngle(N,z);return re&&!Q?U=j(m*1.1,ue)+s:U=j(m,ue),B=R(U,{w:P,h:P,viewBox:[-m,-m,m,m],stroke:ee?L:-L}),M[F]=B,B||null}function w(N,z,F){var U=F.length,B=U/2,V,j;if(a.hasLines(z)&&B)if(z.line.shape==="hv"){for(V=[],j=0;j<B-1;j++)isNaN(F[j*2])||isNaN(F[j*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[j*2],F[j*2+1]),!isNaN(F[j*2+2])&&!isNaN(F[j*2+3])?V.push(F[j*2+2],F[j*2+1]):V.push(NaN,NaN));V.push(F[U-2],F[U-1])}else if(z.line.shape==="hvh"){for(V=[],j=0;j<B-1;j++)if(isNaN(F[j*2])||isNaN(F[j*2+1])||isNaN(F[j*2+2])||isNaN(F[j*2+3]))!isNaN(F[j*2])&&!isNaN(F[j*2+1])?V.push(F[j*2],F[j*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var Q=(F[j*2]+F[j*2+2])/2;V.push(F[j*2],F[j*2+1],Q,F[j*2+1],Q,F[j*2+3])}V.push(F[U-2],F[U-1])}else if(z.line.shape==="vhv"){for(V=[],j=0;j<B-1;j++)if(isNaN(F[j*2])||isNaN(F[j*2+1])||isNaN(F[j*2+2])||isNaN(F[j*2+3]))!isNaN(F[j*2])&&!isNaN(F[j*2+1])?V.push(F[j*2],F[j*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var ee=(F[j*2+1]+F[j*2+3])/2;V.push(F[j*2],F[j*2+1],F[j*2],ee,F[j*2+2],ee)}V.push(F[U-2],F[U-1])}else if(z.line.shape==="vh"){for(V=[],j=0;j<B-1;j++)isNaN(F[j*2])||isNaN(F[j*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[j*2],F[j*2+1]),!isNaN(F[j*2+2])&&!isNaN(F[j*2+3])?V.push(F[j*2],F[j*2+3]):V.push(NaN,NaN));V.push(F[U-2],F[U-1])}else V=F;var re=!1;for(j=0;j<V.length;j++)if(isNaN(V[j])){re=!0;break}var ue=re||V.length>u.TOO_MANY_POINTS||a.hasMarkers(z)?"rect":"round";if(re&&z.connectgaps){var J=V[0],X=V[1];for(j=0;j<V.length;j+=2)isNaN(V[j])||isNaN(V[j+1])?(V[j]=J,V[j+1]=X):(J=V[j],X=V[j+1])}return{join:ue,positions:V}}function _(N,z,F,U,B){var V=C.getComponentMethod("errorbars","makeComputeError"),j=r.getFromId(N,z.xaxis,"x"),Q=r.getFromId(N,z.yaxis,"y"),ee=F.length/2,re={};function ue(J,X){var ne=X._id.charAt(0),Y=z["error_"+ne];if(Y&&Y.visible&&(X.type==="linear"||X.type==="log")){for(var oe=V(Y),le={x:0,y:1}[ne],Z={x:[0,1,2,3],y:[2,3,0,1]}[ne],$=new Float64Array(4*ee),se=1/0,ae=-1/0,he=0,me=0;he<ee;he++,me+=4){var Me=J[he];if(g(Me)){var Te=F[he*2+le],Pe=oe(Me,he),be=Pe[0],Ee=Pe[1];if(g(be)&&g(Ee)){var xe=Me-be,Ce=Me+Ee;$[me+Z[0]]=Te-X.c2l(xe),$[me+Z[1]]=X.c2l(Ce)-Te,$[me+Z[2]]=0,$[me+Z[3]]=0,se=Math.min(se,Me-be),ae=Math.max(ae,Me+Ee)}}}re[ne]={positions:F,errors:$,_bnds:[se,ae]}}}return ue(U,j),ue(B,Q),re}function D(N,z,F,U){var B=z._length,V={},j;if(a.hasMarkers(z)){var Q=F.font,ee=F.align,re=F.baseline;for(V.offset=new Array(B),j=0;j<B;j++){var ue=U.sizes?U.sizes[j]:U.size,J=v(Q)?Q[j].size:Q.size,X=v(ee)?ee.length>1?ee[j]:ee[0]:ee,ne=v(re)?re.length>1?re[j]:re[0]:re,Y=y[X],oe=y[ne],le=ue?ue/.8+1:0,Z=-oe*le-oe*.5;V.offset[j]=[Y*le/J,Z/J]}}return V}G.exports={style:T,markerStyle:o,markerSelection:p,linePositions:w,errorBarPositions:_,textPosition:D}},80220:function(G,H,e){var g=e(3400),R=e(24040),i=e(80088),C=e(2876),S=e(88200),v=e(43028),d=e(43980),r=e(31147),t=e(74428),a=e(66828),n=e(70840),f=e(124);G.exports=function(l,y,h,T){function c(M,s){return g.coerce(l,y,C,M,s)}var o=l.marker?i.isOpenSymbol(l.marker.symbol):!1,p=v.isBubble(l),x=d(l,y,T,c);if(!x){y.visible=!1;return}r(l,y,T,c),c("xhoverformat"),c("yhoverformat");var b=x<S.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",b),v.hasMarkers(y)&&(t(l,y,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||p?1:0)),v.hasLines(y)&&(c("connectgaps"),a(l,y,h,T,c),c("line.shape")),v.hasText(y)&&(c("texttemplate"),f(l,y,T,c));var P=(y.line||{}).color,m=(y.marker||{}).color;c("fill"),y.fill!=="none"&&n(l,y,h,c);var L=R.getComponentMethod("errorbars","supplyDefaults");L(l,y,P||m||h,{axis:"y"}),L(l,y,P||m||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,c)}},26768:function(G,H,e){var g=e(3400),R=e(76308),i=e(13448).DESELECTDIM;function C(S){var v=S[0],d=v.trace,r=v.t,t=r._scene,a=r.index,n=t.selectBatch[a],f=t.unselectBatch[a],u=t.textOptions[a],l=t.textSelectedOptions[a]||{},y=t.textUnselectedOptions[a]||{},h=g.extendFlat({},u),T,c;if(n.length||f.length){var o=l.color,p=y.color,x=u.color,b=g.isArrayOrTypedArray(x);for(h.color=new Array(d._length),T=0;T<n.length;T++)c=n[T],h.color[c]=o||(b?x[c]:x);for(T=0;T<f.length;T++){c=f[T];var P=b?x[c]:x;h.color[c]=p||(o?P:R.addOpacity(P,i))}}t.glText[a].update(h)}G.exports={styleTextSelection:C}},99396:function(G,H,e){var g=e(76688);G.exports=function(i,C,S){var v=i.i;return"x"in i||(i.x=C._x[v]),"y"in i||(i.y=C._y[v]),g(i,C,S)}},80088:function(G,H,e){var g=e(67072);H.isOpenSymbol=function(R){return typeof R=="string"?g.OPEN_RE.test(R):R%200>100},H.isDotSymbol=function(R){return typeof R=="string"?g.DOT_RE.test(R):R>200}},41272:function(G,H,e){var g=e(24040),R=e(3400),i=e(44928);function C(v,d,r,t){var a=v.cd,n=a[0].t,f=a[0].trace,u=v.xa,l=v.ya,y=n.x,h=n.y,T=u.c2p(d),c=l.c2p(r),o=v.distance,p;if(n.tree){var x=u.p2c(T-o),b=u.p2c(T+o),P=l.p2c(c-o),m=l.p2c(c+o);t==="x"?p=n.tree.range(Math.min(x,b),Math.min(l._rl[0],l._rl[1]),Math.max(x,b),Math.max(l._rl[0],l._rl[1])):p=n.tree.range(Math.min(x,b),Math.min(P,m),Math.max(x,b),Math.max(P,m))}else p=n.ids;var L,M,s,E,w,_,D,N,z,F=o;if(t==="x"){var U=!!f.xperiodalignment,B=!!f.yperiodalignment;for(w=0;w<p.length;w++){if(L=p[w],s=y[L],_=Math.abs(u.c2p(s)-T),U){var V=u.c2p(f._xStarts[L]),j=u.c2p(f._xEnds[L]);_=T>=Math.min(V,j)&&T<=Math.max(V,j)?0:1/0}if(_<F){if(F=_,E=h[L],D=l.c2p(E)-c,B){var Q=l.c2p(f._yStarts[L]),ee=l.c2p(f._yEnds[L]);D=c>=Math.min(Q,ee)&&c<=Math.max(Q,ee)?0:1/0}z=Math.sqrt(_*_+D*D),M=p[w]}}}else for(w=p.length-1;w>-1;w--)L=p[w],s=y[L],E=h[L],_=u.c2p(s)-T,D=l.c2p(E)-c,N=Math.sqrt(_*_+D*D),N<F&&(F=z=N,M=L);return v.index=M,v.distance=F,v.dxy=z,M===void 0?[v]:[S(v,y,h,f)]}function S(v,d,r,t){var a=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,y={pointNumber:l,x:d[l],y:r[l]};y.tx=R.isArrayOrTypedArray(t.text)?t.text[l]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(y.ts=R.isArrayOrTypedArray(h.size)?h.size[l]:h.size,y.tc=R.isArrayOrTypedArray(h.color)?h.color[l]:h.color,y.tf=Array.isArray(h.family)?h.family[l]:h.family,y.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,y.ty=Array.isArray(h.style)?h.style[l]:h.style,y.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var T=t.marker;T&&(y.ms=R.isArrayOrTypedArray(T.size)?T.size[l]:T.size,y.mo=R.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,y.mx=R.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,y.ma=R.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,y.mc=R.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var c=T&&T.line;c&&(y.mlc=Array.isArray(c.color)?c.color[l]:c.color,y.mlw=R.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var o=T&&T.gradient;o&&o.type!=="none"&&(y.mgt=Array.isArray(o.type)?o.type[l]:o.type,y.mgc=Array.isArray(o.color)?o.color[l]:o.color);var p=a.c2p(y.x,!0),x=n.c2p(y.y,!0),b=y.mrc||1,P=t.hoverlabel;P&&(y.hbg=Array.isArray(P.bgcolor)?P.bgcolor[l]:P.bgcolor,y.hbc=Array.isArray(P.bordercolor)?P.bordercolor[l]:P.bordercolor,y.hts=R.isArrayOrTypedArray(P.font.size)?P.font.size[l]:P.font.size,y.htc=Array.isArray(P.font.color)?P.font.color[l]:P.font.color,y.htf=Array.isArray(P.font.family)?P.font.family[l]:P.font.family,y.hnl=R.isArrayOrTypedArray(P.namelength)?P.namelength[l]:P.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[l]:m);var L=t.hovertemplate;L&&(y.ht=Array.isArray(L)?L[l]:L);var M={};M[v.index]=y;var s=t._origX,E=t._origY,w=R.extendFlat({},v,{color:i(t,y),x0:p-b,x1:p+b,xLabelVal:s?s[l]:y.x,y0:x-b,y1:x+b,yLabelVal:E?E[l]:y.y,cd:M,distance:f,spikeDistance:u,hovertemplate:y.ht});return y.htx?w.text=y.htx:y.tx?w.text=y.tx:t.text&&(w.text=t.text),R.fillText(y,t,w),g.getComponentMethod("errorbars","hoverInfo")(y,t,w),w}G.exports={hoverPoints:C,calcHover:S}},38983:function(G,H,e){var g=e(64628);g.plot=e(89876),G.exports=g},89876:function(G,H,e){var g=e(38540),R=e(13472),i=e(24544),C=e(23352),S=e(3400),v=e(72760).selectMode,d=e(5048),r=e(43028),t=e(14328),a=e(26768).styleTextSelection,n={};function f(l,y,h,T){var c=l._size,o=l.width*T,p=l.height*T,x=c.l*T,b=c.b*T,P=c.r*T,m=c.t*T,L=c.w*T,M=c.h*T;return[x+y.domain[0]*L,b+h.domain[0]*M,o-P-(1-y.domain[1])*L,p-m-(1-h.domain[1])*M]}var u=G.exports=function(y,h,T){if(T.length){var c=y._fullLayout,o=h._scene,p=h.xaxis,x=h.yaxis,b,P;if(o){var m=d(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var L=o.count,M=c._glcanvas.data()[0].regl;if(t(y,h,T),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&M.clear({}),o.error2d===!0&&(o.error2d=i(M)),o.line2d===!0&&(o.line2d=R(M)),o.scatter2d===!0&&(o.scatter2d=g(M)),o.fill2d===!0&&(o.fill2d=R(M)),o.glText===!0)for(o.glText=new Array(L),b=0;b<L;b++)o.glText[b]=new C(M);if(o.glText){if(L>o.glText.length){var s=L-o.glText.length;for(b=0;b<s;b++)o.glText.push(new C(M))}else if(L<o.glText.length){var E=o.glText.length-L,w=o.glText.splice(L,E);w.forEach(function(Z){Z.destroy()})}for(b=0;b<L;b++)o.glText[b].update(o.textOptions[b])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(Z){if(Z&&Z.positions){for(var $=Z.positions,se=0;se<$.length&&(isNaN($[se])||isNaN($[se+1]));)se+=2;for(var ae=$.length-2;ae>se&&(isNaN($[ae])||isNaN($[ae+1]));)ae-=2;Z.positions=$.slice(se,ae+2)}return Z}),o.line2d.update(o.lineOptions)),o.error2d){var _=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(_)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=S.repeat(null,L),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(Z,$){var se=T[$];if(!(!Z||!se||!se[0]||!se[0].trace)){var ae=se[0],he=ae.trace,me=ae.t,Me=o.lineOptions[$],Te,Pe,be=[];he._ownfill&&be.push($),he._nexttrace&&be.push($+1),be.length&&(o.fillOrder[$]=be);var Ee=[],xe=Me&&Me.positions||me.positions,Ce,Ue;if(he.fill==="tozeroy"){for(Ce=0;Ce<xe.length&&isNaN(xe[Ce+1]);)Ce+=2;for(Ue=xe.length-2;Ue>Ce&&isNaN(xe[Ue+1]);)Ue-=2;xe[Ce+1]!==0&&(Ee=[xe[Ce],0]),Ee=Ee.concat(xe.slice(Ce,Ue+2)),xe[Ue+1]!==0&&(Ee=Ee.concat([xe[Ue],0]))}else if(he.fill==="tozerox"){for(Ce=0;Ce<xe.length&&isNaN(xe[Ce]);)Ce+=2;for(Ue=xe.length-2;Ue>Ce&&isNaN(xe[Ue]);)Ue-=2;xe[Ce]!==0&&(Ee=[0,xe[Ce+1]]),Ee=Ee.concat(xe.slice(Ce,Ue+2)),xe[Ue]!==0&&(Ee=Ee.concat([0,xe[Ue+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ee=[],Te=0,Z.splitNull=!0,Pe=0;Pe<xe.length;Pe+=2)(isNaN(xe[Pe])||isNaN(xe[Pe+1]))&&(Ee=Ee.concat(xe.slice(Te,Pe)),Ee.push(xe[Te],xe[Te+1]),Ee.push(null,null),Te=Pe+2);Ee=Ee.concat(xe.slice(Te)),Te&&Ee.push(xe[Te],xe[Te+1])}else{var Ne=he._nexttrace;if(Ne){var De=o.lineOptions[$+1];if(De){var He=De.positions;if(he.fill==="tonexty"){for(Ee=xe.slice(),$=Math.floor(He.length/2);$--;){var at=He[$*2],vt=He[$*2+1];isNaN(at)||isNaN(vt)||Ee.push(at,vt)}Z.fill=Ne.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var ot=o.lineOptions[$-1].positions,et=Ee.length/2;Te=et;var ct=[Te];for(Pe=0;Pe<ot.length;Pe+=2)(isNaN(ot[Pe])||isNaN(ot[Pe+1]))&&(ct.push(Pe/2+et+1),Te=Pe+2);Ee=Ee.concat(ot),Z.hole=ct}return Z.fillmode=he.fill,Z.opacity=he.opacity,Z.positions=Ee,Z}}),o.fill2d.update(o.fillOptions))}var D=c.dragmode,N=v(D),z=c.clickmode.indexOf("select")>-1;for(b=0;b<L;b++){var F=T[b][0],U=F.trace,B=F.t,V=B.index,j=U._length,Q=B.x,ee=B.y;if(U.selectedpoints||N||z){if(N||(N=!0),U.selectedpoints){var re=o.selectBatch[V]=S.selIndices2selPoints(U),ue={};for(P=0;P<re.length;P++)ue[re[P]]=1;var J=[];for(P=0;P<j;P++)ue[P]||J.push(P);o.unselectBatch[V]=J}var X=B.xpx=new Array(j),ne=B.ypx=new Array(j);for(P=0;P<j;P++)X[P]=p.c2p(Q[P]),ne[P]=x.c2p(ee[P])}else B.xpx=B.ypx=null}if(N){if(o.select2d||(o.select2d=g(c._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(L);for(b=0;b<L;b++)Y[b]=o.selectBatch[b].length||o.unselectBatch[b].length?o.markerUnselectedOptions[b]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&T.forEach(function(Z){var $=((Z||[])[0]||{}).trace||{};r.hasText($)&&a(Z)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var oe={viewport:f(c,p,x,y._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(x._rl||x.range)[0],(p._rl||p.range)[1],(x._rl||x.range)[1]]},le=S.repeat(oe,o.count);o.fill2d&&o.fill2d.update(le),o.line2d&&o.line2d.update(le),o.error2d&&o.error2d.update(le.concat(le)),o.scatter2d&&o.scatter2d.update(le),o.select2d&&o.select2d.update(le),o.glText&&o.glText.forEach(function(Z){Z.update(oe)})}}};u.reglPrecompiled=n},74588:function(G,H,e){var g=e(3400);G.exports=function(i,C){var S=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(S=C._scene={},S.init=function(){g.extendFlat(S,d,v)},S.init(),S.update=function(t){var a=g.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(a),S.scatter2d&&S.scatter2d.update(a),S.line2d&&S.line2d.update(a),S.error2d&&S.error2d.update(a.concat(a)),S.select2d&&S.select2d.update(a),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,a=S.fill2d,n=S.error2d,f=S.line2d,u=S.scatter2d,l=S.glText,y=S.select2d,h=S.selectBatch,T=S.unselectBatch,c=0;c<t;c++){if(a&&S.fillOrder[c]&&a.draw(S.fillOrder[c]),f&&S.lineOptions[c]&&f.draw(c),n&&(S.errorXOptions[c]&&n.draw(c),S.errorYOptions[c]&&n.draw(c+t)),u&&S.markerOptions[c])if(T[c].length){var o=g.repeat([],S.count);o[c]=T[c],u.draw(o)}else h[c].length||u.draw(c);l[c]&&S.textOptions[c]&&l[c].render()}y&&y.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,C._scene=null}),S.dirty||g.extendFlat(S,v),S}},73224:function(G,H,e){var g=e(43028),R=e(26768).styleTextSelection;G.exports=function(C,S){var v=C.cd,d=C.xaxis,r=C.yaxis,t=[],a=v[0].trace,n=v[0].t,f=a._length,u=n.x,l=n.y,y=n._scene,h=n.index;if(!y)return t;var T=g.hasText(a),c=g.hasMarkers(a),o=!c&&!T;if(a.visible!==!0||o)return t;var p=[],x=[];if(S!==!1&&!S.degenerate)for(var b=0;b<f;b++)S.contains([n.xpx[b],n.ypx[b]],!1,b,C)?(p.push(b),t.push({pointNumber:b,x:d.c2d(u[b]),y:r.c2d(l[b])})):x.push(b);if(c){var P=y.scatter2d;if(!p.length&&!x.length){var m=new Array(y.count);m[h]=y.markerOptions[h],P.update.apply(P,m)}else if(!y.selectBatch[h].length&&!y.unselectBatch[h].length){var L=new Array(y.count);L[h]=y.markerUnselectedOptions[h],P.update.apply(P,L)}}return y.selectBatch[h]=p,y.unselectBatch[h]=x,T&&R(v),t}},31512:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(98304),C=e(6096),S=e(52904),v=e(5232),d=e(45464),r=e(49084),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(5232),f=C.line,u=C.marker;G.exports=a({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:C.fill,fillcolor:i(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},59392:function(G,H,e){var g=e(38248),R=e(3400),i=e(39032).BADNUM,C=e(44808),S=e(8932),v=e(43616),d=e(7152),r=e(43028),t=e(89032),a=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,f=e(72736).BR_TAG_ALL;G.exports=function(b,P){var m=P[0].trace,L=m.visible===!0&&m._length!==0,M=m.fill!=="none",s=r.hasLines(m),E=r.hasMarkers(m),w=r.hasText(m),_=E&&m.marker.symbol==="circle",D=E&&m.marker.symbol!=="circle",N=m.cluster&&m.cluster.enabled,z=u("fill"),F=u("line"),U=u("circle"),B=u("symbol"),V={fill:z,line:F,circle:U,symbol:B};if(!L)return V;var j;if((M||s)&&(j=C.calcTraceToLineCoords(P)),M&&(z.geojson=C.makePolygon(j),z.layout.visibility="visible",R.extendFlat(z.paint,{"fill-color":m.fillcolor})),s&&(F.geojson=C.makeLine(j),F.layout.visibility="visible",R.extendFlat(F.paint,{"line-width":m.line.width,"line-color":m.line.color,"line-opacity":m.opacity})),_){var Q=l(P);U.geojson=Q.geojson,U.layout.visibility="visible",N&&(U.filter=["!",["has","point_count"]],V.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(m.cluster.color,m.cluster.step),"circle-radius":o(m.cluster.size,m.cluster.step),"circle-opacity":o(m.cluster.opacity,m.cluster.step)}},V.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":p(m),"text-size":12}}),R.extendFlat(U.paint,{"circle-color":Q.mcc,"circle-radius":Q.mrc,"circle-opacity":Q.mo})}if(_&&N&&(U.filter=["!",["has","point_count"]]),(D||w)&&(B.geojson=y(P,b),R.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),D&&(R.extendFlat(B.layout,{"icon-size":m.marker.size/10}),"angle"in m.marker&&m.marker.angle!=="auto"&&R.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=m.marker.allowoverlap,R.extendFlat(B.paint,{"icon-opacity":m.opacity*m.marker.opacity,"icon-color":m.marker.color})),w)){var ee=(m.marker||{}).size,re=t(m.textposition,ee);R.extendFlat(B.layout,{"text-size":m.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":p(m)}),R.extendFlat(B.paint,{"text-color":m.textfont.color,"text-opacity":m.opacity})}return V};function u(x){return{type:x,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(x){var b=x[0].trace,P=b.marker,m=b.selectedpoints,L=R.isArrayOrTypedArray(P.color),M=R.isArrayOrTypedArray(P.size),s=R.isArrayOrTypedArray(P.opacity),E;function w(ee){return b.opacity*ee}function _(ee){return ee/2}var D;L&&(S.hasColorscale(b,"marker")?D=S.makeColorScaleFuncFromTrace(P):D=R.identity);var N;M&&(N=d(b));var z;s&&(z=function(ee){var re=g(ee)?+R.constrain(ee,0,1):0;return w(re)});var F=[];for(E=0;E<x.length;E++){var U=x[E],B=U.lonlat;if(!c(B)){var V={};D&&(V.mcc=U.mcc=D(U.mc)),N&&(V.mrc=U.mrc=N(U.ms)),z&&(V.mo=z(U.mo)),m&&(V.selected=U.selected||0),F.push({type:"Feature",id:E+1,geometry:{type:"Point",coordinates:B},properties:V})}}var j;if(m)for(j=v.makeSelectedPointStyleFns(b),E=0;E<F.length;E++){var Q=F[E].properties;j.selectedOpacityFn&&(Q.mo=w(j.selectedOpacityFn(Q))),j.selectedColorFn&&(Q.mcc=j.selectedColorFn(Q)),j.selectedSizeFn&&(Q.mrc=j.selectedSizeFn(Q))}return{geojson:{type:"FeatureCollection",features:F},mcc:L||j&&j.selectedColorFn?{type:"identity",property:"mcc"}:P.color,mrc:M||j&&j.selectedSizeFn?{type:"identity",property:"mrc"}:_(P.size),mo:s||j&&j.selectedOpacityFn?{type:"identity",property:"mo"}:w(P.opacity)}}function y(x,b){for(var P=b._fullLayout,m=x[0].trace,L=m.marker||{},M=L.symbol,s=L.angle,E=M!=="circle"?h(M):T,w=s!=="auto"?h(s,!0):T,_=r.hasText(m)?h(m.text):T,D=[],N=0;N<x.length;N++){var z=x[N];if(!c(z.lonlat)){var F=m.texttemplate,U;if(F){var B=Array.isArray(F)?F[N]||"":F,V=m._module.formatLabels(z,m,P),j={};a(j,m,z.i);var Q=m._meta||{};U=R.texttemplateString(B,V,P._d3locale,j,z,Q)}else U=_(N);U&&(U=U.replace(n,"").replace(f,`
`)),D.push({type:"Feature",geometry:{type:"Point",coordinates:z.lonlat},properties:{symbol:E(N),angle:w(N),text:U}})}}return{type:"FeatureCollection",features:D}}function h(x,b){return R.isArrayOrTypedArray(x)?b?function(P){return g(x[P])?+x[P]:0}:function(P){return x[P]}:x?function(){return x}:T}function T(){return""}function c(x){return x[0]===i}function o(x,b){var P;if(R.isArrayOrTypedArray(x)&&R.isArrayOrTypedArray(b)){P=["step",["get","point_count"],x[0]];for(var m=1;m<x.length;m++)P.push(b[m-1],x[m])}else P=x;return P}function p(x){var b=x.textfont,P="";b.weight==="bold"&&(P+=" Bold"),b.style==="italic"&&(P+=" Italic");var m=b.family;return P&&(m=m.replace(" Regular",P)),m=m.split(", "),m}},15752:function(G,H,e){var g=e(3400),R=e(43028),i=e(74428),C=e(66828),S=e(124),v=e(70840),d=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports=function(n,f,u,l){function y(M,s){return g.coerce(n,f,d,M,s)}function h(M,s){return g.coerce2(n,f,d,M,s)}var T=t(n,f,y);if(!T){f.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),R.hasMarkers(f)){i(n,f,u,l,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var c=f.marker;c.symbol!=="circle"&&(g.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),g.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}R.hasLines(f)&&(C(n,f,u,l,y,{noDash:!0}),y("connectgaps"));var o=h("cluster.maxzoom"),p=h("cluster.step"),x=h("cluster.color",f.marker&&f.marker.color||u),b=h("cluster.size"),P=h("cluster.opacity"),m=o!==!1||p!==!1||x!==!1||b!==!1||P!==!1,L=y("cluster.enabled",m);(L||R.hasText(f))&&S(n,f,l,y,{noSelect:!0,noFontVariant:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}}),y("fill"),f.fill!=="none"&&v(n,f,u,y),g.coerceSelectionMarkerOpacity(f,y)};function t(a,n,f){var u=f("lon")||[],l=f("lat")||[],y=Math.min(u.length,l.length);return n._length=y,y}},37920:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(G,H,e){var g=e(54460);G.exports=function(i,C,S){var v={},d=S[C.subplot]._subplot,r=d.mockAxis,t=i.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,H,e){var g=e(93024),R=e(3400),i=e(44928),C=R.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function d(t,a,n){var f=t.cd,u=f[0].trace,l=t.xa,y=t.ya,h=t.subplot,T=[],c=v+u.uid+"-circle",o=u.cluster&&u.cluster.enabled;if(o){var p=h.map.queryRenderedFeatures(null,{layers:[c]});T=p.map(function(z){return z.id})}var x=a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360),b=x*360,P=a-b;function m(z){var F=z.lonlat;if(F[0]===S||o&&T.indexOf(z.i+1)===-1)return 1/0;var U=R.modHalf(F[0],360),B=F[1],V=h.project([U,B]),j=V.x-l.c2p([P,B]),Q=V.y-y.c2p([U,n]),ee=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(j*j+Q*Q)-ee,1-3/ee)}if(g.getClosest(f,m,t),t.index!==!1){var L=f[t.index],M=L.lonlat,s=[R.modHalf(M[0],360)+b,M[1]],E=l.c2p(s),w=y.c2p(s),_=L.mrc||1;t.x0=E-_,t.x1=E+_,t.y0=w-_,t.y1=w+_;var D={};D[u.subplot]={_subplot:h};var N=u._module.formatLabels(L,u,D);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=i(u,L),t.extraText=r(u,L,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,a,n){if(t.hovertemplate)return;var f=a.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,y=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,T=a.lonlat,c=[];function o(p){return p+""}return l||y&&h?c.push("("+o(T[1])+", "+o(T[0])+")"):y?c.push(n.lon+o(T[0])):h&&c.push(n.lat+o(T[1])),(l||u.indexOf("text")!==-1)&&C(a,t,c),c.join("<br>")}G.exports={hoverPoints:d,getExtraText:r}},11572:function(G,H,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,R){if(R){var i=R[0].trace;i._glTrace.update(R)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,H,e){var g=e(3400),R=e(59392),i=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(d,r,t,a){this.type="scattermapbox",this.subplot=d,this.uid=r,this.clusterEnabled=t,this.isHidden=a,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(d,r,t){var a={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(a,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[d]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[d],a)},v.setSourceData=function(d,r){this.subplot.map.getSource(this.sourceIds[d]).setData(r.geojson)},v.addLayer=function(d,r,t){var a={type:r.type,id:this.layerIds[d],source:this.sourceIds[d],layout:r.layout,paint:r.paint};r.filter&&(a.filter=r.filter);for(var n=this.layerIds[d],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",a.paint)):this.subplot.addLayer(a,t)},v.update=function(r){var t=r[0].trace,a=this.subplot,n=a.map,f=R(a.gd,r),u=a.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,h=this;function T(M){M||h.addSource("circle",f.circle,t.cluster);for(var s=C.cluster,E=0;E<s.length;E++){var w=s[E],_=f[w];h.addLayer(w,_,u)}}function c(M){for(var s=C.cluster,E=s.length-1;E>=0;E--){var w=s[E];n.removeLayer(h.layerIds[w])}M||n.removeSource(h.sourceIds.circle)}function o(M){for(var s=C.nonCluster,E=0;E<s.length;E++){var w=s[E],_=f[w];M||h.addSource(w,_),h.addLayer(w,_,u)}}function p(M){for(var s=C.nonCluster,E=s.length-1;E>=0;E--){var w=s[E];n.removeLayer(h.layerIds[w]),M||n.removeSource(h.sourceIds[w])}}function x(M){y?c(M):p(M)}function b(M){l?T(M):o(M)}function P(){for(var M=l?C.cluster:C.nonCluster,s=0;s<M.length;s++){var E=M[s],w=f[E];w&&(a.setOptions(h.layerIds[E],"setLayoutProperty",w.layout),w.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,w),a.setOptions(h.layerIds[E],"setPaintProperty",w.paint)))}}var m=this.isHidden,L=t.visible!==!0;L?m||x():m?L||b():y!==l?(x(),b()):(this.below!==u&&(x(!0),b(!0)),P()),this.clusterEnabled=l,this.isHidden=L,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var a=t[0].trace,n=a.cluster&&a.cluster.enabled,f=a.visible!==!0,u=new S(r,a.uid,n,f),l=R(r.gd,t),y=u.below=r.belowLookup["trace-"+a.uid],h,T,c;if(n)for(u.addSource("circle",l.circle,a.cluster),h=0;h<C.cluster.length;h++)T=C.cluster[h],c=l[T],u.addLayer(T,c,y);else for(h=0;h<C.nonCluster.length;h++)T=C.nonCluster[h],c=l[T],u.addSource(T,c,a.cluster),u.addLayer(T,c,y);return t[0].trace._glTrace=u,u}},404:function(G,H,e){var g=e(3400),R=e(43028),i=e(39032).BADNUM;G.exports=function(S,v){var d=S.cd,r=S.xaxis,t=S.yaxis,a=[],n=d[0].trace,f;if(!R.hasMarkers(n))return[];if(v===!1)for(f=0;f<d.length;f++)d[f].selected=0;else for(f=0;f<d.length;f++){var u=d[f],l=u.lonlat;if(l[0]!==i){var y=[g.modHalf(l[0],360),l[1]],h=[r.c2p(y),t.c2p(y)];v.contains(h,null,f,S)?(a.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return a}},8319:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),d=S.line;G.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:R({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:i({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:i({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:i({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:i({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:g(),selected:S.selected,unselected:S.unselected}},58320:function(G,H,e){var g=e(38248),R=e(39032).BADNUM,i=e(54460),C=e(90136),S=e(20148),v=e(4500),d=e(16356).calcMarkerSize;G.exports=function(t,a){for(var n=t._fullLayout,f=a.subplot,u=n[f].radialaxis,l=n[f].angularaxis,y=u.makeCalcdata(a,"r"),h=l.makeCalcdata(a,"theta"),T=a._length,c=new Array(T),o=0;o<T;o++){var p=y[o],x=h[o],b=c[o]={};g(p)&&g(x)?(b.r=p,b.theta=x):b.r=R}var P=d(a,T);return a._extremes.x=i.findExtremes(u,y,{ppad:P}),C(t,a),S(c,a),v(c,a),c}},85968:function(G,H,e){var g=e(3400),R=e(43028),i=e(74428),C=e(66828),S=e(11731),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function a(f,u,l,y){function h(o,p){return g.coerce(f,u,t,o,p)}var T=n(f,u,y,h);if(!T){u.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),R.hasMarkers(u)&&i(f,u,l,y,h,{gradient:!0}),R.hasLines(u)&&(C(f,u,l,y,h,{backoff:!0}),S(f,u,h),h("connectgaps")),R.hasText(u)&&(h("texttemplate"),v(f,u,y,h));var c=[];(R.hasMarkers(u)||R.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(d(f,u,l,h),R.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,h)}function n(f,u,l,y){var h=y("r"),T=y("theta");g.isTypedArray(h)&&(u.r=h=Array.from(h)),g.isTypedArray(T)&&(u.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,y("theta0"),y("dtheta"));else{if(!T)return 0;c=u.theta.length,y("r0"),y("dr")}return u._length=c,c}G.exports={handleRThetaDefaults:n,supplyDefaults:a}},22852:function(G,H,e){var g=e(3400),R=e(54460);G.exports=function(C,S,v){var d={},r=v[S.subplot]._subplot,t,a;r?(t=r.radialAxis,a=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,a=r.angularaxis);var n=t.c2l(C.r);d.rLabel=R.tickText(t,n,!0).text;var f=a.thetaunit==="degrees"?g.rad2deg(C.theta):C.theta;return d.thetaLabel=R.tickText(a,f,!0).text,d}},8504:function(G,H,e){var g=e(98723);function R(C,S,v,d){var r=g(C,S,v,d);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=C.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function i(C,S,v,d){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,a);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var f=C.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var y=f.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&l(r,d.rLabel),y.indexOf("theta")!==-1&&l(t,d.thetaLabel),y.indexOf("text")!==-1&&d.text&&(u.push(d.text),delete d.text),d.extraText=u.join("<br>")}}G.exports={hoverPoints:R,makeHoverPointText:i}},76924:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,H,e){var g=e(96504),R=e(39032).BADNUM;G.exports=function(C,S,v){for(var d=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,a={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,u=0;u<v.length;u++)for(var l=v[u],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[y],T=h.r;if(T===R)h.x=h.y=R;else{var c=n.c2g(T),o=f.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}g(C,a,v,d)}},24396:function(G,H,e){var g=e(8319),R=e(2876),i=e(21776).Gw;G.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:R.line.color,width:R.line.width,dash:R.line.dash,editType:"calc"},connectgaps:R.connectgaps,marker:R.marker,fill:R.fill,fillcolor:R.fillcolor,textposition:R.textposition,textfont:R.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,H,e){var g=e(90136),R=e(16356).calcMarkerSize,i=e(84236),C=e(54460),S=e(67072).TOO_MANY_POINTS;G.exports=function(d,r){var t=d._fullLayout,a=r.subplot,n=t[a].radialaxis,f=t[a].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),y=r._length,h={};y<u.length&&(u=u.slice(0,y)),y<l.length&&(l=l.slice(0,y)),h.r=u,h.theta=l,g(d,r);var T=h.opts=i.style(d,r),c;return y<S?c=R(r,y):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=C.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(G,H,e){var g=e(3400),R=e(43028),i=e(85968).handleRThetaDefaults,C=e(74428),S=e(66828),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,f,u,l){function y(T,c){return g.coerce(n,f,t,T,c)}var h=i(n,f,l,y);if(!h){f.visible=!1;return}y("thetaunit"),y("mode",h<r?"lines+markers":"lines"),y("text"),y("hovertext"),f.hoveron!=="fills"&&y("hovertemplate"),R.hasMarkers(f)&&C(n,f,u,l,y,{noAngleRef:!0,noStandOff:!0}),R.hasLines(f)&&(S(n,f,u,l,y),y("connectgaps")),R.hasText(f)&&(y("texttemplate"),v(n,f,l,y)),y("fill"),f.fill!=="none"&&d(n,f,u,y),g.coerceSelectionMarkerOpacity(f,y)}},94120:function(G,H,e){var g=e(22852);G.exports=function(i,C,S){var v=i.i;return"r"in i||(i.r=C._r[v]),"theta"in i||(i.theta=C._theta[v]),g(i,C,S)}},1600:function(G,H,e){var g=e(41272),R=e(8504).makeHoverPointText;function i(C,S,v,d){var r=C.cd,t=r[0].t,a=t.r,n=t.theta,f=g.hoverPoints(C,S,v,d);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=C.subplot,y=u.cd[u.index],h=u.trace;if(y.r=a[u.index],y.theta=n[u.index],!!l.isPtInside(y))return u.xLabelVal=void 0,u.yLabelVal=void 0,R(y,h,l,u),f}}G.exports={hoverPoints:i}},62944:function(G,H,e){var g=e(27160);g.plot=e(56512),G.exports=g},56512:function(G,H,e){var g=e(3108),R=e(38248),i=e(89876),C=e(74588),S=e(84236),v=e(3400),d=e(67072).TOO_MANY_POINTS,r={};G.exports=function(a,n,f){if(f.length){var u=n.radialAxis,l=n.angularAxis,y=C(a,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,o=T.t,p=c._length,x=o.r,b=o.theta,P=o.opts,m,L=x.slice(),M=b.slice();for(m=0;m<x.length;m++)n.isPtInside({r:x[m],theta:b[m]})||(L[m]=NaN,M[m]=NaN);var s=new Array(p*2),E=Array(p),w=Array(p);for(m=0;m<p;m++){var _=L[m],D,N;if(R(_)){var z=u.c2g(_),F=l.c2g(M[m],c.thetaunit);D=z*Math.cos(F),N=z*Math.sin(F)}else D=N=NaN;E[m]=s[m*2]=D,w[m]=s[m*2+1]=N}o.tree=g(s),P.marker&&p>=d&&(P.marker.cluster=o.tree),P.marker&&(P.markerSel.positions=P.markerUnsel.positions=P.marker.positions=s),P.line&&s.length>1&&v.extendFlat(P.line,S.linePositions(a,c,s)),P.text&&(v.extendFlat(P.text,{positions:s},S.textPosition(a,c,P.text,P.marker)),v.extendFlat(P.textSel,{positions:s},S.textPosition(a,c,P.text,P.markerSel)),v.extendFlat(P.textUnsel,{positions:s},S.textPosition(a,c,P.text,P.markerUnsel))),P.fill&&!y.fill2d&&(y.fill2d=!0),P.marker&&!y.scatter2d&&(y.scatter2d=!0),P.line&&!y.line2d&&(y.line2d=!0),P.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(P.line),y.fillOptions.push(P.fill),y.markerOptions.push(P.marker),y.markerSelectedOptions.push(P.markerSel),y.markerUnselectedOptions.push(P.markerUnsel),y.textOptions.push(P.text),y.textSelectedOptions.push(P.textSel),y.textUnselectedOptions.push(P.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),o.x=E,o.y=w,o.rawx=E,o.rawy=w,o.r=x,o.theta=b,o.positions=s,o._scene=y,o.index=y.count,y.count++}}),i(a,n,f)}},G.exports.reglPrecompiled=r},69496:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),d=S.line;G.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:R({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:i({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:i({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:i({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:i({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:g(),selected:S.selected,unselected:S.unselected}},47507:function(G,H,e){var g=e(38248),R=e(39032).BADNUM,i=e(90136),C=e(20148),S=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var a=r._fullLayout,n=t.subplot,f=a[n].realaxis,u=a[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),y=u.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var o=l[c],p=y[c],x=T[c]={};g(o)&&g(p)?(x.real=o,x.imag=p):x.real=R}return v(t,h),i(r,t),C(T,t),S(T,t),T}},76716:function(G,H,e){var g=e(3400),R=e(43028),i=e(74428),C=e(66828),S=e(11731),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(f,u,l,y){function h(o,p){return g.coerce(f,u,t,o,p)}var T=a(f,u,y,h);if(!T){u.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),R.hasMarkers(u)&&i(f,u,l,y,h,{gradient:!0}),R.hasLines(u)&&(C(f,u,l,y,h,{backoff:!0}),S(f,u,h),h("connectgaps")),R.hasText(u)&&(h("texttemplate"),v(f,u,y,h));var c=[];(R.hasMarkers(u)||R.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(d(f,u,l,h),R.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,h)};function a(n,f,u,l){var y=l("real"),h=l("imag"),T;return y&&h&&(T=Math.min(y.length,h.length)),g.isTypedArray(y)&&(f.real=y=Array.from(y)),g.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=T,T}},49504:function(G,H,e){var g=e(54460);G.exports=function(i,C,S){var v={},d=S[C.subplot]._subplot;return v.realLabel=g.tickText(d.radialAxis,i.real,!0).text,v.imagLabel=g.tickText(d.angularAxis,i.imag,!0).text,v}},25292:function(G,H,e){var g=e(98723);function R(C,S,v,d){var r=g(C,S,v,d);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=C.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function i(C,S,v,d){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,a);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var f=C.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var y=f.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&l(r,d.realLabel),y.indexOf("imag")!==-1&&l(t,d.imagLabel),y.indexOf("text")!==-1&&d.text&&(u.push(d.text),delete d.text),d.extraText=u.join("<br>")}}G.exports={hoverPoints:R,makeHoverPointText:i}},95443:function(G,H,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,H,e){var g=e(96504),R=e(39032).BADNUM,i=e(36416),C=i.smith;G.exports=function(v,d,r){for(var t=d.layers.frontplot.select("g.scatterlayer"),a=d.xaxis,n=d.yaxis,f={xaxis:a,yaxis:n,plot:d.framework,layerClipId:d._hasClipOnAxisFalse?d.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=a,l[0].trace._yA=n);var h=l[y],T=h.real;if(T===R)h.x=h.y=R;else{var c=C([T,h.imag]);h.x=c[0],h.y=c[1]}}g(v,f,r,t)}},5896:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(98304),C=e(52904),S=e(45464),v=e(49084),d=e(98192).u,r=e(92880).extendFlat,t=C.marker,a=C.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:R({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:a.color,width:a.width,dash:d,backoff:a.backoff,shape:r({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:g()}},34335:function(G,H,e){var g=e(38248),R=e(90136),i=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],d={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,a){var n=t._fullLayout[a.subplot],f=n.sum,u=a.sum||f,l={a:a.a,b:a.b,c:a.c},y,h,T,c,o,p;for(y=0;y<v.length;y++)if(T=v[y],!l[T]){for(o=l[d[T][0]],p=l[d[T][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=u-o[h]-p[h];l[T]=c}var x=a._length,b=new Array(x),P,m,L,M,s,E;for(y=0;y<x;y++)P=l.a[y],m=l.b[y],L=l.c[y],g(P)&&g(m)&&g(L)?(P=+P,m=+m,L=+L,M=f/(P+m+L),M!==1&&(P*=M,m*=M,L*=M),E=P,s=L-m,b[y]={x:s,y:E,a:P,b:m,c:L}):b[y]={x:!1,y:!1};return S(a,x),R(t,a),i(b,a),C(b,a),b}},84256:function(G,H,e){var g=e(3400),R=e(88200),i=e(43028),C=e(74428),S=e(66828),v=e(11731),d=e(124),r=e(70840),t=e(5896);G.exports=function(n,f,u,l){function y(b,P){return g.coerce(n,f,t,b,P)}var h=y("a"),T=y("b"),c=y("c"),o;if(h?(o=h.length,T?(o=Math.min(o,T.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):T&&c&&(o=Math.min(T.length,c.length)),!o){f.visible=!1;return}f._length=o,y("sum"),y("text"),y("hovertext"),f.hoveron!=="fills"&&y("hovertemplate");var p=o<R.PTS_LINESONLY?"lines+markers":"lines";y("mode",p),i.hasMarkers(f)&&C(n,f,u,l,y,{gradient:!0}),i.hasLines(f)&&(S(n,f,u,l,y,{backoff:!0}),v(n,f,y),y("connectgaps")),i.hasText(f)&&(y("texttemplate"),d(n,f,l,y));var x=[];(i.hasMarkers(f)||i.hasText(f))&&(y("cliponaxis"),y("marker.maxdisplayed"),x.push("points")),y("fill"),f.fill!=="none"&&(r(n,f,u,y),i.hasLines(f)||v(n,f,y)),(f.fill==="tonext"||f.fill==="toself")&&x.push("fills"),y("hoveron",x.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,y)}},97476:function(G){G.exports=function(e,g,R,i,C){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),i[C]){var S=i[C];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(G,H,e){var g=e(54460);G.exports=function(i,C,S){var v={},d=S[C.subplot]._subplot;return v.aLabel=g.tickText(d.aaxis,i.a,!0).text,v.bLabel=g.tickText(d.baxis,i.b,!0).text,v.cLabel=g.tickText(d.caxis,i.c,!0).text,v}},26596:function(G,H,e){var g=e(98723);G.exports=function(i,C,S,v){var d=g(i,C,S,v);if(!d||d[0].index===!1)return;var r=d[0];if(r.index===void 0){var t=1-r.y0/i.ya._length,a=i.xa._length,n=a*t/2,f=a-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),d}var u=r.cd[r.index],l=r.trace,y=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:y};var T=l._module.formatLabels(u,l,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=u.hi||l.hoverinfo,o=[];function p(b,P){o.push(b._hovertitle+": "+P)}if(!l.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&p(y.aaxis,r.aLabel),x.indexOf("b")!==-1&&p(y.baxis,r.bLabel),x.indexOf("c")!==-1&&p(y.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,d}},34864:function(G,H,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,H,e){var g=e(96504);G.exports=function(i,C,S){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var d=C.xaxis,r=C.yaxis,t={xaxis:d,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},a=C.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=d,f[0].trace._yA=r)}g(i,t,S,a)}},44524:function(G,H,e){var g=e(52904),R=e(49084),i=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(2876),v=e(33816).idRegex,d=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,a=t.line,n=r(R("marker.line",{editTypeOverride:"calc"}),{width:r({},a.width,{editType:"calc"}),editType:"calc"}),f=r(R("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:d("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:C(),xhoverformat:i("x"),yhoverformat:i("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(G,H,e){var g=e(24040),R=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(R)},99332:function(G,H,e){var g=e(13472),R=e(24040),i=e(5048),C=e(84888)._M,S=e(57952),v=e(79811).getFromId,d=e(54460).shouldShowZeroLine,r="splom",t={};function a(h){var T=h._fullLayout,c=R.getModule(r),o=C(h.calcdata,c)[0],p=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);p&&(T._hasOnlyLargeSploms&&u(h),c.plot(h,{},o))}function n(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var o=0;o<T.length;o++){var p=T[o][0],x=p.trace,b=c._splomScenes[x.uid];x.type==="splom"&&b&&b.matrix&&f(h,x,b)}}function f(h,T,c){for(var o=c.matrixOptions.data.length,p=T._visibleDims,x=c.viewOpts.ranges=new Array(o),b=0;b<p.length;b++){var P=p[b],m=x[b]=new Array(4),L=v(h,T._diag[P][0]);L&&(m[0]=L.r2l(L.range[0]),m[2]=L.r2l(L.range[1]));var M=v(h,T._diag[P][1]);M&&(m[1]=M.r2l(M.range[0]),m[3]=M.r2l(M.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function u(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,o=T._splomGrid;o||(o=T._splomGrid=g(c)),o.update(l(h))}function l(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,p=[0,0,c.width*T,c.height*T],x={},b;function P(j,Q,ee,re,ue,J){ee*=T,re*=T,ue*=T,J*=T;var X=Q[j+"color"],ne=Q[j+"width"],Y=String(X+ne);Y in x?x[Y].data.push(NaN,NaN,ee,re,ue,J):x[Y]={data:[ee,re,ue,J],join:"rect",thickness:ne*T,color:X,viewport:p,range:p,overlay:!1}}for(b in c._splomSubplots){var m=c._plots[b],L=m.xaxis,M=m.yaxis,s=L._gridVals,E=M._gridVals,w=L._offset,_=L._length,D=M._length,N=o.b+M.domain[0]*o.h,z=-M._m,F=-z*M.r2l(M.range[0],M.calendar),U,B;if(L.showgrid)for(b=0;b<s.length;b++)U=w+L.l2p(s[b].x),P("grid",L,U,N,U,N+D);if(M.showgrid)for(b=0;b<E.length;b++)B=N+F+z*E[b].x,P("grid",M,w,B,w+_,B);d(h,L,M)&&(U=w+L.l2p(0),P("zeroline",L,U,N,U,N+D)),d(h,M,L)&&(B=N+F+0,P("zeroline",M,w,B,w+_,B))}var V=[];for(b in x)V.push(x[b]);return V}function y(h,T,c,o){var p={},x;if(o._splomScenes){for(x=0;x<h.length;x++){var b=h[x];b.type==="splom"&&(p[b.uid]=1)}for(x=0;x<c.length;x++){var P=c[x];if(!p[P.uid]){var m=o._splomScenes[P.uid];m&&m.destroy&&m.destroy(),o._splomScenes[P.uid]=null,delete o._splomScenes[P.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!T._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),S.clean(h,T,c,o)}G.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:a,drag:n,updateGrid:u,clean:y,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(G,H,e){var g=e(3400),R=e(79811),i=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,d=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;G.exports=function(f,u){var l=u.dimensions,y=u._length,h={},T=h.cdata=[],c=h.data=[],o=u._visibleDims=[],p,x,b,P,m;function L(_,D){for(var N=_.makeCalcdata({v:D.values,vcalendar:u.calendar},"v"),z=0;z<N.length;z++)N[z]=N[z]===t?NaN:N[z];T.push(N),c.push(_.type==="log"?g.simpleMap(N,_.c2l):N)}for(p=0;p<l.length;p++)if(b=l[p],b.visible){if(P=R.getFromId(f,u._diag[p][0]),m=R.getFromId(f,u._diag[p][1]),P&&m&&P.type!==m.type){g.log("Skipping splom dimension "+p+" with conflicting axis types");continue}P?(L(P,b),m&&m.type==="category"&&(m._categories=P._categories.slice())):L(m,b),o.push(p)}S(f,u),g.extendFlat(h,d(f,u));var M=T.length,s=M*y>a,E;for(s?E=h.sizeAvg||Math.max(h.size,3):E=i(u,y),x=0;x<o.length;x++)p=o[x],b=l[p],P=R.getFromId(f,u._diag[p][0])||{},m=R.getFromId(f,u._diag[p][1])||{},C(f,u,P,m,T[x],T[x],E);var w=r(f,u);return w.matrix||(w.matrix=!0),w.matrixOptions=h,w.selectedOptions=v(f,u,u.selected),w.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(G,H,e){var g=e(3400),R=e(51272),i=e(44524),C=e(43028),S=e(74428),v=e(26284),d=e(80088).isOpenSymbol;G.exports=function(n,f,u,l){function y(P,m){return g.coerce(n,f,i,P,m)}var h=R(n,f,{name:"dimensions",handleItemDefaults:r}),T=y("diagonal.visible"),c=y("showupperhalf"),o=y("showlowerhalf"),p=v(f,h,"values");if(!p||!T&&!c&&!o){f.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),S(n,f,u,l,y,{noAngleRef:!0,noStandOff:!0});var x=d(f.marker.symbol),b=C.isBubble(f);y("marker.line.width",x||b?1:0),t(n,f,l,y),g.coerceSelectionMarkerOpacity(f,y)};function r(a,n){function f(l,y){return g.coerce(a,n,i.dimensions,l,y)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(a,n,f,u){var l=n.dimensions,y=l.length,h=n.showupperhalf,T=n.showlowerhalf,c=n.diagonal.visible,o,p,x=new Array(y),b=new Array(y);for(o=0;o<y;o++){var P=o?o+1:"";x[o]="x"+P,b[o]="y"+P}var m=u("xaxes",x),L=u("yaxes",b),M=n._diag=new Array(y);n._xaxes={},n._yaxes={};var s=[],E=[];function w(j,Q,ee,re){if(j){var ue=j.charAt(0),J=f._splomAxes[ue];if(n["_"+ue+"axes"][j]=1,re.push(j),!(j in J)){var X=J[j]={};ee&&(X.label=ee.label||"",ee.visible&&ee.axis&&(ee.axis.type&&(X.type=ee.axis.type),ee.axis.matches&&(X.matches=Q)))}}}var _=!c&&!T,D=!c&&!h;for(n._axesDim={},o=0;o<y;o++){var N=l[o],z=o===0,F=o===y-1,U=z&&_||F&&D?void 0:m[o],B=z&&D||F&&_?void 0:L[o];w(U,B,N,s),w(B,U,N,E),M[o]=[U,B],n._axesDim[U]=o,n._axesDim[B]=o}for(o=0;o<s.length;o++)for(p=0;p<E.length;p++){var V=s[o]+E[p];(o>p&&h||o<p&&T||o===p&&(c||!T||!h))&&(f._splomSubplots[V]=1)}(!T||!c&&h&&T)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(G,H,e){var g=e(3400),R=e(90136),i=e(84236).markerStyle;G.exports=function(S,v){var d=v.trace,r=S._fullLayout._splomScenes[d.uid];if(r){R(S,d),g.extendFlat(r.matrixOptions,i(S,d));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,H){H.getDimIndex=function(g,R){for(var i=R._id,C=i.charAt(0),S={x:0,y:1}[C],v=g._visibleDims,d=0;d<v.length;d++){var r=v[d];if(g._diag[r][S]===i)return d}return!1}},72248:function(G,H,e){var g=e(50328),R=e(41272).calcHover,i=e(54460).getFromId,C=e(92880).extendFlat;function S(d,r,t,a,n){n||(n={});var f=(a||"").charAt(0)==="x",u=(a||"").charAt(0)==="y",l=v(d,r,t);if((f||u)&&n.hoversubplots==="axis"&&l[0])for(var y=(f?d.xa:d.ya)._subplotsWith,h=n.gd,T=C({},d),c=0;c<y.length;c++){var o=y[c];if(o!==d.xa._id+d.ya._id){u?T.xa=i(h,o,"x"):T.ya=i(h,o,"y");var p=f||u,x=v(T,r,t,p);l=l.concat(x)}}return l}function v(d,r,t,a){var n=d.cd,f=n[0].trace,u=d.scene,l=u.matrixOptions.cdata,y=d.xa,h=d.ya,T=y.c2p(r),c=h.c2p(t),o=d.distance,p=g.getDimIndex(f,y),x=g.getDimIndex(f,h);if(p===!1||x===!1)return[d];for(var b=l[p],P=l[x],m,L,M=o,s=0;s<b.length;s++)if(!(a&&s!==d.index)){var E=b[s],w=P[s],_=y.c2p(E)-T,D=h.c2p(w)-c,N=Math.sqrt(_*_+D*D);(a||N<M)&&(M=L=N,m=s)}return d.index=m,d.distance=M,d.dxy=L,m===void 0?[d]:[R(d,b,P,f)]}G.exports={hoverPoints:S}},97924:function(G,H,e){var g=e(28888);g.basePlotModule=e(99332),G.exports=g},54840:function(G,H,e){var g=e(55795),R=e(3400),i=e(79811),C=e(72760).selectMode;G.exports=function(d,r,t){if(t.length)for(var a=0;a<t.length;a++)S(d,t[a][0])};function S(v,d){var r=v._fullLayout,t=r._size,a=d.trace,n=d.t,f=r._splomScenes[a.uid],u=f.matrixOptions,l=u.cdata,y=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,o,p,x;if(l.length!==0){u.lower=a.showupperhalf,u.upper=a.showlowerhalf,u.diagonal=a.diagonal.visible;var b=a._visibleDims,P=l.length,m=f.viewOpts={};for(m.ranges=new Array(P),m.domains=new Array(P),x=0;x<b.length;x++){o=b[x];var L=m.ranges[x]=new Array(4),M=m.domains[x]=new Array(4);T=i.getFromId(v,a._diag[o][0]),T&&(L[0]=T._rl[0],L[2]=T._rl[1],M[0]=T.domain[0],M[2]=T.domain[1]),c=i.getFromId(v,a._diag[o][1]),c&&(L[1]=c._rl[0],L[3]=c._rl[1],M[1]=c.domain[0],M[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,E=t.l*s,w=t.b*s,_=t.w*s,D=t.h*s;m.viewport=[E,w,_+E,D+w],f.matrix===!0&&(f.matrix=g(y));var N=r.clickmode.indexOf("select")>-1,z=C(h)||!!a.selectedpoints||N,F=!0;if(z){var U=a._length;if(a.selectedpoints){f.selectBatch=a.selectedpoints;var B=a.selectedpoints,V={};for(o=0;o<B.length;o++)V[B[o]]=!0;var j=[];for(o=0;o<U;o++)V[o]||j.push(o);f.unselectBatch=j}var Q=n.xpx=new Array(P),ee=n.ypx=new Array(P);for(x=0;x<b.length;x++){if(o=b[x],T=i.getFromId(v,a._diag[o][0]),T)for(Q[x]=new Array(U),p=0;p<U;p++)Q[x][p]=T.c2p(l[x][p]);if(c=i.getFromId(v,a._diag[o][1]),c)for(ee[x]=new Array(U),p=0;p<U;p++)ee[x][p]=c.c2p(l[x][p])}if(f.selectBatch.length||f.unselectBatch.length){var re=R.extendFlat({},u,f.unselectedOptions,m),ue=R.extendFlat({},u,f.selectedOptions,m);f.matrix.update(re,ue),F=!1}}else n.xpx=n.ypx=null;if(F){var J=R.extendFlat({},u,m);f.matrix.update(J,null)}}}},72308:function(G,H,e){var g=e(3400);G.exports=function(i,C){var S=i._fullLayout,v=C.uid,d=S._splomScenes;d||(d=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},a=d[C.uid];return a||(a=d[v]=g.extendFlat({},r,t),a.draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||g.extendFlat(a,r),a}},62500:function(G,H,e){var g=e(3400),R=g.pushUnique,i=e(43028),C=e(50328);G.exports=function(v,d){var r=v.cd,t=r[0].trace,a=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,y=[];if(!n)return y;var h=!i.hasMarkers(t)&&!i.hasText(t);if(t.visible!==!0||h)return y;var T=C.getDimIndex(t,u),c=C.getDimIndex(t,l);if(T===!1||c===!1)return y;var o=a.xpx[T],p=a.ypx[c],x=f[T],b=f[c],P=(v.scene.selectBatch||[]).slice(),m=[];if(d!==!1&&!d.degenerate)for(var L=0;L<x.length;L++)d.contains([o[L],p[L]],null,L,v)?(y.push({pointNumber:L,x:x[L],y:b[L]}),R(P,L)):P.indexOf(L)!==-1?R(P,L):m.push(L);var M=n.matrixOptions;return!P.length&&!m.length?n.matrix.update(M,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},M,n.selectedOptions,n.viewOpts)),n.selectBatch=P,n.unselectBatch=m,y}},90167:function(G,H,e){var g=e(49084),R=e(29736).axisHoverFormat,i=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){d[t]=C[t]}),d.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,G.exports=d},3832:function(G,H,e){var g=e(3400),R=e(47128);function i(d,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var a=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),a=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,y=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],o=r._w[h],p=Math.sqrt(T*T+c*c+o*o);l=Math.max(l,p),y=Math.min(y,p)}for(R(d,r,{vals:[y,l],containerStr:"",cLetter:"c"}),h=0;h<a;h++){var x=n[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var b=f[h];t.yMax=Math.max(t.yMax,b),t.yMin=Math.min(t.yMin,b);var P=u[h];t.zMax=Math.max(t.zMax,P),t.zMin=Math.min(t.zMin,P)}r._slen=a,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(d){var r=d._x,t=d._y,a=d._z,n=d._len,f,u,l,y=-1/0,h=1/0,T=-1/0,c=1/0,o=-1/0,p=1/0,x="",b,P,m,L,M,s,E,w,_;for(n&&(L=r[0],s=t[0],w=a[0]),n>1&&(M=r[n-1],E=t[n-1],_=a[n-1]),f=0;f<n;f++)y=Math.max(y,r[f]),h=Math.min(h,r[f]),T=Math.max(T,t[f]),c=Math.min(c,t[f]),o=Math.max(o,a[f]),p=Math.min(p,a[f]),!b&&r[f]!==L&&(b=!0,x+="x"),!P&&t[f]!==s&&(P=!0,x+="y"),!m&&a[f]!==w&&(m=!0,x+="z");b||(x+="x"),P||(x+="y"),m||(x+="z");var D=S(d._x),N=S(d._y),z=S(d._z);x=x.replace("x",(L>M?"-":"+")+"x"),x=x.replace("y",(s>E?"-":"+")+"y"),x=x.replace("z",(w>_?"-":"+")+"z");var F=function(){n=0,D=[],N=[],z=[]};(!n||n<D.length*N.length*z.length)&&F();var U=function(he){return he==="x"?r:he==="y"?t:a},B=function(he){return he==="x"?D:he==="y"?N:z},V=function(he){return he[n-1]<he[0]?-1:1},j=U(x[1]),Q=U(x[3]),ee=U(x[5]),re=B(x[1]).length,ue=B(x[3]).length,J=B(x[5]).length,X=!1,ne=function(he,me,Me){return re*(ue*he+me)+Me},Y=V(U(x[1])),oe=V(U(x[3])),le=V(U(x[5]));for(f=0;f<J-1;f++){for(u=0;u<ue-1;u++){for(l=0;l<re-1;l++){var Z=ne(f,u,l),$=ne(f,u,l+1),se=ne(f,u+1,l),ae=ne(f+1,u,l);if((!(j[Z]*Y<j[$]*Y)||!(Q[Z]*oe<Q[se]*oe)||!(ee[Z]*le<ee[ae]*le))&&(X=!0),X)break}if(X)break}if(X)break}return X&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:h,yMin:c,zMin:p,xMax:y,yMax:T,zMax:o,Xs:D,Ys:N,Zs:z,len:n,fill:x}}function S(d){return g.distinctVals(d).vals}function v(d,r){if(r===void 0&&(r=d.length),g.isTypedArray(d))return d.subarray(0,r);for(var t=[],a=0;a<r;a++)t[a]=+d[a];return t}G.exports={calc:i,filter:v,processGrid:C}},25668:function(G,H,e){var g=e(67792).gl_streamtube3d,R=g.createTubeMesh,i=e(3400),C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),d={xaxis:0,yaxis:1,zaxis:2};function r(l,y){this.scene=l,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var y=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(p,x){var b=y[x],P=h[d[x]];return b.l2c(p)/P}if(l.object===this.mesh){var c=l.data.position,o=l.data.velocity;return l.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(o[0],"xaxis"),T(o[1],"yaxis"),T(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function a(l){var y=l.length,h;return y>2?h=l.slice(1,y-1):y===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var y=l.length;return y===1?[.5,.5]:[l[1]-l[0],l[y-1]-l[y-2]]}function f(l,y){var h=l.fullSceneLayout,T=l.dataScale,c=y._len,o={};function p(ue,J){var X=h[J],ne=T[d[J]];return i.simpleMap(ue,function(Y){return X.d2l(Y)*ne})}if(o.vectors=v(p(y._u,"xaxis"),p(y._v,"yaxis"),p(y._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=p(y._Xs,"xaxis"),b=p(y._Ys,"yaxis"),P=p(y._Zs,"zaxis");o.meshgrid=[x,b,P],o.gridFill=y._gridFill;var m=y._slen;if(m)o.startingPositions=v(p(y._startsX,"xaxis"),p(y._startsY,"yaxis"),p(y._startsZ,"zaxis"));else{for(var L=b[0],M=a(x),s=a(P),E=new Array(M.length*s.length),w=0,_=0;_<M.length;_++)for(var D=0;D<s.length;D++)E[w++]=[M[_],L,s[D]];o.startingPositions=E}o.colormap=C(y),o.tubeSize=y.sizeref,o.maxLength=y.maxdisplayed;var N=p(y._xbnds,"xaxis"),z=p(y._ybnds,"yaxis"),F=p(y._zbnds,"zaxis"),U=n(x),B=n(b),V=n(P),j=[[N[0]-U[0],z[0]-B[0],F[0]-V[0]],[N[1]+U[1],z[1]+B[1],F[1]+V[1]]],Q=g(o,j),ee=S(y);Q.vertexIntensityBounds=[ee.min/y._normMax,ee.max/y._normMax];var re=y.lightposition;return Q.lightPosition=[re.x,re.y,re.z],Q.ambient=y.lighting.ambient,Q.diffuse=y.lighting.diffuse,Q.specular=y.lighting.specular,Q.roughness=y.lighting.roughness,Q.fresnel=y.lighting.fresnel,Q.opacity=y.opacity,y._pad=Q.tubeScale*y.sizeref*2,Q}t.update=function(l){this.data=l;var y=f(this.scene,l);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,y){var h=l.glplot.gl,T=f(l,y),c=R(h,T),o=new r(l,y.uid);return o.mesh=c,o.data=y,c._trace=o,l.glplot.add(c),o}G.exports=u},54304:function(G,H,e){var g=e(3400),R=e(27260),i=e(90167);G.exports=function(S,v,d,r){function t(h,T){return g.coerce(S,v,i,h,T)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),y=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),R(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,H,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,R){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=R.traceCoordinate[3],g.tubev=R.traceCoordinate[4],g.tubew=R.traceCoordinate[5],g.norm=R.traceCoordinate[6],g.divergence=R.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(G,H,e){var g=e(45464),R=e(21776).Ks,i=e(21776).Gw,C=e(49084),S=e(86968).u,v=e(74996),d=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:R({},{keys:d.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,H,e){var g=e(7316);H.name="sunburst",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},3776:function(G,H,e){var g=e(74148),R=e(38248),i=e(3400),C=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,d=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},a={},n={};H.calc=function(u,l){var y=u._fullLayout,h=l.ids,T=i.isArrayOrTypedArray(h),c=l.labels,o=l.parents,p=l.values,x=i.isArrayOrTypedArray(p),b=[],P={},m={},L=function(Y,oe){P[Y]?P[Y].push(oe):P[Y]=[oe],m[oe]=1},M=function(Y){return Y||typeof Y=="number"},s=function(Y){return!x||R(p[Y])&&p[Y]>=0},E,w,_;T?(E=Math.min(h.length,o.length),w=function(Y){return M(h[Y])&&s(Y)},_=function(Y){return String(h[Y])}):(E=Math.min(c.length,o.length),w=function(Y){return M(c[Y])&&s(Y)},_=function(Y){return String(c[Y])}),x&&(E=Math.min(E,p.length));for(var D=0;D<E;D++)if(w(D)){var N=_(D),z=M(o[D])?String(o[D]):"",F={i:D,id:N,pid:z,label:M(c[D])?String(c[D]):""};x&&(F.v=+p[D]),b.push(F),L(z,N)}if(P[""]){if(P[""].length>1){for(var V=i.randstr(),j=0;j<b.length;j++)b[j].pid===""&&(b[j].pid=V);b.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var U=[],B;for(B in P)m[B]||U.push(B);if(U.length===1)B=U[0],b.unshift({hasImpliedRoot:!0,id:B,pid:"",label:B});else return i.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",U.join(", ")].join(" "))}var Q;try{Q=g.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(b)}catch(Y){return i.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var ee=g.hierarchy(Q),re=!1;if(x)switch(l.branchvalues){case"remainder":ee.sum(function(Y){return Y.data.v});break;case"total":ee.each(function(Y){var oe=Y.data.data,le=oe.v;if(Y.children){var Z=Y.children.reduce(function($,se){return $+se.data.data.v},0);if((oe.hasImpliedRoot||oe.hasMultipleRoots)&&(le=Z),le<Z*r)return re=!0,i.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,Z].join(" "))}Y.value=le});break}else f(ee,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!re){l.sort&&ee.sort(function(Y,oe){return oe.value-Y.value});var ue,J,X=l.marker.colors||[],ne=!!X.length;return l._hasColorscale?(ne||(X=x?l.values:l._values),d(u,l,{vals:X,containerStr:"marker",cLetter:"c"}),J=C(l.marker)):ue=S(y["_"+l.type+"colormap"]),ee.each(function(Y){var oe=Y.data.data;oe.color=l._hasColorscale?J(X[oe.i]):ue(X[oe.i],oe.id)}),b[0].hierarchy=ee,b}},H._runCrossTraceCalc=function(u,l){var y=l._fullLayout,h=l.calcdata,T=y[u+"colorway"],c=y["_"+u+"colormap"];y["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?a:t));var o=0,p;function x(L){var M=L.data.data,s=M.id;M.color===!1&&(c[s]?M.color=c[s]:L.parent?L.parent.parent?M.color=L.parent.data.data.color:(c[s]=M.color=T[o%T.length],o++):M.color=p)}for(var b=0;b<h.length;b++){var P=h[b],m=P[0];m.trace.type===u&&m.hierarchy&&(p=m.trace.root.color,m.hierarchy.each(x))}},H.crossTraceCalc=function(u){return H._runCrossTraceCalc("sunburst",u)};function f(u,l,y){var h=0,T=u.children;if(T){for(var c=T.length,o=0;o<c;o++)h+=f(T[o],l,y);y.branches&&h++}else y.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,H,e){var g=e(3400),R=e(424),i=e(86968).Q,C=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),d=v.hasColorscale,r=v.handleDefaults;G.exports=function(a,n,f,u){function l(x,b){return g.coerce(a,n,R,x,b)}var y=l("labels"),h=l("parents");if(!y||!y.length||!h||!h.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),S(a,n,u,l);var c=n._hasColorscale=d(a,"marker","colors")||(a.marker||{}).coloraxis;c&&r(a,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",g.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var p="auto";C(a,n,u,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),i(n,u,l),n._length=null}},60404:function(G,H,e){var g=e(43616),R=e(76308);G.exports=function(C,S,v,d,r){var t=S.data.data,a=t.i,n=r||t.color;if(a>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),g.pointStyle(C,v,d,S)}else R.fill(C,n)}},45716:function(G,H,e){var g=e(33428),R=e(24040),i=e(10624).appendArrayPointValue,C=e(93024),S=e(3400),v=e(95924),d=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(f,u,l,y,h){var T=y[0],c=T.trace,o=T.hierarchy,p=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var b=function(L){var M=l._fullLayout;if(!(l._dragging||M.hovermode===!1)){var s=l._fullData[c.index],E=L.data.data,w=E.i,_=d.isHierarchyRoot(L),D=d.getParent(o,L),N=d.getValue(L),z=function($){return S.castOption(s,w,$)},F=z("hovertemplate"),U=C.castHoverinfo(s,M,w),B=M.separators,V;if(F||U&&U!=="none"&&U!=="skip"){var j,Q;p&&(j=T.cx+L.pxmid[0]*(1-L.rInscribed),Q=T.cy+L.pxmid[1]*(1-L.rInscribed)),x&&(j=L._hoverX,Q=L._hoverY);var ee={},re=[],ue=[],J=function($){return re.indexOf($)!==-1};U&&(re=U==="all"?s._module.attributes.hoverinfo.flags:U.split("+")),ee.label=E.label,J("label")&&ee.label&&ue.push(ee.label),E.hasOwnProperty("v")&&(ee.value=E.v,ee.valueLabel=t(ee.value,B),J("value")&&ue.push(ee.valueLabel)),ee.currentPath=L.currentPath=d.getPath(L.data),J("current path")&&!_&&ue.push(ee.currentPath);var X,ne=[],Y=function(){ne.indexOf(X)===-1&&(ue.push(X),ne.push(X))};ee.percentParent=L.percentParent=N/d.getValue(D),ee.parent=L.parentString=d.getPtLabel(D),J("percent parent")&&(X=d.formatPercent(ee.percentParent,B)+" of "+ee.parent,Y()),ee.percentEntry=L.percentEntry=N/d.getValue(u),ee.entry=L.entry=d.getPtLabel(u),J("percent entry")&&!_&&!L.onPathbar&&(X=d.formatPercent(ee.percentEntry,B)+" of "+ee.entry,Y()),ee.percentRoot=L.percentRoot=N/d.getValue(o),ee.root=L.root=d.getPtLabel(o),J("percent root")&&!_&&(X=d.formatPercent(ee.percentRoot,B)+" of "+ee.root,Y()),ee.text=z("hovertext")||z("text"),J("text")&&(X=ee.text,S.isValidTextValue(X)&&ue.push(X)),V=[a(L,s,h.eventDataKeys)];var oe={trace:s,y:Q,_x0:L._x0,_x1:L._x1,_y0:L._y0,_y1:L._y1,text:ue.join("<br>"),name:F||J("name")?s.name:void 0,color:z("hoverlabel.bgcolor")||E.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),fontWeight:z("hoverlabel.font.weight"),fontStyle:z("hoverlabel.font.style"),fontVariant:z("hoverlabel.font.variant"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:ee,eventData:V};p&&(oe.x0=j-L.rInscribed*L.rpx1,oe.x1=j+L.rInscribed*L.rpx1,oe.idealAlign=L.pxmid[0]<0?"left":"right"),x&&(oe.x=j,oe.idealAlign=j<0?"left":"right");var le=[];C.loneHover(oe,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l,inOut_bbox:le}),V[0].bbox=le[0],c._hasHoverLabel=!0}if(x){var Z=f.select("path.surface");h.styleOne(Z,L,s,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:V||[a(L,s,h.eventDataKeys)],event:g.event})}},P=function(L){var M=l._fullLayout,s=l._fullData[c.index],E=g.select(this).datum();if(c._hasHoverEvent&&(L.originalEvent=g.event,l.emit("plotly_unhover",{points:[a(E,s,h.eventDataKeys)],event:g.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(C.loneUnhover(M._hoverlayer.node()),c._hasHoverLabel=!1),x){var w=f.select("path.surface");h.styleOne(w,E,s,l,{hovered:!1})}},m=function(L){var M=l._fullLayout,s=l._fullData[c.index],E=p&&(d.isHierarchyRoot(L)||d.isLeaf(L)),w=d.getPtId(L),_=d.isEntry(L)?d.findEntryWithChild(o,w):d.findEntryWithLevel(o,w),D=d.getPtId(_),N={points:[a(L,s,h.eventDataKeys)],event:g.event};E||(N.nextLevel=D);var z=v.triggerHandler(l,"plotly_"+c.type+"click",N);if(z!==!1&&M.hovermode&&(l._hoverdata=[a(L,s,h.eventDataKeys)],C.click(l,g.event)),!E&&z!==!1&&!l._dragging&&!l._transitioning){R.call("_storeDirectGUIEdit",s,M._tracePreGUI[s.uid],{level:s.level});var F={data:[{level:D}],traces:[c.index]},U={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(M._hoverlayer.node()),R.call("animate",l,F,U)}};f.on("mouseover",b),f.on("mouseout",P),f.on("click",m)};function a(n,f,u){for(var l=n.data.data,y={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var T=u[h];T in n&&(y[T]=n[T])}return"parentString"in n&&!d.isHierarchyRoot(n)&&(y.parent=n.parentString),i(y,f,l.i),y}},78176:function(G,H,e){var g=e(3400),R=e(76308),i=e(93972),C=e(69656);H.findEntryWithLevel=function(r,t){var a;return t&&r.eachAfter(function(n){if(H.getPtId(n)===t)return a=n.copy()}),a||r},H.findEntryWithChild=function(r,t){var a;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(H.getPtId(l)===t)return a=n.copy()}}),a||r},H.isEntry=function(r){return!r.parent},H.isLeaf=function(r){return!r.children},H.getPtId=function(r){return r.data.data.id},H.getPtLabel=function(r){return r.data.data.label},H.getValue=function(r){return r.value},H.isHierarchyRoot=function(r){return d(r)===""},H.setSliceCursor=function(r,t,a){var n=a.isTransitioning;if(!n){var f=r.datum();n=a.hideOnRoot&&H.isHierarchyRoot(f)||a.hideOnLeaves&&H.isLeaf(f)}i(r,n?null:"pointer")};function S(r,t,a){return{color:H.getOutsideTextFontKey("color",r,t,a),family:H.getOutsideTextFontKey("family",r,t,a),size:H.getOutsideTextFontKey("size",r,t,a),weight:H.getOutsideTextFontKey("weight",r,t,a),style:H.getOutsideTextFontKey("style",r,t,a),variant:H.getOutsideTextFontKey("variant",r,t,a)}}function v(r,t,a,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,y=g.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=g.castOption(r._input,l,"textfont.color")),{color:y||R.contrast(u.color),family:H.getInsideTextFontKey("family",r,t,a,n),size:H.getInsideTextFontKey("size",r,t,a,n),weight:H.getInsideTextFontKey("weight",r,t,a,n),style:H.getInsideTextFontKey("style",r,t,a,n),variant:H.getInsideTextFontKey("variant",r,t,a,n)}}H.getInsideTextFontKey=function(r,t,a,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",y=a.data.data.i;return g.castOption(t,y,l+"."+r)||g.castOption(t,y,"textfont."+r)||n.size},H.getOutsideTextFontKey=function(r,t,a,n){var f=a.data.data.i;return g.castOption(t,f,"outsidetextfont."+r)||g.castOption(t,f,"textfont."+r)||n.size},H.isOutsideText=function(r,t){return!r._hasColorscale&&H.isHierarchyRoot(t)},H.determineTextFont=function(r,t,a,n){return H.isOutsideText(r,t)?S(r,t,a):v(r,t,a,n)},H.hasTransition=function(r){return!!(r&&r.duration>0)},H.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},H.isHeader=function(r,t){return!(H.isLeaf(r)||r.depth===t._maxDepth-1)};function d(r){return r.data.data.pid}H.getParent=function(r,t){return H.findEntryWithLevel(r,d(t))},H.listPath=function(r,t){var a=r.parent;if(!a)return[];var n=t?[a.data[t]]:[a];return H.listPath(a,t).concat(n)},H.getPath=function(r){return H.listPath(r,"label").join("/")+"/"},H.formatValue=C.formatPieValue,H.formatPercent=function(r,t){var a=g.formatPercent(r,0);return a==="0%"&&(a=C.formatPiePercent(r,t)),a}},5621:function(G,H,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,H,e){var g=e(3400),R=e(84920);G.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(G,H,e){var g=e(33428),R=e(74148),i=e(67756).qy,C=e(43616),S=e(3400),v=e(72736),d=e(82744),r=d.recordMinTextSize,t=d.clearMinTextSize,a=e(37820),n=e(69656).getRotationAngle,f=a.computeTransform,u=a.transformInsideText,l=e(85676).styleOne,y=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);H.plot=function(m,L,M,s){var E=m._fullLayout,w=E._sunburstlayer,_,D,N=!M,z=!E.uniformtext.mode&&c.hasTransition(M);if(t("sunburst",E),_=w.selectAll("g.trace.sunburst").data(L,function(U){return U[0].trace.uid}),_.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),_.order(),z){s&&(D=s());var F=g.transition().duration(M.duration).ease(M.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()});F.each(function(){w.selectAll("g.trace").each(function(U){o(m,U,this,M)})})}else _.each(function(U){o(m,U,this,M)}),E.uniformtext.mode&&y(m,E._sunburstlayer.selectAll(".trace"),"sunburst");N&&_.exit().remove()};function o(m,L,M,s){var E=m._context.staticPlot,w=m._fullLayout,_=!w.uniformtext.mode&&c.hasTransition(s),D=g.select(M),N=D.selectAll("g.slice"),z=L[0],F=z.trace,U=z.hierarchy,B=c.findEntryWithLevel(U,F.level),V=c.getMaxDepth(F),j=w._size,Q=F.domain,ee=j.w*(Q.x[1]-Q.x[0]),re=j.h*(Q.y[1]-Q.y[0]),ue=.5*Math.min(ee,re),J=z.cx=j.l+j.w*(Q.x[1]+Q.x[0])/2,X=z.cy=j.t+j.h*(1-Q.y[0])-re/2;if(!B)return N.remove();var ne=null,Y={};_&&N.each(function(He){Y[c.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!ne&&c.isEntry(He)&&(ne=He)});var oe=p(B).descendants(),le=B.height+1,Z=0,$=V;z.hasMultipleRoots&&c.isHierarchyRoot(B)&&(oe=oe.slice(1),le-=1,Z=1,$+=1),oe=oe.filter(function(He){return He.y1<=$});var se=n(F.rotation);se&&oe.forEach(function(He){He.x0+=se,He.x1+=se});var ae=Math.min(le,V),he=function(He){return(He-Z)/ae*ue},me=function(He,at){return[He*Math.cos(at),-He*Math.sin(at)]},Me=function(He){return S.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,J,X)},Te=function(He){return J+b(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},Pe=function(He){return X+b(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};N=N.data(oe,c.getPtId),N.enter().append("g").classed("slice",!0),_?N.exit().transition().each(function(){var He=g.select(this),at=He.select("path.surface");at.transition().attrTween("d",function(ot){var et=Ce(ot);return function(ct){return Me(et(ct))}});var vt=He.select("g.slicetext");vt.attr("opacity",0)}).remove():N.exit().remove(),N.order();var be=null;if(_&&ne){var Ee=c.getPtId(ne);N.each(function(He){be===null&&c.getPtId(He)===Ee&&(be=He.x1)})}var xe=N;_&&(xe=xe.transition().each("end",function(){var He=g.select(this);c.setSliceCursor(He,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(He){var at=g.select(this),vt=S.ensureSingle(at,"path","surface",function(xt){xt.style("pointer-events",E?"none":"all")});He.rpx0=he(He.y0),He.rpx1=he(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=me(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(S.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=x(He),_?vt.transition().attrTween("d",function(xt){var Mt=Ue(xt);return function(tt){return Me(Mt(tt))}}):vt.attr("d",Me),at.call(h,B,m,L,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),vt.call(l,He,F,m);var ot=S.ensureSingle(at,"g","slicetext"),et=S.ensureSingle(ot,"text","",function(xt){xt.attr("data-notex",1)}),ct=S.ensureUniformFontSize(m,c.determineTextFont(F,He,w.font));et.text(H.formatSliceLabel(He,B,F,L,w)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ct).call(v.convertToTspans,m);var ht=C.bBox(et.node());He.transform=u(ht,He,z),He.transform.targetX=Te(He),He.transform.targetY=Pe(He);var gt=function(xt,Mt){var tt=xt.transform;return f(tt,Mt),tt.fontSize=ct.size,r(F.type,tt,w),S.getTextTransform(tt)};_?et.transition().attrTween("transform",function(xt){var Mt=Ne(xt);return function(tt){return gt(Mt(tt),ht)}}):et.attr("transform",gt(He,ht))});function Ce(He){var at=c.getPtId(He),vt=Y[at],ot=Y[c.getPtId(B)],et;if(ot){var ct=(He.x1>ot.x1?2*Math.PI:0)+se;et=He.rpx1<ot.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:He.rpx0,rpx1:He.rpx1}}else{var ht,gt=c.getPtId(He.parent);N.each(function(Xe){if(c.getPtId(Xe)===gt)return ht=Xe});var xt=ht.children,Mt;xt.forEach(function(Xe,Ze){if(c.getPtId(Xe)===at)return Mt=Ze});var tt=xt.length,Oe=i(ht.x0,ht.x1);et={rpx0:ue,rpx1:ue,x0:Oe(Mt/tt),x1:Oe((Mt+1)/tt)}}return i(vt,et)}function Ue(He){var at=Y[c.getPtId(He)],vt,ot={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(at)vt=at;else if(ne)if(He.parent)if(be){var et=(He.x1>be?2*Math.PI:0)+se;vt={x0:et,x1:et}}else vt={rpx0:ue,rpx1:ue},S.extendFlat(vt,De(He));else vt={rpx0:0,rpx1:0};else vt={x0:se,x1:se};return i(vt,ot)}function Ne(He){var at=Y[c.getPtId(He)],vt,ot=He.transform;if(at)vt=at;else if(vt={rpx1:He.rpx1,transform:{textPosAngle:ot.textPosAngle,scale:0,rotate:ot.rotate,rCenter:ot.rCenter,x:ot.x,y:ot.y}},ne)if(He.parent)if(be){var et=He.x1>be?2*Math.PI:0;vt.x0=vt.x1=et}else S.extendFlat(vt,De(He));else vt.x0=vt.x1=se;else vt.x0=vt.x1=se;var ct=i(vt.transform.textPosAngle,He.transform.textPosAngle),ht=i(vt.rpx1,He.rpx1),gt=i(vt.x0,He.x0),xt=i(vt.x1,He.x1),Mt=i(vt.transform.scale,ot.scale),tt=i(vt.transform.rotate,ot.rotate),Oe=ot.rCenter===0?3:vt.transform.rCenter===0?1/3:1,Xe=i(vt.transform.rCenter,ot.rCenter),Ze=function(We){return Xe(Math.pow(We,Oe))};return function(We){var ze=ht(We),ke=gt(We),je=xt(We),Ie=Ze(We),pe=me(ze,(ke+je)/2),we=ct(We),Ve={pxmid:pe,rpx1:ze,transform:{textPosAngle:we,rCenter:Ie,x:ot.x,y:ot.y}};return r(F.type,ot,w),{transform:{targetX:Te(Ve),targetY:Pe(Ve),scale:Mt(We),rotate:tt(We),rCenter:Ie}}}}function De(He){var at=He.parent,vt=Y[c.getPtId(at)],ot={};if(vt){var et=at.children,ct=et.indexOf(He),ht=et.length,gt=i(vt.x0,vt.x1);ot.x0=gt(ct/ht),ot.x1=gt(ct/ht)}else ot.x0=ot.x1=0;return ot}}function p(m){return R.partition().size([2*Math.PI,m.height+1])(m)}H.formatSliceLabel=function(m,L,M,s,E){var w=M.texttemplate,_=M.textinfo;if(!w&&(!_||_==="none"))return"";var D=E.separators,N=s[0],z=m.data.data,F=N.hierarchy,U=c.isHierarchyRoot(m),B=c.getParent(F,m),V=c.getValue(m);if(!w){var j=_.split("+"),Q=function(Z){return j.indexOf(Z)!==-1},ee=[],re;if(Q("label")&&z.label&&ee.push(z.label),z.hasOwnProperty("v")&&Q("value")&&ee.push(c.formatValue(z.v,D)),!U){Q("current path")&&ee.push(c.getPath(m.data));var ue=0;Q("percent parent")&&ue++,Q("percent entry")&&ue++,Q("percent root")&&ue++;var J=ue>1;if(ue){var X,ne=function(Z){re=c.formatPercent(X,D),J&&(re+=" of "+Z),ee.push(re)};Q("percent parent")&&!U&&(X=V/c.getValue(B),ne("parent")),Q("percent entry")&&(X=V/c.getValue(L),ne("entry")),Q("percent root")&&(X=V/c.getValue(F),ne("root"))}}return Q("text")&&(re=S.castOption(M,z.i,"text"),S.isValidTextValue(re)&&ee.push(re)),ee.join("<br>")}var Y=S.castOption(M,z.i,"texttemplate");if(!Y)return"";var oe={};z.label&&(oe.label=z.label),z.hasOwnProperty("v")&&(oe.value=z.v,oe.valueLabel=c.formatValue(z.v,D)),oe.currentPath=c.getPath(m.data),U||(oe.percentParent=V/c.getValue(B),oe.percentParentLabel=c.formatPercent(oe.percentParent,D),oe.parent=c.getPtLabel(B)),oe.percentEntry=V/c.getValue(L),oe.percentEntryLabel=c.formatPercent(oe.percentEntry,D),oe.entry=c.getPtLabel(L),oe.percentRoot=V/c.getValue(F),oe.percentRootLabel=c.formatPercent(oe.percentRoot,D),oe.root=c.getPtLabel(F),z.hasOwnProperty("color")&&(oe.color=z.color);var le=S.castOption(M,z.i,"text");return(S.isValidTextValue(le)||le==="")&&(oe.text=le),oe.customdata=S.castOption(M,z.i,"customdata"),S.texttemplateString(Y,oe,E._d3locale,oe,M._meta||{})};function x(m){return m.rpx0===0&&S.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function b(m){return P(m.rpx1,m.transform.textPosAngle)}function P(m,L){return[m*Math.sin(L),-m*Math.cos(L)]}},85676:function(G,H,e){var g=e(33428),R=e(76308),i=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(a){var n=g.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,u,r)})})}function d(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,y=i.castOption(a,l,"marker.line.color")||R.defaultLine,h=i.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(R.stroke,y).style("opacity",u?a.leaf.opacity:null)}G.exports={style:v,styleOne:d}},16716:function(G,H,e){var g=e(76308),R=e(49084),i=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,d=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=G.exports=d(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},R("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},R.zauto,{}),zmin:v({},R.zmin,{}),zmax:v({},R.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(G,H,e){var g=e(47128);G.exports=function(i,C){C.surfacecolor?g(i,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):g(i,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(G,H,e){var g=e(67792).gl_surface3d,R=e(67792).ndarray,i=e(67792).ndarray_linear_interpolate.d2,C=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,d=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function a(s,E,w){this.scene=s,this.uid=w,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=a.prototype;n.getXat=function(s,E,w,_){var D=v(this.data.x)?v(this.data.x[0])?this.data.x[E][s]:this.data.x[s]:s;return w===void 0?D:_.d2l(D,0,w)},n.getYat=function(s,E,w,_){var D=v(this.data.y)?v(this.data.y[0])?this.data.y[E][s]:this.data.y[E]:E;return w===void 0?D:_.d2l(D,0,w)},n.getZat=function(s,E,w,_){var D=this.data.z[E][s];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[E][s]),w===void 0?D:_.d2l(D,0,w)},n.handlePick=function(s){if(s.object===this.surface){var E=(s.data.index[0]-1)/this.dataScaleX-1,w=(s.data.index[1]-1)/this.dataScaleY-1,_=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);s.index=[_,D],s.traceCoordinate=[this.getXat(_,D),this.getYat(_,D),this.getZat(_,D)],s.dataCoordinate=[this.getXat(_,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(_,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(_,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var z=s.dataCoordinate[N];z!=null&&(s.dataCoordinate[N]*=this.scene.dataScale[N])}var F=this.data.hovertext||this.data.text;return v(F)&&F[D]&&F[D][_]!==void 0?s.textLabel=F[D][_]:F?s.textLabel=F:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function f(s){var E=s[0].rgb,w=s[s.length-1].rgb;return E[0]===w[0]&&E[1]===w[1]&&E[2]===w[2]&&E[3]===w[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,E){if(s<E)return 0;for(var w=0;Math.floor(s%E)===0;)s/=E,w++;return w}function y(s){for(var E=[],w=0;w<u.length;w++){var _=u[w];E.push(l(s,_))}return E}function h(s){for(var E=y(s),w=s,_=0;_<u.length;_++)if(E[_]>0){w=u[_];break}return w}function T(s,E){if(!(s<1||E<1)){for(var w=y(s),_=y(E),D=1,N=0;N<u.length;N++)D*=Math.pow(u[N],Math.max(w[N],_[N]));return D}}function c(s){if(s.length!==0){for(var E=1,w=0;w<s.length;w++)E=T(E,s[w]);return E}}n.calcXnums=function(s){var E,w=[];for(E=1;E<s;E++){var _=this.getXat(E-1,0),D=this.getXat(E,0);D!==_&&_!==void 0&&_!==null&&D!==void 0&&D!==null?w[E-1]=Math.abs(D-_):w[E-1]=0}var N=0;for(E=1;E<s;E++)N+=w[E-1];for(E=1;E<s;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(N/w[E-1]);return w},n.calcYnums=function(s){var E,w=[];for(E=1;E<s;E++){var _=this.getYat(0,E-1),D=this.getYat(0,E);D!==_&&_!==void 0&&_!==null&&D!==void 0&&D!==null?w[E-1]=Math.abs(D-_):w[E-1]=0}var N=0;for(E=1;E<s;E++)N+=w[E-1];for(E=1;E<s;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(N/w[E-1]);return w};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=o[9],x=o[13];n.estimateScale=function(s,E){for(var w=E===0?this.calcXnums(s):this.calcYnums(s),_=1+c(w);_<p;)_*=2;for(;_>x;)_--,_/=h(_),_++,_<p&&(_=x);var D=Math.round(_/s);return D>1?D:1};function b(s,E,w){var _=w[8]+w[2]*E[0]+w[5]*E[1];return s[0]=(w[6]+w[0]*E[0]+w[3]*E[1])/_,s[1]=(w[7]+w[1]*E[0]+w[4]*E[1])/_,s}function P(s,E,w){return m(s,E,b,w),s}function m(s,E,w,_){for(var D=[0,0],N=s.shape[0],z=s.shape[1],F=0;F<N;F++)for(var U=0;U<z;U++)w(D,[F,U],_),s.set(F,U,i(E,D[0],D[1]));return s}n.refineCoords=function(s){for(var E=this.dataScaleX,w=this.dataScaleY,_=s[0].shape[0],D=s[0].shape[1],N=Math.floor(s[0].shape[0]*E+1)|0,z=Math.floor(s[0].shape[1]*w+1)|0,F=1+_+1,U=1+D+1,B=R(new Float32Array(F*U),[F,U]),V=[1/E,0,0,0,1/w,0,0,0,1],j=0;j<s.length;++j){this.surface.padField(B,s[j]);var Q=R(new Float32Array(N*z),[N,z]);P(Q,B,V),s[j]=Q}};function L(s,E){for(var w=!1,_=0;_<s.length;_++)if(E===s[_]){w=!0;break}w===!1&&s.push(E)}n.setContourLevels=function(){var s=[[],[],[]],E=[!1,!1,!1],w=!1,_,D,N;for(_=0;_<3;++_)if(this.showContour[_]&&(w=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,D=this.contourStart[_];D<this.contourEnd[_];D+=this.contourSize[_])N=D*this.scene.dataScale[_],L(s[_],N);if(w){var z=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(z[_]=E[_]?s[_]:this.scene.contourLevels[_]);this.surface.update({levels:z})}},n.update=function(s){var E=this.scene,w=E.fullSceneLayout,_=this.surface,D=d(s),N=E.dataScale,z=s.z[0].length,F=s._ylength,U=E.contourLevels;this.data=s;var B,V,j,Q,ee=[];for(B=0;B<3;B++)for(ee[B]=[],V=0;V<z;V++)ee[B][V]=[];for(V=0;V<z;V++)for(j=0;j<F;j++)ee[0][V][j]=this.getXat(V,j,s.xcalendar,w.xaxis),ee[1][V][j]=this.getYat(V,j,s.ycalendar,w.yaxis),ee[2][V][j]=this.getZat(V,j,s.zcalendar,w.zaxis);if(s.connectgaps)for(s._emptypoints=S(ee[2]),C(ee[2],s._emptypoints),s._interpolatedZ=[],V=0;V<z;V++)for(s._interpolatedZ[V]=[],j=0;j<F;j++)s._interpolatedZ[V][j]=ee[2][V][j];for(B=0;B<3;B++)for(V=0;V<z;V++)for(j=0;j<F;j++)Q=ee[B][V][j],Q==null?ee[B][V][j]=NaN:Q=ee[B][V][j]*=N[B];for(B=0;B<3;B++)for(V=0;V<z;V++)for(j=0;j<F;j++)Q=ee[B][V][j],Q!=null&&(this.minValues[B]>Q&&(this.minValues[B]=Q),this.maxValues[B]<Q&&(this.maxValues[B]=Q));for(B=0;B<3;B++)this.objectOffset[B]=.5*(this.minValues[B]+this.maxValues[B]);for(B=0;B<3;B++)for(V=0;V<z;V++)for(j=0;j<F;j++)Q=ee[B][V][j],Q!=null&&(ee[B][V][j]-=this.objectOffset[B]);var re=[R(new Float32Array(z*F),[z,F]),R(new Float32Array(z*F),[z,F]),R(new Float32Array(z*F),[z,F])];for(B=0;B<3;B++)for(V=0;V<z;V++)for(j=0;j<F;j++)re[B].set(V,j,ee[B][V][j]);ee=[];var ue={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},J=t(s);if(ue.intensityBounds=[J.min,J.max],s.surfacecolor){var X=R(new Float32Array(z*F),[z,F]);for(V=0;V<z;V++)for(j=0;j<F;j++)X.set(V,j,s.surfacecolor[j][V]);re.push(X)}else ue.intensityBounds[0]*=N[2],ue.intensityBounds[1]*=N[2];(x<re[0].shape[0]||x<re[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(re[0].shape[0],0),this.dataScaleY=this.estimateScale(re[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(re)),s.surfacecolor&&(ue.intensity=re.pop());var ne=[!0,!0,!0],Y=["x","y","z"];for(B=0;B<3;++B){var oe=s.contours[Y[B]];ne[B]=oe.highlight,ue.showContour[B]=oe.show||oe.highlight,ue.showContour[B]&&(ue.contourProject[B]=[oe.project.x,oe.project.y,oe.project.z],oe.show?(this.showContour[B]=!0,ue.levels[B]=U[B],_.highlightColor[B]=ue.contourColor[B]=r(oe.color),oe.usecolormap?_.highlightTint[B]=ue.contourTint[B]=0:_.highlightTint[B]=ue.contourTint[B]=1,ue.contourWidth[B]=oe.width,this.contourStart[B]=oe.start,this.contourEnd[B]=oe.end,this.contourSize[B]=oe.size):(this.showContour[B]=!1,this.contourStart[B]=null,this.contourEnd[B]=null,this.contourSize[B]=0),oe.highlight&&(ue.dynamicColor[B]=r(oe.highlightcolor),ue.dynamicWidth[B]=oe.highlightwidth))}f(D)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=re,_.update(ue),_.visible=s.visible,_.enableDynamic=ne,_.enableHighlight=ne,_.snapToData=!0,"lighting"in s&&(_.ambientLight=s.lighting.ambient,_.diffuseLight=s.lighting.diffuse,_.specularLight=s.lighting.specular,_.roughness=s.lighting.roughness,_.fresnel=s.lighting.fresnel),"lightposition"in s&&(_.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function M(s,E){var w=s.glplot.gl,_=g({gl:w}),D=new a(s,_,E.uid);return _._trace=D,D.update(E),s.glplot.add(_),D}G.exports=M},60192:function(G,H,e){var g=e(24040),R=e(3400),i=e(27260),C=e(16716),S=.1;function v(n,f){for(var u=[],l=32,y=0;y<l;y++){var h=y/(l-1),T=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,T))])}return u}function d(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var y,h;function T(s,E){return R.coerce(n,f,C,s,E)}var c=T("x"),o=T("y"),p=T("z");if(!p||!p.length||c&&c.length<1||o&&o.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&R.isArrayOrTypedArray(c[0])?p.length:p[0].length,f._ylength=p.length;var x=g.getComponentMethod("calendars","handleTraceDefaults");x(n,f,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var b=T("surfacecolor"),P=["x","y","z"];for(y=0;y<3;++y){var m="contours."+P[y],L=T(m+".show"),M=T(m+".highlight");if(L||M)for(h=0;h<3;++h)T(m+".project."+P[h]);L&&(T(m+".color"),T(m+".width"),T(m+".usecolormap")),M&&(T(m+".highlightcolor"),T(m+".highlightwidth")),T(m+".start"),T(m+".end"),T(m+".size")}b||(a(n,"zmin","cmin"),a(n,"zmax","cmax"),a(n,"zauto","cauto")),i(n,f,l,T,{prefix:"",cLetter:"c"}),t(n,f,l,T),f._length=null}function t(n,f,u,l){var y=l("opacityscale");y==="max"?f.opacityscale=[[0,S],[1,1]]:y==="min"?f.opacityscale=[[0,1],[1,S]]:y==="extremes"?f.opacityscale=v(1,S):d(y)||(f.opacityscale=void 0)}function a(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,H,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,H,e){var g=e(13916),R=e(92880).extendFlat,i=e(67824).overrideAll,C=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,d=G.exports=i({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))}},"calc","from-root");d.transforms=void 0},85852:function(G,H,e){var g=e(84888)._M,R=e(24752),i="table";H.name=i,H.plot=function(C){var S=g(C.calcdata,i)[0];S.length&&R(C,S)},H.clean=function(C,S,v,d){var r=d._has&&d._has(i),t=S._has&&S._has(i);r&&!t&&d._paperdiv.selectAll(".table").remove()}},39312:function(G,H,e){var g=e(71688).wrap;G.exports=function(){return g({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,H,e){var g=e(23536),R=e(92880).extendFlat,i=e(38248),C=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;G.exports=function(y,h){var T=r(h.cells.values),c=function(Q){return Q.slice(h.header.values.length,Q.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var p=o.concat(c(T).map(function(){return t((o[0]||[""]).length)})),x=h.domain,b=Math.floor(y._fullLayout._size.w*(x.x[1]-x.x[0])),P=Math.floor(y._fullLayout._size.h*(x.y[1]-x.y[0])),m=h.header.values.length?p[0].map(function(){return h.header.height}):[g.emptyHeaderHeight],L=T.length?T[0].map(function(){return h.cells.height}):[],M=m.reduce(d,0),s=P-M,E=s+g.uplift,w=f(L,E),_=f(m,M),D=n(_,[]),N=n(w,D),z={},F=h._fullInput.columnorder;S(F)&&(F=Array.from(F)),F=F.concat(c(T.map(function(Q,ee){return ee})));var U=p.map(function(Q,ee){var re=S(h.columnwidth)?h.columnwidth[Math.min(ee,h.columnwidth.length-1)]:h.columnwidth;return i(re)?Number(re):1}),B=U.reduce(d,0);U=U.map(function(Q){return Q/B*b});var V=Math.max(v(h.header.line.width),v(h.cells.line.width)),j={key:h.uid+y._context.staticPlot,translateX:x.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-x.y[1]),size:y._fullLayout._size,width:b,maxLineWidth:V,height:P,columnOrder:F,groupHeight:P,rowBlocks:N,headerRowBlocks:D,scrollY:0,cells:R({},h.cells,{values:T}),headerCells:R({},h.header,{values:p}),gdColumns:p.map(function(Q){return Q[0]}),gdColumnsOriginalOrder:p.map(function(Q){return Q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(Q,ee){var re=z[Q];z[Q]=(re||0)+1;var ue=Q+"__"+z[Q];return{key:ue,label:Q,specIndex:ee,xIndex:F[ee],xScale:a,x:void 0,calcdata:void 0,columnWidth:U[ee]}})};return j.columns.forEach(function(Q){Q.calcdata=j,Q.x=a(Q)}),j};function v(l){if(S(l)){for(var y=0,h=0;h<l.length;h++)y=Math.max(y,v(l[h]));return y}return l}function d(l,y){return l+y}function r(l){var y=l.slice(),h=1/0,T=0,c;for(c=0;c<y.length;c++)C(y[c])?y[c]=Array.from(y[c]):S(y[c])||(y[c]=[y[c]]),h=Math.min(h,y[c].length),T=Math.max(T,y[c].length);if(h!==T)for(c=0;c<y.length;c++){var o=T-y[c].length;o&&(y[c]=y[c].concat(t(o)))}return y}function t(l){for(var y=new Array(l),h=0;h<l;h++)y[h]="";return y}function a(l){return l.calcdata.columns.reduce(function(y,h){return h.xIndex<l.xIndex?y+h.columnWidth:y},0)}function n(l,y){var h=Object.keys(l);return h.map(function(T){return R({},l[T],{auxiliaryBlocks:y})})}function f(l,y){for(var h={},T,c=0,o=0,p=u(),x=0,b=0,P=0;P<l.length;P++)T=l[P],p.rows.push({rowIndex:P,rowHeight:T}),o+=T,(o>=y||P===l.length-1)&&(h[c]=p,p.key=b++,p.firstRowIndex=x,p.lastRowIndex=P,p=u(),c+=o,x=P+1,o=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,H,e){var g=e(92880).extendFlat;H.splitToPanels=function(i){var C=[0,0],S=g({},i,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:g({},i.calcdata,{cells:i.calcdata.headerCells})}),v=g({},i,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),d=g({},i,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,d,S]},H.splitToCells=function(i){var C=R(i);return(i.values||[]).slice(C[0],C[1]).map(function(S,v){var d=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+d,key:C[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:S}})};function R(i){var C=i.rowBlocks[i.page],S=C?C.rows[0].rowIndex:0,v=C?S+C.rows.length:0;return[S,v]}},53212:function(G,H,e){var g=e(3400),R=e(60520),i=e(86968).Q;function C(S,v){for(var d=S.columnorder||[],r=S.header.values.length,t=d.slice(0,r),a=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return a.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}G.exports=function(v,d,r,t){function a(n,f){return g.coerce(v,d,R,n,f)}i(d,t,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),g.coerceFont(a,"header.font",g.extendFlat({},t.font)),C(d,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),g.coerceFont(a,"cells.font",g.extendFlat({},t.font)),d._length=null}},41724:function(G,H,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,H,e){var g=e(23536),R=e(33428),i=e(3400),C=i.numberFormat,S=e(71688),v=e(43616),d=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,a=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);G.exports=function(se,ae){var he=!se._context.staticPlot,me=se._fullLayout._paper.selectAll("."+g.cn.table).data(ae.map(function(ot){var et=S.unwrap(ot),ct=et.trace;return n(se,ct)}),S.keyFun);me.exit().remove(),me.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(ot){return ot.width+ot.size.l+ot.size.r}).attr("height",function(ot){return ot.height+ot.size.t+ot.size.b}).attr("transform",function(ot){return t(ot.translateX,ot.translateY)});var Me=me.selectAll("."+g.cn.tableControlView).data(S.repeat,S.keyFun),Te=Me.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Pe="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function(ot){Me.filter(function(et){return ot===et}).call(c,se)}).on(Pe,function(ot){if(!ot.scrollbarState.wheeling){ot.scrollbarState.wheeling=!0;var et=ot.scrollY+R.event.deltaY,ct=Q(se,Me,null,et)(ot);ct||(R.event.stopPropagation(),R.event.preventDefault()),ot.scrollbarState.wheeling=!1}}).call(c,se,!0)}Me.attr("transform",function(ot){return t(ot.size.l,ot.size.t)});var be=Me.selectAll("."+g.cn.scrollBackground).data(S.repeat,S.keyFun);be.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),be.attr("width",function(ot){return ot.width}).attr("height",function(ot){return ot.height}),Me.each(function(ot){v.setClipUrl(R.select(this),y(se,ot),se)});var Ee=Me.selectAll("."+g.cn.yColumn).data(function(ot){return ot.columns},S.keyFun);Ee.enter().append("g").classed(g.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(ot){return t(ot.x,0)}),he&&Ee.call(R.behavior.drag().origin(function(ot){var et=R.select(this);return z(et,ot,-g.uplift),r(this),ot.calcdata.columnDragInProgress=!0,c(Me.filter(function(ct){return ot.calcdata.key===ct.key}),se),ot}).on("drag",function(ot){var et=R.select(this),ct=function(xt){return(ot===xt?R.event.x:xt.x)+xt.columnWidth/2};ot.x=Math.max(-g.overdrag,Math.min(ot.calcdata.width+g.overdrag-ot.columnWidth,R.event.x));var ht=T(Ee).filter(function(xt){return xt.calcdata.key===ot.calcdata.key}),gt=ht.sort(function(xt,Mt){return ct(xt)-ct(Mt)});gt.forEach(function(xt,Mt){xt.xIndex=Mt,xt.x=ot===xt?xt.x:xt.xScale(xt)}),Ee.filter(function(xt){return ot!==xt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(xt){return t(xt.x,0)}),et.call(a).attr("transform",t(ot.x,-g.uplift))}).on("dragend",function(ot){var et=R.select(this),ct=ot.calcdata;ot.x=ot.xScale(ot),ot.calcdata.columnDragInProgress=!1,z(et,ot,0),D(se,ct,ct.columns.map(function(ht){return ht.xIndex}))})),Ee.each(function(ot){v.setClipUrl(R.select(this),h(se,ot),se)});var xe=Ee.selectAll("."+g.cn.columnBlock).data(f.splitToPanels,S.keyFun);xe.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(ot){return ot.key}),xe.style("cursor",function(ot){return ot.dragHandle?"ew-resize":ot.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ce=xe.filter(U),Ue=xe.filter(F);he&&Ue.call(R.behavior.drag().origin(function(ot){return R.event.stopPropagation(),ot}).on("drag",Q(se,Me,-1)).on("dragend",function(){})),o(se,Me,Ce,xe),o(se,Me,Ue,xe);var Ne=Me.selectAll("."+g.cn.scrollAreaClip).data(S.repeat,S.keyFun);Ne.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(ot){return y(se,ot)});var De=Ne.selectAll("."+g.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);De.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),De.attr("width",function(ot){return ot.width+2*g.overdrag}).attr("height",function(ot){return ot.height+g.uplift});var He=Ee.selectAll("."+g.cn.columnBoundary).data(S.repeat,S.keyFun);He.enter().append("g").classed(g.cn.columnBoundary,!0);var at=Ee.selectAll("."+g.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);at.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),at.attr("id",function(ot){return h(se,ot)});var vt=at.selectAll("."+g.cn.columnBoundaryRect).data(S.repeat,S.keyFun);vt.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),vt.attr("width",function(ot){return ot.columnWidth+2*l(ot)}).attr("height",function(ot){return ot.calcdata.height+2*l(ot)+g.uplift}).attr("x",function(ot){return-l(ot)}).attr("y",function(ot){return-l(ot)}),j(null,Ue,Me)};function l($){return Math.ceil($.calcdata.maxLineWidth/2)}function y($,se){return"clip"+$._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h($,se){return"clip"+$._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T($){return[].concat.apply([],$.map(function(se){return se})).map(function(se){return se.__data__})}function c($,se,ae){function he(Ee){var xe=Ee.rowBlocks;return ne(xe,xe.length-1)+(xe.length?Y(xe[xe.length-1],1/0):1)}var me=$.selectAll("."+g.cn.scrollbarKit).data(S.repeat,S.keyFun);me.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Ee){var xe=Ee.scrollbarState;xe.totalHeight=he(Ee),xe.scrollableAreaHeight=Ee.groupHeight-B(Ee),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ee.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ee){var xe=Ee.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(xe,B(Ee))});var Me=me.selectAll("."+g.cn.scrollbar).data(S.repeat,S.keyFun);Me.enter().append("g").classed(g.cn.scrollbar,!0);var Te=Me.selectAll("."+g.cn.scrollbarSlider).data(S.repeat,S.keyFun);Te.enter().append("g").classed(g.cn.scrollbarSlider,!0),Te.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var Pe=Te.selectAll("."+g.cn.scrollbarGlyph).data(S.repeat,S.keyFun);Pe.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Pe.attr("y2",function(Ee){return Ee.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ae?0:.4}),Pe.transition().delay(0).duration(0),Pe.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var be=Me.selectAll("."+g.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);be.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var xe=R.event.y,Ce=this.getBoundingClientRect(),Ue=Ee.scrollbarState,Ne=xe-Ce.top,De=R.scale.linear().domain([0,Ue.scrollableAreaHeight]).range([0,Ue.totalHeight]).clamp(!0);Ue.topY<=Ne&&Ne<=Ue.bottomY||Q(se,$,null,De(Ne-Ue.barLength/2))(Ee)}).call(R.behavior.drag().origin(function(Ee){return R.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",Q(se,$)).on("dragend",function(){})),be.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Pe.remove(),be.remove())}function o($,se,ae,he){var me=p(ae),Me=x(me);L(Me);var Te=b(Me);s(Te);var Pe=m(Me),be=P(Pe);M(be),E(be,se,he,$),X(Me)}function p($){var se=$.selectAll("."+g.cn.columnCells).data(S.repeat,S.keyFun);return se.enter().append("g").classed(g.cn.columnCells,!0),se.exit().remove(),se}function x($){var se=$.selectAll("."+g.cn.columnCell).data(f.splitToCells,function(ae){return ae.keyWithinBlock});return se.enter().append("g").classed(g.cn.columnCell,!0),se.exit().remove(),se}function b($){var se=$.selectAll("."+g.cn.cellRect).data(S.repeat,function(ae){return ae.keyWithinBlock});return se.enter().append("rect").classed(g.cn.cellRect,!0),se}function P($){var se=$.selectAll("."+g.cn.cellText).data(S.repeat,function(ae){return ae.keyWithinBlock});return se.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){R.event.stopPropagation()}),se}function m($){var se=$.selectAll("."+g.cn.cellTextHolder).data(S.repeat,function(ae){return ae.keyWithinBlock});return se.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function L($){$.each(function(se,ae){var he=se.calcdata.cells.font,me=se.column.specIndex,Me={size:N(he.size,me,ae),color:N(he.color,me,ae),family:N(he.family,me,ae),weight:N(he.weight,me,ae),style:N(he.style,me,ae),variant:N(he.variant,me,ae)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,me,ae),se.cellBorderWidth=N(se.calcdata.cells.line.width,me,ae),se.font=Me})}function M($){$.each(function(se){v.font(R.select(this),se.font)})}function s($){$.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ae=R.select(this);u.stroke(ae,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(ae,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E($,se,ae,he){$.text(function(me){var Me=me.column.specIndex,Te=me.rowNumber,Pe=me.value,be=typeof Pe=="string",Ee=be&&Pe.match(/<br>/i),xe=!be||Ee;me.mayHaveMarkup=be&&Pe.match(/[<&>]/);var Ce=w(Pe);me.latex=Ce;var Ue=Ce?"":N(me.calcdata.cells.prefix,Me,Te)||"",Ne=Ce?"":N(me.calcdata.cells.suffix,Me,Te)||"",De=Ce?null:N(me.calcdata.cells.format,Me,Te)||null,He=Ue+(De?C(De)(me.value):me.value)+Ne,at;me.wrappingNeeded=!me.wrapped&&!xe&&!Ce&&(at=_(He)),me.cellHeightMayIncrease=Ee||Ce||me.mayHaveMarkup||(at===void 0?_(He):at),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var vt;if(me.wrappingNeeded){var ot=g.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,et=ot.split(g.wrapSplitCharacter),ct=g.wrapSplitCharacter===" "?et.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):et;me.fragments=ct.map(function(ht){return{text:ht,width:null}}),me.fragments.push({fragment:g.wrapSpacer,width:null}),vt=ct.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete me.fragments,vt=He;return vt}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var Me=this,Te=R.select(Me),Pe=me.wrappingNeeded?re:ue;me.needsConvertToTspans?d.convertToTspans(Te,he,Pe(ae,Me,se,he,me)):R.select(Me.parentNode).attr("transform",function(be){return t(J(be),g.cellPad)}).attr("text-anchor",function(be){return{left:"start",center:"middle",right:"end"}[be.align]})})}function w($){return typeof $=="string"&&$.match(g.latexCheck)}function _($){return $.indexOf(g.wrapSplitCharacter)!==-1}function D($,se,ae){var he=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(me,Me){return ae[he.indexOf(me)]-ae[he.indexOf(Me)]}),se.columnorder=ae,$.emit("plotly_restyle")}function N($,se,ae){if(i.isArrayOrTypedArray($)){var he=$[Math.min(se,$.length-1)];return i.isArrayOrTypedArray(he)?he[Math.min(ae,he.length-1)]:he}else return $}function z($,se,ae){$.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(se.x,ae))}function F($){return $.type==="cells"}function U($){return $.type==="header"}function B($){var se=$.rowBlocks.length?$.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ae,he){return ae+Y(he,1/0)},0)}function V($,se,ae){for(var he=[],me=0,Me=0;Me<$.length;Me++){for(var Te=$[Me],Pe=Te.rows,be=0,Ee=0;Ee<Pe.length;Ee++)be+=Pe[Ee].rowHeight;Te.allRowsHeight=be;var xe=me+be,Ce=se,Ue=Ce+ae;Ce<xe&&Ue>me&&he.push(Me),me+=be}return he}function j($,se,ae){var he=T(se)[0];if(he!==void 0){var me=he.rowBlocks,Me=he.calcdata,Te=ne(me,me.length),Pe=he.calcdata.groupHeight-B(he),be=Me.scrollY=Math.max(0,Math.min(Te-Pe,Me.scrollY)),Ee=V(me,be,Pe);Ee.length===1&&(Ee[0]===me.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),se.each(function(xe,Ce){xe.page=Ee[Ce],xe.scrollY=be}),se.attr("transform",function(xe){var Ce=ne(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,Ce)}),$&&(ee($,ae,se,Ee,he.prevPages,he,0),ee($,ae,se,Ee,he.prevPages,he,1),c(ae,$))}}function Q($,se,ae,he){return function(Me){var Te=Me.calcdata?Me.calcdata:Me,Pe=se.filter(function(Ce){return Te.key===Ce.key}),be=ae||Te.scrollbarState.dragMultiplier,Ee=Te.scrollY;Te.scrollY=he===void 0?Te.scrollY+be*R.event.dy:he;var xe=Pe.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(F);return j($,xe,Pe),Te.scrollY===Ee}}function ee($,se,ae,he,me,Me,Te){var Pe=he[Te]!==me[Te];Pe&&(clearTimeout(Me.currentRepaint[Te]),Me.currentRepaint[Te]=setTimeout(function(){var be=ae.filter(function(Ee,xe){return xe===Te&&he[xe]!==me[xe]});o($,se,be,ae),me[Te]=he[Te]}))}function re($,se,ae,he){return function(){var Me=R.select(se.parentNode);Me.each(function(Te){var Pe=Te.fragments;Me.selectAll("tspan.line").each(function(He,at){Pe[at].width=this.getComputedTextLength()});var be=Pe[Pe.length-1].width,Ee=Pe.slice(0,-1),xe=[],Ce,Ue,Ne=0,De=Te.column.columnWidth-2*g.cellPad;for(Te.value="";Ee.length;)Ce=Ee.shift(),Ue=Ce.width+be,Ne+Ue>De&&(Te.value+=xe.join(g.wrapSpacer)+g.lineBreaker,xe=[],Ne=0),xe.push(Ce.text),Ne+=Ue;Ne&&(Te.value+=xe.join(g.wrapSpacer)),Te.wrapped=!0}),Me.selectAll("tspan.line").remove(),E(Me.select("."+g.cn.cellText),ae,$,he),R.select(se.parentNode.parentNode).call(X)}}function ue($,se,ae,he,me){return function(){if(!me.settledY){var Te=R.select(se.parentNode),Pe=le(me),be=me.key-Pe.firstRowIndex,Ee=Pe.rows[be].rowHeight,xe=me.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*g.cellPad:Ee,Ce=Math.max(xe,Ee),Ue=Ce-Pe.rows[be].rowHeight;Ue&&(Pe.rows[be].rowHeight=Ce,$.selectAll("."+g.cn.columnCell).call(X),j(null,$.filter(F),0),c(ae,he,!0)),Te.attr("transform",function(){var Ne=this,De=Ne.parentNode,He=De.getBoundingClientRect(),at=R.select(Ne.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),vt=Ne.transform.baseVal.consolidate(),ot=at.top-He.top+(vt?vt.matrix.f:g.cellPad);return t(J(me,R.select(Ne.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),ot)}),me.settledY=!0}}}function J($,se){switch($.align){case"left":return g.cellPad;case"right":return $.column.columnWidth-(se||0)-g.cellPad;case"center":return($.column.columnWidth-(se||0))/2;default:return g.cellPad}}function X($){$.attr("transform",function(se){var ae=se.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,Pe){return Te+Y(Pe,1/0)},0),he=le(se),me=Y(he,se.key),Me=me+ae;return t(0,Me)}).selectAll("."+g.cn.cellRect).attr("height",function(se){return Z(le(se),se.key).rowHeight})}function ne($,se){for(var ae=0,he=se-1;he>=0;he--)ae+=oe($[he]);return ae}function Y($,se){for(var ae=0,he=0;he<$.rows.length&&$.rows[he].rowIndex<se;he++)ae+=$.rows[he].rowHeight;return ae}function oe($){var se=$.allRowsHeight;if(se!==void 0)return se;for(var ae=0,he=0;he<$.rows.length;he++)ae+=$.rows[he].rowHeight;return $.allRowsHeight=ae,ae}function le($){return $.rowBlocks[$.page]}function Z($,se){return $.rows[se-$.firstRowIndex]}},40516:function(G,H,e){var g=e(21776).Ks,R=e(21776).Gw,i=e(49084),C=e(86968).u,S=e(74996),v=e(424),d=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:d.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,H,e){var g=e(7316);H.name="treemap",H.plot=function(R,i,C,S){g.plotBasePlot(H.name,R,i,C,S)},H.clean=function(R,i,C,S){g.cleanBasePlot(H.name,R,i,C,S)}},97840:function(G,H,e){var g=e(3776);H.r=function(R,i){return g.calc(R,i)},H.q=function(R){return g._runCrossTraceCalc("treemap",R)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,H,e){var g=e(3400),R=e(40516),i=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,d=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,u,l,y){function h(s,E){return g.coerce(f,u,R,s,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var p=h("tiling.packing");p==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),u.texttemplate||h("textinfo",g.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var b=h("pathbar.visible"),P="auto";S(f,u,y,h,P,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=u.textposition.indexOf("bottom")!==-1;d(f,u,y,h);var L=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;L?a(f,u,y,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var M=u.textfont.size*2;h("marker.pad.t",m?M/4:M),h("marker.pad.l",M/4),h("marker.pad.r",M/4),h("marker.pad.b",m?M:M/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},b&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,y,h),u._length=null}},95808:function(G,H,e){var g=e(33428),R=e(78176),i=e(82744),C=i.clearMinTextSize,S=e(60100).resizeText,v=e(52960);G.exports=function(r,t,a,n,f){var u=f.type,l=f.drawDescendants,y=r._fullLayout,h=y["_"+u+"layer"],T,c,o=!a;if(C(u,y),T=h.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!y.uniformtext.mode&&R.hasTransition(a)){n&&(c=n());var p=g.transition().duration(a.duration).ease(a.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});p.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,a,l)})})}else T.each(function(x){v(r,x,this,a,l)}),y.uniformtext.mode&&S(r,h.selectAll(".trace"),u);o&&T.exit().remove()}},27336:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,d=e(32984),r=e(78176),t=e(45716),a=!0;G.exports=function(f,u,l,y,h){var T=h.barDifY,c=h.width,o=h.height,p=h.viewX,x=h.viewY,b=h.pathSlice,P=h.toMoveInsideSlice,m=h.strTransform,L=h.hasTransition,M=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,w={},_=f._context.staticPlot,D=f._fullLayout,N=u[0],z=N.trace,F=N.hierarchy,U=c/z._entryDepth,B=r.listPath(l.data,"id"),V=S(F.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function(Q){var ee=B.indexOf(Q.data.id);return ee===-1?!1:(Q.x0=U*ee,Q.x1=U*(ee+1),Q.y0=T,Q.y1=T+o,Q.onPathbar=!0,!0)}),V.reverse(),y=y.data(V,r.getPtId),y.enter().append("g").classed("pathbar",!0),M(y,a,w,[c,o],b),y.order();var j=y;L&&(j=j.transition().each("end",function(){var Q=g.select(this);r.setSliceCursor(Q,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(Q){Q._x0=p(Q.x0),Q._x1=p(Q.x1),Q._y0=x(Q.y0),Q._y1=x(Q.y1),Q._hoverX=p(Q.x1-Math.min(c,o)/2),Q._hoverY=x(Q.y1-o/2);var ee=g.select(this),re=R.ensureSingle(ee,"path","surface",function(ne){ne.style("pointer-events",_?"none":"all")});L?re.transition().attrTween("d",function(ne){var Y=s(ne,a,w,[c,o]);return function(oe){return b(Y(oe))}}):re.attr("d",b),ee.call(t,l,f,u,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),re.call(v,Q,z,f,{hovered:!1}),Q._text=(r.getPtLabel(Q)||"").split("<br>").join(" ")||"";var ue=R.ensureSingle(ee,"g","slicetext"),J=R.ensureSingle(ue,"text","",function(ne){ne.attr("data-notex",1)}),X=R.ensureUniformFontSize(f,r.determineTextFont(z,Q,D.font,{onPathbar:!0}));J.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,X).call(C.convertToTspans,f),Q.textBB=i.bBox(J.node()),Q.transform=P(Q,{fontSize:X.size,onPathbar:!0}),Q.transform.fontSize=X.size,L?J.transition().attrTween("transform",function(ne){var Y=E(ne,a,w,[c,o]);return function(oe){return m(Y(oe))}}):J.attr("transform",m(Q))})}},76477:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,d=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,y,h,T){var c=T.width,o=T.height,p=T.viewX,x=T.viewY,b=T.pathSlice,P=T.toMoveInsideSlice,m=T.strTransform,L=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,w=T.prevEntry,_={},D=u._context.staticPlot,N=u._fullLayout,z=l[0],F=z.trace,U=F.textposition.indexOf("left")!==-1,B=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,j=!V&&!F.marker.pad.t||V&&!F.marker.pad.b,Q=S(y,[c,o],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}),ee=Q.descendants(),re=1/0,ue=-1/0;ee.forEach(function(oe){var le=oe.depth;le>=F._maxDepth?(oe.x0=oe.x1=(oe.x0+oe.x1)/2,oe.y0=oe.y1=(oe.y0+oe.y1)/2):(re=Math.min(re,le),ue=Math.max(ue,le))}),h=h.data(ee,r.getPtId),F._maxVisibleLayers=isFinite(ue)?ue-re+1:0,h.enter().append("g").classed("slice",!0),M(h,n,_,[c,o],b),h.order();var J=null;if(L&&w){var X=r.getPtId(w);h.each(function(oe){J===null&&r.getPtId(oe)===X&&(J={x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1})})}var ne=function(){return J||{x0:0,x1:c,y0:0,y1:o}},Y=h;return L&&(Y=Y.transition().each("end",function(){var oe=g.select(this);r.setSliceCursor(oe,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(oe){var le=r.isHeader(oe,F);oe._x0=p(oe.x0),oe._x1=p(oe.x1),oe._y0=x(oe.y0),oe._y1=x(oe.y1),oe._hoverX=p(oe.x1-F.marker.pad.r),oe._hoverY=x(V?oe.y1-F.marker.pad.b/2:oe.y0+F.marker.pad.t/2);var Z=g.select(this),$=R.ensureSingle(Z,"path","surface",function(Te){Te.style("pointer-events",D?"none":"all")});L?$.transition().attrTween("d",function(Te){var Pe=s(Te,n,ne(),[c,o]);return function(be){return b(Pe(be))}}):$.attr("d",b),Z.call(t,y,u,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),$.call(v,oe,F,u,{hovered:!1}),oe.x0===oe.x1||oe.y0===oe.y1?oe._text="":le?oe._text=j?"":r.getPtLabel(oe)||"":oe._text=a(oe,y,F,l,N)||"";var se=R.ensureSingle(Z,"g","slicetext"),ae=R.ensureSingle(se,"text","",function(Te){Te.attr("data-notex",1)}),he=R.ensureUniformFontSize(u,r.determineTextFont(F,oe,N.font)),me=oe._text||" ",Me=le&&me.indexOf("<br>")===-1;ae.text(me).classed("slicetext",!0).attr("text-anchor",B?"end":U||Me?"start":"middle").call(i.font,he).call(C.convertToTspans,u),oe.textBB=i.bBox(ae.node()),oe.transform=P(oe,{fontSize:he.size,isHeader:le}),oe.transform.fontSize=he.size,L?ae.transition().attrTween("transform",function(Te){var Pe=E(Te,n,ne(),[c,o]);return function(be){return m(Pe(be))}}):ae.attr("transform",m(oe))}),J}},83024:function(G){G.exports=function H(e,g,R){var i;R.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),R.flipX&&(i=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-i),R.flipY&&(i=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-i);var C=e.children;if(C)for(var S=0;S<C.length;S++)H(C[S],g,R)}},31991:function(G,H,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,H,e){var g=e(3400),R=e(45392);G.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(G,H,e){var g=e(74148),R=e(83024);G.exports=function(S,v,d){var r=d.flipX,t=d.flipY,a=d.packing==="dice-slice",n=d.pad[t?"bottom":"top"],f=d.pad[r?"right":"left"],u=d.pad[r?"left":"right"],l=d.pad[t?"top":"bottom"],y;a&&(y=f,f=n,n=y,y=u,u=l,l=y);var h=g.treemap().tile(i(d.packing,d.squarifyratio)).paddingInner(d.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(a?[v[1],v[0]]:v)(S);return(a||r||t)&&R(h,v,{swapXY:a,flipX:r,flipY:t}),h};function i(C,S){switch(C){case"squarify":return g.treemapSquarify.ratio(S);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(G,H,e){var g=e(95808),R=e(76477);G.exports=function(C,S,v,d){return g(C,S,v,d,{type:"treemap",drawDescendants:R})}},52960:function(G,H,e){var g=e(33428),R=e(67756).qy,i=e(78176),C=e(3400),S=e(78048).TEXTPAD,v=e(98184),d=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,a=e(32984),n=e(27336);function f(u){return i.isHierarchyRoot(u)?"":i.getPtId(u)}G.exports=function(l,y,h,T,c){var o=l._fullLayout,p=y[0],x=p.trace,b=x.type,P=b==="icicle",m=p.hierarchy,L=i.findEntryWithLevel(m,x.level),M=g.select(h),s=M.selectAll("g.pathbar"),E=M.selectAll("g.slice");if(!L){s.remove(),E.remove();return}var w=i.isHierarchyRoot(L),_=!o.uniformtext.mode&&i.hasTransition(T),D=i.getMaxDepth(x),N=function(Oe){return Oe.data.depth-L.data.depth<D},z=o._size,F=x.domain,U=z.w*(F.x[1]-F.x[0]),B=z.h*(F.y[1]-F.y[0]),V=U,j=x.pathbar.thickness,Q=x.marker.line.width+a.gapWithPathbar,ee=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?B+Q:-(j+Q):0,re={x0:V,x1:V,y0:ee,y1:ee+j},ue=function(Oe,Xe,Ze){var We=x.tiling.pad,ze=function(pe){return pe-We<=Xe.x0},ke=function(pe){return pe+We>=Xe.x1},je=function(pe){return pe-We<=Xe.y0},Ie=function(pe){return pe+We>=Xe.y1};return Oe.x0===Xe.x0&&Oe.x1===Xe.x1&&Oe.y0===Xe.y0&&Oe.y1===Xe.y1?{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1}:{x0:ze(Oe.x0-We)?0:ke(Oe.x0-We)?Ze[0]:Oe.x0,x1:ze(Oe.x1+We)?0:ke(Oe.x1+We)?Ze[0]:Oe.x1,y0:je(Oe.y0-We)?0:Ie(Oe.y0-We)?Ze[1]:Oe.y0,y1:je(Oe.y1+We)?0:Ie(Oe.y1+We)?Ze[1]:Oe.y1}},J=null,X={},ne={},Y=null,oe=function(Oe,Xe){return Xe?X[f(Oe)]:ne[f(Oe)]},le=function(Oe,Xe,Ze,We){if(Xe)return X[f(m)]||re;var ze=ne[x.level]||Ze;return N(Oe)?ue(Oe,ze,We):{}};p.hasMultipleRoots&&w&&D++,x._maxDepth=D,x._backgroundColor=o.paper_bgcolor,x._entryDepth=L.data.depth,x._atRootLevel=w;var Z=-U/2+z.l+z.w*(F.x[1]+F.x[0])/2,$=-B/2+z.t+z.h*(1-(F.y[1]+F.y[0])/2),se=function(Oe){return Z+Oe},ae=function(Oe){return $+Oe},he=ae(0),me=se(0),Me=function(Oe){return me+Oe},Te=function(Oe){return he+Oe};function Pe(Oe,Xe){return Oe+","+Xe}var be=Me(0),Ee=function(Oe){Oe.x=Math.max(be,Oe.x)},xe=x.pathbar.edgeshape,Ce=function(Oe){var Xe=Me(Math.max(Math.min(Oe.x0,Oe.x0),0)),Ze=Me(Math.min(Math.max(Oe.x1,Oe.x1),V)),We=Te(Oe.y0),ze=Te(Oe.y1),ke=j/2,je={},Ie={};je.x=Xe,Ie.x=Ze,je.y=Ie.y=(We+ze)/2;var pe={x:Xe,y:We},we={x:Ze,y:We},Ve={x:Ze,y:ze},Qe={x:Xe,y:ze};return xe===">"?(pe.x-=ke,we.x-=ke,Ve.x-=ke,Qe.x-=ke):xe==="/"?(Ve.x-=ke,Qe.x-=ke,je.x-=ke/2,Ie.x-=ke/2):xe==="\\"?(pe.x-=ke,we.x-=ke,je.x-=ke/2,Ie.x-=ke/2):xe==="<"&&(je.x-=ke,Ie.x-=ke),Ee(pe),Ee(Qe),Ee(je),Ee(we),Ee(Ve),Ee(Ie),"M"+Pe(pe.x,pe.y)+"L"+Pe(we.x,we.y)+"L"+Pe(Ie.x,Ie.y)+"L"+Pe(Ve.x,Ve.y)+"L"+Pe(Qe.x,Qe.y)+"L"+Pe(je.x,je.y)+"Z"},Ue=x[P?"tiling":"marker"].pad,Ne=function(Oe){return x.textposition.indexOf(Oe)!==-1},De=Ne("top"),He=Ne("left"),at=Ne("right"),vt=Ne("bottom"),ot=function(Oe){var Xe=se(Oe.x0),Ze=se(Oe.x1),We=ae(Oe.y0),ze=ae(Oe.y1),ke=Ze-Xe,je=ze-We;if(!ke||!je)return"";var Ie=x.marker.cornerradius||0,pe=Math.min(Ie,ke/2,je/2);pe&&Oe.data&&Oe.data.data&&Oe.data.data.label&&(De&&(pe=Math.min(pe,Ue.t)),He&&(pe=Math.min(pe,Ue.l)),at&&(pe=Math.min(pe,Ue.r)),vt&&(pe=Math.min(pe,Ue.b)));var we=function(Ve,Qe){return pe?"a"+Pe(pe,pe)+" 0 0 1 "+Pe(Ve,Qe):""};return"M"+Pe(Xe,We+pe)+we(pe,-pe)+"L"+Pe(Ze-pe,We)+we(pe,pe)+"L"+Pe(Ze,ze-pe)+we(-pe,pe)+"L"+Pe(Xe+pe,ze)+we(-pe,-pe)+"Z"},et=function(Oe,Xe){var Ze=Oe.x0,We=Oe.x1,ze=Oe.y0,ke=Oe.y1,je=Oe.textBB,Ie=De||Xe.isHeader&&!vt,pe=Ie?"start":vt?"end":"middle",we=Ne("right"),Ve=Ne("left")||Xe.onPathbar,Qe=Ve?-1:we?1:0;if(Xe.isHeader){if(Ze+=(P?Ue:Ue.l)-S,We-=(P?Ue:Ue.r)-S,Ze>=We){var it=(Ze+We)/2;Ze=it,We=it}var st;vt?(st=ke-(P?Ue:Ue.b),ze<st&&st<ke&&(ze=st)):(st=ze+(P?Ue:Ue.t),ze<st&&st<ke&&(ke=st))}var Wt=d(Ze,We,ze,ke,je,{isHorizontal:!1,constrained:!0,angle:0,anchor:pe,leftToRight:Qe});return Wt.fontSize=Xe.fontSize,Wt.targetX=se(Wt.targetX),Wt.targetY=ae(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Ze!==We&&ze!==ke&&t(x.type,Wt,o),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ct=function(Oe,Xe){for(var Ze,We=0,ze=Oe;!Ze&&We<D;)We++,ze=ze.parent,ze?Ze=oe(ze,Xe):We=D;return Ze||{}},ht=function(Oe,Xe,Ze,We){var ze=oe(Oe,Xe),ke;if(Xe)ke=re;else{var je=oe(L,Xe);je?ke=ue(Oe,je,We):ke={}}return R(ze,ke)},gt=function(Oe,Xe,Ze,We,ze){var ke=oe(Oe,Xe),je;if(ke)je=ke;else if(Xe)je=re;else if(J)if(Oe.parent){var Ie=Y||Ze;Ie&&!Xe?je=ue(Oe,Ie,We):(je={},C.extendFlat(je,ct(Oe,Xe)))}else je=C.extendFlat({},Oe),P&&(ze.orientation==="h"?ze.flipX?je.x0=Oe.x1:je.x1=0:ze.flipY?je.y0=Oe.y1:je.y1=0);else je={};return R(je,{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1})},xt=function(Oe,Xe,Ze,We){var ze=oe(Oe,Xe),ke={},je=le(Oe,Xe,Ze,We);C.extendFlat(ke,{transform:et({x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1,textBB:Oe.textBB,_text:Oe._text},{isHeader:i.isHeader(Oe,x)})}),ze?ke=ze:Oe.parent&&C.extendFlat(ke,ct(Oe,Xe));var Ie=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(x.type,Ie,o),R(ke,{transform:{scale:Ie.scale,rotate:Ie.rotate,textX:Ie.textX,textY:Ie.textY,anchorX:Ie.anchorX,anchorY:Ie.anchorY,targetX:Ie.targetX,targetY:Ie.targetY}})},Mt=function(Oe,Xe,Ze,We,ze){var ke=We[0],je=We[1];_?Oe.exit().transition().each(function(){var Ie=g.select(this),pe=Ie.select("path.surface");pe.transition().attrTween("d",function(Ve){var Qe=ht(Ve,Xe,Ze,[ke,je]);return function(it){return ze(Qe(it))}});var we=Ie.select("g.slicetext");we.attr("opacity",0)}).remove():Oe.exit().remove()},tt=function(Oe){var Xe=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(x.type,Xe,o),C.getTextTransform({textX:Xe.textX,textY:Xe.textY,anchorX:Xe.anchorX,anchorY:Xe.anchorY,targetX:Xe.targetX,targetY:Xe.targetY,scale:Xe.scale,rotate:Xe.rotate})};_&&(s.each(function(Oe){X[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(X[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate})}),E.each(function(Oe){ne[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(ne[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate}),!J&&i.isEntry(Oe)&&(J=Oe)})),Y=c(l,y,L,E,{width:U,height:B,viewX:se,viewY:ae,pathSlice:ot,toMoveInsideSlice:et,prevEntry:J,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:_,strTransform:tt}),x.pathbar.visible?n(l,y,L,s,{barDifY:ee,width:V,height:j,viewX:Me,viewY:Te,pathSlice:Ce,toMoveInsideSlice:et,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:_,strTransform:tt}):s.remove()}},66192:function(G,H,e){var g=e(33428),R=e(76308),i=e(3400),C=e(78176),S=e(82744).resizeText,v=e(60404);function d(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");S(t,a,"treemap"),a.each(function(n){var f=g.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(y){g.select(this).call(r,y,l,t,{hovered:!1})})})}function r(t,a,n,f,u){var l=(u||{}).hovered,y=a.data.data,h=y.i,T,c,o=y.color,p=C.isHierarchyRoot(a),x=1;if(l)T=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(p&&o===n.root.color)x=100,T="rgba(0,0,0,0)",c=0;else if(T=i.castOption(n,h,"marker.line.color")||R.defaultLine,c=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var b=n.marker.depthfade;if(b){var P=R.combine(R.addOpacity(n._backgroundColor,.75),o),m;if(b===!0){var L=C.getMaxDepth(n);isFinite(L)?C.isLeaf(a)?m=0:m=n._maxVisibleLayers-(a.data.depth-n._entryDepth):m=a.data.height+1}else m=a.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var M=0;M<m;M++){var s=.5*M/m;o=R.combine(R.addOpacity(P,s),o)}}}t.call(v,a,n,f,o).style("stroke-width",c).call(R.stroke,T).style("opacity",x)}G.exports={style:d,styleOne:r}},13988:function(G,H,e){var g=e(63188),R=e(92880).extendFlat,i=e(29736).axisHoverFormat;G.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:R({},g.name,{}),orientation:R({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:R({},g.boxpoints,{}),jitter:R({},g.jitter,{}),pointpos:R({},g.pointpos,{}),width:R({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:g.zorder}},67064:function(G,H,e){var g=e(3400),R=e(54460),i=e(62555),C=e(63800),S=e(39032).BADNUM;G.exports=function(a,n){var f=i(a,n);if(f[0].t.empty)return f;for(var u=a._fullLayout,l=R.getFromId(a,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,h=-1/0,T=0,c=0,o=0;o<f.length;o++){var p=f[o],x=p.pts.map(C.extractVal),b=p.bandwidth=d(n,p,x),P=p.span=r(n,p,l,b);if(p.min===p.max&&b===0)P=p.span=[p.min,p.max],p.density=[{v:1,t:P[0]}],p.bandwidth=b,T=Math.max(T,1);else{var m=P[1]-P[0],L=Math.ceil(m/(b/3)),M=m/L;if(!isFinite(M)||!isFinite(L))return g.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var s=C.makeKDE(p,n,x);p.density=new Array(L);for(var E=0,w=P[0];w<P[1]+M/2;E++,w+=M){var _=s(w);p.density[E]={v:_,t:w},T=Math.max(T,_)}}c=Math.max(c,x.length),y=Math.min(y,P[0]),h=Math.max(h,P[1])}var D=R.findExtremes(l,[y,h],{padded:!0});if(n._extremes[l._id]=D,n.width)f[0].t.maxKDE=T;else{var N=u._violinScaleGroupStats,z=n.scalegroup,F=N[z];F?(F.maxKDE=Math.max(F.maxKDE,T),F.maxCount=Math.max(F.maxCount,c)):N[z]={maxKDE:T,maxCount:c}}return f[0].t.labels.kde=g._(a,"kde:"),f};function v(t,a,n){var f=Math.min(a,n/1.349);return 1.059*f*Math.pow(t,-.2)}function d(t,a,n){var f=a.max-a.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=g.stdev(n,u-1,a.mean);return Math.max(v(u,l,a.q3-a.q1),f/100)}function r(t,a,n,f){var u=t.spanmode,l=t.span||[],y=[a.min,a.max],h=[a.min-2*f,a.max+2*f],T;function c(p){var x=l[p],b=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[a.valLetter+"calendar"]);return b===S?h[p]:b}u==="soft"?T=h:u==="hard"?T=y:T=[c(0),c(1)];var o={type:"linear",range:T};return R.setConvert(o),o.cleanRange(),T}},14348:function(G,H,e){var g=e(96404).setPositionOffset,R=["v","h"];G.exports=function(C,S){for(var v=C.calcdata,d=S.xaxis,r=S.yaxis,t=0;t<R.length;t++){for(var a=R[t],n=a==="h"?r:d,f=[],u=0;u<v.length;u++){var l=v[u],y=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!y.empty&&h.orientation===a&&h.xaxis===d._id&&h.yaxis===r._id&&f.push(u)}g("violin",C,f,n)}}},36240:function(G,H,e){var g=e(3400),R=e(76308),i=e(90624),C=e(13988);G.exports=function(v,d,r,t){function a(M,s){return g.coerce(v,d,C,M,s)}function n(M,s){return g.coerce2(v,d,C,M,s)}if(i.handleSampleDefaults(v,d,a,t),d.visible!==!1){a("bandwidth"),a("side");var f=a("width");f||(a("scalegroup",d.name),a("scalemode"));var u=a("span"),l;Array.isArray(u)&&(l="manual"),a("spanmode",l);var y=a("line.color",(v.marker||{}).color||r),h=a("line.width"),T=a("fillcolor",R.addOpacity(d.line.color,.5));i.handlePointsDefaults(v,d,a,{prefix:""});var c=n("box.width"),o=n("box.fillcolor",T),p=n("box.line.color",y),x=n("box.line.width",h),b=a("box.visible",!!(c||o||p||x));b||(d.box={visible:!1});var P=n("meanline.color",y),m=n("meanline.width",h),L=a("meanline.visible",!!(P||m));L||(d.meanline={visible:!1}),a("quartilemethod"),a("zorder")}}},63800:function(G,H,e){var g=e(3400),R={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};H.makeKDE=function(i,C,S){var v=S.length,d=R.gaussian,r=i.bandwidth,t=1/(v*r);return function(a){for(var n=0,f=0;f<v;f++)n+=d((a-S[f])/r);return t*n}},H.getPositionOnKdePath=function(i,C,S){var v,d;C.orientation==="h"?(v="y",d="x"):(v="x",d="y");var r=g.findPointOnPath(i.path,S,d,{pathLength:i.pathLength}),t=i.posCenterPx,a=r[v],n=C.side==="both"?2*t-a:t;return[a,n]},H.getKdeValue=function(i,C,S){var v=i.pts.map(H.extractVal),d=H.makeKDE(i,C,v);return d(S)/i.posDensityScale},H.extractVal=function(i){return i.v}},78e3:function(G,H,e){var g=e(76308),R=e(3400),i=e(54460),C=e(27576),S=e(63800);G.exports=function(d,r,t,a,n){n||(n={});var f=n.hoverLayer,u=d.cd,l=u[0].trace,y=l.hoveron,h=y.indexOf("violins")!==-1,T=y.indexOf("kde")!==-1,c=[],o,p;if(h||T){var x=C.hoverOnBoxes(d,r,t,a);if(T&&x.length>0){var b=d.xa,P=d.ya,m,L,M,s,E;l.orientation==="h"?(E=r,m="y",M=P,L="x",s=b):(E=t,m="x",M=b,L="y",s=P);var w=u[d.index];if(E>=w.span[0]&&E<=w.span[1]){var _=R.extendFlat({},d),D=s.c2p(E,!0),N=S.getKdeValue(w,l,E),z=S.getPositionOnKdePath(w,l,D),F=M._offset,U=M._length;_[m+"0"]=z[0],_[m+"1"]=z[1],_[L+"0"]=_[L+"1"]=D,_[L+"Label"]=L+": "+i.hoverLabelText(s,E,l[L+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var B=0,V=0;V<x.length;V++)if(x[V].attr==="med"){B=V;break}_.spikeDistance=x[B].spikeDistance;var j=m+"Spike";_[j]=x[B][j],x[B].spikeDistance=void 0,x[B][j]=void 0,_.hovertemplate=!1,c.push(_),p={},p[m+"1"]=R.constrain(F+z[0],F,F+U),p[m+"2"]=R.constrain(F+z[1],F,F+U),p[L+"1"]=p[L+"2"]=s._offset+D}}h&&(c=c.concat(x))}y.indexOf("points")!==-1&&(o=C.hoverOnPoints(d,r,t));var Q=f.selectAll(".violinline-"+l.uid).data(p?[0]:[]);return Q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(p).call(g.stroke,d.color),a==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(G,H,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,H,e){var g=e(16560),R=e(3400).extendFlat;G.exports={violinmode:R({},g.boxmode,{}),violingap:R({},g.boxgap,{}),violingroupgap:R({},g.boxgroupgap,{})}},8939:function(G,H,e){var g=e(3400),R=e(98228),i=e(68832);G.exports=function(S,v,d){function r(t,a){return g.coerce(S,v,R,t,a)}i._supply(S,v,d,r,"violin")}},5140:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(18728),S=e(52340),v=e(63800);G.exports=function(r,t,a,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,y=t.yaxis;function h(T,c){var o=S(T,{xaxis:l,yaxis:y,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}R.makeTraceGroups(n,a,"trace violins").each(function(T){var c=g.select(this),o=T[0],p=o.t,x=o.trace;if(x.visible!==!0||p.empty){c.remove();return}var b=p.bPos,P=p.bdPos,m=t[p.valLetter+"axis"],L=t[p.posLetter+"axis"],M=x.side==="both",s=M||x.side==="positive",E=M||x.side==="negative",w=c.selectAll("path.violin").data(R.identity);w.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(V){var j=g.select(this),Q=V.density,ee=Q.length,re=L.c2l(V.pos+b,!0),ue=L.l2p(re),J;if(x.width)J=p.maxKDE/P;else{var X=u._violinScaleGroupStats[x.scalegroup];J=x.scalemode==="count"?X.maxKDE/P*(X.maxCount/V.pts.length):X.maxKDE/P}var ne,Y,oe,le,Z,$,se;if(s){for($=new Array(ee),le=0;le<ee;le++)se=$[le]={},se[p.posLetter]=re+Q[le].v/J,se[p.valLetter]=m.c2l(Q[le].t,!0);ne=h($,x)}if(E){for($=new Array(ee),Z=0,le=ee-1;Z<ee;Z++,le--)se=$[Z]={},se[p.posLetter]=re-Q[le].v/J,se[p.valLetter]=m.c2l(Q[le].t,!0);Y=h($,x)}if(M)oe=ne+"L"+Y.substr(1)+"Z";else{var ae=[ue,m.c2p(Q[0].t)],he=[ue,m.c2p(Q[ee-1].t)];x.orientation==="h"&&(ae.reverse(),he.reverse()),s?oe="M"+ae+"L"+ne.substr(1)+"L"+he:oe="M"+he+"L"+Y.substr(1)+"L"+ae}j.attr("d",oe),V.posCenterPx=ue,V.posDensityScale=J*P,V.path=j.node(),V.pathLength=V.path.getTotalLength()/(M?2:1)});var _=x.box,D=_.width,N=(_.line||{}).width,z,F;M?(z=P*D,F=0):s?(z=[0,P*D/2],F=N*{x:1,y:-1}[p.posLetter]):(z=[P*D/2,0],F=N*{x:-1,y:1}[p.posLetter]),C.plotBoxAndWhiskers(c,{pos:L,val:m},x,{bPos:b,bdPos:z,bPosPxOffset:F}),C.plotBoxMean(c,{pos:L,val:m},x,{bPos:b,bdPos:z,bPosPxOffset:F});var U;!x.box.visible&&x.meanline.visible&&(U=R.identity);var B=c.selectAll("path.meanline").data(U||[]);B.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),B.exit().remove(),B.each(function(V){var j=m.c2p(V.mean,!0),Q=v.getPositionOnKdePath(V,x,j);g.select(this).attr("d",x.orientation==="h"?"M"+j+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+j+"H"+Q[1])}),C.plotPoints(c,{x:l,y},x,p)})}},95908:function(G,H,e){var g=e(33428),R=e(76308),i=e(49224).stylePoints;G.exports=function(S){var v=g.select(S).selectAll("g.trace.violins");v.style("opacity",function(d){return d[0].trace.opacity}),v.each(function(d){var r=d[0].trace,t=g.select(this),a=r.box||{},n=a.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(R.stroke,r.line.color).call(R.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(R.stroke,n.color).call(R.fill,a.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(R.stroke,f.color),t.selectAll("path.meanline").style(l).call(R.stroke,f.color),i(t,r,S)})}},58168:function(G,H,e){var g=e(49084),R=e(50048),i=e(16716),C=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,d=G.exports=v(S({x:R.x,y:R.y,z:R.z,value:R.value,isomin:R.isomin,isomax:R.isomax,surface:R.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:R.slices,caps:R.caps,text:R.text,hovertext:R.hovertext,xhoverformat:R.xhoverformat,yhoverformat:R.yhoverformat,zhoverformat:R.zhoverformat,valuehoverformat:R.valuehoverformat,hovertemplate:R.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:R.colorbar,opacity:R.opacity,opacityscale:i.opacityscale,lightposition:R.lightposition,lighting:R.lighting,flatshading:R.flatshading,contour:R.contour,hoverinfo:S({},C.hoverinfo),showlegend:S({},C.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType=d.value.editType="calc+clearAxisTypes",d.transforms=void 0},91976:function(G,H,e){var g=e(67792).gl_mesh3d,R=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),d=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],y=this.data._meshY[u],h=this.data._meshZ[u],T=this.data._Ys.length,c=this.data._Zs.length,o=d(l,this.data._Xs).id,p=d(y,this.data._Ys).id,x=d(h,this.data._Zs).id,b=f.index=x+c*p+c*T*o;f.traceCoordinate=[this.data._meshX[b],this.data._meshY[b],this.data._meshZ[b],this.data._value[b]];var P=this.data.hovertext||this.data.text;return i(P)&&P[b]!==void 0?f.textLabel=P[b]:P&&(f.textLabel=P),!0}},a.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function y(p,x,b,P){return x.map(function(m){return p.d2l(m,0,P)*b})}var h=v(y(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),y(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),y(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),T=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:T,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},o=S(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=R(f),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,y=g({gl:l}),h=new t(f,y,u.uid);return y._trace=h,h.update(u),f.glplot.add(y),h}G.exports=n},12448:function(G,H,e){var g=e(3400),R=e(58168),i=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;G.exports=function(v,d,r,t){function a(n,f){return g.coerce(v,d,R,n,f)}i(v,d,r,t,a),C(v,d,t,a)}},67776:function(G,H,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,H,e){var g=e(20832),R=e(52904).line,i=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(10213),r=e(92880).extendFlat,t=e(76308);function a(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:S({},{keys:d.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:r({},R.color,{dflt:t.defaultLine}),width:r({},R.width,{editType:"plot"}),dash:R.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder}},73540:function(G,H,e){var g=e(54460),R=e(1220),i=e(3400).mergeArray,C=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function d(r){return r==="t"||r==="total"}G.exports=function(t,a){var n=g.getFromId(t,a.xaxis||"x"),f=g.getFromId(t,a.yaxis||"y"),u,l,y,h,T,c;a.orientation==="h"?(u=n.makeCalcdata(a,"x"),y=f.makeCalcdata(a,"y"),h=R(a,f,"y",y),T=!!a.yperiodalignment,c="y"):(u=f.makeCalcdata(a,"y"),y=n.makeCalcdata(a,"x"),h=R(a,n,"x",y),T=!!a.xperiodalignment,c="x"),l=h.vals;for(var o=Math.min(l.length,u.length),p=new Array(o),x=0,b,P=!1,m=0;m<o;m++){var L=u[m]||0,M=!1;(u[m]!==S||d(a.measure[m])||v(a.measure[m]))&&m+1<o&&(u[m+1]!==S||d(a.measure[m+1])||v(a.measure[m+1]))&&(M=!0);var s=p[m]={i:m,p:l[m],s:L,rawS:L,cNext:M};v(a.measure[m])?(x=s.s,s.isSum=!0,s.dir="totals",s.s=x):d(a.measure[m])?(s.isSum=!0,s.dir="totals",s.s=x):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",b=s.s,s.s=x+b,x+=b),s.dir==="totals"&&(P=!0),T&&(p[m].orig_p=y[m],p[m][c+"End"]=h.ends[m],p[m][c+"Start"]=h.starts[m]),a.ids&&(s.id=String(a.ids[m])),s.v=(a.base||0)+x}return p.length&&(p[0].hasTotals=P),i(a.text,p,"tx"),i(a.hovertext,p,"htx"),C(p,a),p}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,H,e){var g=e(96376).setGroupPositions;G.exports=function(i,C){var S=i._fullLayout,v=i._fullData,d=i.calcdata,r=C.xaxis,t=C.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var y=v[l];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(u=d[l],y.orientation==="h"?f.push(u):n.push(u),a.push(u))}var h={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(g(i,r,t,n,h),g(i,t,r,f,h),l=0;l<a.length;l++){u=a[l];for(var T=0;T<u.length;T++){var c=u[T];c.isSum===!1&&(c.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},24224:function(G,H,e){var g=e(3400),R=e(20011),i=e(31508).handleText,C=e(43980),S=e(31147),v=e(65776),d=e(76308),r=e(48164),t=r.INCREASING.COLOR,a=r.DECREASING.COLOR,n="#4499FF";function f(y,h,T){y(h+".marker.color",T),y(h+".marker.line.color",d.defaultLine),y(h+".marker.line.width")}function u(y,h,T,c){function o(m,L){return g.coerce(y,h,v,m,L)}var p=C(y,h,c,o);if(!p){h.visible=!1;return}S(y,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");i(y,h,c,o,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),f(o,"increasing",t),f(o,"decreasing",a),f(o,"totals",n);var b=o("connector.visible");if(b){o("connector.mode");var P=o("connector.line.width");P&&(o("connector.line.color"),o("connector.line.dash"))}o("zorder")}function l(y,h){var T,c;function o(x){return g.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var p=0;p<y.length;p++)c=y[p],T=c._input,R(T,c,h,o)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(G,H,e){var g=e(54460).hoverLabelText,R=e(76308).opacity,i=e(63400).hoverOnBars,C=e(48164),S={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};G.exports=function(r,t,a,n,f){var u=i(r,t,a,n,f);if(!u)return;var l=u.cd,y=l[0].trace,h=y.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function o(w){return g(c,w,y[T+"hoverformat"])}var p=u.index,x=l[p],b=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-b,u.delta=b,u.final=u.initial+u.delta;var P=o(Math.abs(u.delta));u.deltaLabel=b<0?"("+P+")":P,u.finalLabel=o(u.final),u.initialLabel=o(u.initial);var m=x.hi||y.hoverinfo,L=[];if(m&&m!=="none"&&m!=="skip"){var M=m==="all",s=m.split("+"),E=function(w){return M||s.indexOf(w)!==-1};x.isSum||(E("final")&&(h?!E("x"):!E("y"))&&L.push(u.finalLabel),E("delta")&&(b<0?L.push(u.deltaLabel+" "+S.decreasing):L.push(u.deltaLabel+" "+S.increasing)),E("initial")&&L.push("Initial: "+u.initialLabel))}return L.length&&(u.extraText=L.join("<br>")),u.color=v(y,x),[u]};function v(d,r){var t=d[r.dir].marker,a=t.color,n=t.line.color,f=t.line.width;if(R(a))return a;if(R(n)&&f)return n}},95952:function(G,H,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,H,e){var g=e(3400),R=e(91352);G.exports=function(i,C,S){var v=!1;function d(a,n){return g.coerce(i,C,R,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(d("waterfallmode"),d("waterfallgap",.2),d("waterfallgroupgap"))}},64488:function(G,H,e){var g=e(33428),R=e(3400),i=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(a,n,f,u){var l=a._fullLayout;v("waterfall",l),S.plot(a,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),d(a,n,f,u)};function d(t,a,n,f){var u=a.xaxis,l=a.yaxis;R.makeTraceGroups(f,n,"trace bars").each(function(y){var h=g.select(this),T=y[0].trace,c=R.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var o=T.orientation==="h",p=T.connector.mode,x=c.selectAll("g.line").data(R.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var b=x.size();x.each(function(P,m){if(!(m!==b-1&&!P.cNext)){var L=r(P,u,l,o),M=L[0],s=L[1],E="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&(p==="spanning"&&!P.isSum&&m>0&&(o?E+="M"+M[0]+","+s[1]+"V"+s[0]:E+="M"+M[1]+","+s[0]+"H"+M[0]),p!=="between"&&(P.isSum||m<b-1)&&(o?E+="M"+M[1]+","+s[0]+"V"+s[1]:E+="M"+M[0]+","+s[1]+"H"+M[1]),M[2]!==C&&s[2]!==C&&(o?E+="M"+M[1]+","+s[1]+"V"+s[2]:E+="M"+M[1]+","+s[1]+"H"+M[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,a.layerClipId,t)}})})}function r(t,a,n,f){var u=[],l=[],y=f?a:n,h=f?n:a;return u[0]=y.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=y.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=y.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(G,H,e){var g=e(33428),R=e(43616),i=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,d=S.styleTextPoints;function r(t,a,n){var f=n||g.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),y=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=y[h.dir].marker;g.select(this).call(i.fill,T.color).call(i.stroke,T.line.color).call(R.dashLine,T.line.dash,T.line.width).style("opacity",y.selectedpoints&&!h.selected?C:1)}}),d(l,y,t),l.selectAll(".lines").each(function(){var h=y.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},84224:function(G,H,e){var g=e(54460),R=e(3400),i=e(73060),C=e(60468).W,S=e(39032).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=v.aggregations;H.supplyDefaults=function(u,l){var y={},h;function T(w,_){return R.coerce(u,y,v,w,_)}var c=T("enabled");if(!c)return y;var o=i.findArrayAttributes(l),p={};for(h=0;h<o.length;h++)p[o[h]]=1;var x=T("groups");if(!Array.isArray(x)){if(!p[x])return y.enabled=!1,y;p[x]=0}var b=u.aggregations||[],P=y.aggregations=new Array(b.length),m;function L(w,_){return R.coerce(b[h],m,d,w,_)}for(h=0;h<b.length;h++){m={_index:h};var M=L("target"),s=L("func"),E=L("enabled");E&&M&&(p[M]||s==="count"&&p[M]===void 0)?(s==="stddev"&&L("funcmode"),p[M]=0,P[h]=m):P[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)p[o[h]]&&P.push({target:o[h],func:d.func.dflt,enabled:!0,_index:-1});return y},H.calcTransform=function(u,l,y){if(y.enabled){var h=y.groups,T=R.getTargetArray(l,{target:h});if(T){var c,o,p,x,b={},P={},m=[],L=C(l.transforms,y),M=T.length;for(l._length&&(M=Math.min(M,l._length)),c=0;c<M;c++)o=T[c],p=b[o],p===void 0?(b[o]=m.length,x=[c],m.push(x),P[b[o]]=L(c)):(m[p].push(c),P[b[o]]=(P[b[o]]||[]).concat(L(c)));y._indexToPoints=P;var s=y.aggregations;for(c=0;c<s.length;c++)r(u,l,m,s[c]);typeof h=="string"&&r(u,l,m,{target:h,func:"first",enabled:!0}),l._length=m.length}}};function r(u,l,y,h){if(h.enabled){for(var T=h.target,c=R.nestedProperty(l,T),o=c.get(),p=g.getDataConversions(u,l,T,o),x=t(h,p),b=new Array(y.length),P=0;P<y.length;P++)b[P]=x(o,y[P]);c.set(b),h.func==="count"&&R.pushUnique(l._arrayAttrs,T)}}function t(u,l){var y=u.func,h=l.d2c,T=l.c2d;switch(y){case"count":return a;case"first":return n;case"last":return f;case"sum":return function(c,o){for(var p=0,x=0;x<o.length;x++){var b=h(c[o[x]]);b!==S&&(p+=b)}return T(p)};case"avg":return function(c,o){for(var p=0,x=0,b=0;b<o.length;b++){var P=h(c[o[b]]);P!==S&&(p+=P,x++)}return x?T(p/x):S};case"min":return function(c,o){for(var p=1/0,x=0;x<o.length;x++){var b=h(c[o[x]]);b!==S&&(p=Math.min(p,b))}return p===1/0?S:T(p)};case"max":return function(c,o){for(var p=-1/0,x=0;x<o.length;x++){var b=h(c[o[x]]);b!==S&&(p=Math.max(p,b))}return p===-1/0?S:T(p)};case"range":return function(c,o){for(var p=1/0,x=-1/0,b=0;b<o.length;b++){var P=h(c[o[b]]);P!==S&&(p=Math.min(p,P),x=Math.max(x,P))}return x===-1/0||p===1/0?S:T(x-p)};case"change":return function(c,o){var p=h(c[o[0]]),x=h(c[o[o.length-1]]);return p===S||x===S?S:T(x-p)};case"median":return function(c,o){for(var p=[],x=0;x<o.length;x++){var b=h(c[o[x]]);b!==S&&p.push(b)}if(!p.length)return S;p.sort(R.sorterAsc);var P=(p.length-1)/2;return T((p[Math.floor(P)]+p[Math.ceil(P)])/2)};case"mode":return function(c,o){for(var p={},x=0,b=S,P=0;P<o.length;P++){var m=h(c[o[P]]);if(m!==S){var L=p[m]=(p[m]||0)+1;L>x&&(x=L,b=m)}}return x?T(b):S};case"rms":return function(c,o){for(var p=0,x=0,b=0;b<o.length;b++){var P=h(c[o[b]]);P!==S&&(p+=P*P,x++)}return x?T(Math.sqrt(p/x)):S};case"stddev":return function(c,o){var p=0,x=0,b=1,P=S,m;for(m=0;m<o.length&&P===S;m++)P=h(c[o[m]]);if(P===S)return S;for(;m<o.length;m++){var L=h(c[o[m]]);if(L!==S){var M=L-P;p+=M,x+=M*M,b++}}var s=u.funcmode==="sample"?b-1:b;return s?Math.sqrt((x-p*p/b)/s):0}}}function a(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(G,H,e){var g=e(3400),R=e(24040),i=e(54460),C=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,d=S.INTERVAL_OPS,r=S.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(d).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(a){var n={};function f(h,T){return g.coerce(a,n,H.attributes,h,T)}var u=f("enabled");if(u){var l=f("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var y=R.getComponentMethod("calendars","handleDefaults");y(a,n,"valuecalendar",null),y(a,n,"targetcalendar",null)}return n},H.calcTransform=function(a,n,f){if(!f.enabled)return;var u=g.getTargetArray(n,f);if(!u)return;var l=f.target,y=u.length;n._length&&(y=Math.min(y,n._length));var h=f.targetcalendar,T=n._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var o=g.nestedProperty(n,l+"calendar").get();o&&(h=o)}var p=i.getDataToCoordFunc(a,n,l,u),x=t(f,p,h),b={},P={},m=0;function L(D,N){for(var z=0;z<T.length;z++){var F=g.nestedProperty(n,T[z]);D(F,N)}}var M,s;c?(M=function(D){b[D.astr]=g.extendDeep([],D.get()),D.set(new Array(y))},s=function(D,N){var z=b[D.astr][N];D.get()[N]=z}):(M=function(D){b[D.astr]=g.extendDeep([],D.get()),D.set([])},s=function(D,N){var z=b[D.astr][N];D.get().push(z)}),L(M);for(var E=C(n.transforms,f),w=0;w<y;w++){var _=x(u[w]);_?(L(s,w),P[m++]=E(w)):c&&m++}f._indexToPoints=P,n._length=m};function t(a,n,f){var u=a.operation,l=a.value,y=g.isArrayOrTypedArray(l);function h(p){return p.indexOf(u)!==-1}var T=function(p){return n(p,0,a.valuecalendar)},c=function(p){return n(p,0,f)},o;switch(h(v)?o=T(y?l[0]:l):h(d)?o=y?[T(l[0]),T(l[1])]:[T(l),T(l)]:h(r)&&(o=y?l.map(T):[T(l)]),u){case"=":return function(p){return c(p)===o};case"!=":return function(p){return c(p)!==o};case"<":return function(p){return c(p)<o};case"<=":return function(p){return c(p)<=o};case">":return function(p){return c(p)>o};case">=":return function(p){return c(p)>=o};case"[]":return function(p){var x=c(p);return x>=o[0]&&x<=o[1]};case"()":return function(p){var x=c(p);return x>o[0]&&x<o[1]};case"[)":return function(p){var x=c(p);return x>=o[0]&&x<o[1]};case"(]":return function(p){var x=c(p);return x>o[0]&&x<=o[1]};case"][":return function(p){var x=c(p);return x<=o[0]||x>=o[1]};case")(":return function(p){var x=c(p);return x<o[0]||x>o[1]};case"](":return function(p){var x=c(p);return x<=o[0]||x>o[1]};case")[":return function(p){var x=c(p);return x<o[0]||x>=o[1]};case"{}":return function(p){return o.indexOf(c(p))!==-1};case"}{":return function(p){return o.indexOf(c(p))===-1}}}},32028:function(G,H,e){var g=e(3400),R=e(73060),i=e(7316),C=e(60468).W;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,d,r){var t,a={};function n(T,c){return g.coerce(v,a,H.attributes,T,c)}var f=n("enabled");if(!f)return a;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=a.styles=[];if(u)for(t=0;t<u.length;t++){var y=l[t]={};g.coerce(u[t],l[t],H.attributes.styles,"target");var h=g.coerce(u[t],l[t],H.attributes.styles,"value");g.isPlainObject(h)?y.value=g.extendDeep({},h):h&&delete y.value}return a},H.transform=function(v,d){var r,t,a,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],d),a=0;a<r.length;a++)n.push(r[a]);return n};function S(v,d){var r,t,a,n,f,u,l,y,h,T,c=d.transform,o=d.transformIndex,p=v.transforms[o].groups,x=C(v.transforms,c);if(!g.isArrayOrTypedArray(p)||p.length===0)return[v];var b=g.filterUnique(p),P=new Array(b.length),m=p.length,L=R.findArrayAttributes(v),M=c.styles||[],s={};for(r=0;r<M.length;r++)s[M[r].target]=M[r].value;c.styles&&(T=g.keyedContainer(c,"styles","target","value.name"));var E={},w={};for(r=0;r<b.length;r++){u=b[r],E[u]=r,w[u]=0,l=P[r]=g.extendDeepNoArrays({},v),l._group=u,l.transforms[o]._indexToPoints={};var _=null;for(T&&(_=T.get(u)),_||_===""?l.name=_:l.name=g.templateString(c.nameformat,{trace:v.name,group:u}),y=l.transforms,l.transforms=[],t=0;t<y.length;t++)l.transforms[t]=g.extendDeepNoArrays({},y[t]);for(t=0;t<L.length;t++)g.nestedProperty(l,L[t]).set([])}for(a=0;a<L.length;a++){for(n=L[a],t=0,h=[];t<b.length;t++)h[t]=g.nestedProperty(P[t],n).get();for(f=g.nestedProperty(v,n).get(),t=0;t<m;t++)h[E[p[t]]].push(f[t])}for(t=0;t<m;t++){l=P[E[p[t]]];var D=l.transforms[o]._indexToPoints;D[w[p[t]]]=x(t),w[p[t]]++}for(r=0;r<b.length;r++)u=b[r],l=P[r],i.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,s[u]||{});return P}},60468:function(G,H){H.W=function(e,g){for(var R,i,C=0;C<e.length&&(R=e[C],R!==g);C++)!R._indexToPoints||R.enabled===!1||(i=R._indexToPoints);var S=i?function(v){return i[v]}:function(v){return[v]};return S}},76272:function(G,H,e){var g=e(3400),R=e(54460),i=e(60468).W,C=e(39032).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(d){var r={};function t(n,f){return g.coerce(d,r,H.attributes,n,f)}var a=t("enabled");return a&&(t("target"),t("order")),r},H.calcTransform=function(d,r,t){if(t.enabled){var a=g.getTargetArray(r,t);if(a){var n=t.target,f=a.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=R.getDataToCoordFunc(d,r,n,a),y=S(t,a,l,f),h=i(r.transforms,t),T={},c,o;for(c=0;c<u.length;c++){var p=g.nestedProperty(r,u[c]),x=p.get(),b=new Array(f);for(o=0;o<f;o++)b[o]=x[y[o]];p.set(b)}for(o=0;o<f;o++)T[o]=h(y[o]);t._indexToPoints=T,r._length=f}}};function S(d,r,t,a){var n=new Array(a),f=new Array(a),u;for(u=0;u<a;u++)n[u]={v:r[u],i:u};for(n.sort(v(d,t)),u=0;u<a;u++)f[u]=n[u].i;return f}function v(d,r){switch(d.order){case"ascending":return function(t,a){var n=r(t.v),f=r(a.v);return n===C?1:f===C?-1:n-f};case"descending":return function(t,a){var n=r(t.v),f=r(a.v);return n===C?1:f===C?-1:f-n}}}},25788:function(G,H){H.version="2.32.0"},67792:function(G,H,e){var g=e(4168);(function(){var R={1964:function(v,d,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,d,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Ie,pe){if(!(Ie instanceof pe))throw new TypeError("Cannot call a class as a function")}function a(Ie,pe){for(var we=0;we<pe.length;we++){var Ve=pe[we];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ie,f(Ve.key),Ve)}}function n(Ie,pe,we){return pe&&a(Ie.prototype,pe),Object.defineProperty(Ie,"prototype",{writable:!1}),Ie}function f(Ie){var pe=u(Ie,"string");return x(pe)=="symbol"?pe:pe+""}function u(Ie,pe){if(x(Ie)!="object"||!Ie)return Ie;var we=Ie[Symbol.toPrimitive];if(we!==void 0){var Ve=we.call(Ie,pe);if(x(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ie)}function l(Ie,pe,we){return pe=c(pe),y(Ie,T()?Reflect.construct(pe,[],c(Ie).constructor):pe.apply(Ie,we))}function y(Ie,pe){if(pe&&(x(pe)==="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Ie)}function h(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}function T(){try{var Ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Ie})()}function c(Ie){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(we){return we.__proto__||Object.getPrototypeOf(we)},c(Ie)}function o(Ie,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(pe&&pe.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),pe&&p(Ie,pe)}function p(Ie,pe){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ve,Qe){return Ve.__proto__=Qe,Ve},p(Ie,pe)}function x(Ie){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},x(Ie)}var b=r(7507),P=r(3778),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.hp=E,d.IS=50;var L=2147483647;E.TYPED_ARRAY_SUPPORT=M(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var Ie=new Uint8Array(1),pe={foo:function(){return 42}};return Object.setPrototypeOf(pe,Uint8Array.prototype),Object.setPrototypeOf(Ie,pe),Ie.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function s(Ie){if(Ie>L)throw new RangeError('The value "'+Ie+'" is invalid for option "size"');var pe=new Uint8Array(Ie);return Object.setPrototypeOf(pe,E.prototype),pe}function E(Ie,pe,we){if(typeof Ie=="number"){if(typeof pe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Ie)}return w(Ie,pe,we)}E.poolSize=8192;function w(Ie,pe,we){if(typeof Ie=="string")return z(Ie,pe);if(ArrayBuffer.isView(Ie))return U(Ie);if(Ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ie));if(Ze(Ie,ArrayBuffer)||Ie&&Ze(Ie.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(Ie,SharedArrayBuffer)||Ie&&Ze(Ie.buffer,SharedArrayBuffer)))return B(Ie,pe,we);if(typeof Ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ve=Ie.valueOf&&Ie.valueOf();if(Ve!=null&&Ve!==Ie)return E.from(Ve,pe,we);var Qe=V(Ie);if(Qe)return Qe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ie[Symbol.toPrimitive]=="function")return E.from(Ie[Symbol.toPrimitive]("string"),pe,we);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ie))}E.from=function(Ie,pe,we){return w(Ie,pe,we)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function _(Ie){if(typeof Ie!="number")throw new TypeError('"size" argument must be of type number');if(Ie<0)throw new RangeError('The value "'+Ie+'" is invalid for option "size"')}function D(Ie,pe,we){return _(Ie),Ie<=0?s(Ie):pe!==void 0?typeof we=="string"?s(Ie).fill(pe,we):s(Ie).fill(pe):s(Ie)}E.alloc=function(Ie,pe,we){return D(Ie,pe,we)};function N(Ie){return _(Ie),s(Ie<0?0:j(Ie)|0)}E.allocUnsafe=function(Ie){return N(Ie)},E.allocUnsafeSlow=function(Ie){return N(Ie)};function z(Ie,pe){if((typeof pe!="string"||pe==="")&&(pe="utf8"),!E.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var we=Q(Ie,pe)|0,Ve=s(we),Qe=Ve.write(Ie,pe);return Qe!==we&&(Ve=Ve.slice(0,Qe)),Ve}function F(Ie){for(var pe=Ie.length<0?0:j(Ie.length)|0,we=s(pe),Ve=0;Ve<pe;Ve+=1)we[Ve]=Ie[Ve]&255;return we}function U(Ie){if(Ze(Ie,Uint8Array)){var pe=new Uint8Array(Ie);return B(pe.buffer,pe.byteOffset,pe.byteLength)}return F(Ie)}function B(Ie,pe,we){if(pe<0||Ie.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(Ie.byteLength<pe+(we||0))throw new RangeError('"length" is outside of buffer bounds');var Ve;return pe===void 0&&we===void 0?Ve=new Uint8Array(Ie):we===void 0?Ve=new Uint8Array(Ie,pe):Ve=new Uint8Array(Ie,pe,we),Object.setPrototypeOf(Ve,E.prototype),Ve}function V(Ie){if(E.isBuffer(Ie)){var pe=j(Ie.length)|0,we=s(pe);return we.length===0||Ie.copy(we,0,0,pe),we}if(Ie.length!==void 0)return typeof Ie.length!="number"||We(Ie.length)?s(0):F(Ie);if(Ie.type==="Buffer"&&Array.isArray(Ie.data))return F(Ie.data)}function j(Ie){if(Ie>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return Ie|0}E.isBuffer=function(pe){return pe!=null&&pe._isBuffer===!0&&pe!==E.prototype},E.compare=function(pe,we){if(Ze(pe,Uint8Array)&&(pe=E.from(pe,pe.offset,pe.byteLength)),Ze(we,Uint8Array)&&(we=E.from(we,we.offset,we.byteLength)),!E.isBuffer(pe)||!E.isBuffer(we))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===we)return 0;for(var Ve=pe.length,Qe=we.length,it=0,st=Math.min(Ve,Qe);it<st;++it)if(pe[it]!==we[it]){Ve=pe[it],Qe=we[it];break}return Ve<Qe?-1:Qe<Ve?1:0},E.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(pe,we){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(pe.length===0)return E.alloc(0);var Ve;if(we===void 0)for(we=0,Ve=0;Ve<pe.length;++Ve)we+=pe[Ve].length;var Qe=E.allocUnsafe(we),it=0;for(Ve=0;Ve<pe.length;++Ve){var st=pe[Ve];if(Ze(st,Uint8Array))it+st.length>Qe.length?(E.isBuffer(st)||(st=E.from(st)),st.copy(Qe,it)):Uint8Array.prototype.set.call(Qe,st,it);else if(E.isBuffer(st))st.copy(Qe,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=st.length}return Qe};function Q(Ie,pe){if(E.isBuffer(Ie))return Ie.length;if(ArrayBuffer.isView(Ie)||Ze(Ie,ArrayBuffer))return Ie.byteLength;if(typeof Ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Ie));var we=Ie.length,Ve=arguments.length>2&&arguments[2]===!0;if(!Ve&&we===0)return 0;for(var Qe=!1;;)switch(pe){case"ascii":case"latin1":case"binary":return we;case"utf8":case"utf-8":return xt(Ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we*2;case"hex":return we>>>1;case"base64":return Oe(Ie).length;default:if(Qe)return Ve?-1:xt(Ie).length;pe=(""+pe).toLowerCase(),Qe=!0}}E.byteLength=Q;function ee(Ie,pe,we){var Ve=!1;if((pe===void 0||pe<0)&&(pe=0),pe>this.length||((we===void 0||we>this.length)&&(we=this.length),we<=0)||(we>>>=0,pe>>>=0,we<=pe))return"";for(Ie||(Ie="utf8");;)switch(Ie){case"hex":return Me(this,pe,we);case"utf8":case"utf-8":return $(this,pe,we);case"ascii":return he(this,pe,we);case"latin1":case"binary":return me(this,pe,we);case"base64":return Z(this,pe,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,pe,we);default:if(Ve)throw new TypeError("Unknown encoding: "+Ie);Ie=(Ie+"").toLowerCase(),Ve=!0}}E.prototype._isBuffer=!0;function re(Ie,pe,we){var Ve=Ie[pe];Ie[pe]=Ie[we],Ie[we]=Ve}E.prototype.swap16=function(){var pe=this.length;if(pe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<pe;we+=2)re(this,we,we+1);return this},E.prototype.swap32=function(){var pe=this.length;if(pe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<pe;we+=4)re(this,we,we+3),re(this,we+1,we+2);return this},E.prototype.swap64=function(){var pe=this.length;if(pe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<pe;we+=8)re(this,we,we+7),re(this,we+1,we+6),re(this,we+2,we+5),re(this,we+3,we+4);return this},E.prototype.toString=function(){var pe=this.length;return pe===0?"":arguments.length===0?$(this,0,pe):ee.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(pe){if(!E.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe?!0:E.compare(this,pe)===0},E.prototype.inspect=function(){var pe="",we=d.IS;return pe=this.toString("hex",0,we).replace(/(.{2})/g,"$1 ").trim(),this.length>we&&(pe+=" ... "),"<Buffer "+pe+">"},m&&(E.prototype[m]=E.prototype.inspect),E.prototype.compare=function(pe,we,Ve,Qe,it){if(Ze(pe,Uint8Array)&&(pe=E.from(pe,pe.offset,pe.byteLength)),!E.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(pe));if(we===void 0&&(we=0),Ve===void 0&&(Ve=pe?pe.length:0),Qe===void 0&&(Qe=0),it===void 0&&(it=this.length),we<0||Ve>pe.length||Qe<0||it>this.length)throw new RangeError("out of range index");if(Qe>=it&&we>=Ve)return 0;if(Qe>=it)return-1;if(we>=Ve)return 1;if(we>>>=0,Ve>>>=0,Qe>>>=0,it>>>=0,this===pe)return 0;for(var st=it-Qe,Wt=Ve-we,jt=Math.min(st,Wt),Tt=this.slice(Qe,it),Lt=pe.slice(we,Ve),Xt=0;Xt<jt;++Xt)if(Tt[Xt]!==Lt[Xt]){st=Tt[Xt],Wt=Lt[Xt];break}return st<Wt?-1:Wt<st?1:0};function ue(Ie,pe,we,Ve,Qe){if(Ie.length===0)return-1;if(typeof we=="string"?(Ve=we,we=0):we>2147483647?we=2147483647:we<-2147483648&&(we=-2147483648),we=+we,We(we)&&(we=Qe?0:Ie.length-1),we<0&&(we=Ie.length+we),we>=Ie.length){if(Qe)return-1;we=Ie.length-1}else if(we<0)if(Qe)we=0;else return-1;if(typeof pe=="string"&&(pe=E.from(pe,Ve)),E.isBuffer(pe))return pe.length===0?-1:J(Ie,pe,we,Ve,Qe);if(typeof pe=="number")return pe=pe&255,typeof Uint8Array.prototype.indexOf=="function"?Qe?Uint8Array.prototype.indexOf.call(Ie,pe,we):Uint8Array.prototype.lastIndexOf.call(Ie,pe,we):J(Ie,[pe],we,Ve,Qe);throw new TypeError("val must be string, number or Buffer")}function J(Ie,pe,we,Ve,Qe){var it=1,st=Ie.length,Wt=pe.length;if(Ve!==void 0&&(Ve=String(Ve).toLowerCase(),Ve==="ucs2"||Ve==="ucs-2"||Ve==="utf16le"||Ve==="utf-16le")){if(Ie.length<2||pe.length<2)return-1;it=2,st/=2,Wt/=2,we/=2}function jt(yt,Kt){return it===1?yt[Kt]:yt.readUInt16BE(Kt*it)}var Tt;if(Qe){var Lt=-1;for(Tt=we;Tt<st;Tt++)if(jt(Ie,Tt)===jt(pe,Lt===-1?0:Tt-Lt)){if(Lt===-1&&(Lt=Tt),Tt-Lt+1===Wt)return Lt*it}else Lt!==-1&&(Tt-=Tt-Lt),Lt=-1}else for(we+Wt>st&&(we=st-Wt),Tt=we;Tt>=0;Tt--){for(var Xt=!0,Tr=0;Tr<Wt;Tr++)if(jt(Ie,Tt+Tr)!==jt(pe,Tr)){Xt=!1;break}if(Xt)return Tt}return-1}E.prototype.includes=function(pe,we,Ve){return this.indexOf(pe,we,Ve)!==-1},E.prototype.indexOf=function(pe,we,Ve){return ue(this,pe,we,Ve,!0)},E.prototype.lastIndexOf=function(pe,we,Ve){return ue(this,pe,we,Ve,!1)};function X(Ie,pe,we,Ve){we=Number(we)||0;var Qe=Ie.length-we;Ve?(Ve=Number(Ve),Ve>Qe&&(Ve=Qe)):Ve=Qe;var it=pe.length;Ve>it/2&&(Ve=it/2);var st;for(st=0;st<Ve;++st){var Wt=parseInt(pe.substr(st*2,2),16);if(We(Wt))return st;Ie[we+st]=Wt}return st}function ne(Ie,pe,we,Ve){return Xe(xt(pe,Ie.length-we),Ie,we,Ve)}function Y(Ie,pe,we,Ve){return Xe(Mt(pe),Ie,we,Ve)}function oe(Ie,pe,we,Ve){return Xe(Oe(pe),Ie,we,Ve)}function le(Ie,pe,we,Ve){return Xe(tt(pe,Ie.length-we),Ie,we,Ve)}E.prototype.write=function(pe,we,Ve,Qe){if(we===void 0)Qe="utf8",Ve=this.length,we=0;else if(Ve===void 0&&typeof we=="string")Qe=we,Ve=this.length,we=0;else if(isFinite(we))we=we>>>0,isFinite(Ve)?(Ve=Ve>>>0,Qe===void 0&&(Qe="utf8")):(Qe=Ve,Ve=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-we;if((Ve===void 0||Ve>it)&&(Ve=it),pe.length>0&&(Ve<0||we<0)||we>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qe||(Qe="utf8");for(var st=!1;;)switch(Qe){case"hex":return X(this,pe,we,Ve);case"utf8":case"utf-8":return ne(this,pe,we,Ve);case"ascii":case"latin1":case"binary":return Y(this,pe,we,Ve);case"base64":return oe(this,pe,we,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,pe,we,Ve);default:if(st)throw new TypeError("Unknown encoding: "+Qe);Qe=(""+Qe).toLowerCase(),st=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(Ie,pe,we){return pe===0&&we===Ie.length?b.fromByteArray(Ie):b.fromByteArray(Ie.slice(pe,we))}function $(Ie,pe,we){we=Math.min(Ie.length,we);for(var Ve=[],Qe=pe;Qe<we;){var it=Ie[Qe],st=null,Wt=it>239?4:it>223?3:it>191?2:1;if(Qe+Wt<=we){var jt=void 0,Tt=void 0,Lt=void 0,Xt=void 0;switch(Wt){case 1:it<128&&(st=it);break;case 2:jt=Ie[Qe+1],(jt&192)===128&&(Xt=(it&31)<<6|jt&63,Xt>127&&(st=Xt));break;case 3:jt=Ie[Qe+1],Tt=Ie[Qe+2],(jt&192)===128&&(Tt&192)===128&&(Xt=(it&15)<<12|(jt&63)<<6|Tt&63,Xt>2047&&(Xt<55296||Xt>57343)&&(st=Xt));break;case 4:jt=Ie[Qe+1],Tt=Ie[Qe+2],Lt=Ie[Qe+3],(jt&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Xt=(it&15)<<18|(jt&63)<<12|(Tt&63)<<6|Lt&63,Xt>65535&&Xt<1114112&&(st=Xt))}}st===null?(st=65533,Wt=1):st>65535&&(st-=65536,Ve.push(st>>>10&1023|55296),st=56320|st&1023),Ve.push(st),Qe+=Wt}return ae(Ve)}var se=4096;function ae(Ie){var pe=Ie.length;if(pe<=se)return String.fromCharCode.apply(String,Ie);for(var we="",Ve=0;Ve<pe;)we+=String.fromCharCode.apply(String,Ie.slice(Ve,Ve+=se));return we}function he(Ie,pe,we){var Ve="";we=Math.min(Ie.length,we);for(var Qe=pe;Qe<we;++Qe)Ve+=String.fromCharCode(Ie[Qe]&127);return Ve}function me(Ie,pe,we){var Ve="";we=Math.min(Ie.length,we);for(var Qe=pe;Qe<we;++Qe)Ve+=String.fromCharCode(Ie[Qe]);return Ve}function Me(Ie,pe,we){var Ve=Ie.length;(!pe||pe<0)&&(pe=0),(!we||we<0||we>Ve)&&(we=Ve);for(var Qe="",it=pe;it<we;++it)Qe+=ze[Ie[it]];return Qe}function Te(Ie,pe,we){for(var Ve=Ie.slice(pe,we),Qe="",it=0;it<Ve.length-1;it+=2)Qe+=String.fromCharCode(Ve[it]+Ve[it+1]*256);return Qe}E.prototype.slice=function(pe,we){var Ve=this.length;pe=~~pe,we=we===void 0?Ve:~~we,pe<0?(pe+=Ve,pe<0&&(pe=0)):pe>Ve&&(pe=Ve),we<0?(we+=Ve,we<0&&(we=0)):we>Ve&&(we=Ve),we<pe&&(we=pe);var Qe=this.subarray(pe,we);return Object.setPrototypeOf(Qe,E.prototype),Qe};function Pe(Ie,pe,we){if(Ie%1!==0||Ie<0)throw new RangeError("offset is not uint");if(Ie+pe>we)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(pe,we,Ve){pe=pe>>>0,we=we>>>0,Ve||Pe(pe,we,this.length);for(var Qe=this[pe],it=1,st=0;++st<we&&(it*=256);)Qe+=this[pe+st]*it;return Qe},E.prototype.readUintBE=E.prototype.readUIntBE=function(pe,we,Ve){pe=pe>>>0,we=we>>>0,Ve||Pe(pe,we,this.length);for(var Qe=this[pe+--we],it=1;we>0&&(it*=256);)Qe+=this[pe+--we]*it;return Qe},E.prototype.readUint8=E.prototype.readUInt8=function(pe,we){return pe=pe>>>0,we||Pe(pe,1,this.length),this[pe]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(pe,we){return pe=pe>>>0,we||Pe(pe,2,this.length),this[pe]|this[pe+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(pe,we){return pe=pe>>>0,we||Pe(pe,2,this.length),this[pe]<<8|this[pe+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+this[pe+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),this[pe]*16777216+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},E.prototype.readBigUInt64LE=ke(function(pe){pe=pe>>>0,et(pe,"offset");var we=this[pe],Ve=this[pe+7];(we===void 0||Ve===void 0)&&ct(pe,this.length-8);var Qe=we+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),it=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+Ve*Math.pow(2,24);return BigInt(Qe)+(BigInt(it)<<BigInt(32))}),E.prototype.readBigUInt64BE=ke(function(pe){pe=pe>>>0,et(pe,"offset");var we=this[pe],Ve=this[pe+7];(we===void 0||Ve===void 0)&&ct(pe,this.length-8);var Qe=we*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],it=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Ve;return(BigInt(Qe)<<BigInt(32))+BigInt(it)}),E.prototype.readIntLE=function(pe,we,Ve){pe=pe>>>0,we=we>>>0,Ve||Pe(pe,we,this.length);for(var Qe=this[pe],it=1,st=0;++st<we&&(it*=256);)Qe+=this[pe+st]*it;return it*=128,Qe>=it&&(Qe-=Math.pow(2,8*we)),Qe},E.prototype.readIntBE=function(pe,we,Ve){pe=pe>>>0,we=we>>>0,Ve||Pe(pe,we,this.length);for(var Qe=we,it=1,st=this[pe+--Qe];Qe>0&&(it*=256);)st+=this[pe+--Qe]*it;return it*=128,st>=it&&(st-=Math.pow(2,8*we)),st},E.prototype.readInt8=function(pe,we){return pe=pe>>>0,we||Pe(pe,1,this.length),this[pe]&128?(255-this[pe]+1)*-1:this[pe]},E.prototype.readInt16LE=function(pe,we){pe=pe>>>0,we||Pe(pe,2,this.length);var Ve=this[pe]|this[pe+1]<<8;return Ve&32768?Ve|4294901760:Ve},E.prototype.readInt16BE=function(pe,we){pe=pe>>>0,we||Pe(pe,2,this.length);var Ve=this[pe+1]|this[pe]<<8;return Ve&32768?Ve|4294901760:Ve},E.prototype.readInt32LE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},E.prototype.readInt32BE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},E.prototype.readBigInt64LE=ke(function(pe){pe=pe>>>0,et(pe,"offset");var we=this[pe],Ve=this[pe+7];(we===void 0||Ve===void 0)&&ct(pe,this.length-8);var Qe=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(Ve<<24);return(BigInt(Qe)<<BigInt(32))+BigInt(we+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),E.prototype.readBigInt64BE=ke(function(pe){pe=pe>>>0,et(pe,"offset");var we=this[pe],Ve=this[pe+7];(we===void 0||Ve===void 0)&&ct(pe,this.length-8);var Qe=(we<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(Qe)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Ve)}),E.prototype.readFloatLE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),P.read(this,pe,!0,23,4)},E.prototype.readFloatBE=function(pe,we){return pe=pe>>>0,we||Pe(pe,4,this.length),P.read(this,pe,!1,23,4)},E.prototype.readDoubleLE=function(pe,we){return pe=pe>>>0,we||Pe(pe,8,this.length),P.read(this,pe,!0,52,8)},E.prototype.readDoubleBE=function(pe,we){return pe=pe>>>0,we||Pe(pe,8,this.length),P.read(this,pe,!1,52,8)};function be(Ie,pe,we,Ve,Qe,it){if(!E.isBuffer(Ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(pe>Qe||pe<it)throw new RangeError('"value" argument is out of bounds');if(we+Ve>Ie.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(pe,we,Ve,Qe){if(pe=+pe,we=we>>>0,Ve=Ve>>>0,!Qe){var it=Math.pow(2,8*Ve)-1;be(this,pe,we,Ve,it,0)}var st=1,Wt=0;for(this[we]=pe&255;++Wt<Ve&&(st*=256);)this[we+Wt]=pe/st&255;return we+Ve},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(pe,we,Ve,Qe){if(pe=+pe,we=we>>>0,Ve=Ve>>>0,!Qe){var it=Math.pow(2,8*Ve)-1;be(this,pe,we,Ve,it,0)}var st=Ve-1,Wt=1;for(this[we+st]=pe&255;--st>=0&&(Wt*=256);)this[we+st]=pe/Wt&255;return we+Ve},E.prototype.writeUint8=E.prototype.writeUInt8=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,1,255,0),this[we]=pe&255,we+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,2,65535,0),this[we]=pe&255,this[we+1]=pe>>>8,we+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,2,65535,0),this[we]=pe>>>8,this[we+1]=pe&255,we+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,4,4294967295,0),this[we+3]=pe>>>24,this[we+2]=pe>>>16,this[we+1]=pe>>>8,this[we]=pe&255,we+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,4,4294967295,0),this[we]=pe>>>24,this[we+1]=pe>>>16,this[we+2]=pe>>>8,this[we+3]=pe&255,we+4};function Ee(Ie,pe,we,Ve,Qe){ot(pe,Ve,Qe,Ie,we,7);var it=Number(pe&BigInt(4294967295));Ie[we++]=it,it=it>>8,Ie[we++]=it,it=it>>8,Ie[we++]=it,it=it>>8,Ie[we++]=it;var st=Number(pe>>BigInt(32)&BigInt(4294967295));return Ie[we++]=st,st=st>>8,Ie[we++]=st,st=st>>8,Ie[we++]=st,st=st>>8,Ie[we++]=st,we}function xe(Ie,pe,we,Ve,Qe){ot(pe,Ve,Qe,Ie,we,7);var it=Number(pe&BigInt(4294967295));Ie[we+7]=it,it=it>>8,Ie[we+6]=it,it=it>>8,Ie[we+5]=it,it=it>>8,Ie[we+4]=it;var st=Number(pe>>BigInt(32)&BigInt(4294967295));return Ie[we+3]=st,st=st>>8,Ie[we+2]=st,st=st>>8,Ie[we+1]=st,st=st>>8,Ie[we]=st,we+8}E.prototype.writeBigUInt64LE=ke(function(pe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,pe,we,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=ke(function(pe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xe(this,pe,we,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(pe,we,Ve,Qe){if(pe=+pe,we=we>>>0,!Qe){var it=Math.pow(2,8*Ve-1);be(this,pe,we,Ve,it-1,-it)}var st=0,Wt=1,jt=0;for(this[we]=pe&255;++st<Ve&&(Wt*=256);)pe<0&&jt===0&&this[we+st-1]!==0&&(jt=1),this[we+st]=(pe/Wt>>0)-jt&255;return we+Ve},E.prototype.writeIntBE=function(pe,we,Ve,Qe){if(pe=+pe,we=we>>>0,!Qe){var it=Math.pow(2,8*Ve-1);be(this,pe,we,Ve,it-1,-it)}var st=Ve-1,Wt=1,jt=0;for(this[we+st]=pe&255;--st>=0&&(Wt*=256);)pe<0&&jt===0&&this[we+st+1]!==0&&(jt=1),this[we+st]=(pe/Wt>>0)-jt&255;return we+Ve},E.prototype.writeInt8=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,1,127,-128),pe<0&&(pe=255+pe+1),this[we]=pe&255,we+1},E.prototype.writeInt16LE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,2,32767,-32768),this[we]=pe&255,this[we+1]=pe>>>8,we+2},E.prototype.writeInt16BE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,2,32767,-32768),this[we]=pe>>>8,this[we+1]=pe&255,we+2},E.prototype.writeInt32LE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,4,2147483647,-2147483648),this[we]=pe&255,this[we+1]=pe>>>8,this[we+2]=pe>>>16,this[we+3]=pe>>>24,we+4},E.prototype.writeInt32BE=function(pe,we,Ve){return pe=+pe,we=we>>>0,Ve||be(this,pe,we,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[we]=pe>>>24,this[we+1]=pe>>>16,this[we+2]=pe>>>8,this[we+3]=pe&255,we+4},E.prototype.writeBigInt64LE=ke(function(pe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,pe,we,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=ke(function(pe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xe(this,pe,we,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(Ie,pe,we,Ve,Qe,it){if(we+Ve>Ie.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function Ue(Ie,pe,we,Ve,Qe){return pe=+pe,we=we>>>0,Qe||Ce(Ie,pe,we,4),P.write(Ie,pe,we,Ve,23,4),we+4}E.prototype.writeFloatLE=function(pe,we,Ve){return Ue(this,pe,we,!0,Ve)},E.prototype.writeFloatBE=function(pe,we,Ve){return Ue(this,pe,we,!1,Ve)};function Ne(Ie,pe,we,Ve,Qe){return pe=+pe,we=we>>>0,Qe||Ce(Ie,pe,we,8),P.write(Ie,pe,we,Ve,52,8),we+8}E.prototype.writeDoubleLE=function(pe,we,Ve){return Ne(this,pe,we,!0,Ve)},E.prototype.writeDoubleBE=function(pe,we,Ve){return Ne(this,pe,we,!1,Ve)},E.prototype.copy=function(pe,we,Ve,Qe){if(!E.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(Ve||(Ve=0),!Qe&&Qe!==0&&(Qe=this.length),we>=pe.length&&(we=pe.length),we||(we=0),Qe>0&&Qe<Ve&&(Qe=Ve),Qe===Ve||pe.length===0||this.length===0)return 0;if(we<0)throw new RangeError("targetStart out of bounds");if(Ve<0||Ve>=this.length)throw new RangeError("Index out of range");if(Qe<0)throw new RangeError("sourceEnd out of bounds");Qe>this.length&&(Qe=this.length),pe.length-we<Qe-Ve&&(Qe=pe.length-we+Ve);var it=Qe-Ve;return this===pe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(we,Ve,Qe):Uint8Array.prototype.set.call(pe,this.subarray(Ve,Qe),we),it},E.prototype.fill=function(pe,we,Ve,Qe){if(typeof pe=="string"){if(typeof we=="string"?(Qe=we,we=0,Ve=this.length):typeof Ve=="string"&&(Qe=Ve,Ve=this.length),Qe!==void 0&&typeof Qe!="string")throw new TypeError("encoding must be a string");if(typeof Qe=="string"&&!E.isEncoding(Qe))throw new TypeError("Unknown encoding: "+Qe);if(pe.length===1){var it=pe.charCodeAt(0);(Qe==="utf8"&&it<128||Qe==="latin1")&&(pe=it)}}else typeof pe=="number"?pe=pe&255:typeof pe=="boolean"&&(pe=Number(pe));if(we<0||this.length<we||this.length<Ve)throw new RangeError("Out of range index");if(Ve<=we)return this;we=we>>>0,Ve=Ve===void 0?this.length:Ve>>>0,pe||(pe=0);var st;if(typeof pe=="number")for(st=we;st<Ve;++st)this[st]=pe;else{var Wt=E.isBuffer(pe)?pe:E.from(pe,Qe),jt=Wt.length;if(jt===0)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(st=0;st<Ve-we;++st)this[st+we]=Wt[st%jt]}return this};var De={};function He(Ie,pe,we){De[Ie]=function(Ve){function Qe(){var it;return t(this,Qe),it=l(this,Qe),Object.defineProperty(it,"message",{value:pe.apply(it,arguments),writable:!0,configurable:!0}),it.name="".concat(it.name," [").concat(Ie,"]"),it.stack,delete it.name,it}return o(Qe,Ve),n(Qe,[{key:"code",get:function(){return Ie},set:function(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ie,"]: ").concat(this.message)}}])}(we)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Ie){return Ie?"".concat(Ie," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Ie,pe){return'The "'.concat(Ie,'" argument must be of type number. Received type ').concat(x(pe))},TypeError),He("ERR_OUT_OF_RANGE",function(Ie,pe,we){var Ve='The value of "'.concat(Ie,'" is out of range.'),Qe=we;return Number.isInteger(we)&&Math.abs(we)>Math.pow(2,32)?Qe=at(String(we)):typeof we=="bigint"&&(Qe=String(we),(we>Math.pow(BigInt(2),BigInt(32))||we<-Math.pow(BigInt(2),BigInt(32)))&&(Qe=at(Qe)),Qe+="n"),Ve+=" It must be ".concat(pe,". Received ").concat(Qe),Ve},RangeError);function at(Ie){for(var pe="",we=Ie.length,Ve=Ie[0]==="-"?1:0;we>=Ve+4;we-=3)pe="_".concat(Ie.slice(we-3,we)).concat(pe);return"".concat(Ie.slice(0,we)).concat(pe)}function vt(Ie,pe,we){et(pe,"offset"),(Ie[pe]===void 0||Ie[pe+we]===void 0)&&ct(pe,Ie.length-(we+1))}function ot(Ie,pe,we,Ve,Qe,it){if(Ie>we||Ie<pe){var st=typeof pe=="bigint"?"n":"",Wt;throw pe===0||pe===BigInt(0)?Wt=">= 0".concat(st," and < 2").concat(st," ** ").concat((it+1)*8).concat(st):Wt=">= -(2".concat(st," ** ").concat((it+1)*8-1).concat(st,") and < 2 ** ")+"".concat((it+1)*8-1).concat(st),new De.ERR_OUT_OF_RANGE("value",Wt,Ie)}vt(Ve,Qe,it)}function et(Ie,pe){if(typeof Ie!="number")throw new De.ERR_INVALID_ARG_TYPE(pe,"number",Ie)}function ct(Ie,pe,we){throw Math.floor(Ie)!==Ie?(et(Ie,we),new De.ERR_OUT_OF_RANGE("offset","an integer",Ie)):pe<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(pe),Ie)}var ht=/[^+/0-9A-Za-z-_]/g;function gt(Ie){if(Ie=Ie.split("=")[0],Ie=Ie.trim().replace(ht,""),Ie.length<2)return"";for(;Ie.length%4!==0;)Ie=Ie+"=";return Ie}function xt(Ie,pe){pe=pe||1/0;for(var we,Ve=Ie.length,Qe=null,it=[],st=0;st<Ve;++st){if(we=Ie.charCodeAt(st),we>55295&&we<57344){if(!Qe){if(we>56319){(pe-=3)>-1&&it.push(239,191,189);continue}else if(st+1===Ve){(pe-=3)>-1&&it.push(239,191,189);continue}Qe=we;continue}if(we<56320){(pe-=3)>-1&&it.push(239,191,189),Qe=we;continue}we=(Qe-55296<<10|we-56320)+65536}else Qe&&(pe-=3)>-1&&it.push(239,191,189);if(Qe=null,we<128){if((pe-=1)<0)break;it.push(we)}else if(we<2048){if((pe-=2)<0)break;it.push(we>>6|192,we&63|128)}else if(we<65536){if((pe-=3)<0)break;it.push(we>>12|224,we>>6&63|128,we&63|128)}else if(we<1114112){if((pe-=4)<0)break;it.push(we>>18|240,we>>12&63|128,we>>6&63|128,we&63|128)}else throw new Error("Invalid code point")}return it}function Mt(Ie){for(var pe=[],we=0;we<Ie.length;++we)pe.push(Ie.charCodeAt(we)&255);return pe}function tt(Ie,pe){for(var we,Ve,Qe,it=[],st=0;st<Ie.length&&!((pe-=2)<0);++st)we=Ie.charCodeAt(st),Ve=we>>8,Qe=we%256,it.push(Qe),it.push(Ve);return it}function Oe(Ie){return b.toByteArray(gt(Ie))}function Xe(Ie,pe,we,Ve){var Qe;for(Qe=0;Qe<Ve&&!(Qe+we>=pe.length||Qe>=Ie.length);++Qe)pe[Qe+we]=Ie[Qe];return Qe}function Ze(Ie,pe){return Ie instanceof pe||Ie!=null&&Ie.constructor!=null&&Ie.constructor.name!=null&&Ie.constructor.name===pe.name}function We(Ie){return Ie!==Ie}var ze=function(){for(var Ie="0123456789abcdef",pe=new Array(256),we=0;we<16;++we)for(var Ve=we*16,Qe=0;Qe<16;++Qe)pe[Ve+Qe]=Ie[we]+Ie[Qe];return pe}();function ke(Ie){return typeof BigInt>"u"?je:Ie}function je(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=a,v.exports.isMobile=a,v.exports.default=a;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function a(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=d.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,d,r){v.exports=l;var t=r(7261),a=r(9977),n=r(4192);function f(y,h){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(T){return y[T]}),this._mode=h,this._active=y[h],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(y){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(y)},u.idle=function(y){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(y)},u.lookAt=function(y,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].lookAt(y,h,T,c)},u.rotate=function(y,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].rotate(y,h,T,c)},u.pan=function(y,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].pan(y,h,T,c)},u.translate=function(y,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].translate(y,h,T,c)},u.setMatrix=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(y,h)},u.setDistanceLimits=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(y,h)},u.setDistance=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(y,h)},u.recalcMatrix=function(y){this._active.recalcMatrix(y)},u.getDistance=function(y){return this._active.getDistance(y)},u.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},u.lastT=function(){return this._active.lastT()},u.setMode=function(y){if(y!==this._mode){var h=this._controllerNames.indexOf(y);if(!(h<0)){var T=this._active,c=this._controllerList[h],o=Math.max(T.lastT(),c.lastT());T.recalcMatrix(o),c.setMatrix(o,T.computedMatrix),this._active=c,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(y){y=y||{};var h=y.eye||[0,0,1],T=y.center||[0,0,0],c=y.up||[0,1,0],o=y.distanceLimits||[0,1/0],p=y.mode||"turntable",x=t(),b=a(),P=n();return x.setDistanceLimits(o[0],o[1]),x.lookAt(0,h,T,c),b.setDistanceLimits(o[0],o[1]),b.lookAt(0,h,T,c),P.setDistanceLimits(o[0],o[1]),P.lookAt(0,h,T,c),new f({turntable:x,orbit:b,matrix:P},p)}},7169:function(v,d,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,a=r(2762),n=r(8116),f=new t;function u(l){var y=f.get(l),h=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var T=a(l,new Float32Array([-1,-1,-1,4,4,-1]));y=n(l,[{buffer:T,type:l.FLOAT,size:2}]),y._triangleBuffer=T,f.set(l,y)}y.bind(),l.drawArrays(l.TRIANGLES,0,3),y.unbind()}v.exports=u},1085:function(v,d,r){var t=r(1371);v.exports=a;function a(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),y=String(l.length+f-1).length;return l.map(function(h,T){var c=T+f,o=String(c).length,p=t(c,y-o);return p+u+h}).join(`
`)}},3952:function(v,d,r){v.exports=n;var t=r(3250);function a(f,u){for(var l=new Array(u+1),y=0;y<f.length;++y)l[y]=f[y];for(var y=0;y<=f.length;++y){for(var h=f.length;h<=u;++h){for(var T=new Array(u),c=0;c<u;++c)T[c]=Math.pow(h+1-y,c);l[h]=T}var o=t.apply(void 0,l);if(o)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,y=[f[0]],h=[0],T=1;T<u;++T){if(y.push(f[T]),!a(y,l)){y.pop();continue}if(h.push(T),h.length===l+1)return h}return h}},5995:function(v,d,r){v.exports=n;var t=r(7642),a=r(6037);function n(f,u){return t(u).filter(function(l){for(var y=new Array(l.length),h=0;h<l.length;++h)y[h]=u[l[h]];return a(y)*f<1})}},3502:function(v,d,r){v.exports=n;var t=r(5995),a=r(9127);function n(f,u){return a(t(f,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,d,r){v.exports=n;var t=r(727);function a(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,y=new Array(l+1),h=0;h<l;++h){for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=f[c][h];y[h]=T}y[l]=new Array(l+1);for(var h=0;h<=l;++h)y[l][h]=1;for(var o=new Array(l+1),h=0;h<l;++h)o[h]=u[h];o[l]=1;var p=t(y,o),x=a(p[l+1]);x===0&&(x=1);for(var b=new Array(l+1),h=0;h<=l;++h)b[h]=a(p[h])/x;return b}},7507:function(v,d){d.byteLength=y,d.toByteArray=T,d.fromByteArray=p;for(var r=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(x){var b=x.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=x.indexOf("=");P===-1&&(P=b);var m=P===b?0:4-P%4;return[P,m]}function y(x){var b=l(x),P=b[0],m=b[1];return(P+m)*3/4-m}function h(x,b,P){return(b+P)*3/4-P}function T(x){var b,P=l(x),m=P[0],L=P[1],M=new a(h(x,m,L)),s=0,E=L>0?m-4:m,w;for(w=0;w<E;w+=4)b=t[x.charCodeAt(w)]<<18|t[x.charCodeAt(w+1)]<<12|t[x.charCodeAt(w+2)]<<6|t[x.charCodeAt(w+3)],M[s++]=b>>16&255,M[s++]=b>>8&255,M[s++]=b&255;return L===2&&(b=t[x.charCodeAt(w)]<<2|t[x.charCodeAt(w+1)]>>4,M[s++]=b&255),L===1&&(b=t[x.charCodeAt(w)]<<10|t[x.charCodeAt(w+1)]<<4|t[x.charCodeAt(w+2)]>>2,M[s++]=b>>8&255,M[s++]=b&255),M}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function o(x,b,P){for(var m,L=[],M=b;M<P;M+=3)m=(x[M]<<16&16711680)+(x[M+1]<<8&65280)+(x[M+2]&255),L.push(c(m));return L.join("")}function p(x){for(var b,P=x.length,m=P%3,L=[],M=16383,s=0,E=P-m;s<E;s+=M)L.push(o(x,s,s+M>E?E:s+M));return m===1?(b=x[P-1],L.push(r[b>>2]+r[b<<4&63]+"==")):m===2&&(b=(x[P-2]<<8)+x[P-1],L.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),L.join("")}},3865:function(v,d,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=d;function d(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,d,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,d,r){var t=r(6330),a=r(1533),n=r(2651),f=r(4387),u=r(869),l=r(8697);v.exports=y;function y(h,T){if(t(h))return T?l(h,y(T)):[h[0].clone(),h[1].clone()];var c=0,o,p;if(a(h))o=h.clone();else if(typeof h=="string")o=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=n(h)}}if(t(T))o.mul(T[1]),p=T[0].clone();else if(a(T))p=T.clone();else if(typeof T=="string")p=f(T);else if(!T)p=n(1);else if(T===Math.floor(T))p=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;p=n(T)}return c>0?o=o.ushln(c):c<0&&(p=p.ushln(-c)),u(o,p)}},6330:function(v,d,r){var t=r(1533);v.exports=a;function a(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,d,r){var t=r(6859);v.exports=a;function a(n){return n.cmp(new t(0))}},1369:function(v,d,r){var t=r(5716);v.exports=a;function a(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var y=0;y<f;y++){var h=u[y];l+=h*Math.pow(67108864,y)}return t(n)*l}},4025:function(v,d,r){var t=r(2361),a=r(8828).countTrailingZeros;v.exports=n;function n(f){var u=a(t.lo(f));if(u<32)return u;var l=a(t.hi(f));return l>20?52:l+32}},1533:function(v,d,r){r(6859),v.exports=t;function t(a){return a&&typeof a=="object"&&!!a.words}},2651:function(v,d,r){var t=r(6859),a=r(2361);v.exports=n;function n(f){var u=a.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,d,r){var t=r(2651),a=r(5716);v.exports=n;function n(f,u){var l=a(f),y=a(u);if(l===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},4387:function(v,d,r){var t=r(6859);v.exports=a;function a(n){return new t(n)}},6504:function(v,d,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,d,r){var t=r(5716);v.exports=a;function a(n){return t(n[0])*t(n[1])}},5572:function(v,d,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,d,r){var t=r(1369),a=r(4025);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var y=u.abs().divmod(l.abs()),h=y.div,T=t(h),c=y.mod,o=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return o*T;if(T){var p=a(T)+4,x=t(c.ushln(p).divRound(l));return o*(T+x*Math.pow(2,-p))}else{var b=l.bitLength()-c.bitLength()+53,x=t(c.ushln(b).divRound(l));return b<1023?o*x*Math.pow(2,-b):(x*=Math.pow(2,-1023),o*x*Math.pow(2,1023-b))}}},2478:function(v){function d(u,l,y,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,p=u[o],x=y!==void 0?y(p,l):p-l;x>=0?(c=o,T=o-1):h=o+1}return c}function r(u,l,y,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,p=u[o],x=y!==void 0?y(p,l):p-l;x>0?(c=o,T=o-1):h=o+1}return c}function t(u,l,y,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,p=u[o],x=y!==void 0?y(p,l):p-l;x<0?(c=o,h=o+1):T=o-1}return c}function a(u,l,y,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,p=u[o],x=y!==void 0?y(p,l):p-l;x<=0?(c=o,h=o+1):T=o-1}return c}function n(u,l,y,h,T){for(;h<=T;){var c=h+T>>>1,o=u[c],p=y!==void 0?y(o,l):o-l;if(p===0)return c;p<=0?h=c+1:T=c-1}return-1}function f(u,l,y,h,T,c){return typeof y=="function"?c(u,l,y,h===void 0?0:h|0,T===void 0?u.length-1:T|0):c(u,l,void 0,y===void 0?0:y|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,y,h,T){return f(u,l,y,h,T,d)},gt:function(u,l,y,h,T){return f(u,l,y,h,T,r)},lt:function(u,l,y,h,T){return f(u,l,y,h,T,t)},le:function(u,l,y,h,T){return f(u,l,y,h,T,a)},eq:function(u,l,y,h,T){return f(u,l,y,h,T,n)}}},8828:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var f=n>>r-1;return(n^f)-f},d.min=function(n,f){return f^(n^f)&-(n<f)},d.max=function(n,f){return n^(n^f)&-(n<f)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}d.countTrailingZeros=t,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,y=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--y;n[f]=l<<y&255}})(a),d.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},d.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},d.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},d.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,d,r){v=r.nmd(v),function(t,a){function n(U,B){if(!U)throw new Error(B||"Assertion failed")}function f(U,B){U.super_=B;var V=function(){};V.prototype=B.prototype,U.prototype=new V,U.prototype.constructor=U}function u(U,B,V){if(u.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((B==="le"||B==="be")&&(V=B,B=10),this._init(U||0,B||10,V||"be"))}typeof t=="object"?t.exports=u:a.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}u.isBN=function(B){return B instanceof u?!0:B!==null&&typeof B=="object"&&B.constructor.wordSize===u.wordSize&&Array.isArray(B.words)},u.max=function(B,V){return B.cmp(V)>0?B:V},u.min=function(B,V){return B.cmp(V)<0?B:V},u.prototype._init=function(B,V,j){if(typeof B=="number")return this._initNumber(B,V,j);if(typeof B=="object")return this._initArray(B,V,j);V==="hex"&&(V=16),n(V===(V|0)&&V>=2&&V<=36),B=B.toString().replace(/\s+/g,"");var Q=0;B[0]==="-"&&(Q++,this.negative=1),Q<B.length&&(V===16?this._parseHex(B,Q,j):(this._parseBase(B,V,Q),j==="le"&&this._initArray(this.toArray(),V,j)))},u.prototype._initNumber=function(B,V,j){B<0&&(this.negative=1,B=-B),B<67108864?(this.words=[B&67108863],this.length=1):B<4503599627370496?(this.words=[B&67108863,B/67108864&67108863],this.length=2):(n(B<9007199254740992),this.words=[B&67108863,B/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),V,j)},u.prototype._initArray=function(B,V,j){if(n(typeof B.length=="number"),B.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(B.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var ee,re,ue=0;if(j==="be")for(Q=B.length-1,ee=0;Q>=0;Q-=3)re=B[Q]|B[Q-1]<<8|B[Q-2]<<16,this.words[ee]|=re<<ue&67108863,this.words[ee+1]=re>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,ee++);else if(j==="le")for(Q=0,ee=0;Q<B.length;Q+=3)re=B[Q]|B[Q+1]<<8|B[Q+2]<<16,this.words[ee]|=re<<ue&67108863,this.words[ee+1]=re>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,ee++);return this.strip()};function y(U,B){var V=U.charCodeAt(B);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function h(U,B,V){var j=y(U,V);return V-1>=B&&(j|=y(U,V-1)<<4),j}u.prototype._parseHex=function(B,V,j){this.length=Math.ceil((B.length-V)/6),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var ee=0,re=0,ue;if(j==="be")for(Q=B.length-1;Q>=V;Q-=2)ue=h(B,V,Q)<<ee,this.words[re]|=ue&67108863,ee>=18?(ee-=18,re+=1,this.words[re]|=ue>>>26):ee+=8;else{var J=B.length-V;for(Q=J%2===0?V+1:V;Q<B.length;Q+=2)ue=h(B,V,Q)<<ee,this.words[re]|=ue&67108863,ee>=18?(ee-=18,re+=1,this.words[re]|=ue>>>26):ee+=8}this.strip()};function T(U,B,V,j){for(var Q=0,ee=Math.min(U.length,V),re=B;re<ee;re++){var ue=U.charCodeAt(re)-48;Q*=j,ue>=49?Q+=ue-49+10:ue>=17?Q+=ue-17+10:Q+=ue}return Q}u.prototype._parseBase=function(B,V,j){this.words=[0],this.length=1;for(var Q=0,ee=1;ee<=67108863;ee*=V)Q++;Q--,ee=ee/V|0;for(var re=B.length-j,ue=re%Q,J=Math.min(re,re-ue)+j,X=0,ne=j;ne<J;ne+=Q)X=T(B,ne,ne+Q,V),this.imuln(ee),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(ue!==0){var Y=1;for(X=T(B,ne,B.length,V),ne=0;ne<ue;ne++)Y*=V;this.imuln(Y),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},u.prototype.copy=function(B){B.words=new Array(this.length);for(var V=0;V<this.length;V++)B.words[V]=this.words[V];B.length=this.length,B.negative=this.negative,B.red=this.red},u.prototype.clone=function(){var B=new u(null);return this.copy(B),B},u.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(B,V){B=B||10,V=V|0||1;var j;if(B===16||B==="hex"){j="";for(var Q=0,ee=0,re=0;re<this.length;re++){var ue=this.words[re],J=((ue<<Q|ee)&16777215).toString(16);ee=ue>>>24-Q&16777215,ee!==0||re!==this.length-1?j=c[6-J.length]+J+j:j=J+j,Q+=2,Q>=26&&(Q-=26,re--)}for(ee!==0&&(j=ee.toString(16)+j);j.length%V!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(B===(B|0)&&B>=2&&B<=36){var X=o[B],ne=p[B];j="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var oe=Y.modn(ne).toString(B);Y=Y.idivn(ne),Y.isZero()?j=oe+j:j=c[X-oe.length]+oe+j}for(this.isZero()&&(j="0"+j);j.length%V!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=this.words[1]*67108864:this.length===3&&this.words[2]===1?B+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-B:B},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(B,V){return n(typeof l<"u"),this.toArrayLike(l,B,V)},u.prototype.toArray=function(B,V){return this.toArrayLike(Array,B,V)},u.prototype.toArrayLike=function(B,V,j){var Q=this.byteLength(),ee=j||Math.max(1,Q);n(Q<=ee,"byte array longer than desired length"),n(ee>0,"Requested array length <= 0"),this.strip();var re=V==="le",ue=new B(ee),J,X,ne=this.clone();if(re){for(X=0;!ne.isZero();X++)J=ne.andln(255),ne.iushrn(8),ue[X]=J;for(;X<ee;X++)ue[X]=0}else{for(X=0;X<ee-Q;X++)ue[X]=0;for(X=0;!ne.isZero();X++)J=ne.andln(255),ne.iushrn(8),ue[ee-X-1]=J}return ue},Math.clz32?u.prototype._countBits=function(B){return 32-Math.clz32(B)}:u.prototype._countBits=function(B){var V=B,j=0;return V>=4096&&(j+=13,V>>>=13),V>=64&&(j+=7,V>>>=7),V>=8&&(j+=4,V>>>=4),V>=2&&(j+=2,V>>>=2),j+V},u.prototype._zeroBits=function(B){if(B===0)return 26;var V=B,j=0;return V&8191||(j+=13,V>>>=13),V&127||(j+=7,V>>>=7),V&15||(j+=4,V>>>=4),V&3||(j+=2,V>>>=2),V&1||j++,j},u.prototype.bitLength=function(){var B=this.words[this.length-1],V=this._countBits(B);return(this.length-1)*26+V};function x(U){for(var B=new Array(U.bitLength()),V=0;V<B.length;V++){var j=V/26|0,Q=V%26;B[V]=(U.words[j]&1<<Q)>>>Q}return B}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,V=0;V<this.length;V++){var j=this._zeroBits(this.words[V]);if(B+=j,j!==26)break}return B},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(B){return this.negative!==0?this.abs().inotn(B).iaddn(1):this.clone()},u.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var V=0;V<B.length;V++)this.words[V]=this.words[V]|B.words[V];return this.strip()},u.prototype.ior=function(B){return n((this.negative|B.negative)===0),this.iuor(B)},u.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},u.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},u.prototype.iuand=function(B){var V;this.length>B.length?V=B:V=this;for(var j=0;j<V.length;j++)this.words[j]=this.words[j]&B.words[j];return this.length=V.length,this.strip()},u.prototype.iand=function(B){return n((this.negative|B.negative)===0),this.iuand(B)},u.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},u.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},u.prototype.iuxor=function(B){var V,j;this.length>B.length?(V=this,j=B):(V=B,j=this);for(var Q=0;Q<j.length;Q++)this.words[Q]=V.words[Q]^j.words[Q];if(this!==V)for(;Q<V.length;Q++)this.words[Q]=V.words[Q];return this.length=V.length,this.strip()},u.prototype.ixor=function(B){return n((this.negative|B.negative)===0),this.iuxor(B)},u.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},u.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},u.prototype.inotn=function(B){n(typeof B=="number"&&B>=0);var V=Math.ceil(B/26)|0,j=B%26;this._expand(V),j>0&&V--;for(var Q=0;Q<V;Q++)this.words[Q]=~this.words[Q]&67108863;return j>0&&(this.words[Q]=~this.words[Q]&67108863>>26-j),this.strip()},u.prototype.notn=function(B){return this.clone().inotn(B)},u.prototype.setn=function(B,V){n(typeof B=="number"&&B>=0);var j=B/26|0,Q=B%26;return this._expand(j+1),V?this.words[j]=this.words[j]|1<<Q:this.words[j]=this.words[j]&~(1<<Q),this.strip()},u.prototype.iadd=function(B){var V;if(this.negative!==0&&B.negative===0)return this.negative=0,V=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,V=this.isub(B),B.negative=1,V._normSign();var j,Q;this.length>B.length?(j=this,Q=B):(j=B,Q=this);for(var ee=0,re=0;re<Q.length;re++)V=(j.words[re]|0)+(Q.words[re]|0)+ee,this.words[re]=V&67108863,ee=V>>>26;for(;ee!==0&&re<j.length;re++)V=(j.words[re]|0)+ee,this.words[re]=V&67108863,ee=V>>>26;if(this.length=j.length,ee!==0)this.words[this.length]=ee,this.length++;else if(j!==this)for(;re<j.length;re++)this.words[re]=j.words[re];return this},u.prototype.add=function(B){var V;return B.negative!==0&&this.negative===0?(B.negative=0,V=this.sub(B),B.negative^=1,V):B.negative===0&&this.negative!==0?(this.negative=0,V=B.sub(this),this.negative=1,V):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},u.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var V=this.iadd(B);return B.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var j=this.cmp(B);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Q,ee;j>0?(Q=this,ee=B):(Q=B,ee=this);for(var re=0,ue=0;ue<ee.length;ue++)V=(Q.words[ue]|0)-(ee.words[ue]|0)+re,re=V>>26,this.words[ue]=V&67108863;for(;re!==0&&ue<Q.length;ue++)V=(Q.words[ue]|0)+re,re=V>>26,this.words[ue]=V&67108863;if(re===0&&ue<Q.length&&Q!==this)for(;ue<Q.length;ue++)this.words[ue]=Q.words[ue];return this.length=Math.max(this.length,ue),Q!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(B){return this.clone().isub(B)};function b(U,B,V){V.negative=B.negative^U.negative;var j=U.length+B.length|0;V.length=j,j=j-1|0;var Q=U.words[0]|0,ee=B.words[0]|0,re=Q*ee,ue=re&67108863,J=re/67108864|0;V.words[0]=ue;for(var X=1;X<j;X++){for(var ne=J>>>26,Y=J&67108863,oe=Math.min(X,B.length-1),le=Math.max(0,X-U.length+1);le<=oe;le++){var Z=X-le|0;Q=U.words[Z]|0,ee=B.words[le]|0,re=Q*ee+Y,ne+=re/67108864|0,Y=re&67108863}V.words[X]=Y|0,J=ne|0}return J!==0?V.words[X]=J|0:V.length--,V.strip()}var P=function(B,V,j){var Q=B.words,ee=V.words,re=j.words,ue=0,J,X,ne,Y=Q[0]|0,oe=Y&8191,le=Y>>>13,Z=Q[1]|0,$=Z&8191,se=Z>>>13,ae=Q[2]|0,he=ae&8191,me=ae>>>13,Me=Q[3]|0,Te=Me&8191,Pe=Me>>>13,be=Q[4]|0,Ee=be&8191,xe=be>>>13,Ce=Q[5]|0,Ue=Ce&8191,Ne=Ce>>>13,De=Q[6]|0,He=De&8191,at=De>>>13,vt=Q[7]|0,ot=vt&8191,et=vt>>>13,ct=Q[8]|0,ht=ct&8191,gt=ct>>>13,xt=Q[9]|0,Mt=xt&8191,tt=xt>>>13,Oe=ee[0]|0,Xe=Oe&8191,Ze=Oe>>>13,We=ee[1]|0,ze=We&8191,ke=We>>>13,je=ee[2]|0,Ie=je&8191,pe=je>>>13,we=ee[3]|0,Ve=we&8191,Qe=we>>>13,it=ee[4]|0,st=it&8191,Wt=it>>>13,jt=ee[5]|0,Tt=jt&8191,Lt=jt>>>13,Xt=ee[6]|0,Tr=Xt&8191,yt=Xt>>>13,Kt=ee[7]|0,Jt=Kt&8191,yr=Kt>>>13,ur=ee[8]|0,mt=ur&8191,lt=ur>>>13,bt=ee[9]|0,Et=bt&8191,It=bt>>>13;j.negative=B.negative^V.negative,j.length=19,J=Math.imul(oe,Xe),X=Math.imul(oe,Ze),X=X+Math.imul(le,Xe)|0,ne=Math.imul(le,Ze);var Ht=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,J=Math.imul($,Xe),X=Math.imul($,Ze),X=X+Math.imul(se,Xe)|0,ne=Math.imul(se,Ze),J=J+Math.imul(oe,ze)|0,X=X+Math.imul(oe,ke)|0,X=X+Math.imul(le,ze)|0,ne=ne+Math.imul(le,ke)|0;var Ut=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,J=Math.imul(he,Xe),X=Math.imul(he,Ze),X=X+Math.imul(me,Xe)|0,ne=Math.imul(me,Ze),J=J+Math.imul($,ze)|0,X=X+Math.imul($,ke)|0,X=X+Math.imul(se,ze)|0,ne=ne+Math.imul(se,ke)|0,J=J+Math.imul(oe,Ie)|0,X=X+Math.imul(oe,pe)|0,X=X+Math.imul(le,Ie)|0,ne=ne+Math.imul(le,pe)|0;var Bt=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(Te,Xe),X=Math.imul(Te,Ze),X=X+Math.imul(Pe,Xe)|0,ne=Math.imul(Pe,Ze),J=J+Math.imul(he,ze)|0,X=X+Math.imul(he,ke)|0,X=X+Math.imul(me,ze)|0,ne=ne+Math.imul(me,ke)|0,J=J+Math.imul($,Ie)|0,X=X+Math.imul($,pe)|0,X=X+Math.imul(se,Ie)|0,ne=ne+Math.imul(se,pe)|0,J=J+Math.imul(oe,Ve)|0,X=X+Math.imul(oe,Qe)|0,X=X+Math.imul(le,Ve)|0,ne=ne+Math.imul(le,Qe)|0;var $t=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+($t>>>26)|0,$t&=67108863,J=Math.imul(Ee,Xe),X=Math.imul(Ee,Ze),X=X+Math.imul(xe,Xe)|0,ne=Math.imul(xe,Ze),J=J+Math.imul(Te,ze)|0,X=X+Math.imul(Te,ke)|0,X=X+Math.imul(Pe,ze)|0,ne=ne+Math.imul(Pe,ke)|0,J=J+Math.imul(he,Ie)|0,X=X+Math.imul(he,pe)|0,X=X+Math.imul(me,Ie)|0,ne=ne+Math.imul(me,pe)|0,J=J+Math.imul($,Ve)|0,X=X+Math.imul($,Qe)|0,X=X+Math.imul(se,Ve)|0,ne=ne+Math.imul(se,Qe)|0,J=J+Math.imul(oe,st)|0,X=X+Math.imul(oe,Wt)|0,X=X+Math.imul(le,st)|0,ne=ne+Math.imul(le,Wt)|0;var fr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(Ue,Xe),X=Math.imul(Ue,Ze),X=X+Math.imul(Ne,Xe)|0,ne=Math.imul(Ne,Ze),J=J+Math.imul(Ee,ze)|0,X=X+Math.imul(Ee,ke)|0,X=X+Math.imul(xe,ze)|0,ne=ne+Math.imul(xe,ke)|0,J=J+Math.imul(Te,Ie)|0,X=X+Math.imul(Te,pe)|0,X=X+Math.imul(Pe,Ie)|0,ne=ne+Math.imul(Pe,pe)|0,J=J+Math.imul(he,Ve)|0,X=X+Math.imul(he,Qe)|0,X=X+Math.imul(me,Ve)|0,ne=ne+Math.imul(me,Qe)|0,J=J+Math.imul($,st)|0,X=X+Math.imul($,Wt)|0,X=X+Math.imul(se,st)|0,ne=ne+Math.imul(se,Wt)|0,J=J+Math.imul(oe,Tt)|0,X=X+Math.imul(oe,Lt)|0,X=X+Math.imul(le,Tt)|0,ne=ne+Math.imul(le,Lt)|0;var Zt=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,J=Math.imul(He,Xe),X=Math.imul(He,Ze),X=X+Math.imul(at,Xe)|0,ne=Math.imul(at,Ze),J=J+Math.imul(Ue,ze)|0,X=X+Math.imul(Ue,ke)|0,X=X+Math.imul(Ne,ze)|0,ne=ne+Math.imul(Ne,ke)|0,J=J+Math.imul(Ee,Ie)|0,X=X+Math.imul(Ee,pe)|0,X=X+Math.imul(xe,Ie)|0,ne=ne+Math.imul(xe,pe)|0,J=J+Math.imul(Te,Ve)|0,X=X+Math.imul(Te,Qe)|0,X=X+Math.imul(Pe,Ve)|0,ne=ne+Math.imul(Pe,Qe)|0,J=J+Math.imul(he,st)|0,X=X+Math.imul(he,Wt)|0,X=X+Math.imul(me,st)|0,ne=ne+Math.imul(me,Wt)|0,J=J+Math.imul($,Tt)|0,X=X+Math.imul($,Lt)|0,X=X+Math.imul(se,Tt)|0,ne=ne+Math.imul(se,Lt)|0,J=J+Math.imul(oe,Tr)|0,X=X+Math.imul(oe,yt)|0,X=X+Math.imul(le,Tr)|0,ne=ne+Math.imul(le,yt)|0;var vr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(vr>>>26)|0,vr&=67108863,J=Math.imul(ot,Xe),X=Math.imul(ot,Ze),X=X+Math.imul(et,Xe)|0,ne=Math.imul(et,Ze),J=J+Math.imul(He,ze)|0,X=X+Math.imul(He,ke)|0,X=X+Math.imul(at,ze)|0,ne=ne+Math.imul(at,ke)|0,J=J+Math.imul(Ue,Ie)|0,X=X+Math.imul(Ue,pe)|0,X=X+Math.imul(Ne,Ie)|0,ne=ne+Math.imul(Ne,pe)|0,J=J+Math.imul(Ee,Ve)|0,X=X+Math.imul(Ee,Qe)|0,X=X+Math.imul(xe,Ve)|0,ne=ne+Math.imul(xe,Qe)|0,J=J+Math.imul(Te,st)|0,X=X+Math.imul(Te,Wt)|0,X=X+Math.imul(Pe,st)|0,ne=ne+Math.imul(Pe,Wt)|0,J=J+Math.imul(he,Tt)|0,X=X+Math.imul(he,Lt)|0,X=X+Math.imul(me,Tt)|0,ne=ne+Math.imul(me,Lt)|0,J=J+Math.imul($,Tr)|0,X=X+Math.imul($,yt)|0,X=X+Math.imul(se,Tr)|0,ne=ne+Math.imul(se,yt)|0,J=J+Math.imul(oe,Jt)|0,X=X+Math.imul(oe,yr)|0,X=X+Math.imul(le,Jt)|0,ne=ne+Math.imul(le,yr)|0;var Ye=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,J=Math.imul(ht,Xe),X=Math.imul(ht,Ze),X=X+Math.imul(gt,Xe)|0,ne=Math.imul(gt,Ze),J=J+Math.imul(ot,ze)|0,X=X+Math.imul(ot,ke)|0,X=X+Math.imul(et,ze)|0,ne=ne+Math.imul(et,ke)|0,J=J+Math.imul(He,Ie)|0,X=X+Math.imul(He,pe)|0,X=X+Math.imul(at,Ie)|0,ne=ne+Math.imul(at,pe)|0,J=J+Math.imul(Ue,Ve)|0,X=X+Math.imul(Ue,Qe)|0,X=X+Math.imul(Ne,Ve)|0,ne=ne+Math.imul(Ne,Qe)|0,J=J+Math.imul(Ee,st)|0,X=X+Math.imul(Ee,Wt)|0,X=X+Math.imul(xe,st)|0,ne=ne+Math.imul(xe,Wt)|0,J=J+Math.imul(Te,Tt)|0,X=X+Math.imul(Te,Lt)|0,X=X+Math.imul(Pe,Tt)|0,ne=ne+Math.imul(Pe,Lt)|0,J=J+Math.imul(he,Tr)|0,X=X+Math.imul(he,yt)|0,X=X+Math.imul(me,Tr)|0,ne=ne+Math.imul(me,yt)|0,J=J+Math.imul($,Jt)|0,X=X+Math.imul($,yr)|0,X=X+Math.imul(se,Jt)|0,ne=ne+Math.imul(se,yr)|0,J=J+Math.imul(oe,mt)|0,X=X+Math.imul(oe,lt)|0,X=X+Math.imul(le,mt)|0,ne=ne+Math.imul(le,lt)|0;var Ge=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,J=Math.imul(Mt,Xe),X=Math.imul(Mt,Ze),X=X+Math.imul(tt,Xe)|0,ne=Math.imul(tt,Ze),J=J+Math.imul(ht,ze)|0,X=X+Math.imul(ht,ke)|0,X=X+Math.imul(gt,ze)|0,ne=ne+Math.imul(gt,ke)|0,J=J+Math.imul(ot,Ie)|0,X=X+Math.imul(ot,pe)|0,X=X+Math.imul(et,Ie)|0,ne=ne+Math.imul(et,pe)|0,J=J+Math.imul(He,Ve)|0,X=X+Math.imul(He,Qe)|0,X=X+Math.imul(at,Ve)|0,ne=ne+Math.imul(at,Qe)|0,J=J+Math.imul(Ue,st)|0,X=X+Math.imul(Ue,Wt)|0,X=X+Math.imul(Ne,st)|0,ne=ne+Math.imul(Ne,Wt)|0,J=J+Math.imul(Ee,Tt)|0,X=X+Math.imul(Ee,Lt)|0,X=X+Math.imul(xe,Tt)|0,ne=ne+Math.imul(xe,Lt)|0,J=J+Math.imul(Te,Tr)|0,X=X+Math.imul(Te,yt)|0,X=X+Math.imul(Pe,Tr)|0,ne=ne+Math.imul(Pe,yt)|0,J=J+Math.imul(he,Jt)|0,X=X+Math.imul(he,yr)|0,X=X+Math.imul(me,Jt)|0,ne=ne+Math.imul(me,yr)|0,J=J+Math.imul($,mt)|0,X=X+Math.imul($,lt)|0,X=X+Math.imul(se,mt)|0,ne=ne+Math.imul(se,lt)|0,J=J+Math.imul(oe,Et)|0,X=X+Math.imul(oe,It)|0,X=X+Math.imul(le,Et)|0,ne=ne+Math.imul(le,It)|0;var zt=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(zt>>>26)|0,zt&=67108863,J=Math.imul(Mt,ze),X=Math.imul(Mt,ke),X=X+Math.imul(tt,ze)|0,ne=Math.imul(tt,ke),J=J+Math.imul(ht,Ie)|0,X=X+Math.imul(ht,pe)|0,X=X+Math.imul(gt,Ie)|0,ne=ne+Math.imul(gt,pe)|0,J=J+Math.imul(ot,Ve)|0,X=X+Math.imul(ot,Qe)|0,X=X+Math.imul(et,Ve)|0,ne=ne+Math.imul(et,Qe)|0,J=J+Math.imul(He,st)|0,X=X+Math.imul(He,Wt)|0,X=X+Math.imul(at,st)|0,ne=ne+Math.imul(at,Wt)|0,J=J+Math.imul(Ue,Tt)|0,X=X+Math.imul(Ue,Lt)|0,X=X+Math.imul(Ne,Tt)|0,ne=ne+Math.imul(Ne,Lt)|0,J=J+Math.imul(Ee,Tr)|0,X=X+Math.imul(Ee,yt)|0,X=X+Math.imul(xe,Tr)|0,ne=ne+Math.imul(xe,yt)|0,J=J+Math.imul(Te,Jt)|0,X=X+Math.imul(Te,yr)|0,X=X+Math.imul(Pe,Jt)|0,ne=ne+Math.imul(Pe,yr)|0,J=J+Math.imul(he,mt)|0,X=X+Math.imul(he,lt)|0,X=X+Math.imul(me,mt)|0,ne=ne+Math.imul(me,lt)|0,J=J+Math.imul($,Et)|0,X=X+Math.imul($,It)|0,X=X+Math.imul(se,Et)|0,ne=ne+Math.imul(se,It)|0;var Dt=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,J=Math.imul(Mt,Ie),X=Math.imul(Mt,pe),X=X+Math.imul(tt,Ie)|0,ne=Math.imul(tt,pe),J=J+Math.imul(ht,Ve)|0,X=X+Math.imul(ht,Qe)|0,X=X+Math.imul(gt,Ve)|0,ne=ne+Math.imul(gt,Qe)|0,J=J+Math.imul(ot,st)|0,X=X+Math.imul(ot,Wt)|0,X=X+Math.imul(et,st)|0,ne=ne+Math.imul(et,Wt)|0,J=J+Math.imul(He,Tt)|0,X=X+Math.imul(He,Lt)|0,X=X+Math.imul(at,Tt)|0,ne=ne+Math.imul(at,Lt)|0,J=J+Math.imul(Ue,Tr)|0,X=X+Math.imul(Ue,yt)|0,X=X+Math.imul(Ne,Tr)|0,ne=ne+Math.imul(Ne,yt)|0,J=J+Math.imul(Ee,Jt)|0,X=X+Math.imul(Ee,yr)|0,X=X+Math.imul(xe,Jt)|0,ne=ne+Math.imul(xe,yr)|0,J=J+Math.imul(Te,mt)|0,X=X+Math.imul(Te,lt)|0,X=X+Math.imul(Pe,mt)|0,ne=ne+Math.imul(Pe,lt)|0,J=J+Math.imul(he,Et)|0,X=X+Math.imul(he,It)|0,X=X+Math.imul(me,Et)|0,ne=ne+Math.imul(me,It)|0;var Qt=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,J=Math.imul(Mt,Ve),X=Math.imul(Mt,Qe),X=X+Math.imul(tt,Ve)|0,ne=Math.imul(tt,Qe),J=J+Math.imul(ht,st)|0,X=X+Math.imul(ht,Wt)|0,X=X+Math.imul(gt,st)|0,ne=ne+Math.imul(gt,Wt)|0,J=J+Math.imul(ot,Tt)|0,X=X+Math.imul(ot,Lt)|0,X=X+Math.imul(et,Tt)|0,ne=ne+Math.imul(et,Lt)|0,J=J+Math.imul(He,Tr)|0,X=X+Math.imul(He,yt)|0,X=X+Math.imul(at,Tr)|0,ne=ne+Math.imul(at,yt)|0,J=J+Math.imul(Ue,Jt)|0,X=X+Math.imul(Ue,yr)|0,X=X+Math.imul(Ne,Jt)|0,ne=ne+Math.imul(Ne,yr)|0,J=J+Math.imul(Ee,mt)|0,X=X+Math.imul(Ee,lt)|0,X=X+Math.imul(xe,mt)|0,ne=ne+Math.imul(xe,lt)|0,J=J+Math.imul(Te,Et)|0,X=X+Math.imul(Te,It)|0,X=X+Math.imul(Pe,Et)|0,ne=ne+Math.imul(Pe,It)|0;var nr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(nr>>>26)|0,nr&=67108863,J=Math.imul(Mt,st),X=Math.imul(Mt,Wt),X=X+Math.imul(tt,st)|0,ne=Math.imul(tt,Wt),J=J+Math.imul(ht,Tt)|0,X=X+Math.imul(ht,Lt)|0,X=X+Math.imul(gt,Tt)|0,ne=ne+Math.imul(gt,Lt)|0,J=J+Math.imul(ot,Tr)|0,X=X+Math.imul(ot,yt)|0,X=X+Math.imul(et,Tr)|0,ne=ne+Math.imul(et,yt)|0,J=J+Math.imul(He,Jt)|0,X=X+Math.imul(He,yr)|0,X=X+Math.imul(at,Jt)|0,ne=ne+Math.imul(at,yr)|0,J=J+Math.imul(Ue,mt)|0,X=X+Math.imul(Ue,lt)|0,X=X+Math.imul(Ne,mt)|0,ne=ne+Math.imul(Ne,lt)|0,J=J+Math.imul(Ee,Et)|0,X=X+Math.imul(Ee,It)|0,X=X+Math.imul(xe,Et)|0,ne=ne+Math.imul(xe,It)|0;var ir=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(ir>>>26)|0,ir&=67108863,J=Math.imul(Mt,Tt),X=Math.imul(Mt,Lt),X=X+Math.imul(tt,Tt)|0,ne=Math.imul(tt,Lt),J=J+Math.imul(ht,Tr)|0,X=X+Math.imul(ht,yt)|0,X=X+Math.imul(gt,Tr)|0,ne=ne+Math.imul(gt,yt)|0,J=J+Math.imul(ot,Jt)|0,X=X+Math.imul(ot,yr)|0,X=X+Math.imul(et,Jt)|0,ne=ne+Math.imul(et,yr)|0,J=J+Math.imul(He,mt)|0,X=X+Math.imul(He,lt)|0,X=X+Math.imul(at,mt)|0,ne=ne+Math.imul(at,lt)|0,J=J+Math.imul(Ue,Et)|0,X=X+Math.imul(Ue,It)|0,X=X+Math.imul(Ne,Et)|0,ne=ne+Math.imul(Ne,It)|0;var tr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(Mt,Tr),X=Math.imul(Mt,yt),X=X+Math.imul(tt,Tr)|0,ne=Math.imul(tt,yt),J=J+Math.imul(ht,Jt)|0,X=X+Math.imul(ht,yr)|0,X=X+Math.imul(gt,Jt)|0,ne=ne+Math.imul(gt,yr)|0,J=J+Math.imul(ot,mt)|0,X=X+Math.imul(ot,lt)|0,X=X+Math.imul(et,mt)|0,ne=ne+Math.imul(et,lt)|0,J=J+Math.imul(He,Et)|0,X=X+Math.imul(He,It)|0,X=X+Math.imul(at,Et)|0,ne=ne+Math.imul(at,It)|0;var Ft=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,J=Math.imul(Mt,Jt),X=Math.imul(Mt,yr),X=X+Math.imul(tt,Jt)|0,ne=Math.imul(tt,yr),J=J+Math.imul(ht,mt)|0,X=X+Math.imul(ht,lt)|0,X=X+Math.imul(gt,mt)|0,ne=ne+Math.imul(gt,lt)|0,J=J+Math.imul(ot,Et)|0,X=X+Math.imul(ot,It)|0,X=X+Math.imul(et,Et)|0,ne=ne+Math.imul(et,It)|0;var cr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(cr>>>26)|0,cr&=67108863,J=Math.imul(Mt,mt),X=Math.imul(Mt,lt),X=X+Math.imul(tt,mt)|0,ne=Math.imul(tt,lt),J=J+Math.imul(ht,Et)|0,X=X+Math.imul(ht,It)|0,X=X+Math.imul(gt,Et)|0,ne=ne+Math.imul(gt,It)|0;var pr=(ue+J|0)+((X&8191)<<13)|0;ue=(ne+(X>>>13)|0)+(pr>>>26)|0,pr&=67108863,J=Math.imul(Mt,Et),X=Math.imul(Mt,It),X=X+Math.imul(tt,Et)|0,ne=Math.imul(tt,It);var br=(ue+J|0)+((X&8191)<<13)|0;return ue=(ne+(X>>>13)|0)+(br>>>26)|0,br&=67108863,re[0]=Ht,re[1]=Ut,re[2]=Bt,re[3]=$t,re[4]=fr,re[5]=Zt,re[6]=vr,re[7]=Ye,re[8]=Ge,re[9]=zt,re[10]=Dt,re[11]=Qt,re[12]=nr,re[13]=ir,re[14]=tr,re[15]=Ft,re[16]=cr,re[17]=pr,re[18]=br,ue!==0&&(re[19]=ue,j.length++),j};Math.imul||(P=b);function m(U,B,V){V.negative=B.negative^U.negative,V.length=U.length+B.length;for(var j=0,Q=0,ee=0;ee<V.length-1;ee++){var re=Q;Q=0;for(var ue=j&67108863,J=Math.min(ee,B.length-1),X=Math.max(0,ee-U.length+1);X<=J;X++){var ne=ee-X,Y=U.words[ne]|0,oe=B.words[X]|0,le=Y*oe,Z=le&67108863;re=re+(le/67108864|0)|0,Z=Z+ue|0,ue=Z&67108863,re=re+(Z>>>26)|0,Q+=re>>>26,re&=67108863}V.words[ee]=ue,j=re,re=Q}return j!==0?V.words[ee]=j:V.length--,V.strip()}function L(U,B,V){var j=new M;return j.mulp(U,B,V)}u.prototype.mulTo=function(B,V){var j,Q=this.length+B.length;return this.length===10&&B.length===10?j=P(this,B,V):Q<63?j=b(this,B,V):Q<1024?j=m(this,B,V):j=L(this,B,V),j};function M(U,B){this.x=U,this.y=B}M.prototype.makeRBT=function(B){for(var V=new Array(B),j=u.prototype._countBits(B)-1,Q=0;Q<B;Q++)V[Q]=this.revBin(Q,j,B);return V},M.prototype.revBin=function(B,V,j){if(B===0||B===j-1)return B;for(var Q=0,ee=0;ee<V;ee++)Q|=(B&1)<<V-ee-1,B>>=1;return Q},M.prototype.permute=function(B,V,j,Q,ee,re){for(var ue=0;ue<re;ue++)Q[ue]=V[B[ue]],ee[ue]=j[B[ue]]},M.prototype.transform=function(B,V,j,Q,ee,re){this.permute(re,B,V,j,Q,ee);for(var ue=1;ue<ee;ue<<=1)for(var J=ue<<1,X=Math.cos(2*Math.PI/J),ne=Math.sin(2*Math.PI/J),Y=0;Y<ee;Y+=J)for(var oe=X,le=ne,Z=0;Z<ue;Z++){var $=j[Y+Z],se=Q[Y+Z],ae=j[Y+Z+ue],he=Q[Y+Z+ue],me=oe*ae-le*he;he=oe*he+le*ae,ae=me,j[Y+Z]=$+ae,Q[Y+Z]=se+he,j[Y+Z+ue]=$-ae,Q[Y+Z+ue]=se-he,Z!==J&&(me=X*oe-ne*le,le=X*le+ne*oe,oe=me)}},M.prototype.guessLen13b=function(B,V){var j=Math.max(V,B)|1,Q=j&1,ee=0;for(j=j/2|0;j;j=j>>>1)ee++;return 1<<ee+1+Q},M.prototype.conjugate=function(B,V,j){if(!(j<=1))for(var Q=0;Q<j/2;Q++){var ee=B[Q];B[Q]=B[j-Q-1],B[j-Q-1]=ee,ee=V[Q],V[Q]=-V[j-Q-1],V[j-Q-1]=-ee}},M.prototype.normalize13b=function(B,V){for(var j=0,Q=0;Q<V/2;Q++){var ee=Math.round(B[2*Q+1]/V)*8192+Math.round(B[2*Q]/V)+j;B[Q]=ee&67108863,ee<67108864?j=0:j=ee/67108864|0}return B},M.prototype.convert13b=function(B,V,j,Q){for(var ee=0,re=0;re<V;re++)ee=ee+(B[re]|0),j[2*re]=ee&8191,ee=ee>>>13,j[2*re+1]=ee&8191,ee=ee>>>13;for(re=2*V;re<Q;++re)j[re]=0;n(ee===0),n((ee&-8192)===0)},M.prototype.stub=function(B){for(var V=new Array(B),j=0;j<B;j++)V[j]=0;return V},M.prototype.mulp=function(B,V,j){var Q=2*this.guessLen13b(B.length,V.length),ee=this.makeRBT(Q),re=this.stub(Q),ue=new Array(Q),J=new Array(Q),X=new Array(Q),ne=new Array(Q),Y=new Array(Q),oe=new Array(Q),le=j.words;le.length=Q,this.convert13b(B.words,B.length,ue,Q),this.convert13b(V.words,V.length,ne,Q),this.transform(ue,re,J,X,Q,ee),this.transform(ne,re,Y,oe,Q,ee);for(var Z=0;Z<Q;Z++){var $=J[Z]*Y[Z]-X[Z]*oe[Z];X[Z]=J[Z]*oe[Z]+X[Z]*Y[Z],J[Z]=$}return this.conjugate(J,X,Q),this.transform(J,X,le,re,Q,ee),this.conjugate(le,re,Q),this.normalize13b(le,Q),j.negative=B.negative^V.negative,j.length=B.length+V.length,j.strip()},u.prototype.mul=function(B){var V=new u(null);return V.words=new Array(this.length+B.length),this.mulTo(B,V)},u.prototype.mulf=function(B){var V=new u(null);return V.words=new Array(this.length+B.length),L(this,B,V)},u.prototype.imul=function(B){return this.clone().mulTo(B,this)},u.prototype.imuln=function(B){n(typeof B=="number"),n(B<67108864);for(var V=0,j=0;j<this.length;j++){var Q=(this.words[j]|0)*B,ee=(Q&67108863)+(V&67108863);V>>=26,V+=Q/67108864|0,V+=ee>>>26,this.words[j]=ee&67108863}return V!==0&&(this.words[j]=V,this.length++),this},u.prototype.muln=function(B){return this.clone().imuln(B)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(B){var V=x(B);if(V.length===0)return new u(1);for(var j=this,Q=0;Q<V.length&&V[Q]===0;Q++,j=j.sqr());if(++Q<V.length)for(var ee=j.sqr();Q<V.length;Q++,ee=ee.sqr())V[Q]!==0&&(j=j.mul(ee));return j},u.prototype.iushln=function(B){n(typeof B=="number"&&B>=0);var V=B%26,j=(B-V)/26,Q=67108863>>>26-V<<26-V,ee;if(V!==0){var re=0;for(ee=0;ee<this.length;ee++){var ue=this.words[ee]&Q,J=(this.words[ee]|0)-ue<<V;this.words[ee]=J|re,re=ue>>>26-V}re&&(this.words[ee]=re,this.length++)}if(j!==0){for(ee=this.length-1;ee>=0;ee--)this.words[ee+j]=this.words[ee];for(ee=0;ee<j;ee++)this.words[ee]=0;this.length+=j}return this.strip()},u.prototype.ishln=function(B){return n(this.negative===0),this.iushln(B)},u.prototype.iushrn=function(B,V,j){n(typeof B=="number"&&B>=0);var Q;V?Q=(V-V%26)/26:Q=0;var ee=B%26,re=Math.min((B-ee)/26,this.length),ue=67108863^67108863>>>ee<<ee,J=j;if(Q-=re,Q=Math.max(0,Q),J){for(var X=0;X<re;X++)J.words[X]=this.words[X];J.length=re}if(re!==0)if(this.length>re)for(this.length-=re,X=0;X<this.length;X++)this.words[X]=this.words[X+re];else this.words[0]=0,this.length=1;var ne=0;for(X=this.length-1;X>=0&&(ne!==0||X>=Q);X--){var Y=this.words[X]|0;this.words[X]=ne<<26-ee|Y>>>ee,ne=Y&ue}return J&&ne!==0&&(J.words[J.length++]=ne),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(B,V,j){return n(this.negative===0),this.iushrn(B,V,j)},u.prototype.shln=function(B){return this.clone().ishln(B)},u.prototype.ushln=function(B){return this.clone().iushln(B)},u.prototype.shrn=function(B){return this.clone().ishrn(B)},u.prototype.ushrn=function(B){return this.clone().iushrn(B)},u.prototype.testn=function(B){n(typeof B=="number"&&B>=0);var V=B%26,j=(B-V)/26,Q=1<<V;if(this.length<=j)return!1;var ee=this.words[j];return!!(ee&Q)},u.prototype.imaskn=function(B){n(typeof B=="number"&&B>=0);var V=B%26,j=(B-V)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(V!==0&&j++,this.length=Math.min(j,this.length),V!==0){var Q=67108863^67108863>>>V<<V;this.words[this.length-1]&=Q}return this.strip()},u.prototype.maskn=function(B){return this.clone().imaskn(B)},u.prototype.iaddn=function(B){return n(typeof B=="number"),n(B<67108864),B<0?this.isubn(-B):this.negative!==0?this.length===1&&(this.words[0]|0)<B?(this.words[0]=B-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this):this._iaddn(B)},u.prototype._iaddn=function(B){this.words[0]+=B;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},u.prototype.isubn=function(B){if(n(typeof B=="number"),n(B<67108864),B<0)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},u.prototype.addn=function(B){return this.clone().iaddn(B)},u.prototype.subn=function(B){return this.clone().isubn(B)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(B,V,j){var Q=B.length+j,ee;this._expand(Q);var re,ue=0;for(ee=0;ee<B.length;ee++){re=(this.words[ee+j]|0)+ue;var J=(B.words[ee]|0)*V;re-=J&67108863,ue=(re>>26)-(J/67108864|0),this.words[ee+j]=re&67108863}for(;ee<this.length-j;ee++)re=(this.words[ee+j]|0)+ue,ue=re>>26,this.words[ee+j]=re&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,ee=0;ee<this.length;ee++)re=-(this.words[ee]|0)+ue,ue=re>>26,this.words[ee]=re&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(B,V){var j=this.length-B.length,Q=this.clone(),ee=B,re=ee.words[ee.length-1]|0,ue=this._countBits(re);j=26-ue,j!==0&&(ee=ee.ushln(j),Q.iushln(j),re=ee.words[ee.length-1]|0);var J=Q.length-ee.length,X;if(V!=="mod"){X=new u(null),X.length=J+1,X.words=new Array(X.length);for(var ne=0;ne<X.length;ne++)X.words[ne]=0}var Y=Q.clone()._ishlnsubmul(ee,1,J);Y.negative===0&&(Q=Y,X&&(X.words[J]=1));for(var oe=J-1;oe>=0;oe--){var le=(Q.words[ee.length+oe]|0)*67108864+(Q.words[ee.length+oe-1]|0);for(le=Math.min(le/re|0,67108863),Q._ishlnsubmul(ee,le,oe);Q.negative!==0;)le--,Q.negative=0,Q._ishlnsubmul(ee,1,oe),Q.isZero()||(Q.negative^=1);X&&(X.words[oe]=le)}return X&&X.strip(),Q.strip(),V!=="div"&&j!==0&&Q.iushrn(j),{div:X||null,mod:Q}},u.prototype.divmod=function(B,V,j){if(n(!B.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var Q,ee,re;return this.negative!==0&&B.negative===0?(re=this.neg().divmod(B,V),V!=="mod"&&(Q=re.div.neg()),V!=="div"&&(ee=re.mod.neg(),j&&ee.negative!==0&&ee.iadd(B)),{div:Q,mod:ee}):this.negative===0&&B.negative!==0?(re=this.divmod(B.neg(),V),V!=="mod"&&(Q=re.div.neg()),{div:Q,mod:re.mod}):this.negative&B.negative?(re=this.neg().divmod(B.neg(),V),V!=="div"&&(ee=re.mod.neg(),j&&ee.negative!==0&&ee.isub(B)),{div:re.div,mod:ee}):B.length>this.length||this.cmp(B)<0?{div:new u(0),mod:this}:B.length===1?V==="div"?{div:this.divn(B.words[0]),mod:null}:V==="mod"?{div:null,mod:new u(this.modn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new u(this.modn(B.words[0]))}:this._wordDiv(B,V)},u.prototype.div=function(B){return this.divmod(B,"div",!1).div},u.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},u.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},u.prototype.divRound=function(B){var V=this.divmod(B);if(V.mod.isZero())return V.div;var j=V.div.negative!==0?V.mod.isub(B):V.mod,Q=B.ushrn(1),ee=B.andln(1),re=j.cmp(Q);return re<0||ee===1&&re===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},u.prototype.modn=function(B){n(B<=67108863);for(var V=(1<<26)%B,j=0,Q=this.length-1;Q>=0;Q--)j=(V*j+(this.words[Q]|0))%B;return j},u.prototype.idivn=function(B){n(B<=67108863);for(var V=0,j=this.length-1;j>=0;j--){var Q=(this.words[j]|0)+V*67108864;this.words[j]=Q/B|0,V=Q%B}return this.strip()},u.prototype.divn=function(B){return this.clone().idivn(B)},u.prototype.egcd=function(B){n(B.negative===0),n(!B.isZero());var V=this,j=B.clone();V.negative!==0?V=V.umod(B):V=V.clone();for(var Q=new u(1),ee=new u(0),re=new u(0),ue=new u(1),J=0;V.isEven()&&j.isEven();)V.iushrn(1),j.iushrn(1),++J;for(var X=j.clone(),ne=V.clone();!V.isZero();){for(var Y=0,oe=1;!(V.words[0]&oe)&&Y<26;++Y,oe<<=1);if(Y>0)for(V.iushrn(Y);Y-- >0;)(Q.isOdd()||ee.isOdd())&&(Q.iadd(X),ee.isub(ne)),Q.iushrn(1),ee.iushrn(1);for(var le=0,Z=1;!(j.words[0]&Z)&&le<26;++le,Z<<=1);if(le>0)for(j.iushrn(le);le-- >0;)(re.isOdd()||ue.isOdd())&&(re.iadd(X),ue.isub(ne)),re.iushrn(1),ue.iushrn(1);V.cmp(j)>=0?(V.isub(j),Q.isub(re),ee.isub(ue)):(j.isub(V),re.isub(Q),ue.isub(ee))}return{a:re,b:ue,gcd:j.iushln(J)}},u.prototype._invmp=function(B){n(B.negative===0),n(!B.isZero());var V=this,j=B.clone();V.negative!==0?V=V.umod(B):V=V.clone();for(var Q=new u(1),ee=new u(0),re=j.clone();V.cmpn(1)>0&&j.cmpn(1)>0;){for(var ue=0,J=1;!(V.words[0]&J)&&ue<26;++ue,J<<=1);if(ue>0)for(V.iushrn(ue);ue-- >0;)Q.isOdd()&&Q.iadd(re),Q.iushrn(1);for(var X=0,ne=1;!(j.words[0]&ne)&&X<26;++X,ne<<=1);if(X>0)for(j.iushrn(X);X-- >0;)ee.isOdd()&&ee.iadd(re),ee.iushrn(1);V.cmp(j)>=0?(V.isub(j),Q.isub(ee)):(j.isub(V),ee.isub(Q))}var Y;return V.cmpn(1)===0?Y=Q:Y=ee,Y.cmpn(0)<0&&Y.iadd(B),Y},u.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var V=this.clone(),j=B.clone();V.negative=0,j.negative=0;for(var Q=0;V.isEven()&&j.isEven();Q++)V.iushrn(1),j.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;j.isEven();)j.iushrn(1);var ee=V.cmp(j);if(ee<0){var re=V;V=j,j=re}else if(ee===0||j.cmpn(1)===0)break;V.isub(j)}while(!0);return j.iushln(Q)},u.prototype.invm=function(B){return this.egcd(B).a.umod(B)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(B){return this.words[0]&B},u.prototype.bincn=function(B){n(typeof B=="number");var V=B%26,j=(B-V)/26,Q=1<<V;if(this.length<=j)return this._expand(j+1),this.words[j]|=Q,this;for(var ee=Q,re=j;ee!==0&&re<this.length;re++){var ue=this.words[re]|0;ue+=ee,ee=ue>>>26,ue&=67108863,this.words[re]=ue}return ee!==0&&(this.words[re]=ee,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(B){var V=B<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var j;if(this.length>1)j=1;else{V&&(B=-B),n(B<=67108863,"Number is too big");var Q=this.words[0]|0;j=Q===B?0:Q<B?-1:1}return this.negative!==0?-j|0:j},u.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var V=this.ucmp(B);return this.negative!==0?-V|0:V},u.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var V=0,j=this.length-1;j>=0;j--){var Q=this.words[j]|0,ee=B.words[j]|0;if(Q!==ee){Q<ee?V=-1:Q>ee&&(V=1);break}}return V},u.prototype.gtn=function(B){return this.cmpn(B)===1},u.prototype.gt=function(B){return this.cmp(B)===1},u.prototype.gten=function(B){return this.cmpn(B)>=0},u.prototype.gte=function(B){return this.cmp(B)>=0},u.prototype.ltn=function(B){return this.cmpn(B)===-1},u.prototype.lt=function(B){return this.cmp(B)===-1},u.prototype.lten=function(B){return this.cmpn(B)<=0},u.prototype.lte=function(B){return this.cmp(B)<=0},u.prototype.eqn=function(B){return this.cmpn(B)===0},u.prototype.eq=function(B){return this.cmp(B)===0},u.red=function(B){return new z(B)},u.prototype.toRed=function(B){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(B){return this.red=B,this},u.prototype.forceRed=function(B){return n(!this.red,"Already a number in reduction context"),this._forceRed(B)},u.prototype.redAdd=function(B){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},u.prototype.redIAdd=function(B){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},u.prototype.redSub=function(B){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},u.prototype.redISub=function(B){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},u.prototype.redShl=function(B){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},u.prototype.redMul=function(B){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},u.prototype.redIMul=function(B){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(B){return n(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var s={k256:null,p224:null,p192:null,p25519:null};function E(U,B){this.name=U,this.p=new u(B,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var B=new u(null);return B.words=new Array(Math.ceil(this.n/13)),B},E.prototype.ireduce=function(B){var V=B,j;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),j=V.bitLength();while(j>this.n);var Q=j<this.n?-1:V.ucmp(this.p);return Q===0?(V.words[0]=0,V.length=1):Q>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},E.prototype.split=function(B,V){B.iushrn(this.n,0,V)},E.prototype.imulK=function(B){return B.imul(this.k)};function w(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(w,E),w.prototype.split=function(B,V){for(var j=4194303,Q=Math.min(B.length,9),ee=0;ee<Q;ee++)V.words[ee]=B.words[ee];if(V.length=Q,B.length<=9){B.words[0]=0,B.length=1;return}var re=B.words[9];for(V.words[V.length++]=re&j,ee=10;ee<B.length;ee++){var ue=B.words[ee]|0;B.words[ee-10]=(ue&j)<<4|re>>>22,re=ue}re>>>=22,B.words[ee-10]=re,re===0&&B.length>10?B.length-=10:B.length-=9},w.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var V=0,j=0;j<B.length;j++){var Q=B.words[j]|0;V+=Q*977,B.words[j]=V&67108863,V=Q*64+(V/67108864|0)}return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B};function _(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(_,E);function D(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(D,E);function N(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,E),N.prototype.imulK=function(B){for(var V=0,j=0;j<B.length;j++){var Q=(B.words[j]|0)*19+V,ee=Q&67108863;Q>>>=26,B.words[j]=ee,V=Q}return V!==0&&(B.words[B.length++]=V),B},u._prime=function(B){if(s[B])return s[B];var V;if(B==="k256")V=new w;else if(B==="p224")V=new _;else if(B==="p192")V=new D;else if(B==="p25519")V=new N;else throw new Error("Unknown prime "+B);return s[B]=V,V};function z(U){if(typeof U=="string"){var B=u._prime(U);this.m=B.p,this.prime=B}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}z.prototype._verify1=function(B){n(B.negative===0,"red works only with positives"),n(B.red,"red works only with red numbers")},z.prototype._verify2=function(B,V){n((B.negative|V.negative)===0,"red works only with positives"),n(B.red&&B.red===V.red,"red works only with red numbers")},z.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):B.umod(this.m)._forceRed(this)},z.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},z.prototype.add=function(B,V){this._verify2(B,V);var j=B.add(V);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},z.prototype.iadd=function(B,V){this._verify2(B,V);var j=B.iadd(V);return j.cmp(this.m)>=0&&j.isub(this.m),j},z.prototype.sub=function(B,V){this._verify2(B,V);var j=B.sub(V);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},z.prototype.isub=function(B,V){this._verify2(B,V);var j=B.isub(V);return j.cmpn(0)<0&&j.iadd(this.m),j},z.prototype.shl=function(B,V){return this._verify1(B),this.imod(B.ushln(V))},z.prototype.imul=function(B,V){return this._verify2(B,V),this.imod(B.imul(V))},z.prototype.mul=function(B,V){return this._verify2(B,V),this.imod(B.mul(V))},z.prototype.isqr=function(B){return this.imul(B,B.clone())},z.prototype.sqr=function(B){return this.mul(B,B)},z.prototype.sqrt=function(B){if(B.isZero())return B.clone();var V=this.m.andln(3);if(n(V%2===1),V===3){var j=this.m.add(new u(1)).iushrn(2);return this.pow(B,j)}for(var Q=this.m.subn(1),ee=0;!Q.isZero()&&Q.andln(1)===0;)ee++,Q.iushrn(1);n(!Q.isZero());var re=new u(1).toRed(this),ue=re.redNeg(),J=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new u(2*X*X).toRed(this);this.pow(X,J).cmp(ue)!==0;)X.redIAdd(ue);for(var ne=this.pow(X,Q),Y=this.pow(B,Q.addn(1).iushrn(1)),oe=this.pow(B,Q),le=ee;oe.cmp(re)!==0;){for(var Z=oe,$=0;Z.cmp(re)!==0;$++)Z=Z.redSqr();n($<le);var se=this.pow(ne,new u(1).iushln(le-$-1));Y=Y.redMul(se),ne=se.redSqr(),oe=oe.redMul(ne),le=$}return Y},z.prototype.invm=function(B){var V=B._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},z.prototype.pow=function(B,V){if(V.isZero())return new u(1).toRed(this);if(V.cmpn(1)===0)return B.clone();var j=4,Q=new Array(1<<j);Q[0]=new u(1).toRed(this),Q[1]=B;for(var ee=2;ee<Q.length;ee++)Q[ee]=this.mul(Q[ee-1],B);var re=Q[0],ue=0,J=0,X=V.bitLength()%26;for(X===0&&(X=26),ee=V.length-1;ee>=0;ee--){for(var ne=V.words[ee],Y=X-1;Y>=0;Y--){var oe=ne>>Y&1;if(re!==Q[0]&&(re=this.sqr(re)),oe===0&&ue===0){J=0;continue}ue<<=1,ue|=oe,J++,!(J!==j&&(ee!==0||Y!==0))&&(re=this.mul(re,Q[ue]),J=0,ue=0)}X=26}return re},z.prototype.convertTo=function(B){var V=B.umod(this.m);return V===B?V.clone():V},z.prototype.convertFrom=function(B){var V=B.clone();return V.red=null,V},u.mont=function(B){return new F(B)};function F(U){z.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(F,z),F.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},F.prototype.convertFrom=function(B){var V=this.imod(B.mul(this.rinv));return V.red=null,V},F.prototype.imul=function(B,V){if(B.isZero()||V.isZero())return B.words[0]=0,B.length=1,B;var j=B.imul(V),Q=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=j.isub(Q).iushrn(this.shift),re=ee;return ee.cmp(this.m)>=0?re=ee.isub(this.m):ee.cmpn(0)<0&&(re=ee.iadd(this.m)),re._forceRed(this)},F.prototype.mul=function(B,V){if(B.isZero()||V.isZero())return new u(0)._forceRed(this);var j=B.mul(V),Q=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=j.isub(Q).iushrn(this.shift),re=ee;return ee.cmp(this.m)>=0?re=ee.isub(this.m):ee.cmpn(0)<0&&(re=ee.iadd(this.m)),re._forceRed(this)},F.prototype.invm=function(B){var V=this.imod(B._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},6204:function(v){v.exports=d;function d(r){var t,a,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),y=0;for(t=0;t<f;++t){var h=r[t],T=h.length;for(a=0;a<T;++a){var c=l[y++]=new Array(T-1),o=0;for(n=0;n<T;++n)n!==a&&(c[o++]=h[n]);if(a&1){var p=c[1];c[1]=c[0],c[0]=p}}}return l}},6867:function(v,d,r){v.exports=o;var t=r(1888),a=r(855),n=r(7150);function f(p,x){for(var b=0;b<p;++b)if(!(x[b]<=x[b+p]))return!0;return!1}function u(p,x,b,P){for(var m=0,L=0,M=0,s=p.length;M<s;++M){var E=p[M];if(!f(x,E)){for(var w=0;w<2*x;++w)b[m++]=E[w];P[L++]=M}}return L}function l(p,x,b,P){var m=p.length,L=x.length;if(!(m<=0||L<=0)){var M=p[0].length>>>1;if(!(M<=0)){var s,E=t.mallocDouble(2*M*m),w=t.mallocInt32(m);if(m=u(p,M,E,w),m>0){if(M===1&&P)a.init(m),s=a.sweepComplete(M,b,0,m,E,w,0,m,E,w);else{var _=t.mallocDouble(2*M*L),D=t.mallocInt32(L);L=u(x,M,_,D),L>0&&(a.init(m+L),M===1?s=a.sweepBipartite(M,b,0,m,E,w,0,L,_,D):s=n(M,b,P,m,E,w,L,_,D),t.free(_),t.free(D))}t.free(E),t.free(w)}return s}}}var y;function h(p,x){y.push([p,x])}function T(p){return y=[],l(p,p,h,!0),y}function c(p,x){return y=[],l(p,x,h,!1),y}function o(p,x,b){switch(arguments.length){case 1:return T(p);case 2:return typeof x=="function"?l(p,p,x,!0):c(p,x);case 3:return l(p,x,b,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,d){function r(){function n(l,y,h,T,c,o,p,x,b,P,m){for(var L=2*l,M=T,s=L*T;M<c;++M,s+=L){var E=o[y+s],w=o[y+s+l],_=p[M];e:for(var D=x,N=L*x;D<b;++D,N+=L){var z=P[y+N],F=P[y+N+l],U=m[D];if(!(F<E||w<z)){for(var B=y+1;B<l;++B){var V=o[B+s],j=o[B+l+s],Q=P[B+N],ee=P[B+l+N];if(j<Q||ee<V)continue e}var re=h(_,U);if(re!==void 0)return re}}}}function f(l,y,h,T,c,o,p,x,b,P,m){for(var L=2*l,M=x,s=L*x;M<b;++M,s+=L){var E=P[y+s],w=P[y+s+l],_=m[M];e:for(var D=T,N=L*T;D<c;++D,N+=L){var z=o[y+N],F=o[y+N+l],U=p[D];if(!(w<z||F<E)){for(var B=y+1;B<l;++B){var V=o[B+N],j=o[B+l+N],Q=P[B+s],ee=P[B+l+s];if(j<Q||ee<V)continue e}var re=h(U,_);if(re!==void 0)return re}}}}function u(l,y,h,T,c,o,p,x,b,P,m){return c-T>b-x?n(l,y,h,T,c,o,p,x,b,P,m):f(l,y,h,T,c,o,p,x,b,P,m)}return u}function t(){function n(h,T,c,o,p,x,b,P,m,L,M){for(var s=2*h,E=o,w=s*o;E<p;++E,w+=s){var _=x[T+w],D=x[T+w+h],N=b[E];e:for(var z=P,F=s*P;z<m;++z,F+=s){var U=L[T+F],B=M[z];if(!(U<=_||D<U)){for(var V=T+1;V<h;++V){var j=x[V+w],Q=x[V+h+w],ee=L[V+F],re=L[V+h+F];if(Q<ee||re<j)continue e}var ue=c(B,N);if(ue!==void 0)return ue}}}}function f(h,T,c,o,p,x,b,P,m,L,M){for(var s=2*h,E=o,w=s*o;E<p;++E,w+=s){var _=x[T+w],D=x[T+w+h],N=b[E];e:for(var z=P,F=s*P;z<m;++z,F+=s){var U=L[T+F],B=M[z];if(!(U<_||D<U)){for(var V=T+1;V<h;++V){var j=x[V+w],Q=x[V+h+w],ee=L[V+F],re=L[V+h+F];if(Q<ee||re<j)continue e}var ue=c(N,B);if(ue!==void 0)return ue}}}}function u(h,T,c,o,p,x,b,P,m,L,M){for(var s=2*h,E=P,w=s*P;E<m;++E,w+=s){var _=L[T+w],D=M[E];e:for(var N=o,z=s*o;N<p;++N,z+=s){var F=x[T+z],U=x[T+z+h],B=b[N];if(!(_<=F||U<_)){for(var V=T+1;V<h;++V){var j=x[V+z],Q=x[V+h+z],ee=L[V+w],re=L[V+h+w];if(Q<ee||re<j)continue e}var ue=c(D,B);if(ue!==void 0)return ue}}}}function l(h,T,c,o,p,x,b,P,m,L,M){for(var s=2*h,E=P,w=s*P;E<m;++E,w+=s){var _=L[T+w],D=M[E];e:for(var N=o,z=s*o;N<p;++N,z+=s){var F=x[T+z],U=x[T+z+h],B=b[N];if(!(_<F||U<_)){for(var V=T+1;V<h;++V){var j=x[V+z],Q=x[V+h+z],ee=L[V+w],re=L[V+h+w];if(Q<ee||re<j)continue e}var ue=c(B,D);if(ue!==void 0)return ue}}}}function y(h,T,c,o,p,x,b,P,m,L,M,s){return x-p>L-m?o?n(h,T,c,p,x,b,P,m,L,M,s):f(h,T,c,p,x,b,P,m,L,M,s):o?u(h,T,c,p,x,b,P,m,L,M,s):l(h,T,c,p,x,b,P,m,L,M,s)}return y}function a(n){return n?r():t()}d.partial=a(!1),d.full=a(!0)},7150:function(v,d,r){v.exports=U;var t=r(1888),a=r(8828),n=r(2455),f=n.partial,u=n.full,l=r(855),y=r(3545),h=r(8105),T=128,c=1<<22,o=1<<22,p=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),b=h("lo<p0"),P=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),L=h("lo<p0&&p0<=hi"),M=6,s=2,E=1024,w=t.mallocInt32(E),_=t.mallocDouble(E);function D(B,V){var j=8*a.log2(V+1)*(B+1)|0,Q=a.nextPow2(M*j);w.length<Q&&(t.free(w),w=t.mallocInt32(Q));var ee=a.nextPow2(s*j);_.length<ee&&(t.free(_),_=t.mallocDouble(ee))}function N(B,V,j,Q,ee,re,ue,J,X){var ne=M*B;w[ne]=V,w[ne+1]=j,w[ne+2]=Q,w[ne+3]=ee,w[ne+4]=re,w[ne+5]=ue;var Y=s*B;_[Y]=J,_[Y+1]=X}function z(B,V,j,Q,ee,re,ue,J,X,ne,Y){var oe=2*B,le=X*oe,Z=ne[le+V];e:for(var $=ee,se=ee*oe;$<re;++$,se+=oe){var ae=ue[se+V],he=ue[se+V+B];if(!(Z<ae||he<Z)&&!(Q&&Z===ae)){for(var me=J[$],Me=V+1;Me<B;++Me){var ae=ue[se+Me],he=ue[se+Me+B],Te=ne[le+Me],Pe=ne[le+Me+B];if(he<Te||Pe<ae)continue e}var be;if(Q?be=j(Y,me):be=j(me,Y),be!==void 0)return be}}}function F(B,V,j,Q,ee,re,ue,J,X,ne){var Y=2*B,oe=J*Y,le=X[oe+V];e:for(var Z=Q,$=Q*Y;Z<ee;++Z,$+=Y){var se=ue[Z];if(se!==ne){var ae=re[$+V],he=re[$+V+B];if(!(le<ae||he<le)){for(var me=V+1;me<B;++me){var ae=re[$+me],he=re[$+me+B],Me=X[oe+me],Te=X[oe+me+B];if(he<Me||Te<ae)continue e}var Pe=j(se,ne);if(Pe!==void 0)return Pe}}}}function U(B,V,j,Q,ee,re,ue,J,X){D(B,Q+ue);var ne=0,Y=2*B,oe;for(N(ne++,0,0,Q,0,ue,j?16:0,-1/0,1/0),j||N(ne++,0,0,ue,0,Q,1,-1/0,1/0);ne>0;){ne-=1;var le=ne*M,Z=w[le],$=w[le+1],se=w[le+2],ae=w[le+3],he=w[le+4],me=w[le+5],Me=ne*s,Te=_[Me],Pe=_[Me+1],be=me&1,Ee=!!(me&16),xe=ee,Ce=re,Ue=J,Ne=X;if(be&&(xe=J,Ce=X,Ue=ee,Ne=re),!(me&2&&(se=b(B,Z,$,se,xe,Ce,Pe),$>=se))&&!(me&4&&($=P(B,Z,$,se,xe,Ce,Te),$>=se))){var De=se-$,He=he-ae;if(Ee){if(B*De*(De+He)<o){if(oe=l.scanComplete(B,Z,V,$,se,xe,Ce,ae,he,Ue,Ne),oe!==void 0)return oe;continue}}else if(B*Math.min(De,He)<T){if(oe=f(B,Z,V,be,$,se,xe,Ce,ae,he,Ue,Ne),oe!==void 0)return oe;continue}else if(B*De*He<c){if(oe=l.scanBipartite(B,Z,V,be,$,se,xe,Ce,ae,he,Ue,Ne),oe!==void 0)return oe;continue}var at=p(B,Z,$,se,xe,Ce,Te,Pe);if($<at)if(B*(at-$)<T){if(oe=u(B,Z+1,V,$,at,xe,Ce,ae,he,Ue,Ne),oe!==void 0)return oe}else if(Z===B-2){if(be?oe=l.sweepBipartite(B,V,ae,he,Ue,Ne,$,at,xe,Ce):oe=l.sweepBipartite(B,V,$,at,xe,Ce,ae,he,Ue,Ne),oe!==void 0)return oe}else N(ne++,Z+1,$,at,ae,he,be,-1/0,1/0),N(ne++,Z+1,ae,he,$,at,be^1,-1/0,1/0);if(at<se){var vt=y(B,Z,ae,he,Ue,Ne),ot=Ue[Y*vt+Z],et=x(B,Z,vt,he,Ue,Ne,ot);if(et<he&&N(ne++,Z,at,se,et,he,(be|4)+(Ee?16:0),ot,Pe),ae<vt&&N(ne++,Z,at,se,ae,vt,(be|2)+(Ee?16:0),Te,ot),vt+1===et){if(Ee?oe=F(B,Z,V,at,se,xe,Ce,vt,Ue,Ne[vt]):oe=z(B,Z,V,be,at,se,xe,Ce,vt,Ue,Ne[vt]),oe!==void 0)return oe}else if(vt<et){var ct;if(Ee){if(ct=m(B,Z,at,se,xe,Ce,ot),at<ct){var ht=x(B,Z,at,ct,xe,Ce,ot);if(Z===B-2){if(at<ht&&(oe=l.sweepComplete(B,V,at,ht,xe,Ce,vt,et,Ue,Ne),oe!==void 0)||ht<ct&&(oe=l.sweepBipartite(B,V,ht,ct,xe,Ce,vt,et,Ue,Ne),oe!==void 0))return oe}else at<ht&&N(ne++,Z+1,at,ht,vt,et,16,-1/0,1/0),ht<ct&&(N(ne++,Z+1,ht,ct,vt,et,0,-1/0,1/0),N(ne++,Z+1,vt,et,ht,ct,1,-1/0,1/0))}}else be?ct=L(B,Z,at,se,xe,Ce,ot):ct=m(B,Z,at,se,xe,Ce,ot),at<ct&&(Z===B-2?be?oe=l.sweepBipartite(B,V,vt,et,Ue,Ne,at,ct,xe,Ce):oe=l.sweepBipartite(B,V,at,ct,xe,Ce,vt,et,Ue,Ne):(N(ne++,Z+1,at,ct,vt,et,be,-1/0,1/0),N(ne++,Z+1,vt,et,at,ct,be^1,-1/0,1/0)))}}}}}},3545:function(v,d,r){v.exports=u;var t=r(8105),a=t("lo<p0"),n=8;function f(l,y,h,T,c,o){for(var p=2*l,x=p*(h+1)+y,b=h+1;b<T;++b,x+=p)for(var P=c[x],m=b,L=p*(b-1);m>h&&c[L+y]>P;--m,L-=p){for(var M=L,s=L+p,E=0;E<p;++E,++M,++s){var w=c[M];c[M]=c[s],c[s]=w}var _=o[m];o[m]=o[m-1],o[m-1]=_}}function u(l,y,h,T,c,o){if(T<=h+1)return h;for(var p=h,x=T,b=T+h>>>1,P=2*l,m=b,L=c[P*b+y];p<x;){if(x-p<n){f(l,y,p,x,c,o),L=c[P*b+y];break}var M=x-p,s=Math.random()*M+p|0,E=c[P*s+y],w=Math.random()*M+p|0,_=c[P*w+y],D=Math.random()*M+p|0,N=c[P*D+y];E<=_?N>=_?(m=w,L=_):E>=N?(m=s,L=E):(m=D,L=N):_>=N?(m=w,L=_):N>=E?(m=s,L=E):(m=D,L=N);for(var U=P*(x-1),B=P*m,z=0;z<P;++z,++U,++B){var F=c[U];c[U]=c[B],c[B]=F}var V=o[x-1];o[x-1]=o[m],o[m]=V,m=a(l,y,p,x-1,c,o,L);for(var U=P*(x-1),B=P*m,z=0;z<P;++z,++U,++B){var F=c[U];c[U]=c[B],c[B]=F}var V=o[x-1];if(o[x-1]=o[m],o[m]=V,b<m){for(x=m-1;p<x&&c[P*(x-1)+y]===L;)x-=1;x+=1}else if(m<b)for(p=m+1;p<x&&c[P*p+y]===L;)p+=1;else break}return a(l,y,h,b,c,o,c[P*b+y])}},8105:function(v){v.exports=r;var d={"lo===p0":t,"lo<p0":a,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":y};function r(h){return d[h]}function t(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+s];if(_===b)if(M===w)M+=1,L+=P;else{for(var D=0;P>D;++D){var N=p[m+D];p[m+D]=p[L],p[L++]=N}var z=x[w];x[w]=x[M],x[M++]=z}}return M}function a(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+s];if(_<b)if(M===w)M+=1,L+=P;else{for(var D=0;P>D;++D){var N=p[m+D];p[m+D]=p[L],p[L++]=N}var z=x[w];x[w]=x[M],x[M++]=z}}return M}function n(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+E];if(_<=b)if(M===w)M+=1,L+=P;else{for(var D=0;P>D;++D){var N=p[m+D];p[m+D]=p[L],p[L++]=N}var z=x[w];x[w]=x[M],x[M++]=z}}return M}function f(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+E];if(_<=b)if(M===w)M+=1,L+=P;else{for(var D=0;P>D;++D){var N=p[m+D];p[m+D]=p[L],p[L++]=N}var z=x[w];x[w]=x[M],x[M++]=z}}return M}function u(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+s],D=p[m+E];if(_<=b&&b<=D)if(M===w)M+=1,L+=P;else{for(var N=0;P>N;++N){var z=p[m+N];p[m+N]=p[L],p[L++]=z}var F=x[w];x[w]=x[M],x[M++]=F}}return M}function l(h,T,c,o,p,x,b){for(var P=2*h,m=P*c,L=m,M=c,s=T,E=h+T,w=c;o>w;++w,m+=P){var _=p[m+s],D=p[m+E];if(_<b&&b<=D)if(M===w)M+=1,L+=P;else{for(var N=0;P>N;++N){var z=p[m+N];p[m+N]=p[L],p[L++]=z}var F=x[w];x[w]=x[M],x[M++]=F}}return M}function y(h,T,c,o,p,x,b,P){for(var m=2*h,L=m*c,M=L,s=c,E=T,w=h+T,_=c;o>_;++_,L+=m){var D=p[L+E],N=p[L+w];if(!(D>=b)&&!(P>=N))if(s===_)s+=1,M+=m;else{for(var z=0;m>z;++z){var F=p[L+z];p[L+z]=p[M],p[M++]=F}var U=x[_];x[_]=x[s],x[s++]=U}}return s}},1811:function(v){v.exports=r;var d=32;function r(T,c){c<=4*d?t(0,c-1,T):h(0,c-1,T)}function t(T,c,o){for(var p=2*(T+1),x=T+1;x<=c;++x){for(var b=o[p++],P=o[p++],m=x,L=p-2;m-- >T;){var M=o[L-2],s=o[L-1];if(M<b)break;if(M===b&&s<P)break;o[L]=M,o[L+1]=s,L-=2}o[L]=b,o[L+1]=P}}function a(T,c,o){T*=2,c*=2;var p=o[T],x=o[T+1];o[T]=o[c],o[T+1]=o[c+1],o[c]=p,o[c+1]=x}function n(T,c,o){T*=2,c*=2,o[T]=o[c],o[T+1]=o[c+1]}function f(T,c,o,p){T*=2,c*=2,o*=2;var x=p[T],b=p[T+1];p[T]=p[c],p[T+1]=p[c+1],p[c]=p[o],p[c+1]=p[o+1],p[o]=x,p[o+1]=b}function u(T,c,o,p,x){T*=2,c*=2,x[T]=x[c],x[c]=o,x[T+1]=x[c+1],x[c+1]=p}function l(T,c,o){T*=2,c*=2;var p=o[T],x=o[c];return p<x?!1:p===x?o[T+1]>o[c+1]:!0}function y(T,c,o,p){T*=2;var x=p[T];return x<c?!0:x===c?p[T+1]<o:!1}function h(T,c,o){var p=(c-T+1)/6|0,x=T+p,b=c-p,P=T+c>>1,m=P-p,L=P+p,M=x,s=m,E=P,w=L,_=b,D=T+1,N=c-1,z=0;l(M,s,o)&&(z=M,M=s,s=z),l(w,_,o)&&(z=w,w=_,_=z),l(M,E,o)&&(z=M,M=E,E=z),l(s,E,o)&&(z=s,s=E,E=z),l(M,w,o)&&(z=M,M=w,w=z),l(E,w,o)&&(z=E,E=w,w=z),l(s,_,o)&&(z=s,s=_,_=z),l(s,E,o)&&(z=s,s=E,E=z),l(w,_,o)&&(z=w,w=_,_=z);for(var F=o[2*s],U=o[2*s+1],B=o[2*w],V=o[2*w+1],j=2*M,Q=2*E,ee=2*_,re=2*x,ue=2*P,J=2*b,X=0;X<2;++X){var ne=o[j+X],Y=o[Q+X],oe=o[ee+X];o[re+X]=ne,o[ue+X]=Y,o[J+X]=oe}n(m,T,o),n(L,c,o);for(var le=D;le<=N;++le)if(y(le,F,U,o))le!==D&&a(le,D,o),++D;else if(!y(le,B,V,o))for(;;)if(y(N,B,V,o)){y(N,F,U,o)?(f(le,D,N,o),++D,--N):(a(le,N,o),--N);break}else{if(--N<le)break;continue}u(T,D-1,F,U,o),u(c,N+1,B,V,o),D-2-T<=d?t(T,D-2,o):h(T,D-2,o),c-(N+2)<=d?t(N+2,c,o):h(N+2,c,o),N-D<=d?t(D,N,o):h(D,N,o)}},855:function(v,d,r){v.exports={init:x,sweepBipartite:m,sweepComplete:L,scanBipartite:M,scanComplete:s};var t=r(1888),a=r(8828),n=r(1811),f=1<<28,u=1024,l=t.mallocInt32(u),y=t.mallocInt32(u),h=t.mallocInt32(u),T=t.mallocInt32(u),c=t.mallocInt32(u),o=t.mallocInt32(u),p=t.mallocDouble(u*8);function x(E){var w=a.nextPow2(E);l.length<w&&(t.free(l),l=t.mallocInt32(w)),y.length<w&&(t.free(y),y=t.mallocInt32(w)),h.length<w&&(t.free(h),h=t.mallocInt32(w)),T.length<w&&(t.free(T),T=t.mallocInt32(w)),c.length<w&&(t.free(c),c=t.mallocInt32(w)),o.length<w&&(t.free(o),o=t.mallocInt32(w));var _=8*w;p.length<_&&(t.free(p),p=t.mallocDouble(_))}function b(E,w,_,D){var N=w[D],z=E[_-1];E[N]=z,w[z]=N}function P(E,w,_,D){E[_]=D,w[D]=_}function m(E,w,_,D,N,z,F,U,B,V){for(var j=0,Q=2*E,ee=E-1,re=Q-1,ue=_;ue<D;++ue){var J=z[ue],X=Q*ue;p[j++]=N[X+ee],p[j++]=-(J+1),p[j++]=N[X+re],p[j++]=J}for(var ue=F;ue<U;++ue){var J=V[ue]+f,ne=Q*ue;p[j++]=B[ne+ee],p[j++]=-J,p[j++]=B[ne+re],p[j++]=J}var Y=j>>>1;n(p,Y);for(var oe=0,le=0,ue=0;ue<Y;++ue){var Z=p[2*ue+1]|0;if(Z>=f)Z=Z-f|0,b(h,T,le--,Z);else if(Z>=0)b(l,y,oe--,Z);else if(Z<=-f){Z=-Z-f|0;for(var $=0;$<oe;++$){var se=w(l[$],Z);if(se!==void 0)return se}P(h,T,le++,Z)}else{Z=-Z-1|0;for(var $=0;$<le;++$){var se=w(Z,h[$]);if(se!==void 0)return se}P(l,y,oe++,Z)}}}function L(E,w,_,D,N,z,F,U,B,V){for(var j=0,Q=2*E,ee=E-1,re=Q-1,ue=_;ue<D;++ue){var J=z[ue]+1<<1,X=Q*ue;p[j++]=N[X+ee],p[j++]=-J,p[j++]=N[X+re],p[j++]=J}for(var ue=F;ue<U;++ue){var J=V[ue]+1<<1,ne=Q*ue;p[j++]=B[ne+ee],p[j++]=-J|1,p[j++]=B[ne+re],p[j++]=J|1}var Y=j>>>1;n(p,Y);for(var oe=0,le=0,Z=0,ue=0;ue<Y;++ue){var $=p[2*ue+1]|0,se=$&1;if(ue<Y-1&&$>>1===p[2*ue+3]>>1&&(se=2,ue+=1),$<0){for(var ae=-($>>1)-1,he=0;he<Z;++he){var me=w(c[he],ae);if(me!==void 0)return me}if(se!==0)for(var he=0;he<oe;++he){var me=w(l[he],ae);if(me!==void 0)return me}if(se!==1)for(var he=0;he<le;++he){var me=w(h[he],ae);if(me!==void 0)return me}se===0?P(l,y,oe++,ae):se===1?P(h,T,le++,ae):se===2&&P(c,o,Z++,ae)}else{var ae=($>>1)-1;se===0?b(l,y,oe--,ae):se===1?b(h,T,le--,ae):se===2&&b(c,o,Z--,ae)}}}function M(E,w,_,D,N,z,F,U,B,V,j,Q){var ee=0,re=2*E,ue=w,J=w+E,X=1,ne=1;D?ne=f:X=f;for(var Y=N;Y<z;++Y){var oe=Y+X,le=re*Y;p[ee++]=F[le+ue],p[ee++]=-oe,p[ee++]=F[le+J],p[ee++]=oe}for(var Y=B;Y<V;++Y){var oe=Y+ne,Z=re*Y;p[ee++]=j[Z+ue],p[ee++]=-oe}var $=ee>>>1;n(p,$);for(var se=0,Y=0;Y<$;++Y){var ae=p[2*Y+1]|0;if(ae<0){var oe=-ae,he=!1;if(oe>=f?(he=!D,oe-=f):(he=!!D,oe-=1),he)P(l,y,se++,oe);else{var me=Q[oe],Me=re*oe,Te=j[Me+w+1],Pe=j[Me+w+1+E];e:for(var be=0;be<se;++be){var Ee=l[be],xe=re*Ee;if(!(Pe<F[xe+w+1]||F[xe+w+1+E]<Te)){for(var Ce=w+2;Ce<E;++Ce)if(j[Me+Ce+E]<F[xe+Ce]||F[xe+Ce+E]<j[Me+Ce])continue e;var Ue=U[Ee],Ne;if(D?Ne=_(me,Ue):Ne=_(Ue,me),Ne!==void 0)return Ne}}}}else b(l,y,se--,ae-X)}}function s(E,w,_,D,N,z,F,U,B,V,j){for(var Q=0,ee=2*E,re=w,ue=w+E,J=D;J<N;++J){var X=J+f,ne=ee*J;p[Q++]=z[ne+re],p[Q++]=-X,p[Q++]=z[ne+ue],p[Q++]=X}for(var J=U;J<B;++J){var X=J+1,Y=ee*J;p[Q++]=V[Y+re],p[Q++]=-X}var oe=Q>>>1;n(p,oe);for(var le=0,J=0;J<oe;++J){var Z=p[2*J+1]|0;if(Z<0){var X=-Z;if(X>=f)l[le++]=X-f;else{X-=1;var $=j[X],se=ee*X,ae=V[se+w+1],he=V[se+w+1+E];e:for(var me=0;me<le;++me){var Me=l[me],Te=F[Me];if(Te===$)break;var Pe=ee*Me;if(!(he<z[Pe+w+1]||z[Pe+w+1+E]<ae)){for(var be=w+2;be<E;++be)if(V[se+be+E]<z[Pe+be]||z[Pe+be+E]<V[se+be])continue e;var Ee=_(Te,$);if(Ee!==void 0)return Ee}}}}else{for(var X=Z-f,me=le-1;me>=0;--me)if(l[me]===X){for(var be=me+1;be<le;++be)l[be-1]=l[be];break}--le}}}},2538:function(v,d,r){var t=r(8902),a=r(5542),n=r(2272),f=r(5023);v.exports=T;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,o){return c[0]-o[0]||c[1]-o[1]}function y(c){return c.map(u).sort(l)}function h(c,o,p){return o in c?c[o]:p}function T(c,o,p){Array.isArray(o)?(p=p||{},o=o||[]):(p=o||{},o=[]);var x=!!h(p,"delaunay",!0),b=!!h(p,"interior",!0),P=!!h(p,"exterior",!0),m=!!h(p,"infinity",!1);if(!b&&!P||c.length===0)return[];var L=t(c,o);if(x||b!==P||m){for(var M=a(c.length,y(o)),s=0;s<L.length;++s){var E=L[s];M.addTriangle(E[0],E[1],E[2])}return x&&n(c,M),P?b?m?f(M,0,m):M.cells():f(M,1,m):f(M,-1)}else return L}},2272:function(v,d,r){var t=r(2646)[4];r(2478),v.exports=n;function a(f,u,l,y,h,T){var c=u.opposite(y,h);if(!(c<0)){if(h<y){var o=y;y=h,h=o,o=T,T=c,c=o}u.isConstraint(y,h)||t(f[y],f[h],f[T],f[c])<0&&l.push(y,h)}}function n(f,u){for(var l=[],y=f.length,h=u.stars,T=0;T<y;++T)for(var c=h[T],o=1;o<c.length;o+=2){var p=c[o];if(!(p<T)&&!u.isConstraint(T,p)){for(var x=c[o-1],b=-1,P=1;P<c.length;P+=2)if(c[P-1]===p){b=c[P];break}b<0||t(f[T],f[p],f[x],f[b])<0&&l.push(T,p)}}for(;l.length>0;){for(var p=l.pop(),T=l.pop(),x=-1,b=-1,c=h[T],m=1;m<c.length;m+=2){var L=c[m-1],M=c[m];L===p?b=M:M===p&&(x=L)}x<0||b<0||t(f[T],f[p],f[x],f[b])>=0||(u.flip(T,p),a(f,u,l,x,T,b),a(f,u,l,T,b,x),a(f,u,l,b,p,x),a(f,u,l,p,x,b))}}},5023:function(v,d,r){var t=r(2478);v.exports=y;function a(h,T,c,o,p,x,b){this.cells=h,this.neighbor=T,this.flags=o,this.constraint=c,this.active=p,this.next=x,this.boundary=b}var n=a.prototype;function f(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}n.locate=function(){var h=[0,0,0];return function(T,c,o){var p=T,x=c,b=o;return c<o?c<T&&(p=c,x=o,b=T):o<T&&(p=o,x=T,b=c),p<0?-1:(h[0]=p,h[1]=x,h[2]=b,t.eq(this.cells,h,f))}}();function u(h,T){for(var c=h.cells(),o=c.length,p=0;p<o;++p){var x=c[p],b=x[0],P=x[1],m=x[2];P<m?P<b&&(x[0]=P,x[1]=m,x[2]=b):m<b&&(x[0]=m,x[1]=b,x[2]=P)}c.sort(f);for(var L=new Array(o),p=0;p<L.length;++p)L[p]=0;var M=[],s=[],E=new Array(3*o),w=new Array(3*o),_=null;T&&(_=[]);for(var D=new a(c,E,w,L,M,s,_),p=0;p<o;++p)for(var x=c[p],N=0;N<3;++N){var b=x[N],P=x[(N+1)%3],z=E[3*p+N]=D.locate(P,b,h.opposite(P,b)),F=w[3*p+N]=h.isConstraint(b,P);z<0&&(F?s.push(p):(M.push(p),L[p]=1),T&&_.push([P,b,-1]))}return D}function l(h,T,c){for(var o=0,p=0;p<h.length;++p)T[p]===c&&(h[o++]=h[p]);return h.length=o,h}function y(h,T,c){var o=u(h,c);if(T===0)return c?o.cells.concat(o.boundary):o.cells;for(var p=1,x=o.active,b=o.next,P=o.flags,m=o.cells,L=o.constraint,M=o.neighbor;x.length>0||b.length>0;){for(;x.length>0;){var s=x.pop();if(P[s]!==-p){P[s]=p,m[s];for(var E=0;E<3;++E){var w=M[3*s+E];w>=0&&P[w]===0&&(L[3*s+E]?b.push(w):(x.push(w),P[w]=p))}}}var _=b;b=x,x=_,b.length=0,p=-p}var D=l(m,P,T);return c?D.concat(o.boundary):D}},8902:function(v,d,r){var t=r(2478),a=r(3250)[3],n=0,f=1,u=2;v.exports=b;function l(P,m,L,M,s){this.a=P,this.b=m,this.idx=L,this.lowerIds=M,this.upperIds=s}function y(P,m,L,M){this.a=P,this.b=m,this.type=L,this.idx=M}function h(P,m){var L=P.a[0]-m.a[0]||P.a[1]-m.a[1]||P.type-m.type;return L||P.type!==n&&(L=a(P.a,P.b,m.b),L)?L:P.idx-m.idx}function T(P,m){return a(P.a,P.b,m)}function c(P,m,L,M,s){for(var E=t.lt(m,M,T),w=t.gt(m,M,T),_=E;_<w;++_){for(var D=m[_],N=D.lowerIds,F=N.length;F>1&&a(L[N[F-2]],L[N[F-1]],M)>0;)P.push([N[F-1],N[F-2],s]),F-=1;N.length=F,N.push(s);for(var z=D.upperIds,F=z.length;F>1&&a(L[z[F-2]],L[z[F-1]],M)<0;)P.push([z[F-2],z[F-1],s]),F-=1;z.length=F,z.push(s)}}function o(P,m){var L;return P.a[0]<m.a[0]?L=a(P.a,P.b,m.a):L=a(m.b,m.a,P.a),L||(m.b[0]<P.b[0]?L=a(P.a,P.b,m.b):L=a(m.b,m.a,P.b),L||P.idx-m.idx)}function p(P,m,L){var M=t.le(P,L,o),s=P[M],E=s.upperIds,w=E[E.length-1];s.upperIds=[w],P.splice(M+1,0,new l(L.a,L.b,L.idx,[w],E))}function x(P,m,L){var M=L.a;L.a=L.b,L.b=M;var s=t.eq(P,L,o),E=P[s],w=P[s-1];w.upperIds=E.upperIds,P.splice(s,1)}function b(P,m){for(var L=P.length,M=m.length,s=[],E=0;E<L;++E)s.push(new y(P[E],null,n,E));for(var E=0;E<M;++E){var w=m[E],_=P[w[0]],D=P[w[1]];_[0]<D[0]?s.push(new y(_,D,u,E),new y(D,_,f,E)):_[0]>D[0]&&s.push(new y(D,_,u,E),new y(_,D,f,E))}s.sort(h);for(var N=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),z=[new l([N,1],[N,0],-1,[],[])],F=[],E=0,U=s.length;E<U;++E){var B=s[E],V=B.type;V===n?c(F,z,P,B.a,B.idx):V===u?p(z,P,B):x(z,P,B)}return F}},5542:function(v,d,r){var t=r(2478);v.exports=u;function a(l,y){this.stars=l,this.edges=y}var n=a.prototype;function f(l,y,h){for(var T=1,c=l.length;T<c;T+=2)if(l[T-1]===y&&l[T]===h){l[T-1]=l[c-2],l[T]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function y(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return l[0]=Math.min(h,T),l[1]=Math.max(h,T),t.eq(this.edges,l,y)>=0}}(),n.removeTriangle=function(l,y,h){var T=this.stars;f(T[l],y,h),f(T[y],h,l),f(T[h],l,y)},n.addTriangle=function(l,y,h){var T=this.stars;T[l].push(y,h),T[y].push(h,l),T[h].push(l,y)},n.opposite=function(l,y){for(var h=this.stars[y],T=1,c=h.length;T<c;T+=2)if(h[T]===l)return h[T-1];return-1},n.flip=function(l,y){var h=this.opposite(l,y),T=this.opposite(y,l);this.removeTriangle(l,y,h),this.removeTriangle(y,l,T),this.addTriangle(l,T,h),this.addTriangle(y,h,T)},n.edges=function(){for(var l=this.stars,y=[],h=0,T=l.length;h<T;++h)for(var c=l[h],o=0,p=c.length;o<p;o+=2)y.push([c[o],c[o+1]]);return y},n.cells=function(){for(var l=this.stars,y=[],h=0,T=l.length;h<T;++h)for(var c=l[h],o=0,p=c.length;o<p;o+=2){var x=c[o],b=c[o+1];h<Math.min(x,b)&&y.push([h,x,b])}return y};function u(l,y){for(var h=new Array(l),T=0;T<l;++T)h[T]=[];return new a(h,y)}},2419:function(v){v.exports=d;function d(r){for(var t=1,a=1;a<r.length;++a)for(var n=0;n<a;++n)if(r[a]<r[n])t=-t;else if(r[n]===r[a])return 0;return t}},3628:function(v,d,r){var t=r(1338),a=r(727);function n(l,y){for(var h=0,T=l.length,c=0;c<T;++c)h+=l[c]*y[c];return h}function f(l){var y=l.length;if(y===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),T=t([l.length+1],1);h[y][y]=0;for(var c=0;c<y;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*n(l[c],l[o]);T[c]=n(l[c],l[c])}for(var p=a(h,T),x=0,b=p[y+1],c=0;c<b.length;++c)x+=b[c];for(var P=new Array(y),c=0;c<y;++c){for(var b=p[c],m=0,o=0;o<b.length;++o)m+=b[o];P[c]=m/x}return P}function u(l){if(l.length===0)return[];for(var y=l[0].length,h=t([y]),T=f(l),c=0;c<l.length;++c)for(var o=0;o<y;++o)h[o]+=l[c][o]*T[c];return h}u.barycenetric=f,v.exports=u},6037:function(v,d,r){v.exports=a;var t=r(3628);function a(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var y=n[l],h=0;h<f.length;++h)u+=Math.pow(y[h]-f[h],2);return Math.sqrt(u/n.length)}},332:function(v,d,r){v.exports=_;var t=r(1755),a=r(6867),n=r(1125),f=r(7842),u=r(1318),l=r(946),y=r(5838),h=r(1278),T=r(3637);function c(D){var N=l(D);return[h(N,-1/0),h(N,1/0)]}function o(D,N){for(var z=new Array(N.length),F=0;F<N.length;++F){var U=N[F],B=D[U[0]],V=D[U[1]];z[F]=[h(Math.min(B[0],V[0]),-1/0),h(Math.min(B[1],V[1]),-1/0),h(Math.max(B[0],V[0]),1/0),h(Math.max(B[1],V[1]),1/0)]}return z}function p(D){for(var N=new Array(D.length),z=0;z<D.length;++z){var F=D[z];N[z]=[h(F[0],-1/0),h(F[1],-1/0),h(F[0],1/0),h(F[1],1/0)]}return N}function x(D,N,z){var F=[];return a(z,function(U,B){var V=N[U],j=N[B];if(!(V[0]===j[0]||V[0]===j[1]||V[1]===j[0]||V[1]===j[1])){var Q=D[V[0]],ee=D[V[1]],re=D[j[0]],ue=D[j[1]];n(Q,ee,re,ue)&&F.push([U,B])}}),F}function b(D,N,z,F){var U=[];return a(z,F,function(B,V){var j=N[B];if(!(j[0]===V||j[1]===V)){var Q=D[V],ee=D[j[0]],re=D[j[1]];n(ee,re,Q,Q)&&U.push([B,V])}}),U}function P(D,N,z,F,U){var B,V,j=D.map(function(Me){return[f(Me[0]),f(Me[1])]});for(B=0;B<z.length;++B){var Q=z[B];V=Q[0];var ee=Q[1],re=N[V],ue=N[ee],J=T(y(D[re[0]]),y(D[re[1]]),y(D[ue[0]]),y(D[ue[1]]));if(J){var X=D.length;D.push([l(J[0]),l(J[1])]),j.push(J),F.push([V,X],[ee,X])}}for(F.sort(function(Me,Te){if(Me[0]!==Te[0])return Me[0]-Te[0];var Pe=j[Me[1]],be=j[Te[1]];return u(Pe[0],be[0])||u(Pe[1],be[1])}),B=F.length-1;B>=0;--B){var ne=F[B];V=ne[0];var Y=N[V],oe=Y[0],le=Y[1],Z=D[oe],$=D[le];if((Z[0]-$[0]||Z[1]-$[1])<0){var se=oe;oe=le,le=se}Y[0]=oe;var ae=Y[1]=ne[1],he;for(U&&(he=Y[2]);B>0&&F[B-1][0]===V;){var ne=F[--B],me=ne[1];U?N.push([ae,me,he]):N.push([ae,me]),ae=me}U?N.push([ae,le,he]):N.push([ae,le])}return j}function m(D,N,z){for(var F=N.length,U=new t(F),B=[],V=0;V<N.length;++V){var j=N[V],Q=c(j[0]),ee=c(j[1]);B.push([h(Q[0],-1/0),h(ee[0],-1/0),h(Q[1],1/0),h(ee[1],1/0)])}a(B,function(ne,Y){U.link(ne,Y)});for(var re=!0,ue=new Array(F),V=0;V<F;++V){var J=U.find(V);J!==V&&(re=!1,D[J]=[Math.min(D[V][0],D[J][0]),Math.min(D[V][1],D[J][1])])}if(re)return null;for(var X=0,V=0;V<F;++V){var J=U.find(V);J===V?(ue[V]=X,D[X++]=D[V]):ue[V]=-1}D.length=X;for(var V=0;V<F;++V)ue[V]<0&&(ue[V]=ue[U.find(V)]);return ue}function L(D,N){return D[0]-N[0]||D[1]-N[1]}function M(D,N){var z=D[0]-N[0]||D[1]-N[1];return z||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function s(D,N,z){if(D.length!==0){if(N)for(var F=0;F<D.length;++F){var U=D[F],B=N[U[0]],V=N[U[1]];U[0]=Math.min(B,V),U[1]=Math.max(B,V)}else for(var F=0;F<D.length;++F){var U=D[F],B=U[0],V=U[1];U[0]=Math.min(B,V),U[1]=Math.max(B,V)}z?D.sort(M):D.sort(L);for(var j=1,F=1;F<D.length;++F){var Q=D[F-1],ee=D[F];ee[0]===Q[0]&&ee[1]===Q[1]&&(!z||ee[2]===Q[2])||(D[j++]=ee)}D.length=j}}function E(D,N,z){var F=m(D,[],p(D));return s(N,F,z),!!F}function w(D,N,z){var F=o(D,N),U=x(D,N,F),B=p(D),V=b(D,N,F,B),j=P(D,N,U,V,z),Q=m(D,j);return s(N,Q,z),Q?!0:U.length>0||V.length>0}function _(D,N,z){var F;if(z){F=N;for(var U=new Array(N.length),B=0;B<N.length;++B){var V=N[B];U[B]=[V[0],V[1],z[B]]}N=U}for(var j=E(D,N,!!z);w(D,N,!!z);)j=!0;if(z&&j){F.length=0,z.length=0;for(var B=0;B<N.length;++B){var V=N[B];F.push([V[0],V[1]]),z.push(V[2])}}return j}},3637:function(v,d,r){v.exports=T;var t=r(6504),a=r(8697),n=r(5572),f=r(7721),u=r(544),l=r(2653),y=r(8987);function h(c,o){return n(t(c[0],o[1]),t(c[1],o[0]))}function T(c,o,p,x){var b=u(o,c),P=u(x,p),m=h(b,P);if(f(m)===0)return null;var L=u(c,p),M=h(P,L),s=a(M,m),E=y(b,s),w=l(c,E);return w}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,d,r){var t=r(3642),a=r(395);v.exports=n;function n(y){var h,T,c,o,p,x,b,P,s,m,L;if(y||(y={}),P=(y.nshades||72)-1,b=y.format||"hex",x=y.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");p=t[x]}else if(Array.isArray(x))p=x.slice();else throw Error("unsupported colormap option",x);if(p.length>P+1)throw new Error(x+" map requires nshades to be at least size "+p.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],h=p.map(function(_){return Math.round(_.index*P)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var M=p.map(function(_,D){var N=p[D].index,z=p[D].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=m[0]+(m[1]-m[0])*N),z}),s=[];for(L=0;L<h.length-1;++L){o=h[L+1]-h[L],T=M[L],c=M[L+1];for(var E=0;E<o;E++){var w=E/o;s.push([Math.round(a(T[0],c[0],w)),Math.round(a(T[1],c[1],w)),Math.round(a(T[2],c[2],w)),a(T[3],c[3],w)])}}return s.push(p[p.length-1].rgb.concat(m[1])),b==="hex"?s=s.map(u):b==="rgbaString"?s=s.map(l):b==="float"&&(s=s.map(f)),s}function f(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function u(y){for(var h,T="#",c=0;c<3;++c)h=y[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function l(y){return"rgba("+y.join(",")+")"}},3140:function(v,d,r){v.exports=y;var t=r(3250),a=r(8572),n=r(9362),f=r(5382),u=r(8210);function l(h,T,c){var o=n(h[0],-T[0]),p=n(h[1],-T[1]),x=n(c[0],-T[0]),b=n(c[1],-T[1]),P=u(f(o,x),f(p,b));return P[P.length-1]>=0}function y(h,T,c,o){var p=t(T,c,o);if(p===0){var x=a(t(h,T,c)),b=a(t(h,T,o));if(x===b){if(x===0){var P=l(h,T,c),m=l(h,T,o);return P===m?0:P?1:-1}return 0}else{if(b===0)return x>0||l(h,T,o)?-1:1;if(x===0)return b>0||l(h,T,c)?1:-1}return a(b-x)}var L=t(h,T,c);if(L>0)return p>0&&t(h,T,o)>0?1:-1;if(L<0)return p>0||t(h,T,o)>0?1:-1;var M=t(h,T,o);return M>0||l(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var d=Math.min;function r(a,n){return a-n}function t(a,n){var f=a.length,u=a.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||d(a[0],a[1])-d(n[0],n[1]);case 3:var l=a[0]+a[1],y=n[0]+n[1];if(u=l+a[2]-(y+n[2]),u)return u;var h=d(a[0],a[1]),T=d(n[0],n[1]);return d(h,a[2])-d(T,n[2])||d(h+a[2],l)-d(T+n[2],y);case 4:var c=a[0],o=a[1],p=a[2],x=a[3],b=n[0],P=n[1],m=n[2],L=n[3];return c+o+p+x-(b+P+m+L)||d(c,o,p,x)-d(b,P,m,L,b)||d(c+o,c+p,c+x,o+p,o+x,p+x)-d(b+P,b+m,b+L,P+m,P+L,m+L)||d(c+o+p,c+o+x,c+p+x,o+p+x)-d(b+P+m,b+P+L,b+m+L,P+m+L);default:for(var M=a.slice().sort(r),s=n.slice().sort(r),E=0;E<f;++E)if(u=M[E]-s[E],u)return u;return 0}}},3788:function(v,d,r){var t=r(8507),a=r(2419);v.exports=n;function n(f,u){return t(f,u)||a(f)-a(u)}},7352:function(v,d,r){var t=r(5721),a=r(4750),n=r(2690);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var y=u[0].length;return y===0?[]:y===1?t(u):y===2?a(u):n(u,y)}},5721:function(v){v.exports=d;function d(r){for(var t=0,a=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},4750:function(v,d,r){v.exports=a;var t=r(3090);function a(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),y=f[u-1],h=0;h<u;++h){var T=f[h];l[h]=[y,T],y=T}return l}},2690:function(v,d,r){v.exports=u;var t=r(8954),a=r(3952);function n(l,y){for(var h=l.length,T=new Array(h),c=0;c<y.length;++c)T[c]=l[y[c]];for(var o=y.length,c=0;c<h;++c)y.indexOf(c)<0&&(T[o++]=l[c]);return T}function f(l,y){for(var h=l.length,T=y.length,c=0;c<h;++c)for(var o=l[c],p=0;p<o.length;++p){var x=o[p];if(x<T)o[p]=y[x];else{x=x-T;for(var b=0;b<T;++b)x>=y[b]&&(x+=1);o[p]=x}}return l}function u(l,y){try{return t(l,!0)}catch{var h=a(l);if(h.length<=y)return[];var T=n(l,h),c=t(T,!0);return f(c,h)}}},4769:function(v){function d(t,a,n,f,u,l){var y=6*u*u-6*u,h=3*u*u-4*u+1,T=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=y*t[o]+h*a[o]+T*n[o]+c*f[o];return l}return y*t+h*a+T*n[o]+c*f}function r(t,a,n,f,u,l){var y=u-1,h=u*u,T=y*y,c=(1+2*u)*T,o=u*T,p=h*(3-2*u),x=h*y;if(t.length){l||(l=new Array(t.length));for(var b=t.length-1;b>=0;--b)l[b]=c*t[b]+o*a[b]+p*n[b]+x*f[b];return l}return c*t+o*a+p*n+x*f}v.exports=r,v.exports.derivative=d},7642:function(v,d,r){var t=r(8954),a=r(1682);v.exports=l;function n(y,h){this.point=y,this.index=h}function f(y,h){for(var T=y.point,c=h.point,o=T.length,p=0;p<o;++p){var x=c[p]-T[p];if(x)return x}return 0}function u(y,h,T){if(y===1)return T?[[-1,0]]:[];var c=h.map(function(P,m){return[P[0],m]});c.sort(function(P,m){return P[0]-m[0]});for(var o=new Array(y-1),p=1;p<y;++p){var x=c[p-1],b=c[p];o[p-1]=[x[1],b[1]]}return T&&o.push([-1,o[0][1]],[o[y-1][1],-1]),o}function l(y,h){var T=y.length;if(T===0)return[];var c=y[0].length;if(c<1)return[];if(c===1)return u(T,y,h);for(var o=new Array(T),p=1,x=0;x<T;++x){for(var b=y[x],P=new Array(c+1),m=0,L=0;L<c;++L){var M=b[L];P[L]=M,m+=M*M}P[c]=m,o[x]=new n(P,x),p=Math.max(m,p)}a(o,f),T=o.length;for(var s=new Array(T+c+1),E=new Array(T+c+1),w=(c+1)*(c+1)*p,_=new Array(c+1),x=0;x<=c;++x)_[x]=0;_[c]=w,s[0]=_.slice(),E[0]=-1;for(var x=0;x<=c;++x){var P=_.slice();P[x]=1,s[x+1]=P,E[x+1]=-1}for(var x=0;x<T;++x){var D=o[x];s[x+c+1]=D.point,E[x+c+1]=D.index}var N=t(s,!1);if(h?N=N.filter(function(z){for(var F=0,U=0;U<=c;++U){var B=E[z[U]];if(B<0&&++F>=2)return!1;z[U]=B}return!0}):N=N.filter(function(z){for(var F=0;F<=c;++F){var U=E[z[F]];if(U<0)return!1;z[F]=U}return!0}),c&1)for(var x=0;x<N.length;++x){var D=N[x],P=D[0];D[0]=D[1],D[1]=P}return N}},2361:function(v){var d=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,d=!0,t[1]===1072693248){let n=function(l,y){return t[0]=l,t[1]=y,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(y){return r[0]=y,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,y){return t[1]=l,t[0]=y,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(y){return r[0]=y,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else d=!1}if(!d){let n=function(l,y){return a.writeUInt32LE(l,0,!0),a.writeUInt32LE(y,4,!0),a.readDoubleLE(0,!0)},f=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(0,!0)},u=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(4,!0)};var a=new Buffer(8);v.exports=function(y){return a.writeDoubleLE(y,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},1338:function(v){function d(a,n,f){var u=a[f]|0;if(u<=0)return[];var l=new Array(u),y;if(f===a.length-1)for(y=0;y<u;++y)l[y]=n;else for(y=0;y<u;++y)l[y]=d(a,n,f+1);return l}function r(a,n){var f,u;for(f=new Array(a),u=0;u<a;++u)f[u]=n;return f}function t(a,n){switch(typeof n>"u"&&(n=0),typeof a){case"number":if(a>0)return r(a|0,n);break;case"object":if(typeof a.length=="number")return d(a,n,0);break}return[]}v.exports=t},3134:function(v,d,r){v.exports=a;var t=r(1682);function a(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var y=n[l];f=Math.max(f,y[0],y[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var y=n[l];h[y[0]].push(y[1]),h[y[1]].push(y[0])}for(var T=0;T<f;++T)t(h[T],function(c,o){return c-o});return h}},5033:function(v){v.exports=d;function d(r,t,a){var n=t||0,f=a||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,d,r){v.exports=y;var t=r(4769),a=r(2478);function n(h,T,c){return Math.min(T,Math.max(h,c))}function f(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var T=a.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(h){var T=this._time,c=T.length,o=a.le(T,h),p=this._scratch[0],x=this._state,b=this._velocity,P=this.dimension,m=this.bounds;if(o<0)for(var L=P-1,M=0;M<P;++M,--L)p[M]=x[L];else if(o>=c-1)for(var L=x.length-1,s=h-T[c-1],M=0;M<P;++M,--L)p[M]=x[L]+s*b[L];else{for(var L=P*(o+1)-1,E=T[o],w=T[o+1],_=w-E||1,D=this._scratch[1],N=this._scratch[2],z=this._scratch[3],F=this._scratch[4],U=!0,M=0;M<P;++M,--L)D[M]=x[L],z[M]=b[L]*_,N[M]=x[L+P],F[M]=b[L+P]*_,U=U&&D[M]===N[M]&&z[M]===F[M]&&z[M]===0;if(U)for(var M=0;M<P;++M)p[M]=D[M];else t(D,z,N,F,(h-E)/_,p)}for(var B=m[0],V=m[1],M=0;M<P;++M)p[M]=n(B[M],V[M],p[M]);return p},u.dcurve=function(h){var T=this._time,c=T.length,o=a.le(T,h),p=this._scratch[0],x=this._state,b=this._velocity,P=this.dimension;if(o>=c-1){var m=x.length-1;h-T[c-1];for(var L=0;L<P;++L,--m)p[L]=b[m]}else{for(var m=P*(o+1)-1,M=T[o],s=T[o+1],E=s-M||1,w=this._scratch[1],_=this._scratch[2],D=this._scratch[3],N=this._scratch[4],z=!0,L=0;L<P;++L,--m)w[L]=x[m],D[L]=b[m]*E,_[L]=x[m+P],N[L]=b[m+P]*E,z=z&&w[L]===_[L]&&D[L]===N[L]&&D[L]===0;if(z)for(var L=0;L<P;++L)p[L]=0;else{t.derivative(w,D,_,N,(h-M)/E,p);for(var L=0;L<P;++L)p[L]/=E}}return p},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},u.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,b=this.bounds,P=b[0],m=b[1];this._time.push(T,h);for(var L=0;L<2;++L)for(var M=0;M<c;++M)o.push(o[x++]),p.push(0);this._time.push(h);for(var M=c;M>0;--M)o.push(n(P[M-1],m[M-1],arguments[M])),p.push(0)}},u.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,b=h-T,P=this.bounds,m=P[0],L=P[1],M=b>1e-6?1/b:0;this._time.push(h);for(var s=c;s>0;--s){var E=n(m[s-1],L[s-1],arguments[s]);o.push(E),p.push((E-o[x++])*M)}}},u.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,o=this._velocity,p=this.bounds,x=p[0],b=p[1];this._time.push(h);for(var P=T;P>0;--P)c.push(n(x[P-1],b[P-1],arguments[P])),o.push(0)}},u.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,b=this.bounds,P=b[0],m=b[1],L=h-T,M=L>1e-6?1/L:0;this._time.push(h);for(var s=c;s>0;--s){var E=arguments[s];o.push(n(P[s-1],m[s-1],o[x++]+E)),p.push(E*M)}}},u.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,o=this._state,p=this._velocity,x=o.length-c,b=this.bounds,P=b[0],m=b[1],L=h-T;this._time.push(h);for(var M=c-1;M>=0;--M)o.push(n(P[M],m[M],o[x]+L*p[x])),p.push(0),x+=1}};function l(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function y(h,T,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var o=l(h);return new f(o,o,0)}else return new f(h,l(h.length),0);case 2:if(typeof T=="number"){var o=l(h.length);return new f(h,o,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new f(h,T,c)}}},3840:function(v){v.exports=P;var d=0,r=1;function t(m,L,M,s,E,w){this._color=m,this.key=L,this.value=M,this.left=s,this.right=E,this._count=w}function a(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,L){return new t(m,L.key,L.value,L.left,L.right,L._count)}function f(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function u(m,L){this._compare=m,this.root=L}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(L,M){m.push(L)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(L,M){m.push(M)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,L){for(var M=this._compare,s=this.root,E=[],w=[];s;){var _=M(m,s.key);E.push(s),w.push(_),_<=0?s=s.left:s=s.right}E.push(new t(d,m,L,null,null,1));for(var D=E.length-2;D>=0;--D){var s=E[D];w[D]<=0?E[D]=new t(s._color,s.key,s.value,E[D+1],s.right,s._count+1):E[D]=new t(s._color,s.key,s.value,s.left,E[D+1],s._count+1)}for(var D=E.length-1;D>1;--D){var N=E[D-1],s=E[D];if(N._color===r||s._color===r)break;var z=E[D-2];if(z.left===N)if(N.left===s){var F=z.right;if(F&&F._color===d)N._color=r,z.right=n(r,F),z._color=d,D-=1;else{if(z._color=d,z.left=N.right,N._color=r,N.right=z,E[D-2]=N,E[D-1]=s,f(z),f(N),D>=3){var U=E[D-3];U.left===z?U.left=N:U.right=N}break}}else{var F=z.right;if(F&&F._color===d)N._color=r,z.right=n(r,F),z._color=d,D-=1;else{if(N.right=s.left,z._color=d,z.left=s.right,s._color=r,s.left=N,s.right=z,E[D-2]=s,E[D-1]=N,f(z),f(N),f(s),D>=3){var U=E[D-3];U.left===z?U.left=s:U.right=s}break}}else if(N.right===s){var F=z.left;if(F&&F._color===d)N._color=r,z.left=n(r,F),z._color=d,D-=1;else{if(z._color=d,z.right=N.left,N._color=r,N.left=z,E[D-2]=N,E[D-1]=s,f(z),f(N),D>=3){var U=E[D-3];U.right===z?U.right=N:U.left=N}break}}else{var F=z.left;if(F&&F._color===d)N._color=r,z.left=n(r,F),z._color=d,D-=1;else{if(N.left=s.right,z._color=d,z.right=s.left,s._color=r,s.right=N,s.left=z,E[D-2]=s,E[D-1]=N,f(z),f(N),f(s),D>=3){var U=E[D-3];U.right===z?U.right=s:U.left=s}break}}}return E[0]._color=r,new u(M,E[0])};function y(m,L){if(L.left){var M=y(m,L.left);if(M)return M}var M=m(L.key,L.value);if(M)return M;if(L.right)return y(m,L.right)}function h(m,L,M,s){var E=L(m,s.key);if(E<=0){if(s.left){var w=h(m,L,M,s.left);if(w)return w}var w=M(s.key,s.value);if(w)return w}if(s.right)return h(m,L,M,s.right)}function T(m,L,M,s,E){var w=M(m,E.key),_=M(L,E.key),D;if(w<=0&&(E.left&&(D=T(m,L,M,s,E.left),D)||_>0&&(D=s(E.key,E.value),D)))return D;if(_>0&&E.right)return T(m,L,M,s,E.right)}l.forEach=function(L,M,s){if(this.root)switch(arguments.length){case 1:return y(L,this.root);case 2:return h(M,this._compare,L,this.root);case 3:return this._compare(M,s)>=0?void 0:T(M,s,this._compare,L,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],L=this.root;L;)m.push(L),L=L.left;return new c(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],L=this.root;L;)m.push(L),L=L.right;return new c(this,m)}}),l.at=function(m){if(m<0)return new c(this,[]);for(var L=this.root,M=[];;){if(M.push(L),L.left){if(m<L.left._count){L=L.left;continue}m-=L.left._count}if(!m)return new c(this,M);if(m-=1,L.right){if(m>=L.right._count)break;L=L.right}else break}return new c(this,[])},l.ge=function(m){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(m,M.key);s.push(M),w<=0&&(E=s.length),w<=0?M=M.left:M=M.right}return s.length=E,new c(this,s)},l.gt=function(m){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(m,M.key);s.push(M),w<0&&(E=s.length),w<0?M=M.left:M=M.right}return s.length=E,new c(this,s)},l.lt=function(m){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(m,M.key);s.push(M),w>0&&(E=s.length),w<=0?M=M.left:M=M.right}return s.length=E,new c(this,s)},l.le=function(m){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(m,M.key);s.push(M),w>=0&&(E=s.length),w<0?M=M.left:M=M.right}return s.length=E,new c(this,s)},l.find=function(m){for(var L=this._compare,M=this.root,s=[];M;){var E=L(m,M.key);if(s.push(M),E===0)return new c(this,s);E<=0?M=M.left:M=M.right}return new c(this,[])},l.remove=function(m){var L=this.find(m);return L?L.remove():this},l.get=function(m){for(var L=this._compare,M=this.root;M;){var s=L(m,M.key);if(s===0)return M.value;s<=0?M=M.left:M=M.right}};function c(m,L){this.tree=m,this._stack=L}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function p(m,L){m.key=L.key,m.value=L.value,m.left=L.left,m.right=L.right,m._color=L._color,m._count=L._count}function x(m){for(var L,M,s,E,w=m.length-1;w>=0;--w){if(L=m[w],w===0){L._color=r;return}if(M=m[w-1],M.left===L){if(s=M.right,s.right&&s.right._color===d){if(s=M.right=a(s),E=s.right=a(s.right),M.right=s.left,s.left=M,s.right=E,s._color=M._color,L._color=r,M._color=r,E._color=r,f(M),f(s),w>1){var _=m[w-2];_.left===M?_.left=s:_.right=s}m[w-1]=s;return}else if(s.left&&s.left._color===d){if(s=M.right=a(s),E=s.left=a(s.left),M.right=E.left,s.left=E.right,E.left=M,E.right=s,E._color=M._color,M._color=r,s._color=r,L._color=r,f(M),f(s),f(E),w>1){var _=m[w-2];_.left===M?_.left=E:_.right=E}m[w-1]=E;return}if(s._color===r)if(M._color===d){M._color=r,M.right=n(d,s);return}else{M.right=n(d,s);continue}else{if(s=a(s),M.right=s.left,s.left=M,s._color=M._color,M._color=d,f(M),f(s),w>1){var _=m[w-2];_.left===M?_.left=s:_.right=s}m[w-1]=s,m[w]=M,w+1<m.length?m[w+1]=L:m.push(L),w=w+2}}else{if(s=M.left,s.left&&s.left._color===d){if(s=M.left=a(s),E=s.left=a(s.left),M.left=s.right,s.right=M,s.left=E,s._color=M._color,L._color=r,M._color=r,E._color=r,f(M),f(s),w>1){var _=m[w-2];_.right===M?_.right=s:_.left=s}m[w-1]=s;return}else if(s.right&&s.right._color===d){if(s=M.left=a(s),E=s.right=a(s.right),M.left=E.right,s.right=E.left,E.right=M,E.left=s,E._color=M._color,M._color=r,s._color=r,L._color=r,f(M),f(s),f(E),w>1){var _=m[w-2];_.right===M?_.right=E:_.left=E}m[w-1]=E;return}if(s._color===r)if(M._color===d){M._color=r,M.left=n(d,s);return}else{M.left=n(d,s);continue}else{if(s=a(s),M.left=s.right,s.right=M,s._color=M._color,M._color=d,f(M),f(s),w>1){var _=m[w-2];_.right===M?_.right=s:_.left=s}m[w-1]=s,m[w]=M,w+1<m.length?m[w+1]=L:m.push(L),w=w+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var L=new Array(m.length),M=m[m.length-1];L[L.length-1]=new t(M._color,M.key,M.value,M.left,M.right,M._count);for(var s=m.length-2;s>=0;--s){var M=m[s];M.left===m[s+1]?L[s]=new t(M._color,M.key,M.value,L[s+1],M.right,M._count):L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count)}if(M=L[L.length-1],M.left&&M.right){var E=L.length;for(M=M.left;M.right;)L.push(M),M=M.right;var w=L[E-1];L.push(new t(M._color,w.key,w.value,M.left,M.right,M._count)),L[E-1].key=M.key,L[E-1].value=M.value;for(var s=L.length-2;s>=E;--s)M=L[s],L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count);L[E-1].left=L[E]}if(M=L[L.length-1],M._color===d){var _=L[L.length-2];_.left===M?_.left=null:_.right===M&&(_.right=null),L.pop();for(var s=0;s<L.length;++s)L[s]._count--;return new u(this.tree._compare,L[0])}else if(M.left||M.right){M.left?p(M,M.left):M.right&&p(M,M.right),M._color=r;for(var s=0;s<L.length-1;++s)L[s]._count--;return new u(this.tree._compare,L[0])}else{if(L.length===1)return new u(this.tree._compare,null);for(var s=0;s<L.length;++s)L[s]._count--;var D=L[L.length-2];x(L),D.left===M?D.left=null:D.right=null}return new u(this.tree._compare,L[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,L=this._stack;if(L.length===0){var M=this.tree.root;return M?M._count:0}else L[L.length-1].left&&(m=L[L.length-1].left._count);for(var s=L.length-2;s>=0;--s)L[s+1]===L[s].right&&(++m,L[s].left&&(m+=L[s].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var L=m[m.length-1];if(L.right)for(L=L.right;L;)m.push(L),L=L.left;else for(m.pop();m.length>0&&m[m.length-1].right===L;)L=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var L=m.length-1;L>0;--L)if(m[L-1].left===m[L])return!0;return!1}}),o.update=function(m){var L=this._stack;if(L.length===0)throw new Error("Can't update empty node!");var M=new Array(L.length),s=L[L.length-1];M[M.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var E=L.length-2;E>=0;--E)s=L[E],s.left===L[E+1]?M[E]=new t(s._color,s.key,s.value,M[E+1],s.right,s._count):M[E]=new t(s._color,s.key,s.value,s.left,M[E+1],s._count);return new u(this.tree._compare,M[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var L=m[m.length-1];if(L.left)for(L=L.left;L;)m.push(L),L=L.right;else for(m.pop();m.length>0&&m[m.length-1].left===L;)L=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var L=m.length-1;L>0;--L)if(m[L-1].right===m[L])return!0;return!1}});function b(m,L){return m<L?-1:m>L?1:0}function P(m){return new u(m||b,null)}},3837:function(v,d,r){v.exports=s;var t=r(4935),a=r(501),n=r(5304),f=r(6429),u=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(E,w){return E[0]=w[0],E[1]=w[1],E[2]=w[2],E}function h(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var T=h.prototype;T.update=function(E){E=E||{};function w(J,X,ne){if(ne in E){var Y=E[ne],oe=this[ne],le;(J?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[ne]=le=[X(Y[0]),X(Y[1]),X(Y[2])]:this[ne]=le=[X(Y),X(Y),X(Y)];for(var Z=0;Z<3;++Z)if(le[Z]!==oe[Z])return!0}return!1}var _=w.bind(this,!1,Number),D=w.bind(this,!1,Boolean),N=w.bind(this,!1,String),z=w.bind(this,!0,function(J){if(Array.isArray(J)){if(J.length===3)return[+J[0],+J[1],+J[2],1];if(J.length===4)return[+J[0],+J[1],+J[2],+J[3]]}return[0,0,0,1]}),F,U=!1,B=!1;if("bounds"in E)for(var V=E.bounds,j=0;j<2;++j)for(var Q=0;Q<3;++Q)V[j][Q]!==this.bounds[j][Q]&&(B=!0),this.bounds[j][Q]=V[j][Q];if("ticks"in E){F=E.ticks,U=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else _("tickSpacing")&&(this.autoTicks=!0,B=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),B=!0,U=!0,this._firstInit=!1),B&&this.autoTicks&&(F=u.create(this.bounds,this.tickSpacing),U=!0),U){for(var j=0;j<3;++j)F[j].sort(function(X,ne){return X.x-ne.x});u.equal(F,this.ticks)?U=!1:this.ticks=F}D("tickEnable"),N("tickFont")&&(U=!0),N("tickFontStyle")&&(U=!0),N("tickFontWeight")&&(U=!0),N("tickFontVariant")&&(U=!0),_("tickSize"),_("tickAngle"),_("tickPad"),z("tickColor");var ee=N("labels");N("labelFont")&&(ee=!0),N("labelFontStyle")&&(ee=!0),N("labelFontWeight")&&(ee=!0),N("labelFontVariant")&&(ee=!0),D("labelEnable"),_("labelSize"),_("labelPad"),z("labelColor"),D("lineEnable"),D("lineMirror"),_("lineWidth"),z("lineColor"),D("lineTickEnable"),D("lineTickMirror"),_("lineTickLength"),_("lineTickWidth"),z("lineTickColor"),D("gridEnable"),_("gridWidth"),z("gridColor"),D("zeroEnable"),z("zeroLineColor"),_("zeroLineWidth"),D("backgroundEnable"),z("backgroundColor");var re=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ue=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(ee||U)&&this._text.update(this.bounds,this.labels,re,this.ticks,ue):this._text=t(this.gl,this.bounds,this.labels,re,this.ticks,ue),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new c,new c,new c];function p(E,w,_,D,N){for(var z=E.primalOffset,F=E.primalMinor,U=E.mirrorOffset,B=E.mirrorMinor,V=D[w],j=0;j<3;++j)if(w!==j){var Q=z,ee=U,re=F,ue=B;V&1<<j&&(Q=U,ee=z,re=B,ue=F),Q[j]=_[0][j],ee[j]=_[1][j],N[j]>0?(re[j]=-1,ue[j]=0):(re[j]=0,ue[j]=1)}}var x=[0,0,0],b={model:l,view:l,projection:l,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(E){};var P=0,m=[0,0,0],L=[0,0,0],M=[0,0,0];T.draw=function(E){E=E||b;for(var ne=this.gl,w=E.model||l,_=E.view||l,D=E.projection||l,N=this.bounds,z=E._ortho||!1,F=f(w,_,D,N,z),U=F.cubeEdges,B=F.axis,V=_[12],j=_[13],Q=_[14],ee=_[15],re=z?2:1,ue=re*this.pixelRatio*(D[3]*V+D[7]*j+D[11]*Q+D[15]*ee)/ne.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=U[J],this.lastCubeProps.axis[J]=B[J];for(var X=o,J=0;J<3;++J)p(o[J],J,this.bounds,U,B);for(var ne=this.gl,Y=x,J=0;J<3;++J)this.backgroundEnable[J]?Y[J]=B[J]:Y[J]=0;this._background.draw(w,_,D,N,Y,this.backgroundColor),this._lines.bind(w,_,D,this);for(var J=0;J<3;++J){var oe=[0,0,0];B[J]>0?oe[J]=N[1][J]:oe[J]=N[0][J];for(var le=0;le<2;++le){var Z=(J+1+le)%3,$=(J+1+(le^1))%3;this.gridEnable[Z]&&this._lines.drawGrid(Z,$,this.bounds,oe,this.gridColor[Z],this.gridWidth[Z]*this.pixelRatio)}for(var le=0;le<2;++le){var Z=(J+1+le)%3,$=(J+1+(le^1))%3;this.zeroEnable[$]&&Math.min(N[0][$],N[1][$])<=0&&Math.max(N[0][$],N[1][$])>=0&&this._lines.drawZero(Z,$,this.bounds,oe,this.zeroLineColor[$],this.zeroLineWidth[$]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var se=y(m,X[J].primalMinor),ae=y(L,X[J].mirrorMinor),he=this.lineTickLength,le=0;le<3;++le){var me=ue/w[5*le];se[le]*=he[le]*me,ae[le]*=he[le]*me}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,X[J].primalOffset,se,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,X[J].mirrorOffset,ae,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(w,_,D,this.pixelRatio);var Me,Te=.5,Pe,be;function Ee(He){be=[0,0,0],be[He]=1}function xe(He,at,vt){var ot=(He+1)%3,et=(He+2)%3,ct=at[ot],ht=at[et],gt=vt[ot],xt=vt[et];if(ct>0&&xt>0){Ee(ot);return}else if(ct>0&&xt<0){Ee(ot);return}else if(ct<0&&xt>0){Ee(ot);return}else if(ct<0&&xt<0){Ee(ot);return}else if(ht>0&&gt>0){Ee(et);return}else if(ht>0&&gt<0){Ee(et);return}else if(ht<0&&gt>0){Ee(et);return}else if(ht<0&&gt<0){Ee(et);return}}for(var J=0;J<3;++J){for(var Ce=X[J].primalMinor,Ue=X[J].mirrorMinor,Ne=y(M,X[J].primalOffset),le=0;le<3;++le)this.lineTickEnable[J]&&(Ne[le]+=ue*Ce[le]*Math.max(this.lineTickLength[le],0)/w[5*le]);var De=[0,0,0];if(De[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,Pe=1,Me=[this.tickAlign[J],Te,Pe],Me[0]==="auto"?Me[0]=P:Me[0]=parseInt(""+Me[0]),be=[0,0,0],xe(J,Ce,Ue);for(var le=0;le<3;++le)Ne[le]+=ue*Ce[le]*this.tickPad[le]/w[5*le];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ne,this.tickColor[J],De,be,Me)}if(this.labelEnable[J]){Pe=0,be=[0,0,0],this.labels[J].length>4&&(Ee(J),Pe=1),Me=[this.labelAlign[J],Te,Pe],Me[0]==="auto"?Me[0]=P:Me[0]=parseInt(""+Me[0]);for(var le=0;le<3;++le)Ne[le]+=ue*Ce[le]*this.labelPad[le]/w[5*le];Ne[J]+=.5*(N[0][J]+N[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ne,this.labelColor[J],[0,0,0],be,Me)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function s(E,w){var _=new h(E);return _.update(w),_}},5304:function(v,d,r){v.exports=l;var t=r(2762),a=r(8116),n=r(1879).bg;function f(y,h,T,c){this.gl=y,this.buffer=h,this.vao=T,this.shader=c}var u=f.prototype;u.draw=function(y,h,T,c,o,p){for(var x=!1,b=0;b<3;++b)x=x||o[b];if(x){var P=this.gl;P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:h,projection:T,bounds:c,enable:o,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),P.disable(P.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(y){for(var h=[],T=[],c=0,o=0;o<3;++o)for(var p=(o+1)%3,x=(o+2)%3,b=[0,0,0],P=[0,0,0],m=-1;m<=1;m+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),b[o]=m,P[o]=m;for(var L=-1;L<=1;L+=2){b[p]=L;for(var M=-1;M<=1;M+=2)b[x]=M,h.push(b[0],b[1],b[2],P[0],P[1],P[2]),c+=1}var s=p;p=x,x=s}var E=t(y,new Float32Array(h)),w=t(y,new Uint16Array(T),y.ELEMENT_ARRAY_BUFFER),_=a(y,[{buffer:E,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:y.FLOAT,size:3,offset:12,stride:24}],w),D=n(y);return D.attributes.position.location=0,D.attributes.normal.location=1,new f(y,E,_,D)}},6429:function(v,d,r){v.exports=m;var t=r(8828),a=r(6760),n=r(5202),f=r(3250),u=new Array(16),l=new Array(8),y=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var L=0;L<8;++L)l[L]=[1,1,1,1],y[L]=[1,1,1]})();function c(L,M,s){for(var E=0;E<4;++E){L[E]=s[12+E];for(var w=0;w<3;++w)L[E]+=M[w]*s[4*w+E]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(L){for(var M=0;M<o.length;++M)if(L=n.positive(L,o[M]),L.length<3)return 0;for(var s=L[0],E=s[0]/s[3],w=s[1]/s[3],_=0,M=1;M+1<L.length;++M){var D=L[M],N=L[M+1],z=D[0]/D[3],F=D[1]/D[3],U=N[0]/N[3],B=N[1]/N[3],V=z-E,j=F-w,Q=U-E,ee=B-w;_+=Math.abs(V*ee-j*Q)}return _}var x=[1,1,1],b=[0,0,0],P={cubeEdges:x,axis:b};function m(L,M,s,E,w){a(u,M,L),a(u,s,u);for(var _=0,D=0;D<2;++D){h[2]=E[D][2];for(var N=0;N<2;++N){h[1]=E[N][1];for(var z=0;z<2;++z)h[0]=E[z][0],c(l[_],h,u),_+=1}}for(var F=-1,D=0;D<8;++D){for(var U=l[D][3],B=0;B<3;++B)y[D][B]=l[D][B]/U;w&&(y[D][2]*=-1),U<0&&(F<0||y[D][2]<y[F][2])&&(F=D)}if(F<0){F=0;for(var V=0;V<3;++V){for(var j=(V+2)%3,Q=(V+1)%3,ee=-1,re=-1,ue=0;ue<2;++ue){var J=ue<<V,X=J+(ue<<j)+(1-ue<<Q),ne=J+(1-ue<<j)+(ue<<Q);f(y[J],y[X],y[ne],T)<0||(ue?ee=1:re=1)}if(ee<0||re<0){re>ee&&(F|=1<<V);continue}for(var ue=0;ue<2;++ue){var J=ue<<V,X=J+(ue<<j)+(1-ue<<Q),ne=J+(1-ue<<j)+(ue<<Q),Y=p([l[J],l[X],l[ne],l[J+(1<<j)+(1<<Q)]]);ue?ee=Y:re=Y}if(re>ee){F|=1<<V;continue}}}for(var oe=7^F,le=-1,D=0;D<8;++D)D===F||D===oe||(le<0||y[le][1]>y[D][1])&&(le=D);for(var Z=-1,D=0;D<3;++D){var $=le^1<<D;if(!($===F||$===oe)){Z<0&&(Z=$);var Q=y[$];Q[0]<y[Z][0]&&(Z=$)}}for(var se=-1,D=0;D<3;++D){var $=le^1<<D;if(!($===F||$===oe||$===Z)){se<0&&(se=$);var Q=y[$];Q[0]>y[se][0]&&(se=$)}}var ae=x;ae[0]=ae[1]=ae[2]=0,ae[t.log2(Z^le)]=le&Z,ae[t.log2(le^se)]=le&se;var he=se^7;he===F||he===oe?(he=Z^7,ae[t.log2(se^he)]=he&se):ae[t.log2(Z^he)]=he&Z;for(var me=b,Me=F,V=0;V<3;++V)Me&1<<V?me[V]=-1:me[V]=1;return P}},501:function(v,d,r){v.exports=x;var t=r(2762),a=r(8116),n=r(1879).n,f=[0,0,0],u=[0,0,0],l=[0,0,0],y=[0,0,0],h=[1,1];function T(b){return b[0]=b[1]=b[2]=0,b}function c(b,P){return b[0]=P[0],b[1]=P[1],b[2]=P[2],b}function o(b,P,m,L,M,s,E,w){this.gl=b,this.vertBuffer=P,this.vao=m,this.shader=L,this.tickCount=M,this.tickOffset=s,this.gridCount=E,this.gridOffset=w}var p=o.prototype;p.bind=function(b,P,m){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=P,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(b,P,m,L,M){var s=T(u);this.shader.uniforms.majorAxis=u,s[b]=P[1][b]-P[0][b],this.shader.uniforms.minorAxis=s;var E=c(y,m);E[b]+=P[0][b],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=L;var w=T(l);w[(b+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=T(l);w[(b+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(b,P,m,L,M){if(this.tickCount[b]){var s=T(f);s[b]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=P,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=L,this.shader.uniforms.lineWidth=M;var E=T(l);E[b]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},p.drawGrid=function(b,P,m,L,M,s){if(this.gridCount[b]){var E=T(u);E[P]=m[1][P]-m[0][P],this.shader.uniforms.minorAxis=E;var w=c(y,L);w[P]+=m[0][P],this.shader.uniforms.offset=w;var _=T(f);_[b]=1,this.shader.uniforms.majorAxis=_;var D=T(l);D[b]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},p.drawZero=function(b,P,m,L,M,s){var E=T(u);this.shader.uniforms.majorAxis=E,E[b]=m[1][b]-m[0][b],this.shader.uniforms.minorAxis=E;var w=c(y,L);w[b]+=m[0][b],this.shader.uniforms.offset=w;var _=T(l);_[P]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(b,P,m){var L=[],M=[0,0,0],s=[0,0,0],E=[0,0,0],w=[0,0,0];L.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var _=0;_<3;++_){for(var z=L.length/3|0,D=0;D<m[_].length;++D){var N=+m[_][D].x;L.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var U=L.length/3|0;M[_]=z,s[_]=U-z;for(var z=L.length/3|0,F=0;F<m[_].length;++F){var N=+m[_][F].x;L.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var U=L.length/3|0;E[_]=z,w[_]=U-z}var B=t(b,new Float32Array(L)),V=a(b,[{buffer:B,type:b.FLOAT,size:3,stride:0,offset:0}]),j=n(b);return j.attributes.position.location=0,new o(b,B,V,j,s,M,w,E)}},1879:function(v,d,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.n=function(T){return a(T,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.Q=function(T){return a(T,u,l,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);d.bg=function(T){return a(T,y,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,d,r){v.exports=p;var t=r(2762),a=r(8116),n=r(4359),f=r(1879).Q,u=window||g.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var y=3;function h(x,b,P,m){this.gl=x,this.shader=b,this.buffer=P,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(x,b,P,m){this.vao.bind(),this.shader.bind();var L=this.shader.uniforms;L.model=x,L.view=b,L.projection=P,L.pixelScale=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(x,b,P,m,L){var M=[];function s(V,j,Q,ee,re,ue){var J=[Q.style,Q.weight,Q.variant,Q.family].join("_"),X=l[J];X||(X=l[J]={});var ne=X[j];ne||(ne=X[j]=o(j,{triangles:!0,font:Q.family,fontStyle:Q.style,fontWeight:Q.weight,fontVariant:Q.variant,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:ue}));for(var Y=(ee||12)/12,oe=ne.positions,le=ne.cells,Z=0,$=le.length;Z<$;++Z)for(var se=le[Z],ae=2;ae>=0;--ae){var he=oe[se[ae]];M.push(Y*he[0],-Y*he[1],V)}}for(var E=[0,0,0],w=[0,0,0],_=[0,0,0],D=[0,0,0],N=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){_[F]=M.length/y|0,s(.5*(x[0][F]+x[1][F]),b[F],P[F],12,N,z),D[F]=(M.length/y|0)-_[F],E[F]=M.length/y|0;for(var U=0;U<m[F].length;++U)if(m[F][U].text){var B={family:m[F][U].font||L[F].family,style:L[F].fontStyle||L[F].style,weight:L[F].fontWeight||L[F].weight,variant:L[F].fontVariant||L[F].variant};s(m[F][U].x,m[F][U].text,B,m[F][U].fontSize||12,N,z)}w[F]=(M.length/y|0)-E[F]}this.buffer.update(M),this.tickOffset=E,this.tickCount=w,this.labelOffset=_,this.labelCount=D},T.drawTicks=function(x,b,P,m,L,M,s,E){this.tickCount[x]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=P,this.shader.uniforms.scale=b,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,b,P,m,L,M,s,E){this.labelCount[x]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=P,this.shader.uniforms.scale=b,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(x,b){try{return n(x,b)}catch(P){return console.warn('error vectorizing text:"'+x+'" error:',P),{cells:[],positions:[]}}}function p(x,b,P,m,L,M){var s=t(x),E=a(x,[{buffer:s,size:3}]),w=f(x);w.attributes.position.location=0;var _=new h(x,w,s,E);return _.update(b,P,m,L,M),_}},6444:function(v,d){d.create=t,d.equal=a;function r(n,f){var u=n+"",l=u.indexOf("."),y=0;l>=0&&(y=u.length-l-1);var h=Math.pow(10,y),T=Math.round(n*f*h),c=T+"";if(c.indexOf("e")>=0)return c;var o=T/h,p=T%h;T<0?(o=-Math.ceil(o)|0,p=-p|0):(o=Math.floor(o)|0,p=p|0);var x=""+o;if(T<0&&(x="-"+x),y){for(var b=""+p;b.length<y;)b="0"+b;return x+"."+b}else return x}function t(n,f){for(var u=[],l=0;l<3;++l){var y=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*f[l]<=n[1][l];++h)y.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=n[0][l];--h)y.push({x:h*f[l],text:r(f[l],h)});u.push(y)}return u}function a(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var y=n[u][l],h=f[u][l];if(y.x!==h.x||y.text!==h.text||y.font!==h.font||y.fontColor!==h.fontColor||y.fontSize!==h.fontSize||y.dx!==h.dx||y.dy!==h.dy)return!1}}return!0}},5445:function(v,d,r){v.exports=P;var t=r(5033),a=r(5202),n=r(6429),f=r(6760),u=r(5665),l=r(5352),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(m,L,M){this.lo=m,this.hi=L,this.pixelsPerDataUnit=M}var c=[0,0,0,1],o=[0,0,0,1];function p(m,L,M,s,E){for(var w=0;w<3;++w){for(var _=c,D=o,N=0;N<3;++N)D[N]=_[N]=M[N];D[3]=_[3]=1,D[w]+=1,l(D,D,L),D[3]<0&&(m[w]=1/0),_[w]-=1,l(_,_,L),_[3]<0&&(m[w]=1/0);var z=(_[0]/_[3]-D[0]/D[3])*s,F=(_[1]/_[3]-D[1]/D[3])*E;m[w]=.25*Math.sqrt(z*z+F*F)}return m}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],b=[0,0,0];function P(m,L,M,s,F){var w=L.model||y,_=L.view||y,D=L.projection||y,N=L._ortho||!1,z=m.bounds,F=F||n(w,_,D,z,N),U=F.axis;f(h,_,w),f(h,D,h);for(var B=x,V=0;V<3;++V)B[V].lo=1/0,B[V].hi=-1/0,B[V].pixelsPerDataUnit=1/0;var j=t(u(h,h));u(h,h);for(var Q=0;Q<3;++Q){var ee=(Q+1)%3,re=(Q+2)%3,ue=b;e:for(var V=0;V<2;++V){var J=[];if(U[Q]<0!=!!V){ue[Q]=z[V][Q];for(var X=0;X<2;++X){ue[ee]=z[X^V][ee];for(var ne=0;ne<2;++ne)ue[re]=z[ne^X^V][re],J.push(ue.slice())}for(var Y=N?5:4,X=Y;X===Y;++X){if(J.length===0)continue e;J=a.positive(J,j[X])}for(var X=0;X<J.length;++X)for(var re=J[X],oe=p(b,h,re,M,s),ne=0;ne<3;++ne)B[ne].lo=Math.min(B[ne].lo,re[ne]),B[ne].hi=Math.max(B[ne].hi,re[ne]),ne!==Q&&(B[ne].pixelsPerDataUnit=Math.min(B[ne].pixelsPerDataUnit,Math.abs(oe[ne])))}}}return B}},2762:function(v,d,r){var t=r(1888),a=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(o,p,x,b,P){this.gl=o,this.type=p,this.handle=x,this.length=b,this.usage=P}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(o,p,x,b,P,m){var L=P.length*P.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(p,P,b),L;if(L+m>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(p,m,P),x}function h(o,p){for(var x=t.malloc(o.length,p),b=o.length,P=0;P<b;++P)x[P]=o[P];return x}function T(o,p){for(var x=1,b=p.length-1;b>=0;--b){if(p[b]!==x)return!1;x*=o[b]}return!0}l.update=function(o,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var x=o.dtype;if(f.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var b=gl.getExtension("OES_element_index_uint");b&&x!=="uint16"?x="uint32":x="uint16"}if(x===o.dtype&&T(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,o.data,p):this.length=y(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),p);else{var P=t.malloc(o.size,x),m=n(P,o.shape);a.assign(m,o),p<0?this.length=y(this.gl,this.type,this.length,this.usage,P,p):this.length=y(this.gl,this.type,this.length,this.usage,P.subarray(0,o.size),p),t.free(P)}}else if(Array.isArray(o)){var L;this.type===this.gl.ELEMENT_ARRAY_BUFFER?L=h(o,"uint16"):L=h(o,"float32"),p<0?this.length=y(this.gl,this.type,this.length,this.usage,L,p):this.length=y(this.gl,this.type,this.length,this.usage,L.subarray(0,o.length),p),t.free(L)}else if(typeof o=="object"&&typeof o.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,o,p);else if(typeof o=="number"||o===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,p,x,b){if(x=x||o.ARRAY_BUFFER,b=b||o.DYNAMIC_DRAW,x!==o.ARRAY_BUFFER&&x!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==o.DYNAMIC_DRAW&&b!==o.STATIC_DRAW&&b!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var P=o.createBuffer(),m=new u(o,x,P,0,b);return m.update(p),m}v.exports=c},6405:function(v,d,r){var t=r(2931);v.exports=function(n,f){var u=n.positions,l=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),y;for(var h=0,T=1/0,c=-1/0,o=1/0,p=-1/0,x=1/0,b=-1/0,P=null,m=null,L=[],M=1/0,s=!1,E=n.coneSizemode==="raw",w=0;w<u.length;w++){var _=u[w];T=Math.min(_[0],T),c=Math.max(_[0],c),o=Math.min(_[1],o),p=Math.max(_[1],p),x=Math.min(_[2],x),b=Math.max(_[2],b);var D=l[w];if(t.length(D)>h&&(h=t.length(D)),w&&!E){var N=2*t.distance(P,_)/(t.length(m)+t.length(D));N?(M=Math.min(M,N),s=!1):s=!0}s||(P=_,m=D),L.push(D)}var z=[T,o,x],F=[c,p,b];f&&(f[0]=z,f[1]=F),h===0&&(h=1);var U=1/h;isFinite(M)||(M=1),y.vectorScale=M;var B=n.coneSize||(E?1:.5);n.absoluteConeSize&&(B=n.absoluteConeSize*U),y.coneScale=B;for(var w=0,V=0;w<u.length;w++)for(var _=u[w],j=_[0],Q=_[1],ee=_[2],re=L[w],ue=t.length(re)*U,J=0,X=8;J<X;J++){y.positions.push([j,Q,ee,V++]),y.positions.push([j,Q,ee,V++]),y.positions.push([j,Q,ee,V++]),y.positions.push([j,Q,ee,V++]),y.positions.push([j,Q,ee,V++]),y.positions.push([j,Q,ee,V++]),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vertexIntensity.push(ue,ue,ue),y.vertexIntensity.push(ue,ue,ue);var ne=y.positions.length;y.cells.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}return y};var a=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:a,traceType:"cone"})}},9060:function(v,d,r){var t=r(9405),a=r(2762),n=r(8116),f=r(7766),u=r(6760),l=r(7608),y=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(L,M,s,E,w,_,D,N,z,F,U){this.gl=L,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=s,this.pickShader=E,this.trianglePositions=w,this.triangleVectors=_,this.triangleColors=N,this.triangleUVs=z,this.triangleIds=D,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=U,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(L){this.pickId=L};function p(L){for(var M=h({colormap:L,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),E=0;E<256;++E){for(var w=M[E],_=0;_<3;++_)s[4*E+_]=w[_];s[4*E+3]=w[3]*255}return y(s,[256,256,4],[4,0,1])}function x(L){for(var M=L.length,s=new Array(M),E=0;E<M;++E)s[E]=L[E][2];return s}o.update=function(L){L=L||{};var M=this.gl;this.dirty=!0,"lightPosition"in L&&(this.lightPosition=L.lightPosition),"opacity"in L&&(this.opacity=L.opacity),"ambient"in L&&(this.ambientLight=L.ambient),"diffuse"in L&&(this.diffuseLight=L.diffuse),"specular"in L&&(this.specularLight=L.specular),"roughness"in L&&(this.roughness=L.roughness),"fresnel"in L&&(this.fresnel=L.fresnel),L.tubeScale!==void 0&&(this.tubeScale=L.tubeScale),L.vectorScale!==void 0&&(this.vectorScale=L.vectorScale),L.coneScale!==void 0&&(this.coneScale=L.coneScale),L.coneOffset!==void 0&&(this.coneOffset=L.coneOffset),L.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(p(L.colormap)),this.texture.generateMipmap());var s=L.cells,E=L.positions,w=L.vectors;if(!(!E||!s||!w)){var _=[],D=[],N=[],z=[],F=[];this.cells=s,this.positions=E,this.vectors=w;var U=L.meshColor||[1,1,1,1],B=L.vertexIntensity,V=1/0,j=-1/0;if(B)if(L.vertexIntensityBounds)V=+L.vertexIntensityBounds[0],j=+L.vertexIntensityBounds[1];else for(var Q=0;Q<B.length;++Q){var ee=B[Q];V=Math.min(V,ee),j=Math.max(j,ee)}else for(var Q=0;Q<E.length;++Q){var ee=E[Q][2];V=Math.min(V,ee),j=Math.max(j,ee)}B?this.intensity=B:this.intensity=x(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Q=0;Q<E.length;++Q)for(var re=E[Q],ue=0;ue<3;++ue)isNaN(re[ue])||!isFinite(re[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],re[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],re[ue]));var J=0;e:for(var Q=0;Q<s.length;++Q){var X=s[Q];switch(X.length){case 3:for(var ue=0;ue<3;++ue)for(var ne=X[ue],re=E[ne],Y=0;Y<3;++Y)if(isNaN(re[Y])||!isFinite(re[Y]))continue e;for(var ue=0;ue<3;++ue){var ne=X[2-ue],re=E[ne];_.push(re[0],re[1],re[2],re[3]);var oe=w[ne];D.push(oe[0],oe[1],oe[2],oe[3]||0);var le=U;le.length===3?N.push(le[0],le[1],le[2],1):N.push(le[0],le[1],le[2],le[3]);var Z;B?Z=[(B[ne]-V)/(j-V),0]:Z=[(re[2]-V)/(j-V),0],z.push(Z[0],Z[1]),F.push(Q)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(_),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(F))}},o.drawTransparent=o.draw=function(L){L=L||{};for(var M=this.gl,s=L.model||T,E=L.view||T,w=L.projection||T,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)_[0][D]=Math.max(_[0][D],this.clipBounds[0][D]),_[1][D]=Math.min(_[1][D],this.clipBounds[1][D]);var N={model:s,view:E,projection:w,inverseModel:T.slice(),clipBounds:_,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),M.disable(M.CULL_FACE),this.texture.bind(0);var z=new Array(16);u(z,N.view,N.model),u(z,N.projection,z),l(z,z);for(var D=0;D<3;++D)N.eyePosition[D]=z[12+D]/z[15];for(var F=z[15],D=0;D<3;++D)F+=this.lightPosition[D]*z[4*D+3];for(var D=0;D<3;++D){for(var U=z[12+D],B=0;B<3;++B)U+=z[4*B+D]*this.lightPosition[B];N.lightPosition[D]=U/F}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=N,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(L){L=L||{};for(var M=this.gl,s=L.model||T,E=L.view||T,w=L.projection||T,_=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)_[0][D]=Math.max(_[0][D],this.clipBounds[0][D]),_[1][D]=Math.min(_[1][D],this.clipBounds[1][D]);this._model=[].slice.call(s),this._view=[].slice.call(E),this._projection=[].slice.call(w),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var N={model:s,view:E,projection:w,clipBounds:_,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(L){if(!L||L.id!==this.pickId)return null;var M=L.value[0]+256*L.value[1]+65536*L.value[2],s=this.cells[M],E=this.positions[s[1]].slice(0,3),w={position:E,dataCoordinate:E,index:Math.floor(s[1]/48)};return this.traceType==="cone"?w.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[s[1]],w.velocity=this.vectors[s[1]].slice(0,3),w.divergence=this.vectors[s[1]][3],w.index=M),w},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function b(L,M){var s=t(L,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function P(L,M){var s=t(L,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(L,M,s){var E=s.shaders;arguments.length===1&&(M=L,L=M.gl);var w=b(L,E),_=P(L,E),D=f(L,y(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=L.LINEAR_MIPMAP_LINEAR,D.magFilter=L.LINEAR;var N=a(L),z=a(L),F=a(L),U=a(L),B=a(L),V=n(L,[{buffer:N,type:L.FLOAT,size:4},{buffer:B,type:L.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:L.FLOAT,size:4},{buffer:U,type:L.FLOAT,size:2},{buffer:z,type:L.FLOAT,size:4}]),j=new c(L,D,w,_,N,z,B,F,U,V,s.traceType||"cone");return j.update(M),j}v.exports=m},614:function(v,d,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},d.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,d,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,d,r){v.exports=c;var t=r(2762),a=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(o,p,x,b){this.gl=o,this.shader=b,this.buffer=p,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var p=this.gl,x=this.shader.uniforms;this.shader.bind();var b=x.view=o.view||f,P=x.projection=o.projection||f;x.model=o.model||f,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var m=b[12],L=b[13],M=b[14],s=b[15],E=o._ortho||!1,w=E?2:1,_=w*this.pixelRatio*(P[3]*m+P[7]*L+P[11]*M+P[15]*s)/p.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)p.lineWidth(this.lineWidth[D]*this.pixelRatio),x.capSize=this.capSize[D]*_,this.lineCount[D]&&p.drawArrays(p.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};function y(o,p){for(var x=0;x<3;++x)o[0][x]=Math.min(o[0][x],p[x]),o[1][x]=Math.max(o[1][x],p[x])}var h=function(){for(var o=new Array(3),p=0;p<3;++p){for(var x=[],b=1;b<=2;++b)for(var P=-1;P<=1;P+=2){var m=(b+p)%3,L=[0,0,0];L[m]=P,x.push(L)}o[p]=x}return o}();function T(o,p,x,b){for(var P=h[b],m=0;m<P.length;++m){var L=P[m];o.push(p[0],p[1],p[2],x[0],x[1],x[2],x[3],L[0],L[1],L[2])}return P.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=o.color||[[0,0,0],[0,0,0],[0,0,0]],x=o.position,b=o.error;if(Array.isArray(p[0])||(p=[p,p,p]),x&&b){var P=[],m=x.length,L=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=L;e:for(var s=0;s<m;++s){for(var E=x[s],w=0;w<3;++w)if(isNaN(E[w])||!isFinite(E[w]))continue e;var _=b[s],D=p[M];if(Array.isArray(D[0])&&(D=p[s]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!(isNaN(_[0][M])||isNaN(_[1][M]))){if(_[0][M]<0){var N=E.slice();N[M]+=_[0][M],P.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),y(this.bounds,N),L+=2+T(P,N,D,M)}if(_[1][M]>0){var N=E.slice();N[M]+=_[1][M],P.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),y(this.bounds,N),L+=2+T(P,N,D,M)}}}this.lineCount[M]=L-this.lineOffset[M]}this.buffer.update(P)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var p=o.gl,x=t(p),b=a(p,[{buffer:x,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:p.FLOAT,size:3,offset:28,stride:40}]),P=n(p);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.offset.location=2;var m=new u(p,x,b,P);return m.update(o),m}},3436:function(v,d,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,d,r){var t=r(7766);v.exports=L;var a=null,n,f,u,l;function y(M){var s=M.getParameter(M.FRAMEBUFFER_BINDING),E=M.getParameter(M.RENDERBUFFER_BINDING),w=M.getParameter(M.TEXTURE_BINDING_2D);return[s,E,w]}function h(M,s){M.bindFramebuffer(M.FRAMEBUFFER,s[0]),M.bindRenderbuffer(M.RENDERBUFFER,s[1]),M.bindTexture(M.TEXTURE_2D,s[2])}function T(M,s){var E=M.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);a=new Array(E+1);for(var w=0;w<=E;++w){for(var _=new Array(E),D=0;D<w;++D)_[D]=M.COLOR_ATTACHMENT0+D;for(var D=w;D<E;++D)_[D]=M.NONE;a[w]=_}}function c(M){switch(M){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(M,s,E,w,_,D){if(!w)return null;var N=t(M,s,E,_,w);return N.magFilter=M.NEAREST,N.minFilter=M.NEAREST,N.mipSamples=1,N.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,D,M.TEXTURE_2D,N.handle,0),N}function p(M,s,E,w,_){var D=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,D),M.renderbufferStorage(M.RENDERBUFFER,w,s,E),M.framebufferRenderbuffer(M.FRAMEBUFFER,_,M.RENDERBUFFER,D),D}function x(M){var s=y(M.gl),E=M.gl,w=M.handle=E.createFramebuffer(),_=M._shape[0],D=M._shape[1],N=M.color.length,z=M._ext,F=M._useStencil,U=M._useDepth,B=M._colorType;E.bindFramebuffer(E.FRAMEBUFFER,w);for(var V=0;V<N;++V)M.color[V]=o(E,_,D,B,E.RGBA,E.COLOR_ATTACHMENT0+V);N===0?(M._color_rb=p(E,_,D,E.RGBA4,E.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(a[0])):N>1&&z.drawBuffersWEBGL(a[N]);var j=E.getExtension("WEBGL_depth_texture");j?F?M.depth=o(E,_,D,j.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):U&&(M.depth=o(E,_,D,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):U&&F?M._depth_rb=p(E,_,D,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):U?M._depth_rb=p(E,_,D,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):F&&(M._depth_rb=p(E,_,D,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var Q=E.checkFramebufferStatus(E.FRAMEBUFFER);if(Q!==E.FRAMEBUFFER_COMPLETE){M._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(E.deleteRenderbuffer(M._depth_rb),M._depth_rb=null);for(var V=0;V<M.color.length;++V)M.color[V].dispose(),M.color[V]=null;M._color_rb&&(E.deleteRenderbuffer(M._color_rb),M._color_rb=null),h(E,s),c(Q)}h(E,s)}function b(M,s,E,w,_,D,N,z){this.gl=M,this._shape=[s|0,E|0],this._destroyed=!1,this._ext=z,this.color=new Array(_);for(var F=0;F<_;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=D,this._useStencil=N;var U=this,B=[s|0,E|0];Object.defineProperties(B,{0:{get:function(){return U._shape[0]},set:function(V){return U.width=V}},1:{get:function(){return U._shape[1]},set:function(V){return U.height=V}}}),this._shapeVector=B,x(this)}var P=b.prototype;function m(M,s,E){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(M._shape[0]===s&&M._shape[1]===E)){var w=M.gl,_=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(s<0||s>_||E<0||E>_)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=s,M._shape[1]=E;for(var D=y(w),N=0;N<M.color.length;++N)M.color[N].shape=M._shape;M._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,M._shape[0],M._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,M.handle);var z=w.checkFramebufferStatus(w.FRAMEBUFFER);z!==w.FRAMEBUFFER_COMPLETE&&(M.dispose(),h(w,D),c(z)),h(w,D)}}Object.defineProperties(P,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[M|0,M|0]),M.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=M[0]|0,E=M[1]|0;return m(this,s,E),[s,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return M=M|0,m(this,M,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return M=M|0,m(this,this._shape[0],M),M},enumerable:!1}}),P.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},P.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function L(M,s,E,w){n||(n=M.FRAMEBUFFER_UNSUPPORTED,f=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var _=M.getExtension("WEBGL_draw_buffers");if(!a&&_&&T(M,_),Array.isArray(s)&&(w=E,E=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var D=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(s<0||s>D||E<0||E>D)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var N=1;if("color"in w){if(N=Math.max(w.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(_){if(N>M.getParameter(_.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=M.UNSIGNED_BYTE,F=M.getExtension("OES_texture_float");if(w.float&&N>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");z=M.FLOAT}else w.preferFloat&&N>0&&F&&(z=M.FLOAT);var U=!0;"depth"in w&&(U=!!w.depth);var B=!1;return"stencil"in w&&(B=!!w.stencil),new b(M,s,E,z,N,U,B,_)}},2992:function(v,d,r){var t=r(3387).sprintf,a=r(5171),n=r(1848),f=r(1085);v.exports=u;function u(l,y,h){var T=n(y)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,T),p=t("%s%s",o,l),x=l.split(`
`),b={},P=0;P<x.length;P++){var m=x[P];if(!(m===""||m==="\0")){var L=parseInt(m.split(":")[2]);if(isNaN(L))throw new Error(t("Could not parse error: %s",m));b[L]=m}}for(var M=f(y).split(`
`),P=0;P<M.length;P++)if(!(!b[P+3]&&!b[P+2]&&!b[P+1])){var s=M[P];if(o+=s+`
`,b[P+1]){var E=b[P+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,E)}}return{long:o.trim(),short:p.trim()}}},2510:function(v,d,r){v.exports=c;var t=r(2478),a=r(7762),n=r(1888),f=r(9405),u=r(2762),l=r(6768);function y(o,p,x,b,P,m,L){this.plot=o,this.shader=p,this.pickShader=x,this.positionBuffer=b,this.weightBuffer=P,this.colorBuffer=m,this.idBuffer=L,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=y.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,x=this.shader,b=this.bounds,P=this.numVertices;if(!(P<=0)){var m=p.gl,L=p.dataBox,M=b[2]-b[0],s=b[3]-b[1],E=L[2]-L[0],w=L[3]-L[1];o[0]=2*M/E,o[4]=2*s/w,o[6]=2*(b[0]-L[0])/E-1,o[7]=2*(b[1]-L[1])/w-1,x.bind();var _=x.uniforms;_.viewTransform=o,_.shape=this.shape;var D=x.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,P)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(x){var b=this.plot,P=this.pickShader,m=this.bounds,L=this.numVertices;if(!(L<=0)){var M=b.gl,s=b.dataBox,E=m[2]-m[0],w=m[3]-m[1],_=s[2]-s[0],D=s[3]-s[1];o[0]=2*E/_,o[4]=2*w/D,o[6]=2*(m[0]-s[0])/_-1,o[7]=2*(m[1]-s[1])/D-1;for(var N=0;N<4;++N)p[N]=x>>N*8&255;this.pickOffset=x,P.bind();var z=P.uniforms;z.viewTransform=o,z.pickOffset=p,z.shape=this.shape;var F=P.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,L),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,p,x){var b=this.pickOffset,P=this.shape[0]*this.shape[1];if(x<b||x>=b+P)return null;var m=x-b,L=this.xData,M=this.yData;return{object:this,pointId:m,dataCoord:[L[m%this.shape[0]],M[m/this.shape[0]|0]]}},h.update=function(o){o=o||{};var p=o.shape||[0,0],x=o.x||a(p[0]),b=o.y||a(p[1]),P=o.z||new Float32Array(p[0]*p[1]),m=o.zsmooth!==!1;this.xData=x,this.yData=b;var L=o.colorLevels||[0],M=o.colorValues||[0,0,0,1],s=L.length,E=this.bounds,w,_,D,N;m?(w=E[0]=x[0],_=E[1]=b[0],D=E[2]=x[x.length-1],N=E[3]=b[b.length-1]):(w=E[0]=x[0]+(x[1]-x[0])/2,_=E[1]=b[0]+(b[1]-b[0])/2,D=E[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,N=E[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var z=1/(D-w),F=1/(N-_),U=p[0],B=p[1];this.shape=[U,B];var V=(m?(U-1)*(B-1):U*B)*(T.length>>>1);this.numVertices=V;for(var j=n.mallocUint8(V*4),Q=n.mallocFloat32(V*2),ee=n.mallocUint8(V*2),re=n.mallocUint32(V),ue=0,J=m?U-1:U,X=m?B-1:B,ne=0;ne<X;++ne){var Y,oe;m?(Y=F*(b[ne]-_),oe=F*(b[ne+1]-_)):(Y=ne<B-1?F*(b[ne]-(b[ne+1]-b[ne])/2-_):F*(b[ne]-(b[ne]-b[ne-1])/2-_),oe=ne<B-1?F*(b[ne]+(b[ne+1]-b[ne])/2-_):F*(b[ne]+(b[ne]-b[ne-1])/2-_));for(var le=0;le<J;++le){var Z,$;m?(Z=z*(x[le]-w),$=z*(x[le+1]-w)):(Z=le<U-1?z*(x[le]-(x[le+1]-x[le])/2-w):z*(x[le]-(x[le]-x[le-1])/2-w),$=le<U-1?z*(x[le]+(x[le+1]-x[le])/2-w):z*(x[le]+(x[le]-x[le-1])/2-w));for(var se=0;se<T.length;se+=2){var ae=T[se],he=T[se+1],me=m?(ne+he)*U+(le+ae):ne*U+le,Me=P[me],Te=t.le(L,Me),Pe,be,Ee,xe;if(Te<0)Pe=M[0],be=M[1],Ee=M[2],xe=M[3];else if(Te===s-1)Pe=M[4*s-4],be=M[4*s-3],Ee=M[4*s-2],xe=M[4*s-1];else{var Ce=(Me-L[Te])/(L[Te+1]-L[Te]),Ue=1-Ce,Ne=4*Te,De=4*(Te+1);Pe=Ue*M[Ne]+Ce*M[De],be=Ue*M[Ne+1]+Ce*M[De+1],Ee=Ue*M[Ne+2]+Ce*M[De+2],xe=Ue*M[Ne+3]+Ce*M[De+3]}j[4*ue]=255*Pe,j[4*ue+1]=255*be,j[4*ue+2]=255*Ee,j[4*ue+3]=255*xe,Q[2*ue]=Z*.5+$*.5,Q[2*ue+1]=Y*.5+oe*.5,ee[2*ue]=ae,ee[2*ue+1]=he,re[ue]=ne*U+le,ue+=1}}}this.positionBuffer.update(Q),this.weightBuffer.update(ee),this.colorBuffer.update(j),this.idBuffer.update(re),n.free(Q),n.free(j),n.free(ee),n.free(re)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,p){var x=o.gl,b=f(x,l.vertex,l.fragment),P=f(x,l.pickVertex,l.pickFragment),m=u(x),L=u(x),M=u(x),s=u(x),E=new y(o,b,P,m,L,M,s);return E.update(p),o.addObject(E),E}},6768:function(v,d,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,d,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];d.createShader=function(y){return a(y,n,f,null,l)},d.createPickShader=function(y){return a(y,n,u,null,l)}},5714:function(v,d,r){v.exports=M;var t=r(2762),a=r(8116),n=r(7766),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(s,E,w,_){return f[0]=_,f[1]=w,f[2]=E,f[3]=s,u[0]}var y=r(2478),h=r(9618),T=r(7319),c=T.createShader,o=T.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(s,E){for(var w=0,_=0;_<3;++_){var D=s[_]-E[_];w+=D*D}return Math.sqrt(w)}function b(s){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)E[0][w]=Math.max(s[0][w],E[0][w]),E[1][w]=Math.min(s[1][w],E[1][w]);return E}function P(s,E,w,_){this.arcLength=s,this.position=E,this.index=w,this.dataCoordinate=_}function m(s,E,w,_,D,N){this.gl=s,this.shader=E,this.pickShader=w,this.buffer=_,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var L=m.prototype;L.isTransparent=function(){return this.hasAlpha},L.isOpaque=function(){return!this.hasAlpha},L.pickSlots=1,L.setPickBase=function(s){this.pickId=s},L.drawTransparent=L.draw=function(s){if(this.vertexCount){var E=this.gl,w=this.shader,_=this.vao;w.bind(),w.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(E.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},L.drawPick=function(s){if(this.vertexCount){var E=this.gl,w=this.pickShader,_=this.vao;w.bind(),w.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},_.bind(),_.draw(E.TRIANGLE_STRIP,this.vertexCount),_.unbind()}},L.update=function(s){var E,w;this.dirty=!0;var _=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],z=[],F=0,U=0,B=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=s.position||s.positions;if(V){var j=s.color||s.colors||[0,0,0,1],Q=s.lineWidth||1,ee=!1;e:for(E=1;E<V.length;++E){var re=V[E-1],ue=V[E];for(N.push(F),z.push(re.slice()),w=0;w<3;++w){if(isNaN(re[w])||isNaN(ue[w])||!isFinite(re[w])||!isFinite(ue[w])){if(!_&&D.length>0){for(var J=0;J<24;++J)D.push(D[D.length-12]);U+=2,ee=!0}continue e}B[0][w]=Math.min(B[0][w],re[w],ue[w]),B[1][w]=Math.max(B[1][w],re[w],ue[w])}var X,ne;Array.isArray(j[0])?(X=j.length>E-1?j[E-1]:j.length>0?j[j.length-1]:[0,0,0,1],ne=j.length>E?j[E]:j.length>0?j[j.length-1]:[0,0,0,1]):X=ne=j,X.length===3&&(X=[X[0],X[1],X[2],1]),ne.length===3&&(ne=[ne[0],ne[1],ne[2],1]),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(Q)?Y=Q.length>E-1?Q[E-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1]:Y=Q;var oe=F;if(F+=x(re,ue),ee){for(w=0;w<2;++w)D.push(re[0],re[1],re[2],ue[0],ue[1],ue[2],oe,Y,X[0],X[1],X[2],X[3]);U+=2,ee=!1}D.push(re[0],re[1],re[2],ue[0],ue[1],ue[2],oe,Y,X[0],X[1],X[2],X[3],re[0],re[1],re[2],ue[0],ue[1],ue[2],oe,-Y,X[0],X[1],X[2],X[3],ue[0],ue[1],ue[2],re[0],re[1],re[2],F,-Y,ne[0],ne[1],ne[2],ne[3],ue[0],ue[1],ue[2],re[0],re[1],re[2],F,Y,ne[0],ne[1],ne[2],ne[3]),U+=4}}if(this.buffer.update(D),N.push(F),z.push(V[V.length-1].slice()),this.bounds=B,this.vertexCount=U,this.points=z,this.arcLength=N,"dashes"in s){var le=s.dashes,Z=le.slice();for(Z.unshift(0),E=1;E<Z.length;++E)Z[E]=Z[E-1]+Z[E];var $=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(w=0;w<4;++w)$.set(E,0,w,0);y.le(Z,Z[Z.length-1]*E/255)&1?$.set(E,0,0,0):$.set(E,0,0,255)}this.texture.setPixels($)}},L.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},L.pick=function(s){if(!s||s.id!==this.pickId)return null;var E=l(s.value[0],s.value[1],s.value[2],0),w=y.le(this.arcLength,E);if(w<0)return null;if(w===this.arcLength.length-1)return new P(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var _=this.points[w],D=this.points[Math.min(w+1,this.points.length-1)],N=(E-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),z=1-N,F=[0,0,0],U=0;U<3;++U)F[U]=z*_[U]+N*D[U];var B=Math.min(N<.5?w:w+1,this.points.length-1);return new P(E,F,B,this.points[B])};function M(s){var E=s.gl||s.scene&&s.scene.gl,w=c(E);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var _=o(E);_.attributes.position.location=0,_.attributes.nextPosition.location=1,_.attributes.arcLength.location=2,_.attributes.lineWidth.location=3,_.attributes.color.location=4;for(var D=t(E),N=a(E,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),z=h(new Array(256*4),[256,1,4]),F=0;F<1024;++F)z.data[F]=255;var U=n(E,z);U.wrap=E.REPEAT;var B=new m(E,w,_,D,N,U);return B.update(s),B}},1903:function(v){v.exports=d;function d(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=d;function d(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=d;function d(r){var t=r[0],a=r[1],n=r[2],f=r[3],u=r[4],l=r[5],y=r[6],h=r[7],T=r[8],c=r[9],o=r[10],p=r[11],x=r[12],b=r[13],P=r[14],m=r[15],L=t*l-a*u,M=t*y-n*u,s=t*h-f*u,E=a*y-n*l,w=a*h-f*l,_=n*h-f*y,D=T*b-c*x,N=T*P-o*x,z=T*m-p*x,F=c*P-o*b,U=c*m-p*b,B=o*m-p*P;return L*B-M*U+s*F+E*z-w*N+_*D}},7399:function(v){v.exports=d;function d(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a+a,y=n+n,h=f+f,T=a*l,c=n*l,o=n*y,p=f*l,x=f*y,b=f*h,P=u*l,m=u*y,L=u*h;return r[0]=1-o-b,r[1]=c+L,r[2]=p-m,r[3]=0,r[4]=c-L,r[5]=1-T-b,r[6]=x+P,r[7]=0,r[8]=p+m,r[9]=x-P,r[10]=1-T-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],y=n+n,h=f+f,T=u+u,c=n*y,o=n*h,p=n*T,x=f*h,b=f*T,P=u*T,m=l*y,L=l*h,M=l*T;return r[0]=1-(x+P),r[1]=o+M,r[2]=p-L,r[3]=0,r[4]=o-M,r[5]=1-(c+P),r[6]=b+m,r[7]=0,r[8]=p+L,r[9]=b-m,r[10]=1-(c+x),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}},7894:function(v){v.exports=d;function d(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=d;function d(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=t[4],y=t[5],h=t[6],T=t[7],c=t[8],o=t[9],p=t[10],x=t[11],b=t[12],P=t[13],m=t[14],L=t[15],M=a*y-n*l,s=a*h-f*l,E=a*T-u*l,w=n*h-f*y,_=n*T-u*y,D=f*T-u*h,N=c*P-o*b,z=c*m-p*b,F=c*L-x*b,U=o*m-p*P,B=o*L-x*P,V=p*L-x*m,j=M*V-s*B+E*U+w*F-_*z+D*N;return j?(j=1/j,r[0]=(y*V-h*B+T*U)*j,r[1]=(f*B-n*V-u*U)*j,r[2]=(P*D-m*_+L*w)*j,r[3]=(p*_-o*D-x*w)*j,r[4]=(h*F-l*V-T*z)*j,r[5]=(a*V-f*F+u*z)*j,r[6]=(m*E-b*D-L*s)*j,r[7]=(c*D-p*E+x*s)*j,r[8]=(l*B-y*F+T*N)*j,r[9]=(n*F-a*B-u*N)*j,r[10]=(b*_-P*E+L*M)*j,r[11]=(o*E-c*_-x*M)*j,r[12]=(y*z-l*U-h*N)*j,r[13]=(a*U-n*z+f*N)*j,r[14]=(P*s-b*w-m*M)*j,r[15]=(c*w-o*s+p*M)*j,r):null}},6582:function(v,d,r){var t=r(7894);v.exports=a;function a(n,f,u,l){var y,h,T,c,o,p,x,b,P,m,L=f[0],M=f[1],s=f[2],E=l[0],w=l[1],_=l[2],D=u[0],N=u[1],z=u[2];return Math.abs(L-D)<1e-6&&Math.abs(M-N)<1e-6&&Math.abs(s-z)<1e-6?t(n):(x=L-D,b=M-N,P=s-z,m=1/Math.sqrt(x*x+b*b+P*P),x*=m,b*=m,P*=m,y=w*P-_*b,h=_*x-E*P,T=E*b-w*x,m=Math.sqrt(y*y+h*h+T*T),m?(m=1/m,y*=m,h*=m,T*=m):(y=0,h=0,T=0),c=b*T-P*h,o=P*y-x*T,p=x*h-b*y,m=Math.sqrt(c*c+o*o+p*p),m?(m=1/m,c*=m,o*=m,p*=m):(c=0,o=0,p=0),n[0]=y,n[1]=c,n[2]=x,n[3]=0,n[4]=h,n[5]=o,n[6]=b,n[7]=0,n[8]=T,n[9]=p,n[10]=P,n[11]=0,n[12]=-(y*L+h*M+T*s),n[13]=-(c*L+o*M+p*s),n[14]=-(x*L+b*M+P*s),n[15]=1,n)}},6760:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],y=t[4],h=t[5],T=t[6],c=t[7],o=t[8],p=t[9],x=t[10],b=t[11],P=t[12],m=t[13],L=t[14],M=t[15],s=a[0],E=a[1],w=a[2],_=a[3];return r[0]=s*n+E*y+w*o+_*P,r[1]=s*f+E*h+w*p+_*m,r[2]=s*u+E*T+w*x+_*L,r[3]=s*l+E*c+w*b+_*M,s=a[4],E=a[5],w=a[6],_=a[7],r[4]=s*n+E*y+w*o+_*P,r[5]=s*f+E*h+w*p+_*m,r[6]=s*u+E*T+w*x+_*L,r[7]=s*l+E*c+w*b+_*M,s=a[8],E=a[9],w=a[10],_=a[11],r[8]=s*n+E*y+w*o+_*P,r[9]=s*f+E*h+w*p+_*m,r[10]=s*u+E*T+w*x+_*L,r[11]=s*l+E*c+w*b+_*M,s=a[12],E=a[13],w=a[14],_=a[15],r[12]=s*n+E*y+w*o+_*P,r[13]=s*f+E*h+w*p+_*m,r[14]=s*u+E*T+w*x+_*L,r[15]=s*l+E*c+w*b+_*M,r}},4040:function(v){v.exports=d;function d(r,t,a,n,f,u,l){var y=1/(t-a),h=1/(n-f),T=1/(u-l);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+a)*y,r[13]=(f+n)*h,r[14]=(l+u)*T,r[15]=1,r}},4772:function(v){v.exports=d;function d(r,t,a,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},6079:function(v){v.exports=d;function d(r,t,a,n){var f=n[0],u=n[1],l=n[2],y=Math.sqrt(f*f+u*u+l*l),h,T,c,o,p,x,b,P,m,L,M,s,E,w,_,D,N,z,F,U,B,V,j,Q;return Math.abs(y)<1e-6?null:(y=1/y,f*=y,u*=y,l*=y,h=Math.sin(a),T=Math.cos(a),c=1-T,o=t[0],p=t[1],x=t[2],b=t[3],P=t[4],m=t[5],L=t[6],M=t[7],s=t[8],E=t[9],w=t[10],_=t[11],D=f*f*c+T,N=u*f*c+l*h,z=l*f*c-u*h,F=f*u*c-l*h,U=u*u*c+T,B=l*u*c+f*h,V=f*l*c+u*h,j=u*l*c-f*h,Q=l*l*c+T,r[0]=o*D+P*N+s*z,r[1]=p*D+m*N+E*z,r[2]=x*D+L*N+w*z,r[3]=b*D+M*N+_*z,r[4]=o*F+P*U+s*B,r[5]=p*F+m*U+E*B,r[6]=x*F+L*U+w*B,r[7]=b*F+M*U+_*B,r[8]=o*V+P*j+s*Q,r[9]=p*V+m*j+E*Q,r[10]=x*V+L*j+w*Q,r[11]=b*V+M*j+_*Q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=d;function d(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[4],l=t[5],y=t[6],h=t[7],T=t[8],c=t[9],o=t[10],p=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+T*n,r[5]=l*f+c*n,r[6]=y*f+o*n,r[7]=h*f+p*n,r[8]=T*f-u*n,r[9]=c*f-l*n,r[10]=o*f-y*n,r[11]=p*f-h*n,r}},2408:function(v){v.exports=d;function d(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],y=t[2],h=t[3],T=t[8],c=t[9],o=t[10],p=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-T*n,r[1]=l*f-c*n,r[2]=y*f-o*n,r[3]=h*f-p*n,r[8]=u*n+T*f,r[9]=l*n+c*f,r[10]=y*n+o*f,r[11]=h*n+p*f,r}},7089:function(v){v.exports=d;function d(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],y=t[2],h=t[3],T=t[4],c=t[5],o=t[6],p=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+T*n,r[1]=l*f+c*n,r[2]=y*f+o*n,r[3]=h*f+p*n,r[4]=T*f-u*n,r[5]=c*f-l*n,r[6]=o*f-y*n,r[7]=p*f-h*n,r}},2504:function(v){v.exports=d;function d(r,t,a){var n=a[0],f=a[1],u=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=d;function d(r,t,a){var n=a[0],f=a[1],u=a[2],l,y,h,T,c,o,p,x,b,P,m,L;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],y=t[1],h=t[2],T=t[3],c=t[4],o=t[5],p=t[6],x=t[7],b=t[8],P=t[9],m=t[10],L=t[11],r[0]=l,r[1]=y,r[2]=h,r[3]=T,r[4]=c,r[5]=o,r[6]=p,r[7]=x,r[8]=b,r[9]=P,r[10]=m,r[11]=L,r[12]=l*n+c*f+b*u+t[12],r[13]=y*n+o*f+P*u+t[13],r[14]=h*n+p*f+m*u+t[14],r[15]=T*n+x*f+L*u+t[15]),r}},5665:function(v){v.exports=d;function d(r,t){if(r===t){var a=t[1],n=t[2],f=t[3],u=t[6],l=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,d,r){var t=r(2642),a=r(9346);v.exports=y;function n(h,T){for(var c=[0,0,0,0],o=0;o<4;++o)for(var p=0;p<4;++p)c[p]+=h[4*o+p]*T[o];return c}function f(h,T,c,o,p){for(var x=n(o,n(c,n(T,[h[0],h[1],h[2],1]))),b=0;b<3;++b)x[b]/=x[3];return[.5*p[0]*(1+x[0]),.5*p[1]*(1-x[1])]}function u(h,T){if(h.length===2){for(var c=0,o=0,p=0;p<2;++p)c+=Math.pow(T[p]-h[0][p],2),o+=Math.pow(T[p]-h[1][p],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var x=[0,0];return a(h[0],h[1],h[2],T,x),t(h,x)}return[]}function l(h,T){for(var c=[0,0,0],o=0;o<h.length;++o)for(var p=h[o],x=T[o],b=0;b<3;++b)c[b]+=x*p[b];return c}function y(h,T,c,o,p,x){if(h.length===1)return[0,h[0].slice()];for(var b=new Array(h.length),P=0;P<h.length;++P)b[P]=f(h[P],c,o,p,x);for(var m=0,L=1/0,P=0;P<b.length;++P){for(var M=0,s=0;s<2;++s)M+=Math.pow(b[P][s]-T[s],2);M<L&&(L=M,m=P)}for(var E=u(b,T),w=0,P=0;P<3;++P){if(E[P]<-.001||E[P]>1.0001)return null;w+=E[P]}return Math.abs(w-1)>.001?null:[m,l(h,E),E]}},840:function(v,d,r){var t=r(3236),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);d.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.pointShader={vertex:l,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},d.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},d.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},d.contourShader={vertex:o,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,d,r){var t=1e-6,a=1e-6,n=r(9405),f=r(2762),u=r(8116),l=r(7766),y=r(8406),h=r(6760),T=r(7608),c=r(9618),o=r(6729),p=r(7765),x=r(1888),b=r(840),P=r(7626),m=b.meshShader,L=b.wireShader,M=b.pointShader,s=b.pickShader,E=b.pointPickShader,w=b.contourShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D(J,X,ne,Y,oe,le,Z,$,se,ae,he,me,Me,Te,Pe,be,Ee,xe,Ce,Ue,Ne,De,He,at,vt,ot,et){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=X,this.dirty=!0,this.triShader=ne,this.lineShader=Y,this.pointShader=oe,this.pickShader=le,this.pointPickShader=Z,this.contourShader=$,this.trianglePositions=se,this.triangleColors=he,this.triangleNormals=Me,this.triangleUVs=me,this.triangleIds=ae,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=Ee,this.edgeUVs=xe,this.edgeIds=be,this.edgeVAO=Ce,this.edgeCount=0,this.pointPositions=Ue,this.pointColors=De,this.pointUVs=He,this.pointSizes=at,this.pointIds=Ne,this.pointVAO=vt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ot,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var N=D.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(J){this.pickId=J};function z(J,X){if(!X||!X.length)return 1;for(var ne=0;ne<X.length;++ne){if(X.length<2)return 1;if(X[ne][0]===J)return X[ne][1];if(X[ne][0]>J&&ne>0){var Y=(X[ne][0]-J)/(X[ne][0]-X[ne-1][0]);return X[ne][1]*(1-Y)+Y*X[ne-1][1]}}return 1}function F(J,X){for(var ne=o({colormap:J,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),oe=0;oe<256;++oe){for(var le=ne[oe],Z=0;Z<3;++Z)Y[4*oe+Z]=le[Z];X?Y[4*oe+3]=255*z(oe/255,X):Y[4*oe+3]=255*le[3]}return c(Y,[256,256,4],[4,0,1])}function U(J){for(var X=J.length,ne=new Array(X),Y=0;Y<X;++Y)ne[Y]=J[Y][2];return ne}N.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var X=p(this.cells,this.intensity,J.intensity),ne=X.cells,Y=X.vertexIds,oe=X.vertexWeights,le=ne.length,Z=x.mallocFloat32(2*3*le),$=0,se=0;se<le;++se)for(var ae=ne[se],he=0;he<2;++he){var me=ae[0];ae.length===2&&(me=ae[he]);for(var Me=Y[me][0],Te=Y[me][1],Pe=oe[me],be=1-Pe,Ee=this.positions[Me],xe=this.positions[Te],Ce=0;Ce<3;++Ce)Z[$++]=Pe*Ee[Ce]+be*xe[Ce]}this.contourCount=$/3|0,this.contourPositions.update(Z.subarray(0,$)),x.free(Z)},N.update=function(J){J=J||{};var X=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=l(X,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=X.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=X.LINEAR,this.texture.setPixels(F(J.colormap,this.opacityscale)),this.texture.generateMipmap());var ne=J.cells,Y=J.positions;if(!(!Y||!ne)){var oe=[],le=[],Z=[],$=[],se=[],ae=[],he=[],me=[],Me=[],Te=[],Pe=[],be=[],Ee=[],xe=[];this.cells=ne,this.positions=Y;var Ce=J.vertexNormals,Ue=J.cellNormals,Ne=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,De=J.faceNormalsEpsilon===void 0?a:J.faceNormalsEpsilon;J.useFacetNormals&&!Ue&&(Ue=y.faceNormals(ne,Y,De)),!Ue&&!Ce&&(Ce=y.vertexNormals(ne,Y,Ne));var He=J.vertexColors,at=J.cellColors,vt=J.meshColor||[1,1,1,1],ot=J.vertexUVs,et=J.vertexIntensity,ct=J.cellUVs,ht=J.cellIntensity,gt=1/0,xt=-1/0;if(!ot&&!ct)if(et)if(J.vertexIntensityBounds)gt=+J.vertexIntensityBounds[0],xt=+J.vertexIntensityBounds[1];else for(var Mt=0;Mt<et.length;++Mt){var tt=et[Mt];gt=Math.min(gt,tt),xt=Math.max(xt,tt)}else if(ht)if(J.cellIntensityBounds)gt=+J.cellIntensityBounds[0],xt=+J.cellIntensityBounds[1];else for(var Mt=0;Mt<ht.length;++Mt){var tt=ht[Mt];gt=Math.min(gt,tt),xt=Math.max(xt,tt)}else for(var Mt=0;Mt<Y.length;++Mt){var tt=Y[Mt][2];gt=Math.min(gt,tt),xt=Math.max(xt,tt)}et?this.intensity=et:ht?this.intensity=ht:this.intensity=U(Y),this.pickVertex=!(ht||at);var Oe=J.pointSizes,Xe=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<Y.length;++Mt)for(var Ze=Y[Mt],We=0;We<3;++We)isNaN(Ze[We])||!isFinite(Ze[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],Ze[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ze[We]));var ze=0,ke=0,je=0;e:for(var Mt=0;Mt<ne.length;++Mt){var Ie=ne[Mt];switch(Ie.length){case 1:for(var pe=Ie[0],Ze=Y[pe],We=0;We<3;++We)if(isNaN(Ze[We])||!isFinite(Ze[We]))continue e;Te.push(Ze[0],Ze[1],Ze[2]);var we;He?we=He[pe]:at?we=at[Mt]:we=vt,this.opacityscale&&et?le.push(we[0],we[1],we[2],this.opacity*z((et[pe]-gt)/(xt-gt),this.opacityscale)):we.length===3?Pe.push(we[0],we[1],we[2],this.opacity):(Pe.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0));var Ve;ot?Ve=ot[pe]:et?Ve=[(et[pe]-gt)/(xt-gt),0]:ct?Ve=ct[Mt]:ht?Ve=[(ht[Mt]-gt)/(xt-gt),0]:Ve=[(Ze[2]-gt)/(xt-gt),0],be.push(Ve[0],Ve[1]),Oe?Ee.push(Oe[pe]):Ee.push(Xe),xe.push(Mt),je+=1;break;case 2:for(var We=0;We<2;++We)for(var pe=Ie[We],Ze=Y[pe],Qe=0;Qe<3;++Qe)if(isNaN(Ze[Qe])||!isFinite(Ze[Qe]))continue e;for(var We=0;We<2;++We){var pe=Ie[We],Ze=Y[pe];ae.push(Ze[0],Ze[1],Ze[2]);var we;He?we=He[pe]:at?we=at[Mt]:we=vt,this.opacityscale&&et?le.push(we[0],we[1],we[2],this.opacity*z((et[pe]-gt)/(xt-gt),this.opacityscale)):we.length===3?he.push(we[0],we[1],we[2],this.opacity):(he.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0));var Ve;ot?Ve=ot[pe]:et?Ve=[(et[pe]-gt)/(xt-gt),0]:ct?Ve=ct[Mt]:ht?Ve=[(ht[Mt]-gt)/(xt-gt),0]:Ve=[(Ze[2]-gt)/(xt-gt),0],me.push(Ve[0],Ve[1]),Me.push(Mt)}ke+=1;break;case 3:for(var We=0;We<3;++We)for(var pe=Ie[We],Ze=Y[pe],Qe=0;Qe<3;++Qe)if(isNaN(Ze[Qe])||!isFinite(Ze[Qe]))continue e;for(var We=0;We<3;++We){var pe=Ie[2-We],Ze=Y[pe];oe.push(Ze[0],Ze[1],Ze[2]);var we;He?we=He[pe]:at?we=at[Mt]:we=vt,we?this.opacityscale&&et?le.push(we[0],we[1],we[2],this.opacity*z((et[pe]-gt)/(xt-gt),this.opacityscale)):we.length===3?le.push(we[0],we[1],we[2],this.opacity):(le.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var Ve;ot?Ve=ot[pe]:et?Ve=[(et[pe]-gt)/(xt-gt),0]:ct?Ve=ct[Mt]:ht?Ve=[(ht[Mt]-gt)/(xt-gt),0]:Ve=[(Ze[2]-gt)/(xt-gt),0],$.push(Ve[0],Ve[1]);var it;Ce?it=Ce[pe]:it=Ue[Mt],Z.push(it[0],it[1],it[2]),se.push(Mt)}ze+=1;break}}this.pointCount=je,this.edgeCount=ke,this.triangleCount=ze,this.pointPositions.update(Te),this.pointColors.update(Pe),this.pointUVs.update(be),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ae),this.edgeColors.update(he),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(Me)),this.trianglePositions.update(oe),this.triangleColors.update(le),this.triangleUVs.update($),this.triangleNormals.update(Z),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function(J){J=J||{};for(var X=this.gl,ne=J.model||_,Y=J.view||_,oe=J.projection||_,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)le[0][Z]=Math.max(le[0][Z],this.clipBounds[0][Z]),le[1][Z]=Math.min(le[1][Z],this.clipBounds[1][Z]);var $={model:ne,view:Y,projection:oe,inverseModel:_.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=T($.inverseModel,$.model),X.disable(X.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,$.view,$.model),h(se,$.projection,se),T(se,se);for(var Z=0;Z<3;++Z)$.eyePosition[Z]=se[12+Z]/se[15];for(var ae=se[15],Z=0;Z<3;++Z)ae+=this.lightPosition[Z]*se[4*Z+3];for(var Z=0;Z<3;++Z){for(var he=se[12+Z],me=0;me<3;++me)he+=se[4*me+Z]*this.lightPosition[me];$.lightPosition[Z]=he/ae}if(this.triangleCount>0){var Me=this.triShader;Me.bind(),Me.uniforms=$,this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Me=this.lineShader;Me.bind(),Me.uniforms=$,this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Me=this.pointShader;Me.bind(),Me.uniforms=$,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Me=this.contourShader;Me.bind(),Me.uniforms=$,this.contourVAO.bind(),X.drawArrays(X.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(J){J=J||{};for(var X=this.gl,ne=J.model||_,Y=J.view||_,oe=J.projection||_,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)le[0][Z]=Math.max(le[0][Z],this.clipBounds[0][Z]),le[1][Z]=Math.min(le[1][Z],this.clipBounds[1][Z]);this._model=[].slice.call(ne),this._view=[].slice.call(Y),this._projection=[].slice.call(oe),this._resolution=[X.drawingBufferWidth,X.drawingBufferHeight];var $={model:ne,view:Y,projection:oe,clipBounds:le,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=$,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var X=J.value[0]+256*J.value[1]+65536*J.value[2],ne=this.cells[X],Y=this.positions,oe=new Array(ne.length),le=0;le<ne.length;++le)oe[le]=Y[ne[le]];var Z=J.coord[0],$=J.coord[1];if(!this.pickVertex){var se=this.positions[ne[0]],ae=this.positions[ne[1]],he=this.positions[ne[2]],me=[(se[0]+ae[0]+he[0])/3,(se[1]+ae[1]+he[1])/3,(se[2]+ae[2]+he[2])/3];return{_cellCenter:!0,position:[Z,$],index:X,cell:ne,cellId:X,intensity:this.intensity[X],dataCoordinate:me}}var Me=P(oe,[Z*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Me)return null;for(var Te=Me[2],Pe=0,le=0;le<ne.length;++le)Pe+=Te[le]*this.intensity[ne[le]];return{position:Me[1],index:ne[Me[0]],cell:ne,cellId:X,intensity:Pe,dataCoordinate:this.positions[ne[Me[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function B(J){var X=n(J,m.vertex,m.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.normal.location=4,X}function V(J){var X=n(J,L.vertex,L.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X}function j(J){var X=n(J,M.vertex,M.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.pointSize.location=4,X}function Q(J){var X=n(J,s.vertex,s.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X}function ee(J){var X=n(J,E.vertex,E.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.pointSize.location=4,X}function re(J){var X=n(J,w.vertex,w.fragment);return X.attributes.position.location=0,X}function ue(J,X){arguments.length===1&&(X=J,J=X.gl);var ne=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!ne)throw new Error("derivatives not supported");var Y=B(J),oe=V(J),le=j(J),Z=Q(J),$=ee(J),se=re(J),ae=l(J,c(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=J.LINEAR_MIPMAP_LINEAR,ae.magFilter=J.LINEAR;var he=f(J),me=f(J),Me=f(J),Te=f(J),Pe=f(J),be=u(J,[{buffer:he,type:J.FLOAT,size:3},{buffer:Pe,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:J.FLOAT,size:4},{buffer:Me,type:J.FLOAT,size:2},{buffer:Te,type:J.FLOAT,size:3}]),Ee=f(J),xe=f(J),Ce=f(J),Ue=f(J),Ne=u(J,[{buffer:Ee,type:J.FLOAT,size:3},{buffer:Ue,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Ce,type:J.FLOAT,size:2}]),De=f(J),He=f(J),at=f(J),vt=f(J),ot=f(J),et=u(J,[{buffer:De,type:J.FLOAT,size:3},{buffer:ot,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:J.FLOAT,size:4},{buffer:at,type:J.FLOAT,size:2},{buffer:vt,type:J.FLOAT,size:1}]),ct=f(J),ht=u(J,[{buffer:ct,type:J.FLOAT,size:3}]),gt=new D(J,ae,Y,oe,le,Z,$,se,he,Pe,me,Me,Te,be,Ee,Ue,xe,Ce,Ne,De,ot,He,at,vt,et,ct,ht);return gt.update(X),gt}v.exports=ue},8120:function(v,d,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(y,h,T){this.plot=y,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var y=[0,0],h=[0,0];return function(T,c,o,p,x){var b=this.plot,P=this.shader,m=b.gl;y[0]=T,y[1]=c,h[0]=o,h[1]=p,P.uniforms.lo=y,P.uniforms.hi=h,P.uniforms.color=x,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=a(h,n.boxVert,n.lineFrag);return new f(y,T,c)}},1913:function(v,d,r){v.exports=h;var t=r(2762),a=r(9405),n=r(2478),f=r(3603);function u(T,c,o,p){this.plot=T,this.vbo=c,this.shader=o,this.tickShader=p,this.ticks=[[],[]]}function l(T,c){return T-c}var y=u.prototype;y.draw=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){for(var p=this.plot,x=this.vbo,b=this.shader,P=this.ticks,m=p.gl,L=p._tickBounds,M=p.dataBox,s=p.viewBox,E=p.gridLineWidth,w=p.gridLineColor,_=p.gridLineEnable,D=p.pixelRatio,N=0;N<2;++N){var z=L[N],F=L[N+2],U=F-z,B=.5*(M[N+2]+M[N]),V=M[N+2]-M[N];c[N]=2*U/V,T[N]=2*(z-B)/V}b.bind(),x.bind(),b.attributes.dataCoord.pointer(),b.uniforms.dataShift=T,b.uniforms.dataScale=c;for(var j=0,N=0;N<2;++N){o[0]=o[1]=0,o[N]=1,b.uniforms.dataAxis=o,b.uniforms.lineWidth=E[N]/(s[N+2]-s[N])*D,b.uniforms.color=w[N];var Q=P[N].length*6;_[N]&&Q&&m.drawArrays(m.TRIANGLES,j,Q),j+=Q}}}(),y.drawTickMarks=function(){var T=[0,0],c=[0,0],o=[1,0],p=[0,1],x=[0,0],b=[0,0];return function(){for(var P=this.plot,m=this.vbo,L=this.tickShader,M=this.ticks,s=P.gl,E=P._tickBounds,w=P.dataBox,_=P.viewBox,D=P.pixelRatio,N=P.screenBox,z=N[2]-N[0],F=N[3]-N[1],U=_[2]-_[0],B=_[3]-_[1],V=0;V<2;++V){var j=E[V],Q=E[V+2],ee=Q-j,re=.5*(w[V+2]+w[V]),ue=w[V+2]-w[V];c[V]=2*ee/ue,T[V]=2*(j-re)/ue}c[0]*=U/z,T[0]*=U/z,c[1]*=B/F,T[1]*=B/F,L.bind(),m.bind(),L.attributes.dataCoord.pointer();var J=L.uniforms;J.dataShift=T,J.dataScale=c;var X=P.tickMarkLength,ne=P.tickMarkWidth,Y=P.tickMarkColor,oe=0,le=M[0].length*6,Z=Math.min(n.ge(M[0],(w[0]-E[0])/(E[2]-E[0]),l),M[0].length),$=Math.min(n.gt(M[0],(w[2]-E[0])/(E[2]-E[0]),l),M[0].length),se=oe+6*Z,ae=6*Math.max(0,$-Z),he=Math.min(n.ge(M[1],(w[1]-E[1])/(E[3]-E[1]),l),M[1].length),me=Math.min(n.gt(M[1],(w[3]-E[1])/(E[3]-E[1]),l),M[1].length),Me=le+6*he,Te=6*Math.max(0,me-he);x[0]=2*(_[0]-X[1])/z-1,x[1]=(_[3]+_[1])/F-1,b[0]=X[1]*D/z,b[1]=ne[1]*D/F,Te&&(J.color=Y[1],J.tickScale=b,J.dataAxis=p,J.screenOffset=x,s.drawArrays(s.TRIANGLES,Me,Te)),x[0]=(_[2]+_[0])/z-1,x[1]=2*(_[1]-X[0])/F-1,b[0]=ne[0]*D/z,b[1]=X[0]*D/F,ae&&(J.color=Y[0],J.tickScale=b,J.dataAxis=o,J.screenOffset=x,s.drawArrays(s.TRIANGLES,se,ae)),x[0]=2*(_[2]+X[3])/z-1,x[1]=(_[3]+_[1])/F-1,b[0]=X[3]*D/z,b[1]=ne[3]*D/F,Te&&(J.color=Y[3],J.tickScale=b,J.dataAxis=p,J.screenOffset=x,s.drawArrays(s.TRIANGLES,Me,Te)),x[0]=(_[2]+_[0])/z-1,x[1]=2*(_[3]+X[2])/F-1,b[0]=ne[2]*D/z,b[1]=X[2]*D/F,ae&&(J.color=Y[2],J.tickScale=b,J.dataAxis=o,J.screenOffset=x,s.drawArrays(s.TRIANGLES,se,ae))}}(),y.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var p=o.ticks,x=o.bounds,b=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var P=0,m=[[],[]],L=0;L<2;++L)for(var M=m[L],s=p[L],E=x[L],w=x[L+2],_=0;_<s.length;++_){var D=(s[_].x-E)/(w-E);M.push(D);for(var N=0;N<6;++N)b[P++]=D,b[P++]=T[N],b[P++]=c[N]}this.ticks=m,this.vbo.update(b)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,o=t(c),p=a(c,f.gridVert,f.gridFrag),x=a(c,f.tickVert,f.gridFrag),b=new u(T,o,p,x);return b}},4747:function(v,d,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(y,h,T){this.plot=y,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var y=[0,0],h=[0,0];return function(T,c,o,p,x,b){var P=this.plot,m=this.shader,L=P.gl;y[0]=T,y[1]=c,h[0]=o,h[1]=p,m.uniforms.start=y,m.uniforms.end=h,m.uniforms.width=x*P.pixelRatio,m.uniforms.color=b,L.drawArrays(L.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=a(h,n.lineVert,n.lineFrag),o=new f(y,T,c);return o}},3603:function(v,d,r){var t=r(3236),a=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,d,r){v.exports=h;var t=r(2762),a=r(9405),n=r(529),f=r(2478),u=r(3603);function l(T,c,o){this.plot=T,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=l.prototype;y.drawTicks=function(){var T=[0,0],c=[0,0],o=[0,0];return function(p){var x=this.plot,b=this.shader,P=this.tickX[p],m=this.tickOffset[p],L=x.gl,M=x.viewBox,s=x.dataBox,E=x.screenBox,w=x.pixelRatio,_=x.tickEnable,D=x.tickPad,N=x.tickColor,z=x.tickAngle,F=x.labelEnable,U=x.labelPad,B=x.labelColor,V=x.labelAngle,j=this.labelOffset[p],Q=this.labelCount[p],ee=f.lt(P,s[p]),re=f.le(P,s[p+2]);T[0]=T[1]=0,T[p]=1,c[p]=(M[2+p]+M[p])/(E[2+p]-E[p])-1;var ue=2/E[2+(p^1)]-E[p^1];c[p^1]=ue*M[p^1]-1,_[p]&&(c[p^1]-=ue*w*D[p],ee<re&&m[re]>m[ee]&&(b.uniforms.dataAxis=T,b.uniforms.screenOffset=c,b.uniforms.color=N[p],b.uniforms.angle=z[p],L.drawArrays(L.TRIANGLES,m[ee],m[re]-m[ee]))),F[p]&&Q&&(c[p^1]-=ue*w*U[p],b.uniforms.dataAxis=o,b.uniforms.screenOffset=c,b.uniforms.color=B[p],b.uniforms.angle=V[p],L.drawArrays(L.TRIANGLES,j,Q)),c[p^1]=ue*M[2+(p^1)]-1,_[p+2]&&(c[p^1]+=ue*w*D[p+2],ee<re&&m[re]>m[ee]&&(b.uniforms.dataAxis=T,b.uniforms.screenOffset=c,b.uniforms.color=N[p+2],b.uniforms.angle=z[p+2],L.drawArrays(L.TRIANGLES,m[ee],m[re]-m[ee]))),F[p+2]&&Q&&(c[p^1]+=ue*w*U[p+2],b.uniforms.dataAxis=o,b.uniforms.screenOffset=c,b.uniforms.color=B[p+2],b.uniforms.angle=V[p+2],L.drawArrays(L.TRIANGLES,j,Q))}}(),y.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var o=this.plot,p=this.shader,x=o.gl,b=o.screenBox,P=o.titleCenter,m=o.titleAngle,L=o.titleColor,M=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(P[s]*M-b[s])/(b[2+s]-b[s])-1;p.bind(),p.uniforms.dataAxis=T,p.uniforms.screenOffset=c,p.uniforms.angle=m,p.uniforms.color=L,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){var p=this.plot,x=this.shader,b=p._tickBounds,P=p.dataBox,m=p.screenBox,L=p.viewBox;x.bind();for(var M=0;M<2;++M){var s=b[M],E=b[M+2],w=E-s,_=.5*(P[M+2]+P[M]),D=P[M+2]-P[M],N=L[M],z=L[M+2],F=z-N,U=m[M],B=m[M+2],V=B-U;c[M]=2*w/D*F/V,T[M]=2*(s-_)/D*F/V}o[1]=2*p.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=T,x.uniforms.textScale=o,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),y.update=function(T){var c=[],o=T.ticks,p=T.bounds,x,b,P,m,L;for(L=0;L<2;++L){var M=[Math.floor(c.length/3)],s=[-1/0],E=o[L];for(x=0;x<E.length;++x){var w=E[x],_=w.x,D=w.text,N=w.font||"sans-serif",z=w.fontStyle||"normal",F=w.fontWeight||"normal",U=w.fontVariant||"normal";m=w.fontSize||12;for(var B=1/(p[L+2]-p[L]),V=p[L],j=D.split(`
`),Q=0;Q<j.length;Q++)for(P=n(N,j[Q],{fontStyle:z,fontWeight:F,fontVariant:U}).data,b=0;b<P.length;b+=2)c.push(P[b]*m,-P[b+1]*m-Q*m*1.2,(_-V)*B);M.push(Math.floor(c.length/3)),s.push(_)}this.tickOffset[L]=M,this.tickX[L]=s}for(L=0;L<2;++L){for(this.labelOffset[L]=Math.floor(c.length/3),P=n(T.labelFont[L],T.labels[L],{fontStyle:T.labelFontStyle[L],fontWeight:T.labelFontWeight[L],fontVariant:T.labelFontVariant[L],textAlign:"center"}).data,m=T.labelSize[L],x=0;x<P.length;x+=2)c.push(P[x]*m,-P[x+1]*m,0);this.labelCount[L]=Math.floor(c.length/3)-this.labelOffset[L]}for(this.titleOffset=Math.floor(c.length/3),P=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,m=T.titleSize,x=0;x<P.length;x+=2)c.push(P[x]*m,-P[x+1]*m,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,o=t(c),p=a(c,u.textVert,u.textFrag),x=new l(T,o,p);return x}},1850:function(v,d,r){v.exports=c;var t=r(3589),a=r(1913),n=r(2142),f=r(4747),u=r(8120);function l(o,p){this.gl=o,this.pickBuffer=p,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=l.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var o=this.gl,p=this.screenBox,x=this.viewBox,b=this.dataBox,P=this.pixelRatio,m=this.grid,L=this.line,M=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var E=this.borderColor;o.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),o.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var w=this.backgroundColor;o.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),o.clear(o.COLOR_BUFFER_BIT),m.draw();var _=this.zeroLineEnable,D=this.zeroLineColor,N=this.zeroLineWidth;if(_[0]||_[1]){L.bind();for(var z=0;z<2;++z)if(!(!_[z]||!(b[z]<=0&&b[z+2]>=0))){var F=p[z]-b[z]*(p[z+2]-p[z])/(b[z+2]-b[z]);z===0?L.drawLine(F,p[1],F,p[3],N[z],D[z]):L.drawLine(p[0],F,p[2],F,N[z],D[z])}}for(var z=0;z<s.length;++z)s[z].draw();o.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),L.bind();var U=this.borderLineEnable,B=this.borderLineWidth,V=this.borderLineColor;U[1]&&L.drawLine(x[0],x[1]-.5*B[1]*P,x[0],x[3]+.5*B[3]*P,B[1],V[1]),U[0]&&L.drawLine(x[0]-.5*B[0]*P,x[1],x[2]+.5*B[2]*P,x[1],B[0],V[0]),U[3]&&L.drawLine(x[2],x[1]-.5*B[1]*P,x[2],x[3]+.5*B[3]*P,B[3],V[3]),U[2]&&L.drawLine(x[0]-.5*B[0]*P,x[3],x[2]+.5*B[2]*P,x[3],B[2],V[2]),M.bind();for(var z=0;z<2;++z)M.drawTicks(z);this.titleEnable&&M.drawTitle();for(var j=this.overlays,z=0;z<j.length;++z)j[z].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var p=1,x=this.objects,b=0;b<x.length;++b)p=x[b].drawPick(p);o.end()}}}(),y.pick=function(){return function(o,p){if(!this.static){var x=this.pixelRatio,b=this.pickPixelRatio,P=this.viewBox,m=Math.round((o-P[0]/x)*b)|0,L=Math.round((p-P[1]/x)*b)|0,M=this.pickBuffer.query(m,L,this.pickRadius);if(!M)return null;for(var s=M.id+(M.value[0]<<8)+(M.value[1]<<16)+(M.value[2]<<24),E=this.objects,w=0;w<E.length;++w){var _=E[w].pick(m,L,s);if(_)return _}return null}}}();function h(o){for(var p=o.slice(),x=0;x<p.length;++x)p[x]=p[x].slice();return p}function T(o,p){return o.x-p.x}y.setScreenBox=function(o){var p=this.screenBox,x=this.pixelRatio;p[0]=Math.round(o[0]*x)|0,p[1]=Math.round(o[1]*x)|0,p[2]=Math.round(o[2]*x)|0,p[3]=Math.round(o[3]*x)|0,this.setDirty()},y.setDataBox=function(o){var p=this.dataBox,x=p[0]!==o[0]||p[1]!==o[1]||p[2]!==o[2]||p[3]!==o[3];x&&(p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],this.setDirty())},y.setViewBox=function(o){var p=this.pixelRatio,x=this.viewBox;x[0]=Math.round(o[0]*p)|0,x[1]=Math.round(o[1]*p)|0,x[2]=Math.round(o[2]*p)|0,x[3]=Math.round(o[3]*p)|0;var b=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*b)|0,Math.round((o[3]-o[1])*b)|0],this.setDirty()},y.update=function(o){o=o||{};var p=this.gl;this.pixelRatio=o.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(o.screenBox||[0,0,p.drawingBufferWidth/x,p.drawingBufferHeight/x]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var b=this.viewBox,P=(b[2]-b[0])/(b[3]-b[1]);this.setDataBox(o.dataBox||[-10,-10/P,10,10/P]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(b[0]+b[2])/x,(b[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=o.ticks||[[],[]],L=this._tickBounds;L[0]=L[1]=1/0,L[2]=L[3]=-1/0;for(var M=0;M<2;++M){var s=m[M].slice(0);s.length!==0&&(s.sort(T),L[M]=Math.min(L[M],s[0].x),L[M+2]=Math.max(L[M+2],s[s.length-1].x))}this.grid.update({bounds:L,ticks:m}),this.text.update({bounds:L,ticks:m,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],labelFontStyle:o.labelFontStyle||["normal","normal"],labelFontWeight:o.labelFontWeight||["normal","normal"],labelFontVariant:o.labelFontVariant||["normal","normal"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif",titleFontStyle:o.titleFontStyle||"normal",titleFontWeight:o.titleFontWeight||"normal",titleFontVariant:o.titleFontVariant||"normal"}),this.static=!!o.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},y.removeObject=function(o){for(var p=this.objects,x=0;x<p.length;++x)if(p[x]===o){p.splice(x,1),this.setDirty();break}},y.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},y.removeOverlay=function(o){for(var p=this.overlays,x=0;x<p.length;++x)if(p[x]===o){p.splice(x,1),this.setOverlayDirty();break}};function c(o){var p=o.gl,x=t(p,[p.drawingBufferWidth,p.drawingBufferHeight]),b=new l(p,x);return b.grid=a(b),b.text=n(b),b.line=f(b),b.box=u(b),b.update(o),b}},4437:function(v,d,r){v.exports=y;var t=r(3025),a=r(6296),n=r(351),f=r(8512),u=r(24),l=r(7520);function y(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var o=a({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,b=h.clientWidth,P=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:o.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var L=t(),M=this.delay,s=L-2*M;o.idle(L-M),o.recalcMatrix(s),o.flush(L-(100+M*2));for(var E=!0,w=o.computedMatrix,_=0;_<16;++_)E=E&&p[_]===w[_],p[_]=w[_];var D=h.clientWidth===b&&h.clientHeight===P;return b=h.clientWidth,P=h.clientHeight,E?!D:(x=Math.exp(o.computedRadius[0]),!0)},lookAt:function(L,M,s){o.lookAt(o.lastT(),L,M,s)},rotate:function(L,M,s){o.rotate(o.lastT(),L,M,s)},pan:function(L,M,s){o.pan(o.lastT(),L,M,s)},translate:function(L,M,s){o.translate(o.lastT(),L,M,s)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(L){return o.setMatrix(o.lastT(),L),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(L){var M=o.computedUp.slice(),s=o.computedEye.slice(),E=o.computedCenter.slice();if(o.setMode(L),L==="turntable"){var w=t();o._active.lookAt(w,s,E,M),o._active.lookAt(w+500,s,E,[0,0,1]),o._active.flush(w)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(L){return o.lookAt(o.lastT(),null,L),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(L){return o.lookAt(o.lastT(),L),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(L){return o.lookAt(o.lastT(),null,null,L),o.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(L){return o.setDistance(o.lastT(),L),L},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(L){return o.setDistanceLimits(L),L},enumerable:!0}}),h.addEventListener("contextmenu",function(L){return L.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,L),h.addEventListener("touchstart",function(M){var s=u(M.changedTouches[0],h);L(0,s[0],s[1],m._lastMods),L(1,s[0],s[1],m._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(M){var s=u(M.changedTouches[0],h);L(1,s[0],s[1],m._lastMods),M.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(M){L(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function L(M,s,E,w){var _=m.keyBindingMode;if(_!==!1){var D=_==="rotate",N=_==="pan",z=_==="zoom",F=!!w.control,U=!!w.alt,B=!!w.shift,V=!!(M&1),j=!!(M&2),Q=!!(M&4),ee=1/h.clientHeight,re=ee*(s-m._lastX),ue=ee*(E-m._lastY),J=m.flipX?1:-1,X=m.flipY?1:-1,ne=Math.PI*m.rotateSpeed,Y=t();if(m._lastX!==-1&&m._lastY!==-1&&((D&&V&&!F&&!U&&!B||V&&!F&&!U&&B)&&o.rotate(Y,J*ne*re,-X*ne*ue,0),(N&&V&&!F&&!U&&!B||j||V&&F&&!U&&!B)&&o.pan(Y,-m.translateSpeed*re*x,m.translateSpeed*ue*x,0),z&&V&&!F&&!U&&!B||Q||V&&!F&&U&&!B)){var oe=-m.zoomSpeed*ue/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,x*(Math.exp(oe)-1))}return m._lastX=s,m._lastY=E,m._lastMods=w,!0}}m.wheelListener=f(h,function(M,s){if(m.keyBindingMode!==!1&&m.enableWheel){var E=m.flipX?1:-1,w=m.flipY?1:-1,_=t();if(Math.abs(M)>Math.abs(s))o.rotate(_,0,0,-M*E*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var D=-m.zoomSpeed*w*s/window.innerHeight*(_-o.lastT())/20;o.pan(_,0,0,x*(Math.exp(D)-1))}}},!0)},m.enableMouseListeners(),m}},799:function(v,d,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,d,r){var t=r(4437),a=r(3837),n=r(5445),f=r(4449),u=r(3589),l=r(2260),y=r(7169),h=r(351),T=r(4772),c=r(4040),o=r(799),p=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:L,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(s,E){var w=null;try{w=s.getContext("webgl",E),w||(w=s.getContext("experimental-webgl",E))}catch{return null}return w}function P(s){var E=Math.round(Math.log(Math.abs(s))/Math.log(10));if(E<0){var w=Math.round(Math.pow(10,-E));return Math.ceil(s*w)/w}else if(E>0){var w=Math.round(Math.pow(10,E));return Math.ceil(s/w)*w}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function L(s){s=s||{},s.camera=s.camera||{};var E=s.canvas;if(!E)if(E=document.createElement("canvas"),s.container){var w=s.container;w.appendChild(E)}else document.body.appendChild(E);var _=s.gl;if(_||(s.glOptions&&(p=!!s.glOptions.preserveDrawingBuffer),_=b(E,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!_)throw new Error("webgl not supported");var D=s.bounds||[[-10,-10,-10],[10,10,10]],N=new x,z=l(_,_.drawingBufferWidth,_.drawingBufferHeight,{preferFloat:!p}),F=o(_),U=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,B={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:U},V=s.axes||{},j=a(_,V);j.enable=!V.disable;var Q=s.spikes||{},ee=f(_,Q),re=[],ue=[],J=[],X=[],ne=!0,Z=!0,Y=new Array(16),oe=new Array(16),le={view:null,projection:Y,model:oe,_ortho:!1},Z=!0,$=[_.drawingBufferWidth,_.drawingBufferHeight],se=s.cameraObject||t(E,B),ae={gl:_,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:E,selection:N,camera:se,axes:j,axesPixels:null,spikes:ee,bounds:D,objects:re,shape:$,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ue){this.aspect[0]=Ue.x,this.aspect[1]=Ue.y,this.aspect[2]=Ue.z,Z=!0},setBounds:function(Ue,Ne){this.bounds[0][Ue]=Ne.min,this.bounds[1][Ue]=Ne.max},setClearColor:function(Ue){this.clearColor=Ue},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[_.drawingBufferWidth/ae.pixelRatio|0,_.drawingBufferHeight/ae.pixelRatio|0];function me(){if(!ae._stopped&&ae.autoResize){var Ue=E.parentNode,Ne=1,De=1;Ue&&Ue!==document.body?(Ne=Ue.clientWidth,De=Ue.clientHeight):(Ne=window.innerWidth,De=window.innerHeight);var He=Math.ceil(Ne*ae.pixelRatio)|0,at=Math.ceil(De*ae.pixelRatio)|0;if(He!==E.width||at!==E.height){E.width=He,E.height=at;var vt=E.style;vt.position=vt.position||"absolute",vt.left="0px",vt.top="0px",vt.width=Ne+"px",vt.height=De+"px",ne=!0}}}ae.autoResize&&me(),window.addEventListener("resize",me);function Me(){for(var Ue=re.length,Ne=X.length,De=0;De<Ne;++De)J[De]=0;e:for(var De=0;De<Ue;++De){var He=re[De],at=He.pickSlots;if(!at){ue[De]=-1;continue}for(var vt=0;vt<Ne;++vt)if(J[vt]+at<255){ue[De]=vt,He.setPickBase(J[vt]+1),J[vt]+=at;continue e}var ot=u(_,$);ue[De]=Ne,X.push(ot),J.push(at),He.setPickBase(1),Ne+=1}for(;Ne>0&&J[Ne-1]===0;)J.pop(),X.pop().dispose()}ae.update=function(Ue){ae._stopped||(ne=!0,Z=!0)},ae.add=function(Ue){ae._stopped||(Ue.axes=j,re.push(Ue),ue.push(-1),ne=!0,Z=!0,Me())},ae.remove=function(Ue){if(!ae._stopped){var Ne=re.indexOf(Ue);Ne<0||(re.splice(Ne,1),ue.pop(),ne=!0,Z=!0,Me())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",me),E.removeEventListener("webglcontextlost",Te),ae.mouseListener.enabled=!1,!ae.contextLost)){j.dispose(),ee.dispose();for(var Ue=0;Ue<re.length;++Ue)re[Ue].dispose();z.dispose();for(var Ue=0;Ue<X.length;++Ue)X[Ue].dispose();F.dispose(),_=null,j=null,ee=null,re=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=h(E,function(Ue,Ne,De){if(!ae._stopped){var He=X.length,at=re.length,vt=N.object;N.distance=1/0,N.mouse[0]=Ne,N.mouse[1]=De,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var ot=!1;if(Ue&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(Z=!0),ae._mouseRotating=!1;for(var et=0;et<He;++et){var ct=X[et].query(Ne,he[1]-De-1,ae.pickRadius);if(ct){if(ct.distance>N.distance)continue;for(var ht=0;ht<at;++ht){var gt=re[ht];if(ue[ht]===et){var xt=gt.pick(ct);xt&&(N.buttons=Ue,N.screen=ct.coord,N.distance=ct.distance,N.object=gt,N.index=xt.distance,N.dataPosition=xt.position,N.dataCoordinate=xt.dataCoordinate,N.data=xt,ot=!0)}}}}}vt&&vt!==N.object&&(vt.highlight&&vt.highlight(null),ne=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),ne=!0),ot=ot||N.object!==vt,ot&&ae.onselect&&ae.onselect(N),Ue&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(N),ae._prevButtons=Ue}})};function Te(){if(ae.contextLost)return!0;_.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}E.addEventListener("webglcontextlost",Te);function Pe(){if(!Te()){_.colorMask(!0,!0,!0,!0),_.depthMask(!0),_.disable(_.BLEND),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);for(var Ue=re.length,Ne=X.length,De=0;De<Ne;++De){var He=X[De];He.shape=he,He.begin();for(var at=0;at<Ue;++at)if(ue[at]===De){var vt=re[at];vt.drawPick&&(vt.pixelRatio=1,vt.drawPick(le))}He.end()}}}var be=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[be[0].slice(),be[1].slice()];function xe(){if(!Te()){me();var Ue=ae.camera.tick();le.view=ae.camera.matrix,ne=ne||Ue,Z=Z||Ue,j.pixelRatio=ae.pixelRatio,ee.pixelRatio=ae.pixelRatio;var Ne=re.length,De=be[0],He=be[1];De[0]=De[1]=De[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var at=0;at<Ne;++at){var vt=re[at];vt.pixelRatio=ae.pixelRatio,vt.axes=ae.axes,ne=ne||!!vt.dirty,Z=Z||!!vt.dirty;var ot=vt.bounds;if(ot)for(var et=ot[0],ct=ot[1],ht=0;ht<3;++ht)De[ht]=Math.min(De[ht],et[ht]),He[ht]=Math.max(He[ht],ct[ht])}var gt=ae.bounds;if(ae.autoBounds)for(var ht=0;ht<3;++ht){if(He[ht]<De[ht])De[ht]=-1,He[ht]=1;else{De[ht]===He[ht]&&(De[ht]-=1,He[ht]+=1);var xt=.05*(He[ht]-De[ht]);De[ht]=De[ht]-xt,He[ht]=He[ht]+xt}gt[0][ht]=De[ht],gt[1][ht]=He[ht]}for(var Mt=!1,ht=0;ht<3;++ht)Mt=Mt||Ee[0][ht]!==gt[0][ht]||Ee[1][ht]!==gt[1][ht],Ee[0][ht]=gt[0][ht],Ee[1][ht]=gt[1][ht];if(Z=Z||Mt,ne=ne||Mt,!!ne){if(Mt){for(var tt=[0,0,0],at=0;at<3;++at)tt[at]=P((gt[1][at]-gt[0][at])/10);j.autoTicks?j.update({bounds:gt,tickSpacing:tt}):j.update({bounds:gt})}var Oe=_.drawingBufferWidth,Xe=_.drawingBufferHeight;$[0]=Oe,$[1]=Xe,he[0]=Math.max(Oe/ae.pixelRatio,1)|0,he[1]=Math.max(Xe/ae.pixelRatio,1)|0,M(ae,U);for(var at=0;at<Ne;++at){var vt=re[at];vt.axesBounds=gt,ae.clipToBounds&&(vt.clipBounds=gt)}N.object&&(ae.snapToData?ee.position=N.dataCoordinate:ee.position=N.dataPosition,ee.bounds=gt),Z&&(Z=!1,Pe()),ae.axesPixels=n(ae.axes,le,Oe,Xe),ae.onrender&&ae.onrender(),_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,Oe,Xe),ae.clearRGBA(),_.depthMask(!0),_.colorMask(!0,!0,!0,!0),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.disable(_.BLEND),_.disable(_.CULL_FACE);var Ze=!1;j.enable&&(Ze=Ze||j.isTransparent(),j.draw(le)),ee.axes=j,N.object&&ee.draw(le),_.disable(_.CULL_FACE);for(var at=0;at<Ne;++at){var vt=re[at];vt.axes=j,vt.pixelRatio=ae.pixelRatio,vt.isOpaque&&vt.isOpaque()&&vt.draw(le),vt.isTransparent&&vt.isTransparent()&&(Ze=!0)}if(Ze){z.shape=$,z.bind(),_.clear(_.DEPTH_BUFFER_BIT),_.colorMask(!1,!1,!1,!1),_.depthMask(!0),_.depthFunc(_.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(le);for(var at=0;at<Ne;++at){var vt=re[at];vt.isOpaque&&vt.isOpaque()&&vt.draw(le)}_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.colorMask(!0,!0,!0,!0),_.depthMask(!1),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(le);for(var at=0;at<Ne;++at){var vt=re[at];vt.isTransparent&&vt.isTransparent()&&vt.drawTransparent(le)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.disable(_.DEPTH_TEST),F.bind(),z.color[0].bind(0),F.uniforms.accumBuffer=0,y(_),_.disable(_.BLEND)}ne=!1;for(var at=0;at<Ne;++at)re[at].dirty=!1}}}function Ce(){ae._stopped||ae.contextLost||(xe(),requestAnimationFrame(Ce))}return ae.enableMouseListeners(),Ce(),ae.redraw=function(){ae._stopped||(ne=!0,xe())},ae}function M(s,E){var w=s.bounds,_=s.cameraParams,D=_.projection,N=_.model,z=s.gl.drawingBufferWidth,F=s.gl.drawingBufferHeight,U=s.zNear,B=s.zFar,V=s.fovy,j=z/F;E?(c(D,-j,j,-1,1,U,B),_._ortho=!0):(T(D,V,j,U,B),_._ortho=!1);for(var Q=0;Q<16;++Q)N[Q]=0;N[15]=1;for(var ee=0,Q=0;Q<3;++Q)ee=Math.max(ee,w[1][Q]-w[0][Q]);for(var Q=0;Q<3;++Q)s.autoScale?N[5*Q]=s.aspect[Q]/(w[1][Q]-w[0][Q]):N[5*Q]=1/ee,s.autoCenter&&(N[12+Q]=-N[5*Q]*.5*(w[0][Q]+w[1][Q]))}},6640:function(v,d,r){var t=r(3236);d.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),d.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),d.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),d.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,d,r){var t=r(9405),a=r(2762),n=r(1888),f=r(6640);v.exports=h;function u(T,c,o,p,x){this.plot=T,this.offsetBuffer=c,this.pickBuffer=o,this.shader=p,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var c;T=T||{};function o(M,s){return M in T?T[M]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var p=T.positions.length>>>1,x=T.positions instanceof Float32Array,b=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=p,P=T.positions,m=x?P:n.mallocFloat32(P.length),L=b?T.idToIndex:n.mallocInt32(p);if(x||m.set(P),!b)for(m.set(P),c=0;c<p;c++)L[c]=c;this.points=P,this.offsetBuffer.update(m),this.pickBuffer.update(L),x||n.free(m),b||n.free(L),this.pointCount=p,this.pickOffset=0};function y(T,c){var o=0,p=T.length>>>1,x;for(x=0;x<p;x++){var b=T[x*2],P=T[x*2+1];b>=c[0]&&b<=c[2]&&P>=c[1]&&P<=c[3]&&o++}return o}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var p=o!==void 0,x=p?this.pickShader:this.shader,b=this.plot.gl,P=this.plot.dataBox;if(this.pointCount===0)return o;var m=P[2]-P[0],L=P[3]-P[1],M=y(this.points,P),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));T[0]=2/m,T[4]=2/L,T[6]=-2*P[0]/m-1,T[7]=-2*P[1]/L-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=s<5,x.uniforms.pointSize=s,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(b.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=o);var E=b.getParameter(b.BLEND),w=b.getParameter(b.DITHER);return E&&!this.blend&&b.disable(b.BLEND),w&&b.disable(b.DITHER),b.drawArrays(b.POINTS,0,this.pointCount),E&&!this.blend&&b.enable(b.BLEND),w&&b.enable(b.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,c,o){var p=this.pickOffset,x=this.pointCount;if(o<p||o>=p+x)return null;var b=o-p,P=this.points;return{object:this,pointId:b,dataCoord:[P[2*b],P[2*b+1]]}};function h(T,c){var o=T.gl,p=a(o),x=a(o),b=t(o,f.pointVertex,f.pointFragment),P=t(o,f.pickVertex,f.pickFragment),m=new u(T,p,x,b,P);return m.update(c),T.addObject(m),m}},783:function(v){v.exports=d;function d(r,t,a,n){var f=t[0],u=t[1],l=t[2],y=t[3],h=a[0],T=a[1],c=a[2],o=a[3],p,x,b,P,m;return x=f*h+u*T+l*c+y*o,x<0&&(x=-x,h=-h,T=-T,c=-c,o=-o),1-x>1e-6?(p=Math.acos(x),b=Math.sin(p),P=Math.sin((1-n)*p)/b,m=Math.sin(n*p)/b):(P=1-n,m=n),r[0]=P*f+m*h,r[1]=P*u+m*T,r[2]=P*l+m*c,r[3]=P*y+m*o,r}},5964:function(v){v.exports=function(d){return!d&&d!==0?"":d.toString()}},9366:function(v,d,r){var t=r(4359);v.exports=n;var a={};function n(f,u,l){var y=[u.style,u.weight,u.variant,u.family].join("_"),h=a[y];if(h||(h=a[y]={}),f in h)return h[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(f,T);T.triangles=!1;var o=t(f,T),p,x;if(l&&l!==1){for(p=0;p<c.positions.length;++p)for(x=0;x<c.positions[p].length;++x)c.positions[p][x]/=l;for(p=0;p<o.positions.length;++p)for(x=0;x<o.positions[p].length;++x)o.positions[p][x]/=l}var b=[[1/0,1/0],[-1/0,-1/0]],P=o.positions.length;for(p=0;p<P;++p){var m=o.positions[p];for(x=0;x<2;++x)b[0][x]=Math.min(b[0][x],m[x]),b[1][x]=Math.max(b[1][x],m[x])}return h[f]=[c,o,b]}},1283:function(v,d,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},o={vertex:u,fragment:l,attributes:h},p={vertex:n,fragment:y,attributes:h},x={vertex:f,fragment:y,attributes:h},b={vertex:u,fragment:y,attributes:h};function P(m,L){var M=t(m,L),s=M.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,M}d.createPerspective=function(m){return P(m,T)},d.createOrtho=function(m){return P(m,c)},d.createProject=function(m){return P(m,o)},d.createPickPerspective=function(m){return P(m,p)},d.createPickOrtho=function(m){return P(m,x)},d.createPickProject=function(m){return P(m,b)}},8418:function(v,d,r){var t=r(5219),a=r(2762),n=r(8116),f=r(1888),u=r(6760),l=r(1283),y=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ue;function c(J,X){var ne=J[0],Y=J[1],oe=J[2],le=J[3];return J[0]=X[0]*ne+X[4]*Y+X[8]*oe+X[12]*le,J[1]=X[1]*ne+X[5]*Y+X[9]*oe+X[13]*le,J[2]=X[2]*ne+X[6]*Y+X[10]*oe+X[14]*le,J[3]=X[3]*ne+X[7]*Y+X[11]*oe+X[15]*le,J}function o(J,X,ne,Y){return c(Y,Y),c(Y,Y),c(Y,Y)}function p(J,X){this.index=J,this.dataCoordinate=this.position=X}function x(J){return J===!0||J>1?1:J}function b(J,X,ne,Y,oe,le,Z,$,se,ae,he,me){this.gl=J,this.pixelRatio=1,this.shader=X,this.orthoShader=ne,this.projectShader=Y,this.pointBuffer=oe,this.colorBuffer=le,this.glyphBuffer=Z,this.idBuffer=$,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=he,this.pickProjectShader=me,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var P=b.prototype;P.pickSlots=1,P.setPickBase=function(J){this.pickId=J},P.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},P.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],L=[0,0,0],M=[0,0,0],s=[0,0,0,1],E=[0,0,0,1],w=T.slice(),_=[0,0,0],D=[[0,0,0],[0,0,0]];function N(J){return J[0]=J[1]=J[2]=0,J}function z(J,X){return J[0]=X[0],J[1]=X[1],J[2]=X[2],J[3]=1,J}function F(J,X,ne,Y){return J[0]=X[0],J[1]=X[1],J[2]=X[2],J[ne]=Y,J}function U(J){for(var X=D,ne=0;ne<2;++ne)for(var Y=0;Y<3;++Y)X[ne][Y]=Math.max(Math.min(J[ne][Y],1e8),-1e8);return X}function B(J,X,ne,Y){var oe=X.axesProject,le=X.gl,Z=J.uniforms,$=ne.model||T,se=ne.view||T,ae=ne.projection||T,he=X.axesBounds,me=U(X.clipBounds),Me;X.axes&&X.axes.lastCubeProps?Me=X.axes.lastCubeProps.axis:Me=[1,1,1],m[0]=2/le.drawingBufferWidth,m[1]=2/le.drawingBufferHeight,J.bind(),Z.view=se,Z.projection=ae,Z.screenSize=m,Z.highlightId=X.highlightId,Z.highlightScale=X.highlightScale,Z.clipBounds=me,Z.pickGroup=X.pickId/255,Z.pixelRatio=Y;for(var Te=0;Te<3;++Te)if(oe[Te]){Z.scale=X.projectScale[Te],Z.opacity=X.projectOpacity[Te];for(var Pe=w,be=0;be<16;++be)Pe[be]=0;for(var be=0;be<4;++be)Pe[5*be]=1;Pe[5*Te]=0,Me[Te]<0?Pe[12+Te]=he[0][Te]:Pe[12+Te]=he[1][Te],u(Pe,$,Pe),Z.model=Pe;var Ee=(Te+1)%3,xe=(Te+2)%3,Ce=N(L),Ue=N(M);Ce[Ee]=1,Ue[xe]=1;var Ne=o(ae,se,$,z(s,Ce)),De=o(ae,se,$,z(E,Ue));if(Math.abs(Ne[1])>Math.abs(De[1])){var He=Ne;Ne=De,De=He,He=Ce,Ce=Ue,Ue=He;var at=Ee;Ee=xe,xe=at}Ne[0]<0&&(Ce[Ee]=-1),De[1]>0&&(Ue[xe]=-1);for(var vt=0,ot=0,be=0;be<4;++be)vt+=Math.pow($[4*Ee+be],2),ot+=Math.pow($[4*xe+be],2);Ce[Ee]/=Math.sqrt(vt),Ue[xe]/=Math.sqrt(ot),Z.axes[0]=Ce,Z.axes[1]=Ue,Z.fragClipBounds[0]=F(_,me[0],Te,-1e8),Z.fragClipBounds[1]=F(_,me[1],Te,1e8),X.vao.bind(),X.vao.draw(le.TRIANGLES,X.vertexCount),X.lineWidth>0&&(le.lineWidth(X.lineWidth*Y),X.vao.draw(le.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}var V=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],Q=[V,j];function ee(J,X,ne,Y,oe,le,Z){var $=ne.gl;if((le===ne.projectHasAlpha||Z)&&B(X,ne,Y,oe),le===ne.hasAlpha||Z){J.bind();var se=J.uniforms;se.model=Y.model||T,se.view=Y.view||T,se.projection=Y.projection||T,m[0]=2/$.drawingBufferWidth,m[1]=2/$.drawingBufferHeight,se.screenSize=m,se.highlightId=ne.highlightId,se.highlightScale=ne.highlightScale,se.fragClipBounds=Q,se.clipBounds=ne.axes.bounds,se.opacity=ne.opacity,se.pickGroup=ne.pickId/255,se.pixelRatio=oe,ne.vao.bind(),ne.vao.draw($.TRIANGLES,ne.vertexCount),ne.lineWidth>0&&($.lineWidth(ne.lineWidth*oe),ne.vao.draw($.LINES,ne.lineVertexCount,ne.vertexCount)),ne.vao.unbind()}}P.draw=function(J){var X=this.useOrtho?this.orthoShader:this.shader;ee(X,this.projectShader,this,J,this.pixelRatio,!1,!1)},P.drawTransparent=function(J){var X=this.useOrtho?this.orthoShader:this.shader;ee(X,this.projectShader,this,J,this.pixelRatio,!0,!1)},P.drawPick=function(J){var X=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ee(X,this.pickProjectShader,this,J,1,!0,!0)},P.pick=function(J){if(!J||J.id!==this.pickId)return null;var X=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(X>=this.pointCount||X<0)return null;var ne=this.points[X],Y=this._selectResult;Y.index=X;for(var oe=0;oe<3;++oe)Y.position[oe]=Y.dataCoordinate[oe]=ne[oe];return Y},P.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var X=J.index,ne=X&255,Y=X>>8&255,oe=X>>16&255;this.highlightId=[ne/255,Y/255,oe/255,0]}};function re(J,X,ne,Y){var oe;Array.isArray(J)?X<J.length?oe=J[X]:oe=void 0:oe=J,oe=h(oe);var le=!0;t(oe)&&(oe="",le=!1),ne||(ne={});var Z=ne.family;Array.isArray(Z)&&(Z=Z[X]),Z||(Z="normal");var $=ne.weight;Array.isArray($)&&($=$[X]),$||($="normal");var se=ne.style;Array.isArray(se)&&(se=se[X]),se||(se="normal");var ae=ne.variant;Array.isArray(ae)&&(ae=ae[X]),ae||(ae="normal");var he=y(oe,{family:Z,weight:$,style:se,variant:ae},Y),he=y(oe,ne,Y);return{mesh:he[0],lines:he[1],bounds:he[2],visible:le}}P.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var X=!!J.project;this.axesProject=[X,X,X]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var ne=+J.projectScale;this.projectScale=[ne,ne,ne]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var ne=+J.projectOpacity;this.projectOpacity=[ne,ne,ne]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=x(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=x(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var oe=J.position,le={family:J.font||"normal",style:J.fontStyle||"normal",weight:J.fontWeight||"normal",variant:J.fontVariant||"normal"},Z=J.alignment||[0,0],$,se;if(Z.length===2)$=Z[0],se=Z[1];else{$=[],se=[];for(var Y=0;Y<Z.length;++Y)$[Y]=Z[Y][0],se[Y]=Z[Y][1]}var ae=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],me=J.glyph,Me=J.color,Te=J.size,Pe=J.angle,be=J.lineColor,Ee=-1,xe=0,Ce=0,Ue=0;if(oe.length){Ue=oe.length;e:for(var Y=0;Y<Ue;++Y){for(var Ne=oe[Y],De=0;De<3;++De)if(isNaN(Ne[De])||!isFinite(Ne[De]))continue e;var He=re(me,Y,le,this.pixelRatio),at=He.mesh,vt=He.lines,ot=He.bounds;xe+=at.cells.length*3,Ce+=vt.edges.length*2}}var et=xe+Ce,ct=f.mallocFloat(3*et),ht=f.mallocFloat(4*et),gt=f.mallocFloat(2*et),xt=f.mallocUint32(et);if(et>0){var Mt=0,tt=xe,Oe=[0,0,0,1],Xe=[0,0,0,1],Ze=Array.isArray(Me)&&Array.isArray(Me[0]),We=Array.isArray(be)&&Array.isArray(be[0]);e:for(var Y=0;Y<Ue;++Y){Ee+=1;for(var Ne=oe[Y],De=0;De<3;++De){if(isNaN(Ne[De])||!isFinite(Ne[De]))continue e;he[De]=Math.max(he[De],Ne[De]),ae[De]=Math.min(ae[De],Ne[De])}var He=re(me,Y,le,this.pixelRatio),at=He.mesh,vt=He.lines,ot=He.bounds,ze=He.visible;if(!ze)Oe=[1,1,1,0];else if(Array.isArray(Me)){var ke;if(Ze?Y<Me.length?ke=Me[Y]:ke=[0,0,0,0]:ke=Me,ke.length===3){for(var De=0;De<3;++De)Oe[De]=ke[De];Oe[3]=1}else if(ke.length===4){for(var De=0;De<4;++De)Oe[De]=ke[De];!this.hasAlpha&&ke[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;if(!ze)Xe=[1,1,1,0];else if(Array.isArray(be)){var ke;if(We?Y<be.length?ke=be[Y]:ke=[0,0,0,0]:ke=be,ke.length===3){for(var De=0;De<3;++De)Xe[De]=ke[De];Xe[De]=1}else if(ke.length===4){for(var De=0;De<4;++De)Xe[De]=ke[De];!this.hasAlpha&&ke[3]<1&&(this.hasAlpha=!0)}}else Xe[0]=Xe[1]=Xe[2]=0,Xe[3]=1;var je=.5;ze?Array.isArray(Te)?Y<Te.length?je=+Te[Y]:je=12:Te?je=+Te:this.useOrtho&&(je=12):je=0;var Ie=0;Array.isArray(Pe)?Y<Pe.length?Ie=+Pe[Y]:Ie=0:Pe&&(Ie=+Pe);for(var pe=Math.cos(Ie),we=Math.sin(Ie),Ne=oe[Y],De=0;De<3;++De)he[De]=Math.max(he[De],Ne[De]),ae[De]=Math.min(ae[De],Ne[De]);var Ve=$,Qe=se,Ve=0;Array.isArray($)?Y<$.length?Ve=$[Y]:Ve=0:$&&(Ve=$);var Qe=0;Array.isArray(se)?Y<se.length?Qe=se[Y]:Qe=0:se&&(Qe=se),Ve*=Ve>0?1-ot[0][0]:Ve<0?1+ot[1][0]:1,Qe*=Qe>0?1-ot[0][1]:Qe<0?1+ot[1][1]:1;for(var it=[Ve,Qe],Lt=at.cells||[],Xt=at.positions||[],De=0;De<Lt.length;++De)for(var st=Lt[De],Wt=0;Wt<3;++Wt){for(var jt=0;jt<3;++jt)ct[3*Mt+jt]=Ne[jt];for(var jt=0;jt<4;++jt)ht[4*Mt+jt]=Oe[jt];xt[Mt]=Ee;var Tt=Xt[st[Wt]];gt[2*Mt]=je*(pe*Tt[0]-we*Tt[1]+it[0]),gt[2*Mt+1]=je*(we*Tt[0]+pe*Tt[1]+it[1]),Mt+=1}for(var Lt=vt.edges,Xt=vt.positions,De=0;De<Lt.length;++De)for(var st=Lt[De],Wt=0;Wt<2;++Wt){for(var jt=0;jt<3;++jt)ct[3*tt+jt]=Ne[jt];for(var jt=0;jt<4;++jt)ht[4*tt+jt]=Xe[jt];xt[tt]=Ee;var Tt=Xt[st[Wt]];gt[2*tt]=je*(pe*Tt[0]-we*Tt[1]+it[0]),gt[2*tt+1]=je*(we*Tt[0]+pe*Tt[1]+it[1]),tt+=1}}}this.bounds=[ae,he],this.points=oe,this.pointCount=oe.length,this.vertexCount=xe,this.lineVertexCount=Ce,this.pointBuffer.update(ct),this.colorBuffer.update(ht),this.glyphBuffer.update(gt),this.idBuffer.update(xt),f.free(ct),f.free(ht),f.free(gt),f.free(xt)},P.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ue(J){var X=J.gl,ne=l.createPerspective(X),Y=l.createOrtho(X),oe=l.createProject(X),le=l.createPickPerspective(X),Z=l.createPickOrtho(X),$=l.createPickProject(X),se=a(X),ae=a(X),he=a(X),me=a(X),Me=n(X,[{buffer:se,size:3,type:X.FLOAT},{buffer:ae,size:4,type:X.FLOAT},{buffer:he,size:2,type:X.FLOAT},{buffer:me,size:4,type:X.UNSIGNED_BYTE,normalized:!0}]),Te=new b(X,ne,Y,oe,se,ae,he,me,Me,le,Z,$);return Te.update(J),Te}},4298:function(v,d,r){var t=r(3236);d.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),d.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,d,r){var t=r(9405),a=r(2762),n=r(4298);v.exports=l;function f(y,h,T){this.plot=y,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var y=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,p=this.borderColor,x=y.box,b=y.screenBox,P=y.dataBox,m=y.viewBox,L=y.pixelRatio,M=(h[0]-P[0])*(m[2]-m[0])/(P[2]-P[0])+m[0],s=(h[1]-P[1])*(m[3]-m[1])/(P[3]-P[1])+m[1],E=(h[2]-P[0])*(m[2]-m[0])/(P[2]-P[0])+m[0],w=(h[3]-P[1])*(m[3]-m[1])/(P[3]-P[1])+m[1];if(M=Math.max(M,m[0]),s=Math.max(s,m[1]),E=Math.min(E,m[2]),w=Math.min(w,m[3]),!(E<M||w<s)){x.bind();var _=b[2]-b[0],D=b[3]-b[1];if(this.outerFill&&(x.drawBox(0,0,_,s,o),x.drawBox(0,s,M,w,o),x.drawBox(0,w,_,D,o),x.drawBox(E,s,_,w,o)),this.innerFill&&x.drawBox(M,s,E,w,c),T>0){var N=T*L;x.drawBox(M-N,s-N,E+N,s+N,p),x.drawBox(M-N,w-N,E+N,w+N,p),x.drawBox(M-N,s-N,M+N,w+N,p),x.drawBox(E-N,s-N,E+N,w+N,p)}}}},u.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(y,h){var T=y.gl,c=a(T,[0,0,0,1,1,0,1,1]),o=t(T,n.boxVertex,n.boxFragment),p=new f(y,c,o);return p.update(h),y.addOverlay(p),p}},3589:function(v,d,r){v.exports=T;var t=r(2260),a=r(1888),n=r(9618),f=r(8828).nextPow2,u=function(c,o,p){for(var x=1e8,b=-1,P=-1,m=c.shape[0],L=c.shape[1],M=0;M<m;M++)for(var s=0;s<L;s++){var E=c.get(M,s,0),w=c.get(M,s,1),_=c.get(M,s,2),D=c.get(M,s,3);if(E<255||w<255||_<255||D<255){var N=o-M,z=p-s,F=N*N+z*z;F<x&&(x=F,b=M,P=s)}}return[b,P,x]};function l(c,o,p,x,b){this.coord=[c,o],this.id=p,this.value=x,this.distance=b}function y(c,o,p){this.gl=c,this.fbo=o,this.buffer=p,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=y.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],p=this.fbo.shape[1];if(p*o*4>this.buffer.length){a.free(this.buffer);for(var x=this.buffer=a.mallocUint8(f(p*o*4)),b=0;b<p*o*4;++b)x[b]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,p){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,o=o|0,typeof p!="number"&&(p=1);var b=Math.min(Math.max(c-p,0),x[0])|0,P=Math.min(Math.max(c+p,0),x[0])|0,m=Math.min(Math.max(o-p,0),x[1])|0,L=Math.min(Math.max(o+p,0),x[1])|0;if(P<=b||L<=m)return null;var M=[P-b,L-m],s=n(this.buffer,[M[0],M[1],4],[4,x[0]*4,1],4*(b+x[0]*m)),E=u(s.hi(M[0],M[1],1),p,p),w=E[0],_=E[1];if(w<0||Math.pow(this.radius,2)<E[2])return null;var D=s.get(w,_,0),N=s.get(w,_,1),z=s.get(w,_,2),F=s.get(w,_,3);return new l(w+b|0,_+m|0,D,[N,z,F],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,o){var p=o[0],x=o[1],b={},P=t(c,p,x,b),m=a.mallocUint8(p*x*4);return new y(c,P,m)}},9405:function(v,d,r){var t=r(3327),a=r(8731),n=r(216),f=r(5091),u=r(2145),l=r(8866);function y(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=y.prototype;h.bind=function(){this.program||this._relink();var o,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(p>x)for(o=x;o<p;o++)this.gl.enableVertexAttribArray(o);else if(x>p)for(o=p;o<x;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,p=0;p<o;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(o,p){return o.name<p.name?-1:1}h.update=function(o,p,x,b){if(!p||arguments.length===1){var P=o;o=P.vertex,p=P.fragment,x=P.uniforms,b=P.attributes}var m=this,L=m.gl,M=m._vref;m._vref=f.shader(L,L.VERTEX_SHADER,o),M&&M.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=f.shader(L,L.FRAGMENT_SHADER,p),s&&s.dispose(),m.fragShader=m._fref.shader,!x||!b){var E=L.createProgram();if(L.attachShader(E,m.fragShader),L.attachShader(E,m.vertShader),L.linkProgram(E),!L.getProgramParameter(E,L.LINK_STATUS)){var w=L.getProgramInfoLog(E);throw new l(w,"Error linking program:"+w)}x=x||u.uniforms(L,E),b=b||u.attributes(L,E),L.deleteProgram(E)}b=b.slice(),b.sort(T);var _=[],D=[],N=[],z;for(z=0;z<b.length;++z){var F=b[z];if(F.type.indexOf("mat")>=0){for(var U=F.type.charAt(F.type.length-1)|0,B=new Array(U),V=0;V<U;++V)B[V]=N.length,D.push(F.name+"["+V+"]"),typeof F.location=="number"?N.push(F.location+V):Array.isArray(F.location)&&F.location.length===U&&typeof F.location[V]=="number"?N.push(F.location[V]|0):N.push(-1);_.push({name:F.name,type:F.type,locations:B})}else _.push({name:F.name,type:F.type,locations:[N.length]}),D.push(F.name),typeof F.location=="number"?N.push(F.location|0):N.push(-1)}var j=0;for(z=0;z<N.length;++z)if(N[z]<0){for(;N.indexOf(j)>=0;)j+=1;N[z]=j}var Q=new Array(x.length);function ee(){m.program=f.program(L,m._vref,m._fref,D,N);for(var re=0;re<x.length;++re)Q[re]=L.getUniformLocation(m.program,x[re].name)}ee(),m._relink=ee,m.types={uniforms:n(x),attributes:n(b)},m.attributes=a(L,m,_,N),Object.defineProperty(m,"uniforms",t(L,m,x,Q))};function c(o,p,x,b,P){var m=new y(o);return m.update(p,x,b,P),m}v.exports=c},8866:function(v){function d(r,t,a){this.shortMessage=t||"",this.longMessage=a||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(a?`
`+a:""),this.stack=new Error().stack}d.prototype=new Error,d.prototype.name="GLError",d.prototype.constructor=d,v.exports=d},8731:function(v,d,r){v.exports=y;var t=r(8866);function a(h,T,c,o,p,x){this._gl=h,this._wrapper=T,this._index=c,this._locations=o,this._dimension=p,this._constFunc=x}var n=a.prototype;n.pointer=function(T,c,o,p){var x=this,b=x._gl,P=x._locations[x._index];b.vertexAttribPointer(P,x._dimension,T||b.FLOAT,!!c,o||0,p||0),b.enableVertexAttribArray(P)},n.set=function(h,T,c,o){return this._constFunc(this._locations[this._index],h,T,c,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,o){return c.length===void 0?h.vertexAttrib2f(T,c,o):h.vertexAttrib2fv(T,c)},function(h,T,c,o,p){return c.length===void 0?h.vertexAttrib3f(T,c,o,p):h.vertexAttrib3fv(T,c)},function(h,T,c,o,p,x){return c.length===void 0?h.vertexAttrib4f(T,c,o,p,x):h.vertexAttrib4fv(T,c)}];function u(h,T,c,o,p,x,b){var P=f[p],m=new a(h,T,c,o,p,P);Object.defineProperty(x,b,{set:function(L){return h.disableVertexAttribArray(o[c]),P(h,o[c],L),L},get:function(){return m},enumerable:!0})}function l(h,T,c,o,p,x,b){for(var P=new Array(p),m=new Array(p),L=0;L<p;++L)u(h,T,c[L],o,p,P,L),m[L]=P[L];Object.defineProperty(P,"location",{set:function(E){if(Array.isArray(E))for(var w=0;w<p;++w)m[w].location=E[w];else for(var w=0;w<p;++w)m[w].location=E+w;return E},get:function(){for(var E=new Array(p),w=0;w<p;++w)E[w]=o[c[w]];return E},enumerable:!0}),P.pointer=function(E,w,_,D){E=E||h.FLOAT,w=!!w,_=_||p*p,D=D||0;for(var N=0;N<p;++N){var z=o[c[N]];h.vertexAttribPointer(z,p,E,w,_,D+N*p),h.enableVertexAttribArray(z)}};var M=new Array(p),s=h["vertexAttrib"+p+"fv"];Object.defineProperty(x,b,{set:function(E){for(var w=0;w<p;++w){var _=o[c[w]];if(h.disableVertexAttribArray(_),Array.isArray(E[0]))s.call(h,_,E[w]);else{for(var D=0;D<p;++D)M[D]=E[p*w+D];s.call(h,_,M)}}return E},get:function(){return P},enumerable:!0})}function y(h,T,c,o){for(var p={},x=0,b=c.length;x<b;++x){var P=c[x],m=P.name,L=P.type,M=P.locations;switch(L){case"bool":case"int":case"float":u(h,T,M[0],o,1,p,m);break;default:if(L.indexOf("vec")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+L);u(h,T,M[0],o,s,p,m)}else if(L.indexOf("mat")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+L);l(h,T,M,o,s,p,m)}else throw new t("","Unknown data type for attribute "+m+": "+L);break}}return p}},3327:function(v,d,r){var t=r(216),a=r(8866);v.exports=u;function n(l){return function(){return l}}function f(l,y){for(var h=new Array(l),T=0;T<l;++T)h[T]=y;return h}function u(l,y,h,T){function c(L){return function(M,s,E){return M.getUniform(s.program,E[L])}}function o(L){return function(s){for(var E=p("",L),w=0;w<E.length;++w){var _=E[w],D=_[0],N=_[1];if(T[N]){var z=s;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var F=D;if(D.indexOf(".")===0&&(F=D.slice(1)),F.indexOf("]")===F.length-1){var U=F.indexOf("["),B=F.slice(0,U),V=F.slice(U+1,F.length-1);z=B?s[B][V]:s[V]}else z=s[F]}var j=h[N].type,Q;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[N],z);break;case"float":l.uniform1f(T[N],z);break;default:var ee=j.indexOf("vec");if(0<=ee&&ee<=1&&j.length===4+ee){if(Q=j.charCodeAt(j.length-1)-48,Q<2||Q>4)throw new a("","Invalid data type");switch(j.charAt(0)){case"b":case"i":l["uniform"+Q+"iv"](T[N],z);break;case"v":l["uniform"+Q+"fv"](T[N],z);break;default:throw new a("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if(Q=j.charCodeAt(j.length-1)-48,Q<2||Q>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+j);l["uniformMatrix"+Q+"fv"](T[N],!1,z);break}else throw new a("","Unknown uniform data type for "+name+": "+j)}}}}}function p(L,M){if(typeof M!="object")return[[L,M]];var s=[];for(var E in M){var w=M[E],_=L;parseInt(E)+""===E?_+="["+E+"]":_+="."+E,typeof w=="object"?s.push.apply(s,p(_,w)):s.push([_,w])}return s}function x(L){switch(L){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var M=L.indexOf("vec");if(0<=M&&M<=1&&L.length===4+M){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new a("","Invalid data type");return L.charAt(0)==="b"?f(s,!1):f(s,0)}else if(L.indexOf("mat")===0&&L.length===4){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+L);return f(s*s,0)}else throw new a("","Unknown uniform data type for "+name+": "+L)}}function b(L,M,s){if(typeof s=="object"){var E=P(s);Object.defineProperty(L,M,{get:n(E),set:o(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(L,M,{get:c(s),set:o(s),enumerable:!0,configurable:!1}):L[M]=x(h[s].type)}function P(L){var M;if(Array.isArray(L)){M=new Array(L.length);for(var s=0;s<L.length;++s)b(M,s,L[s])}else{M={};for(var E in L)b(M,E,L[E])}return M}var m=t(h,!0);return{get:n(P(m)),set:o(m),enumerable:!0,configurable:!0}}},216:function(v){v.exports=d;function d(r,t){for(var a={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=a,y=0;y<u.length;++y){var h=u[y].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||y<u.length-1?(c in l||(T<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else y<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return a}},2145:function(v,d){d.uniforms=n,d.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function a(u,l){if(!t){var y=Object.keys(r);t={};for(var h=0;h<y.length;++h){var T=y[h];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var y=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],T=0;T<y;++T){var c=u.getActiveUniform(l,T);if(c){var o=a(u,c.type);if(c.size>1)for(var p=0;p<c.size;++p)h.push({name:c.name.replace("[0]","["+p+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function f(u,l){for(var y=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],T=0;T<y;++T){var c=u.getActiveAttrib(l,T);c&&h.push({name:c.name,type:a(u,c.type)})}return h}},5091:function(v,d,r){d.shader=p,d.program=x;var t=r(8866),a=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,u=0;function l(b,P,m,L,M,s,E){this.id=b,this.src=P,this.type=m,this.shader=L,this.count=s,this.programs=[],this.cache=E}l.prototype.dispose=function(){if(--this.count===0){for(var b=this.cache,P=b.gl,m=this.programs,L=0,M=m.length;L<M;++L){var s=b.programs[m[L]];s&&(delete b.programs[L],P.deleteProgram(s))}P.deleteShader(this.shader),delete b.shaders[this.type===P.FRAGMENT_SHADER|0][this.src]}};function y(b){this.gl=b,this.shaders=[{},{}],this.programs={}}var h=y.prototype;function T(b,P,m){var L=b.createShader(P);if(b.shaderSource(L,m),b.compileShader(L),!b.getShaderParameter(L,b.COMPILE_STATUS)){var M=b.getShaderInfoLog(L);try{var s=a(M,m,P)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(M,`Error compiling shader:
`+M)}throw new t(M,s.short,s.long)}return L}h.getShaderReference=function(b,P){var m=this.gl,L=this.shaders[b===m.FRAGMENT_SHADER|0],M=L[P];if(!M||!m.isShader(M.shader)){var s=T(m,b,P);M=L[P]=new l(u++,P,b,s,[],1,this)}else M.count+=1;return M};function c(b,P,m,L,M){var s=b.createProgram();b.attachShader(s,P),b.attachShader(s,m);for(var E=0;E<L.length;++E)b.bindAttribLocation(s,M[E],L[E]);if(b.linkProgram(s),!b.getProgramParameter(s,b.LINK_STATUS)){var w=b.getProgramInfoLog(s);throw new t(w,"Error linking program: "+w)}return s}h.getProgram=function(b,P,m,L){var M=[b.id,P.id,m.join(":"),L.join(":")].join("@"),s=this.programs[M];return(!s||!this.gl.isProgram(s))&&(this.programs[M]=s=c(this.gl,b.shader,P.shader,m,L),b.programs.push(M),P.programs.push(M)),s};function o(b){var P=f.get(b);return P||(P=new y(b),f.set(b,P)),P}function p(b,P,m){return o(b).getShaderReference(P,m)}function x(b,P,m,L,M){return o(b).getProgram(P,m,L,M)}},4098:function(v){v.exports=t;function d(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=d.prototype;r.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var a=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,y=l.line,h=l.dataBox,T=l.viewBox;if(y.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=T[0]+(u[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),o=T[1]+(u[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);a[0]&&y.drawLine(c,o,T[0],o,n[0],f[0]),a[1]&&y.drawLine(c,o,c,T[1],n[1],f[1]),a[2]&&y.drawLine(c,o,T[2],o,n[2],f[2]),a[3]&&y.drawLine(c,o,c,T[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(a,n){var f=new d(a);return f.update(n),a.addOverlay(f),f}},1493:function(v,d,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,d,r){var t=r(2762),a=r(8116),n=r(1493);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(o,p,x,b){this.gl=o,this.buffer=p,this.vao=x,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,y=[0,0,0],h=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var p=this.gl,x=this.vao,b=this.shader;x.bind(),b.bind();var P=o.model||f,m=o.view||f,L=o.projection||f,M;this.axes&&(M=this.axes.lastCubeProps.axis);for(var s=y,E=h,w=0;w<3;++w)M&&M[w]<0?(s[w]=this.bounds[0][w],E[w]=this.bounds[1][w]):(s[w]=this.bounds[1][w],E[w]=this.bounds[0][w]);T[0]=p.drawingBufferWidth,T[1]=p.drawingBufferHeight,b.uniforms.model=P,b.uniforms.view=m,b.uniforms.projection=L,b.uniforms.coordinates=[this.position,s,E],b.uniforms.colors=this.colors,b.uniforms.screenShape=T;for(var w=0;w<3;++w)b.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(x.draw(p.TRIANGLES,6,6*w),this.drawSides[w]&&x.draw(p.TRIANGLES,12,18+12*w));x.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,p){var x=[];function b(s,E,w,_,D,N){var z=[s,E,w,0,0,0,1];z[_+3]=1,z[_]=D,x.push.apply(x,z),z[6]=-1,x.push.apply(x,z),z[_]=N,x.push.apply(x,z),x.push.apply(x,z),z[6]=1,x.push.apply(x,z),z[_]=D,x.push.apply(x,z)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var P=t(o,x),m=a(o,[{type:o.FLOAT,buffer:P,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:P,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:P,size:1,offset:24,stride:28}]),L=n(o);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.weight.location=2;var M=new u(o,P,m,L);return M.update(p),M}},6740:function(v,d,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},d.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,d,r){var t=r(2931),a=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,b,P,m){for(var L=x.points,M=x.velocities,s=x.divergences,E=[],w=[],_=[],D=[],N=[],z=[],F=0,U=0,B=a.create(),V=a.create(),j=8,Q=0;Q<L.length;Q++){var ee=L[Q],re=M[Q],ue=s[Q];b===0&&(ue=P*.05),U=t.length(re)/m,B=a.create(),t.copy(B,re),B[3]=ue;for(var J=0;J<j;J++)N[J]=[ee[0],ee[1],ee[2],J];if(D.length>0)for(var J=0;J<j;J++){var X=(J+1)%j;E.push(D[J],N[J],N[X],N[X],D[X],D[J]),_.push(V,B,B,B,V,V),z.push(F,U,U,U,F,F);var ne=E.length;w.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}var Y=D;D=N,N=Y;var oe=V;V=B,B=oe;var le=F;F=U,U=le}return{positions:E,cells:w,vectors:_,vertexIntensity:z}},u=function(x,b,P,m){for(var L=0,M=0;M<x.length;M++)for(var s=x[M].velocities,E=0;E<s.length;E++)L=Math.max(L,t.length(s[E]));for(var w=x.map(function(Q){return f(Q,P,m,L)}),_=[],D=[],N=[],z=[],M=0;M<w.length;M++){var F=w[M],U=_.length;_=_.concat(F.positions),N=N.concat(F.vectors),z=z.concat(F.vertexIntensity);for(var E=0;E<F.cells.length;E++){var B=F.cells[E],V=[];D.push(V);for(var j=0;j<B.length;j++)V.push(B[j]+U)}}return{positions:_,cells:D,vectors:N,vertexIntensity:z,colormap:b}},l=function(x,b){var P=x.length,m;for(m=0;m<P;m++){var L=x[m];if(L===b)return m;if(L>b)return m-1}return m},y=function(x,b,P){return x<b?b:x>P?P:x},h=function(x,b,P){var m=b.vectors,L=b.meshgrid,M=x[0],s=x[1],E=x[2],w=L[0].length,_=L[1].length,D=L[2].length,N=l(L[0],M),z=l(L[1],s),F=l(L[2],E),U=N+1,B=z+1,V=F+1;if(N=y(N,0,w-1),U=y(U,0,w-1),z=y(z,0,_-1),B=y(B,0,_-1),F=y(F,0,D-1),V=y(V,0,D-1),N<0||z<0||F<0||U>w-1||B>_-1||V>D-1)return t.create();var j=L[0][N],Q=L[0][U],ee=L[1][z],re=L[1][B],ue=L[2][F],J=L[2][V],X=(M-j)/(Q-j),ne=(s-ee)/(re-ee),Y=(E-ue)/(J-ue);isFinite(X)||(X=.5),isFinite(ne)||(ne=.5),isFinite(Y)||(Y=.5);var oe,le,Z,$,se,ae;switch(P.reversedX&&(N=w-1-N,U=w-1-U),P.reversedY&&(z=_-1-z,B=_-1-B),P.reversedZ&&(F=D-1-F,V=D-1-V),P.filled){case 5:se=F,ae=V,Z=z*D,$=B*D,oe=N*D*_,le=U*D*_;break;case 4:se=F,ae=V,oe=N*D,le=U*D,Z=z*D*w,$=B*D*w;break;case 3:Z=z,$=B,se=F*_,ae=V*_,oe=N*_*D,le=U*_*D;break;case 2:Z=z,$=B,oe=N*_,le=U*_,se=F*_*w,ae=V*_*w;break;case 1:oe=N,le=U,se=F*w,ae=V*w,Z=z*w*D,$=B*w*D;break;default:oe=N,le=U,Z=z*w,$=B*w,se=F*w*_,ae=V*w*_;break}var he=m[oe+Z+se],me=m[oe+Z+ae],Me=m[oe+$+se],Te=m[oe+$+ae],Pe=m[le+Z+se],be=m[le+Z+ae],Ee=m[le+$+se],xe=m[le+$+ae],Ce=t.create(),Ue=t.create(),Ne=t.create(),De=t.create();t.lerp(Ce,he,Pe,X),t.lerp(Ue,me,be,X),t.lerp(Ne,Me,Ee,X),t.lerp(De,Te,xe,X);var He=t.create(),at=t.create();t.lerp(He,Ce,Ne,ne),t.lerp(at,Ue,De,ne);var vt=t.create();return t.lerp(vt,He,at,Y),vt},T=function(x){var b=1/0;x.sort(function(M,s){return M-s});for(var P=x.length,m=1;m<P;m++){var L=Math.abs(x[m]-x[m-1]);L<b&&(b=L)}return b},c=function(x){for(var b=[],P=[],m=[],L={},M={},s={},E=x.length,w=0;w<E;w++){var _=x[w],D=_[0],N=_[1],z=_[2];L[D]||(b.push(D),L[D]=!0),M[N]||(P.push(N),M[N]=!0),s[z]||(m.push(z),s[z]=!0)}var F=T(b),U=T(P),B=T(m),V=Math.min(F,U,B);return isFinite(V)?V:1};v.exports=function(x,b){var P=x.startingPositions,m=x.maxLength||1e3,L=x.tubeSize||1,M=x.absoluteTubeSize,s=x.gridFill||"+x+y+z",E={};s.indexOf("-x")!==-1&&(E.reversedX=!0),s.indexOf("-y")!==-1&&(E.reversedY=!0),s.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var w=x.getVelocity||function(be){return h(be,x,E)},_=x.getDivergence||function(be,Ee){var xe=t.create(),Ce=1e-4;t.add(xe,be,[Ce,0,0]);var Ue=w(xe);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/Ce),t.add(xe,be,[0,Ce,0]);var Ne=w(xe);t.subtract(Ne,Ne,Ee),t.scale(Ne,Ne,1/Ce),t.add(xe,be,[0,0,Ce]);var De=w(xe);return t.subtract(De,De,Ee),t.scale(De,De,1/Ce),t.add(xe,Ue,Ne),t.add(xe,xe,De),xe},D=[],N=b[0][0],z=b[0][1],F=b[0][2],U=b[1][0],B=b[1][1],V=b[1][2],j=function(be){var Ee=be[0],xe=be[1],Ce=be[2];return!(Ee<N||Ee>U||xe<z||xe>B||Ce<F||Ce>V)},Q=t.distance(b[0],b[1]),ee=10*Q/m,re=ee*ee,ue=1,J=0,X=P.length;X>1&&(ue=c(P));for(var ne=0;ne<X;ne++){var Y=t.create();t.copy(Y,P[ne]);var oe=[Y],le=[],Z=w(Y),$=Y;le.push(Z);var se=[],ae=_(Y,Z),he=t.length(ae);isFinite(he)&&he>J&&(J=he),se.push(he),D.push({points:oe,velocities:le,divergences:se});for(var me=0;me<m*100&&oe.length<m&&j(Y);){me++;var Me=t.clone(Z),Te=t.squaredLength(Me);if(Te===0)break;if(Te>re&&t.scale(Me,Me,ee/Math.sqrt(Te)),t.add(Me,Me,Y),Z=w(Me),t.squaredDistance($,Me)-re>-1e-4*re){oe.push(Me),$=Me,le.push(Z);var ae=_(Me,Z),he=t.length(ae);isFinite(he)&&he>J&&(J=he),se.push(he)}Y=Me}}var Pe=u(D,x.colormap,J,ue);return M?Pe.tubeScale=M:(J===0&&(J=1),Pe.tubeScale=L*.5*ue/J),Pe};var o=r(6740),p=r(6405).createMesh;v.exports.createTubeMesh=function(x,b){return p(x,b,{shaders:o,traceType:"streamtube"})}},990:function(v,d,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);d.createShader=function(y){var h=t(y,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},d.createPickShader=function(y){var h=t(y,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},d.createContourShader=function(y){var h=t(y,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},d.createPickContourShader=function(y){var h=t(y,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,d,r){v.exports=le;var t=r(8828),a=r(2762),n=r(8116),f=r(7766),u=r(1888),l=r(6729),y=r(5298),h=r(9994),T=r(9618),c=r(3711),o=r(6760),p=r(7608),x=r(2478),b=r(6199),P=r(990),m=P.createShader,L=P.createContourShader,M=P.createPickShader,s=P.createPickContourShader,E=4*10,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Z=0;Z<3;++Z){var $=D[Z],se=(Z+1)%3,ae=(Z+2)%3;$[se+0]=1,$[ae+3]=1,$[Z+6]=1}})();function N(Z,$,se,ae,he){this.position=Z,this.index=$,this.uv=se,this.level=ae,this.dataCoordinate=he}var z=256;function F(Z,$,se,ae,he,me,Me,Te,Pe,be,Ee,xe,Ce,Ue,Ne){this.gl=Z,this.shape=$,this.bounds=se,this.objectOffset=Ne,this.intensityBounds=[],this._shader=ae,this._pickShader=he,this._coordinateBuffer=me,this._vao=Me,this._colorMap=Te,this._contourShader=Pe,this._contourPickShader=be,this._contourBuffer=Ee,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ce,this._dynamicVAO=Ue,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var U=F.prototype;U.genColormap=function(Z,$){var se=!1,ae=h([l({colormap:Z,nshades:z,format:"rgba"}).map(function(he,me){var Me=$?B(me/255,$):he[3];return Me<1&&(se=!0),[he[0],he[1],he[2],255*Me]})]);return y.divseq(ae,255),this.hasAlphaScale=se,ae},U.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},U.isOpaque=function(){return!this.isTransparent()},U.pickSlots=1,U.setPickBase=function(Z){this.pickId=Z};function B(Z,$){if(!$||!$.length)return 1;for(var se=0;se<$.length;++se){if($.length<2)return 1;if($[se][0]===Z)return $[se][1];if($[se][0]>Z&&se>0){var ae=($[se][0]-Z)/($[se][0]-$[se-1][0]);return $[se][1]*(1-ae)+ae*$[se-1][1]}}return 1}var V=[0,0,0],j={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Q(Z,$){var se,ae,he,me=$.axes&&$.axes.lastCubeProps.axis||V,Me=$.showSurface,Te=$.showContour;for(se=0;se<3;++se)for(Me=Me||$.surfaceProject[se],ae=0;ae<3;++ae)Te=Te||$.contourProject[se][ae];for(se=0;se<3;++se){var Pe=j.projections[se];for(ae=0;ae<16;++ae)Pe[ae]=0;for(ae=0;ae<4;++ae)Pe[5*ae]=1;Pe[5*se]=0,Pe[12+se]=$.axesBounds[+(me[se]>0)][se],o(Pe,Z.model,Pe);var be=j.clipBounds[se];for(he=0;he<2;++he)for(ae=0;ae<3;++ae)be[he][ae]=Z.clipBounds[he][ae];be[0][se]=-1e8,be[1][se]=1e8}return j.showSurface=Me,j.showContour=Te,j}var ee={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=w.slice(),ue=[1,0,0,0,1,0,0,0,1];function J(Z,$){Z=Z||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ae=ee;ae.model=Z.model||w,ae.view=Z.view||w,ae.projection=Z.projection||w,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=p(ae.inverseModel,ae.model);for(var he=0;he<2;++he)for(var me=ae.clipBounds[he],Me=0;Me<3;++Me)me[Me]=Math.min(Math.max(this.clipBounds[he][Me],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=ue,ae.vertexColor=this.vertexColor;var Te=re;for(o(Te,ae.view,ae.model),o(Te,ae.projection,Te),p(Te,Te),he=0;he<3;++he)ae.eyePosition[he]=Te[12+he]/Te[15];var Pe=Te[15];for(he=0;he<3;++he)Pe+=this.lightPosition[he]*Te[4*he+3];for(he=0;he<3;++he){var be=Te[12+he];for(Me=0;Me<3;++Me)be+=Te[4*Me+he]*this.lightPosition[Me];ae.lightPosition[he]=be/Pe}var Ee=Q(ae,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[he],this._shader.uniforms.clipBounds=Ee.clipBounds[he],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var xe=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,xe.bind(),xe.uniforms=ae;var Ce=this._contourVAO;for(Ce.bind(),he=0;he<3;++he)for(xe.uniforms.permutation=D[he],se.lineWidth(this.contourWidth[he]*this.pixelRatio),Me=0;Me<this.contourLevels[he].length;++Me)Me===this.highlightLevel[he]?(xe.uniforms.contourColor=this.highlightColor[he],xe.uniforms.contourTint=this.highlightTint[he]):(Me===0||Me-1===this.highlightLevel[he])&&(xe.uniforms.contourColor=this.contourColor[he],xe.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Me]&&(xe.uniforms.height=this.contourLevels[he][Me],Ce.draw(se.LINES,this._contourCounts[he][Me],this._contourOffsets[he][Me]));for(he=0;he<3;++he)for(xe.uniforms.model=Ee.projections[he],xe.uniforms.clipBounds=Ee.clipBounds[he],Me=0;Me<3;++Me)if(this.contourProject[he][Me]){xe.uniforms.permutation=D[Me],se.lineWidth(this.contourWidth[Me]*this.pixelRatio);for(var Ue=0;Ue<this.contourLevels[Me].length;++Ue)Ue===this.highlightLevel[Me]?(xe.uniforms.contourColor=this.highlightColor[Me],xe.uniforms.contourTint=this.highlightTint[Me]):(Ue===0||Ue-1===this.highlightLevel[Me])&&(xe.uniforms.contourColor=this.contourColor[Me],xe.uniforms.contourTint=this.contourTint[Me]),this._contourCounts[Me][Ue]&&(xe.uniforms.height=this.contourLevels[Me][Ue],Ce.draw(se.LINES,this._contourCounts[Me][Ue],this._contourOffsets[Me][Ue]))}for(Ce.unbind(),Ce=this._dynamicVAO,Ce.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(xe.uniforms.model=ae.model,xe.uniforms.clipBounds=ae.clipBounds,xe.uniforms.permutation=D[he],se.lineWidth(this.dynamicWidth[he]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[he],xe.uniforms.contourTint=this.dynamicTint[he],xe.uniforms.height=this.dynamicLevel[he],Ce.draw(se.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Me=0;Me<3;++Me)this.contourProject[Me][he]&&(xe.uniforms.model=Ee.projections[Me],xe.uniforms.clipBounds=Ee.clipBounds[Me],Ce.draw(se.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Ce.unbind()}}U.draw=function(Z){return J.call(this,Z,!1)},U.drawTransparent=function(Z){return J.call(this,Z,!0)};var X={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};U.drawPick=function(Z){Z=Z||{};var $=this.gl;$.disable($.CULL_FACE);var se=X;se.model=Z.model||w,se.view=Z.view||w,se.projection=Z.projection||w,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ue;for(var ae=0;ae<2;++ae)for(var he=se.clipBounds[ae],me=0;me<3;++me)he[me]=Math.min(Math.max(this.clipBounds[ae][me],-1e8),1e8);var Me=Q(se,this);if(Me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw($.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Me.projections[ae],this._pickShader.uniforms.clipBounds=Me.clipBounds[ae],this._vao.draw($.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=se;var Pe=this._contourVAO;for(Pe.bind(),me=0;me<3;++me)for($.lineWidth(this.contourWidth[me]*this.pixelRatio),Te.uniforms.permutation=D[me],ae=0;ae<this.contourLevels[me].length;++ae)this._contourCounts[me][ae]&&(Te.uniforms.height=this.contourLevels[me][ae],Pe.draw($.LINES,this._contourCounts[me][ae],this._contourOffsets[me][ae]));for(ae=0;ae<3;++ae)for(Te.uniforms.model=Me.projections[ae],Te.uniforms.clipBounds=Me.clipBounds[ae],me=0;me<3;++me)if(this.contourProject[ae][me]){Te.uniforms.permutation=D[me],$.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var be=0;be<this.contourLevels[me].length;++be)this._contourCounts[me][be]&&(Te.uniforms.height=this.contourLevels[me][be],Pe.draw($.LINES,this._contourCounts[me][be],this._contourOffsets[me][be]))}Pe.unbind()}},U.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;var $=this._field[2].shape,se=this._pickResult,ae=$[0]*(Z.value[0]+(Z.value[2]>>4)/16)/255,he=Math.floor(ae),me=ae-he,Me=$[1]*(Z.value[1]+(Z.value[2]&15)/16)/255,Te=Math.floor(Me),Pe=Me-Te;he+=1,Te+=1;var be=se.position;be[0]=be[1]=be[2]=0;for(var Ee=0;Ee<2;++Ee)for(var xe=Ee?me:1-me,Ce=0;Ce<2;++Ce)for(var Ue=Ce?Pe:1-Pe,Ne=he+Ee,De=Te+Ce,He=xe*Ue,at=0;at<3;++at)be[at]+=this._field[at].get(Ne,De)*He;for(var vt=this._pickResult.level,ot=0;ot<3;++ot)if(vt[ot]=x.le(this.contourLevels[ot],be[ot]),vt[ot]<0)this.contourLevels[ot].length>0&&(vt[ot]=0);else if(vt[ot]<this.contourLevels[ot].length-1){var et=this.contourLevels[ot][vt[ot]],ct=this.contourLevels[ot][vt[ot]+1];Math.abs(et-be[ot])>Math.abs(ct-be[ot])&&(vt[ot]+=1)}for(se.index[0]=me<.5?he:he+1,se.index[1]=Pe<.5?Te:Te+1,se.uv[0]=ae/$[0],se.uv[1]=Me/$[1],at=0;at<3;++at)se.dataCoordinate[at]=this._field[at].get(se.index[0],se.index[1]);return se},U.padField=function(Z,$){var se=$.shape.slice(),ae=Z.shape.slice();y.assign(Z.lo(1,1).hi(se[0],se[1]),$),y.assign(Z.lo(1).hi(se[0],1),$.hi(se[0],1)),y.assign(Z.lo(1,ae[1]-1).hi(se[0],1),$.lo(0,se[1]-1).hi(se[0],1)),y.assign(Z.lo(0,1).hi(1,se[1]),$.hi(1)),y.assign(Z.lo(ae[0]-1,1).hi(1,se[1]),$.lo(se[0]-1)),Z.set(0,0,$.get(0,0)),Z.set(0,ae[1]-1,$.get(0,se[1]-1)),Z.set(ae[0]-1,0,$.get(se[0]-1,0)),Z.set(ae[0]-1,ae[1]-1,$.get(se[0]-1,se[1]-1))};function ne(Z,$){return Array.isArray(Z)?[$(Z[0]),$(Z[1]),$(Z[2])]:[$(Z),$(Z),$(Z)]}function Y(Z){return Array.isArray(Z)?Z.length===3?[Z[0],Z[1],Z[2],1]:[Z[0],Z[1],Z[2],Z[3]]:[0,0,0,1]}function oe(Z){if(Array.isArray(Z)){if(Array.isArray(Z))return[Y(Z[0]),Y(Z[1]),Y(Z[2])];var $=Y(Z);return[$.slice(),$.slice(),$.slice()]}}U.update=function(Z){Z=Z||{},this.objectOffset=Z.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Z&&(this.contourWidth=ne(Z.contourWidth,Number)),"showContour"in Z&&(this.showContour=ne(Z.showContour,Boolean)),"showSurface"in Z&&(this.showSurface=!!Z.showSurface),"contourTint"in Z&&(this.contourTint=ne(Z.contourTint,Boolean)),"contourColor"in Z&&(this.contourColor=oe(Z.contourColor)),"contourProject"in Z&&(this.contourProject=ne(Z.contourProject,function(Dt){return ne(Dt,Boolean)})),"surfaceProject"in Z&&(this.surfaceProject=Z.surfaceProject),"dynamicColor"in Z&&(this.dynamicColor=oe(Z.dynamicColor)),"dynamicTint"in Z&&(this.dynamicTint=ne(Z.dynamicTint,Number)),"dynamicWidth"in Z&&(this.dynamicWidth=ne(Z.dynamicWidth,Number)),"opacity"in Z&&(this.opacity=Z.opacity),"opacityscale"in Z&&(this.opacityscale=Z.opacityscale),"colorBounds"in Z&&(this.colorBounds=Z.colorBounds),"vertexColor"in Z&&(this.vertexColor=Z.vertexColor?1:0),"colormap"in Z&&this._colorMap.setPixels(this.genColormap(Z.colormap,this.opacityscale));var $=Z.field||Z.coords&&Z.coords[2]||null,se=!1;if($||(this._field[2].shape[0]||this._field[2].shape[2]?$=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):$=this._field[2].hi(0,0)),"field"in Z||"coords"in Z){var ae=($.shape[0]+2)*($.shape[1]+2);ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ae))),this._field[2]=T(this._field[2].data,[$.shape[0]+2,$.shape[1]+2]),this.padField(this._field[2],$),this.shape=$.shape.slice();for(var he=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(u.freeFloat(this._field[me].data),this._field[me].data=u.mallocFloat(this._field[2].size)),this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2]);if(Z.coords){var Me=Z.coords;if(!Array.isArray(Me)||Me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Te=Me[me];for(Ce=0;Ce<2;++Ce)if(Te.shape[Ce]!==he[Ce])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Te)}}else if(Z.ticks){var Pe=Z.ticks;if(!Array.isArray(Pe)||Pe.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var be=Pe[me];if((Array.isArray(be)||be.length)&&(be=T(be)),be.shape[0]!==he[me])throw new Error("gl-surface: invalid tick length");var Ee=T(be.data,he);Ee.stride[me]=be.stride[0],Ee.stride[me^1]=0,this.padField(this._field[me],Ee)}}else{for(me=0;me<2;++me){var xe=[0,0];xe[me]=1,this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Ce=0;Ce<he[0];++Ce)this._field[0].set(Ce+1,0,Ce);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Ce=0;Ce<he[1];++Ce)this._field[1].set(0,Ce+1,Ce);this._field[1].set(0,he[1]+1,he[1]-1)}var Ue=this._field,Ne=T(u.mallocFloat(Ue[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(me=0;me<3;++me)b(Ne.pick(me),Ue[me],"mirror");var De=T(u.mallocFloat(Ue[2].size*3),[he[0]+2,he[1]+2,3]);for(me=0;me<he[0]+2;++me)for(Ce=0;Ce<he[1]+2;++Ce){var He=Ne.get(0,me,Ce,0),at=Ne.get(0,me,Ce,1),vt=Ne.get(1,me,Ce,0),ot=Ne.get(1,me,Ce,1),et=Ne.get(2,me,Ce,0),ct=Ne.get(2,me,Ce,1),ht=vt*ct-ot*et,gt=et*at-ct*He,xt=He*ot-at*vt,Mt=Math.sqrt(ht*ht+gt*gt+xt*xt);Mt<1e-8?(Mt=Math.max(Math.abs(ht),Math.abs(gt),Math.abs(xt)),Mt<1e-8?(xt=1,gt=ht=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),De.set(me,Ce,0,ht*Mt),De.set(me,Ce,1,gt*Mt),De.set(me,Ce,2,xt*Mt)}u.free(Ne.data);var tt=[1/0,1/0,1/0],Oe=[-1/0,-1/0,-1/0],Xe=1/0,Ze=-1/0,We=(he[0]-1)*(he[1]-1)*6,ze=u.mallocFloat(t.nextPow2(10*We)),ke=0,je=0;for(me=0;me<he[0]-1;++me)e:for(Ce=0;Ce<he[1]-1;++Ce){for(var Ie=0;Ie<2;++Ie)for(var pe=0;pe<2;++pe)for(var we=0;we<3;++we){var Ve=this._field[we].get(1+me+Ie,1+Ce+pe);if(isNaN(Ve)||!isFinite(Ve))continue e}for(we=0;we<6;++we){var Qe=me+_[we][0],it=Ce+_[we][1],st=this._field[0].get(Qe+1,it+1),Wt=this._field[1].get(Qe+1,it+1);Ve=this._field[2].get(Qe+1,it+1),ht=De.get(Qe+1,it+1,0),gt=De.get(Qe+1,it+1,1),xt=De.get(Qe+1,it+1,2),Z.intensity&&(jt=Z.intensity.get(Qe,it));var jt=Z.intensity?Z.intensity.get(Qe,it):Ve+this.objectOffset[2];ze[ke++]=Qe,ze[ke++]=it,ze[ke++]=st,ze[ke++]=Wt,ze[ke++]=Ve,ze[ke++]=0,ze[ke++]=jt,ze[ke++]=ht,ze[ke++]=gt,ze[ke++]=xt,tt[0]=Math.min(tt[0],st+this.objectOffset[0]),tt[1]=Math.min(tt[1],Wt+this.objectOffset[1]),tt[2]=Math.min(tt[2],Ve+this.objectOffset[2]),Xe=Math.min(Xe,jt),Oe[0]=Math.max(Oe[0],st+this.objectOffset[0]),Oe[1]=Math.max(Oe[1],Wt+this.objectOffset[1]),Oe[2]=Math.max(Oe[2],Ve+this.objectOffset[2]),Ze=Math.max(Ze,jt),je+=1}}for(Z.intensityBounds&&(Xe=+Z.intensityBounds[0],Ze=+Z.intensityBounds[1]),me=6;me<ke;me+=10)ze[me]=(ze[me]-Xe)/(Ze-Xe);this._vertexCount=je,this._coordinateBuffer.update(ze.subarray(0,ke)),u.freeFloat(ze),u.free(De.data),this.bounds=[tt,Oe],this.intensity=Z.intensity||this._field[2],(this.intensityBounds[0]!==Xe||this.intensityBounds[1]!==Ze)&&(se=!0),this.intensityBounds=[Xe,Ze]}if("levels"in Z){var Tt=Z.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],me=0;me<3;++me)Tt[me]=Tt[me].slice(),Tt[me].sort(function(Dt,Qt){return Dt-Qt});for(me=0;me<3;++me)for(Ce=0;Ce<Tt[me].length;++Ce)Tt[me][Ce]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(Tt[me].length!==this.contourLevels[me].length){se=!0;break}for(Ce=0;Ce<Tt[me].length;++Ce)if(Tt[me][Ce]!==this.contourLevels[me][Ce]){se=!0;break e}}this.contourLevels=Tt}if(se){Ue=this._field,he=this.shape;for(var Lt=[],Xt=0;Xt<3;++Xt){var Tr=this.contourLevels[Xt],yt=[],Kt=[],Jt=[0,0,0];for(me=0;me<Tr.length;++me){var yr=c(this._field[Xt],Tr[me]);yt.push(Lt.length/5|0),je=0;e:for(Ce=0;Ce<yr.cells.length;++Ce){var ur=yr.cells[Ce];for(we=0;we<2;++we){var mt=yr.positions[ur[we]],lt=mt[0],bt=Math.floor(lt)|0,Et=lt-bt,It=mt[1],Ht=Math.floor(It)|0,Ut=It-Ht,Bt=!1;t:for(var $t=0;$t<3;++$t){Jt[$t]=0;var fr=(Xt+$t+1)%3;for(Ie=0;Ie<2;++Ie){var Zt=Ie?Et:1-Et;for(Qe=Math.min(Math.max(bt+Ie,0),he[0])|0,pe=0;pe<2;++pe){var vr=pe?Ut:1-Ut;if(it=Math.min(Math.max(Ht+pe,0),he[1])|0,$t<2?Ve=this._field[fr].get(Qe,it):Ve=(this.intensity.get(Qe,it)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ve)||isNaN(Ve)){Bt=!0;break t}var Ye=Zt*vr;Jt[$t]+=Ye*Ve}}}if(!Bt)Lt.push(Jt[0],Jt[1],mt[0],mt[1],Jt[2]),je+=1;else{if(we>0){for(var Ge=0;Ge<5;++Ge)Lt.pop();je-=1}continue e}}}Kt.push(je)}this._contourOffsets[Xt]=yt,this._contourCounts[Xt]=Kt}var zt=u.mallocFloat(Lt.length);for(me=0;me<Lt.length;++me)zt[me]=Lt[me];this._contourBuffer.update(zt),u.freeFloat(zt)}},U.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Z=0;Z<3;++Z)u.freeFloat(this._field[Z].data)},U.highlight=function(Z){var $;if(!Z){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for($=0;$<3;++$)this.enableHighlight[$]?this.highlightLevel[$]=Z.level[$]:this.highlightLevel[$]=-1;var se;for(this.snapToData?se=Z.dataCoordinate:se=Z.position,$=0;$<3;++$)se[$]-=this.objectOffset[$];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ae=0,he=this.shape,me=u.mallocFloat(12*he[0]*he[1]),Me=0;Me<3;++Me){if(!this.enableDynamic[Me]){this.dynamicLevel[Me]=NaN,this._dynamicCounts[Me]=0;continue}this.dynamicLevel[Me]=se[Me];var Te=(Me+1)%3,Pe=(Me+2)%3,be=this._field[Me],Ee=this._field[Te],xe=this._field[Pe],Ce=c(be,se[Me]),Ue=Ce.cells,Ne=Ce.positions;for(this._dynamicOffsets[Me]=ae,$=0;$<Ue.length;++$)for(var De=Ue[$],He=0;He<2;++He){var at=Ne[De[He]],vt=+at[0],ot=vt|0,et=Math.min(ot+1,he[0])|0,ct=vt-ot,ht=1-ct,gt=+at[1],xt=gt|0,Mt=Math.min(xt+1,he[1])|0,tt=gt-xt,Oe=1-tt,Xe=ht*Oe,Ze=ht*tt,We=ct*Oe,ze=ct*tt,ke=Xe*Ee.get(ot,xt)+Ze*Ee.get(ot,Mt)+We*Ee.get(et,xt)+ze*Ee.get(et,Mt),je=Xe*xe.get(ot,xt)+Ze*xe.get(ot,Mt)+We*xe.get(et,xt)+ze*xe.get(et,Mt);if(isNaN(ke)||isNaN(je)){He&&(ae-=1);break}me[2*ae+0]=ke,me[2*ae+1]=je,ae+=1}this._dynamicCounts[Me]=ae-this._dynamicOffsets[Me]}this._dynamicBuffer.update(me.subarray(0,2*ae)),u.freeFloat(me)}};function le(Z){var $=Z.gl,se=m($),ae=M($),he=L($),me=s($),Me=a($),Te=n($,[{buffer:Me,size:4,stride:E,offset:0},{buffer:Me,size:3,stride:E,offset:16},{buffer:Me,size:3,stride:E,offset:28}]),Pe=a($),be=n($,[{buffer:Pe,size:4,stride:20,offset:0},{buffer:Pe,size:1,stride:20,offset:16}]),Ee=a($),xe=n($,[{buffer:Ee,size:2,type:$.FLOAT}]),Ce=f($,1,z,$.RGBA,$.UNSIGNED_BYTE);Ce.minFilter=$.LINEAR,Ce.magFilter=$.LINEAR;var Ue=new F($,[0,0],[[0,0,0],[0,0,0]],se,ae,Me,Te,Ce,he,me,Pe,be,Ee,xe,[0,0,0]),Ne={levels:[[],[],[]]};for(var De in Z)Ne[De]=Z[De];return Ne.colormap=Ne.colormap||"jet",Ue.update(Ne),Ue}},7766:function(v,d,r){var t=r(9618),a=r(5298),n=r(1888);v.exports=s;var f=null,u=null,l=null;function y(E){f=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],l=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,w){a.muls(E,w,255)};function c(E,w,_){var D=E.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(w<0||w>N||_<0||_>N)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[w,_],E.bind(),D.texImage2D(D.TEXTURE_2D,0,E.format,w,_,0,E.format,E.type,null),E._mipLevels=[0],E}function o(E,w,_,D,N,z){this.gl=E,this.handle=w,this.format=N,this.type=z,this._shape=[_,D],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,U=[this._wrapS,this._wrapT];Object.defineProperties(U,[{get:function(){return F._wrapS},set:function(V){return F.wrapS=V}},{get:function(){return F._wrapT},set:function(V){return F.wrapT=V}}]),this._wrapVector=U;var B=[this._shape[0],this._shape[1]];Object.defineProperties(B,[{get:function(){return F._shape[0]},set:function(V){return F.width=V}},{get:function(){return F._shape[1]},set:function(V){return F.height=V}}]),this._shapeVector=B}var p=o.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&f.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&f.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var w=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,w!==this._anisoSamples){var _=this.gl.getExtension("EXT_texture_filter_anisotropic");_&&this.gl.texParameterf(this.gl.TEXTURE_2D,_.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(l.indexOf(E[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var _=this.gl;return this.bind(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,this._wrapS),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,c(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,c(this,this._shape[0],E),E}}}),p.bind=function(E){var w=this.gl;return E!==void 0&&w.activeTexture(w.TEXTURE0+(E|0)),w.bindTexture(w.TEXTURE_2D,this.handle),E!==void 0?E|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),w=0;E>0;++w,E>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},p.setPixels=function(E,w,_,D){var N=this.gl;this.bind(),Array.isArray(w)?(D=_,_=w[1]|0,w=w[0]|0):(w=w||0,_=_||0),D=D||0;var z=h(E)?E:E.raw;if(z){var F=this._mipLevels.indexOf(D)<0;F?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,w,_,this.format,this.type,z)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||w+E.shape[1]>this._shape[1]>>>D||_+E.shape[0]>this._shape[0]>>>D||w<0||_<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");b(N,w,_,D,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function x(E,w){return E.length===3?w[2]===1&&w[1]===E[0]*E[2]&&w[0]===E[2]:w[0]===1&&w[1]===E[0]}function b(E,w,_,D,N,z,F,U){var B=U.dtype,V=U.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,Q=0,ee=x(V,U.stride.slice());if(B==="float32"?j=E.FLOAT:B==="float64"?(j=E.FLOAT,ee=!1,B="float32"):B==="uint8"?j=E.UNSIGNED_BYTE:(j=E.UNSIGNED_BYTE,ee=!1,B="uint8"),V.length===2)Q=E.LUMINANCE,V=[V[0],V[1],1],U=t(U.data,V,[U.stride[0],U.stride[1],1],U.offset);else if(V.length===3){if(V[2]===1)Q=E.ALPHA;else if(V[2]===2)Q=E.LUMINANCE_ALPHA;else if(V[2]===3)Q=E.RGB;else if(V[2]===4)Q=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((Q===E.LUMINANCE||Q===E.ALPHA)&&(N===E.LUMINANCE||N===E.ALPHA)&&(Q=N),Q!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var re=U.size,ue=F.indexOf(D)<0;if(ue&&F.push(D),j===z&&ee)U.offset===0&&U.data.length===re?ue?E.texImage2D(E.TEXTURE_2D,D,N,V[0],V[1],0,N,z,U.data):E.texSubImage2D(E.TEXTURE_2D,D,w,_,V[0],V[1],N,z,U.data):ue?E.texImage2D(E.TEXTURE_2D,D,N,V[0],V[1],0,N,z,U.data.subarray(U.offset,U.offset+re)):E.texSubImage2D(E.TEXTURE_2D,D,w,_,V[0],V[1],N,z,U.data.subarray(U.offset,U.offset+re));else{var J;z===E.FLOAT?J=n.mallocFloat32(re):J=n.mallocUint8(re);var X=t(J,V,[V[2],V[2]*V[0],1]);j===E.FLOAT&&z===E.UNSIGNED_BYTE?T(X,U):a.assign(X,U),ue?E.texImage2D(E.TEXTURE_2D,D,N,V[0],V[1],0,N,z,J.subarray(0,re)):E.texSubImage2D(E.TEXTURE_2D,D,w,_,V[0],V[1],N,z,J.subarray(0,re)),z===E.FLOAT?n.freeFloat32(J):n.freeUint8(J)}}function P(E){var w=E.createTexture();return E.bindTexture(E.TEXTURE_2D,w),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),w}function m(E,w,_,D,N){var z=E.getParameter(E.MAX_TEXTURE_SIZE);if(w<0||w>z||_<0||_>z)throw new Error("gl-texture2d: Invalid texture shape");if(N===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=P(E);return E.texImage2D(E.TEXTURE_2D,0,D,w,_,0,D,N,null),new o(E,F,w,_,D,N)}function L(E,w,_,D,N,z){var F=P(E);return E.texImage2D(E.TEXTURE_2D,0,N,N,z,w),new o(E,F,_,D,N,z)}function M(E,w){var _=w.dtype,D=w.shape.slice(),N=E.getParameter(E.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var z=x(D,w.stride.slice()),F=0;_==="float32"?F=E.FLOAT:_==="float64"?(F=E.FLOAT,z=!1,_="float32"):_==="uint8"?F=E.UNSIGNED_BYTE:(F=E.UNSIGNED_BYTE,z=!1,_="uint8");var U=0;if(D.length===2)U=E.LUMINANCE,D=[D[0],D[1],1],w=t(w.data,D,[w.stride[0],w.stride[1],1],w.offset);else if(D.length===3)if(D[2]===1)U=E.ALPHA;else if(D[2]===2)U=E.LUMINANCE_ALPHA;else if(D[2]===3)U=E.RGB;else if(D[2]===4)U=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===E.FLOAT&&!E.getExtension("OES_texture_float")&&(F=E.UNSIGNED_BYTE,z=!1);var B,V,j=w.size;if(z)w.offset===0&&w.data.length===j?B=w.data:B=w.data.subarray(w.offset,w.offset+j);else{var Q=[D[2],D[2]*D[0],1];V=n.malloc(j,_);var ee=t(V,D,Q,0);(_==="float32"||_==="float64")&&F===E.UNSIGNED_BYTE?T(ee,w):a.assign(ee,w),B=V.subarray(0,j)}var re=P(E);return E.texImage2D(E.TEXTURE_2D,0,U,D[0],D[1],0,U,F,B),z||n.free(V),new o(E,re,D[0],D[1],U,F)}function s(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||y(E),typeof arguments[1]=="number")return m(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],_=h(w)?w:w.raw;if(_)return L(E,_,w.width|0,w.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return M(E,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function d(r,t,a){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<a.length;++f){var u=a[f];if(u.buffer){var l=u.buffer,y=u.size||4,h=u.type||r.FLOAT,T=!!u.normalized,c=u.stride||0,o=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,y,h,T,c,o)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=d},870:function(v,d,r){var t=r(1433);function a(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},a.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(f,u,l){l=l||0;var y=this.gl;this._elements?y.drawElements(f,u,this._elementsType,l):y.drawArrays(f,l,u)};function n(f){return new a(f)}v.exports=n},7518:function(v,d,r){var t=r(1433);function a(u,l,y,h,T,c){this.location=u,this.dimension=l,this.a=y,this.b=h,this.c=T,this.d=c}a.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,y){this.gl=u,this._ext=l,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,y){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var T=u[h];typeof T=="number"?this._attribs.push(new a(h,1,T)):Array.isArray(T)&&this._attribs.push(new a(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,y){y=y||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,y):h.drawArrays(u,y,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},8116:function(v,d,r){var t=r(7518),a=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,y,h){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return T?c=t(u,T):c=a(u),c.update(l,y,h),c}v.exports=f},5632:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r}},8192:function(v,d,r){v.exports=f;var t=r(2825),a=r(3536),n=r(244);function f(u,l){var y=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);a(y,y),a(h,h);var T=n(y,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=d;function d(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=d;function d(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=d;function d(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=d;function d(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2];return r[0]=f*h-u*y,r[1]=u*l-n*h,r[2]=n*y-f*l,r}},5455:function(v,d,r){v.exports=r(7056)},7056:function(v){v.exports=d;function d(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(a*a+n*n+f*f)}},4008:function(v,d,r){v.exports=r(6690)},6690:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r}},244:function(v){v.exports=d;function d(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,d,r){v.exports=a;var t=r(2613);function a(n,f){var u=n[0],l=n[1],y=n[2],h=f[0],T=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(y-c)<=t*Math.max(1,Math.abs(y),Math.abs(c))}},9265:function(v){v.exports=d;function d(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=d;function d(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,d,r){v.exports=a;var t=r(1091)();function a(n,f,u,l,y,h){var T,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,n.length):c=n.length,T=u;T<c;T+=f)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],y(t,t,h),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=d;function d(r,t,a){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=a,n}},2931:function(v,d,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=d;function d(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,d,r){v.exports=r(1387)},1387:function(v){v.exports=d;function d(r){var t=r[0],a=r[1],n=r[2];return Math.sqrt(t*t+a*a+n*n)}},6658:function(v){v.exports=d;function d(r,t,a,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r}},7417:function(v){v.exports=d;function d(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r}},8107:function(v){v.exports=d;function d(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r}},4505:function(v,d,r){v.exports=r(5847)},5847:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r}},5093:function(v){v.exports=d;function d(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=d;function d(r,t){var a=t[0],n=t[1],f=t[2],u=a*a+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=d;function d(r,t){t=t||1;var a=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(a)*f,r[1]=Math.sin(a)*f,r[2]=n*t,r}},6894:function(v){v.exports=d;function d(r,t,a,n){var f=a[1],u=a[2],l=t[1]-f,y=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=f+l*T-y*h,r[2]=u+l*h+y*T,r}},109:function(v){v.exports=d;function d(r,t,a,n){var f=a[0],u=a[2],l=t[0]-f,y=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+y*h+l*T,r[1]=t[1],r[2]=u+y*T-l*h,r}},8692:function(v){v.exports=d;function d(r,t,a,n){var f=a[0],u=a[1],l=t[0]-f,y=t[1]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+l*T-y*h,r[1]=u+l*h+y*T,r[2]=t[2],r}},2447:function(v){v.exports=d;function d(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}},8489:function(v){v.exports=d;function d(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r}},1463:function(v){v.exports=d;function d(r,t,a,n){return r[0]=t,r[1]=a,r[2]=n,r}},6141:function(v,d,r){v.exports=r(2953)},5486:function(v,d,r){v.exports=r(3066)},2953:function(v){v.exports=d;function d(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return a*a+n*n+f*f}},3066:function(v){v.exports=d;function d(r){var t=r[0],a=r[1],n=r[2];return t*t+a*a+n*n}},2229:function(v,d,r){v.exports=r(6843)},6843:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r}},492:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2];return r[0]=n*a[0]+f*a[3]+u*a[6],r[1]=n*a[1]+f*a[4]+u*a[7],r[2]=n*a[2]+f*a[5]+u*a[8],r}},5673:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[3]*n+a[7]*f+a[11]*u+a[15];return l=l||1,r[0]=(a[0]*n+a[4]*f+a[8]*u+a[12])/l,r[1]=(a[1]*n+a[5]*f+a[9]*u+a[13])/l,r[2]=(a[2]*n+a[6]*f+a[10]*u+a[14])/l,r}},264:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2],T=a[3],c=T*n+y*u-h*f,o=T*f+h*n-l*u,p=T*u+l*f-y*n,x=-l*n-y*f-h*u;return r[0]=c*T+x*-l+o*-h-p*-y,r[1]=o*T+x*-y+p*-l-c*-h,r[2]=p*T+x*-h+c*-y-o*-l,r}},4361:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r[3]=t[3]+a[3],r}},2335:function(v){v.exports=d;function d(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=d;function d(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=d;function d(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=d;function d(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(a*a+n*n+f*f+u*u)}},1373:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r[3]=t[3]/a[3],r}},3750:function(v){v.exports=d;function d(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=d;function d(r,t,a,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=a,f[3]=n,f}},9970:function(v,d,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=d;function d(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=d;function d(r){var t=r[0],a=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+a*a+n*n+f*f)}},2573:function(v){v.exports=d;function d(r,t,a,n){var f=t[0],u=t[1],l=t[2],y=t[3];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r[3]=y+n*(a[3]-y),r}},160:function(v){v.exports=d;function d(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r[3]=Math.max(t[3],a[3]),r}},2334:function(v){v.exports=d;function d(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r[3]=Math.min(t[3],a[3]),r}},3576:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r[3]=t[3]*a[3],r}},1498:function(v){v.exports=d;function d(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=d;function d(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a*a+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=a*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},9131:function(v,d,r){var t=r(5177),a=r(9288);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),a(f,f,u),f}},9288:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r}},4844:function(v){v.exports=d;function d(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r[3]=t[3]+a[3]*n,r}},4578:function(v){v.exports=d;function d(r,t,a,n,f){return r[0]=t,r[1]=a,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=d;function d(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return a*a+n*n+f*f+u*u}},483:function(v){v.exports=d;function d(r){var t=r[0],a=r[1],n=r[2],f=r[3];return t*t+a*a+n*n+f*f}},6860:function(v){v.exports=d;function d(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r[3]=t[3]-a[3],r}},5352:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=a[0]*n+a[4]*f+a[8]*u+a[12]*l,r[1]=a[1]*n+a[5]*f+a[9]*u+a[13]*l,r[2]=a[2]*n+a[6]*f+a[10]*u+a[14]*l,r[3]=a[3]*n+a[7]*f+a[11]*u+a[15]*l,r}},4041:function(v){v.exports=d;function d(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2],T=a[3],c=T*n+y*u-h*f,o=T*f+h*n-l*u,p=T*u+l*f-y*n,x=-l*n-y*f-h*u;return r[0]=c*T+x*-l+o*-h-p*-y,r[1]=o*T+x*-y+p*-l-c*-h,r[2]=p*T+x*-h+c*-y-o*-l,r[3]=t[3],r}},1848:function(v,d,r){var t=r(4905),a=r(6468);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var y=u[l];if(y.type==="preprocessor"){var h=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?a(c):c).trim()}}}}},5874:function(v,d,r){v.exports=w;var t=r(620),a=r(7827),n=r(6852),f=r(7932),u=r(3508),l=999,y=9999,h=0,T=1,c=2,o=3,p=4,x=5,b=6,P=7,m=8,L=9,M=10,s=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(_){var D=0,N=0,z=l,F,U,B=[],V=[],j=1,Q=0,ee=0,re=!1,ue=!1,J="",X;_=_||{};var ne=n,Y=t;_.version==="300 es"&&(ne=u,Y=f);for(var oe={},le={},D=0;D<ne.length;D++)oe[ne[D]]=!0;for(var D=0;D<Y.length;D++)le[Y[D]]=!0;return function(Ne){return V=[],Ne!==null?$(Ne):se()};function Z(Ne){Ne.length&&V.push({type:E[z],data:Ne,position:ee,line:j,column:Q})}function $(Ne){D=0,Ne.toString&&(Ne=Ne.toString()),J+=Ne.replace(/\r\n/g,`
`),X=J.length;for(var De;F=J[D],D<X;){switch(De=D,z){case h:D=Te();break;case T:D=Me();break;case c:D=me();break;case o:D=Pe();break;case p:D=xe();break;case s:D=Ee();break;case x:D=Ce();break;case y:D=Ue();break;case L:D=he();break;case l:D=ae();break}if(De!==D)switch(J[De]){case`
`:Q=0,++j;break;default:++Q;break}}return N+=D,J=J.slice(D),V}function se(Ne){return B.length&&Z(B.join("")),z=M,Z("(eof)"),V}function ae(){return B=B.length?[]:B,U==="/"&&F==="*"?(ee=N+D-1,z=h,U=F,D+1):U==="/"&&F==="/"?(ee=N+D-1,z=T,U=F,D+1):F==="#"?(z=c,ee=N+D,D):/\s/.test(F)?(z=L,ee=N+D,D):(re=/\d/.test(F),ue=/[^\w_]/.test(F),ee=N+D,z=re?p:ue?o:y,D)}function he(){return/[^\s]/g.test(F)?(Z(B.join("")),z=l,D):(B.push(F),U=F,D+1)}function me(){return(F==="\r"||F===`
`)&&U!=="\\"?(Z(B.join("")),z=l,D):(B.push(F),U=F,D+1)}function Me(){return me()}function Te(){return F==="/"&&U==="*"?(B.push(F),Z(B.join("")),z=l,D+1):(B.push(F),U=F,D+1)}function Pe(){if(U==="."&&/\d/.test(F))return z=x,D;if(U==="/"&&F==="*")return z=h,D;if(U==="/"&&F==="/")return z=T,D;if(F==="."&&B.length){for(;be(B););return z=x,D}if(F===";"||F===")"||F==="("){if(B.length)for(;be(B););return Z(F),z=l,D+1}var Ne=B.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Ne){for(;be(B););return z=l,D}return B.push(F),U=F,D+1}function be(Ne){var De=0,He,at;do{if(He=a.indexOf(Ne.slice(0,Ne.length+De).join("")),at=a[He],He===-1){if(De--+Ne.length>0)continue;at=Ne.slice(0,1).join("")}return Z(at),ee+=at.length,B=B.slice(at.length),B.length}while(!0)}function Ee(){return/[^a-fA-F0-9]/.test(F)?(Z(B.join("")),z=l,D):(B.push(F),U=F,D+1)}function xe(){return F==="."||/[eE]/.test(F)?(B.push(F),z=x,U=F,D+1):F==="x"&&B.length===1&&B[0]==="0"?(z=s,B.push(F),U=F,D+1):/[^\d]/.test(F)?(Z(B.join("")),z=l,D):(B.push(F),U=F,D+1)}function Ce(){return F==="f"&&(B.push(F),U=F,D+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(U)?(B.push(F),U=F,D+1):/[^\d]/.test(F)?(Z(B.join("")),z=l,D):(B.push(F),U=F,D+1)}function Ue(){if(/[^\d\w_]/.test(F)){var Ne=B.join("");return le[Ne]?z=m:oe[Ne]?z=P:z=b,Z(B.join("")),z=l,D}return B.push(F),U=F,D+1}}},3508:function(v,d,r){var t=r(6852);t=t.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,d,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,d,r){var t=r(5874);v.exports=a;function a(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},3236:function(v){v.exports=function(d){typeof d=="string"&&(d=[d]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<d.length-1;a++)t.push(d[a],r[a]||"");return t.push(d[a]),t.join("")}},7520:function(v,d,r){var t=r(9507);function a(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&a()},3778:function(v,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(r,t,a,n,f){var u,l,y=f*8-n-1,h=(1<<y)-1,T=h>>1,c=-7,o=a?f-1:0,p=a?-1:1,x=r[t+o];for(o+=p,u=x&(1<<-c)-1,x>>=-c,c+=y;c>0;u=u*256+r[t+o],o+=p,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=n;c>0;l=l*256+r[t+o],o+=p,c-=8);if(u===0)u=1-T;else{if(u===h)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(x?-1:1)*l*Math.pow(2,u-n)},d.write=function(r,t,a,n,f,u){var l,y,h,T=u*8-f-1,c=(1<<T)-1,o=c>>1,p=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:u-1,b=n?1:-1,P=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+o>=1?t+=p/h:t+=p*Math.pow(2,1-o),t*h>=2&&(l++,h/=2),l+o>=c?(y=0,l=c):l+o>=1?(y=(t*h-1)*Math.pow(2,f),l=l+o):(y=t*Math.pow(2,o-1)*Math.pow(2,f),l=0));f>=8;r[a+x]=y&255,x+=b,y/=256,f-=8);for(l=l<<f|y,T+=f;T>0;r[a+x]=l&255,x+=b,l/=256,T-=8);r[a+x-b]|=P*128}},8954:function(v,d,r){v.exports=o;var t=r(3250),a=r(6803).Fw;function n(p,x,b){this.vertices=p,this.adjacent=x,this.boundary=b,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function f(p,x,b){this.vertices=p,this.cell=x,this.index=b}function u(p,x){return a(p.vertices,x.vertices)}function l(p){return function(){var x=this.tuple;return p.apply(this,x)}}function y(p){var x=t[p+1];return x||(x=t),l(x)}var h=[];function T(p,x,b){this.dimension=p,this.vertices=x,this.simplices=b,this.interior=b.filter(function(L){return!L.boundary}),this.tuple=new Array(p+1);for(var P=0;P<=p;++P)this.tuple[P]=this.vertices[P];var m=h[p];m||(m=h[p]=y(p)),this.orient=m}var c=T.prototype;c.handleBoundaryDegeneracy=function(p,x){var b=this.dimension,P=this.vertices.length-1,m=this.tuple,L=this.vertices,M=[p];for(p.lastVisited=-P;M.length>0;){p=M.pop();for(var s=p.adjacent,E=0;E<=b;++E){var w=s[E];if(!(!w.boundary||w.lastVisited<=-P)){for(var _=w.vertices,D=0;D<=b;++D){var N=_[D];N<0?m[D]=x:m[D]=L[N]}var z=this.orient();if(z>0)return w;w.lastVisited=-P,z===0&&M.push(w)}}}return null},c.walk=function(p,x){var b=this.vertices.length-1,P=this.dimension,m=this.vertices,L=this.tuple,M=x?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[M];e:for(;!s.boundary;){for(var E=s.vertices,w=s.adjacent,_=0;_<=P;++_)L[_]=m[E[_]];s.lastVisited=b;for(var _=0;_<=P;++_){var D=w[_];if(!(D.lastVisited>=b)){var N=L[_];L[_]=p;var z=this.orient();if(L[_]=N,z<0){s=D;continue e}else D.boundary?D.lastVisited=-b:D.lastVisited=b}}return}return s},c.addPeaks=function(p,x){var b=this.vertices.length-1,P=this.dimension,m=this.vertices,L=this.tuple,M=this.interior,s=this.simplices,E=[x];x.lastVisited=b,x.vertices[x.vertices.indexOf(-1)]=b,x.boundary=!1,M.push(x);for(var w=[];E.length>0;){var x=E.pop(),_=x.vertices,D=x.adjacent,N=_.indexOf(b);if(!(N<0)){for(var z=0;z<=P;++z)if(z!==N){var F=D[z];if(!(!F.boundary||F.lastVisited>=b)){var U=F.vertices;if(F.lastVisited!==-b){for(var B=0,V=0;V<=P;++V)U[V]<0?(B=V,L[V]=p):L[V]=m[U[V]];var j=this.orient();if(j>0){U[B]=b,F.boundary=!1,M.push(F),E.push(F),F.lastVisited=b;continue}else F.lastVisited=-b}var Q=F.adjacent,ee=_.slice(),re=D.slice(),ue=new n(ee,re,!0);s.push(ue);var J=Q.indexOf(x);if(!(J<0)){Q[J]=ue,re[N]=F,ee[z]=-1,re[z]=x,D[z]=ue,ue.flip();for(var V=0;V<=P;++V){var X=ee[V];if(!(X<0||X===b)){for(var ne=new Array(P-1),Y=0,oe=0;oe<=P;++oe){var le=ee[oe];le<0||oe===V||(ne[Y++]=le)}w.push(new f(ne,ue,V))}}}}}}}w.sort(u);for(var z=0;z+1<w.length;z+=2){var Z=w[z],$=w[z+1],se=Z.index,ae=$.index;se<0||ae<0||(Z.cell.adjacent[Z.index]=$.cell,$.cell.adjacent[$.index]=Z.cell)}},c.insert=function(p,x){var b=this.vertices;b.push(p);var P=this.walk(p,x);if(P){for(var m=this.dimension,L=this.tuple,M=0;M<=m;++M){var s=P.vertices[M];s<0?L[M]=p:L[M]=b[s]}var E=this.orient(L);E<0||E===0&&(P=this.handleBoundaryDegeneracy(P,p),!P)||this.addPeaks(p,P)}},c.boundary=function(){for(var p=this.dimension,x=[],b=this.simplices,P=b.length,m=0;m<P;++m){var L=b[m];if(L.boundary){for(var M=new Array(p),s=L.vertices,E=0,w=0,_=0;_<=p;++_)s[_]>=0?M[E++]=s[_]:w=_&1;if(w===(p&1)){var D=M[0];M[0]=M[1],M[1]=D}x.push(M)}}return x};function o(p,x){var b=p.length;if(b===0)throw new Error("Must have at least d+1 points");var P=p[0].length;if(b<=P)throw new Error("Must input at least d+1 points");var m=p.slice(0,P+1),L=t.apply(void 0,m);if(L===0)throw new Error("Input not in general position");for(var M=new Array(P+1),s=0;s<=P;++s)M[s]=s;L<0&&(M[0]=1,M[1]=0);for(var E=new n(M,new Array(P+1),!1),w=E.adjacent,_=new Array(P+2),s=0;s<=P;++s){for(var D=M.slice(),N=0;N<=P;++N)N===s&&(D[N]=-1);var z=D[0];D[0]=D[1],D[1]=z;var F=new n(D,new Array(P+1),!0);w[s]=F,_[s]=F}_[P+1]=E;for(var s=0;s<=P;++s)for(var D=w[s].vertices,U=w[s].adjacent,N=0;N<=P;++N){var B=D[N];if(B<0){U[N]=E;continue}for(var V=0;V<=P;++V)w[V].vertices.indexOf(B)<0&&(U[N]=w[V])}for(var j=new T(P,m,_),Q=!!x,s=P+1;s<b;++s)j.insert(p[s],Q);return j.boundary()}},3352:function(v,d,r){var t=r(2478),a=0,n=1,f=2;v.exports=E;function u(w,_,D,N,z){this.mid=w,this.left=_,this.right=D,this.leftPoints=N,this.rightPoints=z,this.count=(_?_.count:0)+(D?D.count:0)+N.length}var l=u.prototype;function y(w,_){w.mid=_.mid,w.left=_.left,w.right=_.right,w.leftPoints=_.leftPoints,w.rightPoints=_.rightPoints,w.count=_.count}function h(w,_){var D=L(_);w.mid=D.mid,w.left=D.left,w.right=D.right,w.leftPoints=D.leftPoints,w.rightPoints=D.rightPoints,w.count=D.count}function T(w,_){var D=w.intervals([]);D.push(_),h(w,D)}function c(w,_){var D=w.intervals([]),N=D.indexOf(_);return N<0?a:(D.splice(N,1),h(w,D),n)}l.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},l.insert=function(w){var _=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(_+1)?T(this,w):this.left.insert(w):this.left=L([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(_+1)?T(this,w):this.right.insert(w):this.right=L([w]);else{var D=t.ge(this.leftPoints,w,P),N=t.ge(this.rightPoints,w,m);this.leftPoints.splice(D,0,w),this.rightPoints.splice(N,0,w)}},l.remove=function(w){var _=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return a;var D=this.right?this.right.count:0;if(4*D>3*(_-1))return c(this,w);var N=this.left.remove(w);return N===f?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(w[0]>this.mid){if(!this.right)return a;var z=this.left?this.left.count:0;if(4*z>3*(_-1))return c(this,w);var N=this.right.remove(w);return N===f?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===w?f:a;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var F=this,U=this.left;U.right;)F=U,U=U.right;if(F===this)U.right=this.right;else{var B=this.left,N=this.right;F.count-=U.count,F.right=U.left,U.left=B,U.right=N}y(this,U),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var B=t.ge(this.leftPoints,w,P);B<this.leftPoints.length&&this.leftPoints[B][0]===w[0];++B)if(this.leftPoints[B]===w){this.count-=1,this.leftPoints.splice(B,1);for(var N=t.ge(this.rightPoints,w,m);N<this.rightPoints.length&&this.rightPoints[N][1]===w[1];++N)if(this.rightPoints[N]===w)return this.rightPoints.splice(N,1),n}return a}};function o(w,_,D){for(var N=0;N<w.length&&w[N][0]<=_;++N){var z=D(w[N]);if(z)return z}}function p(w,_,D){for(var N=w.length-1;N>=0&&w[N][1]>=_;--N){var z=D(w[N]);if(z)return z}}function x(w,_){for(var D=0;D<w.length;++D){var N=_(w[D]);if(N)return N}}l.queryPoint=function(w,_){if(w<this.mid){if(this.left){var D=this.left.queryPoint(w,_);if(D)return D}return o(this.leftPoints,w,_)}else if(w>this.mid){if(this.right){var D=this.right.queryPoint(w,_);if(D)return D}return p(this.rightPoints,w,_)}else return x(this.leftPoints,_)},l.queryInterval=function(w,_,D){if(w<this.mid&&this.left){var N=this.left.queryInterval(w,_,D);if(N)return N}if(_>this.mid&&this.right){var N=this.right.queryInterval(w,_,D);if(N)return N}return _<this.mid?o(this.leftPoints,_,D):w>this.mid?p(this.rightPoints,w,D):x(this.leftPoints,D)};function b(w,_){return w-_}function P(w,_){var D=w[0]-_[0];return D||w[1]-_[1]}function m(w,_){var D=w[1]-_[1];return D||w[0]-_[0]}function L(w){if(w.length===0)return null;for(var _=[],D=0;D<w.length;++D)_.push(w[D][0],w[D][1]);_.sort(b);for(var N=_[_.length>>1],z=[],F=[],U=[],D=0;D<w.length;++D){var B=w[D];B[1]<N?z.push(B):N<B[0]?F.push(B):U.push(B)}var V=U,j=U.slice();return V.sort(P),j.sort(m),new u(N,L(z),L(F),V,j)}function M(w){this.root=w}var s=M.prototype;s.insert=function(w){this.root?this.root.insert(w):this.root=new u(w[0],null,null,[w],[w])},s.remove=function(w){if(this.root){var _=this.root.remove(w);return _===f&&(this.root=null),_!==a}return!1},s.queryPoint=function(w,_){if(this.root)return this.root.queryPoint(w,_)},s.queryInterval=function(w,_,D){if(w<=_&&this.root)return this.root.queryInterval(w,_,D)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(w){return!w||w.length===0?new M(null):new M(L(w))}},7762:function(v){function d(r){for(var t=new Array(r),a=0;a<r;++a)t[a]=a;return t}v.exports=d},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(d(t)||r(t)||!!t._isBuffer)};function d(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&d(t.slice(0,0))}},5219:function(v){v.exports=function(d){for(var r=d.length,t,a=0;a<r;a++)if(t=d.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function d(r,t,a){return r*(1-a)+t*a}v.exports=d},2652:function(v,d,r){var t=r(4335),a=r(6864),n=r(1903),f=r(9921),u=r(7608),l=r(5665),y={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=a(),T=a(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(L,M,s,E,w,_){if(M||(M=[0,0,0]),s||(s=[0,0,0]),E||(E=[0,0,0]),w||(w=[0,0,0,1]),_||(_=[0,0,0,1]),!t(h,L)||(n(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var D=h[3],N=h[7],z=h[11],F=h[12],U=h[13],B=h[14],V=h[15];if(D!==0||N!==0||z!==0){c[0]=D,c[1]=N,c[2]=z,c[3]=V;var j=u(T,T);if(!j)return!1;l(T,T),x(w,c,T)}else w[0]=w[1]=w[2]=0,w[3]=1;if(M[0]=F,M[1]=U,M[2]=B,b(o,h),s[0]=y.length(o[0]),y.normalize(o[0],o[0]),E[0]=y.dot(o[0],o[1]),P(o[1],o[1],o[0],1,-E[0]),s[1]=y.length(o[1]),y.normalize(o[1],o[1]),E[0]/=s[1],E[1]=y.dot(o[0],o[2]),P(o[2],o[2],o[0],1,-E[1]),E[2]=y.dot(o[1],o[2]),P(o[2],o[2],o[1],1,-E[2]),s[2]=y.length(o[2]),y.normalize(o[2],o[2]),E[1]/=s[2],E[2]/=s[2],y.cross(p,o[1],o[2]),y.dot(o[0],p)<0)for(var Q=0;Q<3;Q++)s[Q]*=-1,o[Q][0]*=-1,o[Q][1]*=-1,o[Q][2]*=-1;return _[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),_[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),_[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),_[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(_[0]=-_[0]),o[0][2]>o[2][0]&&(_[1]=-_[1]),o[1][0]>o[0][1]&&(_[2]=-_[2]),!0};function x(m,L,M){var s=L[0],E=L[1],w=L[2],_=L[3];return m[0]=M[0]*s+M[4]*E+M[8]*w+M[12]*_,m[1]=M[1]*s+M[5]*E+M[9]*w+M[13]*_,m[2]=M[2]*s+M[6]*E+M[10]*w+M[14]*_,m[3]=M[3]*s+M[7]*E+M[11]*w+M[15]*_,m}function b(m,L){m[0][0]=L[0],m[0][1]=L[1],m[0][2]=L[2],m[1][0]=L[4],m[1][1]=L[5],m[1][2]=L[6],m[2][0]=L[8],m[2][1]=L[9],m[2][2]=L[10]}function P(m,L,M,s,E){m[0]=L[0]*s+M[0]*E,m[1]=L[1]*s+M[1]*E,m[2]=L[2]*s+M[2]*E}},4335:function(v){v.exports=function(r,t){var a=t[15];if(a===0)return!1;for(var n=1/a,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,d,r){var t=r(6658),a=r(7182),n=r(2652),f=r(9921),u=r(8648),l=c(),y=c(),h=c();v.exports=T;function T(x,b,P,m){if(f(b)===0||f(P)===0)return!1;var L=n(b,l.translate,l.scale,l.skew,l.perspective,l.quaternion),M=n(P,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!L||!M?!1:(t(h.translate,l.translate,y.translate,m),t(h.skew,l.skew,y.skew,m),t(h.scale,l.scale,y.scale,m),t(h.perspective,l.perspective,y.perspective,m),u(h.quaternion,l.quaternion,y.quaternion,m),a(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:p(),quaternion:p()}}function o(x){return[x||0,x||0,x||0]}function p(){return[0,0,0,1]}},7182:function(v,d,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var a=t.create();v.exports=function(f,u,l,y,h,T){return t.identity(f),t.fromRotationTranslation(f,T,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(a),y[2]!==0&&(a[9]=y[2],t.multiply(f,f,a)),y[1]!==0&&(a[9]=0,a[8]=y[1],t.multiply(f,f,a)),y[0]!==0&&(a[8]=0,a[4]=y[0],t.multiply(f,f,a)),t.scale(f,f,l),f}},4192:function(v,d,r){var t=r(2478),a=r(7442),n=r(7608),f=r(5567),u=r(2408),l=r(7089),y=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=b;function o(P){this._components=P.slice(),this._time=[0],this.prevMatrix=P.slice(),this.nextMatrix=P.slice(),this.computedMatrix=P.slice(),this.computedInverse=P.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=o.prototype;p.recalcMatrix=function(P){var m=this._time,L=t.le(m,P),M=this.computedMatrix;if(!(L<0)){var s=this._components;if(L===m.length-1)for(var E=16*L,w=0;w<16;++w)M[w]=s[E++];else{for(var _=m[L+1]-m[L],E=16*L,D=this.prevMatrix,N=!0,w=0;w<16;++w)D[w]=s[E++];for(var z=this.nextMatrix,w=0;w<16;++w)z[w]=s[E++],N=N&&D[w]===z[w];if(_<1e-6||N)for(var w=0;w<16;++w)M[w]=D[w];else a(M,D,z,(P-m[L])/_)}var F=this.computedUp;F[0]=M[1],F[1]=M[5],F[2]=M[9],T(F,F);var U=this.computedInverse;n(U,M);var B=this.computedEye,V=U[15];B[0]=U[12]/V,B[1]=U[13]/V,B[2]=U[14]/V;for(var j=this.computedCenter,Q=Math.exp(this.computedRadius[0]),w=0;w<3;++w)j[w]=B[w]-M[2+4*w]*Q}},p.idle=function(P){if(!(P<this.lastT())){for(var m=this._components,L=m.length-16,M=0;M<16;++M)m.push(m[L++]);this._time.push(P)}},p.flush=function(P){var m=t.gt(this._time,P)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(P,m,L,M){this.recalcMatrix(P),m=m||this.computedEye,L=L||c,M=M||this.computedUp,this.setMatrix(P,y(this.computedMatrix,m,L,M));for(var s=0,E=0;E<3;++E)s+=Math.pow(L[E]-m[E],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},p.rotate=function(P,m,L,M){this.recalcMatrix(P);var s=this.computedInverse;m&&u(s,s,m),L&&f(s,s,L),M&&l(s,s,M),this.setMatrix(P,n(this.computedMatrix,s))};var x=[0,0,0];p.pan=function(P,m,L,M){x[0]=-(m||0),x[1]=-(L||0),x[2]=-(M||0),this.recalcMatrix(P);var s=this.computedInverse;h(s,s,x),this.setMatrix(P,n(s,s))},p.translate=function(P,m,L,M){x[0]=m||0,x[1]=L||0,x[2]=M||0,this.recalcMatrix(P);var s=this.computedMatrix;h(s,s,x),this.setMatrix(P,s)},p.setMatrix=function(P,m){if(!(P<this.lastT())){this._time.push(P);for(var L=0;L<16;++L)this._components.push(m[L])}},p.setDistance=function(P,m){this.computedRadius[0]=m},p.setDistanceLimits=function(P,m){var L=this._limits;L[0]=P,L[1]=m},p.getDistanceLimits=function(P){var m=this._limits;return P?(P[0]=m[0],P[1]=m[1],P):m};function b(P){P=P||{};var m=P.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(m)}},3090:function(v,d,r){v.exports=a;var t=r(3250)[3];function a(n){var f=n.length;if(f<3){for(var p=new Array(f),u=0;u<f;++u)p[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(m,L){var M=n[m][0]-n[L][0];return M||n[m][1]-n[L][1]});for(var y=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var T=l[u],c=n[T],o=y.length;o>1&&t(n[y[o-2]],n[y[o-1]],c)<=0;)o-=1,y.pop();for(y.push(T),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],c)>=0;)o-=1,h.pop();h.push(T)}for(var p=new Array(h.length+y.length-2),x=0,u=0,b=y.length;u<b;++u)p[x++]=y[u];for(var P=h.length-2;P>0;--P)p[x++]=h[P];return p}},351:function(v,d,r){v.exports=a;var t=r(4687);function a(n,f){f||(f=n,n=window);var u=0,l=0,y=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(w){var _=!1;return"altKey"in w&&(_=_||w.altKey!==h.alt,h.alt=!!w.altKey),"shiftKey"in w&&(_=_||w.shiftKey!==h.shift,h.shift=!!w.shiftKey),"ctrlKey"in w&&(_=_||w.ctrlKey!==h.control,h.control=!!w.ctrlKey),"metaKey"in w&&(_=_||w.metaKey!==h.meta,h.meta=!!w.metaKey),_}function o(w,_){var D=t.x(_),N=t.y(_);"buttons"in _&&(w=_.buttons|0),(w!==u||D!==l||N!==y||c(_))&&(u=w|0,l=D||0,y=N||0,f&&f(u,l,y,h))}function p(w){o(0,w)}function x(){(u||l||y||h.shift||h.alt||h.meta||h.control)&&(l=y=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function b(w){c(w)&&f&&f(u,l,y,h)}function P(w){t.buttons(w)===0?o(0,w):o(u,w)}function m(w){o(u|t.buttons(w),w)}function L(w){o(u&~t.buttons(w),w)}function M(){T||(T=!0,n.addEventListener("mousemove",P),n.addEventListener("mousedown",m),n.addEventListener("mouseup",L),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",x),n.addEventListener("keyup",b),n.addEventListener("keydown",b),n.addEventListener("keypress",b),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}function s(){T&&(T=!1,n.removeEventListener("mousemove",P),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",L),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",x),n.removeEventListener("keyup",b),n.removeEventListener("keydown",b),n.removeEventListener("keypress",b),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}M();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(w){w?M():s()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},24:function(v){var d={left:0,top:0};v.exports=r;function r(a,n,f){n=n||a.currentTarget||a.srcElement,Array.isArray(f)||(f=[0,0]);var u=a.clientX||0,l=a.clientY||0,y=t(n);return f[0]=u-y.left,f[1]=l-y.top,f}function t(a){return a===window||a===document||a===document.body?d:a.getBoundingClientRect()}},4687:function(v,d){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}d.buttons=r;function t(f){return f.target||f.srcElement||window}d.element=t;function a(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}d.x=a;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}d.y=n},8512:function(v,d,r){var t=r(665);v.exports=a;function a(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),y=function(h){u&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,p=h.deltaMode,x=1;switch(p){case 1:x=l;break;case 2:x=window.innerHeight;break}if(T*=x,c*=x,o*=x,T||c||o)return f(T,c,o,h)};return n.addEventListener("wheel",y),y}},2640:function(v,d,r){var t=r(1888);v.exports=f;var a={"false,0,1":function(l,y,h,T,c){return function(p,x,b,P){var m=p.shape[0]|0,L=p.shape[1]|0,M=p.data,s=p.offset|0,E=p.stride[0]|0,w=p.stride[1]|0,_=s,D,N=-E|0,z=0,F=-w|0,U=0,B=-E-w|0,V=0,j=E|0,Q=w-E*m|0,ee=0,re=0,ue=0,J=2*m|0,X=T(J),ne=T(J),Y=0,oe=0,le=-1,Z=-1,$=0,se=-m|0,ae=m|0,he=0,me=-m-1|0,Me=m-1|0,Te=0,Pe=0,be=0;for(ee=0;ee<m;++ee)X[Y++]=h(M[_],x,b,P),_+=j;if(_+=Q,L>0){if(re=1,X[Y++]=h(M[_],x,b,P),_+=j,m>0)for(ee=1,D=M[_],oe=X[Y]=h(D,x,b,P),$=X[Y+le],he=X[Y+se],Te=X[Y+me],(oe!==$||oe!==he||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,$,he,Te,x,b,P),Pe=ne[Y]=ue++),Y+=1,_+=j,ee=2;ee<m;++ee)D=M[_],oe=X[Y]=h(D,x,b,P),$=X[Y+le],he=X[Y+se],Te=X[Y+me],(oe!==$||oe!==he||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,$,he,Te,x,b,P),Pe=ne[Y]=ue++,Te!==$&&y(ne[Y+le],Pe,V,z,Te,$,x,b,P)),Y+=1,_+=j;for(_+=Q,Y=0,be=le,le=Z,Z=be,be=se,se=ae,ae=be,be=me,me=Me,Me=be,re=2;re<L;++re){if(X[Y++]=h(M[_],x,b,P),_+=j,m>0)for(ee=1,D=M[_],oe=X[Y]=h(D,x,b,P),$=X[Y+le],he=X[Y+se],Te=X[Y+me],(oe!==$||oe!==he||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,$,he,Te,x,b,P),Pe=ne[Y]=ue++,Te!==he&&y(ne[Y+se],Pe,U,V,he,Te,x,b,P)),Y+=1,_+=j,ee=2;ee<m;++ee)D=M[_],oe=X[Y]=h(D,x,b,P),$=X[Y+le],he=X[Y+se],Te=X[Y+me],(oe!==$||oe!==he||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,$,he,Te,x,b,P),Pe=ne[Y]=ue++,Te!==he&&y(ne[Y+se],Pe,U,V,he,Te,x,b,P),Te!==$&&y(ne[Y+le],Pe,V,z,Te,$,x,b,P)),Y+=1,_+=j;re&1&&(Y=0),be=le,le=Z,Z=be,be=se,se=ae,ae=be,be=me,me=Me,Me=be,_+=Q}}c(ne),c(X)}},"false,1,0":function(l,y,h,T,c){return function(p,x,b,P){var m=p.shape[0]|0,L=p.shape[1]|0,M=p.data,s=p.offset|0,E=p.stride[0]|0,w=p.stride[1]|0,_=s,D,N=-E|0,z=0,F=-w|0,U=0,B=-E-w|0,V=0,j=w|0,Q=E-w*L|0,ee=0,re=0,ue=0,J=2*L|0,X=T(J),ne=T(J),Y=0,oe=0,le=-1,Z=-1,$=0,se=-L|0,ae=L|0,he=0,me=-L-1|0,Me=L-1|0,Te=0,Pe=0,be=0;for(re=0;re<L;++re)X[Y++]=h(M[_],x,b,P),_+=j;if(_+=Q,m>0){if(ee=1,X[Y++]=h(M[_],x,b,P),_+=j,L>0)for(re=1,D=M[_],oe=X[Y]=h(D,x,b,P),he=X[Y+se],$=X[Y+le],Te=X[Y+me],(oe!==he||oe!==$||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,he,$,Te,x,b,P),Pe=ne[Y]=ue++),Y+=1,_+=j,re=2;re<L;++re)D=M[_],oe=X[Y]=h(D,x,b,P),he=X[Y+se],$=X[Y+le],Te=X[Y+me],(oe!==he||oe!==$||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,he,$,Te,x,b,P),Pe=ne[Y]=ue++,Te!==$&&y(ne[Y+le],Pe,U,V,$,Te,x,b,P)),Y+=1,_+=j;for(_+=Q,Y=0,be=se,se=ae,ae=be,be=le,le=Z,Z=be,be=me,me=Me,Me=be,ee=2;ee<m;++ee){if(X[Y++]=h(M[_],x,b,P),_+=j,L>0)for(re=1,D=M[_],oe=X[Y]=h(D,x,b,P),he=X[Y+se],$=X[Y+le],Te=X[Y+me],(oe!==he||oe!==$||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,he,$,Te,x,b,P),Pe=ne[Y]=ue++,Te!==he&&y(ne[Y+se],Pe,V,z,Te,he,x,b,P)),Y+=1,_+=j,re=2;re<L;++re)D=M[_],oe=X[Y]=h(D,x,b,P),he=X[Y+se],$=X[Y+le],Te=X[Y+me],(oe!==he||oe!==$||oe!==Te)&&(z=M[_+N],U=M[_+F],V=M[_+B],l(ee,re,D,z,U,V,oe,he,$,Te,x,b,P),Pe=ne[Y]=ue++,Te!==$&&y(ne[Y+le],Pe,U,V,$,Te,x,b,P),Te!==he&&y(ne[Y+se],Pe,V,z,Te,he,x,b,P)),Y+=1,_+=j;ee&1&&(Y=0),be=se,se=ae,ae=be,be=le,le=Z,Z=be,be=me,me=Me,Me=be,_+=Q}}c(ne),c(X)}}};function n(u,l,y,h,T,c){var o=[c,T].join(","),p=a[o];return p(u,l,y,t.mallocUint32,t.freeUint32)}function f(u){function l(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&l("Must specify arguments");var y=u.order;Array.isArray(y)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],o=new Array(h),p=0;p<h;++p)c.indexOf(p)>=0?o[p]=!0:o[p]=!1;return n(u.vertex,u.cell,u.phase,T,y,o)}},6199:function(v,d,r){var t=r(1338),a={zero:function(b,P,m,L){var M=b[0],s=m[0];L|=0;var E=0,w=s;for(E=0;E<M;++E)P[L]=0,L+=w},fdTemplate1:function(b,P,m,L,M,s,E){var w=b[0],_=m[0],D=s[0],N=-1*_,z=_;L|=0,E|=0;var F=0,U=_,B=D;for(F=0;F<w;++F)M[E]=.5*(P[L+N]-P[L+z]),L+=U,E+=B},fdTemplate2:function(b,P,m,L,M,s,E,w,_,D){var N=b[0],z=b[1],F=m[0],U=m[1],B=s[0],V=s[1],j=_[0],Q=_[1],ee=-1*F,re=F,ue=-1*U,J=U;L|=0,E|=0,D|=0;var X=0,ne=0,Y=U,oe=F-z*U,le=V,Z=B-z*V,$=Q,se=j-z*Q;for(ne=0;ne<N;++ne){for(X=0;X<z;++X)M[E]=.5*(P[L+ee]-P[L+re]),w[D]=.5*(P[L+ue]-P[L+J]),L+=Y,E+=le,D+=$;L+=oe,E+=Z,D+=se}}},n={cdiff:function(b){var P={};return function(L,M,s){var E=L.dtype,w=L.order,_=M.dtype,D=M.order,N=s.dtype,z=s.order,F=[E,w.join(),_,D.join(),N,z.join()].join(),U=P[F];return U||(P[F]=U=b([E,w,_,D,N,z])),U(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}},zero:function(b){var P={};return function(L){var M=L.dtype,s=L.order,E=[M,s.join()].join(),w=P[E];return w||(P[E]=w=b([M,s])),w(L.shape.slice(0),L.data,L.stride,L.offset|0)}},fdTemplate1:function(b){var P={};return function(L,M){var s=L.dtype,E=L.order,w=M.dtype,_=M.order,D=[s,E.join(),w,_.join()].join(),N=P[D];return N||(P[D]=N=b([s,E,w,_])),N(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0)}},fdTemplate2:function(b){var P={};return function(L,M,s){var E=L.dtype,w=L.order,_=M.dtype,D=M.order,N=s.dtype,z=s.order,F=[E,w.join(),_,D.join(),N,z.join()].join(),U=P[F];return U||(P[F]=U=b([E,w,_,D,N,z])),U(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}}};function f(b){var P=n[b.funcName];return P(u.bind(void 0,b))}function u(b){return a[b.funcName]}function l(b){return f({funcName:b.funcName})}var y={},h={},T=l({funcName:"cdiff"}),c=l({funcName:"zero"});function o(b){return b in y?y[b]:y[b]=l({funcName:"fdTemplate"+b})}function p(b,P,m,L){return function(M,s){var E=s.shape.slice();return E[0]>2&&E[1]>2&&L(s.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),M.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),M.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(m(s.pick(0,-1).lo(1).hi(E[1]-2),M.pick(0,-1,1).lo(1).hi(E[1]-2)),P(M.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(m(s.pick(E[0]-1,-1).lo(1).hi(E[1]-2),M.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),P(M.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(m(s.pick(-1,0).lo(1).hi(E[0]-2),M.pick(-1,0,0).lo(1).hi(E[0]-2)),P(M.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(m(s.pick(-1,E[1]-1).lo(1).hi(E[0]-2),M.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),P(M.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),M.set(0,0,0,0),M.set(0,0,1,0),M.set(E[0]-1,0,0,0),M.set(E[0]-1,0,1,0),M.set(0,E[1]-1,0,0),M.set(0,E[1]-1,1,0),M.set(E[0]-1,E[1]-1,0,0),M.set(E[0]-1,E[1]-1,1,0),M}}function x(b){var P=b.join(),E=h[P];if(E)return E;for(var m=b.length,L=[T,c],M=1;M<=m;++M)L.push(o(M));var s=p,E=s.apply(void 0,L);return h[P]=E,E}v.exports=function(P,m,L){if(Array.isArray(L)||(typeof L=="string"?L=t(m.dimension,L):L=t(m.dimension,"clamp")),m.size===0)return P;if(m.dimension===0)return P.set(0),P;var M=x(L);return M(P,m)}},4317:function(v){function d(f,u){var l=Math.floor(u),y=u-l,h=0<=l&&l<f.shape[0],T=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,o=T?+f.get(l+1):0;return(1-y)*c+y*o}function r(f,u,l){var y=Math.floor(u),h=u-y,T=0<=y&&y<f.shape[0],c=0<=y+1&&y+1<f.shape[0],o=Math.floor(l),p=l-o,x=0<=o&&o<f.shape[1],b=0<=o+1&&o+1<f.shape[1],P=T&&x?f.get(y,o):0,m=T&&b?f.get(y,o+1):0,L=c&&x?f.get(y+1,o):0,M=c&&b?f.get(y+1,o+1):0;return(1-p)*((1-h)*P+h*L)+p*((1-h)*m+h*M)}function t(f,u,l,y){var h=Math.floor(u),T=u-h,c=0<=h&&h<f.shape[0],o=0<=h+1&&h+1<f.shape[0],p=Math.floor(l),x=l-p,b=0<=p&&p<f.shape[1],P=0<=p+1&&p+1<f.shape[1],m=Math.floor(y),L=y-m,M=0<=m&&m<f.shape[2],s=0<=m+1&&m+1<f.shape[2],E=c&&b&&M?f.get(h,p,m):0,w=c&&P&&M?f.get(h,p+1,m):0,_=o&&b&&M?f.get(h+1,p,m):0,D=o&&P&&M?f.get(h+1,p+1,m):0,N=c&&b&&s?f.get(h,p,m+1):0,z=c&&P&&s?f.get(h,p+1,m+1):0,F=o&&b&&s?f.get(h+1,p,m+1):0,U=o&&P&&s?f.get(h+1,p+1,m+1):0;return(1-L)*((1-x)*((1-T)*E+T*_)+x*((1-T)*w+T*D))+L*((1-x)*((1-T)*N+T*F)+x*((1-T)*z+T*U))}function a(f){var u=f.shape.length|0,l=new Array(u),y=new Array(u),h=new Array(u),T=new Array(u),c,o;for(c=0;c<u;++c)o=+arguments[c+1],l[c]=Math.floor(o),y[c]=o-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],T[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var p=0,x,b,P;e:for(c=0;c<1<<u;++c){for(b=1,P=f.offset,x=0;x<u;++x)if(c&1<<x){if(!T[x])continue e;b*=y[x],P+=f.stride[x]*(l[x]+1)}else{if(!h[x])continue e;b*=1-y[x],P+=f.stride[x]*l[x]}p+=b*f.data[P]}return p}function n(f,u,l,y){switch(f.shape.length){case 0:return 0;case 1:return d(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,y);default:return a.apply(void 0,arguments)}}v.exports=n,v.exports.d1=d,v.exports.d2=r,v.exports.d3=t},5298:function(v,d){var r={"float64,2,1,0":function(){return function(h,T,c,o,p){var x=h[0],b=h[1],P=h[2],m=c[0],L=c[1],M=c[2];o|=0;var s=0,E=0,w=0,_=M,D=L-P*M,N=m-b*L;for(w=0;w<x;++w){for(E=0;E<b;++E){for(s=0;s<P;++s)T[o]/=p,o+=_;o+=D}o+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,o,p,x,b,P){var m=h[0],L=h[1],M=h[2],s=c[0],E=c[1],w=c[2],_=x[0],D=x[1],N=x[2];o|=0,b|=0;for(var z=o,F=b,U=h[0]|0;U>0;){U<64?(m=U,U=0):(m=64,U-=64);for(var B=h[1]|0;B>0;){B<64?(L=B,B=0):(L=64,B-=64),o=z+U*s+B*E,b=F+U*_+B*D;var V=0,j=0,Q=0,ee=w,re=s-M*w,ue=E-m*s,J=N,X=_-M*N,ne=D-m*_;for(Q=0;Q<L;++Q){for(j=0;j<m;++j){for(V=0;V<M;++V)T[o]=p[b]*P,o+=ee,b+=J;o+=re,b+=X}o+=ue,b+=ne}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,o,p,x,b){var P=h[0],m=h[1],L=c[0],M=c[1],s=x[0],E=x[1];o|=0,b|=0;var w=0,_=0,D=M,N=L-m*M,z=E,F=s-m*E;for(_=0;_<P;++_){for(w=0;w<m;++w)T[o]=p[b],o+=D,b+=z;o+=N,b+=F}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,o,p,x,b){var P=h[0],m=h[1],L=c[0],M=c[1],s=x[0],E=x[1];o|=0,b|=0;for(var w=o,_=b,D=h[1]|0;D>0;){D<64?(m=D,D=0):(m=64,D-=64);for(var N=h[0]|0;N>0;){N<64?(P=N,N=0):(P=64,N-=64),o=w+D*M+N*L,b=_+D*E+N*s;var z=0,F=0,U=M,B=L-m*M,V=E,j=s-m*E;for(F=0;F<P;++F){for(z=0;z<m;++z)T[o]=p[b],o+=U,b+=V;o+=B,b+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,o,p,x,b){var P=h[0],m=h[1],L=h[2],M=c[0],s=c[1],E=c[2],w=x[0],_=x[1],D=x[2];o|=0,b|=0;for(var N=o,z=b,F=h[2]|0;F>0;){F<64?(L=F,F=0):(L=64,F-=64);for(var U=h[0]|0;U>0;){U<64?(P=U,U=0):(P=64,U-=64);for(var B=h[1]|0;B>0;){B<64?(m=B,B=0):(m=64,B-=64),o=N+F*E+U*M+B*s,b=z+F*D+U*w+B*_;var V=0,j=0,Q=0,ee=E,re=M-L*E,ue=s-P*M,J=D,X=w-L*D,ne=_-P*w;for(Q=0;Q<m;++Q){for(j=0;j<P;++j){for(V=0;V<L;++V)T[o]=p[b],o+=ee,b+=J;o+=re,b+=X}o+=ue,b+=ne}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,o,p,x,b){var P=h[0],m=h[1],L=h[2],M=c[0],s=c[1],E=c[2],w=x[0],_=x[1],D=x[2];o|=0,b|=0;var N=0,z=0,F=0,U=E,B=M-L*E,V=s-P*M,j=D,Q=w-L*D,ee=_-P*w;for(F=0;F<m;++F){for(z=0;z<P;++z){for(N=0;N<L;++N)T[o]=p[b],o+=U,b+=j;o+=B,b+=Q}o+=V,b+=ee}}}};function t(y,h){var T=h.join(","),c=r[T];return c()}var a=t,n={mul:function(y){var h={};return function(c,o,p){var x=c.dtype,b=c.order,P=o.dtype,m=o.order,L=p.dtype,M=p.order,s=[x,b.join(),P,m.join(),L,M.join()].join(),E=h[s];return E||(h[s]=E=y([x,b,P,m,L,M])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},muls:function(y){var h={};return function(c,o,p){var x=c.dtype,b=c.order,P=o.dtype,m=o.order,L=[x,b.join(),P,m.join()].join(),M=h[L];return M||(h[L]=M=y([x,b,P,m])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p)}},mulseq:function(y){var h={};return function(c,o){var p=c.dtype,x=c.order,b=[p,x.join()].join(),P=h[b];return P||(h[b]=P=y([p,x])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(y){var h={};return function(c,o,p){var x=c.dtype,b=c.order,P=o.dtype,m=o.order,L=p.dtype,M=p.order,s=[x,b.join(),P,m.join(),L,M.join()].join(),E=h[s];return E||(h[s]=E=y([x,b,P,m,L,M])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},divs:function(y){var h={};return function(c,o,p){var x=c.dtype,b=c.order,P=o.dtype,m=o.order,L=[x,b.join(),P,m.join()].join(),M=h[L];return M||(h[L]=M=y([x,b,P,m])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p)}},divseq:function(y){var h={};return function(c,o){var p=c.dtype,x=c.order,b=[p,x.join()].join(),P=h[b];return P||(h[b]=P=y([p,x])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(y){var h={};return function(c,o){var p=c.dtype,x=c.order,b=o.dtype,P=o.order,m=[p,x.join(),b,P.join()].join(),L=h[m];return L||(h[m]=L=y([p,x,b,P])),L(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function f(y){var h=n[y.funcName];return h(a.bind(void 0,y))}function u(y){return f({funcName:y.funcName})}var l={mul:"*",div:"/"};(function(){for(var y in l)d[y]=u({funcName:y}),d[y+"s"]=u({funcName:y+"s"}),d[y+"seq"]=u({funcName:y+"seq"})})(),d.assign=u({funcName:"assign"})},9994:function(v,d,r){var t=r(9618),a=r(8277);v.exports=function(f,u){for(var l=[],y=f,h=1;Array.isArray(y);)l.push(y.length),h*=y.length,y=y[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),a(u,f),u)}},8277:function(v){function d(){return function(u,l,y,h,T){var c=u[0],o=u[1],p=u[2],x=y[0],b=y[1],P=y[2],m=[0,0,0];h|=0;var L=0,M=0,s=0,E=P,w=b-p*P,_=x-o*b;for(s=0;s<c;++s){for(M=0;M<o;++M){for(L=0;L<p;++L){{var D=T,N;for(N=0;N<m.length-1;++N)D=D[m[N]];l[h]=D[m[m.length-1]]}h+=E,++m[2]}h+=w,m[2]-=p,++m[1]}h+=_,m[1]-=o,++m[0]}}}function r(){return d()}var t=r;function a(u){var l={};return function(h,T){var c=h.dtype,o=h.order,p=[c,o.join()].join(),x=l[p];return x||(l[p]=x=u([c,o])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,d,r){var t=r(1888);function a(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,c){return function(p,x,b,P,m,L,M,s,E,w,_){var D,N,z,F=p*m+P,U,B=T(s),V,j,Q,ee;for(D=p+1;D<=x;++D){for(N=D,F+=m,z=F,V=0,j=F,U=0;U<s;++U)B[V++]=b[j],j+=E;e:for(;N-- >p;){V=0,j=z-m;t:for(U=0;U<s;++U){if(Q=b[j],ee=B[V],Q<ee)break e;if(Q>ee)break t;j+=w,V+=_}for(V=z,j=z-m,U=0;U<s;++U)b[V]=b[j],V+=E,j+=E;z-=m}for(V=z,j=0,U=0;U<s;++U)b[V]=B[j++],V+=E}c(B)}}};function f(T,c){var o=a(c),p=[c,T].join(","),x=n[p];return o?x(o[0],o[1]):x()}var u={"uint32,1,0":function(T,c,o){return function p(x,b,P,m,L,M,s,E,w,_,D){var N=(b-x+1)/6|0,z=x+N,F=b-N,U=x+b>>1,B=U-N,V=U+N,j=z,Q=B,ee=U,re=V,ue=F,J=x+1,X=b-1,ne=!0,Y,oe,le,Z,$,se,ae,he,me,Me=0,Te=0,Pe=0,be,Ee,xe,Ce,Ue,Ne,De,He,at,vt,ot,et,ct,ht,gt,xt,Mt=E,tt=c(Mt),Oe=c(Mt);Ee=L*j,xe=L*Q,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=j,j=Q,Q=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*re,xe=L*ue,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=re,re=ue,ue=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*j,xe=L*ee,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=j,j=ee,ee=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*Q,xe=L*ee,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=Q,Q=ee,ee=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*j,xe=L*re,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=j,j=re,re=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*ee,xe=L*re,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=ee,ee=re,re=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*Q,xe=L*ue,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=Q,Q=ue,ue=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*Q,xe=L*ee,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=Q,Q=ee,ee=oe;break e}if(Pe<0)break e;xt+=_}Ee=L*re,xe=L*ue,xt=m;e:for(be=0;be<E;++be){if(ae=Ee+xt,he=xe+xt,Pe=P[ae]-P[he],Pe>0){oe=re,re=ue,ue=oe;break e}if(Pe<0)break e;xt+=_}for(Ee=L*j,xe=L*Q,Ce=L*ee,Ue=L*re,Ne=L*ue,De=L*z,He=L*U,at=L*F,gt=0,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,me=Ce+xt,vt=Ue+xt,ot=Ne+xt,et=De+xt,ct=He+xt,ht=at+xt,tt[gt]=P[he],Oe[gt]=P[vt],ne=ne&&tt[gt]===Oe[gt],le=P[ae],Z=P[me],$=P[ot],P[et]=le,P[ct]=Z,P[ht]=$,++gt,xt+=w;for(Ee=L*B,xe=L*x,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,P[ae]=P[he],xt+=w;for(Ee=L*V,xe=L*b,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,P[ae]=P[he],xt+=w;if(ne)for(se=J;se<=X;++se){ae=m+se*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-tt[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe!==0)if(Pe<0){if(se!==J)for(Ee=L*se,xe=L*J,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++J}else for(;;){ae=m+X*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-tt[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe>0)X--;else if(Pe<0){for(Ee=L*se,xe=L*J,Ce=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,me=Ce+xt,Y=P[ae],P[ae]=P[he],P[he]=P[me],P[me]=Y,xt+=w;++J,--X;break}else{for(Ee=L*se,xe=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--X;break}}}else for(se=J;se<=X;++se){ae=m+se*L,gt=0;e:for(be=0;be<E;++be){if(Me=P[ae]-tt[gt],Me!==0)break e;gt+=D,ae+=_}if(Me<0){if(se!==J)for(Ee=L*se,xe=L*J,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++J}else{ae=m+se*L,gt=0;e:for(be=0;be<E;++be){if(Te=P[ae]-Oe[gt],Te!==0)break e;gt+=D,ae+=_}if(Te>0)for(;;){ae=m+X*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-Oe[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe>0){if(--X<se)break;continue}else{ae=m+X*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-tt[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe<0){for(Ee=L*se,xe=L*J,Ce=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,me=Ce+xt,Y=P[ae],P[ae]=P[he],P[he]=P[me],P[me]=Y,xt+=w;++J,--X}else{for(Ee=L*se,xe=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--X}break}}}}for(Ee=L*x,xe=L*(J-1),gt=0,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,P[ae]=P[he],P[he]=tt[gt],++gt,xt+=w;for(Ee=L*b,xe=L*(X+1),gt=0,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,P[ae]=P[he],P[he]=Oe[gt],++gt,xt+=w;if(J-2-x<=32?T(x,J-2,P,m,L,M,s,E,w,_,D):p(x,J-2,P,m,L,M,s,E,w,_,D),b-(X+2)<=32?T(X+2,b,P,m,L,M,s,E,w,_,D):p(X+2,b,P,m,L,M,s,E,w,_,D),ne){o(tt),o(Oe);return}if(J<z&&X>F){e:for(;;){for(ae=m+J*L,gt=0,xt=m,be=0;be<E;++be){if(P[ae]!==tt[gt])break e;++gt,ae+=w}++J}e:for(;;){for(ae=m+X*L,gt=0,xt=m,be=0;be<E;++be){if(P[ae]!==Oe[gt])break e;++gt,ae+=w}--X}for(se=J;se<=X;++se){ae=m+se*L,gt=0;e:for(be=0;be<E;++be){if(Me=P[ae]-tt[gt],Me!==0)break e;gt+=D,ae+=_}if(Me===0){if(se!==J)for(Ee=L*se,xe=L*J,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++J}else{ae=m+se*L,gt=0;e:for(be=0;be<E;++be){if(Te=P[ae]-Oe[gt],Te!==0)break e;gt+=D,ae+=_}if(Te===0)for(;;){ae=m+X*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-Oe[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe===0){if(--X<se)break;continue}else{ae=m+X*L,gt=0;e:for(be=0;be<E;++be){if(Pe=P[ae]-tt[gt],Pe!==0)break e;gt+=D,ae+=_}if(Pe<0){for(Ee=L*se,xe=L*J,Ce=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,me=Ce+xt,Y=P[ae],P[ae]=P[he],P[he]=P[me],P[me]=Y,xt+=w;++J,--X}else{for(Ee=L*se,xe=L*X,xt=m,be=0;be<E;++be)ae=Ee+xt,he=xe+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--X}break}}}}}o(tt),o(Oe),X-J<=32?T(J,X,P,m,L,M,s,E,w,_,D):p(J,X,P,m,L,M,s,E,w,_,D)}}};function l(T,c,o){var p=a(c),x=[c,T].join(","),b=u[x];return T.length>1&&p?b(o,p[0],p[1]):b(o)}var y={"uint32,1,0":function(T,c){return function(o){var p=o.data,x=o.offset|0,b=o.shape,P=o.stride,m=P[0]|0,L=b[0]|0,M=P[1]|0,s=b[1]|0,E=M,w=M,_=1;L<=32?T(0,L-1,p,x,m,M,L,s,E,w,_):c(0,L-1,p,x,m,M,L,s,E,w,_)}}};function h(T,c){var o=[c,T].join(","),p=y[o],x=f(T,c),b=l(T,c,x);return p(x,b)}v.exports=h},446:function(v,d,r){var t=r(7640),a={};function n(f){var u=f.order,l=f.dtype,y=[u,l],h=y.join(":"),T=a[h];return T||(a[h]=T=t(u,l)),T(f),f}v.exports=n},9618:function(v,d,r){var t=r(7163),a=typeof Float64Array<"u";function n(c,o){return c[0]-o[0]}function f(){var c=this.stride,o=new Array(c.length),p;for(p=0;p<o.length;++p)o[p]=[Math.abs(c[p]),p];o.sort(n);var x=new Array(o.length);for(p=0;p<x.length;++p)x[p]=o[p][1];return x}var u={T:function(c){function o(x){this.data=x}var p=o.prototype;return p.dtype=c,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new o(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(b){return new o(b)}},0:function(c,o){function p(b,P){this.data=b,this.offset=P}var x=p.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new p(this.data,this.offset)},x.pick=function(){return o(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(P){return c==="generic"?this.data.set(this.offset,P):this.data[this.offset]=P},function(P,m,L,M){return new p(P,M)}},1:function(c,o,p){function x(P,m,L,M){this.data=P,this.shape=[m],this.stride=[L],this.offset=M|0}var b=x.prototype;return b.dtype=c,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(m,L){return c==="generic"?this.data.set(this.offset+this.stride[0]*m,L):this.data[this.offset+this.stride[0]*m]=L},b.get=function(m){return c==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},b.index=function(m){return this.offset+this.stride[0]*m},b.hi=function(m){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},b.lo=function(m){var L=this.offset,M=0,s=this.shape[0],E=this.stride[0];return typeof m=="number"&&m>=0&&(M=m|0,L+=E*M,s-=M),new x(this.data,s,E,L)},b.step=function(m){var L=this.shape[0],M=this.stride[0],s=this.offset,E=0,w=Math.ceil;return typeof m=="number"&&(E=m|0,E<0?(s+=M*(L-1),L=w(-L/E)):L=w(L/E),M*=E),new x(this.data,L,M,s)},b.transpose=function(m){m=m===void 0?0:m|0;var L=this.shape,M=this.stride;return new x(this.data,L[m],M[m],this.offset)},b.pick=function(m){var L=[],M=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(L.push(this.shape[0]),M.push(this.stride[0]));var E=o[L.length+1];return E(this.data,L,M,s)},function(m,L,M,s){return new x(m,L[0],M[0],s)}},2:function(c,o,p){function x(P,m,L,M,s,E){this.data=P,this.shape=[m,L],this.stride=[M,s],this.offset=E|0}var b=x.prototype;return b.dtype=c,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(m,L,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L,M):this.data[this.offset+this.stride[0]*m+this.stride[1]*L]=M},b.get=function(m,L){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L):this.data[this.offset+this.stride[0]*m+this.stride[1]*L]},b.index=function(m,L){return this.offset+this.stride[0]*m+this.stride[1]*L},b.hi=function(m,L){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,this.stride[0],this.stride[1],this.offset)},b.lo=function(m,L){var M=this.offset,s=0,E=this.shape[0],w=this.shape[1],_=this.stride[0],D=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,M+=_*s,E-=s),typeof L=="number"&&L>=0&&(s=L|0,M+=D*s,w-=s),new x(this.data,E,w,_,D,M)},b.step=function(m,L){var M=this.shape[0],s=this.shape[1],E=this.stride[0],w=this.stride[1],_=this.offset,D=0,N=Math.ceil;return typeof m=="number"&&(D=m|0,D<0?(_+=E*(M-1),M=N(-M/D)):M=N(M/D),E*=D),typeof L=="number"&&(D=L|0,D<0?(_+=w*(s-1),s=N(-s/D)):s=N(s/D),w*=D),new x(this.data,M,s,E,w,_)},b.transpose=function(m,L){m=m===void 0?0:m|0,L=L===void 0?1:L|0;var M=this.shape,s=this.stride;return new x(this.data,M[m],M[L],s[m],s[L],this.offset)},b.pick=function(m,L){var M=[],s=[],E=this.offset;typeof m=="number"&&m>=0?E=E+this.stride[0]*m|0:(M.push(this.shape[0]),s.push(this.stride[0])),typeof L=="number"&&L>=0?E=E+this.stride[1]*L|0:(M.push(this.shape[1]),s.push(this.stride[1]));var w=o[M.length+1];return w(this.data,M,s,E)},function(m,L,M,s){return new x(m,L[0],L[1],M[0],M[1],s)}},3:function(c,o,p){function x(P,m,L,M,s,E,w,_){this.data=P,this.shape=[m,L,M],this.stride=[s,E,w],this.offset=_|0}var b=x.prototype;return b.dtype=c,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var m=Math.abs(this.stride[0]),L=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return m>L?L>M?[2,1,0]:m>M?[1,2,0]:[1,0,2]:m>M?[2,0,1]:M>L?[0,1,2]:[0,2,1]}}),b.set=function(m,L,M,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M]=s},b.get=function(m,L,M){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M]},b.index=function(m,L,M){return this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M},b.hi=function(m,L,M){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(m,L,M){var s=this.offset,E=0,w=this.shape[0],_=this.shape[1],D=this.shape[2],N=this.stride[0],z=this.stride[1],F=this.stride[2];return typeof m=="number"&&m>=0&&(E=m|0,s+=N*E,w-=E),typeof L=="number"&&L>=0&&(E=L|0,s+=z*E,_-=E),typeof M=="number"&&M>=0&&(E=M|0,s+=F*E,D-=E),new x(this.data,w,_,D,N,z,F,s)},b.step=function(m,L,M){var s=this.shape[0],E=this.shape[1],w=this.shape[2],_=this.stride[0],D=this.stride[1],N=this.stride[2],z=this.offset,F=0,U=Math.ceil;return typeof m=="number"&&(F=m|0,F<0?(z+=_*(s-1),s=U(-s/F)):s=U(s/F),_*=F),typeof L=="number"&&(F=L|0,F<0?(z+=D*(E-1),E=U(-E/F)):E=U(E/F),D*=F),typeof M=="number"&&(F=M|0,F<0?(z+=N*(w-1),w=U(-w/F)):w=U(w/F),N*=F),new x(this.data,s,E,w,_,D,N,z)},b.transpose=function(m,L,M){m=m===void 0?0:m|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0;var s=this.shape,E=this.stride;return new x(this.data,s[m],s[L],s[M],E[m],E[L],E[M],this.offset)},b.pick=function(m,L,M){var s=[],E=[],w=this.offset;typeof m=="number"&&m>=0?w=w+this.stride[0]*m|0:(s.push(this.shape[0]),E.push(this.stride[0])),typeof L=="number"&&L>=0?w=w+this.stride[1]*L|0:(s.push(this.shape[1]),E.push(this.stride[1])),typeof M=="number"&&M>=0?w=w+this.stride[2]*M|0:(s.push(this.shape[2]),E.push(this.stride[2]));var _=o[s.length+1];return _(this.data,s,E,w)},function(m,L,M,s){return new x(m,L[0],L[1],L[2],M[0],M[1],M[2],s)}},4:function(c,o,p){function x(P,m,L,M,s,E,w,_,D,N){this.data=P,this.shape=[m,L,M,s],this.stride=[E,w,_,D],this.offset=N|0}var b=x.prototype;return b.dtype=c,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:p}),b.set=function(m,L,M,s,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s,E):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]=E},b.get=function(m,L,M,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]},b.index=function(m,L,M,s){return this.offset+this.stride[0]*m+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s},b.hi=function(m,L,M,s){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(m,L,M,s){var E=this.offset,w=0,_=this.shape[0],D=this.shape[1],N=this.shape[2],z=this.shape[3],F=this.stride[0],U=this.stride[1],B=this.stride[2],V=this.stride[3];return typeof m=="number"&&m>=0&&(w=m|0,E+=F*w,_-=w),typeof L=="number"&&L>=0&&(w=L|0,E+=U*w,D-=w),typeof M=="number"&&M>=0&&(w=M|0,E+=B*w,N-=w),typeof s=="number"&&s>=0&&(w=s|0,E+=V*w,z-=w),new x(this.data,_,D,N,z,F,U,B,V,E)},b.step=function(m,L,M,s){var E=this.shape[0],w=this.shape[1],_=this.shape[2],D=this.shape[3],N=this.stride[0],z=this.stride[1],F=this.stride[2],U=this.stride[3],B=this.offset,V=0,j=Math.ceil;return typeof m=="number"&&(V=m|0,V<0?(B+=N*(E-1),E=j(-E/V)):E=j(E/V),N*=V),typeof L=="number"&&(V=L|0,V<0?(B+=z*(w-1),w=j(-w/V)):w=j(w/V),z*=V),typeof M=="number"&&(V=M|0,V<0?(B+=F*(_-1),_=j(-_/V)):_=j(_/V),F*=V),typeof s=="number"&&(V=s|0,V<0?(B+=U*(D-1),D=j(-D/V)):D=j(D/V),U*=V),new x(this.data,E,w,_,D,N,z,F,U,B)},b.transpose=function(m,L,M,s){m=m===void 0?0:m|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0,s=s===void 0?3:s|0;var E=this.shape,w=this.stride;return new x(this.data,E[m],E[L],E[M],E[s],w[m],w[L],w[M],w[s],this.offset)},b.pick=function(m,L,M,s){var E=[],w=[],_=this.offset;typeof m=="number"&&m>=0?_=_+this.stride[0]*m|0:(E.push(this.shape[0]),w.push(this.stride[0])),typeof L=="number"&&L>=0?_=_+this.stride[1]*L|0:(E.push(this.shape[1]),w.push(this.stride[1])),typeof M=="number"&&M>=0?_=_+this.stride[2]*M|0:(E.push(this.shape[2]),w.push(this.stride[2])),typeof s=="number"&&s>=0?_=_+this.stride[3]*s|0:(E.push(this.shape[3]),w.push(this.stride[3]));var D=o[E.length+1];return D(this.data,E,w,_)},function(m,L,M,s){return new x(m,L[0],L[1],L[2],L[3],M[0],M[1],M[2],M[3],s)}},5:function(o,p,x){function b(m,L,M,s,E,w,_,D,N,z,F,U){this.data=m,this.shape=[L,M,s,E,w],this.stride=[_,D,N,z,F],this.offset=U|0}var P=b.prototype;return P.dtype=o,P.dimension=5,Object.defineProperty(P,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(P,"order",{get:x}),P.set=function(L,M,s,E,w,_){return o==="generic"?this.data.set(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w,_):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w]=_},P.get=function(L,M,s,E,w){return o==="generic"?this.data.get(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w]},P.index=function(L,M,s,E,w){return this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w},P.hi=function(L,M,s,E,w){return new b(this.data,typeof L!="number"||L<0?this.shape[0]:L|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof w!="number"||w<0?this.shape[4]:w|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},P.lo=function(L,M,s,E,w){var _=this.offset,D=0,N=this.shape[0],z=this.shape[1],F=this.shape[2],U=this.shape[3],B=this.shape[4],V=this.stride[0],j=this.stride[1],Q=this.stride[2],ee=this.stride[3],re=this.stride[4];return typeof L=="number"&&L>=0&&(D=L|0,_+=V*D,N-=D),typeof M=="number"&&M>=0&&(D=M|0,_+=j*D,z-=D),typeof s=="number"&&s>=0&&(D=s|0,_+=Q*D,F-=D),typeof E=="number"&&E>=0&&(D=E|0,_+=ee*D,U-=D),typeof w=="number"&&w>=0&&(D=w|0,_+=re*D,B-=D),new b(this.data,N,z,F,U,B,V,j,Q,ee,re,_)},P.step=function(L,M,s,E,w){var _=this.shape[0],D=this.shape[1],N=this.shape[2],z=this.shape[3],F=this.shape[4],U=this.stride[0],B=this.stride[1],V=this.stride[2],j=this.stride[3],Q=this.stride[4],ee=this.offset,re=0,ue=Math.ceil;return typeof L=="number"&&(re=L|0,re<0?(ee+=U*(_-1),_=ue(-_/re)):_=ue(_/re),U*=re),typeof M=="number"&&(re=M|0,re<0?(ee+=B*(D-1),D=ue(-D/re)):D=ue(D/re),B*=re),typeof s=="number"&&(re=s|0,re<0?(ee+=V*(N-1),N=ue(-N/re)):N=ue(N/re),V*=re),typeof E=="number"&&(re=E|0,re<0?(ee+=j*(z-1),z=ue(-z/re)):z=ue(z/re),j*=re),typeof w=="number"&&(re=w|0,re<0?(ee+=Q*(F-1),F=ue(-F/re)):F=ue(F/re),Q*=re),new b(this.data,_,D,N,z,F,U,B,V,j,Q,ee)},P.transpose=function(L,M,s,E,w){L=L===void 0?0:L|0,M=M===void 0?1:M|0,s=s===void 0?2:s|0,E=E===void 0?3:E|0,w=w===void 0?4:w|0;var _=this.shape,D=this.stride;return new b(this.data,_[L],_[M],_[s],_[E],_[w],D[L],D[M],D[s],D[E],D[w],this.offset)},P.pick=function(L,M,s,E,w){var _=[],D=[],N=this.offset;typeof L=="number"&&L>=0?N=N+this.stride[0]*L|0:(_.push(this.shape[0]),D.push(this.stride[0])),typeof M=="number"&&M>=0?N=N+this.stride[1]*M|0:(_.push(this.shape[1]),D.push(this.stride[1])),typeof s=="number"&&s>=0?N=N+this.stride[2]*s|0:(_.push(this.shape[2]),D.push(this.stride[2])),typeof E=="number"&&E>=0?N=N+this.stride[3]*E|0:(_.push(this.shape[3]),D.push(this.stride[3])),typeof w=="number"&&w>=0?N=N+this.stride[4]*w|0:(_.push(this.shape[4]),D.push(this.stride[4]));var z=p[_.length+1];return z(this.data,_,D,N)},function(L,M,s,E){return new b(L,M[0],M[1],M[2],M[3],M[4],s[0],s[1],s[2],s[3],s[4],E)}}};function l(c,o){var p=o===-1?"T":String(o),x=u[p];return o===-1?x(c):o===0?x(c,h[c][0]):x(c,h[c],f)}function y(c){if(t(c))return"buffer";if(a)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,o,p,x){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var b=o.length;if(p===void 0){p=new Array(b);for(var P=b-1,m=1;P>=0;--P)p[P]=m,m*=o[P]}if(x===void 0){x=0;for(var P=0;P<b;++P)p[P]<0&&(x-=(o[P]-1)*p[P])}for(var L=y(c),M=h[L];M.length<=b+1;)M.push(l(L,M.length-1));var s=M[b+1];return s(c,o,p,x)}v.exports=T},1278:function(v,d,r){var t=r(2361),a=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-a:a;var y=t.hi(u),h=t.lo(u);return l>u==u>0?h===n?(y+=1,h=0):h+=1:h===0?(h=n,y-=1):h-=1,t.pack(h,y)}},8406:function(v,d){var r=1e-6,t=1e-6;d.vertexNormals=function(a,n,f){for(var u=n.length,l=new Array(u),y=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<a.length;++h)for(var T=a[h],c=0,o=T[T.length-1],p=T[0],x=0;x<T.length;++x){c=o,o=p,p=T[(x+1)%T.length];for(var b=n[c],P=n[o],m=n[p],L=new Array(3),M=0,s=new Array(3),E=0,w=0;w<3;++w)L[w]=b[w]-P[w],M+=L[w]*L[w],s[w]=m[w]-P[w],E+=s[w]*s[w];if(M*E>y)for(var _=l[o],D=1/Math.sqrt(M*E),w=0;w<3;++w){var N=(w+1)%3,z=(w+2)%3;_[w]+=D*(s[N]*L[z]-s[z]*L[N])}}for(var h=0;h<u;++h){for(var _=l[h],F=0,w=0;w<3;++w)F+=_[w]*_[w];if(F>y)for(var D=1/Math.sqrt(F),w=0;w<3;++w)_[w]*=D;else for(var w=0;w<3;++w)_[w]=0}return l},d.faceNormals=function(a,n,f){for(var u=a.length,l=new Array(u),y=f===void 0?t:f,h=0;h<u;++h){for(var T=a[h],c=new Array(3),o=0;o<3;++o)c[o]=n[T[o]];for(var p=new Array(3),x=new Array(3),o=0;o<3;++o)p[o]=c[1][o]-c[0][o],x[o]=c[2][o]-c[0][o];for(var b=new Array(3),P=0,o=0;o<3;++o){var m=(o+1)%3,L=(o+2)%3;b[o]=p[m]*x[L]-p[L]*x[m],P+=b[o]*b[o]}P>y?P=1/Math.sqrt(P):P=0;for(var o=0;o<3;++o)b[o]*=P;l[h]=b}return l}},4081:function(v){v.exports=d;function d(r,t,a,n,f,u,l,y,h,T){var c=t+u+T;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(l-h)/o,r[1]=.5*(y-n)/o,r[2]=.5*(a-u)/o,r[3]=.5*o}else{var p=Math.max(t,u,T),o=Math.sqrt(2*p-c+1);t>=p?(r[0]=.5*o,r[1]=.5*(f+a)/o,r[2]=.5*(y+n)/o,r[3]=.5*(l-h)/o):u>=p?(r[0]=.5*(a+f)/o,r[1]=.5*o,r[2]=.5*(h+l)/o,r[3]=.5*(y-n)/o):(r[0]=.5*(n+y)/o,r[1]=.5*(l+h)/o,r[2]=.5*o,r[3]=.5*(a-f)/o)}return r}},9977:function(v,d,r){v.exports=o;var t=r(9215),a=r(6582),n=r(7399),f=r(7608),u=r(4081);function l(p,x,b){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(b,2))}function y(p,x,b,P){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(b,2)+Math.pow(P,2))}function h(p,x){var b=x[0],P=x[1],m=x[2],L=x[3],M=y(b,P,m,L);M>1e-6?(p[0]=b/M,p[1]=P/M,p[2]=m/M,p[3]=L/M):(p[0]=p[1]=p[2]=0,p[3]=1)}function T(p,x,b){this.radius=t([b]),this.center=t(x),this.rotation=t(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var x=this.computedRotation;h(x,x);var b=this.computedMatrix;n(b,x);var P=this.computedCenter,m=this.computedEye,L=this.computedUp,M=Math.exp(this.computedRadius[0]);m[0]=P[0]+M*b[2],m[1]=P[1]+M*b[6],m[2]=P[2]+M*b[10],L[0]=b[1],L[1]=b[5],L[2]=b[9];for(var s=0;s<3;++s){for(var E=0,w=0;w<3;++w)E+=b[s+4*w]*m[w];b[12+s]=-E}},c.getMatrix=function(p,x){this.recalcMatrix(p);var b=this.computedMatrix;if(x){for(var P=0;P<16;++P)x[P]=b[P];return x}return b},c.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},c.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},c.pan=function(p,x,b,P){x=x||0,b=b||0,P=P||0,this.recalcMatrix(p);var m=this.computedMatrix,L=m[1],M=m[5],s=m[9],E=l(L,M,s);L/=E,M/=E,s/=E;var w=m[0],_=m[4],D=m[8],N=w*L+_*M+D*s;w-=L*N,_-=M*N,D-=s*N;var z=l(w,_,D);w/=z,_/=z,D/=z,m[2],m[6],m[10];var F=w*x+L*b,U=_*x+M*b,B=D*x+s*b;this.center.move(p,F,U,B);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+P),this.radius.set(p,Math.log(V))},c.rotate=function(p,x,b,P){this.recalcMatrix(p),x=x||0,b=b||0;var m=this.computedMatrix,L=m[0],M=m[4],s=m[8],E=m[1],w=m[5],_=m[9],D=m[2],N=m[6],z=m[10],F=x*L+b*E,U=x*M+b*w,B=x*s+b*_,V=-(N*B-z*U),j=-(z*F-D*B),Q=-(D*U-N*F),ee=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(j,2)-Math.pow(Q,2))),re=y(V,j,Q,ee);re>1e-6?(V/=re,j/=re,Q/=re,ee/=re):(V=j=Q=0,ee=1);var ue=this.computedRotation,J=ue[0],X=ue[1],ne=ue[2],Y=ue[3],oe=J*ee+Y*V+X*Q-ne*j,le=X*ee+Y*j+ne*V-J*Q,Z=ne*ee+Y*Q+J*j-X*V,$=Y*ee-J*V-X*j-ne*Q;if(P){V=D,j=N,Q=z;var se=Math.sin(P)/l(V,j,Q);V*=se,j*=se,Q*=se,ee=Math.cos(x),oe=oe*ee+$*V+le*Q-Z*j,le=le*ee+$*j+Z*V-oe*Q,Z=Z*ee+$*Q+oe*j-le*V,$=$*ee-oe*V-le*j-Z*Q}var ae=y(oe,le,Z,$);ae>1e-6?(oe/=ae,le/=ae,Z/=ae,$/=ae):(oe=le=Z=0,$=1),this.rotation.set(p,oe,le,Z,$)},c.lookAt=function(p,x,b,P){this.recalcMatrix(p),b=b||this.computedCenter,x=x||this.computedEye,P=P||this.computedUp;var m=this.computedMatrix;a(m,x,b,P);var L=this.computedRotation;u(L,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(L,L),this.rotation.set(p,L[0],L[1],L[2],L[3]);for(var M=0,s=0;s<3;++s)M+=Math.pow(b[s]-x[s],2);this.radius.set(p,.5*Math.log(Math.max(M,1e-6))),this.center.set(p,b[0],b[1],b[2])},c.translate=function(p,x,b,P){this.center.move(p,x||0,b||0,P||0)},c.setMatrix=function(p,x){var b=this.computedRotation;u(b,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(b,b),this.rotation.set(p,b[0],b[1],b[2],b[3]);var P=this.computedMatrix;f(P,x);var m=P[15];if(Math.abs(m)>1e-6){var L=P[12]/m,M=P[13]/m,s=P[14]/m;this.recalcMatrix(p);var E=Math.exp(this.computedRadius[0]);this.center.set(p,L-P[2]*E,M-P[6]*E,s-P[10]*E),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},c.setDistance=function(p,x){x>0&&this.radius.set(p,Math.log(x))},c.setDistanceLimits=function(p,x){p>0?p=Math.log(p):p=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(p){var x=this.radius.bounds;return p?(p[0]=Math.exp(x[0][0]),p[1]=Math.exp(x[1][0]),p):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(p){var x=this.lastT(),b=p.center;b&&this.center.set(x,b[0],b[1],b[2]);var P=p.rotation;P&&this.rotation.set(x,P[0],P[1],P[2],P[3]);var m=p.distance;m&&m>0&&this.radius.set(x,Math.log(m)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function o(p){p=p||{};var x=p.center||[0,0,0],b=p.rotation||[0,0,0,1],P=p.radius||1;x=[].slice.call(x,0,3),b=[].slice.call(b,0,4),h(b,b);var m=new T(b,x,Math.log(P));return m.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&m.lookAt(0,p.eye,p.center,p.up),m}},1371:function(v,d,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,d,r){v.exports=a;var t=r(3140);function a(n,f){for(var u=f.length|0,l=n.length,y=[new Array(u),new Array(u)],h=0;h<u;++h)y[0][h]=[],y[1][h]=[];for(var h=0;h<l;++h){var T=n[h];y[0][T[0]].push(T),y[1][T[1]].push(T)}for(var c=[],h=0;h<u;++h)y[0][h].length+y[1][h].length===0&&c.push([h]);function o(M,s){var E=y[s][M[s]];E.splice(E.indexOf(M),1)}function p(M,s,E){for(var w,_,D,N=0;N<2;++N)if(y[N][s].length>0){w=y[N][s][0],D=N;break}_=w[D^1];for(var z=0;z<2;++z)for(var F=y[z][s],U=0;U<F.length;++U){var B=F[U],V=B[z^1],j=t(f[M],f[s],f[_],f[V]);j>0&&(w=B,_=V,D=z)}return E||w&&o(w,D),_}function x(M,s){var E=y[s][M][0],w=[M];o(E,s);for(var _=E[s^1];;){for(;_!==M;)w.push(_),_=p(w[w.length-2],_,!1);if(y[0][M].length+y[1][M].length===0)break;var D=w[w.length-1],N=M,z=w[1],F=p(D,N,!0);if(t(f[D],f[N],f[z],f[F])<0)break;w.push(M),_=p(D,N)}return w}function b(M,s){return s[1]===s[s.length-1]}for(var h=0;h<u;++h)for(var P=0;P<2;++P){for(var m=[];y[P][h].length>0;){y[0][h].length;var L=x(h,P);b(m,L)?m.push.apply(m,L):(m.length>0&&c.push(m),m=L)}m.length>0&&c.push(m)}return c}},5609:function(v,d,r){v.exports=a;var t=r(3134);function a(n,f){for(var u=t(n,f.length),l=new Array(f.length),y=new Array(f.length),h=[],T=0;T<f.length;++T){var c=u[T].length;y[T]=c,l[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var o=h.pop();l[o]=!1;for(var p=u[o],T=0;T<p.length;++T){var x=p[T];--y[x]===0&&h.push(x)}}for(var b=new Array(f.length),P=[],T=0;T<f.length;++T)if(l[T]){var o=P.length;b[T]=o,P.push(f[T])}else b[T]=-1;for(var m=[],T=0;T<n.length;++T){var L=n[T];l[L[0]]&&l[L[1]]&&m.push([b[L[0]],b[L[1]]])}return[m,P]}},2095:function(v,d,r){v.exports=c;var t=r(3134),a=r(3088),n=r(5085),f=r(5250),u=r(8210),l=r(1682),y=r(5609);function h(o,p){for(var x=new Array(o),b=0;b<o;++b)x[b]=p;return x}function T(o){for(var p=new Array(o),x=0;x<o;++x)p[x]=[];return p}function c(o,p){var $=y(o,p);o=$[0],p=$[1];var x=p.length;o.length;for(var b=t(o,p.length),P=0;P<x;++P)if(b[P].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=a(o,p);function L(Pe){for(var be=Pe.length,Ee=[0],xe=0;xe<be;++xe){var Ce=p[Pe[xe]],Ue=p[Pe[(xe+1)%be]],Ne=f(-Ce[0],Ce[1]),De=f(-Ce[0],Ue[1]),He=f(Ue[0],Ce[1]),at=f(Ue[0],Ue[1]);Ee=u(Ee,u(u(Ne,De),u(He,at)))}return Ee[Ee.length-1]>0}m=m.filter(L);for(var M=m.length,s=new Array(M),E=new Array(M),P=0;P<M;++P){s[P]=P;var w=new Array(M),_=m[P].map(function(be){return p[be]}),D=n([_]),N=0;e:for(var z=0;z<M;++z)if(w[z]=0,P!==z){for(var F=m[z],U=F.length,B=0;B<U;++B){var V=D(p[F[B]]);if(V!==0){V<0&&(w[z]=1,N+=1);continue e}}w[z]=1,N+=1}E[P]=[N,P,w]}E.sort(function(Pe,be){return be[0]-Pe[0]});for(var P=0;P<M;++P)for(var w=E[P],j=w[1],Q=w[2],z=0;z<M;++z)Q[z]&&(s[z]=j);for(var ee=T(M),P=0;P<M;++P)ee[P].push(s[P]),ee[s[P]].push(P);for(var re={},ue=h(x,!1),P=0;P<M;++P)for(var F=m[P],U=F.length,z=0;z<U;++z){var J=F[z],X=F[(z+1)%U],ne=Math.min(J,X)+":"+Math.max(J,X);if(ne in re){var Y=re[ne];ee[Y].push(P),ee[P].push(Y),ue[J]=ue[X]=!0}else re[ne]=P}function oe(Pe){for(var be=Pe.length,Ee=0;Ee<be;++Ee)if(!ue[Pe[Ee]])return!1;return!0}for(var le=[],Z=h(M,-1),P=0;P<M;++P)s[P]===P&&!oe(m[P])?(le.push(P),Z[P]=0):Z[P]=-1;for(var $=[];le.length>0;){var se=le.pop(),ae=ee[se];l(ae,function(Pe,be){return Pe-be});var he=ae.length,me=Z[se],Me;if(me===0){var F=m[se];Me=[F]}for(var P=0;P<he;++P){var Te=ae[P];if(!(Z[Te]>=0)&&(Z[Te]=me^1,le.push(Te),me===0)){var F=m[Te];oe(F)||(F.reverse(),Me.push(F))}}me===0&&$.push(Me)}return $}},5085:function(v,d,r){v.exports=p;var t=r(3250)[3],a=r(4209),n=r(3352),f=r(2478);function u(){return!0}function l(x){return function(b,P){var m=x[b];return m?!!m.queryPoint(P,u):!1}}function y(x){for(var b={},P=0;P<x.length;++P){var m=x[P],L=m[0][0],M=m[0][1],s=m[1][1],E=[Math.min(M,s),Math.max(M,s)];L in b?b[L].push(E):b[L]=[E]}for(var w={},_=Object.keys(b),P=0;P<_.length;++P){var D=b[_[P]];w[_[P]]=n(D)}return l(w)}function h(x,b){return function(P){var m=f.le(b,P[0]);if(m<0)return 1;var L=x[m];if(!L)if(m>0&&b[m]===P[0])L=x[m-1];else return 1;for(var M=1;L;){var s=L.key,E=t(P,s[0],s[1]);if(s[0][0]<s[1][0])if(E<0)L=L.left;else if(E>0)M=-1,L=L.right;else return 0;else if(E>0)L=L.left;else if(E<0)M=1,L=L.right;else return 0}return M}}function T(x){return 1}function c(x){return function(P){return x(P[0],P[1])?0:1}}function o(x,b){return function(m){return x(m[0],m[1])?0:b(m)}}function p(x){for(var b=x.length,P=[],m=[],L=0;L<b;++L)for(var M=x[L],s=M.length,E=s-1,w=0;w<s;E=w++){var _=M[E],D=M[w];_[0]===D[0]?m.push([_,D]):P.push([_,D])}if(P.length===0)return m.length===0?T:c(y(m));var N=a(P),z=h(N.slabs,N.coordinates);return m.length===0?z:o(y(m),z)}},9346:function(v){var d=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function a(n,f,u,l,y){d.length<l.length&&(d=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)d[h]=n[h]-l[h],r[h]=f[h]-n[h],t[h]=u[h]-n[h];for(var T=0,c=0,o=0,p=0,x=0,b=0,h=0;h<l.length;++h){var P=r[h],m=t[h],L=d[h];T+=P*P,c+=P*m,o+=m*m,p+=L*P,x+=L*m,b+=L*L}var M=Math.abs(T*o-c*c),s=c*x-o*p,E=c*p-T*x,w;if(s+E<=M)if(s<0)E<0&&p<0?(E=0,-p>=T?(s=1,w=T+2*p+b):(s=-p/T,w=p*s+b)):(s=0,x>=0?(E=0,w=b):-x>=o?(E=1,w=o+2*x+b):(E=-x/o,w=x*E+b));else if(E<0)E=0,p>=0?(s=0,w=b):-p>=T?(s=1,w=T+2*p+b):(s=-p/T,w=p*s+b);else{var _=1/M;s*=_,E*=_,w=s*(T*s+c*E+2*p)+E*(c*s+o*E+2*x)+b}else{var D,N,z,F;s<0?(D=c+p,N=o+x,N>D?(z=N-D,F=T-2*c+o,z>=F?(s=1,E=0,w=T+2*p+b):(s=z/F,E=1-s,w=s*(T*s+c*E+2*p)+E*(c*s+o*E+2*x)+b)):(s=0,N<=0?(E=1,w=o+2*x+b):x>=0?(E=0,w=b):(E=-x/o,w=x*E+b))):E<0?(D=c+x,N=T+p,N>D?(z=N-D,F=T-2*c+o,z>=F?(E=1,s=0,w=o+2*x+b):(E=z/F,s=1-E,w=s*(T*s+c*E+2*p)+E*(c*s+o*E+2*x)+b)):(E=0,N<=0?(s=1,w=T+2*p+b):p>=0?(s=0,w=b):(s=-p/T,w=p*s+b))):(z=o+x-c-p,z<=0?(s=0,E=1,w=o+2*x+b):(F=T-2*c+o,z>=F?(s=1,E=0,w=T+2*p+b):(s=z/F,E=1-s,w=s*(T*s+c*E+2*p)+E*(c*s+o*E+2*x)+b)))}for(var U=1-s-E,h=0;h<l.length;++h)y[h]=U*n[h]+s*f[h]+E*u[h];return w<0?0:w}v.exports=a},8648:function(v,d,r){v.exports=r(783)},2653:function(v,d,r){var t=r(3865);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),y=0;y<u;++y)l[y]=t(n[y],f[y]);return l}},5838:function(v,d,r){v.exports=a;var t=r(7842);function a(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},8987:function(v,d,r){var t=r(7842),a=r(6504);v.exports=n;function n(f,u){for(var l=t(u),y=f.length,h=new Array(y),T=0;T<y;++T)h[T]=a(f[T],l);return h}},544:function(v,d,r){var t=r(5572);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),y=0;y<u;++y)l[y]=t(n[y],f[y]);return l}},5771:function(v,d,r){var t=r(8507),a=r(3788),n=r(2419);v.exports=f;function f(u){u.sort(a);for(var l=u.length,y=0,h=0;h<l;++h){var T=u[h],c=n(T);if(c!==0){if(y>0){var o=u[y-1];if(t(T,o)===0&&n(o)!==c){y-=1;continue}}u[y++]=T}}return u.length=y,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var d="",r;v.exports=t;function t(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var f=a.length*n;if(r!==a||typeof r>"u")r=a,d="";else if(d.length>=f)return d.substr(0,f);for(;f>d.length&&n>1;)n&1&&(d+=a),n>>=1,a+=a;return d+=a,d=d.substr(0,f),d}},3025:function(v,d,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=d;function d(r){for(var t=r.length,a=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=a,l=r[f];a=u+l;var y=a-u,h=l-y;h&&(r[--n]=a,a=h)}for(var T=0,f=n;f<t;++f){var u=r[f],l=a;a=u+l;var y=a-u,h=l-y;h&&(r[T++]=h)}return r[T++]=a,r.length=T,r}},2962:function(v,d,r){var t=r(5250),a=r(8210),n=r(3012),f=r(7004),u=6;function l(b,P,m,L){return function(s){return L(b(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(b,P,m,L){return function(s){return L(b(P(b(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),b(P(b(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),P(b(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function h(b,P,m,L){return function(s){return L(b(b(P(b(P(b(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),b(P(b(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),P(b(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),P(b(P(b(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),b(P(b(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),P(b(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),b(P(b(P(b(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),b(P(b(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),P(b(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),P(b(P(b(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),b(P(b(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),P(b(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(b,P,m,L){return function(s){return L(b(b(P(b(b(P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),b(P(b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),P(b(P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),b(P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),P(b(b(P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),b(P(b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),P(b(P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),b(P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),b(P(b(b(P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),P(b(P(b(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),b(P(b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),P(b(P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),b(P(b(b(P(b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),P(b(P(b(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),b(P(b(P(b(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),P(b(P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),P(b(b(P(b(P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),b(P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),P(b(P(b(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),b(P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),b(P(b(P(b(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),P(b(P(b(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),b(P(b(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),P(b(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(b){var P=b===2?l:b===3?y:b===4?h:b===5?T:void 0;return P(a,n,t,f)}var o=[function(){return[0]},function(P){return[P[0][0]]}];function p(b,P,m,L,M,s,E,w){return function(D){switch(D.length){case 0:return b(D);case 1:return P(D);case 2:return m(D);case 3:return L(D);case 4:return M(D);case 5:return s(D)}var N=E[D.length];return N||(N=E[D.length]=w(D.length)),N(D)}}function x(){for(;o.length<u;)o.push(c(o.length));v.exports=p.apply(void 0,o.concat([o,c]));for(var b=0;b<o.length;++b)v.exports[b]=o[b]}x()},1944:function(v,d,r){var t=r(5250),a=r(8210);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),y=1;y<f.length;++y)l=a(l,t(f[y],u[y]));return l}},2646:function(v,d,r){var t=r(5250),a=r(8210),n=r(8545),f=r(3012),u=6;function l(M){var s=M===3?c:M===4?o:M===5?p:x;return s(a,n,t,f)}function y(){return 0}function h(){return 0}function T(){return 0}function c(M,s,E,w){function _(D,N,z){var F=E(D[0],D[0]),U=w(F,N[0]),B=w(F,z[0]),V=E(N[0],N[0]),j=w(V,D[0]),Q=w(V,z[0]),ee=E(z[0],z[0]),re=w(ee,D[0]),ue=w(ee,N[0]),J=M(s(ue,Q),s(j,U)),X=s(re,B),ne=s(J,X);return ne[ne.length-1]}return _}function o(M,s,E,w){function _(D,N,z,F){var U=M(E(D[0],D[0]),E(D[1],D[1])),B=w(U,N[0]),V=w(U,z[0]),j=w(U,F[0]),Q=M(E(N[0],N[0]),E(N[1],N[1])),ee=w(Q,D[0]),re=w(Q,z[0]),ue=w(Q,F[0]),J=M(E(z[0],z[0]),E(z[1],z[1])),X=w(J,D[0]),ne=w(J,N[0]),Y=w(J,F[0]),oe=M(E(F[0],F[0]),E(F[1],F[1])),le=w(oe,D[0]),Z=w(oe,N[0]),$=w(oe,z[0]),se=M(M(w(s($,Y),N[1]),M(w(s(Z,ue),-z[1]),w(s(ne,re),F[1]))),M(w(s(Z,ue),D[1]),M(w(s(le,j),-N[1]),w(s(ee,B),F[1])))),ae=M(M(w(s($,Y),D[1]),M(w(s(le,j),-z[1]),w(s(X,V),F[1]))),M(w(s(ne,re),D[1]),M(w(s(X,V),-N[1]),w(s(ee,B),z[1])))),he=s(se,ae);return he[he.length-1]}return _}function p(M,s,E,w){function _(D,N,z,F,U){var B=M(E(D[0],D[0]),M(E(D[1],D[1]),E(D[2],D[2]))),V=w(B,N[0]),j=w(B,z[0]),Q=w(B,F[0]),ee=w(B,U[0]),re=M(E(N[0],N[0]),M(E(N[1],N[1]),E(N[2],N[2]))),ue=w(re,D[0]),J=w(re,z[0]),X=w(re,F[0]),ne=w(re,U[0]),Y=M(E(z[0],z[0]),M(E(z[1],z[1]),E(z[2],z[2]))),oe=w(Y,D[0]),le=w(Y,N[0]),Z=w(Y,F[0]),$=w(Y,U[0]),se=M(E(F[0],F[0]),M(E(F[1],F[1]),E(F[2],F[2]))),ae=w(se,D[0]),he=w(se,N[0]),me=w(se,z[0]),Me=w(se,U[0]),Te=M(E(U[0],U[0]),M(E(U[1],U[1]),E(U[2],U[2]))),Pe=w(Te,D[0]),be=w(Te,N[0]),Ee=w(Te,z[0]),xe=w(Te,F[0]),Ce=M(M(M(w(M(w(s(xe,Me),z[1]),M(w(s(Ee,$),-F[1]),w(s(me,Z),U[1]))),N[2]),M(w(M(w(s(xe,Me),N[1]),M(w(s(be,ne),-F[1]),w(s(he,X),U[1]))),-z[2]),w(M(w(s(Ee,$),N[1]),M(w(s(be,ne),-z[1]),w(s(le,J),U[1]))),F[2]))),M(w(M(w(s(me,Z),N[1]),M(w(s(he,X),-z[1]),w(s(le,J),F[1]))),-U[2]),M(w(M(w(s(xe,Me),N[1]),M(w(s(be,ne),-F[1]),w(s(he,X),U[1]))),D[2]),w(M(w(s(xe,Me),D[1]),M(w(s(Pe,ee),-F[1]),w(s(ae,Q),U[1]))),-N[2])))),M(M(w(M(w(s(be,ne),D[1]),M(w(s(Pe,ee),-N[1]),w(s(ue,V),U[1]))),F[2]),M(w(M(w(s(he,X),D[1]),M(w(s(ae,Q),-N[1]),w(s(ue,V),F[1]))),-U[2]),w(M(w(s(me,Z),N[1]),M(w(s(he,X),-z[1]),w(s(le,J),F[1]))),D[2]))),M(w(M(w(s(me,Z),D[1]),M(w(s(ae,Q),-z[1]),w(s(oe,j),F[1]))),-N[2]),M(w(M(w(s(he,X),D[1]),M(w(s(ae,Q),-N[1]),w(s(ue,V),F[1]))),z[2]),w(M(w(s(le,J),D[1]),M(w(s(oe,j),-N[1]),w(s(ue,V),z[1]))),-F[2]))))),Ue=M(M(M(w(M(w(s(xe,Me),z[1]),M(w(s(Ee,$),-F[1]),w(s(me,Z),U[1]))),D[2]),w(M(w(s(xe,Me),D[1]),M(w(s(Pe,ee),-F[1]),w(s(ae,Q),U[1]))),-z[2])),M(w(M(w(s(Ee,$),D[1]),M(w(s(Pe,ee),-z[1]),w(s(oe,j),U[1]))),F[2]),w(M(w(s(me,Z),D[1]),M(w(s(ae,Q),-z[1]),w(s(oe,j),F[1]))),-U[2]))),M(M(w(M(w(s(Ee,$),N[1]),M(w(s(be,ne),-z[1]),w(s(le,J),U[1]))),D[2]),w(M(w(s(Ee,$),D[1]),M(w(s(Pe,ee),-z[1]),w(s(oe,j),U[1]))),-N[2])),M(w(M(w(s(be,ne),D[1]),M(w(s(Pe,ee),-N[1]),w(s(ue,V),U[1]))),z[2]),w(M(w(s(le,J),D[1]),M(w(s(oe,j),-N[1]),w(s(ue,V),z[1]))),-U[2])))),Ne=s(Ce,Ue);return Ne[Ne.length-1]}return _}function x(M,s,E,w){function _(D,N,z,F,U,B){var V=M(M(E(D[0],D[0]),E(D[1],D[1])),M(E(D[2],D[2]),E(D[3],D[3]))),j=w(V,N[0]),Q=w(V,z[0]),ee=w(V,F[0]),re=w(V,U[0]),ue=w(V,B[0]),J=M(M(E(N[0],N[0]),E(N[1],N[1])),M(E(N[2],N[2]),E(N[3],N[3]))),X=w(J,D[0]),ne=w(J,z[0]),Y=w(J,F[0]),oe=w(J,U[0]),le=w(J,B[0]),Z=M(M(E(z[0],z[0]),E(z[1],z[1])),M(E(z[2],z[2]),E(z[3],z[3]))),$=w(Z,D[0]),se=w(Z,N[0]),ae=w(Z,F[0]),he=w(Z,U[0]),me=w(Z,B[0]),Me=M(M(E(F[0],F[0]),E(F[1],F[1])),M(E(F[2],F[2]),E(F[3],F[3]))),Te=w(Me,D[0]),Pe=w(Me,N[0]),be=w(Me,z[0]),Ee=w(Me,U[0]),xe=w(Me,B[0]),Ce=M(M(E(U[0],U[0]),E(U[1],U[1])),M(E(U[2],U[2]),E(U[3],U[3]))),Ue=w(Ce,D[0]),Ne=w(Ce,N[0]),De=w(Ce,z[0]),He=w(Ce,F[0]),at=w(Ce,B[0]),vt=M(M(E(B[0],B[0]),E(B[1],B[1])),M(E(B[2],B[2]),E(B[3],B[3]))),ot=w(vt,D[0]),et=w(vt,N[0]),ct=w(vt,z[0]),ht=w(vt,F[0]),gt=w(vt,U[0]),xt=M(M(M(w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),z[2]),w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),-F[2])),M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),U[2]),w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),-B[2]))),N[3]),M(w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),N[2]),w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),-F[2])),M(w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),U[2]),w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),-B[2]))),-z[3]),w(M(M(w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),N[2]),w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),-z[2])),M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),U[2]),w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),-B[2]))),F[3]))),M(M(w(M(M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),N[2]),w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),-z[2])),M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),F[2]),w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),-B[2]))),-U[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),N[2]),w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),-z[2])),M(w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),F[2]),w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),-U[2]))),B[3])),M(w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),N[2]),w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),-F[2])),M(w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),U[2]),w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),-B[2]))),D[3]),w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-F[2])),M(w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),U[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-B[2]))),-N[3])))),M(M(M(w(M(M(w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),U[2]),w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),-B[2]))),F[3]),w(M(M(w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),D[2]),w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),F[2]),w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),-B[2]))),-U[3])),M(w(M(M(w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),D[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-N[2])),M(w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),F[2]),w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),-U[2]))),B[3]),w(M(M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),N[2]),w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),-z[2])),M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),F[2]),w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),-B[2]))),D[3]))),M(M(w(M(M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),D[2]),w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),-z[2])),M(w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),F[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-B[2]))),-N[3]),w(M(M(w(M(w(s(ht,xe),N[1]),M(w(s(et,le),-F[1]),w(s(Pe,Y),B[1]))),D[2]),w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),F[2]),w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),-B[2]))),z[3])),M(w(M(M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),D[2]),w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-B[2]))),-F[3]),w(M(M(w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),D[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-N[2])),M(w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-F[2]))),B[3]))))),Mt=M(M(M(w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),z[2]),w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),-F[2])),M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),U[2]),w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),-B[2]))),D[3]),M(w(M(M(w(M(w(s(gt,at),F[1]),M(w(s(ht,xe),-U[1]),w(s(He,Ee),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-F[2])),M(w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),U[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-B[2]))),-z[3]),w(M(M(w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-z[2])),M(w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),U[2]),w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),-B[2]))),F[3]))),M(M(w(M(M(w(M(w(s(ht,xe),z[1]),M(w(s(ct,me),-F[1]),w(s(be,ae),B[1]))),D[2]),w(M(w(s(ht,xe),D[1]),M(w(s(ot,ue),-F[1]),w(s(Te,ee),B[1]))),-z[2])),M(w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),F[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-B[2]))),-U[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),D[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-z[2])),M(w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),F[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-U[2]))),B[3])),M(w(M(M(w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),N[2]),w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),-z[2])),M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),U[2]),w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),-B[2]))),D[3]),w(M(M(w(M(w(s(gt,at),z[1]),M(w(s(ct,me),-U[1]),w(s(De,he),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-z[2])),M(w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),U[2]),w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),-B[2]))),-N[3])))),M(M(M(w(M(M(w(M(w(s(gt,at),N[1]),M(w(s(et,le),-U[1]),w(s(Ne,oe),B[1]))),D[2]),w(M(w(s(gt,at),D[1]),M(w(s(ot,ue),-U[1]),w(s(Ue,re),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),U[2]),w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),-B[2]))),z[3]),w(M(M(w(M(w(s(ct,me),N[1]),M(w(s(et,le),-z[1]),w(s(se,ne),B[1]))),D[2]),w(M(w(s(ct,me),D[1]),M(w(s(ot,ue),-z[1]),w(s($,Q),B[1]))),-N[2])),M(w(M(w(s(et,le),D[1]),M(w(s(ot,ue),-N[1]),w(s(X,j),B[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-B[2]))),-U[3])),M(w(M(M(w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),D[2]),w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),-N[2])),M(w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-U[2]))),B[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),N[2]),w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),-z[2])),M(w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),F[2]),w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),-U[2]))),D[3]))),M(M(w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(De,he),-F[1]),w(s(be,ae),U[1]))),D[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-z[2])),M(w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),F[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-U[2]))),-N[3]),w(M(M(w(M(w(s(He,Ee),N[1]),M(w(s(Ne,oe),-F[1]),w(s(Pe,Y),U[1]))),D[2]),w(M(w(s(He,Ee),D[1]),M(w(s(Ue,re),-F[1]),w(s(Te,ee),U[1]))),-N[2])),M(w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),F[2]),w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),-U[2]))),z[3])),M(w(M(M(w(M(w(s(De,he),N[1]),M(w(s(Ne,oe),-z[1]),w(s(se,ne),U[1]))),D[2]),w(M(w(s(De,he),D[1]),M(w(s(Ue,re),-z[1]),w(s($,Q),U[1]))),-N[2])),M(w(M(w(s(Ne,oe),D[1]),M(w(s(Ue,re),-N[1]),w(s(X,j),U[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-U[2]))),-F[3]),w(M(M(w(M(w(s(be,ae),N[1]),M(w(s(Pe,Y),-z[1]),w(s(se,ne),F[1]))),D[2]),w(M(w(s(be,ae),D[1]),M(w(s(Te,ee),-z[1]),w(s($,Q),F[1]))),-N[2])),M(w(M(w(s(Pe,Y),D[1]),M(w(s(Te,ee),-N[1]),w(s(X,j),F[1]))),z[2]),w(M(w(s(se,ne),D[1]),M(w(s($,Q),-N[1]),w(s(X,j),z[1]))),-F[2]))),U[3]))))),tt=s(xt,Mt);return tt[tt.length-1]}return _}var b=[y,h,T];function P(M){var s=b[M.length];return s||(s=b[M.length]=l(M.length)),s.apply(void 0,M)}function m(M,s,E,w,_,D,N,z){function F(U,B,V,j,Q,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return w(U,B);case 3:return _(U,B,V);case 4:return D(U,B,V,j);case 5:return N(U,B,V,j,Q);case 6:return z(U,B,V,j,Q,ee)}for(var re=new Array(arguments.length),ue=0;ue<arguments.length;++ue)re[ue]=arguments[ue];return M(re)}return F}function L(){for(;b.length<=u;)b.push(l(b.length));v.exports=m.apply(void 0,[P].concat(b));for(var M=0;M<=u;++M)v.exports[M]=b[M]}L()},727:function(v,d,r){var t=r(2962),a=6;function n(b){var P=b===2?l:b===3?y:b===4?h:b===5?T:c;return b<6?P(t[b]):P(t)}function f(){return[[0]]}function u(b,P){return[[P[0]],[b[0][0]]]}function l(b){return function(m,L){return[b([[+L[0],+m[0][1]],[+L[1],+m[1][1]]]),b([[+m[0][0],+L[0]],[+m[1][0],+L[1]]]),b(m)]}}function y(b){return function(m,L){return[b([[+L[0],+m[0][1],+m[0][2]],[+L[1],+m[1][1],+m[1][2]],[+L[2],+m[2][1],+m[2][2]]]),b([[+m[0][0],+L[0],+m[0][2]],[+m[1][0],+L[1],+m[1][2]],[+m[2][0],+L[2],+m[2][2]]]),b([[+m[0][0],+m[0][1],+L[0]],[+m[1][0],+m[1][1],+L[1]],[+m[2][0],+m[2][1],+L[2]]]),b(m)]}}function h(b){return function(m,L){return[b([[+L[0],+m[0][1],+m[0][2],+m[0][3]],[+L[1],+m[1][1],+m[1][2],+m[1][3]],[+L[2],+m[2][1],+m[2][2],+m[2][3]],[+L[3],+m[3][1],+m[3][2],+m[3][3]]]),b([[+m[0][0],+L[0],+m[0][2],+m[0][3]],[+m[1][0],+L[1],+m[1][2],+m[1][3]],[+m[2][0],+L[2],+m[2][2],+m[2][3]],[+m[3][0],+L[3],+m[3][2],+m[3][3]]]),b([[+m[0][0],+m[0][1],+L[0],+m[0][3]],[+m[1][0],+m[1][1],+L[1],+m[1][3]],[+m[2][0],+m[2][1],+L[2],+m[2][3]],[+m[3][0],+m[3][1],+L[3],+m[3][3]]]),b([[+m[0][0],+m[0][1],+m[0][2],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+L[3]]]),b(m)]}}function T(b){return function(m,L){return[b([[+L[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+L[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+L[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+L[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+L[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),b([[+m[0][0],+L[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+L[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+L[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+L[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+L[4],+m[4][2],+m[4][3],+m[4][4]]]),b([[+m[0][0],+m[0][1],+L[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+L[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+L[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+L[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+L[4],+m[4][3],+m[4][4]]]),b([[+m[0][0],+m[0][1],+m[0][2],+L[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+L[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+L[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+L[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+L[4],+m[4][4]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+L[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+L[4]]]),b(m)]}}function c(b){return function(m,L){return[b([[+L[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+L[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+L[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+L[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+L[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+L[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+L[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+L[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+L[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+L[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+L[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+L[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+L[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+L[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+L[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+L[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+L[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+L[5],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+L[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+L[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+L[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+L[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+L[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+L[5],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+L[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+L[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+L[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+L[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+L[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+L[5],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+L[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+L[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+L[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+L[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+L[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+L[5]]]),b(m)]}}var o=[f,u];function p(b,P,m,L,M,s,E,w){return function(D,N){switch(D.length){case 0:return b(D,N);case 1:return P(D,N);case 2:return m(D,N);case 3:return L(D,N);case 4:return M(D,N);case 5:return s(D,N)}var z=E[D.length];return z||(z=E[D.length]=w(D.length)),z(D,N)}}function x(){for(;o.length<a;)o.push(n(o.length));v.exports=p.apply(void 0,o.concat([o,n]));for(var b=0;b<a;++b)v.exports[b]=o[b]}x()},3250:function(v,d,r){var t=r(5250),a=r(8210),n=r(3012),f=r(8545),u=5,l=11102230246251565e-32,y=(3+16*l)*l,h=(7+56*l)*l;function T(s,E,w,_){return function(N,z,F){var U=s(s(E(z[1],F[0]),E(-F[1],z[0])),s(E(N[1],z[0]),E(-z[1],N[0]))),B=s(E(N[1],F[0]),E(-F[1],N[0])),V=_(U,B);return V[V.length-1]}}function c(s,E,w,_){return function(N,z,F,U){var B=s(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),z[2]),s(w(s(E(z[1],U[0]),E(-U[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]))),s(w(s(E(z[1],U[0]),E(-U[1],z[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),U[2])))),V=s(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-F[2]),w(s(E(N[1],F[0]),E(-F[1],N[0])),U[2]))),s(w(s(E(z[1],F[0]),E(-F[1],z[0])),N[2]),s(w(s(E(N[1],F[0]),E(-F[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),F[2])))),j=_(B,V);return j[j.length-1]}}function o(s,E,w,_){return function(N,z,F,U,B){var V=s(s(s(w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),F[2]),s(w(s(E(F[1],B[0]),E(-B[1],F[0])),-U[2]),w(s(E(F[1],U[0]),E(-U[1],F[0])),B[2]))),z[3]),s(w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-U[2]),w(s(E(z[1],U[0]),E(-U[1],z[0])),B[2]))),-F[3]),w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),U[3]))),s(w(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),z[2]),s(w(s(E(z[1],U[0]),E(-U[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]))),-B[3]),s(w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-U[2]),w(s(E(z[1],U[0]),E(-U[1],z[0])),B[2]))),N[3]),w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-U[2]),w(s(E(N[1],U[0]),E(-U[1],N[0])),B[2]))),-z[3])))),s(s(w(s(w(s(E(z[1],B[0]),E(-B[1],z[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),B[2]))),U[3]),s(w(s(w(s(E(z[1],U[0]),E(-U[1],z[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),U[2]))),-B[3]),w(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),z[2]),s(w(s(E(z[1],U[0]),E(-U[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]))),N[3]))),s(w(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-F[2]),w(s(E(N[1],F[0]),E(-F[1],N[0])),U[2]))),-z[3]),s(w(s(w(s(E(z[1],U[0]),E(-U[1],z[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),U[2]))),F[3]),w(s(w(s(E(z[1],F[0]),E(-F[1],z[0])),N[2]),s(w(s(E(N[1],F[0]),E(-F[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),F[2]))),-U[3]))))),j=s(s(s(w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),F[2]),s(w(s(E(F[1],B[0]),E(-B[1],F[0])),-U[2]),w(s(E(F[1],U[0]),E(-U[1],F[0])),B[2]))),N[3]),w(s(w(s(E(U[1],B[0]),E(-B[1],U[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-U[2]),w(s(E(N[1],U[0]),E(-U[1],N[0])),B[2]))),-F[3])),s(w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-F[2]),w(s(E(N[1],F[0]),E(-F[1],N[0])),B[2]))),U[3]),w(s(w(s(E(F[1],U[0]),E(-U[1],F[0])),N[2]),s(w(s(E(N[1],U[0]),E(-U[1],N[0])),-F[2]),w(s(E(N[1],F[0]),E(-F[1],N[0])),U[2]))),-B[3]))),s(s(w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),N[3]),w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-F[2]),w(s(E(N[1],F[0]),E(-F[1],N[0])),B[2]))),-z[3])),s(w(s(w(s(E(z[1],B[0]),E(-B[1],z[0])),N[2]),s(w(s(E(N[1],B[0]),E(-B[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),B[2]))),F[3]),w(s(w(s(E(z[1],F[0]),E(-F[1],z[0])),N[2]),s(w(s(E(N[1],F[0]),E(-F[1],N[0])),-z[2]),w(s(E(N[1],z[0]),E(-z[1],N[0])),F[2]))),-B[3])))),Q=_(V,j);return Q[Q.length-1]}}function p(s){var E=s===3?T:s===4?c:o;return E(a,t,n,f)}var x=p(3),b=p(4),P=[function(){return 0},function(){return 0},function(E,w){return w[0]-E[0]},function(E,w,_){var D=(E[1]-_[1])*(w[0]-_[0]),N=(E[0]-_[0])*(w[1]-_[1]),z=D-N,F;if(D>0){if(N<=0)return z;F=D+N}else if(D<0){if(N>=0)return z;F=-(D+N)}else return z;var U=y*F;return z>=U||z<=-U?z:x(E,w,_)},function(E,w,_,D){var N=E[0]-D[0],z=w[0]-D[0],F=_[0]-D[0],U=E[1]-D[1],B=w[1]-D[1],V=_[1]-D[1],j=E[2]-D[2],Q=w[2]-D[2],ee=_[2]-D[2],re=z*V,ue=F*B,J=F*U,X=N*V,ne=N*B,Y=z*U,oe=j*(re-ue)+Q*(J-X)+ee*(ne-Y),le=(Math.abs(re)+Math.abs(ue))*Math.abs(j)+(Math.abs(J)+Math.abs(X))*Math.abs(Q)+(Math.abs(ne)+Math.abs(Y))*Math.abs(ee),Z=h*le;return oe>Z||-oe>Z?oe:b(E,w,_,D)}];function m(s){var E=P[s.length];return E||(E=P[s.length]=p(s.length)),E.apply(void 0,s)}function L(s,E,w,_,D,N,z){return function(U,B,V,j,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return _(U,B);case 3:return D(U,B,V);case 4:return N(U,B,V,j);case 5:return z(U,B,V,j,Q)}for(var ee=new Array(arguments.length),re=0;re<arguments.length;++re)ee[re]=arguments[re];return s(ee)}}function M(){for(;P.length<=u;)P.push(p(P.length));v.exports=L.apply(void 0,[m].concat(P));for(var s=0;s<=u;++s)v.exports[s]=P[s]}M()},5382:function(v,d,r){var t=r(8210),a=r(3012);v.exports=n;function n(f,u){if(f.length===1)return a(u,f[0]);if(u.length===1)return a(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var y=0;y<f.length;++y)l=t(l,a(u,f[y]));else for(var y=0;y<u.length;++y)l=t(l,a(f,u[y]));return l}},3012:function(v,d,r){var t=r(5250),a=r(9362);v.exports=n;function n(f,u){var l=f.length;if(l===1){var y=t(f[0],u);return y[0]?y:[y[1]]}var h=new Array(2*l),T=[.1,.1],c=[.1,.1],o=0;t(f[0],u,T),T[0]&&(h[o++]=T[0]);for(var p=1;p<l;++p){t(f[p],u,c);var x=T[1];a(x,c[0],T),T[0]&&(h[o++]=T[0]);var b=c[1],P=T[1],m=b+P,L=m-b,M=P-L;T[1]=m,M&&(h[o++]=M)}return T[1]&&(h[o++]=T[1]),o===0&&(h[o++]=0),h.length=o,h}},1125:function(v,d,r){v.exports=n;var t=r(3250)[3];function a(f,u,l,y){for(var h=0;h<2;++h){var T=f[h],c=u[h],o=Math.min(T,c),p=Math.max(T,c),x=l[h],b=y[h],P=Math.min(x,b),m=Math.max(x,b);if(m<o||p<P)return!1}return!0}function n(f,u,l,y){var h=t(f,l,y),T=t(u,l,y);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(l,f,u),o=t(y,f,u);return c>0&&o>0||c<0&&o<0?!1:h===0&&T===0&&c===0&&o===0?a(f,u,l,y):!0}},8545:function(v){v.exports=r;function d(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,y=t-u,h=y+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return d(t[0],-a[0]);var u=n+f,l=new Array(u),y=0,h=0,T=0,c=Math.abs,o=t[h],p=c(o),x=-a[T],b=c(x),P,m;p<b?(m=o,h+=1,h<n&&(o=t[h],p=c(o))):(m=x,T+=1,T<f&&(x=-a[T],b=c(x))),h<n&&p<b||T>=f?(P=o,h+=1,h<n&&(o=t[h],p=c(o))):(P=x,T+=1,T<f&&(x=-a[T],b=c(x)));for(var L=P+m,M=L-P,s=m-M,E=s,w=L,_,D,N,z,F;h<n&&T<f;)p<b?(P=o,h+=1,h<n&&(o=t[h],p=c(o))):(P=x,T+=1,T<f&&(x=-a[T],b=c(x))),m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_;for(;h<n;)P=o,m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_,h+=1,h<n&&(o=t[h]);for(;T<f;)P=x,m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_,T+=1,T<f&&(x=-a[T]);return E&&(l[y++]=E),w&&(l[y++]=w),y||(l[y++]=0),l.length=y,l}},8210:function(v){v.exports=r;function d(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,y=t-u,h=y+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return d(t[0],a[0]);var u=n+f,l=new Array(u),y=0,h=0,T=0,c=Math.abs,o=t[h],p=c(o),x=a[T],b=c(x),P,m;p<b?(m=o,h+=1,h<n&&(o=t[h],p=c(o))):(m=x,T+=1,T<f&&(x=a[T],b=c(x))),h<n&&p<b||T>=f?(P=o,h+=1,h<n&&(o=t[h],p=c(o))):(P=x,T+=1,T<f&&(x=a[T],b=c(x)));for(var L=P+m,M=L-P,s=m-M,E=s,w=L,_,D,N,z,F;h<n&&T<f;)p<b?(P=o,h+=1,h<n&&(o=t[h],p=c(o))):(P=x,T+=1,T<f&&(x=a[T],b=c(x))),m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_;for(;h<n;)P=o,m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_,h+=1,h<n&&(o=t[h]);for(;T<f;)P=x,m=E,L=P+m,M=L-P,s=m-M,s&&(l[y++]=s),_=w+L,D=_-w,N=_-D,z=L-D,F=w-N,E=F+z,w=_,T+=1,T<f&&(x=a[T]);return E&&(l[y++]=E),w&&(l[y++]=w),y||(l[y++]=0),l.length=y,l}},9127:function(v,d,r){v.exports=n;var t=r(6204),a=r(5771);function n(f){return a(t(f))}},7765:function(v,d,r){v.exports=o;var t=r(9618),a=r(1888),n=r(446),f=r(1570);function u(p){for(var x=p.length,b=0,P=0;P<x;++P)b=Math.max(b,p[P].length)|0;return b-1}function l(p,x){for(var b=p.length,P=a.mallocUint8(b),m=0;m<b;++m)P[m]=p[m]<x|0;return P}function y(p,x){for(var b=p.length,P=x*(x+1)/2*b|0,m=a.mallocUint32(P*2),L=0,M=0;M<b;++M)for(var s=p[M],x=s.length,E=0;E<x;++E)for(var w=0;w<E;++w){var _=s[w],D=s[E];m[L++]=Math.min(_,D)|0,m[L++]=Math.max(_,D)|0}var N=L/2|0;n(t(m,[N,2]));for(var z=2,M=2;M<L;M+=2)m[M-2]===m[M]&&m[M-1]===m[M+1]||(m[z++]=m[M],m[z++]=m[M+1]);return t(m,[z/2|0,2])}function h(p,x,b,P){for(var m=p.data,L=p.shape[0],M=a.mallocDouble(L),s=0,E=0;E<L;++E){var w=m[2*E],_=m[2*E+1];if(b[w]!==b[_]){var D=x[w],N=x[_];m[2*s]=w,m[2*s+1]=_,M[s++]=(N-P)/(N-D)}}return p.shape[0]=s,t(M,[s])}function T(p,x){var b=a.mallocInt32(x*2),P=p.shape[0],m=p.data;b[0]=0;for(var L=0,M=0;M<P;++M){var s=m[2*M];if(s!==L){for(b[2*L+1]=M;++L<s;)b[2*L]=M,b[2*L+1]=M;b[2*L]=M}}for(b[2*L+1]=P;++L<x;)b[2*L]=b[2*L+1]=P;return b}function c(p){for(var x=p.shape[0]|0,b=p.data,P=new Array(x),m=0;m<x;++m)P[m]=[b[2*m],b[2*m+1]];return P}function o(p,x,b,P){b=b||0,typeof P>"u"&&(P=u(p));var m=p.length;if(m===0||P<1)return{cells:[],vertexIds:[],vertexWeights:[]};var L=l(x,+b),M=y(p,P),s=h(M,x,L,+b),E=T(M,x.length|0),w=f(P)(p,M.data,E,L),_=c(M),D=[].slice.call(s.data,0,s.shape[0]);return a.free(L),a.free(M.data),a.free(s.data),a.free(E),{cells:w,vertexIds:_,vertexWeights:D}}},1570:function(v){v.exports=r;var d=[function(){function a(n,f,u,l){for(var y=n.length,h=[],T=0;T<y;++T){var c=n[T];c.length}return h}return a},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],o=f[2*h+1];c<o;){var p=c+o>>1,x=u[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],p=o.length;if(p===2){var x=(y[o[0]]<<0)+(y[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[1])]);break;case 2:T.push([a(l,u,o[1],o[0])]);break}}}return T}return n},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],o=f[2*h+1];c<o;){var p=c+o>>1,x=u[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],p=o.length;if(p===3){var x=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[2]),a(l,u,o[0],o[1])]);break;case 2:T.push([a(l,u,o[1],o[0]),a(l,u,o[1],o[2])]);break;case 3:T.push([a(l,u,o[0],o[2]),a(l,u,o[1],o[2])]);break;case 4:T.push([a(l,u,o[2],o[1]),a(l,u,o[2],o[0])]);break;case 5:T.push([a(l,u,o[2],o[1]),a(l,u,o[0],o[1])]);break;case 6:T.push([a(l,u,o[1],o[0]),a(l,u,o[2],o[0])]);break}}else if(p===2){var x=(y[o[0]]<<0)+(y[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[1])]);break;case 2:T.push([a(l,u,o[1],o[0])]);break}}}return T}return n},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],o=f[2*h+1];c<o;){var p=c+o>>1,x=u[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],p=o.length;if(p===4){var x=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2)+(y[o[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[1]),a(l,u,o[0],o[2]),a(l,u,o[0],o[3])]);break;case 2:T.push([a(l,u,o[1],o[2]),a(l,u,o[1],o[0]),a(l,u,o[1],o[3])]);break;case 3:T.push([a(l,u,o[1],o[2]),a(l,u,o[0],o[2]),a(l,u,o[0],o[3])],[a(l,u,o[1],o[3]),a(l,u,o[1],o[2]),a(l,u,o[0],o[3])]);break;case 4:T.push([a(l,u,o[2],o[0]),a(l,u,o[2],o[1]),a(l,u,o[2],o[3])]);break;case 5:T.push([a(l,u,o[0],o[1]),a(l,u,o[2],o[1]),a(l,u,o[0],o[3])],[a(l,u,o[2],o[1]),a(l,u,o[2],o[3]),a(l,u,o[0],o[3])]);break;case 6:T.push([a(l,u,o[2],o[0]),a(l,u,o[1],o[0]),a(l,u,o[1],o[3])],[a(l,u,o[2],o[3]),a(l,u,o[2],o[0]),a(l,u,o[1],o[3])]);break;case 7:T.push([a(l,u,o[0],o[3]),a(l,u,o[1],o[3]),a(l,u,o[2],o[3])]);break;case 8:T.push([a(l,u,o[3],o[1]),a(l,u,o[3],o[0]),a(l,u,o[3],o[2])]);break;case 9:T.push([a(l,u,o[3],o[1]),a(l,u,o[0],o[1]),a(l,u,o[0],o[2])],[a(l,u,o[3],o[2]),a(l,u,o[3],o[1]),a(l,u,o[0],o[2])]);break;case 10:T.push([a(l,u,o[1],o[0]),a(l,u,o[3],o[0]),a(l,u,o[1],o[2])],[a(l,u,o[3],o[0]),a(l,u,o[3],o[2]),a(l,u,o[1],o[2])]);break;case 11:T.push([a(l,u,o[1],o[2]),a(l,u,o[0],o[2]),a(l,u,o[3],o[2])]);break;case 12:T.push([a(l,u,o[3],o[0]),a(l,u,o[2],o[0]),a(l,u,o[2],o[1])],[a(l,u,o[3],o[1]),a(l,u,o[3],o[0]),a(l,u,o[2],o[1])]);break;case 13:T.push([a(l,u,o[0],o[1]),a(l,u,o[2],o[1]),a(l,u,o[3],o[1])]);break;case 14:T.push([a(l,u,o[2],o[0]),a(l,u,o[1],o[0]),a(l,u,o[3],o[0])]);break}}else if(p===3){var x=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[2]),a(l,u,o[0],o[1])]);break;case 2:T.push([a(l,u,o[1],o[0]),a(l,u,o[1],o[2])]);break;case 3:T.push([a(l,u,o[0],o[2]),a(l,u,o[1],o[2])]);break;case 4:T.push([a(l,u,o[2],o[1]),a(l,u,o[2],o[0])]);break;case 5:T.push([a(l,u,o[2],o[1]),a(l,u,o[0],o[1])]);break;case 6:T.push([a(l,u,o[1],o[0]),a(l,u,o[2],o[0])]);break}}else if(p===2){var x=(y[o[0]]<<0)+(y[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,o[0],o[1])]);break;case 2:T.push([a(l,u,o[1],o[0])]);break}}}return T}return n}];function r(t){return d[t]()}},6803:function(v,d,r){r(8828),r(1755);function t(a,n){var f=a.length,u=a.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:var o=a[0]+a[1]-n[0]-n[1];return o||l(a[0],a[1])-l(n[0],n[1]);case 3:var y=a[0]+a[1],h=n[0]+n[1];if(o=y+a[2]-(h+n[2]),o)return o;var T=l(a[0],a[1]),c=l(n[0],n[1]),o=l(T,a[2])-l(c,n[2]);return o||l(T+a[2],y)-l(c+n[2],h);default:var p=a.slice(0);p.sort();var x=n.slice(0);x.sort();for(var b=0;b<f;++b)if(u=p[b]-x[b],u)return u;return 0}}d.Fw=t},3105:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var f=n>>r-1;return(n^f)-f},d.min=function(n,f){return f^(n^f)&-(n<f)},d.max=function(n,f){return n^(n^f)&-(n<f)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}d.countTrailingZeros=t,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,y=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--y;n[f]=l<<y&255}})(a),d.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},d.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},d.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},d.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,d,r){"use restrict";var t=r(3105),a=r(4623);function n(s){for(var E=0,w=Math.max,_=0,D=s.length;_<D;++_)E=w(E,s[_].length);return E-1}d.dimension=n;function f(s){for(var E=-1,w=Math.max,_=0,D=s.length;_<D;++_)for(var N=s[_],z=0,F=N.length;z<F;++z)E=w(E,N[z]);return E+1}d.countVertices=f;function u(s){for(var E=new Array(s.length),w=0,_=s.length;w<_;++w)E[w]=s[w].slice(0);return E}d.cloneCells=u;function l(s,E){var w=s.length,_=s.length-E.length,D=Math.min;if(_)return _;switch(w){case 0:return 0;case 1:return s[0]-E[0];case 2:var B=s[0]+s[1]-E[0]-E[1];return B||D(s[0],s[1])-D(E[0],E[1]);case 3:var N=s[0]+s[1],z=E[0]+E[1];if(B=N+s[2]-(z+E[2]),B)return B;var F=D(s[0],s[1]),U=D(E[0],E[1]),B=D(F,s[2])-D(U,E[2]);return B||D(F+s[2],N)-D(U+E[2],z);default:var V=s.slice(0);V.sort();var j=E.slice(0);j.sort();for(var Q=0;Q<w;++Q)if(_=V[Q]-j[Q],_)return _;return 0}}d.compareCells=l;function y(s,E){return l(s[0],E[0])}function h(s,E){if(E){for(var w=s.length,_=new Array(w),D=0;D<w;++D)_[D]=[s[D],E[D]];_.sort(y);for(var D=0;D<w;++D)s[D]=_[D][0],E[D]=_[D][1];return s}else return s.sort(l),s}d.normalize=h;function T(s){if(s.length===0)return[];for(var E=1,w=s.length,_=1;_<w;++_){var D=s[_];if(l(D,s[_-1])){if(_===E){E++;continue}s[E++]=D}}return s.length=E,s}d.unique=T;function c(s,E){for(var w=0,_=s.length-1,D=-1;w<=_;){var N=w+_>>1,z=l(s[N],E);z<=0?(z===0&&(D=N),w=N+1):z>0&&(_=N-1)}return D}d.findCell=c;function o(s,E){for(var w=new Array(s.length),_=0,D=w.length;_<D;++_)w[_]=[];for(var N=[],_=0,z=E.length;_<z;++_)for(var F=E[_],U=F.length,B=1,V=1<<U;B<V;++B){N.length=t.popCount(B);for(var j=0,Q=0;Q<U;++Q)B&1<<Q&&(N[j++]=F[Q]);var ee=c(s,N);if(!(ee<0))for(;w[ee++].push(_),!(ee>=s.length||l(s[ee],N)!==0););}return w}d.incidence=o;function p(s,E){if(!E)return o(T(b(s,0)),s);for(var w=new Array(E),_=0;_<E;++_)w[_]=[];for(var _=0,D=s.length;_<D;++_)for(var N=s[_],z=0,F=N.length;z<F;++z)w[N[z]].push(_);return w}d.dual=p;function x(s){for(var E=[],w=0,_=s.length;w<_;++w)for(var D=s[w],N=D.length|0,z=1,F=1<<N;z<F;++z){for(var U=[],B=0;B<N;++B)z>>>B&1&&U.push(D[B]);E.push(U)}return h(E)}d.explode=x;function b(s,E){if(E<0)return[];for(var w=[],_=(1<<E+1)-1,D=0;D<s.length;++D)for(var N=s[D],z=_;z<1<<N.length;z=t.nextCombination(z)){for(var F=new Array(E+1),U=0,B=0;B<N.length;++B)z&1<<B&&(F[U++]=N[B]);w.push(F)}return h(w)}d.skeleton=b;function P(s){for(var E=[],w=0,_=s.length;w<_;++w)for(var D=s[w],N=0,z=D.length;N<z;++N){for(var F=new Array(D.length-1),U=0,B=0;U<z;++U)U!==N&&(F[B++]=D[U]);E.push(F)}return h(E)}d.boundary=P;function m(s,E){for(var w=new a(E),_=0;_<s.length;++_)for(var D=s[_],N=0;N<D.length;++N)for(var z=N+1;z<D.length;++z)w.link(D[N],D[z]);for(var F=[],U=w.ranks,_=0;_<U.length;++_)U[_]=-1;for(var _=0;_<s.length;++_){var B=w.find(s[_][0]);U[B]<0?(U[B]=F.length,F.push([s[_].slice(0)])):F[U[B]].push(s[_].slice(0))}return F}function L(s){for(var E=T(h(b(s,0))),w=new a(E.length),_=0;_<s.length;++_)for(var D=s[_],N=0;N<D.length;++N)for(var z=c(E,[D[N]]),F=N+1;F<D.length;++F)w.link(z,c(E,[D[F]]));for(var U=[],B=w.ranks,_=0;_<B.length;++_)B[_]=-1;for(var _=0;_<s.length;++_){var V=w.find(c(E,[s[_][0]]));B[V]<0?(B[V]=U.length,U.push([s[_].slice(0)])):U[B[V]].push(s[_].slice(0))}return U}function M(s,E){return E?m(s,E):L(s)}d.connectedComponents=M},4623:function(v){"use restrict";v.exports=d;function d(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}d.prototype.length=function(){return this.roots.length},d.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},d.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var a=t[r];t[r]=t[a],r=a}return r},d.prototype.link=function(r,t){var a=this.find(r),n=this.find(t);if(a!==n){var f=this.ranks,u=this.roots,l=f[a],y=f[n];l<y?u[a]=n:y<l?u[n]=a:(u[n]=a,++f[a])}}},5878:function(v,d,r){v.exports=f;var t=r(3250),a=r(2014);function n(u,l,y){var h=Math.abs(t(u,l,y)),T=Math.sqrt(Math.pow(l[0]-y[0],2)+Math.pow(l[1]-y[1],2));return h/T}function f(u,l,y){for(var h=l.length,T=u.length,c=new Array(h),o=new Array(h),p=new Array(h),x=new Array(h),b=0;b<h;++b)c[b]=o[b]=-1,p[b]=1/0,x[b]=!1;for(var b=0;b<T;++b){var P=u[b];if(P.length!==2)throw new Error("Input must be a graph");var m=P[1],L=P[0];o[L]!==-1?o[L]=-2:o[L]=m,c[m]!==-1?c[m]=-2:c[m]=L}function M(J){if(x[J])return 1/0;var X=c[J],ne=o[J];return X<0||ne<0?1/0:n(l[J],l[X],l[ne])}function s(J,X){var ne=U[J],Y=U[X];U[J]=Y,U[X]=ne,B[ne]=X,B[Y]=J}function E(J){return p[U[J]]}function w(J){return J&1?J-1>>1:(J>>1)-1}function _(J){for(var X=E(J);;){var ne=X,Y=2*J+1,oe=2*(J+1),le=J;if(Y<j){var Z=E(Y);Z<ne&&(le=Y,ne=Z)}if(oe<j){var $=E(oe);$<ne&&(le=oe)}if(le===J)return J;s(J,le),J=le}}function D(J){for(var X=E(J);J>0;){var ne=w(J);if(ne>=0){var Y=E(ne);if(X<Y){s(J,ne),J=ne;continue}}return J}}function N(){if(j>0){var J=U[0];return s(0,j-1),j-=1,_(0),J}return-1}function z(J,X){var ne=U[J];return p[ne]===X?J:(p[ne]=-1/0,D(J),N(),p[ne]=X,j+=1,D(j-1))}function F(J){if(!x[J]){x[J]=!0;var X=c[J],ne=o[J];c[ne]>=0&&(c[ne]=X),o[X]>=0&&(o[X]=ne),B[X]>=0&&z(B[X],M(X)),B[ne]>=0&&z(B[ne],M(ne))}}for(var U=[],B=new Array(h),b=0;b<h;++b){var V=p[b]=M(b);V<1/0?(B[b]=U.length,U.push(b)):B[b]=-1}for(var j=U.length,b=j>>1;b>=0;--b)_(b);for(;;){var Q=N();if(Q<0||p[Q]>y)break;F(Q)}for(var ee=[],b=0;b<h;++b)x[b]||(B[b]=ee.length,ee.push(l[b].slice()));ee.length;function re(J,X){if(J[X]<0)return X;var ne=X,Y=X;do{var oe=J[Y];if(!x[Y]||oe<0||oe===Y||(Y=oe,oe=J[Y],!x[Y]||oe<0||oe===Y))break;Y=oe,ne=J[ne]}while(ne!==Y);for(var le=X;le!==Y;le=J[le])J[le]=Y;return Y}var ue=[];return u.forEach(function(J){var X=re(c,J[0]),ne=re(o,J[1]);if(X>=0&&ne>=0&&X!==ne){var Y=B[X],oe=B[ne];Y!==oe&&ue.push([Y,oe])}}),a.unique(a.normalize(ue)),{positions:ee,edges:ue}}},1303:function(v,d,r){v.exports=n;var t=r(3250);function a(f,u){var l,y;if(u[0][0]<u[1][0])l=u[0],y=u[1];else if(u[0][0]>u[1][0])l=u[1],y=u[0];else{var h=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),o=Math.max(u[0][1],u[1][1]);return T<c?T-c:h>o?h-o:T-o}var p,x;f[0][1]<f[1][1]?(p=f[0],x=f[1]):(p=f[1],x=f[0]);var b=t(y,l,p);return b||(b=t(y,l,x),b)?b:x-y}function n(f,u){var l,y;if(u[0][0]<u[1][0])l=u[0],y=u[1];else if(u[0][0]>u[1][0])l=u[1],y=u[0];else return a(u,f);var h,T;if(f[0][0]<f[1][0])h=f[0],T=f[1];else if(f[0][0]>f[1][0])h=f[1],T=f[0];else return-a(f,u);var c=t(l,y,T),o=t(l,y,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(T,h,y),o=t(T,h,l),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return y[0]-T[0]}},4209:function(v,d,r){v.exports=o;var t=r(2478),a=r(3840),n=r(3250),f=r(1303);function u(p,x,b){this.slabs=p,this.coordinates=x,this.horizontal=b}var l=u.prototype;function y(p,x){return p.y-x}function h(p,x){for(var b=null;p;){var P=p.key,m,L;P[0][0]<P[1][0]?(m=P[0],L=P[1]):(m=P[1],L=P[0]);var M=n(m,L,x);if(M<0)p=p.left;else if(M>0)if(x[0]!==P[1][0])b=p,p=p.right;else{var s=h(p.right,x);if(s)return s;p=p.left}else{if(x[0]!==P[1][0])return p;var s=h(p.right,x);if(s)return s;p=p.left}}return b}l.castUp=function(p){var x=t.le(this.coordinates,p[0]);if(x<0)return-1;this.slabs[x];var b=h(this.slabs[x],p),P=-1;if(b&&(P=b.value),this.coordinates[x]===p[0]){var m=null;if(b&&(m=b.key),x>0){var L=h(this.slabs[x-1],p);L&&(m?f(L.key,m)>0&&(m=L.key,P=L.value):(P=L.value,m=L.key))}var M=this.horizontal[x];if(M.length>0){var s=t.ge(M,p[1],y);if(s<M.length){var E=M[s];if(p[1]===E.y){if(E.closed)return E.index;for(;s<M.length-1&&M[s+1].y===p[1];)if(s=s+1,E=M[s],E.closed)return E.index;if(E.y===p[1]&&!E.start){if(s=s+1,s>=M.length)return P;E=M[s]}}if(E.start)if(m){var w=n(m[0],m[1],[p[0],E.y]);m[0][0]>m[1][0]&&(w=-w),w>0&&(P=E.index)}else P=E.index;else E.y!==p[1]&&(P=E.index)}}}return P};function T(p,x,b,P){this.y=p,this.index=x,this.start=b,this.closed=P}function c(p,x,b,P){this.x=p,this.segment=x,this.create=b,this.index=P}function o(p){for(var x=p.length,b=2*x,P=new Array(b),m=0;m<x;++m){var L=p[m],M=L[0][0]<L[1][0];P[2*m]=new c(L[0][0],L,M,m),P[2*m+1]=new c(L[1][0],L,!M,m)}P.sort(function(F,U){var B=F.x-U.x;return B||(B=F.create-U.create,B)?B:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(U.segment[0][1],U.segment[1][1])});for(var s=a(f),E=[],w=[],_=[],m=0;m<b;){for(var D=P[m].x,N=[];m<b;){var z=P[m];if(z.x!==D)break;m+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(N.push(new T(z.segment[0][1],z.index,!0,!0)),N.push(new T(z.segment[1][1],z.index,!1,!1))):(N.push(new T(z.segment[1][1],z.index,!0,!1)),N.push(new T(z.segment[0][1],z.index,!1,!0)))):z.create?s=s.insert(z.segment,z.index):s=s.remove(z.segment)}E.push(s.root),w.push(D),_.push(N)}return new u(E,w,_)}},5202:function(v,d,r){var t=r(1944),a=r(8210);v.exports=u,v.exports.positive=l,v.exports.negative=y;function n(h,T){var c=a(t(h,T),[T[T.length-1]]);return c[c.length-1]}function f(h,T,c,o){var p=o-T,x=-T/p;x<0?x=0:x>1&&(x=1);for(var b=1-x,P=h.length,m=new Array(P),L=0;L<P;++L)m[L]=x*h[L]+b*c[L];return m}function u(h,T){for(var c=[],o=[],p=n(h[h.length-1],T),x=h[h.length-1],b=h[0],P=0;P<h.length;++P,x=b){b=h[P];var m=n(b,T);if(p<0&&m>0||p>0&&m<0){var L=f(x,m,b,p);c.push(L),o.push(L.slice())}m<0?o.push(b.slice()):m>0?c.push(b.slice()):(c.push(b.slice()),o.push(b.slice())),p=m}return{positive:c,negative:o}}function l(h,T){for(var c=[],o=n(h[h.length-1],T),p=h[h.length-1],x=h[0],b=0;b<h.length;++b,p=x){x=h[b];var P=n(x,T);(o<0&&P>0||o>0&&P<0)&&c.push(f(p,P,x,o)),P>=0&&c.push(x.slice()),o=P}return c}function y(h,T){for(var c=[],o=n(h[h.length-1],T),p=h[h.length-1],x=h[0],b=0;b<h.length;++b,p=x){x=h[b];var P=n(x,T);(o<0&&P>0||o>0&&P<0)&&c.push(f(p,P,x,o)),P<=0&&c.push(x.slice()),o=P}return c}},3387:function(v,d,r){var t;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(y(h),arguments)}function f(h,T){return n.apply(null,[h].concat(T||[]))}function u(h,T){var c=1,o=h.length,p,x="",b,P,m,L,M,s,E,w;for(b=0;b<o;b++)if(typeof h[b]=="string")x+=h[b];else if(typeof h[b]=="object"){if(m=h[b],m.keys)for(p=T[c],P=0;P<m.keys.length;P++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[P],m.keys[P-1]));p=p[m.keys[P]]}else m.param_no?p=T[m.param_no]:p=T[c++];if(a.not_type.test(m.type)&&a.not_primitive.test(m.type)&&p instanceof Function&&(p=p()),a.numeric_arg.test(m.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(a.number.test(m.type)&&(E=p>=0),m.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,m.width?parseInt(m.width):0);break;case"e":p=m.precision?parseFloat(p).toExponential(m.precision):parseFloat(p).toExponential();break;case"f":p=m.precision?parseFloat(p).toFixed(m.precision):parseFloat(p);break;case"g":p=m.precision?String(Number(p.toPrecision(m.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=m.precision?p.substring(0,m.precision):p;break;case"t":p=String(!!p),p=m.precision?p.substring(0,m.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=m.precision?p.substring(0,m.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=m.precision?p.substring(0,m.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}a.json.test(m.type)?x+=p:(a.number.test(m.type)&&(!E||m.sign)?(w=E?"+":"-",p=p.toString().replace(a.sign,"")):w="",M=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(w+p).length,L=m.width&&s>0?M.repeat(s):"",x+=m.align?w+p+L:M==="0"?w+L+p:L+w+p)}return x}var l=Object.create(null);function y(h){if(l[h])return l[h];for(var T=h,c,o=[],p=0;T;){if((c=a.text.exec(T))!==null)o.push(c[0]);else if((c=a.modulo.exec(T))!==null)o.push("%");else if((c=a.placeholder.exec(T))!==null){if(c[2]){p|=1;var x=[],b=c[2],P=[];if((P=a.key.exec(b))!==null)for(x.push(P[1]);(b=b.substring(P[0].length))!=="";)if((P=a.key_access.exec(b))!==null)x.push(P[1]);else if((P=a.index_access.exec(b))!==null)x.push(P[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return l[h]=o}d.sprintf=n,d.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(d,r,d,v),t!==void 0&&(v.exports=t))})()},3711:function(v,d,r){v.exports=y;var t=r(2640),a=r(781),n={"2d":function(h,T,c){var o=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,b,P,m){return x>m|0},vertex:function(x,b,P,m,L,M,s,E,w,_,D,N,z){var F=(s<<0)+(E<<1)+(w<<2)+(_<<3)|0;if(!(F===0||F===15))switch(F){case 0:D.push([x-.5,b-.5]);break;case 1:D.push([x-.25-.25*(m+P-2*z)/(P-m),b-.25-.25*(L+P-2*z)/(P-L)]);break;case 2:D.push([x-.75-.25*(-m-P+2*z)/(m-P),b-.25-.25*(M+m-2*z)/(m-M)]);break;case 3:D.push([x-.5,b-.5-.5*(L+P+M+m-4*z)/(P-L+m-M)]);break;case 4:D.push([x-.25-.25*(M+L-2*z)/(L-M),b-.75-.25*(-L-P+2*z)/(L-P)]);break;case 5:D.push([x-.5-.5*(m+P+M+L-4*z)/(P-m+L-M),b-.5]);break;case 6:D.push([x-.5-.25*(-m-P+M+L)/(m-P+L-M),b-.5-.25*(-L-P+M+m)/(L-P+m-M)]);break;case 7:D.push([x-.75-.25*(M+L-2*z)/(L-M),b-.75-.25*(M+m-2*z)/(m-M)]);break;case 8:D.push([x-.75-.25*(-M-L+2*z)/(M-L),b-.75-.25*(-M-m+2*z)/(M-m)]);break;case 9:D.push([x-.5-.25*(m+P+-M-L)/(P-m+M-L),b-.5-.25*(L+P+-M-m)/(P-L+M-m)]);break;case 10:D.push([x-.5-.5*(-m-P+-M-L+4*z)/(m-P+M-L),b-.5]);break;case 11:D.push([x-.25-.25*(-M-L+2*z)/(M-L),b-.75-.25*(L+P-2*z)/(P-L)]);break;case 12:D.push([x-.5,b-.5-.5*(-L-P+-M-m+4*z)/(L-P+M-m)]);break;case 13:D.push([x-.75-.25*(m+P-2*z)/(P-m),b-.25-.25*(-M-m+2*z)/(M-m)]);break;case 14:D.push([x-.25-.25*(-m-P+2*z)/(m-P),b-.25-.25*(-L-P+2*z)/(L-P)]);break;case 15:D.push([x-.5,b-.5]);break}},cell:function(x,b,P,m,L,M,s,E,w){L?E.push([x,b]):E.push([b,x])}});return function(p,x){var b=[],P=[];return o(p,b,P,x),{positions:b,cells:P}}}};function f(h,T){var c=h.length+"d",o=n[c];if(o)return o(t,h,T)}function u(h,T){for(var c=a(h,T),o=c.length,p=new Array(o),x=new Array(o),b=0;b<o;++b)p[b]=[c[b]],x[b]=[b];return{positions:p,cells:x}}var l={};function y(h,p){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,p);var c=h.order.join()+"-"+h.dtype,o=l[c],p=+p||0;return o||(o=l[c]=f(h.order,h.dtype)),o(h,p)}},529:function(v,d,r){v.exports=u;var t=r(4359),a=window||g.global||{},n=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function f(l){for(var y=l.cells,h=l.positions,T=new Float32Array(y.length*6),c=0,o=0,p=0;p<y.length;++p)for(var x=y[p],b=0;b<3;++b){var P=h[x[b]];T[c++]=P[0],T[c++]=P[1]+1.4,o=Math.max(P[0],o)}return{data:T,shape:o}}function u(l,y,T){var T=T||{},c=T.fontStyle||"normal",o=T.fontWeight||"normal",p=T.fontVariant||"normal",x=[c,o,p,l].join("_"),b=n[x];b||(b=n[x]={" ":{data:new Float32Array(0),shape:.2}});var P=b[y];if(!P)if(y.length<=1||!/\d/.test(y))P=b[y]=f(t(y,{triangles:!0,font:l,fontStyle:c,fontWeight:o,fontVariant:p,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=y.split(/(\d|\s)/),L=new Array(m.length),M=0,s=0,E=0;E<m.length;++E)L[E]=u(l,m[E]),M+=L[E].data.length,s+=L[E].shape,E>0&&(s+=.02);for(var w=new Float32Array(M),_=0,D=-.5*s,E=0;E<L.length;++E){for(var N=L[E].data,z=0;z<N.length;z+=2)w[_++]=N[z]+D,w[_++]=N[z+1];D+=L[E].shape+.02}P=b[y]={data:w,shape:s}}return P}},665:function(v,d,r){var t=r(3202);v.exports=u;var a=96;function n(l,y){var h=t(getComputedStyle(l).getPropertyValue(y));return h[0]*u(h[1],l)}function f(l,y){var h=document.createElement("div");h.style["font-size"]="128"+l,y.appendChild(h);var T=n(h,"font-size")/128;return y.removeChild(h),T}function u(l,y){switch(y=y||document.body,l=(l||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),l){case"%":return y.clientHeight/100;case"ch":case"ex":return f(l,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},7261:function(v,d,r){v.exports=x;var t=r(9215),a=r(7608),n=r(6079),f=r(5911),u=r(3536),l=r(244);function y(b,P,m){return Math.sqrt(Math.pow(b,2)+Math.pow(P,2)+Math.pow(m,2))}function h(b){return Math.min(1,Math.max(-1,b))}function T(b){var P=Math.abs(b[0]),m=Math.abs(b[1]),L=Math.abs(b[2]),M=[0,0,0];P>Math.max(m,L)?M[2]=1:m>Math.max(P,L)?M[0]=1:M[1]=1;for(var s=0,E=0,w=0;w<3;++w)s+=b[w]*b[w],E+=M[w]*b[w];for(var w=0;w<3;++w)M[w]-=E/s*b[w];return u(M,M),M}function c(b,P,m,L,M,s,E,w){this.center=t(m),this.up=t(L),this.right=t(M),this.radius=t([s]),this.angle=t([E,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,P),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var _=0;_<16;++_)this.computedMatrix[_]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(b,P){b>0?b=Math.log(b):b=-1/0,P>0?P=Math.log(P):P=1/0,P=Math.max(P,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=P},o.getDistanceLimits=function(b){var P=this.radius.bounds[0];return b?(b[0]=Math.exp(P[0][0]),b[1]=Math.exp(P[1][0]),b):[Math.exp(P[0][0]),Math.exp(P[1][0])]},o.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var P=this.computedUp,m=this.computedRight,L=0,M=0,s=0;s<3;++s)M+=P[s]*m[s],L+=P[s]*P[s];for(var E=Math.sqrt(L),w=0,s=0;s<3;++s)m[s]-=P[s]*M/L,w+=m[s]*m[s],P[s]/=E;for(var _=Math.sqrt(w),s=0;s<3;++s)m[s]/=_;var D=this.computedToward;f(D,P,m),u(D,D);for(var N=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],F=this.computedAngle[1],U=Math.cos(z),B=Math.sin(z),V=Math.cos(F),j=Math.sin(F),Q=this.computedCenter,ee=U*V,re=B*V,ue=j,J=-U*j,X=-B*j,ne=V,Y=this.computedEye,oe=this.computedMatrix,s=0;s<3;++s){var le=ee*m[s]+re*D[s]+ue*P[s];oe[4*s+1]=J*m[s]+X*D[s]+ne*P[s],oe[4*s+2]=le,oe[4*s+3]=0}var Z=oe[1],$=oe[5],se=oe[9],ae=oe[2],he=oe[6],me=oe[10],Me=$*me-se*he,Te=se*ae-Z*me,Pe=Z*he-$*ae,be=y(Me,Te,Pe);Me/=be,Te/=be,Pe/=be,oe[0]=Me,oe[4]=Te,oe[8]=Pe;for(var s=0;s<3;++s)Y[s]=Q[s]+oe[2+4*s]*N;for(var s=0;s<3;++s){for(var w=0,Ee=0;Ee<3;++Ee)w+=oe[s+4*Ee]*Y[Ee];oe[12+s]=-w}oe[15]=1},o.getMatrix=function(b,P){this.recalcMatrix(b);var m=this.computedMatrix;if(P){for(var L=0;L<16;++L)P[L]=m[L];return P}return m};var p=[0,0,0];o.rotate=function(b,P,m,L){if(this.angle.move(b,P,m),L){this.recalcMatrix(b);var M=this.computedMatrix;p[0]=M[2],p[1]=M[6],p[2]=M[10];for(var s=this.computedUp,E=this.computedRight,w=this.computedToward,_=0;_<3;++_)M[4*_]=s[_],M[4*_+1]=E[_],M[4*_+2]=w[_];n(M,M,L,p);for(var _=0;_<3;++_)s[_]=M[4*_],E[_]=M[4*_+1];this.up.set(b,s[0],s[1],s[2]),this.right.set(b,E[0],E[1],E[2])}},o.pan=function(b,P,m,L){P=P||0,m=m||0,L=L||0,this.recalcMatrix(b);var M=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=M[1],E=M[5],w=M[9],_=y(s,E,w);s/=_,E/=_,w/=_;var D=M[0],N=M[4],z=M[8],F=D*s+N*E+z*w;D-=s*F,N-=E*F,z-=w*F;var U=y(D,N,z);D/=U,N/=U,z/=U;var B=D*P+s*m,V=N*P+E*m,j=z*P+w*m;this.center.move(b,B,V,j);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+L),this.radius.set(b,Math.log(Q))},o.translate=function(b,P,m,L){this.center.move(b,P||0,m||0,L||0)},o.setMatrix=function(b,P,m,L){var M=1;typeof m=="number"&&(M=m|0),(M<0||M>3)&&(M=1);var s=(M+2)%3;P||(this.recalcMatrix(b),P=this.computedMatrix);var E=P[M],w=P[M+4],_=P[M+8];if(L){var N=Math.abs(E),z=Math.abs(w),F=Math.abs(_),U=Math.max(N,z,F);N===U?(E=E<0?-1:1,w=_=0):F===U?(_=_<0?-1:1,E=w=0):(w=w<0?-1:1,E=_=0)}else{var D=y(E,w,_);E/=D,w/=D,_/=D}var B=P[s],V=P[s+4],j=P[s+8],Q=B*E+V*w+j*_;B-=E*Q,V-=w*Q,j-=_*Q;var ee=y(B,V,j);B/=ee,V/=ee,j/=ee;var re=w*j-_*V,ue=_*B-E*j,J=E*V-w*B,X=y(re,ue,J);re/=X,ue/=X,J/=X,this.center.jump(b,Ne,De,He),this.radius.idle(b),this.up.jump(b,E,w,_),this.right.jump(b,B,V,j);var ne,Y;if(M===2){var oe=P[1],le=P[5],Z=P[9],$=oe*B+le*V+Z*j,se=oe*re+le*ue+Z*J;Me<0?ne=-Math.PI/2:ne=Math.PI/2,Y=Math.atan2(se,$)}else{var ae=P[2],he=P[6],me=P[10],Me=ae*E+he*w+me*_,Te=ae*B+he*V+me*j,Pe=ae*re+he*ue+me*J;ne=Math.asin(h(Me)),Y=Math.atan2(Pe,Te)}this.angle.jump(b,Y,ne),this.recalcMatrix(b);var be=P[2],Ee=P[6],xe=P[10],Ce=this.computedMatrix;a(Ce,P);var Ue=Ce[15],Ne=Ce[12]/Ue,De=Ce[13]/Ue,He=Ce[14]/Ue,at=Math.exp(this.computedRadius[0]);this.center.jump(b,Ne-be*at,De-Ee*at,He-xe*at)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},o.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},o.setDistance=function(b,P){P>0&&this.radius.set(b,Math.log(P))},o.lookAt=function(b,P,m,L){this.recalcMatrix(b),P=P||this.computedEye,m=m||this.computedCenter,L=L||this.computedUp;var M=L[0],s=L[1],E=L[2],w=y(M,s,E);if(!(w<1e-6)){M/=w,s/=w,E/=w;var _=P[0]-m[0],D=P[1]-m[1],N=P[2]-m[2],z=y(_,D,N);if(!(z<1e-6)){_/=z,D/=z,N/=z;var F=this.computedRight,U=F[0],B=F[1],V=F[2],j=M*U+s*B+E*V;U-=j*M,B-=j*s,V-=j*E;var Q=y(U,B,V);if(!(Q<.01&&(U=s*N-E*D,B=E*_-M*N,V=M*D-s*_,Q=y(U,B,V),Q<1e-6))){U/=Q,B/=Q,V/=Q,this.up.set(b,M,s,E),this.right.set(b,U,B,V),this.center.set(b,m[0],m[1],m[2]),this.radius.set(b,Math.log(z));var ee=s*V-E*B,re=E*U-M*V,ue=M*B-s*U,J=y(ee,re,ue);ee/=J,re/=J,ue/=J;var X=M*_+s*D+E*N,ne=U*_+B*D+V*N,Y=ee*_+re*D+ue*N,oe=Math.asin(h(X)),le=Math.atan2(Y,ne),Z=this.angle._state,$=Z[Z.length-1],se=Z[Z.length-2];$=$%(2*Math.PI);var ae=Math.abs($+2*Math.PI-le),he=Math.abs($-le),me=Math.abs($-2*Math.PI-le);ae<he&&($+=2*Math.PI),me<he&&($-=2*Math.PI),this.angle.jump(this.angle.lastT(),$,se),this.angle.set(b,le,oe)}}}};function x(b){b=b||{};var P=b.center||[0,0,0],m=b.up||[0,1,0],L=b.right||T(m),M=b.radius||1,s=b.theta||0,E=b.phi||0;if(P=[].slice.call(P,0,3),m=[].slice.call(m,0,3),u(m,m),L=[].slice.call(L,0,3),u(L,L),"eye"in b){var w=b.eye,_=[w[0]-P[0],w[1]-P[1],w[2]-P[2]];f(L,_,m),y(L[0],L[1],L[2])<1e-6?L=T(m):u(L,L),M=y(_[0],_[1],_[2]);var D=l(m,_)/M,N=l(L,_)/M;E=Math.acos(D),s=Math.acos(N)}return M=Math.log(M),new c(b.zoomMin,b.zoomMax,P,m,L,M,s,E)}},5250:function(v){v.exports=r;var d=+(Math.pow(2,27)+1);function r(t,a,n){var f=t*a,u=d*t,l=u-t,y=u-l,h=t-y,T=d*a,c=T-a,o=T-c,p=a-o,x=f-y*o,b=x-h*o,P=b-y*p,m=h*p-P;return n?(n[0]=m,n[1]=f,n):[m,f]}},9362:function(v){v.exports=d;function d(r,t,a){var n=r+t,f=n-r,u=n-f,l=t-f,y=r-u;return a?(a[0]=y+l,a[1]=n,a):[y+l,n]}},1888:function(v,d,r){var t=r(8828),a=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=a([32,0])),y.BIGUINT64||(y.BIGUINT64=a([32,0])),y.BIGINT64||(y.BIGINT64=a([32,0])),y.BUFFER||(y.BUFFER=a([32,0]));var h=y.DATA,T=y.BUFFER;d.free=function(U){if(n.isBuffer(U))T[t.log2(U.length)].push(U);else{if(Object.prototype.toString.call(U)!=="[object ArrayBuffer]"&&(U=U.buffer),!U)return;var B=U.length||U.byteLength,V=t.log2(B)|0;h[V].push(U)}};function c(F){if(F){var U=F.length||F.byteLength,B=t.log2(U);h[B].push(F)}}function o(F){c(F.buffer)}d.freeUint8=d.freeUint16=d.freeUint32=d.freeBigUint64=d.freeInt8=d.freeInt16=d.freeInt32=d.freeBigInt64=d.freeFloat32=d.freeFloat=d.freeFloat64=d.freeDouble=d.freeUint8Clamped=d.freeDataView=o,d.freeArrayBuffer=c,d.freeBuffer=function(U){T[t.log2(U.length)].push(U)},d.malloc=function(U,B){if(B===void 0||B==="arraybuffer")return p(U);switch(B){case"uint8":return x(U);case"uint16":return b(U);case"uint32":return P(U);case"int8":return m(U);case"int16":return L(U);case"int32":return M(U);case"float":case"float32":return s(U);case"double":case"float64":return E(U);case"uint8_clamped":return w(U);case"bigint64":return D(U);case"biguint64":return _(U);case"buffer":return z(U);case"data":case"dataview":return N(U);default:return null}return null};function p(U){var U=t.nextPow2(U),B=t.log2(U),V=h[B];return V.length>0?V.pop():new ArrayBuffer(U)}d.mallocArrayBuffer=p;function x(F){return new Uint8Array(p(F),0,F)}d.mallocUint8=x;function b(F){return new Uint16Array(p(2*F),0,F)}d.mallocUint16=b;function P(F){return new Uint32Array(p(4*F),0,F)}d.mallocUint32=P;function m(F){return new Int8Array(p(F),0,F)}d.mallocInt8=m;function L(F){return new Int16Array(p(2*F),0,F)}d.mallocInt16=L;function M(F){return new Int32Array(p(4*F),0,F)}d.mallocInt32=M;function s(F){return new Float32Array(p(4*F),0,F)}d.mallocFloat32=d.mallocFloat=s;function E(F){return new Float64Array(p(8*F),0,F)}d.mallocFloat64=d.mallocDouble=E;function w(F){return f?new Uint8ClampedArray(p(F),0,F):x(F)}d.mallocUint8Clamped=w;function _(F){return u?new BigUint64Array(p(8*F),0,F):null}d.mallocBigUint64=_;function D(F){return l?new BigInt64Array(p(8*F),0,F):null}d.mallocBigInt64=D;function N(F){return new DataView(p(F),0,F)}d.mallocDataView=N;function z(F){F=t.nextPow2(F);var U=t.log2(F),B=T[U];return B.length>0?B.pop():new n(F)}d.mallocBuffer=z,d.clearCache=function(){for(var U=0;U<32;++U)y.UINT8[U].length=0,y.UINT16[U].length=0,y.UINT32[U].length=0,y.INT8[U].length=0,y.INT16[U].length=0,y.INT32[U].length=0,y.FLOAT[U].length=0,y.DOUBLE[U].length=0,y.BIGUINT64[U].length=0,y.BIGINT64[U].length=0,y.UINT8C[U].length=0,h[U].length=0,T[U].length=0}},1755:function(v){"use restrict";v.exports=d;function d(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}var r=d.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var a=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[a]!==t;){var f=n[a];n[a]=t,a=f}return t},r.link=function(t,a){var n=this.find(t),f=this.find(a);if(n!==f){var u=this.ranks,l=this.roots,y=u[n],h=u[f];y<h?l[n]=f:h<y?l[f]=n:(l[f]=n,++u[n])}}},1682:function(v){function d(a,n){for(var f=1,u=a.length,l=a[0],y=a[0],h=1;h<u;++h)if(y=l,l=a[h],n(l,y)){if(h===f){f++;continue}a[f++]=l}return a.length=f,a}function r(a){for(var n=1,f=a.length,u=a[0],l=a[0],y=1;y<f;++y,l=u)if(l=u,u=a[y],u!==l){if(y===n){n++;continue}a[n++]=u}return a.length=n,a}function t(a,n,f){return a.length===0?a:n?(f||a.sort(n),d(a,n)):(f||a.sort(),r(a))}v.exports=t},4359:function(v,d,r){v.exports=f;var t=r(7718),a=null,n=null;typeof document<"u"&&(a=document.createElement("canvas"),a.width=8192,a.height=1024,n=a.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||a,l.context||n,l)}},7718:function(v,d,r){v.exports=D,v.exports.processPixels=_;var t=r(3711),a=r(9618),n=r(5878),f=r(332),u=r(2538),l=r(2095),y="b",h="b|",T="i",c="i|",o="sup",p="+",x="+1",b="sub",P="-",m="-1";function L(N,z,F,U){for(var B="<"+N+">",V="</"+N+">",j=B.length,Q=V.length,ee=z[0]===p||z[0]===P,re=0,ue=-Q;re>-1&&(re=F.indexOf(B,re),!(re===-1||(ue=F.indexOf(V,re+j),ue===-1)||ue<=re));){for(var J=re;J<ue+Q;++J)if(J<re+j||J>=ue)U[J]=null,F=F.substr(0,J)+" "+F.substr(J+1);else if(U[J]!==null){var X=U[J].indexOf(z[0]);X===-1?U[J]+=z:ee&&(U[J]=U[J].substr(0,X+1)+(1+parseInt(U[J][X+1]))+U[J].substr(X+2))}var ne=re+j,Y=F.substr(ne,ue-ne),oe=Y.indexOf(B);oe!==-1?re=oe:re=ue+Q}return U}function M(N,z,F){for(var U=z.textAlign||"start",B=z.textBaseline||"alphabetic",V=[1<<30,1<<30],j=[0,0],Q=N.length,ee=0;ee<Q;++ee)for(var re=N[ee],ue=0;ue<2;++ue)V[ue]=Math.min(V[ue],re[ue])|0,j[ue]=Math.max(j[ue],re[ue])|0;var J=0;switch(U){case"center":J=-.5*(V[0]+j[0]);break;case"right":case"end":J=-j[0];break;case"left":case"start":J=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+U+"'")}var X=0;switch(B){case"hanging":case"top":X=-V[1];break;case"middle":X=-.5*(V[1]+j[1]);break;case"alphabetic":case"ideographic":X=-3*F;break;case"bottom":X=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+B+"'")}var ne=1/F;return"lineHeight"in z?ne*=+z.lineHeight:"width"in z?ne=z.width/(j[0]-V[0]):"height"in z&&(ne=z.height/(j[1]-V[1])),N.map(function(Y){return[ne*(Y[0]+J),ne*(Y[1]+X)]})}function s(N,z,F,U,B,V){F=F.replace(/\n/g,""),V.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var j="",Q=[];for($=0;$<F.length;++$)Q[$]=j;V.bolds===!0&&(Q=L(y,h,F,Q)),V.italics===!0&&(Q=L(T,c,F,Q)),V.superscripts===!0&&(Q=L(o,x,F,Q)),V.subscripts===!0&&(Q=L(b,m,F,Q));var ee=[],re="";for($=0;$<F.length;++$)Q[$]!==null&&(re+=F[$],ee.push(Q[$]));var ue=re.split(`
`),J=ue.length,X=Math.round(B*U),ne=U,Y=U*2,oe=0,le=J*X+Y;N.height<le&&(N.height=le),z.fillStyle="#000",z.fillRect(0,0,N.width,N.height),z.fillStyle="#fff";var Z,$,se,ae,he,me=0,Me="";function Te(){if(Me!==""){var He=z.measureText(Me).width;z.fillText(Me,ne+se,Y+ae),se+=He}}function Pe(){return""+Math.round(he)+"px "}function be(He,at){var vt=""+z.font;if(V.subscripts===!0){var ot=He.indexOf(P),et=at.indexOf(P),ct=ot>-1?parseInt(He[1+ot]):0,ht=et>-1?parseInt(at[1+et]):0;ct!==ht&&(vt=vt.replace(Pe(),"?px "),he*=Math.pow(.75,ht-ct),vt=vt.replace("?px ",Pe())),ae+=.25*X*(ht-ct)}if(V.superscripts===!0){var gt=He.indexOf(p),xt=at.indexOf(p),Mt=gt>-1?parseInt(He[1+gt]):0,tt=xt>-1?parseInt(at[1+xt]):0;Mt!==tt&&(vt=vt.replace(Pe(),"?px "),he*=Math.pow(.75,tt-Mt),vt=vt.replace("?px ",Pe())),ae-=.25*X*(tt-Mt)}if(V.bolds===!0){var Oe=He.indexOf(h)>-1,Xe=at.indexOf(h)>-1;!Oe&&Xe&&(Ze?vt=vt.replace("italic ","italic bold "):vt="bold "+vt),Oe&&!Xe&&(vt=vt.replace("bold ",""))}if(V.italics===!0){var Ze=He.indexOf(c)>-1,We=at.indexOf(c)>-1;!Ze&&We&&(vt="italic "+vt),Ze&&!We&&(vt=vt.replace("italic ",""))}z.font=vt}for(Z=0;Z<J;++Z){var Ee=ue[Z]+`
`;for(se=0,ae=Z*X,he=U,Me="",$=0;$<Ee.length;++$){var xe=$+me<ee.length?ee[$+me]:ee[ee.length-1];j===xe?Me+=Ee[$]:(Te(),Me=Ee[$],xe!==void 0&&(be(j,xe),j=xe))}Te(),me+=Ee.length;var Ce=Math.round(se+2*ne)|0;oe<Ce&&(oe=Ce)}var Ue=oe,Ne=Y+X*J,De=a(z.getImageData(0,0,Ue,Ne).data,[Ne,Ue,4]);return De.pick(-1,-1,0).transpose(1,0)}function E(N,z){var F=t(N,128);return z?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function w(N,z,F,U){var B=E(N,U),V=M(B.positions,z,F),j=B.edges,Q=z.orientation==="ccw";if(f(V,j),z.polygons||z.polygon||z.polyline){for(var ee=l(j,V),re=new Array(ee.length),ue=0;ue<ee.length;++ue){for(var J=ee[ue],X=new Array(J.length),ne=0;ne<J.length;++ne){for(var Y=J[ne],oe=new Array(Y.length),le=0;le<Y.length;++le)oe[le]=V[Y[le]].slice();Q&&oe.reverse(),X[ne]=oe}re[ue]=X}return re}else return z.triangles||z.triangulate||z.triangle?{cells:u(V,j,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:j,positions:V}}function _(N,z,F){try{return w(N,z,F,!0)}catch{}try{return w(N,z,F,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function D(N,z,F,U){var B=64,V=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};U&&(U.size&&U.size>0&&(B=U.size),U.lineSpacing&&U.lineSpacing>0&&(V=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(j.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(j.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(j.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(j.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(j.superscripts=!!U.styletags.superscripts)),F.font=[U.fontStyle,U.fontVariant,U.fontWeight,B+"px",U.font].filter(function(ee){return ee}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var Q=s(z,F,N,B,V,j);return _(Q,U,B)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var a=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new a,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,y=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),T=h+"rand:"+Array.prototype.map.call(o,function(E){return(E%36).toString(36)}).join("")+"___"}function p(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(w){return u(w).filter(p)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(w){return x(w).filter(p)}})}function b(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var w=E[T];if(w&&w.key===E)return w;if(y(E)){w={key:E};try{return l(E,T,{value:w,writable:!1,enumerable:!1,configurable:!1}),w}catch{return}}}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(N){return b(N),E(N)}});var w=Object.seal;l(Object,"seal",{value:function(N){return b(N),w(N)}});var _=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return b(N),_(N)}})})();function P(E){return E.prototype=null,Object.freeze(E)}var m=!1;function L(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var M=0,s=function(){this instanceof s||L();var E=[],w=[],_=M++;function D(U,B){var V,j=b(U);return j?_ in j?j[_]:B:(V=E.indexOf(U),V>=0?w[V]:B)}function N(U){var B=b(U);return B?_ in B:E.indexOf(U)>=0}function z(U,B){var V,j=b(U);return j?j[_]=B:(V=E.indexOf(U),V>=0?w[V]=B:(V=E.length,w[V]=B,E[V]=U)),this}function F(U){var B=b(U),V,j;return B?_ in B&&delete B[_]:(V=E.indexOf(U),V<0?!1:(j=E.length-1,E[V]=void 0,w[V]=w[j],E[V]=E[j],E.length=j,w.length=j,!0))}return Object.create(s.prototype,{get___:{value:P(D)},has___:{value:P(N)},set___:{value:P(z)},delete___:{value:P(F)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(w,_){return this.get___(w,_)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,_){return this.set___(w,_)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof a=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof s||L();var w=new a,_=void 0,D=!1;function N(B,V){return _?w.has(B)?w.get(B):_.get___(B,V):w.get(B,V)}function z(B){return w.has(B)||(_?_.has___(B):!1)}var F;t?F=function(B,V){return w.set(B,V),w.has(B)||(_||(_=new s),_.set(B,V)),this}:F=function(B,V){if(D)try{w.set(B,V)}catch{_||(_=new s),_.set___(B,V)}else w.set(B,V);return this};function U(B){var V=!!w.delete(B);return _&&_.delete___(B)||V}return Object.create(s.prototype,{get___:{value:P(N)},has___:{value:P(z)},set___:{value:P(F)},delete___:{value:P(U)},permitHostObjects___:{value:P(function(B){if(B===r)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=s.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,d,r){var t=r(8284);v.exports=a;function a(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},8284:function(v){v.exports=d;function d(r,t){var a={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):a},writable:!0}),a}},606:function(v,d,r){var t=r(236);v.exports=a;function a(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function d(){return function(u,l,y,h,T,c){var o=u[0],p=y[0],x=[0],b=p;h|=0;var P=0,m=p;for(P=0;P<o;++P){{var L=l[h]-c,M=l[h+b]-c;L>=0!=M>=0&&T.push(x[0]+.5+.5*(L+M)/(L-M))}h+=m,++x[0]}}}function r(){return d()}var t=r;function a(u){var l={};return function(h,T,c){var o=h.dtype,p=h.order,x=[o,p.join()].join(),b=l[x];return b||(l[x]=b=u([o,p])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,d,r){v.exports=a;var t=r(3349);function a(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},7790:function(){}},i={};function C(v){var d=i[v];if(d!==void 0)return d.exports;var r=i[v]={id:v,loaded:!1,exports:{}};return R[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=C(1964);G.exports=S})()},33576:function(G,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(tt,Oe){if(!(tt instanceof Oe))throw new TypeError("Cannot call a class as a function")}function R(tt,Oe){for(var Xe=0;Xe<Oe.length;Xe++){var Ze=Oe[Xe];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(tt,C(Ze.key),Ze)}}function i(tt,Oe,Xe){return Oe&&R(tt.prototype,Oe),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function C(tt){var Oe=S(tt,"string");return f(Oe)==="symbol"?Oe:String(Oe)}function S(tt,Oe){if(f(tt)!=="object"||tt===null)return tt;var Xe=tt[Symbol.toPrimitive];if(Xe!==void 0){var Ze=Xe.call(tt,Oe);if(f(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tt)}function v(tt,Oe,Xe){function Ze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Oe=r(Oe),d(tt,Ze()?Reflect.construct(Oe,[],r(tt).constructor):Oe.apply(tt,Xe))}function d(tt,Oe){if(Oe&&(f(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Xe){return Xe.__proto__||Object.getPrototypeOf(Xe)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function a(tt,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Oe&&n(tt,Oe)}function n(tt,Oe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,We){return Ze.__proto__=We,Ze},n(tt,Oe)}function f(tt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},f(tt)}var u=e(59968),l=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=o,H.SlowBuffer=_,H.INSPECT_MAX_BYTES=50;var h=2147483647;H.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=T(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var tt=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(tt,Oe),tt.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(tt){if(tt>h)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var Oe=new Uint8Array(tt);return Object.setPrototypeOf(Oe,o.prototype),Oe}function o(tt,Oe,Xe){if(typeof tt=="number"){if(typeof Oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(tt)}return p(tt,Oe,Xe)}o.poolSize=8192;function p(tt,Oe,Xe){if(typeof tt=="string")return m(tt,Oe);if(ArrayBuffer.isView(tt))return M(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt));if(ct(tt,ArrayBuffer)||tt&&ct(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(tt,SharedArrayBuffer)||tt&&ct(tt.buffer,SharedArrayBuffer)))return s(tt,Oe,Xe);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=tt.valueOf&&tt.valueOf();if(Ze!=null&&Ze!==tt)return o.from(Ze,Oe,Xe);var We=E(tt);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return o.from(tt[Symbol.toPrimitive]("string"),Oe,Xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt))}o.from=function(tt,Oe,Xe){return p(tt,Oe,Xe)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function x(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function b(tt,Oe,Xe){return x(tt),tt<=0?c(tt):Oe!==void 0?typeof Xe=="string"?c(tt).fill(Oe,Xe):c(tt).fill(Oe):c(tt)}o.alloc=function(tt,Oe,Xe){return b(tt,Oe,Xe)};function P(tt){return x(tt),c(tt<0?0:w(tt)|0)}o.allocUnsafe=function(tt){return P(tt)},o.allocUnsafeSlow=function(tt){return P(tt)};function m(tt,Oe){if((typeof Oe!="string"||Oe==="")&&(Oe="utf8"),!o.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var Xe=D(tt,Oe)|0,Ze=c(Xe),We=Ze.write(tt,Oe);return We!==Xe&&(Ze=Ze.slice(0,We)),Ze}function L(tt){for(var Oe=tt.length<0?0:w(tt.length)|0,Xe=c(Oe),Ze=0;Ze<Oe;Ze+=1)Xe[Ze]=tt[Ze]&255;return Xe}function M(tt){if(ct(tt,Uint8Array)){var Oe=new Uint8Array(tt);return s(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return L(tt)}function s(tt,Oe,Xe){if(Oe<0||tt.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<Oe+(Xe||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return Oe===void 0&&Xe===void 0?Ze=new Uint8Array(tt):Xe===void 0?Ze=new Uint8Array(tt,Oe):Ze=new Uint8Array(tt,Oe,Xe),Object.setPrototypeOf(Ze,o.prototype),Ze}function E(tt){if(o.isBuffer(tt)){var Oe=w(tt.length)|0,Xe=c(Oe);return Xe.length===0||tt.copy(Xe,0,0,Oe),Xe}if(tt.length!==void 0)return typeof tt.length!="number"||ht(tt.length)?c(0):L(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return L(tt.data)}function w(tt){if(tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return tt|0}function _(tt){return+tt!=tt&&(tt=0),o.alloc(+tt)}o.isBuffer=function(Oe){return Oe!=null&&Oe._isBuffer===!0&&Oe!==o.prototype},o.compare=function(Oe,Xe){if(ct(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),ct(Xe,Uint8Array)&&(Xe=o.from(Xe,Xe.offset,Xe.byteLength)),!o.isBuffer(Oe)||!o.isBuffer(Xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Oe===Xe)return 0;for(var Ze=Oe.length,We=Xe.length,ze=0,ke=Math.min(Ze,We);ze<ke;++ze)if(Oe[ze]!==Xe[ze]){Ze=Oe[ze],We=Xe[ze];break}return Ze<We?-1:We<Ze?1:0},o.isEncoding=function(Oe){switch(String(Oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(Oe,Xe){if(!Array.isArray(Oe))throw new TypeError('"list" argument must be an Array of Buffers');if(Oe.length===0)return o.alloc(0);var Ze;if(Xe===void 0)for(Xe=0,Ze=0;Ze<Oe.length;++Ze)Xe+=Oe[Ze].length;var We=o.allocUnsafe(Xe),ze=0;for(Ze=0;Ze<Oe.length;++Ze){var ke=Oe[Ze];if(ct(ke,Uint8Array))ze+ke.length>We.length?(o.isBuffer(ke)||(ke=o.from(ke)),ke.copy(We,ze)):Uint8Array.prototype.set.call(We,ke,ze);else if(o.isBuffer(ke))ke.copy(We,ze);else throw new TypeError('"list" argument must be an Array of Buffers');ze+=ke.length}return We};function D(tt,Oe){if(o.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||ct(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(tt));var Xe=tt.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&Xe===0)return 0;for(var We=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return Xe;case"utf8":case"utf-8":return He(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xe*2;case"hex":return Xe>>>1;case"base64":return ot(tt).length;default:if(We)return Ze?-1:He(tt).length;Oe=(""+Oe).toLowerCase(),We=!0}}o.byteLength=D;function N(tt,Oe,Xe){var Ze=!1;if((Oe===void 0||Oe<0)&&(Oe=0),Oe>this.length||((Xe===void 0||Xe>this.length)&&(Xe=this.length),Xe<=0)||(Xe>>>=0,Oe>>>=0,Xe<=Oe))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return oe(this,Oe,Xe);case"utf8":case"utf-8":return ue(this,Oe,Xe);case"ascii":return ne(this,Oe,Xe);case"latin1":case"binary":return Y(this,Oe,Xe);case"base64":return re(this,Oe,Xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,Oe,Xe);default:if(Ze)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Ze=!0}}o.prototype._isBuffer=!0;function z(tt,Oe,Xe){var Ze=tt[Oe];tt[Oe]=tt[Xe],tt[Xe]=Ze}o.prototype.swap16=function(){var Oe=this.length;if(Oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Xe=0;Xe<Oe;Xe+=2)z(this,Xe,Xe+1);return this},o.prototype.swap32=function(){var Oe=this.length;if(Oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Xe=0;Xe<Oe;Xe+=4)z(this,Xe,Xe+3),z(this,Xe+1,Xe+2);return this},o.prototype.swap64=function(){var Oe=this.length;if(Oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Xe=0;Xe<Oe;Xe+=8)z(this,Xe,Xe+7),z(this,Xe+1,Xe+6),z(this,Xe+2,Xe+5),z(this,Xe+3,Xe+4);return this},o.prototype.toString=function(){var Oe=this.length;return Oe===0?"":arguments.length===0?ue(this,0,Oe):N.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(Oe){if(!o.isBuffer(Oe))throw new TypeError("Argument must be a Buffer");return this===Oe?!0:o.compare(this,Oe)===0},o.prototype.inspect=function(){var Oe="",Xe=H.INSPECT_MAX_BYTES;return Oe=this.toString("hex",0,Xe).replace(/(.{2})/g,"$1 ").trim(),this.length>Xe&&(Oe+=" ... "),"<Buffer "+Oe+">"},y&&(o.prototype[y]=o.prototype.inspect),o.prototype.compare=function(Oe,Xe,Ze,We,ze){if(ct(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),!o.isBuffer(Oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Oe));if(Xe===void 0&&(Xe=0),Ze===void 0&&(Ze=Oe?Oe.length:0),We===void 0&&(We=0),ze===void 0&&(ze=this.length),Xe<0||Ze>Oe.length||We<0||ze>this.length)throw new RangeError("out of range index");if(We>=ze&&Xe>=Ze)return 0;if(We>=ze)return-1;if(Xe>=Ze)return 1;if(Xe>>>=0,Ze>>>=0,We>>>=0,ze>>>=0,this===Oe)return 0;for(var ke=ze-We,je=Ze-Xe,Ie=Math.min(ke,je),pe=this.slice(We,ze),we=Oe.slice(Xe,Ze),Ve=0;Ve<Ie;++Ve)if(pe[Ve]!==we[Ve]){ke=pe[Ve],je=we[Ve];break}return ke<je?-1:je<ke?1:0};function F(tt,Oe,Xe,Ze,We){if(tt.length===0)return-1;if(typeof Xe=="string"?(Ze=Xe,Xe=0):Xe>2147483647?Xe=2147483647:Xe<-2147483648&&(Xe=-2147483648),Xe=+Xe,ht(Xe)&&(Xe=We?0:tt.length-1),Xe<0&&(Xe=tt.length+Xe),Xe>=tt.length){if(We)return-1;Xe=tt.length-1}else if(Xe<0)if(We)Xe=0;else return-1;if(typeof Oe=="string"&&(Oe=o.from(Oe,Ze)),o.isBuffer(Oe))return Oe.length===0?-1:U(tt,Oe,Xe,Ze,We);if(typeof Oe=="number")return Oe=Oe&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(tt,Oe,Xe):Uint8Array.prototype.lastIndexOf.call(tt,Oe,Xe):U(tt,[Oe],Xe,Ze,We);throw new TypeError("val must be string, number or Buffer")}function U(tt,Oe,Xe,Ze,We){var ze=1,ke=tt.length,je=Oe.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(tt.length<2||Oe.length<2)return-1;ze=2,ke/=2,je/=2,Xe/=2}function Ie(it,st){return ze===1?it[st]:it.readUInt16BE(st*ze)}var pe;if(We){var we=-1;for(pe=Xe;pe<ke;pe++)if(Ie(tt,pe)===Ie(Oe,we===-1?0:pe-we)){if(we===-1&&(we=pe),pe-we+1===je)return we*ze}else we!==-1&&(pe-=pe-we),we=-1}else for(Xe+je>ke&&(Xe=ke-je),pe=Xe;pe>=0;pe--){for(var Ve=!0,Qe=0;Qe<je;Qe++)if(Ie(tt,pe+Qe)!==Ie(Oe,Qe)){Ve=!1;break}if(Ve)return pe}return-1}o.prototype.includes=function(Oe,Xe,Ze){return this.indexOf(Oe,Xe,Ze)!==-1},o.prototype.indexOf=function(Oe,Xe,Ze){return F(this,Oe,Xe,Ze,!0)},o.prototype.lastIndexOf=function(Oe,Xe,Ze){return F(this,Oe,Xe,Ze,!1)};function B(tt,Oe,Xe,Ze){Xe=Number(Xe)||0;var We=tt.length-Xe;Ze?(Ze=Number(Ze),Ze>We&&(Ze=We)):Ze=We;var ze=Oe.length;Ze>ze/2&&(Ze=ze/2);var ke;for(ke=0;ke<Ze;++ke){var je=parseInt(Oe.substr(ke*2,2),16);if(ht(je))return ke;tt[Xe+ke]=je}return ke}function V(tt,Oe,Xe,Ze){return et(He(Oe,tt.length-Xe),tt,Xe,Ze)}function j(tt,Oe,Xe,Ze){return et(at(Oe),tt,Xe,Ze)}function Q(tt,Oe,Xe,Ze){return et(ot(Oe),tt,Xe,Ze)}function ee(tt,Oe,Xe,Ze){return et(vt(Oe,tt.length-Xe),tt,Xe,Ze)}o.prototype.write=function(Oe,Xe,Ze,We){if(Xe===void 0)We="utf8",Ze=this.length,Xe=0;else if(Ze===void 0&&typeof Xe=="string")We=Xe,Ze=this.length,Xe=0;else if(isFinite(Xe))Xe=Xe>>>0,isFinite(Ze)?(Ze=Ze>>>0,We===void 0&&(We="utf8")):(We=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ze=this.length-Xe;if((Ze===void 0||Ze>ze)&&(Ze=ze),Oe.length>0&&(Ze<0||Xe<0)||Xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var ke=!1;;)switch(We){case"hex":return B(this,Oe,Xe,Ze);case"utf8":case"utf-8":return V(this,Oe,Xe,Ze);case"ascii":case"latin1":case"binary":return j(this,Oe,Xe,Ze);case"base64":return Q(this,Oe,Xe,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,Oe,Xe,Ze);default:if(ke)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),ke=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(tt,Oe,Xe){return Oe===0&&Xe===tt.length?u.fromByteArray(tt):u.fromByteArray(tt.slice(Oe,Xe))}function ue(tt,Oe,Xe){Xe=Math.min(tt.length,Xe);for(var Ze=[],We=Oe;We<Xe;){var ze=tt[We],ke=null,je=ze>239?4:ze>223?3:ze>191?2:1;if(We+je<=Xe){var Ie=void 0,pe=void 0,we=void 0,Ve=void 0;switch(je){case 1:ze<128&&(ke=ze);break;case 2:Ie=tt[We+1],(Ie&192)===128&&(Ve=(ze&31)<<6|Ie&63,Ve>127&&(ke=Ve));break;case 3:Ie=tt[We+1],pe=tt[We+2],(Ie&192)===128&&(pe&192)===128&&(Ve=(ze&15)<<12|(Ie&63)<<6|pe&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ke=Ve));break;case 4:Ie=tt[We+1],pe=tt[We+2],we=tt[We+3],(Ie&192)===128&&(pe&192)===128&&(we&192)===128&&(Ve=(ze&15)<<18|(Ie&63)<<12|(pe&63)<<6|we&63,Ve>65535&&Ve<1114112&&(ke=Ve))}}ke===null?(ke=65533,je=1):ke>65535&&(ke-=65536,Ze.push(ke>>>10&1023|55296),ke=56320|ke&1023),Ze.push(ke),We+=je}return X(Ze)}var J=4096;function X(tt){var Oe=tt.length;if(Oe<=J)return String.fromCharCode.apply(String,tt);for(var Xe="",Ze=0;Ze<Oe;)Xe+=String.fromCharCode.apply(String,tt.slice(Ze,Ze+=J));return Xe}function ne(tt,Oe,Xe){var Ze="";Xe=Math.min(tt.length,Xe);for(var We=Oe;We<Xe;++We)Ze+=String.fromCharCode(tt[We]&127);return Ze}function Y(tt,Oe,Xe){var Ze="";Xe=Math.min(tt.length,Xe);for(var We=Oe;We<Xe;++We)Ze+=String.fromCharCode(tt[We]);return Ze}function oe(tt,Oe,Xe){var Ze=tt.length;(!Oe||Oe<0)&&(Oe=0),(!Xe||Xe<0||Xe>Ze)&&(Xe=Ze);for(var We="",ze=Oe;ze<Xe;++ze)We+=gt[tt[ze]];return We}function le(tt,Oe,Xe){for(var Ze=tt.slice(Oe,Xe),We="",ze=0;ze<Ze.length-1;ze+=2)We+=String.fromCharCode(Ze[ze]+Ze[ze+1]*256);return We}o.prototype.slice=function(Oe,Xe){var Ze=this.length;Oe=~~Oe,Xe=Xe===void 0?Ze:~~Xe,Oe<0?(Oe+=Ze,Oe<0&&(Oe=0)):Oe>Ze&&(Oe=Ze),Xe<0?(Xe+=Ze,Xe<0&&(Xe=0)):Xe>Ze&&(Xe=Ze),Xe<Oe&&(Xe=Oe);var We=this.subarray(Oe,Xe);return Object.setPrototypeOf(We,o.prototype),We};function Z(tt,Oe,Xe){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+Oe>Xe)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(Oe,Xe,Ze){Oe=Oe>>>0,Xe=Xe>>>0,Ze||Z(Oe,Xe,this.length);for(var We=this[Oe],ze=1,ke=0;++ke<Xe&&(ze*=256);)We+=this[Oe+ke]*ze;return We},o.prototype.readUintBE=o.prototype.readUIntBE=function(Oe,Xe,Ze){Oe=Oe>>>0,Xe=Xe>>>0,Ze||Z(Oe,Xe,this.length);for(var We=this[Oe+--Xe],ze=1;Xe>0&&(ze*=256);)We+=this[Oe+--Xe]*ze;return We},o.prototype.readUint8=o.prototype.readUInt8=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,1,this.length),this[Oe]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,2,this.length),this[Oe]|this[Oe+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,2,this.length),this[Oe]<<8|this[Oe+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),(this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16)+this[Oe+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),this[Oe]*16777216+(this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3])},o.prototype.readBigUInt64LE=xt(function(Oe){Oe=Oe>>>0,Ce(Oe,"offset");var Xe=this[Oe],Ze=this[Oe+7];(Xe===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=Xe+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24),ze=this[++Oe]+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(We)+(BigInt(ze)<<BigInt(32))}),o.prototype.readBigUInt64BE=xt(function(Oe){Oe=Oe>>>0,Ce(Oe,"offset");var Xe=this[Oe],Ze=this[Oe+7];(Xe===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=Xe*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe],ze=this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze;return(BigInt(We)<<BigInt(32))+BigInt(ze)}),o.prototype.readIntLE=function(Oe,Xe,Ze){Oe=Oe>>>0,Xe=Xe>>>0,Ze||Z(Oe,Xe,this.length);for(var We=this[Oe],ze=1,ke=0;++ke<Xe&&(ze*=256);)We+=this[Oe+ke]*ze;return ze*=128,We>=ze&&(We-=Math.pow(2,8*Xe)),We},o.prototype.readIntBE=function(Oe,Xe,Ze){Oe=Oe>>>0,Xe=Xe>>>0,Ze||Z(Oe,Xe,this.length);for(var We=Xe,ze=1,ke=this[Oe+--We];We>0&&(ze*=256);)ke+=this[Oe+--We]*ze;return ze*=128,ke>=ze&&(ke-=Math.pow(2,8*Xe)),ke},o.prototype.readInt8=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,1,this.length),this[Oe]&128?(255-this[Oe]+1)*-1:this[Oe]},o.prototype.readInt16LE=function(Oe,Xe){Oe=Oe>>>0,Xe||Z(Oe,2,this.length);var Ze=this[Oe]|this[Oe+1]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt16BE=function(Oe,Xe){Oe=Oe>>>0,Xe||Z(Oe,2,this.length);var Ze=this[Oe+1]|this[Oe]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt32LE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16|this[Oe+3]<<24},o.prototype.readInt32BE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),this[Oe]<<24|this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3]},o.prototype.readBigInt64LE=xt(function(Oe){Oe=Oe>>>0,Ce(Oe,"offset");var Xe=this[Oe],Ze=this[Oe+7];(Xe===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=this[Oe+4]+this[Oe+5]*Math.pow(2,8)+this[Oe+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(We)<<BigInt(32))+BigInt(Xe+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24))}),o.prototype.readBigInt64BE=xt(function(Oe){Oe=Oe>>>0,Ce(Oe,"offset");var Xe=this[Oe],Ze=this[Oe+7];(Xe===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=(Xe<<24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe];return(BigInt(We)<<BigInt(32))+BigInt(this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze)}),o.prototype.readFloatLE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),l.read(this,Oe,!0,23,4)},o.prototype.readFloatBE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,4,this.length),l.read(this,Oe,!1,23,4)},o.prototype.readDoubleLE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,8,this.length),l.read(this,Oe,!0,52,8)},o.prototype.readDoubleBE=function(Oe,Xe){return Oe=Oe>>>0,Xe||Z(Oe,8,this.length),l.read(this,Oe,!1,52,8)};function $(tt,Oe,Xe,Ze,We,ze){if(!o.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>We||Oe<ze)throw new RangeError('"value" argument is out of bounds');if(Xe+Ze>tt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(Oe,Xe,Ze,We){if(Oe=+Oe,Xe=Xe>>>0,Ze=Ze>>>0,!We){var ze=Math.pow(2,8*Ze)-1;$(this,Oe,Xe,Ze,ze,0)}var ke=1,je=0;for(this[Xe]=Oe&255;++je<Ze&&(ke*=256);)this[Xe+je]=Oe/ke&255;return Xe+Ze},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(Oe,Xe,Ze,We){if(Oe=+Oe,Xe=Xe>>>0,Ze=Ze>>>0,!We){var ze=Math.pow(2,8*Ze)-1;$(this,Oe,Xe,Ze,ze,0)}var ke=Ze-1,je=1;for(this[Xe+ke]=Oe&255;--ke>=0&&(je*=256);)this[Xe+ke]=Oe/je&255;return Xe+Ze},o.prototype.writeUint8=o.prototype.writeUInt8=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,1,255,0),this[Xe]=Oe&255,Xe+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,2,65535,0),this[Xe]=Oe&255,this[Xe+1]=Oe>>>8,Xe+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,2,65535,0),this[Xe]=Oe>>>8,this[Xe+1]=Oe&255,Xe+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,4,4294967295,0),this[Xe+3]=Oe>>>24,this[Xe+2]=Oe>>>16,this[Xe+1]=Oe>>>8,this[Xe]=Oe&255,Xe+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,4,4294967295,0),this[Xe]=Oe>>>24,this[Xe+1]=Oe>>>16,this[Xe+2]=Oe>>>8,this[Xe+3]=Oe&255,Xe+4};function se(tt,Oe,Xe,Ze,We){xe(Oe,Ze,We,tt,Xe,7);var ze=Number(Oe&BigInt(4294967295));tt[Xe++]=ze,ze=ze>>8,tt[Xe++]=ze,ze=ze>>8,tt[Xe++]=ze,ze=ze>>8,tt[Xe++]=ze;var ke=Number(Oe>>BigInt(32)&BigInt(4294967295));return tt[Xe++]=ke,ke=ke>>8,tt[Xe++]=ke,ke=ke>>8,tt[Xe++]=ke,ke=ke>>8,tt[Xe++]=ke,Xe}function ae(tt,Oe,Xe,Ze,We){xe(Oe,Ze,We,tt,Xe,7);var ze=Number(Oe&BigInt(4294967295));tt[Xe+7]=ze,ze=ze>>8,tt[Xe+6]=ze,ze=ze>>8,tt[Xe+5]=ze,ze=ze>>8,tt[Xe+4]=ze;var ke=Number(Oe>>BigInt(32)&BigInt(4294967295));return tt[Xe+3]=ke,ke=ke>>8,tt[Xe+2]=ke,ke=ke>>8,tt[Xe+1]=ke,ke=ke>>8,tt[Xe]=ke,Xe+8}o.prototype.writeBigUInt64LE=xt(function(Oe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Oe,Xe,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=xt(function(Oe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Xe,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(Oe,Xe,Ze,We){if(Oe=+Oe,Xe=Xe>>>0,!We){var ze=Math.pow(2,8*Ze-1);$(this,Oe,Xe,Ze,ze-1,-ze)}var ke=0,je=1,Ie=0;for(this[Xe]=Oe&255;++ke<Ze&&(je*=256);)Oe<0&&Ie===0&&this[Xe+ke-1]!==0&&(Ie=1),this[Xe+ke]=(Oe/je>>0)-Ie&255;return Xe+Ze},o.prototype.writeIntBE=function(Oe,Xe,Ze,We){if(Oe=+Oe,Xe=Xe>>>0,!We){var ze=Math.pow(2,8*Ze-1);$(this,Oe,Xe,Ze,ze-1,-ze)}var ke=Ze-1,je=1,Ie=0;for(this[Xe+ke]=Oe&255;--ke>=0&&(je*=256);)Oe<0&&Ie===0&&this[Xe+ke+1]!==0&&(Ie=1),this[Xe+ke]=(Oe/je>>0)-Ie&255;return Xe+Ze},o.prototype.writeInt8=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,1,127,-128),Oe<0&&(Oe=255+Oe+1),this[Xe]=Oe&255,Xe+1},o.prototype.writeInt16LE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,2,32767,-32768),this[Xe]=Oe&255,this[Xe+1]=Oe>>>8,Xe+2},o.prototype.writeInt16BE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,2,32767,-32768),this[Xe]=Oe>>>8,this[Xe+1]=Oe&255,Xe+2},o.prototype.writeInt32LE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,4,2147483647,-2147483648),this[Xe]=Oe&255,this[Xe+1]=Oe>>>8,this[Xe+2]=Oe>>>16,this[Xe+3]=Oe>>>24,Xe+4},o.prototype.writeInt32BE=function(Oe,Xe,Ze){return Oe=+Oe,Xe=Xe>>>0,Ze||$(this,Oe,Xe,4,2147483647,-2147483648),Oe<0&&(Oe=4294967295+Oe+1),this[Xe]=Oe>>>24,this[Xe+1]=Oe>>>16,this[Xe+2]=Oe>>>8,this[Xe+3]=Oe&255,Xe+4},o.prototype.writeBigInt64LE=xt(function(Oe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Oe,Xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=xt(function(Oe){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(tt,Oe,Xe,Ze,We,ze){if(Xe+Ze>tt.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("Index out of range")}function me(tt,Oe,Xe,Ze,We){return Oe=+Oe,Xe=Xe>>>0,We||he(tt,Oe,Xe,4),l.write(tt,Oe,Xe,Ze,23,4),Xe+4}o.prototype.writeFloatLE=function(Oe,Xe,Ze){return me(this,Oe,Xe,!0,Ze)},o.prototype.writeFloatBE=function(Oe,Xe,Ze){return me(this,Oe,Xe,!1,Ze)};function Me(tt,Oe,Xe,Ze,We){return Oe=+Oe,Xe=Xe>>>0,We||he(tt,Oe,Xe,8),l.write(tt,Oe,Xe,Ze,52,8),Xe+8}o.prototype.writeDoubleLE=function(Oe,Xe,Ze){return Me(this,Oe,Xe,!0,Ze)},o.prototype.writeDoubleBE=function(Oe,Xe,Ze){return Me(this,Oe,Xe,!1,Ze)},o.prototype.copy=function(Oe,Xe,Ze,We){if(!o.isBuffer(Oe))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!We&&We!==0&&(We=this.length),Xe>=Oe.length&&(Xe=Oe.length),Xe||(Xe=0),We>0&&We<Ze&&(We=Ze),We===Ze||Oe.length===0||this.length===0)return 0;if(Xe<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),Oe.length-Xe<We-Ze&&(We=Oe.length-Xe+Ze);var ze=We-Ze;return this===Oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Xe,Ze,We):Uint8Array.prototype.set.call(Oe,this.subarray(Ze,We),Xe),ze},o.prototype.fill=function(Oe,Xe,Ze,We){if(typeof Oe=="string"){if(typeof Xe=="string"?(We=Xe,Xe=0,Ze=this.length):typeof Ze=="string"&&(We=Ze,Ze=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!o.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(Oe.length===1){var ze=Oe.charCodeAt(0);(We==="utf8"&&ze<128||We==="latin1")&&(Oe=ze)}}else typeof Oe=="number"?Oe=Oe&255:typeof Oe=="boolean"&&(Oe=Number(Oe));if(Xe<0||this.length<Xe||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=Xe)return this;Xe=Xe>>>0,Ze=Ze===void 0?this.length:Ze>>>0,Oe||(Oe=0);var ke;if(typeof Oe=="number")for(ke=Xe;ke<Ze;++ke)this[ke]=Oe;else{var je=o.isBuffer(Oe)?Oe:o.from(Oe,We),Ie=je.length;if(Ie===0)throw new TypeError('The value "'+Oe+'" is invalid for argument "value"');for(ke=0;ke<Ze-Xe;++ke)this[ke+Xe]=je[ke%Ie]}return this};var Te={};function Pe(tt,Oe,Xe){Te[tt]=function(Ze){a(We,Ze);function We(){var ze;return g(this,We),ze=v(this,We),Object.defineProperty(t(ze),"message",{value:Oe.apply(t(ze),arguments),writable:!0,configurable:!0}),ze.name="".concat(ze.name," [").concat(tt,"]"),ze.stack,delete ze.name,ze}return i(We,[{key:"code",get:function(){return tt},set:function(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),We}(Xe)}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(tt,Oe){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(f(Oe))},TypeError),Pe("ERR_OUT_OF_RANGE",function(tt,Oe,Xe){var Ze='The value of "'.concat(tt,'" is out of range.'),We=Xe;return Number.isInteger(Xe)&&Math.abs(Xe)>Math.pow(2,32)?We=be(String(Xe)):typeof Xe=="bigint"&&(We=String(Xe),(Xe>Math.pow(BigInt(2),BigInt(32))||Xe<-Math.pow(BigInt(2),BigInt(32)))&&(We=be(We)),We+="n"),Ze+=" It must be ".concat(Oe,". Received ").concat(We),Ze},RangeError);function be(tt){for(var Oe="",Xe=tt.length,Ze=tt[0]==="-"?1:0;Xe>=Ze+4;Xe-=3)Oe="_".concat(tt.slice(Xe-3,Xe)).concat(Oe);return"".concat(tt.slice(0,Xe)).concat(Oe)}function Ee(tt,Oe,Xe){Ce(Oe,"offset"),(tt[Oe]===void 0||tt[Oe+Xe]===void 0)&&Ue(Oe,tt.length-(Xe+1))}function xe(tt,Oe,Xe,Ze,We,ze){if(tt>Xe||tt<Oe){var ke=typeof Oe=="bigint"?"n":"",je;throw Oe===0||Oe===BigInt(0)?je=">= 0".concat(ke," and < 2").concat(ke," ** ").concat((ze+1)*8).concat(ke):je=">= -(2".concat(ke," ** ").concat((ze+1)*8-1).concat(ke,") and < 2 ** ")+"".concat((ze+1)*8-1).concat(ke),new Te.ERR_OUT_OF_RANGE("value",je,tt)}Ee(Ze,We,ze)}function Ce(tt,Oe){if(typeof tt!="number")throw new Te.ERR_INVALID_ARG_TYPE(Oe,"number",tt)}function Ue(tt,Oe,Xe){throw Math.floor(tt)!==tt?(Ce(tt,Xe),new Te.ERR_OUT_OF_RANGE("offset","an integer",tt)):Oe<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Oe),tt)}var Ne=/[^+/0-9A-Za-z-_]/g;function De(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(Ne,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function He(tt,Oe){Oe=Oe||1/0;for(var Xe,Ze=tt.length,We=null,ze=[],ke=0;ke<Ze;++ke){if(Xe=tt.charCodeAt(ke),Xe>55295&&Xe<57344){if(!We){if(Xe>56319){(Oe-=3)>-1&&ze.push(239,191,189);continue}else if(ke+1===Ze){(Oe-=3)>-1&&ze.push(239,191,189);continue}We=Xe;continue}if(Xe<56320){(Oe-=3)>-1&&ze.push(239,191,189),We=Xe;continue}Xe=(We-55296<<10|Xe-56320)+65536}else We&&(Oe-=3)>-1&&ze.push(239,191,189);if(We=null,Xe<128){if((Oe-=1)<0)break;ze.push(Xe)}else if(Xe<2048){if((Oe-=2)<0)break;ze.push(Xe>>6|192,Xe&63|128)}else if(Xe<65536){if((Oe-=3)<0)break;ze.push(Xe>>12|224,Xe>>6&63|128,Xe&63|128)}else if(Xe<1114112){if((Oe-=4)<0)break;ze.push(Xe>>18|240,Xe>>12&63|128,Xe>>6&63|128,Xe&63|128)}else throw new Error("Invalid code point")}return ze}function at(tt){for(var Oe=[],Xe=0;Xe<tt.length;++Xe)Oe.push(tt.charCodeAt(Xe)&255);return Oe}function vt(tt,Oe){for(var Xe,Ze,We,ze=[],ke=0;ke<tt.length&&!((Oe-=2)<0);++ke)Xe=tt.charCodeAt(ke),Ze=Xe>>8,We=Xe%256,ze.push(We),ze.push(Ze);return ze}function ot(tt){return u.toByteArray(De(tt))}function et(tt,Oe,Xe,Ze){var We;for(We=0;We<Ze&&!(We+Xe>=Oe.length||We>=tt.length);++We)Oe[We+Xe]=tt[We];return We}function ct(tt,Oe){return tt instanceof Oe||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===Oe.name}function ht(tt){return tt!==tt}var gt=function(){for(var tt="0123456789abcdef",Oe=new Array(256),Xe=0;Xe<16;++Xe)for(var Ze=Xe*16,We=0;We<16;++We)Oe[Ze+We]=tt[Xe]+tt[We];return Oe}();function xt(tt){return typeof BigInt>"u"?Mt:tt}function Mt(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=R,G.exports.isMobile=R,G.exports.default=R;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function R(i){i||(i={});var C=i.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var S=H.test(C)&&!e.test(C)||!!i.tablet&&g.test(C);return!S&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(G,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return a},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return d},sankeyRight:function(){return r}});var g=e(84706),R=e(34712),i=e(10132),C=e(6688),S=e.n(C);function v(Te){return Te.target.depth}function d(Te){return Te.depth}function r(Te,Pe){return Pe-1-Te.height}function t(Te,Pe){return Te.sourceLinks.length?Te.depth:Pe-1}function a(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,g.SY)(Te.sourceLinks,v)-1:0}function n(Te){return function(){return Te}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function u(Te,Pe){return y(Te.source,Pe.source)||Te.index-Pe.index}function l(Te,Pe){return y(Te.target,Pe.target)||Te.index-Pe.index}function y(Te,Pe){return Te.partOfCycle===Pe.partOfCycle?Te.y0-Pe.y0:Te.circularLinkType==="top"||Pe.circularLinkType==="bottom"?-1:1}function h(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function c(Te){return T(Te.source)}function o(Te){return T(Te.target)}function p(Te){return Te.index}function x(Te){return Te.nodes}function b(Te){return Te.links}function P(Te,Pe){var be=Te.get(Pe);if(!be)throw new Error("missing: "+Pe);return be}function m(Te,Pe){return Pe(Te)}var L=25,M=10,s=.3;function E(){var Te=0,Pe=0,be=1,Ee=1,xe=24,Ce,Ue=p,Ne=t,De=x,He=b,at=32,vt=2,ot,et=null;function ct(){var Ze={nodes:De.apply(null,arguments),links:He.apply(null,arguments)};ht(Ze),w(Ze,Ue,et),gt(Ze),tt(Ze),_(Ze,Ue),Oe(Ze,at,Ue),Xe(Ze);for(var We=4,ze=0;ze<We;ze++)$(Ze,Ee,Ue),se(Ze,Ee,Ue),oe(Ze,Pe,Ee,Ue),$(Ze,Ee,Ue),se(Ze,Ee,Ue);return Me(Ze,Pe,Ee),B(Ze,vt,Ee,Ue),Ze}ct.nodeId=function(Ze){return arguments.length?(Ue=typeof Ze=="function"?Ze:n(Ze),ct):Ue},ct.nodeAlign=function(Ze){return arguments.length?(Ne=typeof Ze=="function"?Ze:n(Ze),ct):Ne},ct.nodeWidth=function(Ze){return arguments.length?(xe=+Ze,ct):xe},ct.nodePadding=function(Ze){return arguments.length?(Ce=+Ze,ct):Ce},ct.nodes=function(Ze){return arguments.length?(De=typeof Ze=="function"?Ze:n(Ze),ct):De},ct.links=function(Ze){return arguments.length?(He=typeof Ze=="function"?Ze:n(Ze),ct):He},ct.size=function(Ze){return arguments.length?(Te=Pe=0,be=+Ze[0],Ee=+Ze[1],ct):[be-Te,Ee-Pe]},ct.extent=function(Ze){return arguments.length?(Te=+Ze[0][0],be=+Ze[1][0],Pe=+Ze[0][1],Ee=+Ze[1][1],ct):[[Te,Pe],[be,Ee]]},ct.iterations=function(Ze){return arguments.length?(at=+Ze,ct):at},ct.circularLinkGap=function(Ze){return arguments.length?(vt=+Ze,ct):vt},ct.nodePaddingRatio=function(Ze){return arguments.length?(ot=+Ze,ct):ot},ct.sortNodes=function(Ze){return arguments.length?(et=Ze,ct):et},ct.update=function(Ze){return _(Ze,Ue),Xe(Ze),Ze.links.forEach(function(We){We.circular&&(We.circularLinkType=We.y0+We.y1<Ee?"top":"bottom",We.source.circularLinkType=We.circularLinkType,We.target.circularLinkType=We.circularLinkType)}),$(Ze,Ee,Ue,!1),se(Ze,Ee,Ue),B(Ze,vt,Ee,Ue),Ze};function ht(Ze){Ze.nodes.forEach(function(ze,ke){ze.index=ke,ze.sourceLinks=[],ze.targetLinks=[]});var We=(0,R.kH)(Ze.nodes,Ue);return Ze.links.forEach(function(ze,ke){ze.index=ke;var je=ze.source,Ie=ze.target;(typeof je>"u"?"undefined":f(je))!=="object"&&(je=ze.source=P(We,je)),(typeof Ie>"u"?"undefined":f(Ie))!=="object"&&(Ie=ze.target=P(We,Ie)),je.sourceLinks.push(ze),Ie.targetLinks.push(ze)}),Ze}function gt(Ze){Ze.nodes.forEach(function(We){We.partOfCycle=!1,We.value=Math.max((0,g.oh)(We.sourceLinks,h),(0,g.oh)(We.targetLinks,h)),We.sourceLinks.forEach(function(ze){ze.circular&&(We.partOfCycle=!0,We.circularLinkType=ze.circularLinkType)}),We.targetLinks.forEach(function(ze){ze.circular&&(We.partOfCycle=!0,We.circularLinkType=ze.circularLinkType)})})}function xt(Ze){var We=0,ze=0,ke=0,je=0,Ie=(0,g.kv)(Ze.nodes,function(pe){return pe.column});return Ze.links.forEach(function(pe){pe.circular&&(pe.circularLinkType=="top"?We=We+pe.width:ze=ze+pe.width,pe.target.column==0&&(je=je+pe.width),pe.source.column==Ie&&(ke=ke+pe.width))}),We=We>0?We+L+M:We,ze=ze>0?ze+L+M:ze,ke=ke>0?ke+L+M:ke,je=je>0?je+L+M:je,{top:We,bottom:ze,left:je,right:ke}}function Mt(Ze,We){var ze=(0,g.kv)(Ze.nodes,function(Qe){return Qe.column}),ke=be-Te,je=Ee-Pe,Ie=ke+We.right+We.left,pe=je+We.top+We.bottom,we=ke/Ie,Ve=je/pe;return Te=Te*we+We.left,be=We.right==0?be:be*we,Pe=Pe*Ve+We.top,Ee=Ee*Ve,Ze.nodes.forEach(function(Qe){Qe.x0=Te+Qe.column*((be-Te-xe)/ze),Qe.x1=Qe.x0+xe}),Ve}function tt(Ze){var We,ze,ke;for(We=Ze.nodes,ze=[],ke=0;We.length;++ke,We=ze,ze=[])We.forEach(function(je){je.depth=ke,je.sourceLinks.forEach(function(Ie){ze.indexOf(Ie.target)<0&&!Ie.circular&&ze.push(Ie.target)})});for(We=Ze.nodes,ze=[],ke=0;We.length;++ke,We=ze,ze=[])We.forEach(function(je){je.height=ke,je.targetLinks.forEach(function(Ie){ze.indexOf(Ie.source)<0&&!Ie.circular&&ze.push(Ie.source)})});Ze.nodes.forEach(function(je){je.column=Math.floor(Ne.call(null,je,ke))})}function Oe(Ze,We,ze){var ke=(0,R.UJ)().key(function(Qe){return Qe.column}).sortKeys(g.XE).entries(Ze.nodes).map(function(Qe){return Qe.values});pe(ze),Ve();for(var je=1,Ie=We;Ie>0;--Ie)we(je*=.99,ze),Ve();function pe(Qe){if(ot){var it=1/0;ke.forEach(function(Tt){var Lt=Ee*ot/(Tt.length+1);it=Lt<it?Lt:it}),Ce=it}var st=(0,g.SY)(ke,function(Tt){return(Ee-Pe-(Tt.length-1)*Ce)/(0,g.oh)(Tt,h)});st=st*s,Ze.links.forEach(function(Tt){Tt.width=Tt.value*st});var Wt=xt(Ze),jt=Mt(Ze,Wt);st=st*jt,Ze.links.forEach(function(Tt){Tt.width=Tt.value*st}),ke.forEach(function(Tt){var Lt=Tt.length;Tt.forEach(function(Xt,Tr){Xt.depth==ke.length-1&&Lt==1||Xt.depth==0&&Lt==1?(Xt.y0=Ee/2-Xt.value*st,Xt.y1=Xt.y0+Xt.value*st):Xt.partOfCycle?z(Xt,Qe)==0?(Xt.y0=Ee/2+Tr,Xt.y1=Xt.y0+Xt.value*st):Xt.circularLinkType=="top"?(Xt.y0=Pe+Tr,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=Ee-Xt.value*st-Tr,Xt.y1=Xt.y0+Xt.value*st):Wt.top==0||Wt.bottom==0?(Xt.y0=(Ee-Pe)/Lt*Tr,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=(Ee-Pe)/2-Lt/2+Tr,Xt.y1=Xt.y0+Xt.value*st)})})}function we(Qe,it){var st=ke.length;ke.forEach(function(Wt){var jt=Wt.length,Tt=Wt[0].depth;Wt.forEach(function(Lt){var Xt;if((Lt.sourceLinks.length||Lt.targetLinks.length)&&!(Lt.partOfCycle&&z(Lt,it)>0))if(Tt==0&&jt==1)Xt=Lt.y1-Lt.y0,Lt.y0=Ee/2-Xt/2,Lt.y1=Ee/2+Xt/2;else if(Tt==st-1&&jt==1)Xt=Lt.y1-Lt.y0,Lt.y0=Ee/2-Xt/2,Lt.y1=Ee/2+Xt/2;else{var Tr=0,yt=(0,g.mo)(Lt.sourceLinks,o),Kt=(0,g.mo)(Lt.targetLinks,c);yt&&Kt?Tr=(yt+Kt)/2:Tr=yt||Kt;var Jt=(Tr-T(Lt))*Qe;Lt.y0+=Jt,Lt.y1+=Jt}})})}function Ve(){ke.forEach(function(Qe){var it,st,Wt=Pe,jt=Qe.length,Tt;for(Qe.sort(y),Tt=0;Tt<jt;++Tt)it=Qe[Tt],st=Wt-it.y0,st>0&&(it.y0+=st,it.y1+=st),Wt=it.y1+Ce;if(st=Wt-Ce-Ee,st>0)for(Wt=it.y0-=st,it.y1-=st,Tt=jt-2;Tt>=0;--Tt)it=Qe[Tt],st=it.y1+Ce-Wt,st>0&&(it.y0-=st,it.y1-=st),Wt=it.y0})}}function Xe(Ze){Ze.nodes.forEach(function(We){We.sourceLinks.sort(l),We.targetLinks.sort(u)}),Ze.nodes.forEach(function(We){var ze=We.y0,ke=ze,je=We.y1,Ie=je;We.sourceLinks.forEach(function(pe){pe.circular?(pe.y0=je-pe.width/2,je=je-pe.width):(pe.y0=ze+pe.width/2,ze+=pe.width)}),We.targetLinks.forEach(function(pe){pe.circular?(pe.y1=Ie-pe.width/2,Ie=Ie-pe.width):(pe.y1=ke+pe.width/2,ke+=pe.width)})})}return ct}function w(Te,Pe,be){var Ee=0;if(be===null){for(var xe=[],Ce=0;Ce<Te.links.length;Ce++){var Ue=Te.links[Ce],Ne=Ue.source.index,De=Ue.target.index;xe[Ne]||(xe[Ne]=[]),xe[De]||(xe[De]=[]),xe[Ne].indexOf(De)===-1&&xe[Ne].push(De)}var He=S()(xe);He.sort(function(et,ct){return et.length-ct.length});var at={};for(Ce=0;Ce<He.length;Ce++){var vt=He[Ce],ot=vt.slice(-2);at[ot[0]]||(at[ot[0]]={}),at[ot[0]][ot[1]]=!0}Te.links.forEach(function(et){var ct=et.target.index,ht=et.source.index;ct===ht||at[ht]&&at[ht][ct]?(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1):et.circular=!1})}else Te.links.forEach(function(et){et.source[be]<et.target[be]?et.circular=!1:(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1)})}function _(Te,Pe){var be=0,Ee=0;Te.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=be<Ee?"top":"bottom",xe.circularLinkType=="top"?be=be+1:Ee=Ee+1,Te.nodes.forEach(function(Ce){(m(Ce,Pe)==m(xe.source,Pe)||m(Ce,Pe)==m(xe.target,Pe))&&(Ce.circularLinkType=xe.circularLinkType)}))}),Te.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),me(xe,Pe)&&(xe.circularLinkType=xe.source.circularLinkType))})}function D(Te){var Pe=Math.abs(Te.y1-Te.y0),be=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(be/Pe)}function N(Te,Pe){return Te.source.column<Pe.target.column?!1:!(Te.target.column>Pe.source.column)}function z(Te,Pe){var be=0;Te.sourceLinks.forEach(function(xe){be=xe.circular&&!me(xe,Pe)?be+1:be});var Ee=0;return Te.targetLinks.forEach(function(xe){Ee=xe.circular&&!me(xe,Pe)?Ee+1:Ee}),be+Ee}function F(Te){var Pe=Te.source.sourceLinks,be=0;Pe.forEach(function(Ce){be=Ce.circular?be+1:be});var Ee=Te.target.targetLinks,xe=0;return Ee.forEach(function(Ce){xe=Ce.circular?xe+1:xe}),!(be>1||xe>1)}function U(Te,Pe,be){return Te.sort(j),Te.forEach(function(Ee,xe){var Ce=0;if(me(Ee,be)&&F(Ee))Ee.circularPathData.verticalBuffer=Ce+Ee.width/2;else{var Ue=0;for(Ue;Ue<xe;Ue++)if(N(Te[xe],Te[Ue])){var Ne=Te[Ue].circularPathData.verticalBuffer+Te[Ue].width/2+Pe;Ce=Ne>Ce?Ne:Ce}Ee.circularPathData.verticalBuffer=Ce+Ee.width/2}}),Te}function B(Te,Pe,be,Ee){var xe=5,Ce=(0,g.SY)(Te.links,function(De){return De.source.y0});Te.links.forEach(function(De){De.circular&&(De.circularPathData={})});var Ue=Te.links.filter(function(De){return De.circularLinkType=="top"});U(Ue,Pe,Ee);var Ne=Te.links.filter(function(De){return De.circularLinkType=="bottom"});U(Ne,Pe,Ee),Te.links.forEach(function(De){if(De.circular){if(De.circularPathData.arcRadius=De.width+M,De.circularPathData.leftNodeBuffer=xe,De.circularPathData.rightNodeBuffer=xe,De.circularPathData.sourceWidth=De.source.x1-De.source.x0,De.circularPathData.sourceX=De.source.x0+De.circularPathData.sourceWidth,De.circularPathData.targetX=De.target.x0,De.circularPathData.sourceY=De.y0,De.circularPathData.targetY=De.y1,me(De,Ee)&&F(De))De.circularPathData.leftSmallArcRadius=M+De.width/2,De.circularPathData.leftLargeArcRadius=M+De.width/2,De.circularPathData.rightSmallArcRadius=M+De.width/2,De.circularPathData.rightLargeArcRadius=M+De.width/2,De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=De.source.y1+L+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=De.source.y0-L-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius);else{var He=De.source.column,at=De.circularLinkType,vt=Te.links.filter(function(ct){return ct.source.column==He&&ct.circularLinkType==at});De.circularLinkType=="bottom"?vt.sort(ee):vt.sort(Q);var ot=0;vt.forEach(function(ct,ht){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.leftSmallArcRadius=M+De.width/2+ot,De.circularPathData.leftLargeArcRadius=M+De.width/2+ht*Pe+ot),ot=ot+ct.width}),He=De.target.column,vt=Te.links.filter(function(ct){return ct.target.column==He&&ct.circularLinkType==at}),De.circularLinkType=="bottom"?vt.sort(ue):vt.sort(re),ot=0,vt.forEach(function(ct,ht){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.rightSmallArcRadius=M+De.width/2+ot,De.circularPathData.rightLargeArcRadius=M+De.width/2+ht*Pe+ot),ot=ot+ct.width}),De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=Math.max(be,De.source.y1,De.target.y1)+L+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=Ce-L-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius)}De.circularPathData.leftInnerExtent=De.circularPathData.sourceX+De.circularPathData.leftNodeBuffer,De.circularPathData.rightInnerExtent=De.circularPathData.targetX-De.circularPathData.rightNodeBuffer,De.circularPathData.leftFullExtent=De.circularPathData.sourceX+De.circularPathData.leftLargeArcRadius+De.circularPathData.leftNodeBuffer,De.circularPathData.rightFullExtent=De.circularPathData.targetX-De.circularPathData.rightLargeArcRadius-De.circularPathData.rightNodeBuffer}if(De.circular)De.path=V(De);else{var et=(0,i.ak)().source(function(ct){var ht=ct.source.x0+(ct.source.x1-ct.source.x0),gt=ct.y0;return[ht,gt]}).target(function(ct){var ht=ct.target.x0,gt=ct.y1;return[ht,gt]});De.path=et(De)}})}function V(Te){var Pe="";return Te.circularLinkType=="top"?Pe="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:Pe="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,Pe}function j(Te,Pe){return J(Te)==J(Pe)?Te.circularLinkType=="bottom"?ee(Te,Pe):Q(Te,Pe):J(Pe)-J(Te)}function Q(Te,Pe){return Te.y0-Pe.y0}function ee(Te,Pe){return Pe.y0-Te.y0}function re(Te,Pe){return Te.y1-Pe.y1}function ue(Te,Pe){return Pe.y1-Te.y1}function J(Te){return Te.target.column-Te.source.column}function X(Te){return Te.target.x0-Te.source.x1}function ne(Te,Pe){var be=D(Te),Ee=X(Pe)/Math.tan(be),xe=he(Te)=="up"?Te.y1+Ee:Te.y1-Ee;return xe}function Y(Te,Pe){var be=D(Te),Ee=X(Pe)/Math.tan(be),xe=he(Te)=="up"?Te.y1-Ee:Te.y1+Ee;return xe}function oe(Te,Pe,be,Ee){Te.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Ce=xe.source.column+1,Ue=xe.target.column-1,Ne=1,De=Ue-Ce+1;for(Ne=1;Ce<=Ue;Ce++,Ne++)Te.nodes.forEach(function(He){if(He.column==Ce){var at=Ne/(De+1),vt=Math.pow(1-at,3),ot=3*at*Math.pow(1-at,2),et=3*Math.pow(at,2)*(1-at),ct=Math.pow(at,3),ht=vt*xe.y0+ot*xe.y0+et*xe.y1+ct*xe.y1,gt=ht-xe.width/2,xt=ht+xe.width/2,Mt;gt>He.y0&&gt<He.y1?(Mt=He.y1-gt+10,Mt=He.circularLinkType=="bottom"?Mt:-Mt,He=Z(He,Mt,Pe,be),Te.nodes.forEach(function(tt){m(tt,Ee)==m(He,Ee)||tt.column!=He.column||le(He,tt)&&Z(tt,Mt,Pe,be)})):xt>He.y0&&xt<He.y1?(Mt=xt-He.y0+10,He=Z(He,Mt,Pe,be),Te.nodes.forEach(function(tt){m(tt,Ee)==m(He,Ee)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&Z(tt,Mt,Pe,be)})):gt<He.y0&&xt>He.y1&&(Mt=xt-He.y0+10,He=Z(He,Mt,Pe,be),Te.nodes.forEach(function(tt){m(tt,Ee)==m(He,Ee)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&Z(tt,Mt,Pe,be)}))}})}})}function le(Te,Pe){return Te.y0>Pe.y0&&Te.y0<Pe.y1||Te.y1>Pe.y0&&Te.y1<Pe.y1?!0:Te.y0<Pe.y0&&Te.y1>Pe.y1}function Z(Te,Pe,be,Ee){return Te.y0+Pe>=be&&Te.y1+Pe<=Ee&&(Te.y0=Te.y0+Pe,Te.y1=Te.y1+Pe,Te.targetLinks.forEach(function(xe){xe.y1=xe.y1+Pe}),Te.sourceLinks.forEach(function(xe){xe.y0=xe.y0+Pe})),Te}function $(Te,Pe,be,Ee){Te.nodes.forEach(function(xe){Ee&&xe.y+(xe.y1-xe.y0)>Pe&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-Pe));var Ce=Te.links.filter(function(De){return m(De.source,be)==m(xe,be)}),Ue=Ce.length;Ue>1&&Ce.sort(function(De,He){if(!De.circular&&!He.circular){if(De.target.column==He.target.column)return De.y1-He.y1;if(ae(De,He)){if(De.target.column>He.target.column){var at=Y(He,De);return De.y1-at}if(He.target.column>De.target.column){var vt=Y(De,He);return vt-He.y1}}else return De.y1-He.y1}if(De.circular&&!He.circular)return De.circularLinkType=="top"?-1:1;if(He.circular&&!De.circular)return He.circularLinkType=="top"?1:-1;if(De.circular&&He.circular)return De.circularLinkType===He.circularLinkType&&De.circularLinkType=="top"?De.target.column===He.target.column?De.target.y1-He.target.y1:He.target.column-De.target.column:De.circularLinkType===He.circularLinkType&&De.circularLinkType=="bottom"?De.target.column===He.target.column?He.target.y1-De.target.y1:De.target.column-He.target.column:De.circularLinkType=="top"?-1:1});var Ne=xe.y0;Ce.forEach(function(De){De.y0=Ne+De.width/2,Ne=Ne+De.width}),Ce.forEach(function(De,He){if(De.circularLinkType=="bottom"){var at=He+1,vt=0;for(at;at<Ue;at++)vt=vt+Ce[at].width;De.y0=xe.y1-vt-De.width/2}})})}function se(Te,Pe,be){Te.nodes.forEach(function(Ee){var xe=Te.links.filter(function(Ne){return m(Ne.target,be)==m(Ee,be)}),Ce=xe.length;Ce>1&&xe.sort(function(Ne,De){if(!Ne.circular&&!De.circular){if(Ne.source.column==De.source.column)return Ne.y0-De.y0;if(ae(Ne,De)){if(De.source.column<Ne.source.column){var He=ne(De,Ne);return Ne.y0-He}if(Ne.source.column<De.source.column){var at=ne(Ne,De);return at-De.y0}}else return Ne.y0-De.y0}if(Ne.circular&&!De.circular)return Ne.circularLinkType=="top"?-1:1;if(De.circular&&!Ne.circular)return De.circularLinkType=="top"?1:-1;if(Ne.circular&&De.circular)return Ne.circularLinkType===De.circularLinkType&&Ne.circularLinkType=="top"?Ne.source.column===De.source.column?Ne.source.y1-De.source.y1:Ne.source.column-De.source.column:Ne.circularLinkType===De.circularLinkType&&Ne.circularLinkType=="bottom"?Ne.source.column===De.source.column?Ne.source.y1-De.source.y1:De.source.column-Ne.source.column:Ne.circularLinkType=="top"?-1:1});var Ue=Ee.y0;xe.forEach(function(Ne){Ne.y1=Ue+Ne.width/2,Ue=Ue+Ne.width}),xe.forEach(function(Ne,De){if(Ne.circularLinkType=="bottom"){var He=De+1,at=0;for(He;He<Ce;He++)at=at+xe[He].width;Ne.y1=Ee.y1-at-Ne.width/2}})})}function ae(Te,Pe){return he(Te)==he(Pe)}function he(Te){return Te.y0-Te.y1>0?"up":"down"}function me(Te,Pe){return m(Te.source,Pe)==m(Te.target,Pe)}function Me(Te,Pe,be){var Ee=Te.nodes,xe=Te.links,Ce=!1,Ue=!1;if(xe.forEach(function(ot){ot.circularLinkType=="top"?Ce=!0:ot.circularLinkType=="bottom"&&(Ue=!0)}),Ce==!1||Ue==!1){var Ne=(0,g.SY)(Ee,function(ot){return ot.y0}),De=(0,g.kv)(Ee,function(ot){return ot.y1}),He=De-Ne,at=be-Pe,vt=at/He;Ee.forEach(function(ot){var et=(ot.y1-ot.y0)*vt;ot.y0=(ot.y0-Ne)*vt,ot.y1=ot.y0+et}),xe.forEach(function(ot){ot.y0=(ot.y0-Ne)*vt,ot.y1=(ot.y1-Ne)*vt,ot.width=ot.width*vt})}}},26800:function(G,H,e){e.r(H),e.d(H,{sankey:function(){return p},sankeyCenter:function(){return d},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return S}});var g=e(84706),R=e(34712);function i(L){return L.target.depth}function C(L){return L.depth}function S(L,M){return M-1-L.height}function v(L,M){return L.sourceLinks.length?L.depth:M-1}function d(L){return L.targetLinks.length?L.depth:L.sourceLinks.length?(0,g.SY)(L.sourceLinks,i)-1:0}function r(L){return function(){return L}}function t(L,M){return n(L.source,M.source)||L.index-M.index}function a(L,M){return n(L.target,M.target)||L.index-M.index}function n(L,M){return L.y0-M.y0}function f(L){return L.value}function u(L){return(L.y0+L.y1)/2}function l(L){return u(L.source)*L.value}function y(L){return u(L.target)*L.value}function h(L){return L.index}function T(L){return L.nodes}function c(L){return L.links}function o(L,M){var s=L.get(M);if(!s)throw new Error("missing: "+M);return s}function p(){var L=0,M=0,s=1,E=1,w=24,_=8,D=h,N=v,z=T,F=c,U=32,B=2/3;function V(){var J={nodes:z.apply(null,arguments),links:F.apply(null,arguments)};return j(J),Q(J),ee(J),re(J),ue(J),J}V.update=function(J){return ue(J),J},V.nodeId=function(J){return arguments.length?(D=typeof J=="function"?J:r(J),V):D},V.nodeAlign=function(J){return arguments.length?(N=typeof J=="function"?J:r(J),V):N},V.nodeWidth=function(J){return arguments.length?(w=+J,V):w},V.nodePadding=function(J){return arguments.length?(_=+J,V):_},V.nodes=function(J){return arguments.length?(z=typeof J=="function"?J:r(J),V):z},V.links=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),V):F},V.size=function(J){return arguments.length?(L=M=0,s=+J[0],E=+J[1],V):[s-L,E-M]},V.extent=function(J){return arguments.length?(L=+J[0][0],s=+J[1][0],M=+J[0][1],E=+J[1][1],V):[[L,M],[s,E]]},V.iterations=function(J){return arguments.length?(U=+J,V):U};function j(J){J.nodes.forEach(function(ne,Y){ne.index=Y,ne.sourceLinks=[],ne.targetLinks=[]});var X=(0,R.kH)(J.nodes,D);J.links.forEach(function(ne,Y){ne.index=Y;var oe=ne.source,le=ne.target;typeof oe!="object"&&(oe=ne.source=o(X,oe)),typeof le!="object"&&(le=ne.target=o(X,le)),oe.sourceLinks.push(ne),le.targetLinks.push(ne)})}function Q(J){J.nodes.forEach(function(X){X.value=Math.max((0,g.oh)(X.sourceLinks,f),(0,g.oh)(X.targetLinks,f))})}function ee(J){var X,ne,Y;for(X=J.nodes,ne=[],Y=0;X.length;++Y,X=ne,ne=[])X.forEach(function(le){le.depth=Y,le.sourceLinks.forEach(function(Z){ne.indexOf(Z.target)<0&&ne.push(Z.target)})});for(X=J.nodes,ne=[],Y=0;X.length;++Y,X=ne,ne=[])X.forEach(function(le){le.height=Y,le.targetLinks.forEach(function(Z){ne.indexOf(Z.source)<0&&ne.push(Z.source)})});var oe=(s-L-w)/(Y-1);J.nodes.forEach(function(le){le.x1=(le.x0=L+Math.max(0,Math.min(Y-1,Math.floor(N.call(null,le,Y))))*oe)+w})}function re(J){var X=(0,R.UJ)().key(function(se){return se.x0}).sortKeys(g.XE).entries(J.nodes).map(function(se){return se.values});oe(),$();for(var ne=1,Y=U;Y>0;--Y)Z(ne*=.99),$(),le(ne),$();function oe(){var se=(0,g.kv)(X,function(me){return me.length}),ae=B*(E-M)/(se-1);_>ae&&(_=ae);var he=(0,g.SY)(X,function(me){return(E-M-(me.length-1)*_)/(0,g.oh)(me,f)});X.forEach(function(me){me.forEach(function(Me,Te){Me.y1=(Me.y0=Te)+Me.value*he})}),J.links.forEach(function(me){me.width=me.value*he})}function le(se){X.forEach(function(ae){ae.forEach(function(he){if(he.targetLinks.length){var me=((0,g.oh)(he.targetLinks,l)/(0,g.oh)(he.targetLinks,f)-u(he))*se;he.y0+=me,he.y1+=me}})})}function Z(se){X.slice().reverse().forEach(function(ae){ae.forEach(function(he){if(he.sourceLinks.length){var me=((0,g.oh)(he.sourceLinks,y)/(0,g.oh)(he.sourceLinks,f)-u(he))*se;he.y0+=me,he.y1+=me}})})}function $(){X.forEach(function(se){var ae,he,me=M,Me=se.length,Te;for(se.sort(n),Te=0;Te<Me;++Te)ae=se[Te],he=me-ae.y0,he>0&&(ae.y0+=he,ae.y1+=he),me=ae.y1+_;if(he=me-_-E,he>0)for(me=ae.y0-=he,ae.y1-=he,Te=Me-2;Te>=0;--Te)ae=se[Te],he=ae.y1+_-me,he>0&&(ae.y0-=he,ae.y1-=he),me=ae.y0})}}function ue(J){J.nodes.forEach(function(X){X.sourceLinks.sort(a),X.targetLinks.sort(t)}),J.nodes.forEach(function(X){var ne=X.y0,Y=ne;X.sourceLinks.forEach(function(oe){oe.y0=ne+oe.width/2,ne+=oe.width}),X.targetLinks.forEach(function(oe){oe.y1=Y+oe.width/2,Y+=oe.width})})}return V}var x=e(10132);function b(L){return[L.source.x1,L.y0]}function P(L){return[L.target.x0,L.y1]}function m(){return(0,x.ak)().source(b).target(P)}},33428:function(G,H,e){var g,R;(function(){var i={version:"3.8.0"},C=[].slice,S=function(fe){return C.call(fe)},v=self.document;function d(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Le){for(var Be=Le.length,qe=new Array(Be);Be--;)qe[Be]=Le[Be];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,a=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Le,Be){a.call(this,Le,Be+"")},t.setAttributeNS=function(Le,Be,qe){n.call(this,Le,Be,qe+"")},f.setProperty=function(Le,Be,qe){u.call(this,Le,Be+"",qe)}}i.ascending=l;function l(fe,Le){return fe<Le?-1:fe>Le?1:fe>=Le?0:NaN}i.descending=function(fe,Le){return Le<fe?-1:Le>fe?1:Le>=fe?0:NaN},i.min=function(fe,Le){var Be=-1,qe=fe.length,rt,ft;if(arguments.length===1){for(;++Be<qe;)if((ft=fe[Be])!=null&&ft>=ft){rt=ft;break}for(;++Be<qe;)(ft=fe[Be])!=null&&rt>ft&&(rt=ft)}else{for(;++Be<qe;)if((ft=Le.call(fe,fe[Be],Be))!=null&&ft>=ft){rt=ft;break}for(;++Be<qe;)(ft=Le.call(fe,fe[Be],Be))!=null&&rt>ft&&(rt=ft)}return rt},i.max=function(fe,Le){var Be=-1,qe=fe.length,rt,ft;if(arguments.length===1){for(;++Be<qe;)if((ft=fe[Be])!=null&&ft>=ft){rt=ft;break}for(;++Be<qe;)(ft=fe[Be])!=null&&ft>rt&&(rt=ft)}else{for(;++Be<qe;)if((ft=Le.call(fe,fe[Be],Be))!=null&&ft>=ft){rt=ft;break}for(;++Be<qe;)(ft=Le.call(fe,fe[Be],Be))!=null&&ft>rt&&(rt=ft)}return rt},i.extent=function(fe,Le){var Be=-1,qe=fe.length,rt,ft,Pt;if(arguments.length===1){for(;++Be<qe;)if((ft=fe[Be])!=null&&ft>=ft){rt=Pt=ft;break}for(;++Be<qe;)(ft=fe[Be])!=null&&(rt>ft&&(rt=ft),Pt<ft&&(Pt=ft))}else{for(;++Be<qe;)if((ft=Le.call(fe,fe[Be],Be))!=null&&ft>=ft){rt=Pt=ft;break}for(;++Be<qe;)(ft=Le.call(fe,fe[Be],Be))!=null&&(rt>ft&&(rt=ft),Pt<ft&&(Pt=ft))}return[rt,Pt]};function y(fe){return fe===null?NaN:+fe}function h(fe){return!isNaN(fe)}i.sum=function(fe,Le){var Be=0,qe=fe.length,rt,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(rt=+fe[ft])&&(Be+=rt);else for(;++ft<qe;)h(rt=+Le.call(fe,fe[ft],ft))&&(Be+=rt);return Be},i.mean=function(fe,Le){var Be=0,qe=fe.length,rt,ft=-1,Pt=qe;if(arguments.length===1)for(;++ft<qe;)h(rt=y(fe[ft]))?Be+=rt:--Pt;else for(;++ft<qe;)h(rt=y(Le.call(fe,fe[ft],ft)))?Be+=rt:--Pt;if(Pt)return Be/Pt},i.quantile=function(fe,Le){var Be=(fe.length-1)*Le+1,qe=Math.floor(Be),rt=+fe[qe-1],ft=Be-qe;return ft?rt+ft*(fe[qe]-rt):rt},i.median=function(fe,Le){var Be=[],qe=fe.length,rt,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(rt=y(fe[ft]))&&Be.push(rt);else for(;++ft<qe;)h(rt=y(Le.call(fe,fe[ft],ft)))&&Be.push(rt);if(Be.length)return i.quantile(Be.sort(l),.5)},i.variance=function(fe,Le){var Be=fe.length,qe=0,rt,ft,Pt=0,At=-1,Vt=0;if(arguments.length===1)for(;++At<Be;)h(rt=y(fe[At]))&&(ft=rt-qe,qe+=ft/++Vt,Pt+=ft*(rt-qe));else for(;++At<Be;)h(rt=y(Le.call(fe,fe[At],At)))&&(ft=rt-qe,qe+=ft/++Vt,Pt+=ft*(rt-qe));if(Vt>1)return Pt/(Vt-1)},i.deviation=function(){var fe=i.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function T(fe){return{left:function(Le,Be,qe,rt){for(arguments.length<3&&(qe=0),arguments.length<4&&(rt=Le.length);qe<rt;){var ft=qe+rt>>>1;fe(Le[ft],Be)<0?qe=ft+1:rt=ft}return qe},right:function(Le,Be,qe,rt){for(arguments.length<3&&(qe=0),arguments.length<4&&(rt=Le.length);qe<rt;){var ft=qe+rt>>>1;fe(Le[ft],Be)>0?rt=ft:qe=ft+1}return qe}}}var c=T(l);i.bisectLeft=c.left,i.bisect=i.bisectRight=c.right,i.bisector=function(fe){return T(fe.length===1?function(Le,Be){return l(fe(Le),Be)}:fe)},i.shuffle=function(fe,Le,Be){(qe=arguments.length)<3&&(Be=fe.length,qe<2&&(Le=0));for(var qe=Be-Le,rt,ft;qe;)ft=Math.random()*qe--|0,rt=fe[qe+Le],fe[qe+Le]=fe[ft+Le],fe[ft+Le]=rt;return fe},i.permute=function(fe,Le){for(var Be=Le.length,qe=new Array(Be);Be--;)qe[Be]=fe[Le[Be]];return qe},i.pairs=function(fe){for(var Le=0,Be=fe.length-1,qe=fe[0],rt=new Array(Be<0?0:Be);Le<Be;)rt[Le]=[qe,qe=fe[++Le]];return rt},i.transpose=function(fe){if(!(ft=fe.length))return[];for(var Le=-1,Be=i.min(fe,o),qe=new Array(Be);++Le<Be;)for(var rt=-1,ft,Pt=qe[Le]=new Array(ft);++rt<ft;)Pt[rt]=fe[rt][Le];return qe};function o(fe){return fe.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(fe){var Le=[];for(var Be in fe)Le.push(Be);return Le},i.values=function(fe){var Le=[];for(var Be in fe)Le.push(fe[Be]);return Le},i.entries=function(fe){var Le=[];for(var Be in fe)Le.push({key:Be,value:fe[Be]});return Le},i.merge=function(fe){for(var Le=fe.length,Be,qe=-1,rt=0,ft,Pt;++qe<Le;)rt+=fe[qe].length;for(ft=new Array(rt);--Le>=0;)for(Pt=fe[Le],Be=Pt.length;--Be>=0;)ft[--rt]=Pt[Be];return ft};var p=Math.abs;i.range=function(fe,Le,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Le=fe,fe=0)),(Le-fe)/Be===1/0)throw new Error("infinite range");var qe=[],rt=x(p(Be)),ft=-1,Pt;if(fe*=rt,Le*=rt,Be*=rt,Be<0)for(;(Pt=fe+Be*++ft)>Le;)qe.push(Pt/rt);else for(;(Pt=fe+Be*++ft)<Le;)qe.push(Pt/rt);return qe};function x(fe){for(var Le=1;fe*Le%1;)Le*=10;return Le}function b(fe,Le){for(var Be in Le)Object.defineProperty(fe.prototype,Be,{value:Le[Be],enumerable:!1})}i.map=function(fe,Le){var Be=new P;if(fe instanceof P)fe.forEach(function(At,Vt){Be.set(At,Vt)});else if(Array.isArray(fe)){var qe=-1,rt=fe.length,ft;if(arguments.length===1)for(;++qe<rt;)Be.set(qe,fe[qe]);else for(;++qe<rt;)Be.set(Le.call(fe,ft=fe[qe],qe),ft)}else for(var Pt in fe)Be.set(Pt,fe[Pt]);return Be};function P(){this._=Object.create(null)}var m="__proto__",L="\0";b(P,{has:E,get:function(fe){return this._[M(fe)]},set:function(fe,Le){return this._[M(fe)]=Le},remove:w,keys:_,values:function(){var fe=[];for(var Le in this._)fe.push(this._[Le]);return fe},entries:function(){var fe=[];for(var Le in this._)fe.push({key:s(Le),value:this._[Le]});return fe},size:D,empty:N,forEach:function(fe){for(var Le in this._)fe.call(this,s(Le),this._[Le])}});function M(fe){return(fe+="")===m||fe[0]===L?L+fe:fe}function s(fe){return(fe+="")[0]===L?fe.slice(1):fe}function E(fe){return M(fe)in this._}function w(fe){return(fe=M(fe))in this._&&delete this._[fe]}function _(){var fe=[];for(var Le in this._)fe.push(s(Le));return fe}function D(){var fe=0;for(var Le in this._)++fe;return fe}function N(){for(var fe in this._)return!1;return!0}i.nest=function(){var fe={},Le=[],Be=[],qe,rt;function ft(At,Vt,Gt){if(Gt>=Le.length)return rt?rt.call(fe,Vt):qe?Vt.sort(qe):Vt;for(var rr=-1,Cr=Vt.length,Lr=Le[Gt++],Qr,ln,Rr,Ur=new P,Kr;++rr<Cr;)(Kr=Ur.get(Qr=Lr(ln=Vt[rr])))?Kr.push(ln):Ur.set(Qr,[ln]);return At?(ln=At(),Rr=function(cn,pn){ln.set(cn,ft(At,pn,Gt))}):(ln={},Rr=function(cn,pn){ln[cn]=ft(At,pn,Gt)}),Ur.forEach(Rr),ln}function Pt(At,Vt){if(Vt>=Le.length)return At;var Gt=[],rr=Be[Vt++];return At.forEach(function(Cr,Lr){Gt.push({key:Cr,values:Pt(Lr,Vt)})}),rr?Gt.sort(function(Cr,Lr){return rr(Cr.key,Lr.key)}):Gt}return fe.map=function(At,Vt){return ft(Vt,At,0)},fe.entries=function(At){return Pt(ft(i.map,At,0),0)},fe.key=function(At){return Le.push(At),fe},fe.sortKeys=function(At){return Be[Le.length-1]=At,fe},fe.sortValues=function(At){return qe=At,fe},fe.rollup=function(At){return rt=At,fe},fe},i.set=function(fe){var Le=new z;if(fe)for(var Be=0,qe=fe.length;Be<qe;++Be)Le.add(fe[Be]);return Le};function z(){this._=Object.create(null)}b(z,{has:E,add:function(fe){return this._[M(fe+="")]=!0,fe},remove:w,values:_,size:D,empty:N,forEach:function(fe){for(var Le in this._)fe.call(this,s(Le))}}),i.behavior={};function F(fe){return fe}i.rebind=function(fe,Le){for(var Be=1,qe=arguments.length,rt;++Be<qe;)fe[rt=arguments[Be]]=U(fe,Le,Le[rt]);return fe};function U(fe,Le,Be){return function(){var qe=Be.apply(Le,arguments);return qe===Le?fe:qe}}function B(fe,Le){if(Le in fe)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var Be=0,qe=V.length;Be<qe;++Be){var rt=V[Be]+Le;if(rt in fe)return rt}}var V=["webkit","ms","moz","Moz","o","O"];function j(){}i.dispatch=function(){for(var fe=new Q,Le=-1,Be=arguments.length;++Le<Be;)fe[arguments[Le]]=ee(fe);return fe};function Q(){}Q.prototype.on=function(fe,Le){var Be=fe.indexOf("."),qe="";if(Be>=0&&(qe=fe.slice(Be+1),fe=fe.slice(0,Be)),fe)return arguments.length<2?this[fe].on(qe):this[fe].on(qe,Le);if(arguments.length===2){if(Le==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(qe,null);return this}};function ee(fe){var Le=[],Be=new P;function qe(){for(var rt=Le,ft=-1,Pt=rt.length,At;++ft<Pt;)(At=rt[ft].on)&&At.apply(this,arguments);return fe}return qe.on=function(rt,ft){var Pt=Be.get(rt),At;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Le=Le.slice(0,At=Le.indexOf(Pt)).concat(Le.slice(At+1)),Be.remove(rt)),ft&&Le.push(Be.set(rt,{on:ft})),fe)},qe}i.event=null;function re(){i.event.preventDefault()}function ue(){for(var fe=i.event,Le;Le=fe.sourceEvent;)fe=Le;return fe}function J(fe){for(var Le=new Q,Be=0,qe=arguments.length;++Be<qe;)Le[arguments[Be]]=ee(Le);return Le.of=function(rt,ft){return function(Pt){try{var At=Pt.sourceEvent=i.event;Pt.target=fe,i.event=Pt,Le[Pt.type].apply(rt,ft)}finally{i.event=At}}},Le}i.requote=function(fe){return fe.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ne={}.__proto__?function(fe,Le){fe.__proto__=Le}:function(fe,Le){for(var Be in Le)fe[Be]=Le[Be]};function Y(fe){return ne(fe,$),fe}var oe=function(fe,Le){return Le.querySelector(fe)},le=function(fe,Le){return Le.querySelectorAll(fe)},Z=function(fe,Le){var Be=fe.matches||fe[B(fe,"matchesSelector")];return Z=function(qe,rt){return Be.call(qe,rt)},Z(fe,Le)};typeof Sizzle=="function"&&(oe=function(fe,Le){return Sizzle(fe,Le)[0]||null},le=Sizzle,Z=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var $=i.selection.prototype=[];$.select=function(fe){var Le=[],Be,qe,rt,ft;fe=se(fe);for(var Pt=-1,At=this.length;++Pt<At;){Le.push(Be=[]),Be.parentNode=(rt=this[Pt]).parentNode;for(var Vt=-1,Gt=rt.length;++Vt<Gt;)(ft=rt[Vt])?(Be.push(qe=fe.call(ft,ft.__data__,Vt,Pt)),qe&&"__data__"in ft&&(qe.__data__=ft.__data__)):Be.push(null)}return Y(Le)};function se(fe){return typeof fe=="function"?fe:function(){return oe(fe,this)}}$.selectAll=function(fe){var Le=[],Be,qe;fe=ae(fe);for(var rt=-1,ft=this.length;++rt<ft;)for(var Pt=this[rt],At=-1,Vt=Pt.length;++At<Vt;)(qe=Pt[At])&&(Le.push(Be=S(fe.call(qe,qe.__data__,At,rt))),Be.parentNode=qe);return Y(Le)};function ae(fe){return typeof fe=="function"?fe:function(){return le(fe,this)}}var he="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:me,qualify:function(fe){var Le=fe.indexOf(":"),Be=fe;return Le>=0&&(Be=fe.slice(0,Le))!=="xmlns"&&(fe=fe.slice(Le+1)),me.hasOwnProperty(Be)?{space:me[Be],local:fe}:fe}},$.attr=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var Be=this.node();return fe=i.ns.qualify(fe),fe.local?Be.getAttributeNS(fe.space,fe.local):Be.getAttribute(fe)}for(Le in fe)this.each(Me(Le,fe[Le]));return this}return this.each(Me(fe,Le))};function Me(fe,Le){fe=i.ns.qualify(fe);function Be(){this.removeAttribute(fe)}function qe(){this.removeAttributeNS(fe.space,fe.local)}function rt(){this.setAttribute(fe,Le)}function ft(){this.setAttributeNS(fe.space,fe.local,Le)}function Pt(){var Vt=Le.apply(this,arguments);Vt==null?this.removeAttribute(fe):this.setAttribute(fe,Vt)}function At(){var Vt=Le.apply(this,arguments);Vt==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Vt)}return Le==null?fe.local?qe:Be:typeof Le=="function"?fe.local?At:Pt:fe.local?ft:rt}function Te(fe){return fe.trim().replace(/\s+/g," ")}$.classed=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var Be=this.node(),qe=(fe=be(fe)).length,rt=-1;if(Le=Be.classList){for(;++rt<qe;)if(!Le.contains(fe[rt]))return!1}else for(Le=Be.getAttribute("class");++rt<qe;)if(!Pe(fe[rt]).test(Le))return!1;return!0}for(Le in fe)this.each(Ee(Le,fe[Le]));return this}return this.each(Ee(fe,Le))};function Pe(fe){return new RegExp("(?:^|\\s+)"+i.requote(fe)+"(?:\\s+|$)","g")}function be(fe){return(fe+"").trim().split(/^|\s+/)}function Ee(fe,Le){fe=be(fe).map(xe);var Be=fe.length;function qe(){for(var ft=-1;++ft<Be;)fe[ft](this,Le)}function rt(){for(var ft=-1,Pt=Le.apply(this,arguments);++ft<Be;)fe[ft](this,Pt)}return typeof Le=="function"?rt:qe}function xe(fe){var Le=Pe(fe);return function(Be,qe){if(rt=Be.classList)return qe?rt.add(fe):rt.remove(fe);var rt=Be.getAttribute("class")||"";qe?(Le.lastIndex=0,Le.test(rt)||Be.setAttribute("class",Te(rt+" "+fe))):Be.setAttribute("class",Te(rt.replace(Le," ")))}}$.style=function(fe,Le,Be){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le="");for(Be in fe)this.each(Ce(Be,fe[Be],Le));return this}if(qe<2){var rt=this.node();return r(rt).getComputedStyle(rt,null).getPropertyValue(fe)}Be=""}return this.each(Ce(fe,Le,Be))};function Ce(fe,Le,Be){function qe(){this.style.removeProperty(fe)}function rt(){this.style.setProperty(fe,Le,Be)}function ft(){var Pt=Le.apply(this,arguments);Pt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Pt,Be)}return Le==null?qe:typeof Le=="function"?ft:rt}$.property=function(fe,Le){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Le in fe)this.each(Ue(Le,fe[Le]));return this}return this.each(Ue(fe,Le))};function Ue(fe,Le){function Be(){delete this[fe]}function qe(){this[fe]=Le}function rt(){var ft=Le.apply(this,arguments);ft==null?delete this[fe]:this[fe]=ft}return Le==null?Be:typeof Le=="function"?rt:qe}$.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.textContent=Le??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},$.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.innerHTML=Le??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},$.append=function(fe){return fe=Ne(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Ne(fe){function Le(){var qe=this.ownerDocument,rt=this.namespaceURI;return rt===he&&qe.documentElement.namespaceURI===he?qe.createElement(fe):qe.createElementNS(rt,fe)}function Be(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=i.ns.qualify(fe)).local?Be:Le}$.insert=function(fe,Le){return fe=Ne(fe),Le=se(Le),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Le.apply(this,arguments)||null)})},$.remove=function(){return this.each(De)};function De(){var fe=this.parentNode;fe&&fe.removeChild(this)}$.data=function(fe,Le){var Be=-1,qe=this.length,rt,ft;if(!arguments.length){for(fe=new Array(qe=(rt=this[0]).length);++Be<qe;)(ft=rt[Be])&&(fe[Be]=ft.__data__);return fe}function Pt(rr,Cr){var Lr,Qr=rr.length,ln=Cr.length,Rr=Math.min(Qr,ln),Ur=new Array(ln),Kr=new Array(ln),cn=new Array(Qr),pn,tn;if(Le){var Gn=new P,na=new Array(Qr),ca;for(Lr=-1;++Lr<Qr;)(pn=rr[Lr])&&(Gn.has(ca=Le.call(pn,pn.__data__,Lr))?cn[Lr]=pn:Gn.set(ca,pn),na[Lr]=ca);for(Lr=-1;++Lr<ln;)(pn=Gn.get(ca=Le.call(Cr,tn=Cr[Lr],Lr)))?pn!==!0&&(Ur[Lr]=pn,pn.__data__=tn):Kr[Lr]=He(tn),Gn.set(ca,!0);for(Lr=-1;++Lr<Qr;)Lr in na&&Gn.get(na[Lr])!==!0&&(cn[Lr]=rr[Lr])}else{for(Lr=-1;++Lr<Rr;)pn=rr[Lr],tn=Cr[Lr],pn?(pn.__data__=tn,Ur[Lr]=pn):Kr[Lr]=He(tn);for(;Lr<ln;++Lr)Kr[Lr]=He(Cr[Lr]);for(;Lr<Qr;++Lr)cn[Lr]=rr[Lr]}Kr.update=Ur,Kr.parentNode=Ur.parentNode=cn.parentNode=rr.parentNode,At.push(Kr),Vt.push(Ur),Gt.push(cn)}var At=et([]),Vt=Y([]),Gt=Y([]);if(typeof fe=="function")for(;++Be<qe;)Pt(rt=this[Be],fe.call(rt,rt.parentNode.__data__,Be));else for(;++Be<qe;)Pt(rt=this[Be],fe);return Vt.enter=function(){return At},Vt.exit=function(){return Gt},Vt};function He(fe){return{__data__:fe}}$.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},$.filter=function(fe){var Le=[],Be,qe,rt;typeof fe!="function"&&(fe=at(fe));for(var ft=0,Pt=this.length;ft<Pt;ft++){Le.push(Be=[]),Be.parentNode=(qe=this[ft]).parentNode;for(var At=0,Vt=qe.length;At<Vt;At++)(rt=qe[At])&&fe.call(rt,rt.__data__,At,ft)&&Be.push(rt)}return Y(Le)};function at(fe){return function(){return Z(this,fe)}}$.order=function(){for(var fe=-1,Le=this.length;++fe<Le;)for(var Be=this[fe],qe=Be.length-1,rt=Be[qe],ft;--qe>=0;)(ft=Be[qe])&&(rt&&rt!==ft.nextSibling&&rt.parentNode.insertBefore(ft,rt),rt=ft);return this},$.sort=function(fe){fe=vt.apply(this,arguments);for(var Le=-1,Be=this.length;++Le<Be;)this[Le].sort(fe);return this.order()};function vt(fe){return arguments.length||(fe=l),function(Le,Be){return Le&&Be?fe(Le.__data__,Be.__data__):!Le-!Be}}$.each=function(fe){return ot(this,function(Le,Be,qe){fe.call(Le,Le.__data__,Be,qe)})};function ot(fe,Le){for(var Be=0,qe=fe.length;Be<qe;Be++)for(var rt=fe[Be],ft=0,Pt=rt.length,At;ft<Pt;ft++)(At=rt[ft])&&Le(At,ft,Be);return fe}$.call=function(fe){var Le=S(arguments);return fe.apply(Le[0]=this,Le),this},$.empty=function(){return!this.node()},$.node=function(){for(var fe=0,Le=this.length;fe<Le;fe++)for(var Be=this[fe],qe=0,rt=Be.length;qe<rt;qe++){var ft=Be[qe];if(ft)return ft}return null},$.size=function(){var fe=0;return ot(this,function(){++fe}),fe};function et(fe){return ne(fe,ct),fe}var ct=[];i.selection.enter=et,i.selection.enter.prototype=ct,ct.append=$.append,ct.empty=$.empty,ct.node=$.node,ct.call=$.call,ct.size=$.size,ct.select=function(fe){for(var Le=[],Be,qe,rt,ft,Pt,At=-1,Vt=this.length;++At<Vt;){rt=(ft=this[At]).update,Le.push(Be=[]),Be.parentNode=ft.parentNode;for(var Gt=-1,rr=ft.length;++Gt<rr;)(Pt=ft[Gt])?(Be.push(rt[Gt]=qe=fe.call(ft.parentNode,Pt.__data__,Gt,At)),qe.__data__=Pt.__data__):Be.push(null)}return Y(Le)},ct.insert=function(fe,Le){return arguments.length<2&&(Le=ht(this)),$.insert.call(this,fe,Le)};function ht(fe){var Le,Be;return function(qe,rt,ft){var Pt=fe[ft].update,At=Pt.length,Vt;for(ft!=Be&&(Be=ft,Le=0),rt>=Le&&(Le=rt+1);!(Vt=Pt[Le])&&++Le<At;);return Vt}}i.select=function(fe){var Le;return typeof fe=="string"?(Le=[oe(fe,v)],Le.parentNode=v.documentElement):(Le=[fe],Le.parentNode=d(fe)),Y([Le])},i.selectAll=function(fe){var Le;return typeof fe=="string"?(Le=S(le(fe,v)),Le.parentNode=v.documentElement):(Le=S(fe),Le.parentNode=null),Y([Le])},$.on=function(fe,Le,Be){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le=!1);for(Be in fe)this.each(gt(Be,fe[Be],Le));return this}if(qe<2)return(qe=this.node()["__on"+fe])&&qe._;Be=!1}return this.each(gt(fe,Le,Be))};function gt(fe,Le,Be){var qe="__on"+fe,rt=fe.indexOf("."),ft=Mt;rt>0&&(fe=fe.slice(0,rt));var Pt=xt.get(fe);Pt&&(fe=Pt,ft=tt);function At(){var rr=this[qe];rr&&(this.removeEventListener(fe,rr,rr.$),delete this[qe])}function Vt(){var rr=ft(Le,S(arguments));At.call(this),this.addEventListener(fe,this[qe]=rr,rr.$=Be),rr._=Le}function Gt(){var rr=new RegExp("^__on([^.]+)"+i.requote(fe)+"$"),Cr;for(var Lr in this)if(Cr=Lr.match(rr)){var Qr=this[Lr];this.removeEventListener(Cr[1],Qr,Qr.$),delete this[Lr]}}return rt?Le?Vt:At:Le?j:Gt}var xt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&xt.forEach(function(fe){"on"+fe in v&&xt.remove(fe)});function Mt(fe,Le){return function(Be){var qe=i.event;i.event=Be,Le[0]=this.__data__;try{fe.apply(this,Le)}finally{i.event=qe}}}function tt(fe,Le){var Be=Mt(fe,Le);return function(qe){var rt=this,ft=qe.relatedTarget;(!ft||ft!==rt&&!(ft.compareDocumentPosition(rt)&8))&&Be.call(rt,qe)}}var Oe,Xe=0;function Ze(fe){var Le=".dragsuppress-"+ ++Xe,Be="click"+Le,qe=i.select(r(fe)).on("touchmove"+Le,re).on("dragstart"+Le,re).on("selectstart"+Le,re);if(Oe==null&&(Oe="onselectstart"in fe?!1:B(fe.style,"userSelect")),Oe){var rt=d(fe).style,ft=rt[Oe];rt[Oe]="none"}return function(Pt){if(qe.on(Le,null),Oe&&(rt[Oe]=ft),Pt){var At=function(){qe.on(Be,null)};qe.on(Be,function(){re(),At()},!0),setTimeout(At,0)}}}i.mouse=function(fe){return ze(fe,ue())};var We=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ze(fe,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var Be=fe.ownerSVGElement||fe;if(Be.createSVGPoint){var qe=Be.createSVGPoint();if(We<0){var rt=r(fe);if(rt.scrollX||rt.scrollY){Be=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Be[0][0].getScreenCTM();We=!(ft.f||ft.e),Be.remove()}}return We?(qe.x=Le.pageX,qe.y=Le.pageY):(qe.x=Le.clientX,qe.y=Le.clientY),qe=qe.matrixTransform(fe.getScreenCTM().inverse()),[qe.x,qe.y]}var Pt=fe.getBoundingClientRect();return[Le.clientX-Pt.left-fe.clientLeft,Le.clientY-Pt.top-fe.clientTop]}i.touch=function(fe,Le,Be){if(arguments.length<3&&(Be=Le,Le=ue().changedTouches),Le){for(var qe=0,rt=Le.length,ft;qe<rt;++qe)if((ft=Le[qe]).identifier===Be)return ze(fe,ft)}},i.behavior.drag=function(){var fe=J(rt,"drag","dragstart","dragend"),Le=null,Be=ft(j,i.mouse,r,"mousemove","mouseup"),qe=ft(ke,i.touch,F,"touchmove","touchend");function rt(){this.on("mousedown.drag",Be).on("touchstart.drag",qe)}function ft(Pt,At,Vt,Gt,rr){return function(){var Cr=this,Lr=i.event.target.correspondingElement||i.event.target,Qr=Cr.parentNode,ln=fe.of(Cr,arguments),Rr=0,Ur=Pt(),Kr=".drag"+(Ur==null?"":"-"+Ur),cn,pn=i.select(Vt(Lr)).on(Gt+Kr,na).on(rr+Kr,ca),tn=Ze(Lr),Gn=At(Qr,Ur);Le?(cn=Le.apply(Cr,arguments),cn=[cn.x-Gn[0],cn.y-Gn[1]]):cn=[0,0],ln({type:"dragstart"});function na(){var ta=At(Qr,Ur),sa,ha;ta&&(sa=ta[0]-Gn[0],ha=ta[1]-Gn[1],Rr|=sa|ha,Gn=ta,ln({type:"drag",x:ta[0]+cn[0],y:ta[1]+cn[1],dx:sa,dy:ha}))}function ca(){At(Qr,Ur)&&(pn.on(Gt+Kr,null).on(rr+Kr,null),tn(Rr),ln({type:"dragend"}))}}}return rt.origin=function(Pt){return arguments.length?(Le=Pt,rt):Le},i.rebind(rt,fe,"on")};function ke(){return i.event.changedTouches[0].identifier}i.touches=function(fe,Le){return arguments.length<2&&(Le=ue().touches),Le?S(Le).map(function(Be){var qe=ze(fe,Be);return qe.identifier=Be.identifier,qe}):[]};var je=1e-6,Ie=je*je,pe=Math.PI,we=2*pe,Ve=we-je,Qe=pe/2,it=pe/180,st=180/pe;function Wt(fe,Le,Be){return(Le[0]-fe[0])*(Be[1]-fe[1])-(Le[1]-fe[1])*(Be[0]-fe[0])}function jt(fe){return fe>1?Qe:fe<-1?-Qe:Math.asin(fe)}function Tt(fe){return((fe=Math.exp(fe))-1/fe)/2}function Lt(fe){return((fe=Math.exp(fe))+1/fe)/2}function Xt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var Tr=Math.SQRT2,yt=2,Kt=4;i.interpolateZoom=function(fe,Le){var Be=fe[0],qe=fe[1],rt=fe[2],ft=Le[0],Pt=Le[1],At=Le[2],Vt=ft-Be,Gt=Pt-qe,rr=Vt*Vt+Gt*Gt,Cr,Lr;if(rr<Ie)Lr=Math.log(At/rt)/Tr,Cr=function(cn){return[Be+cn*Vt,qe+cn*Gt,rt*Math.exp(Tr*cn*Lr)]};else{var Qr=Math.sqrt(rr),ln=(At*At-rt*rt+Kt*rr)/(2*rt*yt*Qr),Rr=(At*At-rt*rt-Kt*rr)/(2*At*yt*Qr),Ur=Math.log(Math.sqrt(ln*ln+1)-ln),Kr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Lr=(Kr-Ur)/Tr,Cr=function(cn){var pn=cn*Lr,tn=Lt(Ur),Gn=rt/(yt*Qr)*(tn*Xt(Tr*pn+Ur)-Tt(Ur));return[Be+Gn*Vt,qe+Gn*Gt,rt*tn/Lt(Tr*pn+Ur)]}}return Cr.duration=Lr*1e3,Cr},i.behavior.zoom=function(){var fe={x:0,y:0,k:1},Le,Be,qe,rt=[960,500],ft=Jt,Pt=250,At=0,Vt="mousedown.zoom",Gt="mousemove.zoom",rr="mouseup.zoom",Cr,Lr="touchstart.zoom",Qr,ln=J(pn,"zoomstart","zoom","zoomend"),Rr,Ur,Kr,cn;ur||(ur="onwheel"in v?(yr=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return i.event.wheelDelta},"mousewheel"):(yr=function(){return-i.event.detail},"MozMousePixelScroll"));function pn(ea){ea.on(Vt,Oa).on(ur+".zoom",Ki).on("dblclick.zoom",di).on(Lr,li)}pn.event=function(ea){ea.each(function(){var Ga=ln.of(this,arguments),Ma=fe;kr?i.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},ha(Ga)}).tween("zoom:zoom",function(){var Qa=rt[0],Li=rt[1],ui=Be?Be[0]:Qa/2,fo=Be?Be[1]:Li/2,co=i.interpolateZoom([(ui-fe.x)/fe.k,(fo-fe.y)/fe.k,Qa/fe.k],[(ui-Ma.x)/Ma.k,(fo-Ma.y)/Ma.k,Qa/Ma.k]);return function(mo){var Pi=co(mo),Po=Qa/Pi[2];this.__chart__=fe={x:ui-Pi[0]*Po,y:fo-Pi[1]*Po,k:Po},Ua(Ga)}}).each("interrupt.zoom",function(){Ca(Ga)}).each("end.zoom",function(){Ca(Ga)}):(this.__chart__=fe,ha(Ga),Ua(Ga),Ca(Ga))})},pn.translate=function(ea){return arguments.length?(fe={x:+ea[0],y:+ea[1],k:fe.k},sa(),pn):[fe.x,fe.y]},pn.scale=function(ea){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},na(+ea),sa(),pn):fe.k},pn.scaleExtent=function(ea){return arguments.length?(ft=ea==null?Jt:[+ea[0],+ea[1]],pn):ft},pn.center=function(ea){return arguments.length?(qe=ea&&[+ea[0],+ea[1]],pn):qe},pn.size=function(ea){return arguments.length?(rt=ea&&[+ea[0],+ea[1]],pn):rt},pn.duration=function(ea){return arguments.length?(Pt=+ea,pn):Pt},pn.x=function(ea){return arguments.length?(Ur=ea,Rr=ea.copy(),fe={x:0,y:0,k:1},pn):Ur},pn.y=function(ea){return arguments.length?(cn=ea,Kr=ea.copy(),fe={x:0,y:0,k:1},pn):cn};function tn(ea){return[(ea[0]-fe.x)/fe.k,(ea[1]-fe.y)/fe.k]}function Gn(ea){return[ea[0]*fe.k+fe.x,ea[1]*fe.k+fe.y]}function na(ea){fe.k=Math.max(ft[0],Math.min(ft[1],ea))}function ca(ea,Ga){Ga=Gn(Ga),fe.x+=ea[0]-Ga[0],fe.y+=ea[1]-Ga[1]}function ta(ea,Ga,Ma,Qa){ea.__chart__={x:fe.x,y:fe.y,k:fe.k},na(Math.pow(2,Qa)),ca(Be=Ga,Ma),ea=i.select(ea),Pt>0&&(ea=ea.transition().duration(Pt)),ea.call(pn.event)}function sa(){Ur&&Ur.domain(Rr.range().map(function(ea){return(ea-fe.x)/fe.k}).map(Rr.invert)),cn&&cn.domain(Kr.range().map(function(ea){return(ea-fe.y)/fe.k}).map(Kr.invert))}function ha(ea){At++||ea({type:"zoomstart"})}function Ua(ea){sa(),ea({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function Ca(ea){--At||(ea({type:"zoomend"}),Be=null)}function Oa(){var ea=this,Ga=ln.of(ea,arguments),Ma=0,Qa=i.select(r(ea)).on(Gt,fo).on(rr,co),Li=tn(i.mouse(ea)),ui=Ze(ea);Ot.call(ea),ha(Ga);function fo(){Ma=1,ca(i.mouse(ea),Li),Ua(Ga)}function co(){Qa.on(Gt,null).on(rr,null),ui(Ma),Ca(Ga)}}function li(){var ea=this,Ga=ln.of(ea,arguments),Ma={},Qa=0,Li,ui=".zoom-"+i.event.changedTouches[0].identifier,fo="touchmove"+ui,co="touchend"+ui,mo=[],Pi=i.select(ea),Po=Ze(ea);Pa(),ha(Ga),Pi.on(Vt,null).on(Lr,Pa);function ua(){var xo=i.touches(ea);return Li=fe.k,xo.forEach(function(gi){gi.identifier in Ma&&(Ma[gi.identifier]=tn(gi))}),xo}function Pa(){var xo=i.event.target;i.select(xo).on(fo,Zo).on(co,ts),mo.push(xo);for(var gi=i.event.changedTouches,ro=0,$i=gi.length;ro<$i;++ro)Ma[gi[ro].identifier]=null;var _s=ua(),qs=Date.now();if(_s.length===1){if(qs-Qr<500){var Fi=_s[0];ta(ea,Fi,Ma[Fi.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),re()}Qr=qs}else if(_s.length>1){var Fi=_s[0],xu=_s[1],qa=Fi[0]-xu[0],Bi=Fi[1]-xu[1];Qa=qa*qa+Bi*Bi}}function Zo(){var xo=i.touches(ea),gi,ro,$i,_s;Ot.call(ea);for(var qs=0,Fi=xo.length;qs<Fi;++qs,_s=null)if($i=xo[qs],_s=Ma[$i.identifier]){if(ro)break;gi=$i,ro=_s}if(_s){var xu=(xu=$i[0]-gi[0])*xu+(xu=$i[1]-gi[1])*xu,qa=Qa&&Math.sqrt(xu/Qa);gi=[(gi[0]+$i[0])/2,(gi[1]+$i[1])/2],ro=[(ro[0]+_s[0])/2,(ro[1]+_s[1])/2],na(qa*Li)}Qr=null,ca(gi,ro),Ua(Ga)}function ts(){if(i.event.touches.length){for(var xo=i.event.changedTouches,gi=0,ro=xo.length;gi<ro;++gi)delete Ma[xo[gi].identifier];for(var $i in Ma)return void ua()}i.selectAll(mo).on(ui,null),Pi.on(Vt,Oa).on(Lr,li),Po(),Ca(Ga)}}function Ki(){var ea=ln.of(this,arguments);Cr?clearTimeout(Cr):(Ot.call(this),Le=tn(Be=qe||i.mouse(this)),ha(ea)),Cr=setTimeout(function(){Cr=null,Ca(ea)},50),re(),na(Math.pow(2,yr()*.002)*fe.k),ca(Be,Le),Ua(ea)}function di(){var ea=i.mouse(this),Ga=Math.log(fe.k)/Math.LN2;ta(this,ea,tn(ea),i.event.shiftKey?Math.ceil(Ga)-1:Math.floor(Ga)+1)}return i.rebind(pn,ln,"on")};var Jt=[0,1/0],yr,ur;i.color=mt;function mt(){}mt.prototype.toString=function(){return this.rgb()+""},i.hsl=lt;function lt(fe,Le,Be){return this instanceof lt?(this.h=+fe,this.s=+Le,void(this.l=+Be)):arguments.length<2?fe instanceof lt?new lt(fe.h,fe.s,fe.l):br(""+fe,hr,lt):new lt(fe,Le,Be)}var bt=lt.prototype=new mt;bt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new lt(this.h,this.s,this.l/fe)},bt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new lt(this.h,this.s,fe*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(fe,Le,Be){var qe,rt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,Be=Be<0?0:Be>1?1:Be,rt=Be<=.5?Be*(1+Le):Be+Le-Be*Le,qe=2*Be-rt;function ft(At){return At>360?At-=360:At<0&&(At+=360),At<60?qe+(rt-qe)*At/60:At<180?rt:At<240?qe+(rt-qe)*(240-At)/60:qe}function Pt(At){return Math.round(ft(At)*255)}return new ir(Pt(fe+120),Pt(fe),Pt(fe-120))}i.hcl=It;function It(fe,Le,Be){return this instanceof It?(this.h=+fe,this.c=+Le,void(this.l=+Be)):arguments.length<2?fe instanceof It?new It(fe.h,fe.c,fe.l):fe instanceof Bt?zt(fe.l,fe.a,fe.b):zt((fe=Vr((fe=i.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new It(fe,Le,Be)}var Ht=It.prototype=new mt;Ht.brighter=function(fe){return new It(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?fe:1)))},Ht.darker=function(fe){return new It(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?fe:1)))},Ht.rgb=function(){return Ut(this.h,this.c,this.l).rgb()};function Ut(fe,Le,Be){return isNaN(fe)&&(fe=0),isNaN(Le)&&(Le=0),new Bt(Be,Math.cos(fe*=it)*Le,Math.sin(fe)*Le)}i.lab=Bt;function Bt(fe,Le,Be){return this instanceof Bt?(this.l=+fe,this.a=+Le,void(this.b=+Be)):arguments.length<2?fe instanceof Bt?new Bt(fe.l,fe.a,fe.b):fe instanceof It?Ut(fe.h,fe.c,fe.l):Vr((fe=ir(fe)).r,fe.g,fe.b):new Bt(fe,Le,Be)}var $t=18,fr=.95047,Zt=1,vr=1.08883,Ye=Bt.prototype=new mt;Ye.brighter=function(fe){return new Bt(Math.min(100,this.l+$t*(arguments.length?fe:1)),this.a,this.b)},Ye.darker=function(fe){return new Bt(Math.max(0,this.l-$t*(arguments.length?fe:1)),this.a,this.b)},Ye.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(fe,Le,Be){var qe=(fe+16)/116,rt=qe+Le/500,ft=qe-Be/200;return rt=Dt(rt)*fr,qe=Dt(qe)*Zt,ft=Dt(ft)*vr,new ir(nr(3.2404542*rt-1.5371385*qe-.4985314*ft),nr(-.969266*rt+1.8760108*qe+.041556*ft),nr(.0556434*rt-.2040259*qe+1.0572252*ft))}function zt(fe,Le,Be){return fe>0?new It(Math.atan2(Be,Le)*st,Math.sqrt(Le*Le+Be*Be),fe):new It(NaN,NaN,fe)}function Dt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function Qt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function nr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}i.rgb=ir;function ir(fe,Le,Be){return this instanceof ir?(this.r=~~fe,this.g=~~Le,void(this.b=~~Be)):arguments.length<2?fe instanceof ir?new ir(fe.r,fe.g,fe.b):br(""+fe,ir,Et):new ir(fe,Le,Be)}function tr(fe){return new ir(fe>>16,fe>>8&255,fe&255)}function Ft(fe){return tr(fe)+""}var cr=ir.prototype=new mt;cr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Le=this.r,Be=this.g,qe=this.b,rt=30;return!Le&&!Be&&!qe?new ir(rt,rt,rt):(Le&&Le<rt&&(Le=rt),Be&&Be<rt&&(Be=rt),qe&&qe<rt&&(qe=rt),new ir(Math.min(255,Le/fe),Math.min(255,Be/fe),Math.min(255,qe/fe)))},cr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ir(fe*this.r,fe*this.g,fe*this.b)},cr.hsl=function(){return hr(this.r,this.g,this.b)},cr.toString=function(){return"#"+pr(this.r)+pr(this.g)+pr(this.b)};function pr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function br(fe,Le,Be){var qe=0,rt=0,ft=0,Pt,At,Vt;if(Pt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Pt)switch(At=Pt[2].split(","),Pt[1]){case"hsl":return Be(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Le(Ir(At[0]),Ir(At[1]),Ir(At[2]))}return(Vt=sn.get(fe))?Le(Vt.r,Vt.g,Vt.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Vt=parseInt(fe.slice(1),16))&&(fe.length===4?(qe=(Vt&3840)>>4,qe=qe>>4|qe,rt=Vt&240,rt=rt>>4|rt,ft=Vt&15,ft=ft<<4|ft):fe.length===7&&(qe=(Vt&16711680)>>16,rt=(Vt&65280)>>8,ft=Vt&255)),Le(qe,rt,ft))}function hr(fe,Le,Be){var qe=Math.min(fe/=255,Le/=255,Be/=255),rt=Math.max(fe,Le,Be),ft=rt-qe,Pt,At,Vt=(rt+qe)/2;return ft?(At=Vt<.5?ft/(rt+qe):ft/(2-rt-qe),fe==rt?Pt=(Le-Be)/ft+(Le<Be?6:0):Le==rt?Pt=(Be-fe)/ft+2:Pt=(fe-Le)/ft+4,Pt*=60):(Pt=NaN,At=Vt>0&&Vt<1?0:Pt),new lt(Pt,At,Vt)}function Vr(fe,Le,Be){fe=Pr(fe),Le=Pr(Le),Be=Pr(Be);var qe=Qt((.4124564*fe+.3575761*Le+.1804375*Be)/fr),rt=Qt((.2126729*fe+.7151522*Le+.072175*Be)/Zt),ft=Qt((.0193339*fe+.119192*Le+.9503041*Be)/vr);return Bt(116*rt-16,500*(qe-rt),200*(rt-ft))}function Pr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Ir(fe){var Le=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Le*2.55):Le}var sn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});sn.forEach(function(fe,Le){sn.set(fe,tr(Le))});function an(fe){return typeof fe=="function"?fe:function(){return fe}}i.functor=an,i.xhr=En(F);function En(fe){return function(Le,Be,qe){return arguments.length===2&&typeof Be=="function"&&(qe=Be,Be=null),Mn(Le,Be,fe,qe)}}function Mn(fe,Le,Be,qe){var rt={},ft=i.dispatch("beforesend","progress","load","error"),Pt={},At=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(fe)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Gt:At.onreadystatechange=function(){At.readyState>3&&Gt()};function Gt(){var rr=At.status,Cr;if(!rr&&_r(At)||rr>=200&&rr<300||rr===304){try{Cr=Be.call(rt,At)}catch(Lr){ft.error.call(rt,Lr);return}ft.load.call(rt,Cr)}else ft.error.call(rt,At)}return At.onprogress=function(rr){var Cr=i.event;i.event=rr;try{ft.progress.call(rt,At)}finally{i.event=Cr}},rt.header=function(rr,Cr){return rr=(rr+"").toLowerCase(),arguments.length<2?Pt[rr]:(Cr==null?delete Pt[rr]:Pt[rr]=Cr+"",rt)},rt.mimeType=function(rr){return arguments.length?(Le=rr==null?null:rr+"",rt):Le},rt.responseType=function(rr){return arguments.length?(Vt=rr,rt):Vt},rt.response=function(rr){return Be=rr,rt},["get","post"].forEach(function(rr){rt[rr]=function(){return rt.send.apply(rt,[rr].concat(S(arguments)))}}),rt.send=function(rr,Cr,Lr){if(arguments.length===2&&typeof Cr=="function"&&(Lr=Cr,Cr=null),At.open(rr,fe,!0),Le!=null&&!("accept"in Pt)&&(Pt.accept=Le+",*/*"),At.setRequestHeader)for(var Qr in Pt)At.setRequestHeader(Qr,Pt[Qr]);return Le!=null&&At.overrideMimeType&&At.overrideMimeType(Le),Vt!=null&&(At.responseType=Vt),Lr!=null&&rt.on("error",Lr).on("load",function(ln){Lr(null,ln)}),ft.beforesend.call(rt,At),At.send(Cr??null),rt},rt.abort=function(){return At.abort(),rt},i.rebind(rt,ft,"on"),qe==null?rt:rt.get(xr(qe))}function xr(fe){return fe.length===1?function(Le,Be){fe(Le==null?Be:null)}:fe}function _r(fe){var Le=fe.responseType;return Le&&Le!=="text"?fe.response:fe.responseText}i.dsv=function(fe,Le){var Be=new RegExp('["'+fe+`
]`),qe=fe.charCodeAt(0);function rt(Gt,rr,Cr){arguments.length<3&&(Cr=rr,rr=null);var Lr=Mn(Gt,Le,rr==null?ft:Pt(rr),Cr);return Lr.row=function(Qr){return arguments.length?Lr.response((rr=Qr)==null?ft:Pt(Qr)):rr},Lr}function ft(Gt){return rt.parse(Gt.responseText)}function Pt(Gt){return function(rr){return rt.parse(rr.responseText,Gt)}}rt.parse=function(Gt,rr){var Cr;return rt.parseRows(Gt,function(Lr,Qr){if(Cr)return Cr(Lr,Qr-1);var ln=function(Rr){for(var Ur={},Kr=Lr.length,cn=0;cn<Kr;++cn)Ur[Lr[cn]]=Rr[cn];return Ur};Cr=rr?function(Rr,Ur){return rr(ln(Rr),Ur)}:ln})},rt.parseRows=function(Gt,rr){var Cr={},Lr={},Qr=[],ln=Gt.length,Rr=0,Ur=0,Kr,cn;function pn(){if(Rr>=ln)return Lr;if(cn)return cn=!1,Cr;var Gn=Rr;if(Gt.charCodeAt(Gn)===34){for(var na=Gn;na++<ln;)if(Gt.charCodeAt(na)===34){if(Gt.charCodeAt(na+1)!==34)break;++na}Rr=na+2;var ca=Gt.charCodeAt(na+1);return ca===13?(cn=!0,Gt.charCodeAt(na+2)===10&&++Rr):ca===10&&(cn=!0),Gt.slice(Gn+1,na).replace(/""/g,'"')}for(;Rr<ln;){var ca=Gt.charCodeAt(Rr++),ta=1;if(ca===10)cn=!0;else if(ca===13)cn=!0,Gt.charCodeAt(Rr)===10&&(++Rr,++ta);else if(ca!==qe)continue;return Gt.slice(Gn,Rr-ta)}return Gt.slice(Gn)}for(;(Kr=pn())!==Lr;){for(var tn=[];Kr!==Cr&&Kr!==Lr;)tn.push(Kr),Kr=pn();rr&&(tn=rr(tn,Ur++))==null||Qr.push(tn)}return Qr},rt.format=function(Gt){if(Array.isArray(Gt[0]))return rt.formatRows(Gt);var rr=new z,Cr=[];return Gt.forEach(function(Lr){for(var Qr in Lr)rr.has(Qr)||Cr.push(rr.add(Qr))}),[Cr.map(Vt).join(fe)].concat(Gt.map(function(Lr){return Cr.map(function(Qr){return Vt(Lr[Qr])}).join(fe)})).join(`
`)},rt.formatRows=function(Gt){return Gt.map(At).join(`
`)};function At(Gt){return Gt.map(Vt).join(fe)}function Vt(Gt){return Be.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return rt},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Yr,zr,gn,dn,Rn=this[B(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};i.timer=function(){In.apply(this,arguments)};function In(fe,Le,Be){var qe=arguments.length;qe<2&&(Le=0),qe<3&&(Be=Date.now());var rt=Be+Le,ft={c:fe,t:rt,n:null};return zr?zr.n=ft:Yr=ft,zr=ft,gn||(dn=clearTimeout(dn),gn=1,Rn(Wn)),ft}function Wn(){var fe=oa(),Le=ma()-fe;Le>24?(isFinite(Le)&&(clearTimeout(dn),dn=setTimeout(Wn,Le)),gn=0):(gn=1,Rn(Wn))}i.timer.flush=function(){oa(),ma()};function oa(){for(var fe=Date.now(),Le=Yr;Le;)fe>=Le.t&&Le.c(fe-Le.t)&&(Le.c=null),Le=Le.n;return fe}function ma(){for(var fe,Le=Yr,Be=1/0;Le;)Le.c?(Le.t<Be&&(Be=Le.t),Le=(fe=Le).n):Le=fe?fe.n=Le.n:Yr=Le.n;return zr=fe,Be}i.round=function(fe,Le){return Le?Math.round(fe*(Le=Math.pow(10,Le)))/Le:Math.round(fe)},i.geom={};function Ta(fe){return fe[0]}function Yn(fe){return fe[1]}i.geom.hull=function(fe){var Le=Ta,Be=Yn;if(arguments.length)return qe(fe);function qe(rt){if(rt.length<3)return[];var ft=an(Le),Pt=an(Be),At,Vt=rt.length,Gt=[],rr=[];for(At=0;At<Vt;At++)Gt.push([+ft.call(this,rt[At],At),+Pt.call(this,rt[At],At),At]);for(Gt.sort(gr),At=0;At<Vt;At++)rr.push([Gt[At][0],-Gt[At][1]]);var Cr=Qn(Gt),Lr=Qn(rr),Qr=Lr[0]===Cr[0],ln=Lr[Lr.length-1]===Cr[Cr.length-1],Rr=[];for(At=Cr.length-1;At>=0;--At)Rr.push(rt[Gt[Cr[At]][2]]);for(At=+Qr;At<Lr.length-ln;++At)Rr.push(rt[Gt[Lr[At]][2]]);return Rr}return qe.x=function(rt){return arguments.length?(Le=rt,qe):Le},qe.y=function(rt){return arguments.length?(Be=rt,qe):Be},qe};function Qn(fe){for(var Le=fe.length,Be=[0,1],qe=2,rt=2;rt<Le;rt++){for(;qe>1&&Wt(fe[Be[qe-2]],fe[Be[qe-1]],fe[rt])<=0;)--qe;Be[qe++]=rt}return Be.slice(0,qe)}function gr(fe,Le){return fe[0]-Le[0]||fe[1]-Le[1]}i.geom.polygon=function(fe){return ne(fe,en),fe};var en=i.geom.polygon.prototype=[];en.area=function(){for(var fe=-1,Le=this.length,Be,qe=this[Le-1],rt=0;++fe<Le;)Be=qe,qe=this[fe],rt+=Be[1]*qe[0]-Be[0]*qe[1];return rt*.5},en.centroid=function(fe){var Le=-1,Be=this.length,qe=0,rt=0,ft,Pt=this[Be-1],At;for(arguments.length||(fe=-1/(6*this.area()));++Le<Be;)ft=Pt,Pt=this[Le],At=ft[0]*Pt[1]-Pt[0]*ft[1],qe+=(ft[0]+Pt[0])*At,rt+=(ft[1]+Pt[1])*At;return[qe*fe,rt*fe]},en.clip=function(fe){for(var Le,Be=Bn(fe),qe=-1,rt=this.length-Bn(this),ft,Pt,At=this[rt-1],Vt,Gt,rr;++qe<rt;){for(Le=fe.slice(),fe.length=0,Vt=this[qe],Gt=Le[(Pt=Le.length-Be)-1],ft=-1;++ft<Pt;)rr=Le[ft],$r(rr,At,Vt)?($r(Gt,At,Vt)||fe.push(hn(Gt,rr,At,Vt)),fe.push(rr)):$r(Gt,At,Vt)&&fe.push(hn(Gt,rr,At,Vt)),Gt=rr;Be&&fe.push(fe[0]),At=Vt}return fe};function $r(fe,Le,Be){return(Be[0]-Le[0])*(fe[1]-Le[1])<(Be[1]-Le[1])*(fe[0]-Le[0])}function hn(fe,Le,Be,qe){var rt=fe[0],ft=Be[0],Pt=Le[0]-rt,At=qe[0]-ft,Vt=fe[1],Gt=Be[1],rr=Le[1]-Vt,Cr=qe[1]-Gt,Lr=(At*(Vt-Gt)-Cr*(rt-ft))/(Cr*Pt-At*rr);return[rt+Lr*Pt,Vt+Lr*rr]}function Bn(fe){var Le=fe[0],Be=fe[fe.length-1];return!(Le[0]-Be[0]||Le[1]-Be[1])}var Tn,Sn,Nn,qn=[],va,Da,Mr=[];function Or(){Qo(this),this.edge=this.site=this.circle=null}function Ar(fe){var Le=qn.pop()||new Or;return Le.site=fe,Le}function Fr(fe){Fn(fe),Nn.remove(fe),qn.push(fe),Qo(fe)}function bn(fe){var Le=fe.circle,Be=Le.x,qe=Le.cy,rt={x:Be,y:qe},ft=fe.P,Pt=fe.N,At=[fe];Fr(fe);for(var Vt=ft;Vt.circle&&p(Be-Vt.circle.x)<je&&p(qe-Vt.circle.cy)<je;)ft=Vt.P,At.unshift(Vt),Fr(Vt),Vt=ft;At.unshift(Vt),Fn(Vt);for(var Gt=Pt;Gt.circle&&p(Be-Gt.circle.x)<je&&p(qe-Gt.circle.cy)<je;)Pt=Gt.N,At.push(Gt),Fr(Gt),Gt=Pt;At.push(Gt),Fn(Gt);var rr=At.length,Cr;for(Cr=1;Cr<rr;++Cr)Gt=At[Cr],Vt=At[Cr-1],Ra(Gt.edge,Vt.site,Gt.site,rt);Vt=At[0],Gt=At[rr-1],Gt.edge=la(Vt.site,Gt.site,null,rt),An(Vt),An(Gt)}function Dn(fe){for(var Le=fe.x,Be=fe.y,qe,rt,ft,Pt,At=Nn._;At;)if(ft=yn(At,Be)-Le,ft>je)At=At.L;else if(Pt=Le-un(At,Be),Pt>je){if(!At.R){qe=At;break}At=At.R}else{ft>-je?(qe=At.P,rt=At):Pt>-je?(qe=At,rt=At.N):qe=rt=At;break}var Vt=Ar(fe);if(Nn.insert(qe,Vt),!(!qe&&!rt)){if(qe===rt){Fn(qe),rt=Ar(qe.site),Nn.insert(Vt,rt),Vt.edge=rt.edge=la(qe.site,Vt.site),An(qe),An(rt);return}if(!rt){Vt.edge=la(qe.site,Vt.site);return}Fn(qe),Fn(rt);var Gt=qe.site,rr=Gt.x,Cr=Gt.y,Lr=fe.x-rr,Qr=fe.y-Cr,ln=rt.site,Rr=ln.x-rr,Ur=ln.y-Cr,Kr=2*(Lr*Ur-Qr*Rr),cn=Lr*Lr+Qr*Qr,pn=Rr*Rr+Ur*Ur,tn={x:(Ur*cn-Qr*pn)/Kr+rr,y:(Lr*pn-Rr*cn)/Kr+Cr};Ra(rt.edge,Gt,ln,tn),Vt.edge=la(Gt,fe,null,tn),rt.edge=la(fe,ln,null,tn),An(qe),An(rt)}}function yn(fe,Le){var Be=fe.site,qe=Be.x,rt=Be.y,ft=rt-Le;if(!ft)return qe;var Pt=fe.P;if(!Pt)return-1/0;Be=Pt.site;var At=Be.x,Vt=Be.y,Gt=Vt-Le;if(!Gt)return At;var rr=At-qe,Cr=1/ft-1/Gt,Lr=rr/Gt;return Cr?(-Lr+Math.sqrt(Lr*Lr-2*Cr*(rr*rr/(-2*Gt)-Vt+Gt/2+rt-ft/2)))/Cr+qe:(qe+At)/2}function un(fe,Le){var Be=fe.N;if(Be)return yn(Be,Le);var qe=fe.site;return qe.y===Le?qe.x:1/0}function Er(fe){this.site=fe,this.edges=[]}Er.prototype.prepare=function(){for(var fe=this.edges,Le=fe.length,Be;Le--;)Be=fe[Le].edge,(!Be.b||!Be.a)&&fe.splice(Le,1);return fe.sort(Hr),fe.length};function Zr(fe){for(var Le=fe[0][0],Be=fe[1][0],qe=fe[0][1],rt=fe[1][1],ft,Pt,At,Vt,Gt=Sn,rr=Gt.length,Cr,Lr,Qr,ln,Rr,Ur;rr--;)if(Cr=Gt[rr],!(!Cr||!Cr.prepare()))for(Qr=Cr.edges,ln=Qr.length,Lr=0;Lr<ln;)Ur=Qr[Lr].end(),At=Ur.x,Vt=Ur.y,Rr=Qr[++Lr%ln].start(),ft=Rr.x,Pt=Rr.y,(p(At-ft)>je||p(Vt-Pt)>je)&&(Qr.splice(Lr,0,new wi(ya(Cr.site,Ur,p(At-Le)<je&&rt-Vt>je?{x:Le,y:p(ft-Le)<je?Pt:rt}:p(Vt-rt)<je&&Be-At>je?{x:p(Pt-rt)<je?ft:Be,y:rt}:p(At-Be)<je&&Vt-qe>je?{x:Be,y:p(ft-Be)<je?Pt:qe}:p(Vt-qe)<je&&At-Le>je?{x:p(Pt-qe)<je?ft:Le,y:qe}:null),Cr.site,null)),++ln)}function Hr(fe,Le){return Le.angle-fe.angle}function qr(){Qo(this),this.x=this.y=this.arc=this.site=this.cy=null}function An(fe){var Le=fe.P,Be=fe.N;if(!(!Le||!Be)){var qe=Le.site,rt=fe.site,ft=Be.site;if(qe!==ft){var Pt=rt.x,At=rt.y,Vt=qe.x-Pt,Gt=qe.y-At,rr=ft.x-Pt,Ur=ft.y-At,Cr=2*(Vt*Ur-Gt*rr);if(!(Cr>=-Ie)){var Lr=Vt*Vt+Gt*Gt,Qr=rr*rr+Ur*Ur,ln=(Ur*Lr-Gt*Qr)/Cr,Rr=(Vt*Qr-rr*Lr)/Cr,Ur=Rr+At,Kr=Mr.pop()||new qr;Kr.arc=fe,Kr.site=rt,Kr.x=ln+Pt,Kr.y=Ur+Math.sqrt(ln*ln+Rr*Rr),Kr.cy=Ur,fe.circle=Kr;for(var cn=null,pn=Da._;pn;)if(Kr.y<pn.y||Kr.y===pn.y&&Kr.x<=pn.x)if(pn.L)pn=pn.L;else{cn=pn.P;break}else if(pn.R)pn=pn.R;else{cn=pn;break}Da.insert(cn,Kr),cn||(va=Kr)}}}}function Fn(fe){var Le=fe.circle;Le&&(Le.P||(va=Le.N),Da.remove(Le),Mr.push(Le),Qo(Le),fe.circle=null)}function Cn(fe,Le,Be,qe){return function(rt){var ft=rt.a,Pt=rt.b,At=ft.x,Vt=ft.y,Gt=Pt.x,rr=Pt.y,Cr=0,Lr=1,Qr=Gt-At,ln=rr-Vt,Rr;if(Rr=fe-At,!(!Qr&&Rr>0)){if(Rr/=Qr,Qr<0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}else if(Qr>0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}if(Rr=Be-At,!(!Qr&&Rr<0)){if(Rr/=Qr,Qr<0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}else if(Qr>0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}if(Rr=Le-Vt,!(!ln&&Rr>0)){if(Rr/=ln,ln<0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}else if(ln>0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}if(Rr=qe-Vt,!(!ln&&Rr<0)){if(Rr/=ln,ln<0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}else if(ln>0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}return Cr>0&&(rt.a={x:At+Cr*Qr,y:Vt+Cr*ln}),Lr<1&&(rt.b={x:At+Lr*Qr,y:Vt+Lr*ln}),rt}}}}}}function Hn(fe){for(var Le=Tn,Be=Cn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),qe=Le.length,rt;qe--;)rt=Le[qe],(!Un(rt,fe)||!Be(rt)||p(rt.a.x-rt.b.x)<je&&p(rt.a.y-rt.b.y)<je)&&(rt.a=rt.b=null,Le.splice(qe,1))}function Un(fe,Le){var Be=fe.b;if(Be)return!0;var qe=fe.a,rt=Le[0][0],ft=Le[1][0],Pt=Le[0][1],At=Le[1][1],Vt=fe.l,Gt=fe.r,rr=Vt.x,Cr=Vt.y,Lr=Gt.x,Qr=Gt.y,ln=(rr+Lr)/2,Rr=(Cr+Qr)/2,Ur,Kr;if(Qr===Cr){if(ln<rt||ln>=ft)return;if(rr>Lr){if(!qe)qe={x:ln,y:Pt};else if(qe.y>=At)return;Be={x:ln,y:At}}else{if(!qe)qe={x:ln,y:At};else if(qe.y<Pt)return;Be={x:ln,y:Pt}}}else if(Ur=(rr-Lr)/(Qr-Cr),Kr=Rr-Ur*ln,Ur<-1||Ur>1)if(rr>Lr){if(!qe)qe={x:(Pt-Kr)/Ur,y:Pt};else if(qe.y>=At)return;Be={x:(At-Kr)/Ur,y:At}}else{if(!qe)qe={x:(At-Kr)/Ur,y:At};else if(qe.y<Pt)return;Be={x:(Pt-Kr)/Ur,y:Pt}}else if(Cr<Qr){if(!qe)qe={x:rt,y:Ur*rt+Kr};else if(qe.x>=ft)return;Be={x:ft,y:Ur*ft+Kr}}else{if(!qe)qe={x:ft,y:Ur*ft+Kr};else if(qe.x<rt)return;Be={x:rt,y:Ur*rt+Kr}}return fe.a=qe,fe.b=Be,!0}function da(fe,Le){this.l=fe,this.r=Le,this.a=this.b=null}function la(fe,Le,Be,qe){var rt=new da(fe,Le);return Tn.push(rt),Be&&Ra(rt,fe,Le,Be),qe&&Ra(rt,Le,fe,qe),Sn[fe.i].edges.push(new wi(rt,fe,Le)),Sn[Le.i].edges.push(new wi(rt,Le,fe)),rt}function ya(fe,Le,Be){var qe=new da(fe,null);return qe.a=Le,qe.b=Be,Tn.push(qe),qe}function Ra(fe,Le,Be,qe){!fe.a&&!fe.b?(fe.a=qe,fe.l=Le,fe.r=Be):fe.l===Be?fe.b=qe:fe.a=qe}function wi(fe,Le,Be){var qe=fe.a,rt=fe.b;this.edge=fe,this.site=Le,this.angle=Be?Math.atan2(Be.y-Le.y,Be.x-Le.x):fe.l===Le?Math.atan2(rt.x-qe.x,qe.y-rt.y):Math.atan2(qe.x-rt.x,rt.y-qe.y)}wi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function si(){this._=null}function Qo(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}si.prototype={insert:function(fe,Le){var Be,qe,rt;if(fe){if(Le.P=fe,Le.N=fe.N,fe.N&&(fe.N.P=Le),fe.N=Le,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Le}else fe.R=Le;Be=fe}else this._?(fe=eu(this._),Le.P=null,Le.N=fe,fe.P=fe.L=Le,Be=fe):(Le.P=Le.N=null,this._=Le,Be=null);for(Le.L=Le.R=null,Le.U=Be,Le.C=!0,fe=Le;Be&&Be.C;)qe=Be.U,Be===qe.L?(rt=qe.R,rt&&rt.C?(Be.C=rt.C=!1,qe.C=!0,fe=qe):(fe===Be.R&&(Wo(this,Be),fe=Be,Be=fe.U),Be.C=!1,qe.C=!0,po(this,qe))):(rt=qe.L,rt&&rt.C?(Be.C=rt.C=!1,qe.C=!0,fe=qe):(fe===Be.L&&(po(this,Be),fe=Be,Be=fe.U),Be.C=!1,qe.C=!0,Wo(this,qe))),Be=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Le=fe.U,Be,qe=fe.L,rt=fe.R,ft,Pt;if(qe?rt?ft=eu(rt):ft=qe:ft=rt,Le?Le.L===fe?Le.L=ft:Le.R=ft:this._=ft,qe&&rt?(Pt=ft.C,ft.C=fe.C,ft.L=qe,qe.U=ft,ft!==rt?(Le=ft.U,ft.U=fe.U,fe=ft.R,Le.L=fe,ft.R=rt,rt.U=ft):(ft.U=Le,Le=ft,fe=ft.R)):(Pt=fe.C,fe=ft),fe&&(fe.U=Le),!Pt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Le.L){if(Be=Le.R,Be.C&&(Be.C=!1,Le.C=!0,Wo(this,Le),Be=Le.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,po(this,Be),Be=Le.R),Be.C=Le.C,Le.C=Be.R.C=!1,Wo(this,Le),fe=this._;break}}else if(Be=Le.L,Be.C&&(Be.C=!1,Le.C=!0,po(this,Le),Be=Le.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,Wo(this,Be),Be=Le.L),Be.C=Le.C,Le.C=Be.L.C=!1,po(this,Le),fe=this._;break}Be.C=!0,fe=Le,Le=Le.U}while(!fe.C);fe&&(fe.C=!1)}}};function Wo(fe,Le){var Be=Le,qe=Le.R,rt=Be.U;rt?rt.L===Be?rt.L=qe:rt.R=qe:fe._=qe,qe.U=rt,Be.U=qe,Be.R=qe.L,Be.R&&(Be.R.U=Be),qe.L=Be}function po(fe,Le){var Be=Le,qe=Le.L,rt=Be.U;rt?rt.L===Be?rt.L=qe:rt.R=qe:fe._=qe,qe.U=rt,Be.U=qe,Be.L=qe.R,Be.L&&(Be.L.U=Be),qe.R=Be}function eu(fe){for(;fe.L;)fe=fe.L;return fe}function qf(fe,Le){var Be=fe.sort(Oc).pop(),qe,rt,ft;for(Tn=[],Sn=new Array(fe.length),Nn=new si,Da=new si;;)if(ft=va,Be&&(!ft||Be.y<ft.y||Be.y===ft.y&&Be.x<ft.x))(Be.x!==qe||Be.y!==rt)&&(Sn[Be.i]=new Er(Be),Dn(Be),qe=Be.x,rt=Be.y),Be=fe.pop();else if(ft)bn(ft.arc);else break;Le&&(Hn(Le),Zr(Le));var Pt={cells:Sn,edges:Tn};return Nn=Da=Tn=Sn=null,Pt}function Oc(fe,Le){return Le.y-fe.y||Le.x-fe.x}i.geom.voronoi=function(fe){var Le=Ta,Be=Yn,qe=Le,rt=Be,ft=ai;if(fe)return Pt(fe);function Pt(Vt){var Gt=new Array(Vt.length),rr=ft[0][0],Cr=ft[0][1],Lr=ft[1][0],Qr=ft[1][1];return qf(At(Vt),ft).cells.forEach(function(ln,Rr){var Ur=ln.edges,Kr=ln.site,cn=Gt[Rr]=Ur.length?Ur.map(function(pn){var tn=pn.start();return[tn.x,tn.y]}):Kr.x>=rr&&Kr.x<=Lr&&Kr.y>=Cr&&Kr.y<=Qr?[[rr,Qr],[Lr,Qr],[Lr,Cr],[rr,Cr]]:[];cn.point=Vt[Rr]}),Gt}function At(Vt){return Vt.map(function(Gt,rr){return{x:Math.round(qe(Gt,rr)/je)*je,y:Math.round(rt(Gt,rr)/je)*je,i:rr}})}return Pt.links=function(Vt){return qf(At(Vt)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Vt[Gt.l.i],target:Vt[Gt.r.i]}})},Pt.triangles=function(Vt){var Gt=[];return qf(At(Vt)).cells.forEach(function(rr,Cr){for(var Lr=rr.site,Qr=rr.edges.sort(Hr),ln=-1,Rr=Qr.length,Ur,Kr=Qr[Rr-1].edge,cn=Kr.l===Lr?Kr.r:Kr.l;++ln<Rr;)Ur=cn,Kr=Qr[ln].edge,cn=Kr.l===Lr?Kr.r:Kr.l,Cr<Ur.i&&Cr<cn.i&&Bu(Lr,Ur,cn)<0&&Gt.push([Vt[Cr],Vt[Ur.i],Vt[cn.i]])}),Gt},Pt.x=function(Vt){return arguments.length?(qe=an(Le=Vt),Pt):Le},Pt.y=function(Vt){return arguments.length?(rt=an(Be=Vt),Pt):Be},Pt.clipExtent=function(Vt){return arguments.length?(ft=Vt??ai,Pt):ft===ai?null:ft},Pt.size=function(Vt){return arguments.length?Pt.clipExtent(Vt&&[[0,0],Vt]):ft===ai?null:ft&&ft[1]},Pt};var ai=[[-1e6,-1e6],[1e6,1e6]];function Bu(fe,Le,Be){return(fe.x-Be.x)*(Le.y-fe.y)-(fe.x-Le.x)*(Be.y-fe.y)}i.geom.delaunay=function(fe){return i.geom.voronoi().triangles(fe)},i.geom.quadtree=function(fe,Le,Be,qe,rt){var ft=Ta,Pt=Yn,At;if(At=arguments.length)return ft=ec,Pt=so,At===3&&(rt=Be,qe=Le,Be=Le=0),Vt(fe);function Vt(Gt){var rr,Cr=an(ft),Lr=an(Pt),Qr,ln,Rr,Ur,Kr,cn,pn,tn;if(Le!=null)Kr=Le,cn=Be,pn=qe,tn=rt;else if(pn=tn=-(Kr=cn=1/0),Qr=[],ln=[],Ur=Gt.length,At)for(Rr=0;Rr<Ur;++Rr)rr=Gt[Rr],rr.x<Kr&&(Kr=rr.x),rr.y<cn&&(cn=rr.y),rr.x>pn&&(pn=rr.x),rr.y>tn&&(tn=rr.y),Qr.push(rr.x),ln.push(rr.y);else for(Rr=0;Rr<Ur;++Rr){var Gn=+Cr(rr=Gt[Rr],Rr),na=+Lr(rr,Rr);Gn<Kr&&(Kr=Gn),na<cn&&(cn=na),Gn>pn&&(pn=Gn),na>tn&&(tn=na),Qr.push(Gn),ln.push(na)}var ca=pn-Kr,ta=tn-cn;ca>ta?tn=cn+ca:pn=Kr+ta;function sa(Ca,Oa,li,Ki,di,ea,Ga,Ma){if(!(isNaN(li)||isNaN(Ki)))if(Ca.leaf){var Qa=Ca.x,Li=Ca.y;if(Qa!=null)if(p(Qa-li)+p(Li-Ki)<.01)ha(Ca,Oa,li,Ki,di,ea,Ga,Ma);else{var ui=Ca.point;Ca.x=Ca.y=Ca.point=null,ha(Ca,ui,Qa,Li,di,ea,Ga,Ma),ha(Ca,Oa,li,Ki,di,ea,Ga,Ma)}else Ca.x=li,Ca.y=Ki,Ca.point=Oa}else ha(Ca,Oa,li,Ki,di,ea,Ga,Ma)}function ha(Ca,Oa,li,Ki,di,ea,Ga,Ma){var Qa=(di+Ga)*.5,Li=(ea+Ma)*.5,ui=li>=Qa,fo=Ki>=Li,co=fo<<1|ui;Ca.leaf=!1,Ca=Ca.nodes[co]||(Ca.nodes[co]=zo()),ui?di=Qa:Ga=Qa,fo?ea=Li:Ma=Li,sa(Ca,Oa,li,Ki,di,ea,Ga,Ma)}var Ua=zo();if(Ua.add=function(Ca){sa(Ua,Ca,+Cr(Ca,++Rr),+Lr(Ca,Rr),Kr,cn,pn,tn)},Ua.visit=function(Ca){tu(Ca,Ua,Kr,cn,pn,tn)},Ua.find=function(Ca){return xf(Ua,Ca[0],Ca[1],Kr,cn,pn,tn)},Rr=-1,Le==null){for(;++Rr<Ur;)sa(Ua,Gt[Rr],Qr[Rr],ln[Rr],Kr,cn,pn,tn);--Rr}else Gt.forEach(Ua.add);return Qr=ln=Gt=rr=null,Ua}return Vt.x=function(Gt){return arguments.length?(ft=Gt,Vt):ft},Vt.y=function(Gt){return arguments.length?(Pt=Gt,Vt):Pt},Vt.extent=function(Gt){return arguments.length?(Gt==null?Le=Be=qe=rt=null:(Le=+Gt[0][0],Be=+Gt[0][1],qe=+Gt[1][0],rt=+Gt[1][1]),Vt):Le==null?null:[[Le,Be],[qe,rt]]},Vt.size=function(Gt){return arguments.length?(Gt==null?Le=Be=qe=rt=null:(Le=Be=0,qe=+Gt[0],rt=+Gt[1]),Vt):Le==null?null:[qe-Le,rt-Be]},Vt};function ec(fe){return fe.x}function so(fe){return fe.y}function zo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function tu(fe,Le,Be,qe,rt,ft){if(!fe(Le,Be,qe,rt,ft)){var Pt=(Be+rt)*.5,At=(qe+ft)*.5,Vt=Le.nodes;Vt[0]&&tu(fe,Vt[0],Be,qe,Pt,At),Vt[1]&&tu(fe,Vt[1],Pt,qe,rt,At),Vt[2]&&tu(fe,Vt[2],Be,At,Pt,ft),Vt[3]&&tu(fe,Vt[3],Pt,At,rt,ft)}}function xf(fe,Le,Be,qe,rt,ft,Pt){var At=1/0,Vt;return function Gt(rr,Cr,Lr,Qr,ln){if(!(Cr>ft||Lr>Pt||Qr<qe||ln<rt)){if(Rr=rr.point){var Rr,Ur=Le-rr.x,Kr=Be-rr.y,cn=Ur*Ur+Kr*Kr;if(cn<At){var pn=Math.sqrt(At=cn);qe=Le-pn,rt=Be-pn,ft=Le+pn,Pt=Be+pn,Vt=Rr}}for(var tn=rr.nodes,Gn=(Cr+Qr)*.5,na=(Lr+ln)*.5,ca=Le>=Gn,ta=Be>=na,sa=ta<<1|ca,ha=sa+4;sa<ha;++sa)if(rr=tn[sa&3])switch(sa&3){case 0:Gt(rr,Cr,Lr,Gn,na);break;case 1:Gt(rr,Gn,Lr,Qr,na);break;case 2:Gt(rr,Cr,na,Gn,ln);break;case 3:Gt(rr,Gn,na,Qr,ln);break}}}(fe,qe,rt,ft,Pt),Vt}i.interpolateRgb=Wi;function Wi(fe,Le){fe=i.rgb(fe),Le=i.rgb(Le);var Be=fe.r,qe=fe.g,rt=fe.b,ft=Le.r-Be,Pt=Le.g-qe,At=Le.b-rt;return function(Vt){return"#"+pr(Math.round(Be+ft*Vt))+pr(Math.round(qe+Pt*Vt))+pr(Math.round(rt+At*Vt))}}i.interpolateObject=ru;function ru(fe,Le){var Be={},qe={},rt;for(rt in fe)rt in Le?Be[rt]=yo(fe[rt],Le[rt]):qe[rt]=fe[rt];for(rt in Le)rt in fe||(qe[rt]=Le[rt]);return function(ft){for(rt in Be)qe[rt]=Be[rt](ft);return qe}}i.interpolateNumber=Zi;function Zi(fe,Le){return fe=+fe,Le=+Le,function(Be){return fe*(1-Be)+Le*Be}}i.interpolateString=eo;function eo(fe,Le){var Be=nu.lastIndex=go.lastIndex=0,qe,rt,ft,Pt=-1,At=[],Vt=[];for(fe=fe+"",Le=Le+"";(qe=nu.exec(fe))&&(rt=go.exec(Le));)(ft=rt.index)>Be&&(ft=Le.slice(Be,ft),At[Pt]?At[Pt]+=ft:At[++Pt]=ft),(qe=qe[0])===(rt=rt[0])?At[Pt]?At[Pt]+=rt:At[++Pt]=rt:(At[++Pt]=null,Vt.push({i:Pt,x:Zi(qe,rt)})),Be=go.lastIndex;return Be<Le.length&&(ft=Le.slice(Be),At[Pt]?At[Pt]+=ft:At[++Pt]=ft),At.length<2?Vt[0]?(Le=Vt[0].x,function(Gt){return Le(Gt)+""}):function(){return Le}:(Le=Vt.length,function(Gt){for(var rr=0,Cr;rr<Le;++rr)At[(Cr=Vt[rr]).i]=Cr.x(Gt);return At.join("")})}var nu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(nu.source,"g");i.interpolate=yo;function yo(fe,Le){for(var Be=i.interpolators.length,qe;--Be>=0&&!(qe=i.interpolators[Be](fe,Le)););return qe}i.interpolators=[function(fe,Le){var Be=typeof Le;return(Be==="string"?sn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?Wi:eo:Le instanceof mt?Wi:Array.isArray(Le)?qo:Be==="object"&&isNaN(Le)?ru:Zi)(fe,Le)}],i.interpolateArray=qo;function qo(fe,Le){var Be=[],qe=[],rt=fe.length,ft=Le.length,Pt=Math.min(fe.length,Le.length),At;for(At=0;At<Pt;++At)Be.push(yo(fe[At],Le[At]));for(;At<rt;++At)qe[At]=fe[At];for(;At<ft;++At)qe[At]=Le[At];return function(Vt){for(At=0;At<Pt;++At)qe[At]=Be[At](Vt);return qe}}var Fc=function(){return F},Yo=i.map({linear:Fc,poly:Bc,quad:function(){return sl},cubic:function(){return Is},sin:function(){return Gh},exp:function(){return bf},circle:function(){return Wh},elastic:Yh,back:jh,bounce:function(){return nc}}),Hh=i.map({in:F,out:lo,"in-out":tc,"out-in":function(fe){return tc(lo(fe))}});i.ease=function(fe){var Le=fe.indexOf("-"),Be=Le>=0?fe.slice(0,Le):fe,qe=Le>=0?fe.slice(Le+1):"in";return Be=Yo.get(Be)||Fc,qe=Hh.get(qe)||F,Rs(qe(Be.apply(null,C.call(arguments,1))))};function Rs(fe){return function(Le){return Le<=0?0:Le>=1?1:fe(Le)}}function lo(fe){return function(Le){return 1-fe(1-Le)}}function tc(fe){return function(Le){return .5*(Le<.5?fe(2*Le):2-fe(2-2*Le))}}function sl(fe){return fe*fe}function Is(fe){return fe*fe*fe}function rc(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Le=fe*fe,Be=Le*fe;return 4*(fe<.5?Be:3*(fe-Le)+Be-.75)}function Bc(fe){return function(Le){return Math.pow(Le,fe)}}function Gh(fe){return 1-Math.cos(fe*Qe)}function bf(fe){return Math.pow(2,10*(fe-1))}function Wh(fe){return 1-Math.sqrt(1-fe*fe)}function Yh(fe,Le){var Be;return arguments.length<2&&(Le=.45),arguments.length?Be=Le/we*Math.asin(1/fe):(fe=1,Be=Le/4),function(qe){return 1+fe*Math.pow(2,-10*qe)*Math.sin((qe-Be)*we/Le)}}function jh(fe){return fe||(fe=1.70158),function(Le){return Le*Le*((fe+1)*Le-fe)}}function nc(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}i.interpolateHcl=Xh;function Xh(fe,Le){fe=i.hcl(fe),Le=i.hcl(Le);var Be=fe.h,qe=fe.c,rt=fe.l,ft=Le.h-Be,Pt=Le.c-qe,At=Le.l-rt;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Le.c:qe),isNaN(ft)?(ft=0,Be=isNaN(Be)?Le.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Vt){return Ut(Be+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}i.interpolateHsl=Zh;function Zh(fe,Le){fe=i.hsl(fe),Le=i.hsl(Le);var Be=fe.h,qe=fe.s,rt=fe.l,ft=Le.h-Be,Pt=Le.s-qe,At=Le.l-rt;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Le.s:qe),isNaN(ft)?(ft=0,Be=isNaN(Be)?Le.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Vt){return Et(Be+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}i.interpolateLab=Nc;function Nc(fe,Le){fe=i.lab(fe),Le=i.lab(Le);var Be=fe.l,qe=fe.a,rt=fe.b,ft=Le.l-Be,Pt=Le.a-qe,At=Le.b-rt;return function(Vt){return Ge(Be+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}i.interpolateRound=Uc;function Uc(fe,Le){return Le-=fe,function(Be){return Math.round(fe+Le*Be)}}i.transform=function(fe){var Le=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Be){if(Be!=null){Le.setAttribute("transform",Be);var qe=Le.transform.baseVal.consolidate()}return new Pl(qe?qe.matrix:Vc)})(fe)};function Pl(fe){var Le=[fe.a,fe.b],Be=[fe.c,fe.d],qe=Nu(Le),rt=au(Le,Be),ft=Nu(Uu(Be,Le,-rt))||0;Le[0]*Be[1]<Be[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,qe*=-1,rt*=-1),this.rotate=(qe?Math.atan2(Le[1],Le[0]):Math.atan2(-Be[0],Be[1]))*st,this.translate=[fe.e,fe.f],this.scale=[qe,ft],this.skew=ft?Math.atan2(rt,ft)*st:0}Pl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function au(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]}function Nu(fe){var Le=Math.sqrt(au(fe,fe));return Le&&(fe[0]/=Le,fe[1]/=Le),Le}function Uu(fe,Le,Be){return fe[0]+=Be*Le[0],fe[1]+=Be*Le[1],fe}var Vc={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Tf;function js(fe){return fe.length?fe.pop()+",":""}function Kh(fe,Le,Be,qe){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var rt=Be.push("translate(",null,",",null,")");qe.push({i:rt-4,x:Zi(fe[0],Le[0])},{i:rt-2,x:Zi(fe[1],Le[1])})}else(Le[0]||Le[1])&&Be.push("translate("+Le+")")}function wf(fe,Le,Be,qe){fe!==Le?(fe-Le>180?Le+=360:Le-fe>180&&(fe+=360),qe.push({i:Be.push(js(Be)+"rotate(",null,")")-2,x:Zi(fe,Le)})):Le&&Be.push(js(Be)+"rotate("+Le+")")}function Hc(fe,Le,Be,qe){fe!==Le?qe.push({i:Be.push(js(Be)+"skewX(",null,")")-2,x:Zi(fe,Le)}):Le&&Be.push(js(Be)+"skewX("+Le+")")}function Gc(fe,Le,Be,qe){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var rt=Be.push(js(Be)+"scale(",null,",",null,")");qe.push({i:rt-4,x:Zi(fe[0],Le[0])},{i:rt-2,x:Zi(fe[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&Be.push(js(Be)+"scale("+Le+")")}function Tf(fe,Le){var Be=[],qe=[];return fe=i.transform(fe),Le=i.transform(Le),Kh(fe.translate,Le.translate,Be,qe),wf(fe.rotate,Le.rotate,Be,qe),Hc(fe.skew,Le.skew,Be,qe),Gc(fe.scale,Le.scale,Be,qe),fe=Le=null,function(rt){for(var ft=-1,Pt=qe.length,At;++ft<Pt;)Be[(At=qe[ft]).i]=At.x(rt);return Be.join("")}}function hs(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(Be){return(Be-fe)/Le}}function iu(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(Be){return Math.max(0,Math.min(1,(Be-fe)/Le))}}i.layout={},i.layout.bundle=function(){return function(fe){for(var Le=[],Be=-1,qe=fe.length;++Be<qe;)Le.push(Rl(fe[Be]));return Le}};function Rl(fe){for(var Le=fe.source,Be=fe.target,qe=ll(Le,Be),rt=[Le];Le!==qe;)Le=Le.parent,rt.push(Le);for(var ft=rt.length;Be!==qe;)rt.splice(ft,0,Be),Be=Be.parent;return rt}function Vu(fe){for(var Le=[],Be=fe.parent;Be!=null;)Le.push(fe),fe=Be,Be=Be.parent;return Le.push(fe),Le}function ll(fe,Le){if(fe===Le)return fe;for(var Be=Vu(fe),qe=Vu(Le),rt=Be.pop(),ft=qe.pop(),Pt=null;rt===ft;)Pt=rt,rt=Be.pop(),ft=qe.pop();return Pt}i.layout.chord=function(){var fe={},Le,Be,qe,rt,ft=0,Pt,At,Vt;function Gt(){var Cr={},Lr=[],Qr=i.range(rt),ln=[],Rr,Ur,Kr,cn,pn;for(Le=[],Be=[],Rr=0,cn=-1;++cn<rt;){for(Ur=0,pn=-1;++pn<rt;)Ur+=qe[cn][pn];Lr.push(Ur),ln.push(i.range(rt)),Rr+=Ur}for(Pt&&Qr.sort(function(Ua,Ca){return Pt(Lr[Ua],Lr[Ca])}),At&&ln.forEach(function(Ua,Ca){Ua.sort(function(Oa,li){return At(qe[Ca][Oa],qe[Ca][li])})}),Rr=(we-ft*rt)/Rr,Ur=0,cn=-1;++cn<rt;){for(Kr=Ur,pn=-1;++pn<rt;){var tn=Qr[cn],Gn=ln[tn][pn],na=qe[tn][Gn],ca=Ur,ta=Ur+=na*Rr;Cr[tn+"-"+Gn]={index:tn,subindex:Gn,startAngle:ca,endAngle:ta,value:na}}Be[tn]={index:tn,startAngle:Kr,endAngle:Ur,value:Lr[tn]},Ur+=ft}for(cn=-1;++cn<rt;)for(pn=cn-1;++pn<rt;){var sa=Cr[cn+"-"+pn],ha=Cr[pn+"-"+cn];(sa.value||ha.value)&&Le.push(sa.value<ha.value?{source:ha,target:sa}:{source:sa,target:ha})}Vt&&rr()}function rr(){Le.sort(function(Cr,Lr){return Vt((Cr.source.value+Cr.target.value)/2,(Lr.source.value+Lr.target.value)/2)})}return fe.matrix=function(Cr){return arguments.length?(rt=(qe=Cr)&&qe.length,Le=Be=null,fe):qe},fe.padding=function(Cr){return arguments.length?(ft=Cr,Le=Be=null,fe):ft},fe.sortGroups=function(Cr){return arguments.length?(Pt=Cr,Le=Be=null,fe):Pt},fe.sortSubgroups=function(Cr){return arguments.length?(At=Cr,Le=null,fe):At},fe.sortChords=function(Cr){return arguments.length?(Vt=Cr,Le&&rr(),fe):Vt},fe.chords=function(){return Le||Gt(),Le},fe.groups=function(){return Be||Gt(),Be},fe},i.layout.force=function(){var fe={},Le=i.dispatch("start","tick","end"),Be,qe=[1,1],rt,ft,Pt=.9,At=ic,Vt=$h,Gt=-30,rr=Af,Cr=.1,Lr=.64,Qr=[],ln=[],Rr,Ur,Kr;function cn(tn){return function(Gn,na,ca,ta){if(Gn.point!==tn){var sa=Gn.cx-tn.x,ha=Gn.cy-tn.y,Ua=ta-na,Ca=sa*sa+ha*ha;if(Ua*Ua/Lr<Ca){if(Ca<rr){var Oa=Gn.charge/Ca;tn.px-=sa*Oa,tn.py-=ha*Oa}return!0}if(Gn.point&&Ca&&Ca<rr){var Oa=Gn.pointCharge/Ca;tn.px-=sa*Oa,tn.py-=ha*Oa}}return!Gn.charge}}fe.tick=function(){if((ft*=.99)<.005)return Be=null,Le.end({type:"end",alpha:ft=0}),!0;var tn=Qr.length,Gn=ln.length,na,ca,ta,sa,ha,Ua,Ca,Oa,li;for(ca=0;ca<Gn;++ca)ta=ln[ca],sa=ta.source,ha=ta.target,Oa=ha.x-sa.x,li=ha.y-sa.y,(Ua=Oa*Oa+li*li)&&(Ua=ft*Ur[ca]*((Ua=Math.sqrt(Ua))-Rr[ca])/Ua,Oa*=Ua,li*=Ua,ha.x-=Oa*(Ca=sa.weight+ha.weight?sa.weight/(sa.weight+ha.weight):.5),ha.y-=li*Ca,sa.x+=Oa*(Ca=1-Ca),sa.y+=li*Ca);if((Ca=ft*Cr)&&(Oa=qe[0]/2,li=qe[1]/2,ca=-1,Ca))for(;++ca<tn;)ta=Qr[ca],ta.x+=(Oa-ta.x)*Ca,ta.y+=(li-ta.y)*Ca;if(Gt)for(Ni(na=i.geom.quadtree(Qr),ft,Kr),ca=-1;++ca<tn;)(ta=Qr[ca]).fixed||na.visit(cn(ta));for(ca=-1;++ca<tn;)ta=Qr[ca],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*Pt,ta.y-=(ta.py-(ta.py=ta.y))*Pt);Le.tick({type:"tick",alpha:ft})},fe.nodes=function(tn){return arguments.length?(Qr=tn,fe):Qr},fe.links=function(tn){return arguments.length?(ln=tn,fe):ln},fe.size=function(tn){return arguments.length?(qe=tn,fe):qe},fe.linkDistance=function(tn){return arguments.length?(At=typeof tn=="function"?tn:+tn,fe):At},fe.distance=fe.linkDistance,fe.linkStrength=function(tn){return arguments.length?(Vt=typeof tn=="function"?tn:+tn,fe):Vt},fe.friction=function(tn){return arguments.length?(Pt=+tn,fe):Pt},fe.charge=function(tn){return arguments.length?(Gt=typeof tn=="function"?tn:+tn,fe):Gt},fe.chargeDistance=function(tn){return arguments.length?(rr=tn*tn,fe):Math.sqrt(rr)},fe.gravity=function(tn){return arguments.length?(Cr=+tn,fe):Cr},fe.theta=function(tn){return arguments.length?(Lr=tn*tn,fe):Math.sqrt(Lr)},fe.alpha=function(tn){return arguments.length?(tn=+tn,ft?tn>0?ft=tn:(Be.c=null,Be.t=NaN,Be=null,Le.end({type:"end",alpha:ft=0})):tn>0&&(Le.start({type:"start",alpha:ft=tn}),Be=In(fe.tick)),fe):ft},fe.start=function(){var tn,Gn=Qr.length,na=ln.length,ca=qe[0],ta=qe[1],sa,ha;for(tn=0;tn<Gn;++tn)(ha=Qr[tn]).index=tn,ha.weight=0;for(tn=0;tn<na;++tn)ha=ln[tn],typeof ha.source=="number"&&(ha.source=Qr[ha.source]),typeof ha.target=="number"&&(ha.target=Qr[ha.target]),++ha.source.weight,++ha.target.weight;for(tn=0;tn<Gn;++tn)ha=Qr[tn],isNaN(ha.x)&&(ha.x=Ua("x",ca)),isNaN(ha.y)&&(ha.y=Ua("y",ta)),isNaN(ha.px)&&(ha.px=ha.x),isNaN(ha.py)&&(ha.py=ha.y);if(Rr=[],typeof At=="function")for(tn=0;tn<na;++tn)Rr[tn]=+At.call(this,ln[tn],tn);else for(tn=0;tn<na;++tn)Rr[tn]=At;if(Ur=[],typeof Vt=="function")for(tn=0;tn<na;++tn)Ur[tn]=+Vt.call(this,ln[tn],tn);else for(tn=0;tn<na;++tn)Ur[tn]=Vt;if(Kr=[],typeof Gt=="function")for(tn=0;tn<Gn;++tn)Kr[tn]=+Gt.call(this,Qr[tn],tn);else for(tn=0;tn<Gn;++tn)Kr[tn]=Gt;function Ua(Ca,Oa){if(!sa){for(sa=new Array(Gn),di=0;di<Gn;++di)sa[di]=[];for(di=0;di<na;++di){var li=ln[di];sa[li.source.index].push(li.target),sa[li.target.index].push(li.source)}}for(var Ki=sa[tn],di=-1,ea=Ki.length,Ga;++di<ea;)if(!isNaN(Ga=Ki[di][Ca]))return Ga;return Math.random()*Oa}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(rt||(rt=i.behavior.drag().origin(F).on("dragstart.force",ks).on("drag.force",pn).on("dragend.force",ac)),!arguments.length)return rt;this.on("mouseover.force",ou).on("mouseout.force",vs).call(rt)};function pn(tn){tn.px=i.event.x,tn.py=i.event.y,fe.resume()}return i.rebind(fe,Le,"on")};function ks(fe){fe.fixed|=2}function ac(fe){fe.fixed&=-7}function ou(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function vs(fe){fe.fixed&=-5}function Ni(fe,Le,Be){var qe=0,rt=0;if(fe.charge=0,!fe.leaf)for(var ft=fe.nodes,Pt=ft.length,At=-1,Vt;++At<Pt;)Vt=ft[At],Vt!=null&&(Ni(Vt,Le,Be),fe.charge+=Vt.charge,qe+=Vt.charge*Vt.cx,rt+=Vt.charge*Vt.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Gt=Le*Be[fe.point.index];fe.charge+=fe.pointCharge=Gt,qe+=Gt*fe.point.x,rt+=Gt*fe.point.y}fe.cx=qe/fe.charge,fe.cy=rt/fe.charge}var ic=20,$h=1,Af=1/0;i.layout.hierarchy=function(){var fe=Mf,Le=Sf,Be=uu;function qe(rt){var ft=[rt],Pt=[],At;for(rt.depth=0;(At=ft.pop())!=null;)if(Pt.push(At),(Gt=Le.call(qe,At,At.depth))&&(Vt=Gt.length)){for(var Vt,Gt,rr;--Vt>=0;)ft.push(rr=Gt[Vt]),rr.parent=At,rr.depth=At.depth+1;Be&&(At.value=0),At.children=Gt}else Be&&(At.value=+Be.call(qe,At,At.depth)||0),delete At.children;return jo(rt,function(Cr){var Lr,Qr;fe&&(Lr=Cr.children)&&Lr.sort(fe),Be&&(Qr=Cr.parent)&&(Qr.value+=Cr.value)}),Pt}return qe.sort=function(rt){return arguments.length?(fe=rt,qe):fe},qe.children=function(rt){return arguments.length?(Le=rt,qe):Le},qe.value=function(rt){return arguments.length?(Be=rt,qe):Be},qe.revalue=function(rt){return Be&&(lu(rt,function(ft){ft.children&&(ft.value=0)}),jo(rt,function(ft){var Pt;ft.children||(ft.value=+Be.call(qe,ft,ft.depth)||0),(Pt=ft.parent)&&(Pt.value+=ft.value)})),rt},qe};function su(fe,Le){return i.rebind(fe,Le,"sort","children","value"),fe.nodes=fe,fe.links=Jh,fe}function lu(fe,Le){for(var Be=[fe];(fe=Be.pop())!=null;)if(Le(fe),(rt=fe.children)&&(qe=rt.length))for(var qe,rt;--qe>=0;)Be.push(rt[qe])}function jo(fe,Le){for(var Be=[fe],qe=[];(fe=Be.pop())!=null;)if(qe.push(fe),(Pt=fe.children)&&(ft=Pt.length))for(var rt=-1,ft,Pt;++rt<ft;)Be.push(Pt[rt]);for(;(fe=qe.pop())!=null;)Le(fe)}function Sf(fe){return fe.children}function uu(fe){return fe.value}function Mf(fe,Le){return Le.value-fe.value}function Jh(fe){return i.merge(fe.map(function(Le){return(Le.children||[]).map(function(Be){return{source:Le,target:Be}})}))}i.layout.partition=function(){var fe=i.layout.hierarchy(),Le=[1,1];function Be(ft,Pt,At,Vt){var Gt=ft.children;if(ft.x=Pt,ft.y=ft.depth*Vt,ft.dx=At,ft.dy=Vt,Gt&&(Cr=Gt.length)){var rr=-1,Cr,Lr,Qr;for(At=ft.value?At/ft.value:0;++rr<Cr;)Be(Lr=Gt[rr],Pt,Qr=Lr.value*At,Vt),Pt+=Qr}}function qe(ft){var Pt=ft.children,At=0;if(Pt&&(Gt=Pt.length))for(var Vt=-1,Gt;++Vt<Gt;)At=Math.max(At,qe(Pt[Vt]));return 1+At}function rt(ft,Pt){var At=fe.call(this,ft,Pt);return Be(At[0],0,Le[0],Le[1]/qe(At[0])),At}return rt.size=function(ft){return arguments.length?(Le=ft,rt):Le},su(rt,fe)},i.layout.pie=function(){var fe=Number,Le=Wc,Be=0,qe=we,rt=0;function ft(Pt){var At=Pt.length,Vt=Pt.map(function(cn,pn){return+fe.call(ft,cn,pn)}),Gt=+(typeof Be=="function"?Be.apply(this,arguments):Be),rr=(typeof qe=="function"?qe.apply(this,arguments):qe)-Gt,Cr=Math.min(Math.abs(rr)/At,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Lr=Cr*(rr<0?-1:1),Qr=i.sum(Vt),ln=Qr?(rr-At*Lr)/Qr:0,Rr=i.range(At),Ur=[],Kr;return Le!=null&&Rr.sort(Le===Wc?function(cn,pn){return Vt[pn]-Vt[cn]}:function(cn,pn){return Le(Pt[cn],Pt[pn])}),Rr.forEach(function(cn){Ur[cn]={data:Pt[cn],value:Kr=Vt[cn],startAngle:Gt,endAngle:Gt+=Kr*ln+Lr,padAngle:Cr}}),Ur}return ft.value=function(Pt){return arguments.length?(fe=Pt,ft):fe},ft.sort=function(Pt){return arguments.length?(Le=Pt,ft):Le},ft.startAngle=function(Pt){return arguments.length?(Be=Pt,ft):Be},ft.endAngle=function(Pt){return arguments.length?(qe=Pt,ft):qe},ft.padAngle=function(Pt){return arguments.length?(rt=Pt,ft):rt},ft};var Wc={};i.layout.stack=function(){var fe=F,Le=Hu,Be=Cf,qe=lc,rt=oc,ft=sc;function Pt(At,Vt){if(!(ln=At.length))return At;var Gt=At.map(function(cn,pn){return fe.call(Pt,cn,pn)}),rr=Gt.map(function(cn){return cn.map(function(pn,tn){return[rt.call(Pt,pn,tn),ft.call(Pt,pn,tn)]})}),Cr=Le.call(Pt,rr,Vt);Gt=i.permute(Gt,Cr),rr=i.permute(rr,Cr);var Lr=Be.call(Pt,rr,Vt),Qr=Gt[0].length,ln,Rr,Ur,Kr;for(Ur=0;Ur<Qr;++Ur)for(qe.call(Pt,Gt[0][Ur],Kr=Lr[Ur],rr[0][Ur][1]),Rr=1;Rr<ln;++Rr)qe.call(Pt,Gt[Rr][Ur],Kr+=rr[Rr-1][Ur][1],rr[Rr][Ur][1]);return At}return Pt.values=function(At){return arguments.length?(fe=At,Pt):fe},Pt.order=function(At){return arguments.length?(Le=typeof At=="function"?At:fu.get(At)||Hu,Pt):Le},Pt.offset=function(At){return arguments.length?(Be=typeof At=="function"?At:Ef.get(At)||Cf,Pt):Be},Pt.x=function(At){return arguments.length?(rt=At,Pt):rt},Pt.y=function(At){return arguments.length?(ft=At,Pt):ft},Pt.out=function(At){return arguments.length?(qe=At,Pt):qe},Pt};function oc(fe){return fe.x}function sc(fe){return fe.y}function lc(fe,Le,Be){fe.y0=Le,fe.y=Be}var fu=i.map({"inside-out":function(fe){var Le=fe.length,Be,qe,rt=fe.map(Ti),ft=fe.map(Yc),Pt=i.range(Le).sort(function(Cr,Lr){return rt[Cr]-rt[Lr]}),At=0,Vt=0,Gt=[],rr=[];for(Be=0;Be<Le;++Be)qe=Pt[Be],At<Vt?(At+=ft[qe],Gt.push(qe)):(Vt+=ft[qe],rr.push(qe));return rr.reverse().concat(Gt)},reverse:function(fe){return i.range(fe.length).reverse()},default:Hu}),Ef=i.map({silhouette:function(fe){var Le=fe.length,Be=fe[0].length,qe=[],rt=0,ft,Pt,At,Vt=[];for(Pt=0;Pt<Be;++Pt){for(ft=0,At=0;ft<Le;ft++)At+=fe[ft][Pt][1];At>rt&&(rt=At),qe.push(At)}for(Pt=0;Pt<Be;++Pt)Vt[Pt]=(rt-qe[Pt])/2;return Vt},wiggle:function(fe){var Le=fe.length,Be=fe[0],qe=Be.length,rt,ft,Pt,At,Vt,Gt,rr,Cr,Lr,Qr=[];for(Qr[0]=Cr=Lr=0,ft=1;ft<qe;++ft){for(rt=0,At=0;rt<Le;++rt)At+=fe[rt][ft][1];for(rt=0,Vt=0,rr=Be[ft][0]-Be[ft-1][0];rt<Le;++rt){for(Pt=0,Gt=(fe[rt][ft][1]-fe[rt][ft-1][1])/(2*rr);Pt<rt;++Pt)Gt+=(fe[Pt][ft][1]-fe[Pt][ft-1][1])/rr;Vt+=Gt*fe[rt][ft][1]}Qr[ft]=Cr-=At?Vt/At*rr:0,Cr<Lr&&(Lr=Cr)}for(ft=0;ft<qe;++ft)Qr[ft]-=Lr;return Qr},expand:function(fe){var Le=fe.length,Be=fe[0].length,qe=1/Le,rt,ft,Pt,At=[];for(ft=0;ft<Be;++ft){for(rt=0,Pt=0;rt<Le;rt++)Pt+=fe[rt][ft][1];if(Pt)for(rt=0;rt<Le;rt++)fe[rt][ft][1]/=Pt;else for(rt=0;rt<Le;rt++)fe[rt][ft][1]=qe}for(ft=0;ft<Be;++ft)At[ft]=0;return At},zero:Cf});function Hu(fe){return i.range(fe.length)}function Cf(fe){for(var Le=-1,Be=fe[0].length,qe=[];++Le<Be;)qe[Le]=0;return qe}function Ti(fe){for(var Le=1,Be=0,qe=fe[0][1],rt,ft=fe.length;Le<ft;++Le)(rt=fe[Le][1])>qe&&(Be=Le,qe=rt);return Be}function Yc(fe){return fe.reduce(ds,0)}function ds(fe,Le){return fe+Le[1]}i.layout.histogram=function(){var fe=!0,Le=Number,Be=Il,qe=jc;function rt(ft,Lr){for(var At=[],Vt=ft.map(Le,this),Gt=Be.call(this,Vt,Lr),rr=qe.call(this,Gt,Vt,Lr),Cr,Lr=-1,Qr=Vt.length,ln=rr.length-1,Rr=fe?1:1/Qr,Ur;++Lr<ln;)Cr=At[Lr]=[],Cr.dx=rr[Lr+1]-(Cr.x=rr[Lr]),Cr.y=0;if(ln>0)for(Lr=-1;++Lr<Qr;)Ur=Vt[Lr],Ur>=Gt[0]&&Ur<=Gt[1]&&(Cr=At[i.bisect(rr,Ur,1,ln)-1],Cr.y+=Rr,Cr.push(ft[Lr]));return At}return rt.value=function(ft){return arguments.length?(Le=ft,rt):Le},rt.range=function(ft){return arguments.length?(Be=an(ft),rt):Be},rt.bins=function(ft){return arguments.length?(qe=typeof ft=="number"?function(Pt){return uc(Pt,ft)}:an(ft),rt):qe},rt.frequency=function(ft){return arguments.length?(fe=!!ft,rt):fe},rt};function jc(fe,Le){return uc(fe,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function uc(fe,Le){for(var Be=-1,qe=+fe[0],rt=(fe[1]-qe)/Le,ft=[];++Be<=Le;)ft[Be]=rt*Be+qe;return ft}function Il(fe){return[i.min(fe),i.max(fe)]}i.layout.pack=function(){var fe=i.layout.hierarchy().sort(ul),Le=0,Be=[1,1],qe;function rt(ft,Pt){var At=fe.call(this,ft,Pt),Vt=At[0],Gt=Be[0],rr=Be[1],Cr=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(Vt.x=Vt.y=0,jo(Vt,function(Qr){Qr.r=+Cr(Qr.value)}),jo(Vt,ps),Le){var Lr=Le*(qe?1:Math.max(2*Vt.r/Gt,2*Vt.r/rr))/2;jo(Vt,function(Qr){Qr.r+=Lr}),jo(Vt,ps),jo(Vt,function(Qr){Qr.r-=Lr})}return fl(Vt,Gt/2,rr/2,qe?1:1/Math.max(2*Vt.r/Gt,2*Vt.r/rr)),At}return rt.size=function(ft){return arguments.length?(Be=ft,rt):Be},rt.radius=function(ft){return arguments.length?(qe=ft==null||typeof ft=="function"?ft:+ft,rt):qe},rt.padding=function(ft){return arguments.length?(Le=+ft,rt):Le},su(rt,fe)};function ul(fe,Le){return fe.value-Le.value}function Lf(fe,Le){var Be=fe._pack_next;fe._pack_next=Le,Le._pack_prev=fe,Le._pack_next=Be,Be._pack_prev=Le}function Yi(fe,Le){fe._pack_next=Le,Le._pack_prev=fe}function Gu(fe,Le){var Be=Le.x-fe.x,qe=Le.y-fe.y,rt=fe.r+Le.r;return .999*rt*rt>Be*Be+qe*qe}function ps(fe){if(!(Le=fe.children)||!(Lr=Le.length))return;var Le,Be=1/0,qe=-1/0,rt=1/0,ft=-1/0,Pt,At,Vt,Gt,rr,Cr,Lr;function Qr(tn){Be=Math.min(tn.x-tn.r,Be),qe=Math.max(tn.x+tn.r,qe),rt=Math.min(tn.y-tn.r,rt),ft=Math.max(tn.y+tn.r,ft)}if(Le.forEach(Xs),Pt=Le[0],Pt.x=-Pt.r,Pt.y=0,Qr(Pt),Lr>1&&(At=Le[1],At.x=At.r,At.y=0,Qr(At),Lr>2))for(Vt=Le[2],gs(Pt,At,Vt),Qr(Vt),Lf(Pt,Vt),Pt._pack_prev=Vt,Lf(Vt,At),At=Pt._pack_next,Gt=3;Gt<Lr;Gt++){gs(Pt,At,Vt=Le[Gt]);var ln=0,Rr=1,Ur=1;for(rr=At._pack_next;rr!==At;rr=rr._pack_next,Rr++)if(Gu(rr,Vt)){ln=1;break}if(ln==1)for(Cr=Pt._pack_prev;Cr!==rr._pack_prev&&!Gu(Cr,Vt);Cr=Cr._pack_prev,Ur++);ln?(Rr<Ur||Rr==Ur&&At.r<Pt.r?Yi(Pt,At=rr):Yi(Pt=Cr,At),Gt--):(Lf(Pt,Vt),At=Vt,Qr(Vt))}var Kr=(Be+qe)/2,cn=(rt+ft)/2,pn=0;for(Gt=0;Gt<Lr;Gt++)Vt=Le[Gt],Vt.x-=Kr,Vt.y-=cn,pn=Math.max(pn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));fe.r=pn,Le.forEach(kl)}function Xs(fe){fe._pack_next=fe._pack_prev=fe}function kl(fe){delete fe._pack_next,delete fe._pack_prev}function fl(fe,Le,Be,qe){var rt=fe.children;if(fe.x=Le+=qe*fe.x,fe.y=Be+=qe*fe.y,fe.r*=qe,rt)for(var ft=-1,Pt=rt.length;++ft<Pt;)fl(rt[ft],Le,Be,qe)}function gs(fe,Le,Be){var qe=fe.r+Be.r,rt=Le.x-fe.x,ft=Le.y-fe.y;if(qe&&(rt||ft)){var Pt=Le.r+Be.r,At=rt*rt+ft*ft;Pt*=Pt,qe*=qe;var Vt=.5+(qe-Pt)/(2*At),Gt=Math.sqrt(Math.max(0,2*Pt*(qe+At)-(qe-=At)*qe-Pt*Pt))/(2*At);Be.x=fe.x+Vt*rt+Gt*ft,Be.y=fe.y+Vt*ft-Gt*rt}else Be.x=fe.x+qe,Be.y=fe.y}i.layout.tree=function(){var fe=i.layout.hierarchy().sort(null).value(null),Le=Zs,Be=[1,1],qe=null;function rt(rr,Cr){var Lr=fe.call(this,rr,Cr),Qr=Lr[0],ln=ft(Qr);if(jo(ln,Pt),ln.parent.m=-ln.z,lu(ln,At),qe)lu(Qr,Gt);else{var Rr=Qr,Ur=Qr,Kr=Qr;lu(Qr,function(Gn){Gn.x<Rr.x&&(Rr=Gn),Gn.x>Ur.x&&(Ur=Gn),Gn.depth>Kr.depth&&(Kr=Gn)});var cn=Le(Rr,Ur)/2-Rr.x,pn=Be[0]/(Ur.x+Le(Ur,Rr)/2+cn),tn=Be[1]/(Kr.depth||1);lu(Qr,function(Gn){Gn.x=(Gn.x+cn)*pn,Gn.y=Gn.depth*tn})}return Lr}function ft(rr){for(var Cr={A:null,children:[rr]},Lr=[Cr],Qr;(Qr=Lr.pop())!=null;)for(var ln=Qr.children,Rr,Ur=0,Kr=ln.length;Ur<Kr;++Ur)Lr.push((ln[Ur]=Rr={_:ln[Ur],parent:Qr,children:(Rr=ln[Ur].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Rr);return Cr.children[0]}function Pt(rr){var Cr=rr.children,Lr=rr.parent.children,Qr=rr.i?Lr[rr.i-1]:null;if(Cr.length){Qh(rr);var ln=(Cr[0].z+Cr[Cr.length-1].z)/2;Qr?(rr.z=Qr.z+Le(rr._,Qr._),rr.m=rr.z-ln):rr.z=ln}else Qr&&(rr.z=Qr.z+Le(rr._,Qr._));rr.parent.A=Vt(rr,Qr,rr.parent.A||Lr[0])}function At(rr){rr._.x=rr.z+rr.parent.m,rr.m+=rr.parent.m}function Vt(rr,Cr,Lr){if(Cr){for(var Qr=rr,ln=rr,Rr=Cr,Ur=Qr.parent.children[0],Kr=Qr.m,cn=ln.m,pn=Rr.m,tn=Ur.m,Gn;Rr=as(Rr),Qr=ys(Qr),Rr&&Qr;)Ur=ys(Ur),ln=as(ln),ln.a=rr,Gn=Rr.z+pn-Qr.z-Kr+Le(Rr._,Qr._),Gn>0&&(Wu(qh(Rr,rr,Lr),rr,Gn),Kr+=Gn,cn+=Gn),pn+=Rr.m,Kr+=Qr.m,tn+=Ur.m,cn+=ln.m;Rr&&!as(ln)&&(ln.t=Rr,ln.m+=pn-cn),Qr&&!ys(Ur)&&(Ur.t=Qr,Ur.m+=Kr-tn,Lr=rr)}return Lr}function Gt(rr){rr.x*=Be[0],rr.y=rr.depth*Be[1]}return rt.separation=function(rr){return arguments.length?(Le=rr,rt):Le},rt.size=function(rr){return arguments.length?(qe=(Be=rr)==null?Gt:null,rt):qe?null:Be},rt.nodeSize=function(rr){return arguments.length?(qe=(Be=rr)==null?null:Gt,rt):qe?Be:null},su(rt,fe)};function Zs(fe,Le){return fe.parent==Le.parent?1:2}function ys(fe){var Le=fe.children;return Le.length?Le[0]:fe.t}function as(fe){var Le=fe.children,Be;return(Be=Le.length)?Le[Be-1]:fe.t}function Wu(fe,Le,Be){var qe=Be/(Le.i-fe.i);Le.c-=qe,Le.s+=Be,fe.c+=qe,Le.z+=Be,Le.m+=Be}function Qh(fe){for(var Le=0,Be=0,qe=fe.children,rt=qe.length,ft;--rt>=0;)ft=qe[rt],ft.z+=Le,ft.m+=Le,Le+=ft.s+(Be+=ft.c)}function qh(fe,Le,Be){return fe.a.parent===Le.parent?fe.a:Be}i.layout.cluster=function(){var fe=i.layout.hierarchy().sort(null).value(null),Le=Zs,Be=[1,1],qe=!1;function rt(ft,Pt){var At=fe.call(this,ft,Pt),Vt=At[0],Gt,rr=0;jo(Vt,function(Rr){var Ur=Rr.children;Ur&&Ur.length?(Rr.x=tv(Ur),Rr.y=ev(Ur)):(Rr.x=Gt?rr+=Le(Rr,Gt):0,Rr.y=0,Gt=Rr)});var Cr=fc(Vt),Lr=Xc(Vt),Qr=Cr.x-Le(Cr,Lr)/2,ln=Lr.x+Le(Lr,Cr)/2;return jo(Vt,qe?function(Rr){Rr.x=(Rr.x-Vt.x)*Be[0],Rr.y=(Vt.y-Rr.y)*Be[1]}:function(Rr){Rr.x=(Rr.x-Qr)/(ln-Qr)*Be[0],Rr.y=(1-(Vt.y?Rr.y/Vt.y:1))*Be[1]}),At}return rt.separation=function(ft){return arguments.length?(Le=ft,rt):Le},rt.size=function(ft){return arguments.length?(qe=(Be=ft)==null,rt):qe?null:Be},rt.nodeSize=function(ft){return arguments.length?(qe=(Be=ft)!=null,rt):qe?Be:null},su(rt,fe)};function ev(fe){return 1+i.max(fe,function(Le){return Le.y})}function tv(fe){return fe.reduce(function(Le,Be){return Le+Be.x},0)/fe.length}function fc(fe){var Le=fe.children;return Le&&Le.length?fc(Le[0]):fe}function Xc(fe){var Le=fe.children,Be;return Le&&(Be=Le.length)?Xc(Le[Be-1]):fe}i.layout.treemap=function(){var fe=i.layout.hierarchy(),Le=Math.round,Be=[1,1],qe=null,rt=cu,ft=!1,Pt,At="squarify",Vt=.5*(1+Math.sqrt(5));function Gt(Rr,Ur){for(var Kr=-1,cn=Rr.length,pn,tn;++Kr<cn;)tn=(pn=Rr[Kr]).value*(Ur<0?0:Ur),pn.area=isNaN(tn)||tn<=0?0:tn}function rr(Rr){var Ur=Rr.children;if(Ur&&Ur.length){var Kr=rt(Rr),cn=[],pn=Ur.slice(),tn,Gn=1/0,na,ca=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?Rr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),ta;for(Gt(pn,Kr.dx*Kr.dy/Rr.value),cn.area=0;(ta=pn.length)>0;)cn.push(tn=pn[ta-1]),cn.area+=tn.area,At!=="squarify"||(na=Lr(cn,ca))<=Gn?(pn.pop(),Gn=na):(cn.area-=cn.pop().area,Qr(cn,ca,Kr,!1),ca=Math.min(Kr.dx,Kr.dy),cn.length=cn.area=0,Gn=1/0);cn.length&&(Qr(cn,ca,Kr,!0),cn.length=cn.area=0),Ur.forEach(rr)}}function Cr(Rr){var Ur=Rr.children;if(Ur&&Ur.length){var Kr=rt(Rr),cn=Ur.slice(),pn,tn=[];for(Gt(cn,Kr.dx*Kr.dy/Rr.value),tn.area=0;pn=cn.pop();)tn.push(pn),tn.area+=pn.area,pn.z!=null&&(Qr(tn,pn.z?Kr.dx:Kr.dy,Kr,!cn.length),tn.length=tn.area=0);Ur.forEach(Cr)}}function Lr(Rr,Ur){for(var Kr=Rr.area,cn,pn=0,tn=1/0,Gn=-1,na=Rr.length;++Gn<na;)(cn=Rr[Gn].area)&&(cn<tn&&(tn=cn),cn>pn&&(pn=cn));return Kr*=Kr,Ur*=Ur,Kr?Math.max(Ur*pn*Vt/Kr,Kr/(Ur*tn*Vt)):1/0}function Qr(Rr,Ur,Kr,cn){var pn=-1,tn=Rr.length,Gn=Kr.x,na=Kr.y,ca=Ur?Le(Rr.area/Ur):0,ta;if(Ur==Kr.dx){for((cn||ca>Kr.dy)&&(ca=Kr.dy);++pn<tn;)ta=Rr[pn],ta.x=Gn,ta.y=na,ta.dy=ca,Gn+=ta.dx=Math.min(Kr.x+Kr.dx-Gn,ca?Le(ta.area/ca):0);ta.z=!0,ta.dx+=Kr.x+Kr.dx-Gn,Kr.y+=ca,Kr.dy-=ca}else{for((cn||ca>Kr.dx)&&(ca=Kr.dx);++pn<tn;)ta=Rr[pn],ta.x=Gn,ta.y=na,ta.dx=ca,na+=ta.dy=Math.min(Kr.y+Kr.dy-na,ca?Le(ta.area/ca):0);ta.z=!1,ta.dy+=Kr.y+Kr.dy-na,Kr.x+=ca,Kr.dx-=ca}}function ln(Rr){var Ur=Pt||fe(Rr),Kr=Ur[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Be[0],Kr.dy=Be[1]):Kr.dx=Kr.dy=0,Pt&&fe.revalue(Kr),Gt([Kr],Kr.dx*Kr.dy/Kr.value),(Pt?Cr:rr)(Kr),ft&&(Pt=Ur),Ur}return ln.size=function(Rr){return arguments.length?(Be=Rr,ln):Be},ln.padding=function(Rr){if(!arguments.length)return qe;function Ur(pn){var tn=Rr.call(ln,pn,pn.depth);return tn==null?cu(pn):uo(pn,typeof tn=="number"?[tn,tn,tn,tn]:tn)}function Kr(pn){return uo(pn,Rr)}var cn;return rt=(qe=Rr)==null?cu:(cn=typeof Rr)=="function"?Ur:(cn==="number"&&(Rr=[Rr,Rr,Rr,Rr]),Kr),ln},ln.round=function(Rr){return arguments.length?(Le=Rr?Math.round:Number,ln):Le!=Number},ln.sticky=function(Rr){return arguments.length?(ft=Rr,Pt=null,ln):ft},ln.ratio=function(Rr){return arguments.length?(Vt=Rr,ln):Vt},ln.mode=function(Rr){return arguments.length?(At=Rr+"",ln):At},su(ln,fe)};function cu(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function uo(fe,Le){var Be=fe.x+Le[3],qe=fe.y+Le[0],rt=fe.dx-Le[1]-Le[3],ft=fe.dy-Le[0]-Le[2];return rt<0&&(Be+=rt/2,rt=0),ft<0&&(qe+=ft/2,ft=0),{x:Be,y:qe,dx:rt,dy:ft}}i.random={normal:function(fe,Le){var Be=arguments.length;return Be<2&&(Le=1),Be<1&&(fe=0),function(){var qe,rt,ft;do qe=Math.random()*2-1,rt=Math.random()*2-1,ft=qe*qe+rt*rt;while(!ft||ft>1);return fe+Le*qe*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var fe=i.random.normal.apply(i,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Le=i.random.irwinHall(fe);return function(){return Le()/fe}},irwinHall:function(fe){return function(){for(var Le=0,Be=0;Be<fe;Be++)Le+=Math.random();return Le}}},i.scale={};function es(fe){var Le=fe[0],Be=fe[fe.length-1];return Le<Be?[Le,Be]:[Be,Le]}function hu(fe){return fe.rangeExtent?fe.rangeExtent():es(fe.range())}function Zc(fe,Le,Be,qe){var rt=Be(fe[0],fe[1]),ft=qe(Le[0],Le[1]);return function(Pt){return ft(rt(Pt))}}function Yu(fe,Le){var Be=0,qe=fe.length-1,rt=fe[Be],ft=fe[qe],Pt;return ft<rt&&(Pt=Be,Be=qe,qe=Pt,Pt=rt,rt=ft,ft=Pt),fe[Be]=Le.floor(rt),fe[qe]=Le.ceil(ft),fe}function Ks(fe){return fe?{floor:function(Le){return Math.floor(Le/fe)*fe},ceil:function(Le){return Math.ceil(Le/fe)*fe}}:rv}var rv={floor:F,ceil:F};function Kc(fe,Le,Be,qe){var rt=[],ft=[],Pt=0,At=Math.min(fe.length,Le.length)-1;for(fe[At]<fe[0]&&(fe=fe.slice().reverse(),Le=Le.slice().reverse());++Pt<=At;)rt.push(Be(fe[Pt-1],fe[Pt])),ft.push(qe(Le[Pt-1],Le[Pt]));return function(Vt){var Gt=i.bisect(fe,Vt,1,At)-1;return ft[Gt](rt[Gt](Vt))}}i.scale.linear=function(){return $c([0,1],[0,1],yo,!1)};function $c(fe,Le,Be,qe){var rt,ft;function Pt(){var Vt=Math.min(fe.length,Le.length)>2?Kc:Zc,Gt=qe?iu:hs;return rt=Vt(fe,Le,Gt,Be),ft=Vt(Le,fe,Gt,yo),At}function At(Vt){return rt(Vt)}return At.invert=function(Vt){return ft(Vt)},At.domain=function(Vt){return arguments.length?(fe=Vt.map(Number),Pt()):fe},At.range=function(Vt){return arguments.length?(Le=Vt,Pt()):Le},At.rangeRound=function(Vt){return At.range(Vt).interpolate(Uc)},At.clamp=function(Vt){return arguments.length?(qe=Vt,Pt()):qe},At.interpolate=function(Vt){return arguments.length?(Be=Vt,Pt()):Be},At.ticks=function(Vt){return ms(fe,Vt)},At.tickFormat=function(Vt,Gt){return d3_scale_linearTickFormat(fe,Vt,Gt)},At.nice=function(Vt){return Jc(fe,Vt),Pt()},At.copy=function(){return $c(fe,Le,Be,qe)},Pt()}function cc(fe,Le){return i.rebind(fe,Le,"range","rangeRound","interpolate","clamp")}function Jc(fe,Le){return Yu(fe,Ks(Oo(fe,Le)[2])),Yu(fe,Ks(Oo(fe,Le)[2])),fe}function Oo(fe,Le){Le==null&&(Le=10);var Be=es(fe),qe=Be[1]-Be[0],rt=Math.pow(10,Math.floor(Math.log(qe/Le)/Math.LN10)),ft=Le/qe*rt;return ft<=.15?rt*=10:ft<=.35?rt*=5:ft<=.75&&(rt*=2),Be[0]=Math.ceil(Be[0]/rt)*rt,Be[1]=Math.floor(Be[1]/rt)*rt+rt*.5,Be[2]=rt,Be}function ms(fe,Le){return i.range.apply(i,Oo(fe,Le))}i.scale.log=function(){return cl(i.scale.linear().domain([0,1]),10,!0,[1,10])};function cl(fe,Le,Be,qe){function rt(At){return(Be?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Le)}function ft(At){return Be?Math.pow(Le,At):-Math.pow(Le,-At)}function Pt(At){return fe(rt(At))}return Pt.invert=function(At){return ft(fe.invert(At))},Pt.domain=function(At){return arguments.length?(Be=At[0]>=0,fe.domain((qe=At.map(Number)).map(rt)),Pt):qe},Pt.base=function(At){return arguments.length?(Le=+At,fe.domain(qe.map(rt)),Pt):Le},Pt.nice=function(){var At=Yu(qe.map(rt),Be?Math:vu);return fe.domain(At),qe=At.map(ft),Pt},Pt.ticks=function(){var At=es(qe),Vt=[],Gt=At[0],rr=At[1],Cr=Math.floor(rt(Gt)),Lr=Math.ceil(rt(rr)),Qr=Le%1?2:Le;if(isFinite(Lr-Cr)){if(Be){for(;Cr<Lr;Cr++)for(var ln=1;ln<Qr;ln++)Vt.push(ft(Cr)*ln);Vt.push(ft(Cr))}else for(Vt.push(ft(Cr));Cr++<Lr;)for(var ln=Qr-1;ln>0;ln--)Vt.push(ft(Cr)*ln);for(Cr=0;Vt[Cr]<Gt;Cr++);for(Lr=Vt.length;Vt[Lr-1]>rr;Lr--);Vt=Vt.slice(Cr,Lr)}return Vt},Pt.copy=function(){return cl(fe.copy(),Le,Be,qe)},cc(Pt,fe)}var vu={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};i.scale.pow=function(){return Pf(i.scale.linear(),1,[0,1])};function Pf(fe,Le,Be){var qe=Dl(Le),rt=Dl(1/Le);function ft(Pt){return fe(qe(Pt))}return ft.invert=function(Pt){return rt(fe.invert(Pt))},ft.domain=function(Pt){return arguments.length?(fe.domain((Be=Pt.map(Number)).map(qe)),ft):Be},ft.ticks=function(Pt){return ms(Be,Pt)},ft.tickFormat=function(Pt,At){return d3_scale_linearTickFormat(Be,Pt,At)},ft.nice=function(Pt){return ft.domain(Jc(Be,Pt))},ft.exponent=function(Pt){return arguments.length?(qe=Dl(Le=Pt),rt=Dl(1/Le),fe.domain(Be.map(qe)),ft):Le},ft.copy=function(){return Pf(fe.copy(),Le,Be)},cc(ft,fe)}function Dl(fe){return function(Le){return Le<0?-Math.pow(-Le,fe):Math.pow(Le,fe)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return _l([],{t:"range",a:[[]]})};function _l(fe,Le){var Be,qe,rt;function ft(At){return qe[((Be.get(At)||(Le.t==="range"?Be.set(At,fe.push(At)):NaN))-1)%qe.length]}function Pt(At,Vt){return i.range(fe.length).map(function(Gt){return At+Vt*Gt})}return ft.domain=function(At){if(!arguments.length)return fe;fe=[],Be=new P;for(var Vt=-1,Gt=At.length,rr;++Vt<Gt;)Be.has(rr=At[Vt])||Be.set(rr,fe.push(rr));return ft[Le.t].apply(ft,Le.a)},ft.range=function(At){return arguments.length?(qe=At,rt=0,Le={t:"range",a:arguments},ft):qe},ft.rangePoints=function(At,Vt){arguments.length<2&&(Vt=0);var Gt=At[0],rr=At[1],Cr=fe.length<2?(Gt=(Gt+rr)/2,0):(rr-Gt)/(fe.length-1+Vt);return qe=Pt(Gt+Cr*Vt/2,Cr),rt=0,Le={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(At,Vt){arguments.length<2&&(Vt=0);var Gt=At[0],rr=At[1],Cr=fe.length<2?(Gt=rr=Math.round((Gt+rr)/2),0):(rr-Gt)/(fe.length-1+Vt)|0;return qe=Pt(Gt+Math.round(Cr*Vt/2+(rr-Gt-(fe.length-1+Vt)*Cr)/2),Cr),rt=0,Le={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(At,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var rr=At[1]<At[0],Cr=At[rr-0],Lr=At[1-rr],Qr=(Lr-Cr)/(fe.length-Vt+2*Gt);return qe=Pt(Cr+Qr*Gt,Qr),rr&&qe.reverse(),rt=Qr*(1-Vt),Le={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(At,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var rr=At[1]<At[0],Cr=At[rr-0],Lr=At[1-rr],Qr=Math.floor((Lr-Cr)/(fe.length-Vt+2*Gt));return qe=Pt(Cr+Math.round((Lr-Cr-(fe.length-Vt)*Qr)/2),Qr),rr&&qe.reverse(),rt=Math.round(Qr*(1-Vt)),Le={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return rt},ft.rangeExtent=function(){return es(Le.a[0])},ft.copy=function(){return _l(fe,Le)},ft.domain(fe)}i.scale.category10=function(){return i.scale.ordinal().range(Qc)},i.scale.category20=function(){return i.scale.ordinal().range($s)},i.scale.category20b=function(){return i.scale.ordinal().range(du)},i.scale.category20c=function(){return i.scale.ordinal().range(hl)};var Qc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ft),$s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ft),du=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ft),hl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ft);i.scale.quantile=function(){return Js([],[])};function Js(fe,Le){var Be;function qe(){var ft=0,Pt=Le.length;for(Be=[];++ft<Pt;)Be[ft-1]=i.quantile(fe,ft/Pt);return rt}function rt(ft){if(!isNaN(ft=+ft))return Le[i.bisect(Be,ft)]}return rt.domain=function(ft){return arguments.length?(fe=ft.map(y).filter(h).sort(l),qe()):fe},rt.range=function(ft){return arguments.length?(Le=ft,qe()):Le},rt.quantiles=function(){return Be},rt.invertExtent=function(ft){return ft=Le.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Be[ft-1]:fe[0],ft<Be.length?Be[ft]:fe[fe.length-1]]},rt.copy=function(){return Js(fe,Le)},qe()}i.scale.quantize=function(){return ju(0,1,[0,1])};function ju(fe,Le,Be){var qe,rt;function ft(At){return Be[Math.max(0,Math.min(rt,Math.floor(qe*(At-fe))))]}function Pt(){return qe=Be.length/(Le-fe),rt=Be.length-1,ft}return ft.domain=function(At){return arguments.length?(fe=+At[0],Le=+At[At.length-1],Pt()):[fe,Le]},ft.range=function(At){return arguments.length?(Be=At,Pt()):Be},ft.invertExtent=function(At){return At=Be.indexOf(At),At=At<0?NaN:At/qe+fe,[At,At+1/qe]},ft.copy=function(){return ju(fe,Le,Be)},Pt()}i.scale.threshold=function(){return pu([.5],[0,1])};function pu(fe,Le){function Be(qe){if(qe<=qe)return Le[i.bisect(fe,qe)]}return Be.domain=function(qe){return arguments.length?(fe=qe,Be):fe},Be.range=function(qe){return arguments.length?(Le=qe,Be):Le},Be.invertExtent=function(qe){return qe=Le.indexOf(qe),[fe[qe-1],fe[qe]]},Be.copy=function(){return pu(fe,Le)},Be}i.scale.identity=function(){return yi([0,1])};function yi(fe){function Le(Be){return+Be}return Le.invert=Le,Le.domain=Le.range=function(Be){return arguments.length?(fe=Be.map(Le),Le):fe},Le.ticks=function(Be){return ms(fe,Be)},Le.tickFormat=function(Be,qe){return d3_scale_linearTickFormat(fe,Be,qe)},Le.copy=function(){return yi(fe)},Le}i.svg={};function gu(){return 0}i.svg.arc=function(){var fe=qc,Le=yu,Be=gu,qe=Rf,rt=Xu,ft=If,Pt=hc;function At(){var Gt=Math.max(0,+fe.apply(this,arguments)),rr=Math.max(0,+Le.apply(this,arguments)),Cr=rt.apply(this,arguments)-Qe,Lr=ft.apply(this,arguments)-Qe,Qr=Math.abs(Lr-Cr),ln=Cr>Lr?0:1;if(rr<Gt&&(Rr=rr,rr=Gt,Gt=Rr),Qr>=Ve)return Vt(rr,ln)+(Gt?Vt(Gt,1-ln):"")+"Z";var Rr,Ur,Kr,cn,pn=0,tn=0,Gn,na,ca,ta,sa,ha,Ua,Ca,Oa=[];if((cn=(+Pt.apply(this,arguments)||0)/2)&&(Kr=qe===Rf?Math.sqrt(Gt*Gt+rr*rr):+qe.apply(this,arguments),ln||(tn*=-1),rr&&(tn=jt(Kr/rr*Math.sin(cn))),Gt&&(pn=jt(Kr/Gt*Math.sin(cn)))),rr){Gn=rr*Math.cos(Cr+tn),na=rr*Math.sin(Cr+tn),ca=rr*Math.cos(Lr-tn),ta=rr*Math.sin(Lr-tn);var li=Math.abs(Lr-Cr-2*tn)<=pe?0:1;if(tn&&Zu(Gn,na,ca,ta)===ln^li){var Ki=(Cr+Lr)/2;Gn=rr*Math.cos(Ki),na=rr*Math.sin(Ki),ca=ta=null}}else Gn=na=0;if(Gt){sa=Gt*Math.cos(Lr-pn),ha=Gt*Math.sin(Lr-pn),Ua=Gt*Math.cos(Cr+pn),Ca=Gt*Math.sin(Cr+pn);var di=Math.abs(Cr-Lr+2*pn)<=pe?0:1;if(pn&&Zu(sa,ha,Ua,Ca)===1-ln^di){var ea=(Cr+Lr)/2;sa=Gt*Math.cos(ea),ha=Gt*Math.sin(ea),Ua=Ca=null}}else sa=ha=0;if(Qr>je&&(Rr=Math.min(Math.abs(rr-Gt)/2,+Be.apply(this,arguments)))>.001){Ur=Gt<rr^ln?0:1;var Ga=Rr,Ma=Rr;if(Qr<pe){var Qa=Ua==null?[sa,ha]:ca==null?[Gn,na]:hn([Gn,na],[Ua,Ca],[ca,ta],[sa,ha]),Li=Gn-Qa[0],ui=na-Qa[1],fo=ca-Qa[0],co=ta-Qa[1],mo=1/Math.sin(Math.acos((Li*fo+ui*co)/(Math.sqrt(Li*Li+ui*ui)*Math.sqrt(fo*fo+co*co)))/2),Pi=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]);Ma=Math.min(Rr,(Gt-Pi)/(mo-1)),Ga=Math.min(Rr,(rr-Pi)/(mo+1))}if(ca!=null){var Po=Ku(Ua==null?[sa,ha]:[Ua,Ca],[Gn,na],rr,Ga,ln),ua=Ku([ca,ta],[sa,ha],rr,Ga,ln);Rr===Ga?Oa.push("M",Po[0],"A",Ga,",",Ga," 0 0,",Ur," ",Po[1],"A",rr,",",rr," 0 ",1-ln^Zu(Po[1][0],Po[1][1],ua[1][0],ua[1][1]),",",ln," ",ua[1],"A",Ga,",",Ga," 0 0,",Ur," ",ua[0]):Oa.push("M",Po[0],"A",Ga,",",Ga," 0 1,",Ur," ",ua[0])}else Oa.push("M",Gn,",",na);if(Ua!=null){var Pa=Ku([Gn,na],[Ua,Ca],Gt,-Ma,ln),Zo=Ku([sa,ha],ca==null?[Gn,na]:[ca,ta],Gt,-Ma,ln);Rr===Ma?Oa.push("L",Zo[0],"A",Ma,",",Ma," 0 0,",Ur," ",Zo[1],"A",Gt,",",Gt," 0 ",ln^Zu(Zo[1][0],Zo[1][1],Pa[1][0],Pa[1][1]),",",1-ln," ",Pa[1],"A",Ma,",",Ma," 0 0,",Ur," ",Pa[0]):Oa.push("L",Zo[0],"A",Ma,",",Ma," 0 0,",Ur," ",Pa[0])}else Oa.push("L",sa,",",ha)}else Oa.push("M",Gn,",",na),ca!=null&&Oa.push("A",rr,",",rr," 0 ",li,",",ln," ",ca,",",ta),Oa.push("L",sa,",",ha),Ua!=null&&Oa.push("A",Gt,",",Gt," 0 ",di,",",1-ln," ",Ua,",",Ca);return Oa.push("Z"),Oa.join("")}function Vt(Gt,rr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+rr+" 0,"+Gt}return At.innerRadius=function(Gt){return arguments.length?(fe=an(Gt),At):fe},At.outerRadius=function(Gt){return arguments.length?(Le=an(Gt),At):Le},At.cornerRadius=function(Gt){return arguments.length?(Be=an(Gt),At):Be},At.padRadius=function(Gt){return arguments.length?(qe=Gt==Rf?Rf:an(Gt),At):qe},At.startAngle=function(Gt){return arguments.length?(rt=an(Gt),At):rt},At.endAngle=function(Gt){return arguments.length?(ft=an(Gt),At):ft},At.padAngle=function(Gt){return arguments.length?(Pt=an(Gt),At):Pt},At.centroid=function(){var Gt=(+fe.apply(this,arguments)+ +Le.apply(this,arguments))/2,rr=(+rt.apply(this,arguments)+ +ft.apply(this,arguments))/2-Qe;return[Math.cos(rr)*Gt,Math.sin(rr)*Gt]},At};var Rf="auto";function qc(fe){return fe.innerRadius}function yu(fe){return fe.outerRadius}function Xu(fe){return fe.startAngle}function If(fe){return fe.endAngle}function hc(fe){return fe&&fe.padAngle}function Zu(fe,Le,Be,qe){return(fe-Be)*Le-(Le-qe)*fe>0?0:1}function Ku(fe,Le,Be,qe,rt){var ft=fe[0]-Le[0],Pt=fe[1]-Le[1],At=(rt?qe:-qe)/Math.sqrt(ft*ft+Pt*Pt),Vt=At*Pt,Gt=-At*ft,rr=fe[0]+Vt,Cr=fe[1]+Gt,Lr=Le[0]+Vt,Qr=Le[1]+Gt,ln=(rr+Lr)/2,Rr=(Cr+Qr)/2,Ur=Lr-rr,Kr=Qr-Cr,cn=Ur*Ur+Kr*Kr,pn=Be-qe,tn=rr*Qr-Lr*Cr,Gn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,pn*pn*cn-tn*tn)),na=(tn*Kr-Ur*Gn)/cn,ca=(-tn*Ur-Kr*Gn)/cn,ta=(tn*Kr+Ur*Gn)/cn,sa=(-tn*Ur+Kr*Gn)/cn,ha=na-ln,Ua=ca-Rr,Ca=ta-ln,Oa=sa-Rr;return ha*ha+Ua*Ua>Ca*Ca+Oa*Oa&&(na=ta,ca=sa),[[na-Vt,ca-Gt],[na*Be/pn,ca*Be/pn]]}function vl(){return!0}function $u(fe){var Le=Ta,Be=Yn,qe=vl,rt=to,ft=rt.key,Pt=.7;function At(Vt){var Gt=[],rr=[],Cr=-1,Lr=Vt.length,Qr,ln=an(Le),Rr=an(Be);function Ur(){Gt.push("M",rt(fe(rr),Pt))}for(;++Cr<Lr;)qe.call(this,Qr=Vt[Cr],Cr)?rr.push([+ln.call(this,Qr,Cr),+Rr.call(this,Qr,Cr)]):rr.length&&(Ur(),rr=[]);return rr.length&&Ur(),Gt.length?Gt.join(""):null}return At.x=function(Vt){return arguments.length?(Le=Vt,At):Le},At.y=function(Vt){return arguments.length?(Be=Vt,At):Be},At.defined=function(Vt){return arguments.length?(qe=Vt,At):qe},At.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?ft=rt=Vt:ft=(rt=dl.get(Vt)||to).key,At):ft},At.tension=function(Vt){return arguments.length?(Pt=Vt,At):Pt},At}i.svg.line=function(){return $u(F)};var dl=i.map({linear:to,"linear-closed":Ds,step:vc,"step-before":zl,"step-after":kf,basis:mu,"basis-open":th,"basis-closed":pl,bundle:av,cardinal:eh,"cardinal-open":Ju,"cardinal-closed":nv,monotone:_f});dl.forEach(function(fe,Le){Le.key=fe,Le.closed=/-closed$/.test(fe)});function to(fe){return fe.length>1?fe.join("L"):fe+"Z"}function Ds(fe){return fe.join("L")+"Z"}function vc(fe){for(var Le=0,Be=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Le<Be;)rt.push("H",(qe[0]+(qe=fe[Le])[0])/2,"V",qe[1]);return Be>1&&rt.push("H",qe[0]),rt.join("")}function zl(fe){for(var Le=0,Be=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Le<Be;)rt.push("V",(qe=fe[Le])[1],"H",qe[0]);return rt.join("")}function kf(fe){for(var Le=0,Be=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Le<Be;)rt.push("H",(qe=fe[Le])[0],"V",qe[1]);return rt.join("")}function Ju(fe,Le){return fe.length<4?to(fe):fe[1]+Lo(fe.slice(1,-1),Qu(fe,Le))}function nv(fe,Le){return fe.length<3?Ds(fe):fe[0]+Lo((fe.push(fe[0]),fe),Qu([fe[fe.length-2]].concat(fe,[fe[1]]),Le))}function eh(fe,Le){return fe.length<3?to(fe):fe[0]+Lo(fe,Qu(fe,Le))}function Lo(fe,Le){if(Le.length<1||fe.length!=Le.length&&fe.length!=Le.length+2)return to(fe);var Be=fe.length!=Le.length,qe="",rt=fe[0],ft=fe[1],Pt=Le[0],At=Pt,Vt=1;if(Be&&(qe+="Q"+(ft[0]-Pt[0]*2/3)+","+(ft[1]-Pt[1]*2/3)+","+ft[0]+","+ft[1],rt=fe[1],Vt=2),Le.length>1){At=Le[1],ft=fe[Vt],Vt++,qe+="C"+(rt[0]+Pt[0])+","+(rt[1]+Pt[1])+","+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1];for(var Gt=2;Gt<Le.length;Gt++,Vt++)ft=fe[Vt],At=Le[Gt],qe+="S"+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1]}if(Be){var rr=fe[Vt];qe+="Q"+(ft[0]+At[0]*2/3)+","+(ft[1]+At[1]*2/3)+","+rr[0]+","+rr[1]}return qe}function Qu(fe,Le){for(var Be=[],qe=(1-Le)/2,rt,ft=fe[0],Pt=fe[1],At=1,Vt=fe.length;++At<Vt;)rt=ft,ft=Pt,Pt=fe[At],Be.push([qe*(Pt[0]-rt[0]),qe*(Pt[1]-rt[1])]);return Be}function mu(fe){if(fe.length<3)return to(fe);var Le=1,Be=fe.length,qe=fe[0],rt=qe[0],ft=qe[1],Pt=[rt,rt,rt,(qe=fe[1])[0]],At=[ft,ft,ft,qe[1]],Vt=[rt,",",ft,"L",Xo(Qs,Pt),",",Xo(Qs,At)];for(fe.push(fe[Be-1]);++Le<=Be;)qe=fe[Le],Pt.shift(),Pt.push(qe[0]),At.shift(),At.push(qe[1]),yl(Vt,Pt,At);return fe.pop(),Vt.push("L",qe),Vt.join("")}function th(fe){if(fe.length<4)return to(fe);for(var Le=[],Be=-1,qe=fe.length,rt,ft=[0],Pt=[0];++Be<3;)rt=fe[Be],ft.push(rt[0]),Pt.push(rt[1]);for(Le.push(Xo(Qs,ft)+","+Xo(Qs,Pt)),--Be;++Be<qe;)rt=fe[Be],ft.shift(),ft.push(rt[0]),Pt.shift(),Pt.push(rt[1]),yl(Le,ft,Pt);return Le.join("")}function pl(fe){for(var Le,Be=-1,qe=fe.length,rt=qe+4,ft,Pt=[],At=[];++Be<4;)ft=fe[Be%qe],Pt.push(ft[0]),At.push(ft[1]);for(Le=[Xo(Qs,Pt),",",Xo(Qs,At)],--Be;++Be<rt;)ft=fe[Be%qe],Pt.shift(),Pt.push(ft[0]),At.shift(),At.push(ft[1]),yl(Le,Pt,At);return Le.join("")}function av(fe,Le){var Be=fe.length-1;if(Be)for(var qe=fe[0][0],rt=fe[0][1],ft=fe[Be][0]-qe,Pt=fe[Be][1]-rt,At=-1,Vt,Gt;++At<=Be;)Vt=fe[At],Gt=At/Be,Vt[0]=Le*Vt[0]+(1-Le)*(qe+Gt*ft),Vt[1]=Le*Vt[1]+(1-Le)*(rt+Gt*Pt);return mu(fe)}function Xo(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]+fe[2]*Le[2]+fe[3]*Le[3]}var qu=[0,2/3,1/3,0],Df=[0,1/3,2/3,0],Qs=[0,1/6,2/3,1/6];function yl(fe,Le,Be){fe.push("C",Xo(qu,Le),",",Xo(qu,Be),",",Xo(Df,Le),",",Xo(Df,Be),",",Xo(Qs,Le),",",Xo(Qs,Be))}function dc(fe,Le){return(Le[1]-fe[1])/(Le[0]-fe[0])}function ef(fe){for(var Le=0,Be=fe.length-1,qe=[],rt=fe[0],ft=fe[1],Pt=qe[0]=dc(rt,ft);++Le<Be;)qe[Le]=(Pt+(Pt=dc(rt=ft,ft=fe[Le+1])))/2;return qe[Le]=Pt,qe}function tf(fe){for(var Le=[],Be,qe,rt,ft,Pt=ef(fe),At=-1,Vt=fe.length-1;++At<Vt;)Be=dc(fe[At],fe[At+1]),p(Be)<je?Pt[At]=Pt[At+1]=0:(qe=Pt[At]/Be,rt=Pt[At+1]/Be,ft=qe*qe+rt*rt,ft>9&&(ft=Be*3/Math.sqrt(ft),Pt[At]=ft*qe,Pt[At+1]=ft*rt));for(At=-1;++At<=Vt;)ft=(fe[Math.min(Vt,At+1)][0]-fe[Math.max(0,At-1)][0])/(6*(1+Pt[At]*Pt[At])),Le.push([ft||0,Pt[At]*ft||0]);return Le}function _f(fe){return fe.length<3?to(fe):fe[0]+Lo(fe,tf(fe))}i.svg.line.radial=function(){var fe=$u(rh);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function rh(fe){for(var Le,Be=-1,qe=fe.length,rt,ft;++Be<qe;)Le=fe[Be],rt=Le[0],ft=Le[1]-Qe,Le[0]=rt*Math.cos(ft),Le[1]=rt*Math.sin(ft);return fe}function rf(fe){var Le=Ta,Be=Ta,qe=0,rt=Yn,ft=vl,Pt=to,At=Pt.key,Vt=Pt,Gt="L",rr=.7;function Cr(Lr){var Qr=[],ln=[],Rr=[],Ur=-1,Kr=Lr.length,cn,pn=an(Le),tn=an(qe),Gn=Le===Be?function(){return ca}:an(Be),na=qe===rt?function(){return ta}:an(rt),ca,ta;function sa(){Qr.push("M",Pt(fe(Rr),rr),Gt,Vt(fe(ln.reverse()),rr),"Z")}for(;++Ur<Kr;)ft.call(this,cn=Lr[Ur],Ur)?(ln.push([ca=+pn.call(this,cn,Ur),ta=+tn.call(this,cn,Ur)]),Rr.push([+Gn.call(this,cn,Ur),+na.call(this,cn,Ur)])):ln.length&&(sa(),ln=[],Rr=[]);return ln.length&&sa(),Qr.length?Qr.join(""):null}return Cr.x=function(Lr){return arguments.length?(Le=Be=Lr,Cr):Be},Cr.x0=function(Lr){return arguments.length?(Le=Lr,Cr):Le},Cr.x1=function(Lr){return arguments.length?(Be=Lr,Cr):Be},Cr.y=function(Lr){return arguments.length?(qe=rt=Lr,Cr):rt},Cr.y0=function(Lr){return arguments.length?(qe=Lr,Cr):qe},Cr.y1=function(Lr){return arguments.length?(rt=Lr,Cr):rt},Cr.defined=function(Lr){return arguments.length?(ft=Lr,Cr):ft},Cr.interpolate=function(Lr){return arguments.length?(typeof Lr=="function"?At=Pt=Lr:At=(Pt=dl.get(Lr)||to).key,Vt=Pt.reverse||Pt,Gt=Pt.closed?"M":"L",Cr):At},Cr.tension=function(Lr){return arguments.length?(rr=Lr,Cr):rr},Cr}zl.reverse=kf,kf.reverse=zl,i.svg.area=function(){return rf(F)},i.svg.area.radial=function(){var fe=rf(rh);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function pc(fe){return fe.source}function Ol(fe){return fe.target}i.svg.chord=function(){var fe=pc,Le=Ol,Be=gc,qe=Xu,rt=If;function ft(rr,Cr){var Lr=Pt(this,fe,rr,Cr),Qr=Pt(this,Le,rr,Cr);return"M"+Lr.p0+Vt(Lr.r,Lr.p1,Lr.a1-Lr.a0)+(At(Lr,Qr)?Gt(Lr.r,Lr.p1,Lr.r,Lr.p0):Gt(Lr.r,Lr.p1,Qr.r,Qr.p0)+Vt(Qr.r,Qr.p1,Qr.a1-Qr.a0)+Gt(Qr.r,Qr.p1,Lr.r,Lr.p0))+"Z"}function Pt(rr,Cr,Lr,Qr){var ln=Cr.call(rr,Lr,Qr),Rr=Be.call(rr,ln,Qr),Ur=qe.call(rr,ln,Qr)-Qe,Kr=rt.call(rr,ln,Qr)-Qe;return{r:Rr,a0:Ur,a1:Kr,p0:[Rr*Math.cos(Ur),Rr*Math.sin(Ur)],p1:[Rr*Math.cos(Kr),Rr*Math.sin(Kr)]}}function At(rr,Cr){return rr.a0==Cr.a0&&rr.a1==Cr.a1}function Vt(rr,Cr,Lr){return"A"+rr+","+rr+" 0 "+ +(Lr>pe)+",1 "+Cr}function Gt(rr,Cr,Lr,Qr){return"Q 0,0 "+Qr}return ft.radius=function(rr){return arguments.length?(Be=an(rr),ft):Be},ft.source=function(rr){return arguments.length?(fe=an(rr),ft):fe},ft.target=function(rr){return arguments.length?(Le=an(rr),ft):Le},ft.startAngle=function(rr){return arguments.length?(qe=an(rr),ft):qe},ft.endAngle=function(rr){return arguments.length?(rt=an(rr),ft):rt},ft};function gc(fe){return fe.radius}i.svg.diagonal=function(){var fe=pc,Le=Ol,Be=nf;function qe(rt,ft){var Pt=fe.call(this,rt,ft),At=Le.call(this,rt,ft),Vt=(Pt.y+At.y)/2,Gt=[Pt,{x:Pt.x,y:Vt},{x:At.x,y:Vt},At];return Gt=Gt.map(Be),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return qe.source=function(rt){return arguments.length?(fe=an(rt),qe):fe},qe.target=function(rt){return arguments.length?(Le=an(rt),qe):Le},qe.projection=function(rt){return arguments.length?(Be=rt,qe):Be},qe};function nf(fe){return[fe.x,fe.y]}i.svg.diagonal.radial=function(){var fe=i.svg.diagonal(),Le=nf,Be=fe.projection;return fe.projection=function(qe){return arguments.length?Be(nh(Le=qe)):Le},fe};function nh(fe){return function(){var Le=fe.apply(this,arguments),Be=Le[0],qe=Le[1]-Qe;return[Be*Math.cos(qe),Be*Math.sin(qe)]}}i.svg.symbol=function(){var fe=nt,Le=$e;function Be(qe,rt){return(wt.get(fe.call(this,qe,rt))||pt)(Le.call(this,qe,rt))}return Be.type=function(qe){return arguments.length?(fe=an(qe),Be):fe},Be.size=function(qe){return arguments.length?(Le=an(qe),Be):Le},Be};function $e(){return 64}function nt(){return"circle"}function pt(fe){var Le=Math.sqrt(fe/pe);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var wt=i.map({circle:pt,cross:function(fe){var Le=Math.sqrt(fe/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(fe){var Le=Math.sqrt(fe/(2*kt)),Be=Le*kt;return"M0,"+-Le+"L"+Be+",0 0,"+Le+" "+-Be+",0Z"},square:function(fe){var Le=Math.sqrt(fe)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(fe){var Le=Math.sqrt(fe/_t),Be=Le*_t/2;return"M0,"+Be+"L"+Le+","+-Be+" "+-Le+","+-Be+"Z"},"triangle-up":function(fe){var Le=Math.sqrt(fe/_t),Be=Le*_t/2;return"M0,"+-Be+"L"+Le+","+Be+" "+-Le+","+Be+"Z"}});i.svg.symbolTypes=wt.keys();var _t=Math.sqrt(3),kt=Math.tan(30*it);$.transition=function(fe){for(var Le=kr||++Sr,Be=kn(fe),qe=[],rt,ft,Pt=Nr||{time:Date.now(),ease:rc,delay:0,duration:250},At=-1,Vt=this.length;++At<Vt;){qe.push(rt=[]);for(var Gt=this[At],rr=-1,Cr=Gt.length;++rr<Cr;)(ft=Gt[rr])&&_n(ft,rr,Be,Le,Pt),rt.push(ft)}return wr(qe,Be,Le)},$.interrupt=function(fe){return this.each(fe==null?Ot:dr(kn(fe)))};var Ot=dr(kn());function dr(fe){return function(){var Le,Be,qe;(Le=this[fe])&&(qe=Le[Be=Le.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Le.count?delete Le[Be]:delete this[fe],Le.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function wr(fe,Le,Be){return ne(fe,or),fe.namespace=Le,fe.id=Be,fe}var or=[],Sr=0,kr,Nr;or.call=$.call,or.empty=$.empty,or.node=$.node,or.size=$.size,i.transition=function(fe,Le){return fe&&fe.transition?kr?fe.transition(Le):fe:i.selection().transition(fe)},i.transition.prototype=or,or.select=function(fe){var Le=this.id,Be=this.namespace,qe=[],rt,ft,Pt;fe=se(fe);for(var At=-1,Vt=this.length;++At<Vt;){qe.push(rt=[]);for(var Gt=this[At],rr=-1,Cr=Gt.length;++rr<Cr;)(Pt=Gt[rr])&&(ft=fe.call(Pt,Pt.__data__,rr,At))?("__data__"in Pt&&(ft.__data__=Pt.__data__),_n(ft,rr,Be,Le,Pt[Be][Le]),rt.push(ft)):rt.push(null)}return wr(qe,Be,Le)},or.selectAll=function(fe){var Le=this.id,Be=this.namespace,qe=[],rt,ft,Pt,At,Vt;fe=ae(fe);for(var Gt=-1,rr=this.length;++Gt<rr;)for(var Cr=this[Gt],Lr=-1,Qr=Cr.length;++Lr<Qr;)if(Pt=Cr[Lr]){Vt=Pt[Be][Le],ft=fe.call(Pt,Pt.__data__,Lr,Gt),qe.push(rt=[]);for(var ln=-1,Rr=ft.length;++ln<Rr;)(At=ft[ln])&&_n(At,ln,Be,Le,Vt),rt.push(At)}return wr(qe,Be,Le)},or.filter=function(fe){var Le=[],Be,qe,rt;typeof fe!="function"&&(fe=at(fe));for(var ft=0,Pt=this.length;ft<Pt;ft++){Le.push(Be=[]);for(var qe=this[ft],At=0,Vt=qe.length;At<Vt;At++)(rt=qe[At])&&fe.call(rt,rt.__data__,At,ft)&&Be.push(rt)}return wr(Le,this.namespace,this.id)},or.tween=function(fe,Le){var Be=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][Be].tween.get(fe):ot(this,Le==null?function(rt){rt[qe][Be].tween.remove(fe)}:function(rt){rt[qe][Be].tween.set(fe,Le)})};function nn(fe,Le,Be,qe){var rt=fe.id,ft=fe.namespace;return ot(fe,typeof Be=="function"?function(Pt,At,Vt){Pt[ft][rt].tween.set(Le,qe(Be.call(Pt,Pt.__data__,At,Vt)))}:(Be=qe(Be),function(Pt){Pt[ft][rt].tween.set(Le,Be)}))}or.attr=function(fe,Le){if(arguments.length<2){for(Le in fe)this.attr(Le,fe[Le]);return this}var Be=fe=="transform"?Tf:yo,qe=i.ns.qualify(fe);function rt(){this.removeAttribute(qe)}function ft(){this.removeAttributeNS(qe.space,qe.local)}function Pt(Vt){return Vt==null?rt:(Vt+="",function(){var Gt=this.getAttribute(qe),rr;return Gt!==Vt&&(rr=Be(Gt,Vt),function(Cr){this.setAttribute(qe,rr(Cr))})})}function At(Vt){return Vt==null?ft:(Vt+="",function(){var Gt=this.getAttributeNS(qe.space,qe.local),rr;return Gt!==Vt&&(rr=Be(Gt,Vt),function(Cr){this.setAttributeNS(qe.space,qe.local,rr(Cr))})})}return nn(this,"attr."+fe,Le,qe.local?At:Pt)},or.attrTween=function(fe,Le){var Be=i.ns.qualify(fe);function qe(ft,Pt){var At=Le.call(this,ft,Pt,this.getAttribute(Be));return At&&function(Vt){this.setAttribute(Be,At(Vt))}}function rt(ft,Pt){var At=Le.call(this,ft,Pt,this.getAttributeNS(Be.space,Be.local));return At&&function(Vt){this.setAttributeNS(Be.space,Be.local,At(Vt))}}return this.tween("attr."+fe,Be.local?rt:qe)},or.style=function(fe,Le,Be){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Le="");for(Be in fe)this.style(Be,fe[Be],Le);return this}Be=""}function rt(){this.style.removeProperty(fe)}function ft(Pt){return Pt==null?rt:(Pt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(fe),Vt;return At!==Pt&&(Vt=yo(At,Pt),function(Gt){this.style.setProperty(fe,Vt(Gt),Be)})})}return nn(this,"style."+fe,Le,ft)},or.styleTween=function(fe,Le,Be){arguments.length<3&&(Be="");function qe(rt,ft){var Pt=Le.call(this,rt,ft,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Pt&&function(At){this.style.setProperty(fe,Pt(At),Be)}}return this.tween("style."+fe,qe)},or.text=function(fe){return nn(this,"text",fe,wn)};function wn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}or.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Le;this[fe].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},or.ease=function(fe){var Le=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Le].ease:(typeof fe!="function"&&(fe=i.ease.apply(i,arguments)),ot(this,function(qe){qe[Be][Le].ease=fe}))},or.delay=function(fe){var Le=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Le].delay:ot(this,typeof fe=="function"?function(qe,rt,ft){qe[Be][Le].delay=+fe.call(qe,qe.__data__,rt,ft)}:(fe=+fe,function(qe){qe[Be][Le].delay=fe}))},or.duration=function(fe){var Le=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Le].duration:ot(this,typeof fe=="function"?function(qe,rt,ft){qe[Be][Le].duration=Math.max(1,fe.call(qe,qe.__data__,rt,ft))}:(fe=Math.max(1,fe),function(qe){qe[Be][Le].duration=fe}))},or.each=function(fe,Le){var Be=this.id,qe=this.namespace;if(arguments.length<2){var rt=Nr,ft=kr;try{kr=Be,ot(this,function(Pt,At,Vt){Nr=Pt[qe][Be],fe.call(Pt,Pt.__data__,At,Vt)})}finally{Nr=rt,kr=ft}}else ot(this,function(Pt){var At=Pt[qe][Be];(At.event||(At.event=i.dispatch("start","end","interrupt"))).on(fe,Le)});return this},or.transition=function(){for(var fe=this.id,Le=++Sr,Be=this.namespace,qe=[],rt,ft,Pt,At,Vt=0,Gt=this.length;Vt<Gt;Vt++){qe.push(rt=[]);for(var ft=this[Vt],rr=0,Cr=ft.length;rr<Cr;rr++)(Pt=ft[rr])&&(At=Pt[Be][fe],_n(Pt,rr,Be,Le,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),rt.push(Pt)}return wr(qe,Be,Le)};function kn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function _n(fe,Le,Be,qe,rt){var ft=fe[Be]||(fe[Be]={active:0,count:0}),Pt=ft[qe],At,Vt,Gt,rr,Cr;function Lr(Rr){var Ur=Pt.delay;if(Vt.t=Ur+At,Ur<=Rr)return Qr(Rr-Ur);Vt.c=Qr}function Qr(Rr){var Ur=ft.active,Kr=ft[Ur];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ft.count,delete ft[Ur],Kr.event&&Kr.event.interrupt.call(fe,fe.__data__,Kr.index));for(var cn in ft)if(+cn<qe){var pn=ft[cn];pn.timer.c=null,pn.timer.t=NaN,--ft.count,delete ft[cn]}Vt.c=ln,In(function(){return Vt.c&&ln(Rr||1)&&(Vt.c=null,Vt.t=NaN),1},0,At),ft.active=qe,Pt.event&&Pt.event.start.call(fe,fe.__data__,Le),Cr=[],Pt.tween.forEach(function(tn,Gn){(Gn=Gn.call(fe,fe.__data__,Le))&&Cr.push(Gn)}),rr=Pt.ease,Gt=Pt.duration}function ln(Rr){for(var Ur=Rr/Gt,Kr=rr(Ur),cn=Cr.length;cn>0;)Cr[--cn].call(fe,Kr);if(Ur>=1)return Pt.event&&Pt.event.end.call(fe,fe.__data__,Le),--ft.count?delete ft[qe]:delete fe[Be],1}Pt||(At=rt.time,Vt=In(Lr,0,At),Pt=ft[qe]={tween:new P,time:At,timer:Vt,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Le},rt=null,++ft.count)}i.svg.axis=function(){var fe=i.scale.linear(),Le=$n,Be=6,qe=6,rt=3,ft=[10],Pt=null,At;function Vt(Gt){Gt.each(function(){var rr=i.select(this),Cr=this.__chart__||fe,Lr=this.__chart__=fe.copy(),Qr=Pt??(Lr.ticks?Lr.ticks.apply(Lr,ft):Lr.domain()),ln=At??(Lr.tickFormat?Lr.tickFormat.apply(Lr,ft):F),Rr=rr.selectAll(".tick").data(Qr,Lr),Ur=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",je),Kr=i.transition(Rr.exit()).style("opacity",je).remove(),cn=i.transition(Rr.order()).style("opacity",1),pn=Math.max(Be,0)+rt,tn,Gn=hu(Lr),na=rr.selectAll(".domain").data([0]),ca=(na.enter().append("path").attr("class","domain"),i.transition(na));Ur.append("line"),Ur.append("text");var ta=Ur.select("line"),sa=cn.select("line"),ha=Rr.select("text").text(ln),Ua=Ur.select("text"),Ca=cn.select("text"),Oa=Le==="top"||Le==="left"?-1:1,li,Ki,di,ea;if(Le==="bottom"||Le==="top"?(tn=ka,li="x",di="y",Ki="x2",ea="y2",ha.attr("dy",Oa<0?"0em":".71em").style("text-anchor","middle"),ca.attr("d","M"+Gn[0]+","+Oa*qe+"V0H"+Gn[1]+"V"+Oa*qe)):(tn=_a,li="y",di="x",Ki="y2",ea="x2",ha.attr("dy",".32em").style("text-anchor",Oa<0?"end":"start"),ca.attr("d","M"+Oa*qe+","+Gn[0]+"H0V"+Gn[1]+"H"+Oa*qe)),ta.attr(ea,Oa*Be),Ua.attr(di,Oa*pn),sa.attr(Ki,0).attr(ea,Oa*Be),Ca.attr(li,0).attr(di,Oa*pn),Lr.rangeBand){var Ga=Lr,Ma=Ga.rangeBand()/2;Cr=Lr=function(Qa){return Ga(Qa)+Ma}}else Cr.rangeBand?Cr=Lr:Kr.call(tn,Lr,Cr);Ur.call(tn,Cr,Lr),cn.call(tn,Lr,Lr)})}return Vt.scale=function(Gt){return arguments.length?(fe=Gt,Vt):fe},Vt.orient=function(Gt){return arguments.length?(Le=Gt in Ia?Gt+"":$n,Vt):Le},Vt.ticks=function(){return arguments.length?(ft=S(arguments),Vt):ft},Vt.tickValues=function(Gt){return arguments.length?(Pt=Gt,Vt):Pt},Vt.tickFormat=function(Gt){return arguments.length?(At=Gt,Vt):At},Vt.tickSize=function(Gt){var rr=arguments.length;return rr?(Be=+Gt,qe=+arguments[rr-1],Vt):Be},Vt.innerTickSize=function(Gt){return arguments.length?(Be=+Gt,Vt):Be},Vt.outerTickSize=function(Gt){return arguments.length?(qe=+Gt,Vt):qe},Vt.tickPadding=function(Gt){return arguments.length?(rt=+Gt,Vt):rt},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var $n="bottom",Ia={top:1,right:1,bottom:1,left:1};function ka(fe,Le,Be){fe.attr("transform",function(qe){var rt=Le(qe);return"translate("+(isFinite(rt)?rt:Be(qe))+",0)"})}function _a(fe,Le,Be){fe.attr("transform",function(qe){var rt=Le(qe);return"translate(0,"+(isFinite(rt)?rt:Be(qe))+")"})}i.svg.brush=function(){var fe=J(rr,"brushstart","brush","brushend"),Le=null,Be=null,qe=[0,0],rt=[0,0],ft,Pt,At=!0,Vt=!0,Gt=Ja[0];function rr(Rr){Rr.each(function(){var Ur=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ln).on("touchstart.brush",ln),Kr=Ur.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var cn=Ur.selectAll(".resize").data(Gt,F);cn.exit().remove(),cn.enter().append("g").attr("class",function(na){return"resize "+na}).style("cursor",function(na){return Ba[na]}).append("rect").attr("x",function(na){return/[ew]$/.test(na)?-3:null}).attr("y",function(na){return/^[ns]/.test(na)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),cn.style("display",rr.empty()?"none":null);var pn=i.transition(Ur),tn=i.transition(Kr),Gn;Le&&(Gn=hu(Le),tn.attr("x",Gn[0]).attr("width",Gn[1]-Gn[0]),Lr(pn)),Be&&(Gn=hu(Be),tn.attr("y",Gn[0]).attr("height",Gn[1]-Gn[0]),Qr(pn)),Cr(pn)})}rr.event=function(Rr){Rr.each(function(){var Ur=fe.of(this,arguments),Kr={x:qe,y:rt,i:ft,j:Pt},cn=this.__chart__||Kr;this.__chart__=Kr,kr?i.select(this).transition().each("start.brush",function(){ft=cn.i,Pt=cn.j,qe=cn.x,rt=cn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var pn=qo(qe,Kr.x),tn=qo(rt,Kr.y);return ft=Pt=null,function(Gn){qe=Kr.x=pn(Gn),rt=Kr.y=tn(Gn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Kr.i,Pt=Kr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Cr(Rr){Rr.selectAll(".resize").attr("transform",function(Ur){return"translate("+qe[+/e$/.test(Ur)]+","+rt[+/^s/.test(Ur)]+")"})}function Lr(Rr){Rr.select(".extent").attr("x",qe[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function Qr(Rr){Rr.select(".extent").attr("y",rt[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function ln(){var Rr=this,Ur=i.select(i.event.target),Kr=fe.of(Rr,arguments),cn=i.select(Rr),pn=Ur.datum(),tn=!/^(n|s)$/.test(pn)&&Le,Gn=!/^(e|w)$/.test(pn)&&Be,na=Ur.classed("extent"),ca=Ze(Rr),ta,sa=i.mouse(Rr),ha,Ua=i.select(r(Rr)).on("keydown.brush",li).on("keyup.brush",Ki);if(i.event.changedTouches?Ua.on("touchmove.brush",di).on("touchend.brush",Ga):Ua.on("mousemove.brush",di).on("mouseup.brush",Ga),cn.interrupt().selectAll("*").interrupt(),na)sa[0]=qe[0]-sa[0],sa[1]=rt[0]-sa[1];else if(pn){var Ca=+/w$/.test(pn),Oa=+/^n/.test(pn);ha=[qe[1-Ca]-sa[0],rt[1-Oa]-sa[1]],sa[0]=qe[Ca],sa[1]=rt[Oa]}else i.event.altKey&&(ta=sa.slice());cn.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Ur.style("cursor")),Kr({type:"brushstart"}),di();function li(){i.event.keyCode==32&&(na||(ta=null,sa[0]-=qe[1],sa[1]-=rt[1],na=2),re())}function Ki(){i.event.keyCode==32&&na==2&&(sa[0]+=qe[1],sa[1]+=rt[1],na=0,re())}function di(){var Ma=i.mouse(Rr),Qa=!1;ha&&(Ma[0]+=ha[0],Ma[1]+=ha[1]),na||(i.event.altKey?(ta||(ta=[(qe[0]+qe[1])/2,(rt[0]+rt[1])/2]),sa[0]=qe[+(Ma[0]<ta[0])],sa[1]=rt[+(Ma[1]<ta[1])]):ta=null),tn&&ea(Ma,Le,0)&&(Lr(cn),Qa=!0),Gn&&ea(Ma,Be,1)&&(Qr(cn),Qa=!0),Qa&&(Cr(cn),Kr({type:"brush",mode:na?"move":"resize"}))}function ea(Ma,Qa,Li){var ui=hu(Qa),fo=ui[0],co=ui[1],mo=sa[Li],Pi=Li?rt:qe,Po=Pi[1]-Pi[0],ua,Pa;if(na&&(fo-=mo,co-=Po+mo),ua=(Li?Vt:At)?Math.max(fo,Math.min(co,Ma[Li])):Ma[Li],na?Pa=(ua+=mo)+Po:(ta&&(mo=Math.max(fo,Math.min(co,2*ta[Li]-ua))),mo<ua?(Pa=ua,ua=mo):Pa=mo),Pi[0]!=ua||Pi[1]!=Pa)return Li?Pt=null:ft=null,Pi[0]=ua,Pi[1]=Pa,!0}function Ga(){di(),cn.style("pointer-events","all").selectAll(".resize").style("display",rr.empty()?"none":null),i.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ca(),Kr({type:"brushend"})}}return rr.x=function(Rr){return arguments.length?(Le=Rr,Gt=Ja[!Le<<1|!Be],rr):Le},rr.y=function(Rr){return arguments.length?(Be=Rr,Gt=Ja[!Le<<1|!Be],rr):Be},rr.clamp=function(Rr){return arguments.length?(Le&&Be?(At=!!Rr[0],Vt=!!Rr[1]):Le?At=!!Rr:Be&&(Vt=!!Rr),rr):Le&&Be?[At,Vt]:Le?At:Be?Vt:null},rr.extent=function(Rr){var Ur,Kr,cn,pn,tn;return arguments.length?(Le&&(Ur=Rr[0],Kr=Rr[1],Be&&(Ur=Ur[0],Kr=Kr[0]),ft=[Ur,Kr],Le.invert&&(Ur=Le(Ur),Kr=Le(Kr)),Kr<Ur&&(tn=Ur,Ur=Kr,Kr=tn),(Ur!=qe[0]||Kr!=qe[1])&&(qe=[Ur,Kr])),Be&&(cn=Rr[0],pn=Rr[1],Le&&(cn=cn[1],pn=pn[1]),Pt=[cn,pn],Be.invert&&(cn=Be(cn),pn=Be(pn)),pn<cn&&(tn=cn,cn=pn,pn=tn),(cn!=rt[0]||pn!=rt[1])&&(rt=[cn,pn])),rr):(Le&&(ft?(Ur=ft[0],Kr=ft[1]):(Ur=qe[0],Kr=qe[1],Le.invert&&(Ur=Le.invert(Ur),Kr=Le.invert(Kr)),Kr<Ur&&(tn=Ur,Ur=Kr,Kr=tn))),Be&&(Pt?(cn=Pt[0],pn=Pt[1]):(cn=rt[0],pn=rt[1],Be.invert&&(cn=Be.invert(cn),pn=Be.invert(pn)),pn<cn&&(tn=cn,cn=pn,pn=tn))),Le&&Be?[[Ur,cn],[Kr,pn]]:Le?[Ur,Kr]:Be&&[cn,pn])},rr.clear=function(){return rr.empty()||(qe=[0,0],rt=[0,0],ft=Pt=null),rr},rr.empty=function(){return!!Le&&qe[0]==qe[1]||!!Be&&rt[0]==rt[1]},i.rebind(rr,fe,"on")};var Ba={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ja=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=En(function(fe){return fe.responseText}),i.json=function(fe,Le){return Mn(fe,"application/json",mi,Le)};function mi(fe){return JSON.parse(fe.responseText)}i.html=function(fe,Le){return Mn(fe,"text/html",ji,Le)};function ji(fe){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(fe.responseText)}i.xml=En(function(fe){return fe.responseXML}),g=i,R=typeof g=="function"?g.call(H,e,H,G):g,R!==void 0&&(G.exports=R)}).apply(self)},3480:function(G){(function(H,e){G.exports=e()})(this,function(){var H,e,g;function R(i,C){if(!H)H=C;else if(!e)e=C;else{var S="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),g=C(v),typeof window<"u"&&(g.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return R(["exports"],function(i){function C(I,k){return k={exports:{}},I(k,k.exports),k.exports}var S="1.13.4",v=d;function d(I,k,W,ie){this.cx=3*I,this.bx=3*(W-I)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*k,this.by=3*(ie-k)-this.cy,this.ay=1-this.cy-this.by,this.p1x=I,this.p1y=ie,this.p2x=W,this.p2y=ie}d.prototype.sampleCurveX=function(I){return((this.ax*I+this.bx)*I+this.cx)*I},d.prototype.sampleCurveY=function(I){return((this.ay*I+this.by)*I+this.cy)*I},d.prototype.sampleCurveDerivativeX=function(I){return(3*this.ax*I+2*this.bx)*I+this.cx},d.prototype.solveCurveX=function(I,k){typeof k>"u"&&(k=1e-6);var W,ie,de,Se,Re;for(de=I,Re=0;Re<8;Re++){if(Se=this.sampleCurveX(de)-I,Math.abs(Se)<k)return de;var Je=this.sampleCurveDerivativeX(de);if(Math.abs(Je)<1e-6)break;de=de-Se/Je}if(W=0,ie=1,de=I,de<W)return W;if(de>ie)return ie;for(;W<ie;){if(Se=this.sampleCurveX(de),Math.abs(Se-I)<k)return de;I>Se?W=de:ie=de,de=(ie-W)*.5+W}return de},d.prototype.solve=function(I,k){return this.sampleCurveY(this.solveCurveX(I,k))};var r=t;function t(I,k){this.x=I,this.y=k}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(I){return this.clone()._add(I)},sub:function(I){return this.clone()._sub(I)},multByPoint:function(I){return this.clone()._multByPoint(I)},divByPoint:function(I){return this.clone()._divByPoint(I)},mult:function(I){return this.clone()._mult(I)},div:function(I){return this.clone()._div(I)},rotate:function(I){return this.clone()._rotate(I)},rotateAround:function(I,k){return this.clone()._rotateAround(I,k)},matMult:function(I){return this.clone()._matMult(I)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(I){return this.x===I.x&&this.y===I.y},dist:function(I){return Math.sqrt(this.distSqr(I))},distSqr:function(I){var k=I.x-this.x,W=I.y-this.y;return k*k+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(I){return Math.atan2(this.y-I.y,this.x-I.x)},angleWith:function(I){return this.angleWithSep(I.x,I.y)},angleWithSep:function(I,k){return Math.atan2(this.x*k-this.y*I,this.x*I+this.y*k)},_matMult:function(I){var k=I[0]*this.x+I[1]*this.y,W=I[2]*this.x+I[3]*this.y;return this.x=k,this.y=W,this},_add:function(I){return this.x+=I.x,this.y+=I.y,this},_sub:function(I){return this.x-=I.x,this.y-=I.y,this},_mult:function(I){return this.x*=I,this.y*=I,this},_div:function(I){return this.x/=I,this.y/=I,this},_multByPoint:function(I){return this.x*=I.x,this.y*=I.y,this},_divByPoint:function(I){return this.x/=I.x,this.y/=I.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var I=this.y;return this.y=this.x,this.x=-I,this},_rotate:function(I){var k=Math.cos(I),W=Math.sin(I),ie=k*this.x-W*this.y,de=W*this.x+k*this.y;return this.x=ie,this.y=de,this},_rotateAround:function(I,k){var W=Math.cos(I),ie=Math.sin(I),de=k.x+W*(this.x-k.x)-ie*(this.y-k.y),Se=k.y+ie*(this.x-k.x)+W*(this.y-k.y);return this.x=de,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(I){return I instanceof t?I:Array.isArray(I)?new t(I[0],I[1]):I};var a=typeof self<"u"?self:{};function n(I,k){if(Array.isArray(I)){if(!Array.isArray(k)||I.length!==k.length)return!1;for(var W=0;W<I.length;W++)if(!n(I[W],k[W]))return!1;return!0}if(typeof I=="object"&&I!==null&&k!==null){if(typeof k!="object")return!1;var ie=Object.keys(I);if(ie.length!==Object.keys(k).length)return!1;for(var de in I)if(!n(I[de],k[de]))return!1;return!0}return I===k}var f=Math.pow(2,53)-1;function u(I){if(I<=0)return 0;if(I>=1)return 1;var k=I*I,W=k*I;return 4*(I<.5?W:3*(I-k)+W-.75)}function l(I,k,W,ie){var de=new v(I,k,W,ie);return function(Se){return de.solve(Se)}}var y=l(.25,.1,.25,1);function h(I,k,W){return Math.min(W,Math.max(k,I))}function T(I,k,W){var ie=W-k,de=((I-k)%ie+ie)%ie+k;return de===k?W:de}function c(I,k,W){if(!I.length)return W(null,[]);var ie=I.length,de=new Array(I.length),Se=null;I.forEach(function(Re,Je){k(Re,function(dt,St){dt&&(Se=dt),de[Je]=St,--ie===0&&W(Se,de)})})}function o(I){var k=[];for(var W in I)k.push(I[W]);return k}function p(I,k){var W=[];for(var ie in I)ie in k||W.push(ie);return W}function x(I){for(var k=[],W=arguments.length-1;W-- >0;)k[W]=arguments[W+1];for(var ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie];for(var Re in Se)I[Re]=Se[Re]}return I}function b(I,k){for(var W={},ie=0;ie<k.length;ie++){var de=k[ie];de in I&&(W[de]=I[de])}return W}var P=1;function m(){return P++}function L(){function I(k){return k?(k^Math.random()*16>>k/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,I)}return I()}function M(I){return I<=1?1:Math.pow(2,Math.ceil(Math.log(I)/Math.LN2))}function s(I){return I?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I):!1}function E(I,k){I.forEach(function(W){k[W]&&(k[W]=k[W].bind(k))})}function w(I,k){return I.indexOf(k,I.length-k.length)!==-1}function _(I,k,W){var ie={};for(var de in I)ie[de]=k.call(W||this,I[de],de,I);return ie}function D(I,k,W){var ie={};for(var de in I)k.call(W||this,I[de],de,I)&&(ie[de]=I[de]);return ie}function N(I){return Array.isArray(I)?I.map(N):typeof I=="object"&&I?_(I,N):I}function z(I,k){for(var W=0;W<I.length;W++)if(k.indexOf(I[W])>=0)return!0;return!1}var F={};function U(I){F[I]||(typeof console<"u"&&console.warn(I),F[I]=!0)}function B(I,k,W){return(W.y-I.y)*(k.x-I.x)>(k.y-I.y)*(W.x-I.x)}function V(I){for(var k=0,W=0,ie=I.length,de=ie-1,Se=void 0,Re=void 0;W<ie;de=W++)Se=I[W],Re=I[de],k+=(Re.x-Se.x)*(Se.y+Re.y);return k}function j(I){var k=I[0],W=I[1],ie=I[2];return W+=90,W*=Math.PI/180,ie*=Math.PI/180,{x:k*Math.cos(W)*Math.sin(ie),y:k*Math.sin(W)*Math.sin(ie),z:k*Math.cos(ie)}}function Q(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ee(I){var k=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(I.replace(k,function(de,Se,Re,Je){var dt=Re||Je;return W[Se]=dt?dt.toLowerCase():!0,""}),W["max-age"]){var ie=parseInt(W["max-age"],10);isNaN(ie)?delete W["max-age"]:W["max-age"]=ie}return W}var re=null;function ue(I){if(re==null){var k=I.navigator?I.navigator.userAgent:null;re=!!I.safari||!!(k&&(/\b(iPad|iPhone|iPod)\b/.test(k)||k.match("Safari")&&!k.match("Chrome")))}return re}function J(I){try{var k=a[I];return k.setItem("_mapbox_test_",1),k.removeItem("_mapbox_test_"),!0}catch{return!1}}function X(I){return a.btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(k,W){return String.fromCharCode(+("0x"+W))}))}function ne(I){return decodeURIComponent(a.atob(I).split("").map(function(k){return"%"+("00"+k.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),oe=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,le=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,Z,$,se={now:Y,frame:function(k){var W=oe(k);return{cancel:function(){return le(W)}}},getImageData:function(k,W){W===void 0&&(W=0);var ie=a.document.createElement("canvas"),de=ie.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ie.width=k.width,ie.height=k.height,de.drawImage(k,0,0,k.width,k.height),de.getImageData(-W,-W,k.width+2*W,k.height+2*W)},resolveURL:function(k){return Z||(Z=a.document.createElement("a")),Z.href=k,Z.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return a.matchMedia?($==null&&($=a.matchMedia("(prefers-reduced-motion: reduce)")),$.matches):!1}},ae={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},he={supported:!1,testSupport:be},me,Me=!1,Te,Pe=!1;a.document&&(Te=a.document.createElement("img"),Te.onload=function(){me&&Ee(me),me=null,Pe=!0},Te.onerror=function(){Me=!0,me=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function be(I){Me||!Te||(Pe?Ee(I):me=I)}function Ee(I){var k=I.createTexture();I.bindTexture(I.TEXTURE_2D,k);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,Te),I.isContextLost())return;he.supported=!0}catch{}I.deleteTexture(k),Me=!0}var xe="01";function Ce(){for(var I="1",k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ie=0;ie<10;ie++)W+=k[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Se=[I,xe,W].join(""),Re=Date.now()+de;return{token:Se,tokenExpiresAt:Re}}var Ue=function(k,W){this._transformRequestFn=k,this._customAccessToken=W,this._createSkuToken()};Ue.prototype._createSkuToken=function(){var k=Ce();this._skuToken=k.token,this._skuTokenExpiresAt=k.tokenExpiresAt},Ue.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ue.prototype.transformRequest=function(k,W){return this._transformRequestFn?this._transformRequestFn(k,W)||{url:k}:{url:k}},Ue.prototype.normalizeStyleURL=function(k,W){if(!Ne(k))return k;var ie=et(k);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeGlyphsURL=function(k,W){if(!Ne(k))return k;var ie=et(k);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeSourceURL=function(k,W){if(!Ne(k))return k;var ie=et(k);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeSpriteURL=function(k,W,ie,de){var Se=et(k);return Ne(k)?(Se.path="/styles/v1"+Se.path+"/sprite"+W+ie,this._makeAPIURL(Se,this._customAccessToken||de)):(Se.path+=""+W+ie,ct(Se))},Ue.prototype.normalizeTileURL=function(k,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),k&&!Ne(k))return k;var ie=et(k),de=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,Re=se.devicePixelRatio>=2||W===512?"@2x":"",Je=he.supported?".webp":"$1";ie.path=ie.path.replace(de,""+Re+Je),ie.path=ie.path.replace(Se,"/"),ie.path="/v4"+ie.path;var dt=this._customAccessToken||vt(ie.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,dt)},Ue.prototype.canonicalizeTileURL=function(k,W){var ie="/v4/",de=/\.[\w]+$/,Se=et(k);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(de))return k;var Re="mapbox://tiles/";Re+=Se.path.replace(ie,"");var Je=Se.params;return W&&(Je=Je.filter(function(dt){return!dt.match(/^access_token=/)})),Je.length&&(Re+="?"+Je.join("&")),Re},Ue.prototype.canonicalizeTileset=function(k,W){for(var ie=W?Ne(W):!1,de=[],Se=0,Re=k.tiles||[];Se<Re.length;Se+=1){var Je=Re[Se];He(Je)?de.push(this.canonicalizeTileURL(Je,ie)):de.push(Je)}return de},Ue.prototype._makeAPIURL=function(k,W){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=et(ae.API_URL);if(k.protocol=de.protocol,k.authority=de.authority,k.protocol==="http"){var Se=k.params.indexOf("secure");Se>=0&&k.params.splice(Se,1)}if(de.path!=="/"&&(k.path=""+de.path+k.path),!ae.REQUIRE_ACCESS_TOKEN)return ct(k);if(W=W||ae.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return k.params=k.params.filter(function(Re){return Re.indexOf("access_token")===-1}),k.params.push("access_token="+W),ct(k)};function Ne(I){return I.indexOf("mapbox:")===0}var De=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(I){return De.test(I)}function at(I){return I.indexOf("sku=")>0&&He(I)}function vt(I){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k],de=ie.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var ot=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(I){var k=I.match(ot);if(!k)throw new Error("Unable to parse URL object");return{protocol:k[1],authority:k[2],path:k[3]||"/",params:k[4]?k[4].split("&"):[]}}function ct(I){var k=I.params.length?"?"+I.params.join("&"):"";return I.protocol+"://"+I.authority+I.path+k}var ht="mapbox.eventData";function gt(I){if(!I)return null;var k=I.split(".");if(!k||k.length!==3)return null;try{var W=JSON.parse(ne(k[1]));return W}catch{return null}}var xt=function(k){this.type=k,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xt.prototype.getStorageKey=function(k){var W=gt(ae.ACCESS_TOKEN),ie="";return W&&W.u?ie=X(W.u):ie=ae.ACCESS_TOKEN||"",k?ht+"."+k+":"+ie:ht+":"+ie},xt.prototype.fetchEventData=function(){var k=J("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{var de=a.localStorage.getItem(W);de&&(this.eventData=JSON.parse(de));var Se=a.localStorage.getItem(ie);Se&&(this.anonId=Se)}catch{U("Unable to read from LocalStorage")}},xt.prototype.saveEventData=function(){var k=J("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{a.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{U("Unable to write to LocalStorage")}},xt.prototype.processRequests=function(k){},xt.prototype.postEvent=function(k,W,ie,de){var Se=this;if(ae.EVENTS_URL){var Re=et(ae.EVENTS_URL);Re.params.push("access_token="+(de||ae.ACCESS_TOKEN||""));var Je={event:this.type,created:new Date(k).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:xe,userId:this.anonId},dt=W?x(Je,W):Je,St={url:ct(Re),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Bt(St,function(Rt){Se.pendingRequest=null,ie(Rt),Se.saveEventData(),Se.processRequests(de)})}},xt.prototype.queueRequest=function(k,W){this.queue.push(k),this.processRequests(W)};var Mt=function(I){function k(){I.call(this,"map.load"),this.success={},this.skuToken=""}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postMapLoadEvent=function(ie,de,Se,Re){this.skuToken=Se,(ae.EVENTS_URL&&Re||ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Je){return Ne(Je)||He(Je)}))&&this.queueRequest({id:de,timestamp:Date.now()},Re)},k.prototype.processRequests=function(ie){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),Re=Se.id,Je=Se.timestamp;Re&&this.success[Re]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=L()),this.postEvent(Je,{skuToken:this.skuToken},function(dt){dt||Re&&(de.success[Re]=!0)},ie))}},k}(xt),tt=function(I){function k(W){I.call(this,"appUserTurnstile"),this._customAccessToken=W}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postTurnstileEvent=function(ie,de){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Se){return Ne(Se)||He(Se)})&&this.queueRequest(Date.now(),de)},k.prototype.processRequests=function(ie){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=gt(ae.ACCESS_TOKEN),Re=Se?Se.u:ae.ACCESS_TOKEN,Je=Re!==this.eventData.tokenU;s(this.anonId)||(this.anonId=L(),Je=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Rt=new Date(dt),Yt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);Je=Je||Yt>=1||Yt<-1||St.getDate()!==Rt.getDate()}else Je=!0;if(!Je)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(ar){ar||(de.eventData.lastSuccess=dt,de.eventData.tokenU=Re)},ie)}},k}(xt),Oe=new tt,Xe=Oe.postTurnstileEvent.bind(Oe),Ze=new Mt,We=Ze.postMapLoadEvent.bind(Ze),ze="mapbox-tiles",ke=500,je=50,Ie=1e3*60*7,pe;function we(){a.caches&&!pe&&(pe=a.caches.open(ze))}var Ve;function Qe(I,k){if(Ve===void 0)try{new Response(new ReadableStream),Ve=!0}catch{Ve=!1}Ve?k(I.body):I.blob().then(k)}function it(I,k,W){if(we(),!!pe){var ie={status:k.status,statusText:k.statusText,headers:new a.Headers};k.headers.forEach(function(Re,Je){return ie.headers.set(Je,Re)});var de=ee(k.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ie.headers.set("Expires",new Date(W+de["max-age"]*1e3).toUTCString());var Se=new Date(ie.headers.get("Expires")).getTime()-W;Se<Ie||Qe(k,function(Re){var Je=new a.Response(Re,ie);we(),pe&&pe.then(function(dt){return dt.put(st(I.url),Je)}).catch(function(dt){return U(dt.message)})})}}}function st(I){var k=I.indexOf("?");return k<0?I:I.slice(0,k)}function Wt(I,k){if(we(),!pe)return k(null);var W=st(I.url);pe.then(function(ie){ie.match(W).then(function(de){var Se=jt(de);ie.delete(W),Se&&ie.put(W,de.clone()),k(null,de,Se)}).catch(k)}).catch(k)}function jt(I){if(!I)return!1;var k=new Date(I.headers.get("Expires")||0),W=ee(I.headers.get("Cache-Control")||"");return k>Date.now()&&!W["no-cache"]}var Tt=1/0;function Lt(I){Tt++,Tt>je&&(I.getActor().send("enforceCacheSizeLimit",ke),Tt=0)}function Xt(I){we(),pe&&pe.then(function(k){k.keys().then(function(W){for(var ie=0;ie<W.length-I;ie++)k.delete(W[ie])})})}function Tr(I){var k=a.caches.delete(ze);I&&k.catch(I).then(function(){return I()})}function yt(I,k){ke=I,je=k}var Kt;function Jt(){return Kt==null&&(Kt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),Kt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var ur=function(I){function k(W,ie,de){ie===401&&He(de)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),I.call(this,W),this.status=ie,this.url=de,this.name=this.constructor.name,this.message=W}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},k}(Error),mt=Q()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href},lt=function(I){return/^file:/.test(I)||/^file:/.test(mt())&&!/^\w+:/.test(I)};function bt(I,k){var W=new a.AbortController,ie=new a.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:mt(),signal:W.signal}),de=!1,Se=!1,Re=at(ie.url);I.type==="json"&&ie.headers.set("Accept","application/json");var Je=function(St,Rt,Yt){if(!Se){if(St&&St.message!=="SecurityError"&&U(St),Rt&&Yt)return dt(Rt);var ar=Date.now();a.fetch(ie).then(function(er){if(er.ok){var mr=Re?er.clone():null;return dt(er,mr,ar)}else return k(new ur(er.statusText,er.status,I.url))}).catch(function(er){er.code!==20&&k(new Error(er.message))})}},dt=function(St,Rt,Yt){(I.type==="arrayBuffer"?St.arrayBuffer():I.type==="json"?St.json():St.text()).then(function(ar){Se||(Rt&&Yt&&it(ie,Rt,Yt),de=!0,k(null,ar,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ar){Se||k(new Error(ar.message))})};return Re?Wt(ie,Je):Je(null,null),{cancel:function(){Se=!0,de||W.abort()}}}function Et(I,k){var W=new a.XMLHttpRequest;W.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ie in I.headers)W.setRequestHeader(ie,I.headers[ie]);return I.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=I.credentials==="include",W.onerror=function(){k(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var de=W.response;if(I.type==="json")try{de=JSON.parse(W.response)}catch(Se){return k(Se)}k(null,de,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else k(new ur(W.statusText,W.status,I.url))},W.send(I.body),{cancel:function(){return W.abort()}}}var It=function(I,k){if(!lt(I.url)){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return bt(I,k);if(Q()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",I,k,void 0,W)}}return Et(I,k)},Ht=function(I,k){return It(x(I,{type:"json"}),k)},Ut=function(I,k){return It(x(I,{type:"arrayBuffer"}),k)},Bt=function(I,k){return It(x(I,{method:"POST"}),k)};function $t(I){var k=a.document.createElement("a");return k.href=I,k.protocol===a.document.location.protocol&&k.host===a.document.location.host}var fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Zt(I,k,W,ie){var de=new a.Image,Se=a.URL;de.onload=function(){k(null,de),Se.revokeObjectURL(de.src),de.onload=null,a.requestAnimationFrame(function(){de.src=fr})},de.onerror=function(){return k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new a.Blob([new Uint8Array(I)],{type:"image/png"});de.cacheControl=W,de.expires=ie,de.src=I.byteLength?Se.createObjectURL(Re):fr}function vr(I,k){var W=new a.Blob([new Uint8Array(I)],{type:"image/png"});a.createImageBitmap(W).then(function(ie){k(null,ie)}).catch(function(ie){k(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,Ge,zt=function(){Ye=[],Ge=0};zt();var Dt=function(I,k){if(he.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),Ge>=ae.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:I,callback:k,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(W),W}Ge++;var ie=!1,de=function(){if(!ie)for(ie=!0,Ge--;Ye.length&&Ge<ae.MAX_PARALLEL_IMAGE_REQUESTS;){var Re=Ye.shift(),Je=Re.requestParameters,dt=Re.callback,St=Re.cancelled;St||(Re.cancel=Dt(Je,dt).cancel)}},Se=Ut(I,function(Re,Je,dt,St){de(),Re?k(Re):Je&&(Jt()?vr(Je,k):Zt(Je,k,dt,St))});return{cancel:function(){Se.cancel(),de()}}},Qt=function(I,k){var W=a.document.createElement("video");W.muted=!0,W.onloadstart=function(){k(null,W)};for(var ie=0;ie<I.length;ie++){var de=a.document.createElement("source");$t(I[ie])||(W.crossOrigin="Anonymous"),de.src=I[ie],W.appendChild(de)}return{cancel:function(){}}};function nr(I,k,W){var ie=W[I]&&W[I].indexOf(k)!==-1;ie||(W[I]=W[I]||[],W[I].push(k))}function ir(I,k,W){if(W&&W[I]){var ie=W[I].indexOf(k);ie!==-1&&W[I].splice(ie,1)}}var tr=function(k,W){W===void 0&&(W={}),x(this,W),this.type=k},Ft=function(I){function k(W,ie){ie===void 0&&(ie={}),I.call(this,"error",x({error:W},ie))}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(tr),cr=function(){};cr.prototype.on=function(k,W){return this._listeners=this._listeners||{},nr(k,W,this._listeners),this},cr.prototype.off=function(k,W){return ir(k,W,this._listeners),ir(k,W,this._oneTimeListeners),this},cr.prototype.once=function(k,W){return this._oneTimeListeners=this._oneTimeListeners||{},nr(k,W,this._oneTimeListeners),this},cr.prototype.fire=function(k,W){typeof k=="string"&&(k=new tr(k,W||{}));var ie=k.type;if(this.listens(ie)){k.target=this;for(var de=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Se=0,Re=de;Se<Re.length;Se+=1){var Je=Re[Se];Je.call(this,k)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],St=0,Rt=dt;St<Rt.length;St+=1){var Yt=Rt[St];ir(ie,Yt,this._oneTimeListeners),Yt.call(this,k)}var ar=this._eventedParent;ar&&(x(k,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(k))}else k instanceof Ft&&console.error(k.error);return this},cr.prototype.listens=function(k){return this._listeners&&this._listeners[k]&&this._listeners[k].length>0||this._oneTimeListeners&&this._oneTimeListeners[k]&&this._oneTimeListeners[k].length>0||this._eventedParent&&this._eventedParent.listens(k)},cr.prototype.setEventedParent=function(k,W){return this._eventedParent=k,this._eventedParentData=W,this};var pr=8,br={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},Vr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},sn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},an={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},En={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Mn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},xr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},_r=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Yr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},dn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},In={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},oa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ma={type:"array",value:"*"},Ta={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Yn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Qn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},gr={type:"array",value:"*",minimum:1},en={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},$r=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],hn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Tn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Sn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},va={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Da={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Or={"*":{type:"string"}},Ar={$version:pr,$root:br,sources:hr,source:Vr,source_vector:Pr,source_raster:Ir,source_raster_dem:sn,source_geojson:an,source_video:En,source_image:Mn,layer:xr,layout:_r,layout_background:Yr,layout_fill:zr,layout_circle:gn,layout_heatmap:dn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Rn,layout_symbol:In,layout_raster:Wn,layout_hillshade:oa,filter:ma,filter_operator:Ta,geometry_type:Yn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Qn,expression:gr,light:en,paint:$r,paint_fill:hn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bn,paint_circle:Tn,paint_heatmap:Sn,paint_symbol:Nn,paint_raster:qn,paint_hillshade:va,paint_background:Da,transition:Mr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Or},Fr=function(k,W,ie,de){this.message=(k?k+": ":"")+ie,de&&(this.identifier=de),W!=null&&W.__line__&&(this.line=W.__line__)};function bn(I){var k=I.key,W=I.value;return W?[new Fr(k,W,"constants have been deprecated as of v8")]:[]}function Dn(I){for(var k=[],W=arguments.length-1;W-- >0;)k[W]=arguments[W+1];for(var ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie];for(var Re in Se)I[Re]=Se[Re]}return I}function yn(I){return I instanceof Number||I instanceof String||I instanceof Boolean?I.valueOf():I}function un(I){if(Array.isArray(I))return I.map(un);if(I instanceof Object&&!(I instanceof Number||I instanceof String||I instanceof Boolean)){var k={};for(var W in I)k[W]=un(I[W]);return k}return yn(I)}var Er=function(I){function k(W,ie){I.call(this,ie),this.message=ie,this.key=W}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Error),Zr=function(k,W){W===void 0&&(W=[]),this.parent=k,this.bindings={};for(var ie=0,de=W;ie<de.length;ie+=1){var Se=de[ie],Re=Se[0],Je=Se[1];this.bindings[Re]=Je}};Zr.prototype.concat=function(k){return new Zr(this,k)},Zr.prototype.get=function(k){if(this.bindings[k])return this.bindings[k];if(this.parent)return this.parent.get(k);throw new Error(k+" not found in scope.")},Zr.prototype.has=function(k){return this.bindings[k]?!0:this.parent?this.parent.has(k):!1};var Hr={kind:"null"},qr={kind:"number"},An={kind:"string"},Fn={kind:"boolean"},Cn={kind:"color"},Hn={kind:"object"},Un={kind:"value"},da={kind:"error"},la={kind:"collator"},ya={kind:"formatted"},Ra={kind:"resolvedImage"};function wi(I,k){return{kind:"array",itemType:I,N:k}}function si(I){if(I.kind==="array"){var k=si(I.itemType);return typeof I.N=="number"?"array<"+k+", "+I.N+">":I.itemType.kind==="value"?"array":"array<"+k+">"}else return I.kind}var Qo=[Hr,qr,An,Fn,Cn,ya,Hn,wi(Un),Ra];function Wo(I,k){if(k.kind==="error")return null;if(I.kind==="array"){if(k.kind==="array"&&(k.N===0&&k.itemType.kind==="value"||!Wo(I.itemType,k.itemType))&&(typeof I.N!="number"||I.N===k.N))return null}else{if(I.kind===k.kind)return null;if(I.kind==="value")for(var W=0,ie=Qo;W<ie.length;W+=1){var de=ie[W];if(!Wo(de,k))return null}}return"Expected "+si(I)+" but found "+si(k)+" instead."}function po(I,k){return k.some(function(W){return W.kind===I.kind})}function eu(I,k){return k.some(function(W){return W==="null"?I===null:W==="array"?Array.isArray(I):W==="object"?I&&!Array.isArray(I)&&typeof I=="object":W===typeof I})}var qf=C(function(I,k){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(St){return St=Math.round(St),St<0?0:St>255?255:St}function de(St){return St<0?0:St>1?1:St}function Se(St){return St[St.length-1]==="%"?ie(parseFloat(St)/100*255):ie(parseInt(St))}function Re(St){return St[St.length-1]==="%"?de(parseFloat(St)/100):de(parseFloat(St))}function Je(St,Rt,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?St+(Rt-St)*Yt*6:Yt*2<1?Rt:Yt*3<2?St+(Rt-St)*(2/3-Yt)*6:St}function dt(St){var Rt=St.replace(/ /g,"").toLowerCase();if(Rt in W)return W[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var Yt=parseInt(Rt.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(Rt.length===7){var Yt=parseInt(Rt.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var ar=Rt.indexOf("("),er=Rt.indexOf(")");if(ar!==-1&&er+1===Rt.length){var mr=Rt.substr(0,ar),Br=Rt.substr(ar+1,er-(ar+1)).split(","),fn=1;switch(mr){case"rgba":if(Br.length!==4)return null;fn=Re(Br.pop());case"rgb":return Br.length!==3?null:[Se(Br[0]),Se(Br[1]),Se(Br[2]),fn];case"hsla":if(Br.length!==4)return null;fn=Re(Br.pop());case"hsl":if(Br.length!==3)return null;var rn=(parseFloat(Br[0])%360+360)%360/360,Pn=Re(Br[1]),mn=Re(Br[2]),Ln=mn<=.5?mn*(Pn+1):mn+Pn-mn*Pn,On=mn*2-Ln;return[ie(Je(On,Ln,rn+1/3)*255),ie(Je(On,Ln,rn)*255),ie(Je(On,Ln,rn-1/3)*255),fn];default:return null}}return null}try{k.parseCSSColor=dt}catch{}}),Oc=qf.parseCSSColor,ai=function(k,W,ie,de){de===void 0&&(de=1),this.r=k,this.g=W,this.b=ie,this.a=de};ai.parse=function(k){if(k){if(k instanceof ai)return k;if(typeof k=="string"){var W=Oc(k);if(W)return new ai(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},ai.prototype.toString=function(){var k=this.toArray(),W=k[0],ie=k[1],de=k[2],Se=k[3];return"rgba("+Math.round(W)+","+Math.round(ie)+","+Math.round(de)+","+Se+")"},ai.prototype.toArray=function(){var k=this,W=k.r,ie=k.g,de=k.b,Se=k.a;return Se===0?[0,0,0,0]:[W*255/Se,ie*255/Se,de*255/Se,Se]},ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1);var Bu=function(k,W,ie){k?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Bu.prototype.compare=function(k,W){return this.collator.compare(k,W)},Bu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ec=function(k,W,ie,de,Se){this.text=k,this.image=W,this.scale=ie,this.fontStack=de,this.textColor=Se},so=function(k){this.sections=k};so.fromString=function(k){return new so([new ec(k,null,null,null,null)])},so.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(k){return k.text.length!==0||k.image&&k.image.name.length!==0})},so.factory=function(k){return k instanceof so?k:so.fromString(k)},so.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(k){return k.text}).join("")},so.prototype.serialize=function(){for(var k=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var de=ie[W];if(de.image){k.push(["image",de.image.name]);continue}k.push(de.text);var Se={};de.fontStack&&(Se["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Se["font-scale"]=de.scale),de.textColor&&(Se["text-color"]=["rgba"].concat(de.textColor.toArray())),k.push(Se)}return k};var zo=function(k){this.name=k.name,this.available=k.available};zo.prototype.toString=function(){return this.name},zo.fromString=function(k){return k?new zo({name:k,available:!1}):null},zo.prototype.serialize=function(){return["image",this.name]};function tu(I,k,W,ie){if(!(typeof I=="number"&&I>=0&&I<=255&&typeof k=="number"&&k>=0&&k<=255&&typeof W=="number"&&W>=0&&W<=255)){var de=typeof ie=="number"?[I,k,W,ie]:[I,k,W];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[I,k,W,ie].join(", ")+"]: 'a' must be between 0 and 1."}function xf(I){if(I===null)return!0;if(typeof I=="string")return!0;if(typeof I=="boolean")return!0;if(typeof I=="number")return!0;if(I instanceof ai)return!0;if(I instanceof Bu)return!0;if(I instanceof so)return!0;if(I instanceof zo)return!0;if(Array.isArray(I)){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k];if(!xf(ie))return!1}return!0}else if(typeof I=="object"){for(var de in I)if(!xf(I[de]))return!1;return!0}else return!1}function Wi(I){if(I===null)return Hr;if(typeof I=="string")return An;if(typeof I=="boolean")return Fn;if(typeof I=="number")return qr;if(I instanceof ai)return Cn;if(I instanceof Bu)return la;if(I instanceof so)return ya;if(I instanceof zo)return Ra;if(Array.isArray(I)){for(var k=I.length,W,ie=0,de=I;ie<de.length;ie+=1){var Se=de[ie],Re=Wi(Se);if(!W)W=Re;else{if(W===Re)continue;W=Un;break}}return wi(W||Un,k)}else return Hn}function ru(I){var k=typeof I;return I===null?"":k==="string"||k==="number"||k==="boolean"?String(I):I instanceof ai||I instanceof so||I instanceof zo?I.toString():JSON.stringify(I)}var Zi=function(k,W){this.type=k,this.value=W};Zi.parse=function(k,W){if(k.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(!xf(k[1]))return W.error("invalid value");var ie=k[1],de=Wi(ie),Se=W.expectedType;return de.kind==="array"&&de.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(de=Se),new Zi(de,ie)},Zi.prototype.evaluate=function(){return this.value},Zi.prototype.eachChild=function(){},Zi.prototype.outputDefined=function(){return!0},Zi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ai?["rgba"].concat(this.value.toArray()):this.value instanceof so?this.value.serialize():this.value};var eo=function(k){this.name="ExpressionEvaluationError",this.message=k};eo.prototype.toJSON=function(){return this.message};var nu={string:An,number:qr,boolean:Fn,object:Hn},go=function(k,W){this.type=k,this.args=W};go.parse=function(k,W){if(k.length<2)return W.error("Expected at least one argument.");var ie=1,de,Se=k[0];if(Se==="array"){var Re;if(k.length>2){var Je=k[1];if(typeof Je!="string"||!(Je in nu)||Je==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);Re=nu[Je],ie++}else Re=Un;var dt;if(k.length>3){if(k[2]!==null&&(typeof k[2]!="number"||k[2]<0||k[2]!==Math.floor(k[2])))return W.error('The length argument to "array" must be a positive integer literal',2);dt=k[2],ie++}de=wi(Re,dt)}else de=nu[Se];for(var St=[];ie<k.length;ie++){var Rt=W.parse(k[ie],ie,Un);if(!Rt)return null;St.push(Rt)}return new go(de,St)},go.prototype.evaluate=function(k){for(var W=0;W<this.args.length;W++){var ie=this.args[W].evaluate(k),de=Wo(this.type,Wi(ie));if(de){if(W===this.args.length-1)throw new eo("Expected value to be of type "+si(this.type)+", but found "+si(Wi(ie))+" instead.")}else return ie}return null},go.prototype.eachChild=function(k){this.args.forEach(k)},go.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},go.prototype.serialize=function(){var k=this.type,W=[k.kind];if(k.kind==="array"){var ie=k.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){W.push(ie.kind);var de=k.N;(typeof de=="number"||this.args.length>1)&&W.push(de)}}return W.concat(this.args.map(function(Se){return Se.serialize()}))};var yo=function(k){this.type=ya,this.sections=k};yo.parse=function(k,W){if(k.length<2)return W.error("Expected at least one argument.");var ie=k[1];if(!Array.isArray(ie)&&typeof ie=="object")return W.error("First argument must be an image or text section.");for(var de=[],Se=!1,Re=1;Re<=k.length-1;++Re){var Je=k[Re];if(Se&&typeof Je=="object"&&!Array.isArray(Je)){Se=!1;var dt=null;if(Je["font-scale"]&&(dt=W.parse(Je["font-scale"],1,qr),!dt))return null;var St=null;if(Je["text-font"]&&(St=W.parse(Je["text-font"],1,wi(An)),!St))return null;var Rt=null;if(Je["text-color"]&&(Rt=W.parse(Je["text-color"],1,Cn),!Rt))return null;var Yt=de[de.length-1];Yt.scale=dt,Yt.font=St,Yt.textColor=Rt}else{var ar=W.parse(k[Re],1,Un);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,de.push({content:ar,scale:null,font:null,textColor:null})}}return new yo(de)},yo.prototype.evaluate=function(k){var W=function(ie){var de=ie.content.evaluate(k);return Wi(de)===Ra?new ec("",de,null,null,null):new ec(ru(de),null,ie.scale?ie.scale.evaluate(k):null,ie.font?ie.font.evaluate(k).join(","):null,ie.textColor?ie.textColor.evaluate(k):null)};return new so(this.sections.map(W))},yo.prototype.eachChild=function(k){for(var W=0,ie=this.sections;W<ie.length;W+=1){var de=ie[W];k(de.content),de.scale&&k(de.scale),de.font&&k(de.font),de.textColor&&k(de.textColor)}},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){for(var k=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var de=ie[W];k.push(de.content.serialize());var Se={};de.scale&&(Se["font-scale"]=de.scale.serialize()),de.font&&(Se["text-font"]=de.font.serialize()),de.textColor&&(Se["text-color"]=de.textColor.serialize()),k.push(Se)}return k};var qo=function(k){this.type=Ra,this.input=k};qo.parse=function(k,W){if(k.length!==2)return W.error("Expected two arguments.");var ie=W.parse(k[1],1,An);return ie?new qo(ie):W.error("No image name provided.")},qo.prototype.evaluate=function(k){var W=this.input.evaluate(k),ie=zo.fromString(W);return ie&&k.availableImages&&(ie.available=k.availableImages.indexOf(W)>-1),ie},qo.prototype.eachChild=function(k){k(this.input)},qo.prototype.outputDefined=function(){return!1},qo.prototype.serialize=function(){return["image",this.input.serialize()]};var Fc={"to-boolean":Fn,"to-color":Cn,"to-number":qr,"to-string":An},Yo=function(k,W){this.type=k,this.args=W};Yo.parse=function(k,W){if(k.length<2)return W.error("Expected at least one argument.");var ie=k[0];if((ie==="to-boolean"||ie==="to-string")&&k.length!==2)return W.error("Expected one argument.");for(var de=Fc[ie],Se=[],Re=1;Re<k.length;Re++){var Je=W.parse(k[Re],Re,Un);if(!Je)return null;Se.push(Je)}return new Yo(de,Se)},Yo.prototype.evaluate=function(k){if(this.type.kind==="boolean")return!!this.args[0].evaluate(k);if(this.type.kind==="color"){for(var W,ie,de=0,Se=this.args;de<Se.length;de+=1){var Re=Se[de];if(W=Re.evaluate(k),ie=null,W instanceof ai)return W;if(typeof W=="string"){var Je=k.parseColor(W);if(Je)return Je}else if(Array.isArray(W)&&(W.length<3||W.length>4?ie="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ie=tu(W[0],W[1],W[2],W[3]),!ie))return new ai(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new eo(ie||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var dt=null,St=0,Rt=this.args;St<Rt.length;St+=1){var Yt=Rt[St];if(dt=Yt.evaluate(k),dt===null)return 0;var ar=Number(dt);if(!isNaN(ar))return ar}throw new eo("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?so.fromString(ru(this.args[0].evaluate(k))):this.type.kind==="resolvedImage"?zo.fromString(ru(this.args[0].evaluate(k))):ru(this.args[0].evaluate(k))},Yo.prototype.eachChild=function(k){this.args.forEach(k)},Yo.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},Yo.prototype.serialize=function(){if(this.type.kind==="formatted")return new yo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new qo(this.args[0]).serialize();var k=["to-"+this.type.kind];return this.eachChild(function(W){k.push(W.serialize())}),k};var Hh=["Unknown","Point","LineString","Polygon"],Rs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Rs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Rs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Hh[this.feature.type]:this.feature.type:null},Rs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Rs.prototype.canonicalID=function(){return this.canonical},Rs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Rs.prototype.parseColor=function(k){var W=this._parseColorCache[k];return W||(W=this._parseColorCache[k]=ai.parse(k)),W};var lo=function(k,W,ie,de){this.name=k,this.type=W,this._evaluate=ie,this.args=de};lo.prototype.evaluate=function(k){return this._evaluate(k,this.args)},lo.prototype.eachChild=function(k){this.args.forEach(k)},lo.prototype.outputDefined=function(){return!1},lo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(k){return k.serialize()}))},lo.parse=function(k,W){var ie,de=k[0],Se=lo.definitions[de];if(!Se)return W.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Re=Array.isArray(Se)?Se[0]:Se.type,Je=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,dt=Je.filter(function(Sa){var La=Sa[0];return!Array.isArray(La)||La.length===k.length-1}),St=null,Rt=0,Yt=dt;Rt<Yt.length;Rt+=1){var ar=Yt[Rt],er=ar[0],mr=ar[1];St=new ks(W.registry,W.path,null,W.scope);for(var Br=[],fn=!1,rn=1;rn<k.length;rn++){var Pn=k[rn],mn=Array.isArray(er)?er[rn-1]:er.type,Ln=St.parse(Pn,1+Br.length,mn);if(!Ln){fn=!0;break}Br.push(Ln)}if(!fn){if(Array.isArray(er)&&er.length!==Br.length){St.error("Expected "+er.length+" arguments, but found "+Br.length+" instead.");continue}for(var On=0;On<Br.length;On++){var Xn=Array.isArray(er)?er[On]:er.type,ia=Br[On];St.concat(On+1).checkSubtype(Xn,ia.type)}if(St.errors.length===0)return new lo(de,Re,mr,Br)}}if(dt.length===1)(ie=W.errors).push.apply(ie,St.errors);else{for(var ra=dt.length?dt:Je,Aa=ra.map(function(Sa){var La=Sa[0];return tc(La)}).join(" | "),ga=[],wa=1;wa<k.length;wa++){var Va=W.parse(k[wa],1+ga.length);if(!Va)return null;ga.push(si(Va.type))}W.error("Expected arguments of type "+Aa+", but found ("+ga.join(", ")+") instead.")}return null},lo.register=function(k,W){lo.definitions=W;for(var ie in W)k[ie]=lo};function tc(I){return Array.isArray(I)?"("+I.map(si).join(", ")+")":"("+si(I.type)+"...)"}var sl=function(k,W,ie){this.type=la,this.locale=ie,this.caseSensitive=k,this.diacriticSensitive=W};sl.parse=function(k,W){if(k.length!==2)return W.error("Expected one argument.");var ie=k[1];if(typeof ie!="object"||Array.isArray(ie))return W.error("Collator options argument must be an object.");var de=W.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,Fn);if(!de)return null;var Se=W.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,Fn);if(!Se)return null;var Re=null;return ie.locale&&(Re=W.parse(ie.locale,1,An),!Re)?null:new sl(de,Se,Re)},sl.prototype.evaluate=function(k){return new Bu(this.caseSensitive.evaluate(k),this.diacriticSensitive.evaluate(k),this.locale?this.locale.evaluate(k):null)},sl.prototype.eachChild=function(k){k(this.caseSensitive),k(this.diacriticSensitive),this.locale&&k(this.locale)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){var k={};return k["case-sensitive"]=this.caseSensitive.serialize(),k["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(k.locale=this.locale.serialize()),["collator",k]};var Is=8192;function rc(I,k){I[0]=Math.min(I[0],k[0]),I[1]=Math.min(I[1],k[1]),I[2]=Math.max(I[2],k[0]),I[3]=Math.max(I[3],k[1])}function Bc(I){return(180+I)/360}function Gh(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function bf(I,k){return!(I[0]<=k[0]||I[2]>=k[2]||I[1]<=k[1]||I[3]>=k[3])}function Wh(I,k){var W=Bc(I[0]),ie=Gh(I[1]),de=Math.pow(2,k.z);return[Math.round(W*de*Is),Math.round(ie*de*Is)]}function Yh(I,k,W){var ie=I[0]-k[0],de=I[1]-k[1],Se=I[0]-W[0],Re=I[1]-W[1];return ie*Re-Se*de===0&&ie*Se<=0&&de*Re<=0}function jh(I,k,W){return k[1]>I[1]!=W[1]>I[1]&&I[0]<(W[0]-k[0])*(I[1]-k[1])/(W[1]-k[1])+k[0]}function nc(I,k){for(var W=!1,ie=0,de=k.length;ie<de;ie++)for(var Se=k[ie],Re=0,Je=Se.length;Re<Je-1;Re++){if(Yh(I,Se[Re],Se[Re+1]))return!1;jh(I,Se[Re],Se[Re+1])&&(W=!W)}return W}function Xh(I,k){for(var W=0;W<k.length;W++)if(nc(I,k[W]))return!0;return!1}function Zh(I,k){return I[0]*k[1]-I[1]*k[0]}function Nc(I,k,W,ie){var de=I[0]-W[0],Se=I[1]-W[1],Re=k[0]-W[0],Je=k[1]-W[1],dt=ie[0]-W[0],St=ie[1]-W[1],Rt=de*St-dt*Se,Yt=Re*St-dt*Je;return Rt>0&&Yt<0||Rt<0&&Yt>0}function Uc(I,k,W,ie){var de=[k[0]-I[0],k[1]-I[1]],Se=[ie[0]-W[0],ie[1]-W[1]];return Zh(Se,de)===0?!1:!!(Nc(I,k,W,ie)&&Nc(W,ie,I,k))}function Pl(I,k,W){for(var ie=0,de=W;ie<de.length;ie+=1)for(var Se=de[ie],Re=0;Re<Se.length-1;++Re)if(Uc(I,k,Se[Re],Se[Re+1]))return!0;return!1}function au(I,k){for(var W=0;W<I.length;++W)if(!nc(I[W],k))return!1;for(var ie=0;ie<I.length-1;++ie)if(Pl(I[ie],I[ie+1],k))return!1;return!0}function Nu(I,k){for(var W=0;W<k.length;W++)if(au(I,k[W]))return!0;return!1}function Uu(I,k,W){for(var ie=[],de=0;de<I.length;de++){for(var Se=[],Re=0;Re<I[de].length;Re++){var Je=Wh(I[de][Re],W);rc(k,Je),Se.push(Je)}ie.push(Se)}return ie}function Vc(I,k,W){for(var ie=[],de=0;de<I.length;de++){var Se=Uu(I[de],k,W);ie.push(Se)}return ie}function js(I,k,W,ie){if(I[0]<W[0]||I[0]>W[2]){var de=ie*.5,Se=I[0]-W[0]>de?-ie:W[0]-I[0]>de?ie:0;Se===0&&(Se=I[0]-W[2]>de?-ie:W[2]-I[0]>de?ie:0),I[0]+=Se}rc(k,I)}function Kh(I){I[0]=I[1]=1/0,I[2]=I[3]=-1/0}function wf(I,k,W,ie){for(var de=Math.pow(2,ie.z)*Is,Se=[ie.x*Is,ie.y*Is],Re=[],Je=0,dt=I;Je<dt.length;Je+=1)for(var St=dt[Je],Rt=0,Yt=St;Rt<Yt.length;Rt+=1){var ar=Yt[Rt],er=[ar.x+Se[0],ar.y+Se[1]];js(er,k,W,de),Re.push(er)}return Re}function Hc(I,k,W,ie){for(var de=Math.pow(2,ie.z)*Is,Se=[ie.x*Is,ie.y*Is],Re=[],Je=0,dt=I;Je<dt.length;Je+=1){for(var St=dt[Je],Rt=[],Yt=0,ar=St;Yt<ar.length;Yt+=1){var er=ar[Yt],mr=[er.x+Se[0],er.y+Se[1]];rc(k,mr),Rt.push(mr)}Re.push(Rt)}if(k[2]-k[0]<=de/2){Kh(k);for(var Br=0,fn=Re;Br<fn.length;Br+=1)for(var rn=fn[Br],Pn=0,mn=rn;Pn<mn.length;Pn+=1){var Ln=mn[Pn];js(Ln,k,W,de)}}return Re}function Gc(I,k){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],de=I.canonicalID();if(k.type==="Polygon"){var Se=Uu(k.coordinates,ie,de),Re=wf(I.geometry(),W,ie,de);if(!bf(W,ie))return!1;for(var Je=0,dt=Re;Je<dt.length;Je+=1){var St=dt[Je];if(!nc(St,Se))return!1}}if(k.type==="MultiPolygon"){var Rt=Vc(k.coordinates,ie,de),Yt=wf(I.geometry(),W,ie,de);if(!bf(W,ie))return!1;for(var ar=0,er=Yt;ar<er.length;ar+=1){var mr=er[ar];if(!Xh(mr,Rt))return!1}}return!0}function Tf(I,k){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],de=I.canonicalID();if(k.type==="Polygon"){var Se=Uu(k.coordinates,ie,de),Re=Hc(I.geometry(),W,ie,de);if(!bf(W,ie))return!1;for(var Je=0,dt=Re;Je<dt.length;Je+=1){var St=dt[Je];if(!au(St,Se))return!1}}if(k.type==="MultiPolygon"){var Rt=Vc(k.coordinates,ie,de),Yt=Hc(I.geometry(),W,ie,de);if(!bf(W,ie))return!1;for(var ar=0,er=Yt;ar<er.length;ar+=1){var mr=er[ar];if(!Nu(mr,Rt))return!1}}return!0}var hs=function(k,W){this.type=Fn,this.geojson=k,this.geometries=W};hs.parse=function(k,W){if(k.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(xf(k[1])){var ie=k[1];if(ie.type==="FeatureCollection")for(var de=0;de<ie.features.length;++de){var Se=ie.features[de].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new hs(ie,ie.features[de].geometry)}else if(ie.type==="Feature"){var Re=ie.geometry.type;if(Re==="Polygon"||Re==="MultiPolygon")return new hs(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new hs(ie,ie)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},hs.prototype.evaluate=function(k){if(k.geometry()!=null&&k.canonicalID()!=null){if(k.geometryType()==="Point")return Gc(k,this.geometries);if(k.geometryType()==="LineString")return Tf(k,this.geometries)}return!1},hs.prototype.eachChild=function(){},hs.prototype.outputDefined=function(){return!0},hs.prototype.serialize=function(){return["within",this.geojson]};function iu(I){if(I instanceof lo){if(I.name==="get"&&I.args.length===1)return!1;if(I.name==="feature-state")return!1;if(I.name==="has"&&I.args.length===1)return!1;if(I.name==="properties"||I.name==="geometry-type"||I.name==="id")return!1;if(/^filter-/.test(I.name))return!1}if(I instanceof hs)return!1;var k=!0;return I.eachChild(function(W){k&&!iu(W)&&(k=!1)}),k}function Rl(I){if(I instanceof lo&&I.name==="feature-state")return!1;var k=!0;return I.eachChild(function(W){k&&!Rl(W)&&(k=!1)}),k}function Vu(I,k){if(I instanceof lo&&k.indexOf(I.name)>=0)return!1;var W=!0;return I.eachChild(function(ie){W&&!Vu(ie,k)&&(W=!1)}),W}var ll=function(k,W){this.type=W.type,this.name=k,this.boundExpression=W};ll.parse=function(k,W){if(k.length!==2||typeof k[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ie=k[1];return W.scope.has(ie)?new ll(ie,W.scope.get(ie)):W.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},ll.prototype.evaluate=function(k){return this.boundExpression.evaluate(k)},ll.prototype.eachChild=function(){},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["var",this.name]};var ks=function(k,W,ie,de,Se){W===void 0&&(W=[]),de===void 0&&(de=new Zr),Se===void 0&&(Se=[]),this.registry=k,this.path=W,this.key=W.map(function(Re){return"["+Re+"]"}).join(""),this.scope=de,this.errors=Se,this.expectedType=ie};ks.prototype.parse=function(k,W,ie,de,Se){return Se===void 0&&(Se={}),W?this.concat(W,ie,de)._parse(k,Se):this._parse(k,Se)},ks.prototype._parse=function(k,W){(k===null||typeof k=="string"||typeof k=="boolean"||typeof k=="number")&&(k=["literal",k]);function ie(Rt,Yt,ar){return ar==="assert"?new go(Yt,[Rt]):ar==="coerce"?new Yo(Yt,[Rt]):Rt}if(Array.isArray(k)){if(k.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=k[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[de];if(Se){var Re=Se.parse(k,this);if(!Re)return null;if(this.expectedType){var Je=this.expectedType,dt=Re.type;if((Je.kind==="string"||Je.kind==="number"||Je.kind==="boolean"||Je.kind==="object"||Je.kind==="array")&&dt.kind==="value")Re=ie(Re,Je,W.typeAnnotation||"assert");else if((Je.kind==="color"||Je.kind==="formatted"||Je.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))Re=ie(Re,Je,W.typeAnnotation||"coerce");else if(this.checkSubtype(Je,dt))return null}if(!(Re instanceof Zi)&&Re.type.kind!=="resolvedImage"&&ac(Re)){var St=new Rs;try{Re=new Zi(Re.type,Re.evaluate(St))}catch(Rt){return this.error(Rt.message),null}}return Re}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof k>"u"?this.error("'undefined' value invalid. Use null instead."):typeof k=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof k+" instead.")},ks.prototype.concat=function(k,W,ie){var de=typeof k=="number"?this.path.concat(k):this.path,Se=ie?this.scope.concat(ie):this.scope;return new ks(this.registry,de,W||null,Se,this.errors)},ks.prototype.error=function(k){for(var W=[],ie=arguments.length-1;ie-- >0;)W[ie]=arguments[ie+1];var de=""+this.key+W.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Er(de,k))},ks.prototype.checkSubtype=function(k,W){var ie=Wo(k,W);return ie&&this.error(ie),ie};function ac(I){if(I instanceof ll)return ac(I.boundExpression);if(I instanceof lo&&I.name==="error")return!1;if(I instanceof sl)return!1;if(I instanceof hs)return!1;var k=I instanceof Yo||I instanceof go,W=!0;return I.eachChild(function(ie){k?W=W&&ac(ie):W=W&&ie instanceof Zi}),W?iu(I)&&Vu(I,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function ou(I,k){for(var W=I.length-1,ie=0,de=W,Se=0,Re,Je;ie<=de;)if(Se=Math.floor((ie+de)/2),Re=I[Se],Je=I[Se+1],Re<=k){if(Se===W||k<Je)return Se;ie=Se+1}else if(Re>k)de=Se-1;else throw new eo("Input is not a number.");return 0}var vs=function(k,W,ie){this.type=k,this.input=W,this.labels=[],this.outputs=[];for(var de=0,Se=ie;de<Se.length;de+=1){var Re=Se[de],Je=Re[0],dt=Re[1];this.labels.push(Je),this.outputs.push(dt)}};vs.parse=function(k,W){if(k.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ie=W.parse(k[1],1,qr);if(!ie)return null;var de=[],Se=null;W.expectedType&&W.expectedType.kind!=="value"&&(Se=W.expectedType);for(var Re=1;Re<k.length;Re+=2){var Je=Re===1?-1/0:k[Re],dt=k[Re+1],St=Re,Rt=Re+1;if(typeof Je!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(de.length&&de[de.length-1][0]>=Je)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Yt=W.parse(dt,Rt,Se);if(!Yt)return null;Se=Se||Yt.type,de.push([Je,Yt])}return new vs(Se,ie,de)},vs.prototype.evaluate=function(k){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(k);var de=this.input.evaluate(k);if(de<=W[0])return ie[0].evaluate(k);var Se=W.length;if(de>=W[Se-1])return ie[Se-1].evaluate(k);var Re=ou(W,de);return ie[Re].evaluate(k)},vs.prototype.eachChild=function(k){k(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var de=ie[W];k(de)}},vs.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},vs.prototype.serialize=function(){for(var k=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&k.push(this.labels[W]),k.push(this.outputs[W].serialize());return k};function Ni(I,k,W){return I*(1-W)+k*W}function ic(I,k,W){return new ai(Ni(I.r,k.r,W),Ni(I.g,k.g,W),Ni(I.b,k.b,W),Ni(I.a,k.a,W))}function $h(I,k,W){return I.map(function(ie,de){return Ni(ie,k[de],W)})}var Af=Object.freeze({__proto__:null,number:Ni,color:ic,array:$h}),su=.95047,lu=1,jo=1.08883,Sf=4/29,uu=6/29,Mf=3*uu*uu,Jh=uu*uu*uu,Wc=Math.PI/180,oc=180/Math.PI;function sc(I){return I>Jh?Math.pow(I,.3333333333333333):I/Mf+Sf}function lc(I){return I>uu?I*I*I:Mf*(I-Sf)}function fu(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055)}function Ef(I){return I/=255,I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Hu(I){var k=Ef(I.r),W=Ef(I.g),ie=Ef(I.b),de=sc((.4124564*k+.3575761*W+.1804375*ie)/su),Se=sc((.2126729*k+.7151522*W+.072175*ie)/lu),Re=sc((.0193339*k+.119192*W+.9503041*ie)/jo);return{l:116*Se-16,a:500*(de-Se),b:200*(Se-Re),alpha:I.a}}function Cf(I){var k=(I.l+16)/116,W=isNaN(I.a)?k:k+I.a/500,ie=isNaN(I.b)?k:k-I.b/200;return k=lu*lc(k),W=su*lc(W),ie=jo*lc(ie),new ai(fu(3.2404542*W-1.5371385*k-.4985314*ie),fu(-.969266*W+1.8760108*k+.041556*ie),fu(.0556434*W-.2040259*k+1.0572252*ie),I.alpha)}function Ti(I,k,W){return{l:Ni(I.l,k.l,W),a:Ni(I.a,k.a,W),b:Ni(I.b,k.b,W),alpha:Ni(I.alpha,k.alpha,W)}}function Yc(I){var k=Hu(I),W=k.l,ie=k.a,de=k.b,Se=Math.atan2(de,ie)*oc;return{h:Se<0?Se+360:Se,c:Math.sqrt(ie*ie+de*de),l:W,alpha:I.a}}function ds(I){var k=I.h*Wc,W=I.c,ie=I.l;return Cf({l:ie,a:Math.cos(k)*W,b:Math.sin(k)*W,alpha:I.alpha})}function jc(I,k,W){var ie=k-I;return I+W*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function uc(I,k,W){return{h:jc(I.h,k.h,W),c:Ni(I.c,k.c,W),l:Ni(I.l,k.l,W),alpha:Ni(I.alpha,k.alpha,W)}}var Il={forward:Hu,reverse:Cf,interpolate:Ti},ul={forward:Yc,reverse:ds,interpolate:uc},Lf=Object.freeze({__proto__:null,lab:Il,hcl:ul}),Yi=function(k,W,ie,de,Se){this.type=k,this.operator=W,this.interpolation=ie,this.input=de,this.labels=[],this.outputs=[];for(var Re=0,Je=Se;Re<Je.length;Re+=1){var dt=Je[Re],St=dt[0],Rt=dt[1];this.labels.push(St),this.outputs.push(Rt)}};Yi.interpolationFactor=function(k,W,ie,de){var Se=0;if(k.name==="exponential")Se=Gu(W,k.base,ie,de);else if(k.name==="linear")Se=Gu(W,1,ie,de);else if(k.name==="cubic-bezier"){var Re=k.controlPoints,Je=new v(Re[0],Re[1],Re[2],Re[3]);Se=Je.solve(Gu(W,1,ie,de))}return Se},Yi.parse=function(k,W){var ie=k[0],de=k[1],Se=k[2],Re=k.slice(3);if(!Array.isArray(de)||de.length===0)return W.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var Je=de[1];if(typeof Je!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:Je}}else if(de[0]==="cubic-bezier"){var dt=de.slice(1);if(dt.length!==4||dt.some(function(rn){return typeof rn!="number"||rn<0||rn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:dt}}else return W.error("Unknown interpolation type "+String(de[0]),1,0);if(k.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Se=W.parse(Se,2,qr),!Se)return null;var St=[],Rt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Rt=Cn:W.expectedType&&W.expectedType.kind!=="value"&&(Rt=W.expectedType);for(var Yt=0;Yt<Re.length;Yt+=2){var ar=Re[Yt],er=Re[Yt+1],mr=Yt+3,Br=Yt+4;if(typeof ar!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mr);if(St.length&&St[St.length-1][0]>=ar)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mr);var fn=W.parse(er,Br,Rt);if(!fn)return null;Rt=Rt||fn.type,St.push([ar,fn])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?W.error("Type "+si(Rt)+" is not interpolatable."):new Yi(Rt,ie,de,Se,St)},Yi.prototype.evaluate=function(k){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(k);var de=this.input.evaluate(k);if(de<=W[0])return ie[0].evaluate(k);var Se=W.length;if(de>=W[Se-1])return ie[Se-1].evaluate(k);var Re=ou(W,de),Je=W[Re],dt=W[Re+1],St=Yi.interpolationFactor(this.interpolation,de,Je,dt),Rt=ie[Re].evaluate(k),Yt=ie[Re+1].evaluate(k);return this.operator==="interpolate"?Af[this.type.kind.toLowerCase()](Rt,Yt,St):this.operator==="interpolate-hcl"?ul.reverse(ul.interpolate(ul.forward(Rt),ul.forward(Yt),St)):Il.reverse(Il.interpolate(Il.forward(Rt),Il.forward(Yt),St))},Yi.prototype.eachChild=function(k){k(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var de=ie[W];k(de)}},Yi.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},Yi.prototype.serialize=function(){var k;this.interpolation.name==="linear"?k=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?k=["linear"]:k=["exponential",this.interpolation.base]:k=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,k,this.input.serialize()],ie=0;ie<this.labels.length;ie++)W.push(this.labels[ie],this.outputs[ie].serialize());return W};function Gu(I,k,W,ie){var de=ie-W,Se=I-W;return de===0?0:k===1?Se/de:(Math.pow(k,Se)-1)/(Math.pow(k,de)-1)}var ps=function(k,W){this.type=k,this.args=W};ps.parse=function(k,W){if(k.length<2)return W.error("Expectected at least one argument.");var ie=null,de=W.expectedType;de&&de.kind!=="value"&&(ie=de);for(var Se=[],Re=0,Je=k.slice(1);Re<Je.length;Re+=1){var dt=Je[Re],St=W.parse(dt,1+Se.length,ie,void 0,{typeAnnotation:"omit"});if(!St)return null;ie=ie||St.type,Se.push(St)}var Rt=de&&Se.some(function(Yt){return Wo(de,Yt.type)});return Rt?new ps(Un,Se):new ps(ie,Se)},ps.prototype.evaluate=function(k){for(var W=null,ie=0,de,Se=0,Re=this.args;Se<Re.length;Se+=1){var Je=Re[Se];if(ie++,W=Je.evaluate(k),W&&W instanceof zo&&!W.available&&(de||(de=W.name),W=null,ie===this.args.length&&(W=de)),W!==null)break}return W},ps.prototype.eachChild=function(k){this.args.forEach(k)},ps.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},ps.prototype.serialize=function(){var k=["coalesce"];return this.eachChild(function(W){k.push(W.serialize())}),k};var Xs=function(k,W){this.type=W.type,this.bindings=[].concat(k),this.result=W};Xs.prototype.evaluate=function(k){return this.result.evaluate(k)},Xs.prototype.eachChild=function(k){for(var W=0,ie=this.bindings;W<ie.length;W+=1){var de=ie[W];k(de[1])}k(this.result)},Xs.parse=function(k,W){if(k.length<4)return W.error("Expected at least 3 arguments, but found "+(k.length-1)+" instead.");for(var ie=[],de=1;de<k.length-1;de+=2){var Se=k[de];if(typeof Se!="string")return W.error("Expected string, but found "+typeof Se+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Se))return W.error("Variable names must contain only alphanumeric characters or '_'.",de);var Re=W.parse(k[de+1],de+1);if(!Re)return null;ie.push([Se,Re])}var Je=W.parse(k[k.length-1],k.length-1,W.expectedType,ie);return Je?new Xs(ie,Je):null},Xs.prototype.outputDefined=function(){return this.result.outputDefined()},Xs.prototype.serialize=function(){for(var k=["let"],W=0,ie=this.bindings;W<ie.length;W+=1){var de=ie[W],Se=de[0],Re=de[1];k.push(Se,Re.serialize())}return k.push(this.result.serialize()),k};var kl=function(k,W,ie){this.type=k,this.index=W,this.input=ie};kl.parse=function(k,W){if(k.length!==3)return W.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=W.parse(k[1],1,qr),de=W.parse(k[2],2,wi(W.expectedType||Un));if(!ie||!de)return null;var Se=de.type;return new kl(Se.itemType,ie,de)},kl.prototype.evaluate=function(k){var W=this.index.evaluate(k),ie=this.input.evaluate(k);if(W<0)throw new eo("Array index out of bounds: "+W+" < 0.");if(W>=ie.length)throw new eo("Array index out of bounds: "+W+" > "+(ie.length-1)+".");if(W!==Math.floor(W))throw new eo("Array index must be an integer, but found "+W+" instead.");return ie[W]},kl.prototype.eachChild=function(k){k(this.index),k(this.input)},kl.prototype.outputDefined=function(){return!1},kl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fl=function(k,W){this.type=Fn,this.needle=k,this.haystack=W};fl.parse=function(k,W){if(k.length!==3)return W.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=W.parse(k[1],1,Un),de=W.parse(k[2],2,Un);return!ie||!de?null:po(ie.type,[Fn,An,qr,Hr,Un])?new fl(ie,de):W.error("Expected first argument to be of type boolean, string, number or null, but found "+si(ie.type)+" instead")},fl.prototype.evaluate=function(k){var W=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!ie)return!1;if(!eu(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+si(Wi(W))+" instead.");if(!eu(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+si(Wi(ie))+" instead.");return ie.indexOf(W)>=0},fl.prototype.eachChild=function(k){k(this.needle),k(this.haystack)},fl.prototype.outputDefined=function(){return!0},fl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var gs=function(k,W,ie){this.type=qr,this.needle=k,this.haystack=W,this.fromIndex=ie};gs.parse=function(k,W){if(k.length<=2||k.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=W.parse(k[1],1,Un),de=W.parse(k[2],2,Un);if(!ie||!de)return null;if(!po(ie.type,[Fn,An,qr,Hr,Un]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+si(ie.type)+" instead");if(k.length===4){var Se=W.parse(k[3],3,qr);return Se?new gs(ie,de,Se):null}else return new gs(ie,de)},gs.prototype.evaluate=function(k){var W=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!eu(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+si(Wi(W))+" instead.");if(!eu(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+si(Wi(ie))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(k);return ie.indexOf(W,de)}return ie.indexOf(W)},gs.prototype.eachChild=function(k){k(this.needle),k(this.haystack),this.fromIndex&&k(this.fromIndex)},gs.prototype.outputDefined=function(){return!1},gs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var k=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),k]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Zs=function(k,W,ie,de,Se,Re){this.inputType=k,this.type=W,this.input=ie,this.cases=de,this.outputs=Se,this.otherwise=Re};Zs.parse=function(k,W){if(k.length<5)return W.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if(k.length%2!==1)return W.error("Expected an even number of arguments.");var ie,de;W.expectedType&&W.expectedType.kind!=="value"&&(de=W.expectedType);for(var Se={},Re=[],Je=2;Je<k.length-1;Je+=2){var dt=k[Je],St=k[Je+1];Array.isArray(dt)||(dt=[dt]);var Rt=W.concat(Je);if(dt.length===0)return Rt.error("Expected at least one branch label.");for(var Yt=0,ar=dt;Yt<ar.length;Yt+=1){var er=ar[Yt];if(typeof er!="number"&&typeof er!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Rt.error("Numeric branch labels must be integer values.");if(!ie)ie=Wi(er);else if(Rt.checkSubtype(ie,Wi(er)))return null;if(typeof Se[String(er)]<"u")return Rt.error("Branch labels must be unique.");Se[String(er)]=Re.length}var mr=W.parse(St,Je,de);if(!mr)return null;de=de||mr.type,Re.push(mr)}var Br=W.parse(k[1],1,Un);if(!Br)return null;var fn=W.parse(k[k.length-1],k.length-1,de);return!fn||Br.type.kind!=="value"&&W.concat(1).checkSubtype(ie,Br.type)?null:new Zs(ie,de,Br,Se,Re,fn)},Zs.prototype.evaluate=function(k){var W=this.input.evaluate(k),ie=Wi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ie.evaluate(k)},Zs.prototype.eachChild=function(k){k(this.input),this.outputs.forEach(k),k(this.otherwise)},Zs.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})&&this.otherwise.outputDefined()},Zs.prototype.serialize=function(){for(var k=this,W=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),de=[],Se={},Re=0,Je=ie;Re<Je.length;Re+=1){var dt=Je[Re],St=Se[this.cases[dt]];St===void 0?(Se[this.cases[dt]]=de.length,de.push([this.cases[dt],[dt]])):de[St][1].push(dt)}for(var Rt=function(Br){return k.inputType.kind==="number"?Number(Br):Br},Yt=0,ar=de;Yt<ar.length;Yt+=1){var er=ar[Yt],St=er[0],mr=er[1];mr.length===1?W.push(Rt(mr[0])):W.push(mr.map(Rt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var ys=function(k,W,ie){this.type=k,this.branches=W,this.otherwise=ie};ys.parse=function(k,W){if(k.length<4)return W.error("Expected at least 3 arguments, but found only "+(k.length-1)+".");if(k.length%2!==0)return W.error("Expected an odd number of arguments.");var ie;W.expectedType&&W.expectedType.kind!=="value"&&(ie=W.expectedType);for(var de=[],Se=1;Se<k.length-1;Se+=2){var Re=W.parse(k[Se],Se,Fn);if(!Re)return null;var Je=W.parse(k[Se+1],Se+1,ie);if(!Je)return null;de.push([Re,Je]),ie=ie||Je.type}var dt=W.parse(k[k.length-1],k.length-1,ie);return dt?new ys(ie,de,dt):null},ys.prototype.evaluate=function(k){for(var W=0,ie=this.branches;W<ie.length;W+=1){var de=ie[W],Se=de[0],Re=de[1];if(Se.evaluate(k))return Re.evaluate(k)}return this.otherwise.evaluate(k)},ys.prototype.eachChild=function(k){for(var W=0,ie=this.branches;W<ie.length;W+=1){var de=ie[W],Se=de[0],Re=de[1];k(Se),k(Re)}k(this.otherwise)},ys.prototype.outputDefined=function(){return this.branches.every(function(k){k[0];var W=k[1];return W.outputDefined()})&&this.otherwise.outputDefined()},ys.prototype.serialize=function(){var k=["case"];return this.eachChild(function(W){k.push(W.serialize())}),k};var as=function(k,W,ie,de){this.type=k,this.input=W,this.beginIndex=ie,this.endIndex=de};as.parse=function(k,W){if(k.length<=2||k.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=W.parse(k[1],1,Un),de=W.parse(k[2],2,qr);if(!ie||!de)return null;if(!po(ie.type,[wi(Un),An,Un]))return W.error("Expected first argument to be of type array or string, but found "+si(ie.type)+" instead");if(k.length===4){var Se=W.parse(k[3],3,qr);return Se?new as(ie.type,ie,de,Se):null}else return new as(ie.type,ie,de)},as.prototype.evaluate=function(k){var W=this.input.evaluate(k),ie=this.beginIndex.evaluate(k);if(!eu(W,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+si(Wi(W))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(k);return W.slice(ie,de)}return W.slice(ie)},as.prototype.eachChild=function(k){k(this.input),k(this.beginIndex),this.endIndex&&k(this.endIndex)},as.prototype.outputDefined=function(){return!1},as.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var k=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),k]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Wu(I,k){return I==="=="||I==="!="?k.kind==="boolean"||k.kind==="string"||k.kind==="number"||k.kind==="null"||k.kind==="value":k.kind==="string"||k.kind==="number"||k.kind==="value"}function Qh(I,k,W){return k===W}function qh(I,k,W){return k!==W}function ev(I,k,W){return k<W}function tv(I,k,W){return k>W}function fc(I,k,W){return k<=W}function Xc(I,k,W){return k>=W}function cu(I,k,W,ie){return ie.compare(k,W)===0}function uo(I,k,W,ie){return!cu(I,k,W,ie)}function es(I,k,W,ie){return ie.compare(k,W)<0}function hu(I,k,W,ie){return ie.compare(k,W)>0}function Zc(I,k,W,ie){return ie.compare(k,W)<=0}function Yu(I,k,W,ie){return ie.compare(k,W)>=0}function Ks(I,k,W){var ie=I!=="=="&&I!=="!=";return function(){function de(Se,Re,Je){this.type=Fn,this.lhs=Se,this.rhs=Re,this.collator=Je,this.hasUntypedArgument=Se.type.kind==="value"||Re.type.kind==="value"}return de.parse=function(Re,Je){if(Re.length!==3&&Re.length!==4)return Je.error("Expected two or three arguments.");var dt=Re[0],St=Je.parse(Re[1],1,Un);if(!St)return null;if(!Wu(dt,St.type))return Je.concat(1).error('"'+dt+`" comparisons are not supported for type '`+si(St.type)+"'.");var Rt=Je.parse(Re[2],2,Un);if(!Rt)return null;if(!Wu(dt,Rt.type))return Je.concat(2).error('"'+dt+`" comparisons are not supported for type '`+si(Rt.type)+"'.");if(St.type.kind!==Rt.type.kind&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Je.error("Cannot compare types '"+si(St.type)+"' and '"+si(Rt.type)+"'.");ie&&(St.type.kind==="value"&&Rt.type.kind!=="value"?St=new go(Rt.type,[St]):St.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new go(St.type,[Rt])));var Yt=null;if(Re.length===4){if(St.type.kind!=="string"&&Rt.type.kind!=="string"&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Je.error("Cannot use collator to compare non-string types.");if(Yt=Je.parse(Re[3],3,la),!Yt)return null}return new de(St,Rt,Yt)},de.prototype.evaluate=function(Re){var Je=this.lhs.evaluate(Re),dt=this.rhs.evaluate(Re);if(ie&&this.hasUntypedArgument){var St=Wi(Je),Rt=Wi(dt);if(St.kind!==Rt.kind||!(St.kind==="string"||St.kind==="number"))throw new eo('Expected arguments for "'+I+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Yt=Wi(Je),ar=Wi(dt);if(Yt.kind!=="string"||ar.kind!=="string")return k(Re,Je,dt)}return this.collator?W(Re,Je,dt,this.collator.evaluate(Re)):k(Re,Je,dt)},de.prototype.eachChild=function(Re){Re(this.lhs),Re(this.rhs),this.collator&&Re(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var Re=[I];return this.eachChild(function(Je){Re.push(Je.serialize())}),Re},de}()}var rv=Ks("==",Qh,cu),Kc=Ks("!=",qh,uo),$c=Ks("<",ev,es),cc=Ks(">",tv,hu),Jc=Ks("<=",fc,Zc),Oo=Ks(">=",Xc,Yu),ms=function(k,W,ie,de,Se){this.type=An,this.number=k,this.locale=W,this.currency=ie,this.minFractionDigits=de,this.maxFractionDigits=Se};ms.parse=function(k,W){if(k.length!==3)return W.error("Expected two arguments.");var ie=W.parse(k[1],1,qr);if(!ie)return null;var de=k[2];if(typeof de!="object"||Array.isArray(de))return W.error("NumberFormat options argument must be an object.");var Se=null;if(de.locale&&(Se=W.parse(de.locale,1,An),!Se))return null;var Re=null;if(de.currency&&(Re=W.parse(de.currency,1,An),!Re))return null;var Je=null;if(de["min-fraction-digits"]&&(Je=W.parse(de["min-fraction-digits"],1,qr),!Je))return null;var dt=null;return de["max-fraction-digits"]&&(dt=W.parse(de["max-fraction-digits"],1,qr),!dt)?null:new ms(ie,Se,Re,Je,dt)},ms.prototype.evaluate=function(k){return new Intl.NumberFormat(this.locale?this.locale.evaluate(k):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(k):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(k):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(k):void 0}).format(this.number.evaluate(k))},ms.prototype.eachChild=function(k){k(this.number),this.locale&&k(this.locale),this.currency&&k(this.currency),this.minFractionDigits&&k(this.minFractionDigits),this.maxFractionDigits&&k(this.maxFractionDigits)},ms.prototype.outputDefined=function(){return!1},ms.prototype.serialize=function(){var k={};return this.locale&&(k.locale=this.locale.serialize()),this.currency&&(k.currency=this.currency.serialize()),this.minFractionDigits&&(k["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(k["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),k]};var cl=function(k){this.type=qr,this.input=k};cl.parse=function(k,W){if(k.length!==2)return W.error("Expected 1 argument, but found "+(k.length-1)+" instead.");var ie=W.parse(k[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+si(ie.type)+" instead."):new cl(ie):null},cl.prototype.evaluate=function(k){var W=this.input.evaluate(k);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new eo("Expected value to be of type string or array, but found "+si(Wi(W))+" instead.")},cl.prototype.eachChild=function(k){k(this.input)},cl.prototype.outputDefined=function(){return!1},cl.prototype.serialize=function(){var k=["length"];return this.eachChild(function(W){k.push(W.serialize())}),k};var vu={"==":rv,"!=":Kc,">":cc,"<":$c,">=":Oo,"<=":Jc,array:go,at:kl,boolean:go,case:ys,coalesce:ps,collator:sl,format:yo,image:qo,in:fl,"index-of":gs,interpolate:Yi,"interpolate-hcl":Yi,"interpolate-lab":Yi,length:cl,let:Xs,literal:Zi,match:Zs,number:go,"number-format":ms,object:go,slice:as,step:vs,string:go,"to-boolean":Yo,"to-color":Yo,"to-number":Yo,"to-string":Yo,var:ll,within:hs};function Pf(I,k){var W=k[0],ie=k[1],de=k[2],Se=k[3];W=W.evaluate(I),ie=ie.evaluate(I),de=de.evaluate(I);var Re=Se?Se.evaluate(I):1,Je=tu(W,ie,de,Re);if(Je)throw new eo(Je);return new ai(W/255*Re,ie/255*Re,de/255*Re,Re)}function Dl(I,k){return I in k}function _l(I,k){var W=k[I];return typeof W>"u"?null:W}function Qc(I,k,W,ie){for(;W<=ie;){var de=W+ie>>1;if(k[de]===I)return!0;k[de]>I?ie=de-1:W=de+1}return!1}function $s(I){return{type:I}}lo.register(vu,{error:[da,[An],function(I,k){var W=k[0];throw new eo(W.evaluate(I))}],typeof:[An,[Un],function(I,k){var W=k[0];return si(Wi(W.evaluate(I)))}],"to-rgba":[wi(qr,4),[Cn],function(I,k){var W=k[0];return W.evaluate(I).toArray()}],rgb:[Cn,[qr,qr,qr],Pf],rgba:[Cn,[qr,qr,qr,qr],Pf],has:{type:Fn,overloads:[[[An],function(I,k){var W=k[0];return Dl(W.evaluate(I),I.properties())}],[[An,Hn],function(I,k){var W=k[0],ie=k[1];return Dl(W.evaluate(I),ie.evaluate(I))}]]},get:{type:Un,overloads:[[[An],function(I,k){var W=k[0];return _l(W.evaluate(I),I.properties())}],[[An,Hn],function(I,k){var W=k[0],ie=k[1];return _l(W.evaluate(I),ie.evaluate(I))}]]},"feature-state":[Un,[An],function(I,k){var W=k[0];return _l(W.evaluate(I),I.featureState||{})}],properties:[Hn,[],function(I){return I.properties()}],"geometry-type":[An,[],function(I){return I.geometryType()}],id:[Un,[],function(I){return I.id()}],zoom:[qr,[],function(I){return I.globals.zoom}],"heatmap-density":[qr,[],function(I){return I.globals.heatmapDensity||0}],"line-progress":[qr,[],function(I){return I.globals.lineProgress||0}],accumulated:[Un,[],function(I){return I.globals.accumulated===void 0?null:I.globals.accumulated}],"+":[qr,$s(qr),function(I,k){for(var W=0,ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie];W+=Se.evaluate(I)}return W}],"*":[qr,$s(qr),function(I,k){for(var W=1,ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie];W*=Se.evaluate(I)}return W}],"-":{type:qr,overloads:[[[qr,qr],function(I,k){var W=k[0],ie=k[1];return W.evaluate(I)-ie.evaluate(I)}],[[qr],function(I,k){var W=k[0];return-W.evaluate(I)}]]},"/":[qr,[qr,qr],function(I,k){var W=k[0],ie=k[1];return W.evaluate(I)/ie.evaluate(I)}],"%":[qr,[qr,qr],function(I,k){var W=k[0],ie=k[1];return W.evaluate(I)%ie.evaluate(I)}],ln2:[qr,[],function(){return Math.LN2}],pi:[qr,[],function(){return Math.PI}],e:[qr,[],function(){return Math.E}],"^":[qr,[qr,qr],function(I,k){var W=k[0],ie=k[1];return Math.pow(W.evaluate(I),ie.evaluate(I))}],sqrt:[qr,[qr],function(I,k){var W=k[0];return Math.sqrt(W.evaluate(I))}],log10:[qr,[qr],function(I,k){var W=k[0];return Math.log(W.evaluate(I))/Math.LN10}],ln:[qr,[qr],function(I,k){var W=k[0];return Math.log(W.evaluate(I))}],log2:[qr,[qr],function(I,k){var W=k[0];return Math.log(W.evaluate(I))/Math.LN2}],sin:[qr,[qr],function(I,k){var W=k[0];return Math.sin(W.evaluate(I))}],cos:[qr,[qr],function(I,k){var W=k[0];return Math.cos(W.evaluate(I))}],tan:[qr,[qr],function(I,k){var W=k[0];return Math.tan(W.evaluate(I))}],asin:[qr,[qr],function(I,k){var W=k[0];return Math.asin(W.evaluate(I))}],acos:[qr,[qr],function(I,k){var W=k[0];return Math.acos(W.evaluate(I))}],atan:[qr,[qr],function(I,k){var W=k[0];return Math.atan(W.evaluate(I))}],min:[qr,$s(qr),function(I,k){return Math.min.apply(Math,k.map(function(W){return W.evaluate(I)}))}],max:[qr,$s(qr),function(I,k){return Math.max.apply(Math,k.map(function(W){return W.evaluate(I)}))}],abs:[qr,[qr],function(I,k){var W=k[0];return Math.abs(W.evaluate(I))}],round:[qr,[qr],function(I,k){var W=k[0],ie=W.evaluate(I);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[qr,[qr],function(I,k){var W=k[0];return Math.floor(W.evaluate(I))}],ceil:[qr,[qr],function(I,k){var W=k[0];return Math.ceil(W.evaluate(I))}],"filter-==":[Fn,[An,Un],function(I,k){var W=k[0],ie=k[1];return I.properties()[W.value]===ie.value}],"filter-id-==":[Fn,[Un],function(I,k){var W=k[0];return I.id()===W.value}],"filter-type-==":[Fn,[An],function(I,k){var W=k[0];return I.geometryType()===W.value}],"filter-<":[Fn,[An,Un],function(I,k){var W=k[0],ie=k[1],de=I.properties()[W.value],Se=ie.value;return typeof de==typeof Se&&de<Se}],"filter-id-<":[Fn,[Un],function(I,k){var W=k[0],ie=I.id(),de=W.value;return typeof ie==typeof de&&ie<de}],"filter->":[Fn,[An,Un],function(I,k){var W=k[0],ie=k[1],de=I.properties()[W.value],Se=ie.value;return typeof de==typeof Se&&de>Se}],"filter-id->":[Fn,[Un],function(I,k){var W=k[0],ie=I.id(),de=W.value;return typeof ie==typeof de&&ie>de}],"filter-<=":[Fn,[An,Un],function(I,k){var W=k[0],ie=k[1],de=I.properties()[W.value],Se=ie.value;return typeof de==typeof Se&&de<=Se}],"filter-id-<=":[Fn,[Un],function(I,k){var W=k[0],ie=I.id(),de=W.value;return typeof ie==typeof de&&ie<=de}],"filter->=":[Fn,[An,Un],function(I,k){var W=k[0],ie=k[1],de=I.properties()[W.value],Se=ie.value;return typeof de==typeof Se&&de>=Se}],"filter-id->=":[Fn,[Un],function(I,k){var W=k[0],ie=I.id(),de=W.value;return typeof ie==typeof de&&ie>=de}],"filter-has":[Fn,[Un],function(I,k){var W=k[0];return W.value in I.properties()}],"filter-has-id":[Fn,[],function(I){return I.id()!==null&&I.id()!==void 0}],"filter-type-in":[Fn,[wi(An)],function(I,k){var W=k[0];return W.value.indexOf(I.geometryType())>=0}],"filter-id-in":[Fn,[wi(Un)],function(I,k){var W=k[0];return W.value.indexOf(I.id())>=0}],"filter-in-small":[Fn,[An,wi(Un)],function(I,k){var W=k[0],ie=k[1];return ie.value.indexOf(I.properties()[W.value])>=0}],"filter-in-large":[Fn,[An,wi(Un)],function(I,k){var W=k[0],ie=k[1];return Qc(I.properties()[W.value],ie.value,0,ie.value.length-1)}],all:{type:Fn,overloads:[[[Fn,Fn],function(I,k){var W=k[0],ie=k[1];return W.evaluate(I)&&ie.evaluate(I)}],[$s(Fn),function(I,k){for(var W=0,ie=k;W<ie.length;W+=1){var de=ie[W];if(!de.evaluate(I))return!1}return!0}]]},any:{type:Fn,overloads:[[[Fn,Fn],function(I,k){var W=k[0],ie=k[1];return W.evaluate(I)||ie.evaluate(I)}],[$s(Fn),function(I,k){for(var W=0,ie=k;W<ie.length;W+=1){var de=ie[W];if(de.evaluate(I))return!0}return!1}]]},"!":[Fn,[Fn],function(I,k){var W=k[0];return!W.evaluate(I)}],"is-supported-script":[Fn,[An],function(I,k){var W=k[0],ie=I.globals&&I.globals.isSupportedScript;return ie?ie(W.evaluate(I)):!0}],upcase:[An,[An],function(I,k){var W=k[0];return W.evaluate(I).toUpperCase()}],downcase:[An,[An],function(I,k){var W=k[0];return W.evaluate(I).toLowerCase()}],concat:[An,$s(Un),function(I,k){return k.map(function(W){return ru(W.evaluate(I))}).join("")}],"resolved-locale":[An,[la],function(I,k){var W=k[0];return W.evaluate(I).resolvedLocale()}]});function du(I){return{result:"success",value:I}}function hl(I){return{result:"error",value:I}}function Js(I){return I["property-type"]==="data-driven"||I["property-type"]==="cross-faded-data-driven"}function ju(I){return!!I.expression&&I.expression.parameters.indexOf("zoom")>-1}function pu(I){return!!I.expression&&I.expression.interpolated}function yi(I){return I instanceof Number?"number":I instanceof String?"string":I instanceof Boolean?"boolean":Array.isArray(I)?"array":I===null?"null":typeof I}function gu(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function Rf(I){return I}function qc(I,k){var W=k.type==="color",ie=I.stops&&typeof I.stops[0][0]=="object",de=ie||I.property!==void 0,Se=ie||!de,Re=I.type||(pu(k)?"exponential":"interval");if(W&&(I=Dn({},I),I.stops&&(I.stops=I.stops.map(function(ra){return[ra[0],ai.parse(ra[1])]})),I.default?I.default=ai.parse(I.default):I.default=ai.parse(k.default)),I.colorSpace&&I.colorSpace!=="rgb"&&!Lf[I.colorSpace])throw new Error("Unknown color space: "+I.colorSpace);var Je,dt,St;if(Re==="exponential")Je=hc;else if(Re==="interval")Je=If;else if(Re==="categorical"){Je=Xu,dt=Object.create(null);for(var Rt=0,Yt=I.stops;Rt<Yt.length;Rt+=1){var ar=Yt[Rt];dt[ar[0]]=ar[1]}St=typeof I.stops[0][0]}else if(Re==="identity")Je=Zu;else throw new Error('Unknown function type "'+Re+'"');if(ie){for(var er={},mr=[],Br=0;Br<I.stops.length;Br++){var fn=I.stops[Br],rn=fn[0].zoom;er[rn]===void 0&&(er[rn]={zoom:rn,type:I.type,property:I.property,default:I.default,stops:[]},mr.push(rn)),er[rn].stops.push([fn[0].value,fn[1]])}for(var Pn=[],mn=0,Ln=mr;mn<Ln.length;mn+=1){var On=Ln[mn];Pn.push([er[On].zoom,qc(er[On],k)])}var Xn={name:"linear"};return{kind:"composite",interpolationType:Xn,interpolationFactor:Yi.interpolationFactor.bind(void 0,Xn),zoomStops:Pn.map(function(ra){return ra[0]}),evaluate:function(Aa,ga){var wa=Aa.zoom;return hc({stops:Pn,base:I.base},k,wa).evaluate(wa,ga)}}}else if(Se){var ia=Re==="exponential"?{name:"exponential",base:I.base!==void 0?I.base:1}:null;return{kind:"camera",interpolationType:ia,interpolationFactor:Yi.interpolationFactor.bind(void 0,ia),zoomStops:I.stops.map(function(ra){return ra[0]}),evaluate:function(ra){var Aa=ra.zoom;return Je(I,k,Aa,dt,St)}}}else return{kind:"source",evaluate:function(Aa,ga){var wa=ga&&ga.properties?ga.properties[I.property]:void 0;return wa===void 0?yu(I.default,k.default):Je(I,k,wa,dt,St)}}}function yu(I,k,W){if(I!==void 0)return I;if(k!==void 0)return k;if(W!==void 0)return W}function Xu(I,k,W,ie,de){var Se=typeof W===de?ie[W]:void 0;return yu(Se,I.default,k.default)}function If(I,k,W){if(yi(W)!=="number")return yu(I.default,k.default);var ie=I.stops.length;if(ie===1||W<=I.stops[0][0])return I.stops[0][1];if(W>=I.stops[ie-1][0])return I.stops[ie-1][1];var de=ou(I.stops.map(function(Se){return Se[0]}),W);return I.stops[de][1]}function hc(I,k,W){var ie=I.base!==void 0?I.base:1;if(yi(W)!=="number")return yu(I.default,k.default);var de=I.stops.length;if(de===1||W<=I.stops[0][0])return I.stops[0][1];if(W>=I.stops[de-1][0])return I.stops[de-1][1];var Se=ou(I.stops.map(function(Yt){return Yt[0]}),W),Re=Ku(W,ie,I.stops[Se][0],I.stops[Se+1][0]),Je=I.stops[Se][1],dt=I.stops[Se+1][1],St=Af[k.type]||Rf;if(I.colorSpace&&I.colorSpace!=="rgb"){var Rt=Lf[I.colorSpace];St=function(Yt,ar){return Rt.reverse(Rt.interpolate(Rt.forward(Yt),Rt.forward(ar),Re))}}return typeof Je.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var mr=Je.evaluate.apply(void 0,ar),Br=dt.evaluate.apply(void 0,ar);if(!(mr===void 0||Br===void 0))return St(mr,Br,Re)}}:St(Je,dt,Re)}function Zu(I,k,W){return k.type==="color"?W=ai.parse(W):k.type==="formatted"?W=so.fromString(W.toString()):k.type==="resolvedImage"?W=zo.fromString(W.toString()):yi(W)!==k.type&&(k.type!=="enum"||!k.values[W])&&(W=void 0),yu(W,I.default,k.default)}function Ku(I,k,W,ie){var de=ie-W,Se=I-W;return de===0?0:k===1?Se/de:(Math.pow(k,Se)-1)/(Math.pow(k,de)-1)}var vl=function(k,W){this.expression=k,this._warningHistory={},this._evaluator=new Rs,this._defaultValue=W?eh(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};vl.prototype.evaluateWithoutErrorHandling=function(k,W,ie,de,Se,Re){return this._evaluator.globals=k,this._evaluator.feature=W,this._evaluator.featureState=ie,this._evaluator.canonical=de,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Re,this.expression.evaluate(this._evaluator)},vl.prototype.evaluate=function(k,W,ie,de,Se,Re){this._evaluator.globals=k,this._evaluator.feature=W||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=de,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Re||null;try{var Je=this.expression.evaluate(this._evaluator);if(Je==null||typeof Je=="number"&&Je!==Je)return this._defaultValue;if(this._enumValues&&!(Je in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify(Je)+" instead.");return Je}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function $u(I){return Array.isArray(I)&&I.length>0&&typeof I[0]=="string"&&I[0]in vu}function dl(I,k){var W=new ks(vu,[],k?nv(k):void 0),ie=W.parse(I,void 0,void 0,void 0,k&&k.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?du(new vl(ie,k)):hl(W.errors)}var to=function(k,W){this.kind=k,this._styleExpression=W,this.isStateDependent=k!=="constant"&&!Rl(W.expression)};to.prototype.evaluateWithoutErrorHandling=function(k,W,ie,de,Se,Re){return this._styleExpression.evaluateWithoutErrorHandling(k,W,ie,de,Se,Re)},to.prototype.evaluate=function(k,W,ie,de,Se,Re){return this._styleExpression.evaluate(k,W,ie,de,Se,Re)};var Ds=function(k,W,ie,de){this.kind=k,this.zoomStops=ie,this._styleExpression=W,this.isStateDependent=k!=="camera"&&!Rl(W.expression),this.interpolationType=de};Ds.prototype.evaluateWithoutErrorHandling=function(k,W,ie,de,Se,Re){return this._styleExpression.evaluateWithoutErrorHandling(k,W,ie,de,Se,Re)},Ds.prototype.evaluate=function(k,W,ie,de,Se,Re){return this._styleExpression.evaluate(k,W,ie,de,Se,Re)},Ds.prototype.interpolationFactor=function(k,W,ie){return this.interpolationType?Yi.interpolationFactor(this.interpolationType,k,W,ie):0};function vc(I,k){if(I=dl(I,k),I.result==="error")return I;var W=I.value.expression,ie=iu(W);if(!ie&&!Js(k))return hl([new Er("","data expressions not supported")]);var de=Vu(W,["zoom"]);if(!de&&!ju(k))return hl([new Er("","zoom expressions not supported")]);var Se=Ju(W);if(!Se&&!de)return hl([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Er)return hl([Se]);if(Se instanceof Yi&&!pu(k))return hl([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return du(ie?new to("constant",I.value):new to("source",I.value));var Re=Se instanceof Yi?Se.interpolation:void 0;return du(ie?new Ds("camera",I.value,Se.labels,Re):new Ds("composite",I.value,Se.labels,Re))}var zl=function(k,W){this._parameters=k,this._specification=W,Dn(this,qc(this._parameters,this._specification))};zl.deserialize=function(k){return new zl(k._parameters,k._specification)},zl.serialize=function(k){return{_parameters:k._parameters,_specification:k._specification}};function kf(I,k){if(gu(I))return new zl(I,k);if($u(I)){var W=vc(I,k);if(W.result==="error")throw new Error(W.value.map(function(de){return de.key+": "+de.message}).join(", "));return W.value}else{var ie=I;return typeof I=="string"&&k.type==="color"&&(ie=ai.parse(I)),{kind:"constant",evaluate:function(){return ie}}}}function Ju(I){var k=null;if(I instanceof Xs)k=Ju(I.result);else if(I instanceof ps)for(var W=0,ie=I.args;W<ie.length;W+=1){var de=ie[W];if(k=Ju(de),k)break}else(I instanceof vs||I instanceof Yi)&&I.input instanceof lo&&I.input.name==="zoom"&&(k=I);return k instanceof Er||I.eachChild(function(Se){var Re=Ju(Se);Re instanceof Er?k=Re:!k&&Re?k=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):k&&Re&&k!==Re&&(k=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),k}function nv(I){var k={color:Cn,string:An,number:qr,enum:An,boolean:Fn,formatted:ya,resolvedImage:Ra};return I.type==="array"?wi(k[I.value]||Un,I.length):k[I.type]}function eh(I){return I.type==="color"&&gu(I.default)?new ai(0,0,0,0):I.type==="color"?ai.parse(I.default)||null:I.default===void 0?null:I.default}function Lo(I){var k=I.key,W=I.value,ie=I.valueSpec||{},de=I.objectElementValidators||{},Se=I.style,Re=I.styleSpec,Je=[],dt=yi(W);if(dt!=="object")return[new Fr(k,W,"object expected, "+dt+" found")];for(var St in W){var Rt=St.split(".")[0],Yt=ie[Rt]||ie["*"],ar=void 0;if(de[Rt])ar=de[Rt];else if(ie[Rt])ar=kr;else if(de["*"])ar=de["*"];else if(ie["*"])ar=kr;else{Je.push(new Fr(k,W[St],'unknown property "'+St+'"'));continue}Je=Je.concat(ar({key:(k&&k+".")+St,value:W[St],valueSpec:Yt,style:Se,styleSpec:Re,object:W,objectKey:St},W))}for(var er in ie)de[er]||ie[er].required&&ie[er].default===void 0&&W[er]===void 0&&Je.push(new Fr(k,W,'missing required property "'+er+'"'));return Je}function Qu(I){var k=I.value,W=I.valueSpec,ie=I.style,de=I.styleSpec,Se=I.key,Re=I.arrayElementValidator||kr;if(yi(k)!=="array")return[new Fr(Se,k,"array expected, "+yi(k)+" found")];if(W.length&&k.length!==W.length)return[new Fr(Se,k,"array length "+W.length+" expected, length "+k.length+" found")];if(W["min-length"]&&k.length<W["min-length"])return[new Fr(Se,k,"array length at least "+W["min-length"]+" expected, length "+k.length+" found")];var Je={type:W.value,values:W.values};de.$version<7&&(Je.function=W.function),yi(W.value)==="object"&&(Je=W.value);for(var dt=[],St=0;St<k.length;St++)dt=dt.concat(Re({array:k,arrayIndex:St,value:k[St],valueSpec:Je,style:ie,styleSpec:de,key:Se+"["+St+"]"}));return dt}function mu(I){var k=I.key,W=I.value,ie=I.valueSpec,de=yi(W);return de==="number"&&W!==W&&(de="NaN"),de!=="number"?[new Fr(k,W,"number expected, "+de+" found")]:"minimum"in ie&&W<ie.minimum?[new Fr(k,W,W+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&W>ie.maximum?[new Fr(k,W,W+" is greater than the maximum value "+ie.maximum)]:[]}function th(I){var k=I.valueSpec,W=yn(I.value.type),ie,de={},Se,Re,Je=W!=="categorical"&&I.value.property===void 0,dt=!Je,St=yi(I.value.stops)==="array"&&yi(I.value.stops[0])==="array"&&yi(I.value.stops[0][0])==="object",Rt=Lo({key:I.key,value:I.value,valueSpec:I.styleSpec.function,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{stops:Yt,default:mr}});return W==="identity"&&Je&&Rt.push(new Fr(I.key,I.value,'missing required property "property"')),W!=="identity"&&!I.value.stops&&Rt.push(new Fr(I.key,I.value,'missing required property "stops"')),W==="exponential"&&I.valueSpec.expression&&!pu(I.valueSpec)&&Rt.push(new Fr(I.key,I.value,"exponential functions not supported")),I.styleSpec.$version>=8&&(dt&&!Js(I.valueSpec)?Rt.push(new Fr(I.key,I.value,"property functions not supported")):Je&&!ju(I.valueSpec)&&Rt.push(new Fr(I.key,I.value,"zoom functions not supported"))),(W==="categorical"||St)&&I.value.property===void 0&&Rt.push(new Fr(I.key,I.value,'"property" property is required')),Rt;function Yt(Br){if(W==="identity")return[new Fr(Br.key,Br.value,'identity function may not have a "stops" property')];var fn=[],rn=Br.value;return fn=fn.concat(Qu({key:Br.key,value:rn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:ar})),yi(rn)==="array"&&rn.length===0&&fn.push(new Fr(Br.key,rn,"array must have at least one stop")),fn}function ar(Br){var fn=[],rn=Br.value,Pn=Br.key;if(yi(rn)!=="array")return[new Fr(Pn,rn,"array expected, "+yi(rn)+" found")];if(rn.length!==2)return[new Fr(Pn,rn,"array length 2 expected, length "+rn.length+" found")];if(St){if(yi(rn[0])!=="object")return[new Fr(Pn,rn,"object expected, "+yi(rn[0])+" found")];if(rn[0].zoom===void 0)return[new Fr(Pn,rn,"object stop key must have zoom")];if(rn[0].value===void 0)return[new Fr(Pn,rn,"object stop key must have value")];if(Re&&Re>yn(rn[0].zoom))return[new Fr(Pn,rn[0].zoom,"stop zoom values must appear in ascending order")];yn(rn[0].zoom)!==Re&&(Re=yn(rn[0].zoom),Se=void 0,de={}),fn=fn.concat(Lo({key:Pn+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:mu,value:er}}))}else fn=fn.concat(er({key:Pn+"[0]",value:rn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},rn));return $u(un(rn[1]))?fn.concat([new Fr(Pn+"[1]",rn[1],"expressions are not allowed in function stops.")]):fn.concat(kr({key:Pn+"[1]",value:rn[1],valueSpec:k,style:Br.style,styleSpec:Br.styleSpec}))}function er(Br,fn){var rn=yi(Br.value),Pn=yn(Br.value),mn=Br.value!==null?Br.value:fn;if(!ie)ie=rn;else if(rn!==ie)return[new Fr(Br.key,mn,rn+" stop domain type must match previous stop domain type "+ie)];if(rn!=="number"&&rn!=="string"&&rn!=="boolean")return[new Fr(Br.key,mn,"stop domain value must be a number, string, or boolean")];if(rn!=="number"&&W!=="categorical"){var Ln="number expected, "+rn+" found";return Js(k)&&W===void 0&&(Ln+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Fr(Br.key,mn,Ln)]}return W==="categorical"&&rn==="number"&&(!isFinite(Pn)||Math.floor(Pn)!==Pn)?[new Fr(Br.key,mn,"integer expected, found "+Pn)]:W!=="categorical"&&rn==="number"&&Se!==void 0&&Pn<Se?[new Fr(Br.key,mn,"stop domain values must appear in ascending order")]:(Se=Pn,W==="categorical"&&Pn in de?[new Fr(Br.key,mn,"stop domain values must be unique")]:(de[Pn]=!0,[]))}function mr(Br){return kr({key:Br.key,value:Br.value,valueSpec:k,style:Br.style,styleSpec:Br.styleSpec})}}function pl(I){var k=(I.expressionContext==="property"?vc:dl)(un(I.value),I.valueSpec);if(k.result==="error")return k.value.map(function(ie){return new Fr(""+I.key+ie.key,I.value,ie.message)});var W=k.value.expression||k.value._styleExpression.expression;if(I.expressionContext==="property"&&I.propertyKey==="text-font"&&!W.outputDefined())return[new Fr(I.key,I.value,'Invalid data expression for "'+I.propertyKey+'". Output values must be contained as literals within the expression.')];if(I.expressionContext==="property"&&I.propertyType==="layout"&&!Rl(W))return[new Fr(I.key,I.value,'"feature-state" data expressions are not supported with layout properties.')];if(I.expressionContext==="filter"&&!Rl(W))return[new Fr(I.key,I.value,'"feature-state" data expressions are not supported with filters.')];if(I.expressionContext&&I.expressionContext.indexOf("cluster")===0){if(!Vu(W,["zoom","feature-state"]))return[new Fr(I.key,I.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(I.expressionContext==="cluster-initial"&&!iu(W))return[new Fr(I.key,I.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function av(I){var k=I.value,W=I.key,ie=yi(k);return ie!=="boolean"?[new Fr(W,k,"boolean expected, "+ie+" found")]:[]}function Xo(I){var k=I.key,W=I.value,ie=yi(W);return ie!=="string"?[new Fr(k,W,"color expected, "+ie+" found")]:Oc(W)===null?[new Fr(k,W,'color expected, "'+W+'" found')]:[]}function qu(I){var k=I.key,W=I.value,ie=I.valueSpec,de=[];return Array.isArray(ie.values)?ie.values.indexOf(yn(W))===-1&&de.push(new Fr(k,W,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ie.values).indexOf(yn(W))===-1&&de.push(new Fr(k,W,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(W)+" found")),de}function Df(I){if(I===!0||I===!1)return!0;if(!Array.isArray(I)||I.length===0)return!1;switch(I[0]){case"has":return I.length>=2&&I[1]!=="$id"&&I[1]!=="$type";case"in":return I.length>=3&&(typeof I[1]!="string"||Array.isArray(I[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return I.length!==3||Array.isArray(I[1])||Array.isArray(I[2]);case"any":case"all":for(var k=0,W=I.slice(1);k<W.length;k+=1){var ie=W[k];if(!Df(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var Qs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function yl(I){if(I==null)return{filter:function(){return!0},needGeometry:!1};Df(I)||(I=tf(I));var k=dl(I,Qs);if(k.result==="error")throw new Error(k.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var W=ef(I);return{filter:function(ie,de,Se){return k.value.evaluate(ie,de,{},Se)},needGeometry:W}}function dc(I,k){return I<k?-1:I>k?1:0}function ef(I){if(!Array.isArray(I))return!1;if(I[0]==="within")return!0;for(var k=1;k<I.length;k++)if(ef(I[k]))return!0;return!1}function tf(I){if(!I)return!0;var k=I[0];if(I.length<=1)return k!=="any";var W=k==="=="?_f(I[1],I[2],"=="):k==="!="?Ol(_f(I[1],I[2],"==")):k==="<"||k===">"||k==="<="||k===">="?_f(I[1],I[2],k):k==="any"?rh(I.slice(1)):k==="all"?["all"].concat(I.slice(1).map(tf)):k==="none"?["all"].concat(I.slice(1).map(tf).map(Ol)):k==="in"?rf(I[1],I.slice(2)):k==="!in"?Ol(rf(I[1],I.slice(2))):k==="has"?pc(I[1]):k==="!has"?Ol(pc(I[1])):k==="within"?I:!0;return W}function _f(I,k,W){switch(I){case"$type":return["filter-type-"+W,k];case"$id":return["filter-id-"+W,k];default:return["filter-"+W,I,k]}}function rh(I){return["any"].concat(I.map(tf))}function rf(I,k){if(k.length===0)return!1;switch(I){case"$type":return["filter-type-in",["literal",k]];case"$id":return["filter-id-in",["literal",k]];default:return k.length>200&&!k.some(function(W){return typeof W!=typeof k[0]})?["filter-in-large",I,["literal",k.sort(dc)]]:["filter-in-small",I,["literal",k]]}}function pc(I){switch(I){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",I]}}function Ol(I){return["!",I]}function gc(I){return Df(un(I.value))?pl(Dn({},I,{expressionContext:"filter",valueSpec:{value:"boolean"}})):nf(I)}function nf(I){var k=I.value,W=I.key;if(yi(k)!=="array")return[new Fr(W,k,"array expected, "+yi(k)+" found")];var ie=I.styleSpec,de,Se=[];if(k.length<1)return[new Fr(W,k,"filter array must have at least 1 element")];switch(Se=Se.concat(qu({key:W+"[0]",value:k[0],valueSpec:ie.filter_operator,style:I.style,styleSpec:I.styleSpec})),yn(k[0])){case"<":case"<=":case">":case">=":k.length>=2&&yn(k[1])==="$type"&&Se.push(new Fr(W,k,'"$type" cannot be use with operator "'+k[0]+'"'));case"==":case"!=":k.length!==3&&Se.push(new Fr(W,k,'filter array for operator "'+k[0]+'" must have 3 elements'));case"in":case"!in":k.length>=2&&(de=yi(k[1]),de!=="string"&&Se.push(new Fr(W+"[1]",k[1],"string expected, "+de+" found")));for(var Re=2;Re<k.length;Re++)de=yi(k[Re]),yn(k[1])==="$type"?Se=Se.concat(qu({key:W+"["+Re+"]",value:k[Re],valueSpec:ie.geometry_type,style:I.style,styleSpec:I.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Se.push(new Fr(W+"["+Re+"]",k[Re],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var Je=1;Je<k.length;Je++)Se=Se.concat(nf({key:W+"["+Je+"]",value:k[Je],style:I.style,styleSpec:I.styleSpec}));break;case"has":case"!has":de=yi(k[1]),k.length!==2?Se.push(new Fr(W,k,'filter array for "'+k[0]+'" operator must have 2 elements')):de!=="string"&&Se.push(new Fr(W+"[1]",k[1],"string expected, "+de+" found"));break;case"within":de=yi(k[1]),k.length!==2?Se.push(new Fr(W,k,'filter array for "'+k[0]+'" operator must have 2 elements')):de!=="object"&&Se.push(new Fr(W+"[1]",k[1],"object expected, "+de+" found"));break}return Se}function nh(I,k){var W=I.key,ie=I.style,de=I.styleSpec,Se=I.value,Re=I.objectKey,Je=de[k+"_"+I.layerType];if(!Je)return[];var dt=Re.match(/^(.*)-transition$/);if(k==="paint"&&dt&&Je[dt[1]]&&Je[dt[1]].transition)return kr({key:W,value:Se,valueSpec:de.transition,style:ie,styleSpec:de});var St=I.valueSpec||Je[Re];if(!St)return[new Fr(W,Se,'unknown property "'+Re+'"')];var Rt;if(yi(Se)==="string"&&Js(St)&&!St.tokens&&(Rt=/^{([^}]+)}$/.exec(Se)))return[new Fr(W,Se,'"'+Re+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var Yt=[];return I.layerType==="symbol"&&(Re==="text-field"&&ie&&!ie.glyphs&&Yt.push(new Fr(W,Se,'use of "text-field" requires a style "glyphs" property')),Re==="text-font"&&gu(un(Se))&&yn(Se.type)==="identity"&&Yt.push(new Fr(W,Se,'"text-font" does not support identity functions'))),Yt.concat(kr({key:I.key,value:Se,valueSpec:St,style:ie,styleSpec:de,expressionContext:"property",propertyType:k,propertyKey:Re}))}function $e(I){return nh(I,"paint")}function nt(I){return nh(I,"layout")}function pt(I){var k=[],W=I.value,ie=I.key,de=I.style,Se=I.styleSpec;!W.type&&!W.ref&&k.push(new Fr(ie,W,'either "type" or "ref" is required'));var Re=yn(W.type),Je=yn(W.ref);if(W.id)for(var dt=yn(W.id),St=0;St<I.arrayIndex;St++){var Rt=de.layers[St];yn(Rt.id)===dt&&k.push(new Fr(ie,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Rt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(mr){mr in W&&k.push(new Fr(ie,W[mr],'"'+mr+'" is prohibited for ref layers'))});var Yt;de.layers.forEach(function(mr){yn(mr.id)===Je&&(Yt=mr)}),Yt?Yt.ref?k.push(new Fr(ie,W.ref,"ref cannot reference another ref layer")):Re=yn(Yt.type):k.push(new Fr(ie,W.ref,'ref layer "'+Je+'" not found'))}else if(Re!=="background")if(!W.source)k.push(new Fr(ie,W,'missing required property "source"'));else{var ar=de.sources&&de.sources[W.source],er=ar&&yn(ar.type);ar?er==="vector"&&Re==="raster"?k.push(new Fr(ie,W.source,'layer "'+W.id+'" requires a raster source')):er==="raster"&&Re!=="raster"?k.push(new Fr(ie,W.source,'layer "'+W.id+'" requires a vector source')):er==="vector"&&!W["source-layer"]?k.push(new Fr(ie,W,'layer "'+W.id+'" must specify a "source-layer"')):er==="raster-dem"&&Re!=="hillshade"?k.push(new Fr(ie,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):Re==="line"&&W.paint&&W.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&k.push(new Fr(ie,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):k.push(new Fr(ie,W.source,'source "'+W.source+'" not found'))}return k=k.concat(Lo({key:ie,value:W,valueSpec:Se.layer,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:ie+".type",value:W.type,valueSpec:Se.layer.type,style:I.style,styleSpec:I.styleSpec,object:W,objectKey:"type"})},filter:gc,layout:function(Br){return Lo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return nt(Dn({layerType:Re},rn))}}})},paint:function(Br){return Lo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return $e(Dn({layerType:Re},rn))}}})}}})),k}function wt(I){var k=I.value,W=I.key,ie=yi(k);return ie!=="string"?[new Fr(W,k,"string expected, "+ie+" found")]:[]}var _t={promoteId:Ot};function kt(I){var k=I.value,W=I.key,ie=I.styleSpec,de=I.style;if(!k.type)return[new Fr(W,k,'"type" is required')];var Se=yn(k.type),Re;switch(Se){case"vector":case"raster":case"raster-dem":return Re=Lo({key:W,value:k,valueSpec:ie["source_"+Se.replace("-","_")],style:I.style,styleSpec:ie,objectElementValidators:_t}),Re;case"geojson":if(Re=Lo({key:W,value:k,valueSpec:ie.source_geojson,style:de,styleSpec:ie,objectElementValidators:_t}),k.cluster)for(var Je in k.clusterProperties){var dt=k.clusterProperties[Je],St=dt[0],Rt=dt[1],Yt=typeof St=="string"?[St,["accumulated"],["get",Je]]:St;Re.push.apply(Re,pl({key:W+"."+Je+".map",value:Rt,expressionContext:"cluster-map"})),Re.push.apply(Re,pl({key:W+"."+Je+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return Re;case"video":return Lo({key:W,value:k,valueSpec:ie.source_video,style:de,styleSpec:ie});case"image":return Lo({key:W,value:k,valueSpec:ie.source_image,style:de,styleSpec:ie});case"canvas":return[new Fr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return qu({key:W+".type",value:k.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ie})}}function Ot(I){var k=I.key,W=I.value;if(yi(W)==="string")return wt({key:k,value:W});var ie=[];for(var de in W)ie.push.apply(ie,wt({key:k+"."+de,value:W[de]}));return ie}function dr(I){var k=I.value,W=I.styleSpec,ie=W.light,de=I.style,Se=[],Re=yi(k);if(k===void 0)return Se;if(Re!=="object")return Se=Se.concat([new Fr("light",k,"object expected, "+Re+" found")]),Se;for(var Je in k){var dt=Je.match(/^(.*)-transition$/);dt&&ie[dt[1]]&&ie[dt[1]].transition?Se=Se.concat(kr({key:Je,value:k[Je],valueSpec:W.transition,style:de,styleSpec:W})):ie[Je]?Se=Se.concat(kr({key:Je,value:k[Je],valueSpec:ie[Je],style:de,styleSpec:W})):Se=Se.concat([new Fr(Je,k[Je],'unknown property "'+Je+'"')])}return Se}function wr(I){return wt(I).length===0?[]:pl(I)}function or(I){return wt(I).length===0?[]:pl(I)}var Sr={"*":function(){return[]},array:Qu,boolean:av,number:mu,color:Xo,constants:bn,enum:qu,filter:gc,function:th,layer:pt,object:Lo,source:kt,light:dr,string:wt,formatted:wr,resolvedImage:or};function kr(I){var k=I.value,W=I.valueSpec,ie=I.styleSpec;if(W.expression&&gu(yn(k)))return th(I);if(W.expression&&$u(un(k)))return pl(I);if(W.type&&Sr[W.type])return Sr[W.type](I);var de=Lo(Dn({},I,{valueSpec:W.type?ie[W.type]:W}));return de}function Nr(I){var k=I.value,W=I.key,ie=wt(I);return ie.length||(k.indexOf("{fontstack}")===-1&&ie.push(new Fr(W,k,'"glyphs" url must include a "{fontstack}" token')),k.indexOf("{range}")===-1&&ie.push(new Fr(W,k,'"glyphs" url must include a "{range}" token'))),ie}function nn(I,k){k===void 0&&(k=Ar);var W=[];return W=W.concat(kr({key:"",value:I,valueSpec:k.$root,styleSpec:k,style:I,objectElementValidators:{glyphs:Nr,"*":function(){return[]}}})),I.constants&&(W=W.concat(bn({key:"constants",value:I.constants,style:I,styleSpec:k}))),wn(W)}nn.source=kn(kt),nn.light=kn(dr),nn.layer=kn(pt),nn.filter=kn(gc),nn.paintProperty=kn($e),nn.layoutProperty=kn(nt);function wn(I){return[].concat(I).sort(function(k,W){return k.line-W.line})}function kn(I){return function(){for(var k=[],W=arguments.length;W--;)k[W]=arguments[W];return wn(I.apply(this,k))}}var _n=nn,$n=_n.light,Ia=_n.paintProperty,ka=_n.layoutProperty;function _a(I,k){var W=!1;if(k&&k.length)for(var ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie];I.fire(new Ft(new Error(Se.message))),W=!0}return W}var Ba=mi,Ja=3;function mi(I,k,W){var ie=this.cells=[];if(I instanceof ArrayBuffer){this.arrayBuffer=I;var de=new Int32Array(this.arrayBuffer);I=de[0],k=de[1],W=de[2],this.d=k+2*W;for(var Se=0;Se<this.d*this.d;Se++){var Re=de[Ja+Se],Je=de[Ja+Se+1];ie.push(Re===Je?null:de.subarray(Re,Je))}var dt=de[Ja+ie.length],St=de[Ja+ie.length+1];this.keys=de.subarray(dt,St),this.bboxes=de.subarray(St),this.insert=this._insertReadonly}else{this.d=k+2*W;for(var Rt=0;Rt<this.d*this.d;Rt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=k,this.extent=I,this.padding=W,this.scale=k/I,this.uid=0;var Yt=W/k*I;this.min=-Yt,this.max=I+Yt}mi.prototype.insert=function(I,k,W,ie,de){this._forEachCell(k,W,ie,de,this._insertCell,this.uid++),this.keys.push(I),this.bboxes.push(k),this.bboxes.push(W),this.bboxes.push(ie),this.bboxes.push(de)},mi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},mi.prototype._insertCell=function(I,k,W,ie,de,Se){this.cells[de].push(Se)},mi.prototype.query=function(I,k,W,ie,de){var Se=this.min,Re=this.max;if(I<=Se&&k<=Se&&Re<=W&&Re<=ie&&!de)return Array.prototype.slice.call(this.keys);var Je=[],dt={};return this._forEachCell(I,k,W,ie,this._queryCell,Je,dt,de),Je},mi.prototype._queryCell=function(I,k,W,ie,de,Se,Re,Je){var dt=this.cells[de];if(dt!==null)for(var St=this.keys,Rt=this.bboxes,Yt=0;Yt<dt.length;Yt++){var ar=dt[Yt];if(Re[ar]===void 0){var er=ar*4;(Je?Je(Rt[er+0],Rt[er+1],Rt[er+2],Rt[er+3]):I<=Rt[er+2]&&k<=Rt[er+3]&&W>=Rt[er+0]&&ie>=Rt[er+1])?(Re[ar]=!0,Se.push(St[ar])):Re[ar]=!1}}},mi.prototype._forEachCell=function(I,k,W,ie,de,Se,Re,Je){for(var dt=this._convertToCellCoord(I),St=this._convertToCellCoord(k),Rt=this._convertToCellCoord(W),Yt=this._convertToCellCoord(ie),ar=dt;ar<=Rt;ar++)for(var er=St;er<=Yt;er++){var mr=this.d*er+ar;if(!(Je&&!Je(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&de.call(this,I,k,W,ie,mr,Se,Re,Je))return}},mi.prototype._convertFromCellCoord=function(I){return(I-this.padding)/this.scale},mi.prototype._convertToCellCoord=function(I){return Math.max(0,Math.min(this.d-1,Math.floor(I*this.scale)+this.padding))},mi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var I=this.cells,k=Ja+this.cells.length+1+1,W=0,ie=0;ie<this.cells.length;ie++)W+=this.cells[ie].length;var de=new Int32Array(k+W+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Se=k,Re=0;Re<I.length;Re++){var Je=I[Re];de[Ja+Re]=Se,de.set(Je,Se),Se+=Je.length}return de[Ja+I.length]=Se,de.set(this.keys,Se),Se+=this.keys.length,de[Ja+I.length+1]=Se,de.set(this.bboxes,Se),Se+=this.bboxes.length,de.buffer};var ji=a.ImageData,fe=a.ImageBitmap,Le={};function Be(I,k,W){W===void 0&&(W={}),Object.defineProperty(k,"_classRegistryKey",{value:I,writeable:!1}),Le[I]={klass:k,omit:W.omit||[],shallow:W.shallow||[]}}Be("Object",Object),Ba.serialize=function(k,W){var ie=k.toArrayBuffer();return W&&W.push(ie),{buffer:ie}},Ba.deserialize=function(k){return new Ba(k.buffer)},Be("Grid",Ba),Be("Color",ai),Be("Error",Error),Be("ResolvedImage",zo),Be("StylePropertyFunction",zl),Be("StyleExpression",vl,{omit:["_evaluator"]}),Be("ZoomDependentExpression",Ds),Be("ZoomConstantExpression",to),Be("CompoundExpression",lo,{omit:["_evaluate"]});for(var qe in vu)vu[qe]._classRegistryKey||Be("Expression_"+qe,vu[qe]);function rt(I){return I&&typeof ArrayBuffer<"u"&&(I instanceof ArrayBuffer||I.constructor&&I.constructor.name==="ArrayBuffer")}function ft(I){return fe&&I instanceof fe}function Pt(I,k){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp)return I;if(rt(I)||ft(I))return k&&k.push(I),I;if(ArrayBuffer.isView(I)){var W=I;return k&&k.push(W.buffer),W}if(I instanceof ji)return k&&k.push(I.data.buffer),I;if(Array.isArray(I)){for(var ie=[],de=0,Se=I;de<Se.length;de+=1){var Re=Se[de];ie.push(Pt(Re,k))}return ie}if(typeof I=="object"){var Je=I.constructor,dt=Je._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var St=Je.serialize?Je.serialize(I,k):{};if(!Je.serialize){for(var Rt in I)if(I.hasOwnProperty(Rt)&&!(Le[dt].omit.indexOf(Rt)>=0)){var Yt=I[Rt];St[Rt]=Le[dt].shallow.indexOf(Rt)>=0?Yt:Pt(Yt,k)}I instanceof Error&&(St.message=I.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(St.$name=dt),St}throw new Error("can't serialize object of type "+typeof I)}function At(I){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp||rt(I)||ft(I)||ArrayBuffer.isView(I)||I instanceof ji)return I;if(Array.isArray(I))return I.map(At);if(typeof I=="object"){var k=I.$name||"Object",W=Le[k],ie=W.klass;if(!ie)throw new Error("can't deserialize unregistered class "+k);if(ie.deserialize)return ie.deserialize(I);for(var de=Object.create(ie.prototype),Se=0,Re=Object.keys(I);Se<Re.length;Se+=1){var Je=Re[Se];if(Je!=="$name"){var dt=I[Je];de[Je]=Le[k].shallow.indexOf(Je)>=0?dt:At(dt)}}return de}throw new Error("can't deserialize object of type "+typeof I)}var Vt=function(){this.first=!0};Vt.prototype.update=function(k,W){var ie=Math.floor(k);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=k,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=W),k!==this.lastZoom?(this.lastZoom=k,this.lastFloorZoom=ie,!0):!1)};var Gt={"Latin-1 Supplement":function(I){return I>=128&&I<=255},Arabic:function(I){return I>=1536&&I<=1791},"Arabic Supplement":function(I){return I>=1872&&I<=1919},"Arabic Extended-A":function(I){return I>=2208&&I<=2303},"Hangul Jamo":function(I){return I>=4352&&I<=4607},"Unified Canadian Aboriginal Syllabics":function(I){return I>=5120&&I<=5759},Khmer:function(I){return I>=6016&&I<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(I){return I>=6320&&I<=6399},"General Punctuation":function(I){return I>=8192&&I<=8303},"Letterlike Symbols":function(I){return I>=8448&&I<=8527},"Number Forms":function(I){return I>=8528&&I<=8591},"Miscellaneous Technical":function(I){return I>=8960&&I<=9215},"Control Pictures":function(I){return I>=9216&&I<=9279},"Optical Character Recognition":function(I){return I>=9280&&I<=9311},"Enclosed Alphanumerics":function(I){return I>=9312&&I<=9471},"Geometric Shapes":function(I){return I>=9632&&I<=9727},"Miscellaneous Symbols":function(I){return I>=9728&&I<=9983},"Miscellaneous Symbols and Arrows":function(I){return I>=11008&&I<=11263},"CJK Radicals Supplement":function(I){return I>=11904&&I<=12031},"Kangxi Radicals":function(I){return I>=12032&&I<=12255},"Ideographic Description Characters":function(I){return I>=12272&&I<=12287},"CJK Symbols and Punctuation":function(I){return I>=12288&&I<=12351},Hiragana:function(I){return I>=12352&&I<=12447},Katakana:function(I){return I>=12448&&I<=12543},Bopomofo:function(I){return I>=12544&&I<=12591},"Hangul Compatibility Jamo":function(I){return I>=12592&&I<=12687},Kanbun:function(I){return I>=12688&&I<=12703},"Bopomofo Extended":function(I){return I>=12704&&I<=12735},"CJK Strokes":function(I){return I>=12736&&I<=12783},"Katakana Phonetic Extensions":function(I){return I>=12784&&I<=12799},"Enclosed CJK Letters and Months":function(I){return I>=12800&&I<=13055},"CJK Compatibility":function(I){return I>=13056&&I<=13311},"CJK Unified Ideographs Extension A":function(I){return I>=13312&&I<=19903},"Yijing Hexagram Symbols":function(I){return I>=19904&&I<=19967},"CJK Unified Ideographs":function(I){return I>=19968&&I<=40959},"Yi Syllables":function(I){return I>=40960&&I<=42127},"Yi Radicals":function(I){return I>=42128&&I<=42191},"Hangul Jamo Extended-A":function(I){return I>=43360&&I<=43391},"Hangul Syllables":function(I){return I>=44032&&I<=55215},"Hangul Jamo Extended-B":function(I){return I>=55216&&I<=55295},"Private Use Area":function(I){return I>=57344&&I<=63743},"CJK Compatibility Ideographs":function(I){return I>=63744&&I<=64255},"Arabic Presentation Forms-A":function(I){return I>=64336&&I<=65023},"Vertical Forms":function(I){return I>=65040&&I<=65055},"CJK Compatibility Forms":function(I){return I>=65072&&I<=65103},"Small Form Variants":function(I){return I>=65104&&I<=65135},"Arabic Presentation Forms-B":function(I){return I>=65136&&I<=65279},"Halfwidth and Fullwidth Forms":function(I){return I>=65280&&I<=65519}};function rr(I){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k];if(ln(ie.charCodeAt(0)))return!0}return!1}function Cr(I){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k];if(!Lr(ie.charCodeAt(0)))return!1}return!0}function Lr(I){return!(Gt.Arabic(I)||Gt["Arabic Supplement"](I)||Gt["Arabic Extended-A"](I)||Gt["Arabic Presentation Forms-A"](I)||Gt["Arabic Presentation Forms-B"](I))}function Qr(I){return I<11904?!1:!!(Gt["Bopomofo Extended"](I)||Gt.Bopomofo(I)||Gt["CJK Compatibility Forms"](I)||Gt["CJK Compatibility Ideographs"](I)||Gt["CJK Compatibility"](I)||Gt["CJK Radicals Supplement"](I)||Gt["CJK Strokes"](I)||Gt["CJK Symbols and Punctuation"](I)||Gt["CJK Unified Ideographs Extension A"](I)||Gt["CJK Unified Ideographs"](I)||Gt["Enclosed CJK Letters and Months"](I)||Gt["Halfwidth and Fullwidth Forms"](I)||Gt.Hiragana(I)||Gt["Ideographic Description Characters"](I)||Gt["Kangxi Radicals"](I)||Gt["Katakana Phonetic Extensions"](I)||Gt.Katakana(I)||Gt["Vertical Forms"](I)||Gt["Yi Radicals"](I)||Gt["Yi Syllables"](I))}function ln(I){return I===746||I===747?!0:I<4352?!1:!!(Gt["Bopomofo Extended"](I)||Gt.Bopomofo(I)||Gt["CJK Compatibility Forms"](I)&&!(I>=65097&&I<=65103)||Gt["CJK Compatibility Ideographs"](I)||Gt["CJK Compatibility"](I)||Gt["CJK Radicals Supplement"](I)||Gt["CJK Strokes"](I)||Gt["CJK Symbols and Punctuation"](I)&&!(I>=12296&&I<=12305)&&!(I>=12308&&I<=12319)&&I!==12336||Gt["CJK Unified Ideographs Extension A"](I)||Gt["CJK Unified Ideographs"](I)||Gt["Enclosed CJK Letters and Months"](I)||Gt["Hangul Compatibility Jamo"](I)||Gt["Hangul Jamo Extended-A"](I)||Gt["Hangul Jamo Extended-B"](I)||Gt["Hangul Jamo"](I)||Gt["Hangul Syllables"](I)||Gt.Hiragana(I)||Gt["Ideographic Description Characters"](I)||Gt.Kanbun(I)||Gt["Kangxi Radicals"](I)||Gt["Katakana Phonetic Extensions"](I)||Gt.Katakana(I)&&I!==12540||Gt["Halfwidth and Fullwidth Forms"](I)&&I!==65288&&I!==65289&&I!==65293&&!(I>=65306&&I<=65310)&&I!==65339&&I!==65341&&I!==65343&&!(I>=65371&&I<=65503)&&I!==65507&&!(I>=65512&&I<=65519)||Gt["Small Form Variants"](I)&&!(I>=65112&&I<=65118)&&!(I>=65123&&I<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](I)||Gt["Unified Canadian Aboriginal Syllabics Extended"](I)||Gt["Vertical Forms"](I)||Gt["Yijing Hexagram Symbols"](I)||Gt["Yi Syllables"](I)||Gt["Yi Radicals"](I))}function Rr(I){return!!(Gt["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||Gt["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||Gt["Letterlike Symbols"](I)||Gt["Number Forms"](I)||Gt["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||Gt["Control Pictures"](I)&&I!==9251||Gt["Optical Character Recognition"](I)||Gt["Enclosed Alphanumerics"](I)||Gt["Geometric Shapes"](I)||Gt["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||Gt["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||Gt["CJK Symbols and Punctuation"](I)||Gt.Katakana(I)||Gt["Private Use Area"](I)||Gt["CJK Compatibility Forms"](I)||Gt["Small Form Variants"](I)||Gt["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}function Ur(I){return!(ln(I)||Rr(I))}function Kr(I){return Gt.Arabic(I)||Gt["Arabic Supplement"](I)||Gt["Arabic Extended-A"](I)||Gt["Arabic Presentation Forms-A"](I)||Gt["Arabic Presentation Forms-B"](I)}function cn(I){return I>=1424&&I<=2303||Gt["Arabic Presentation Forms-A"](I)||Gt["Arabic Presentation Forms-B"](I)}function pn(I,k){return!(!k&&cn(I)||I>=2304&&I<=3583||I>=3840&&I<=4255||Gt.Khmer(I))}function tn(I){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k];if(cn(ie.charCodeAt(0)))return!0}return!1}function Gn(I,k){for(var W=0,ie=I;W<ie.length;W+=1){var de=ie[W];if(!pn(de.charCodeAt(0),k))return!1}return!0}var na={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ca=null,ta=na.unavailable,sa=null,ha=function(I){I&&typeof I=="string"&&I.indexOf("NetworkError")>-1&&(ta=na.error),ca&&ca(I)};function Ua(){Ca.fire(new tr("pluginStateChange",{pluginStatus:ta,pluginURL:sa}))}var Ca=new cr,Oa=function(){return ta},li=function(I){return I({pluginStatus:ta,pluginURL:sa}),Ca.on("pluginStateChange",I),I},Ki=function(I,k,W){if(W===void 0&&(W=!1),ta===na.deferred||ta===na.loading||ta===na.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=se.resolveURL(I),ta=na.deferred,ca=k,Ua(),W||di()},di=function(){if(ta!==na.deferred||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ta=na.loading,Ua(),sa&&Ut({url:sa},function(I){I?ha(I):(ta=na.loaded,Ua())})},ea={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ta===na.loaded||ea.applyArabicShaping!=null},isLoading:function(){return ta===na.loading},setState:function(k){ta=k.pluginStatus,sa=k.pluginURL},isParsed:function(){return ea.applyArabicShaping!=null&&ea.processBidirectionalText!=null&&ea.processStyledBidirectionalText!=null},getPluginURL:function(){return sa}},Ga=function(){!ea.isLoading()&&!ea.isLoaded()&&Oa()==="deferred"&&di()},Ma=function(k,W){this.zoom=k,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vt,this.transition={})};Ma.prototype.isSupportedScript=function(k){return Gn(k,ea.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var k=this.zoom,W=k-Math.floor(k),ie=this.crossFadingFactor();return k>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*W}};var Qa=function(k,W){this.property=k,this.value=W,this.expression=kf(W===void 0?k.specification.default:W,k.specification)};Qa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Qa.prototype.possiblyEvaluate=function(k,W,ie){return this.property.possiblyEvaluate(this,k,W,ie)};var Li=function(k){this.property=k,this.value=new Qa(k,void 0)};Li.prototype.transitioned=function(k,W){return new fo(this.property,this.value,W,x({},k.transition,this.transition),k.now)},Li.prototype.untransitioned=function(){return new fo(this.property,this.value,null,{},0)};var ui=function(k){this._properties=k,this._values=Object.create(k.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(k){return N(this._values[k].value.value)},ui.prototype.setValue=function(k,W){this._values.hasOwnProperty(k)||(this._values[k]=new Li(this._values[k].property)),this._values[k].value=new Qa(this._values[k].property,W===null?void 0:N(W))},ui.prototype.getTransition=function(k){return N(this._values[k].transition)},ui.prototype.setTransition=function(k,W){this._values.hasOwnProperty(k)||(this._values[k]=new Li(this._values[k].property)),this._values[k].transition=N(W)||void 0},ui.prototype.serialize=function(){for(var k={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var de=ie[W],Se=this.getValue(de);Se!==void 0&&(k[de]=Se);var Re=this.getTransition(de);Re!==void 0&&(k[de+"-transition"]=Re)}return k},ui.prototype.transitioned=function(k,W){for(var ie=new co(this._properties),de=0,Se=Object.keys(this._values);de<Se.length;de+=1){var Re=Se[de];ie._values[Re]=this._values[Re].transitioned(k,W._values[Re])}return ie},ui.prototype.untransitioned=function(){for(var k=new co(this._properties),W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var de=ie[W];k._values[de]=this._values[de].untransitioned()}return k};var fo=function(k,W,ie,de,Se){this.property=k,this.value=W,this.begin=Se+de.delay||0,this.end=this.begin+de.duration||0,k.specification.transition&&(de.delay||de.duration)&&(this.prior=ie)};fo.prototype.possiblyEvaluate=function(k,W,ie){var de=k.now||0,Se=this.value.possiblyEvaluate(k,W,ie),Re=this.prior;if(Re){if(de>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(de<this.begin)return Re.possiblyEvaluate(k,W,ie);var Je=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(Re.possiblyEvaluate(k,W,ie),Se,u(Je))}else return Se};var co=function(k){this._properties=k,this._values=Object.create(k.defaultTransitioningPropertyValues)};co.prototype.possiblyEvaluate=function(k,W,ie){for(var de=new Po(this._properties),Se=0,Re=Object.keys(this._values);Se<Re.length;Se+=1){var Je=Re[Se];de._values[Je]=this._values[Je].possiblyEvaluate(k,W,ie)}return de},co.prototype.hasTransition=function(){for(var k=0,W=Object.keys(this._values);k<W.length;k+=1){var ie=W[k];if(this._values[ie].prior)return!0}return!1};var mo=function(k){this._properties=k,this._values=Object.create(k.defaultPropertyValues)};mo.prototype.getValue=function(k){return N(this._values[k].value)},mo.prototype.setValue=function(k,W){this._values[k]=new Qa(this._values[k].property,W===null?void 0:N(W))},mo.prototype.serialize=function(){for(var k={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var de=ie[W],Se=this.getValue(de);Se!==void 0&&(k[de]=Se)}return k},mo.prototype.possiblyEvaluate=function(k,W,ie){for(var de=new Po(this._properties),Se=0,Re=Object.keys(this._values);Se<Re.length;Se+=1){var Je=Re[Se];de._values[Je]=this._values[Je].possiblyEvaluate(k,W,ie)}return de};var Pi=function(k,W,ie){this.property=k,this.value=W,this.parameters=ie};Pi.prototype.isConstant=function(){return this.value.kind==="constant"},Pi.prototype.constantOr=function(k){return this.value.kind==="constant"?this.value.value:k},Pi.prototype.evaluate=function(k,W,ie,de){return this.property.evaluate(this.value,this.parameters,k,W,ie,de)};var Po=function(k){this._properties=k,this._values=Object.create(k.defaultPossiblyEvaluatedValues)};Po.prototype.get=function(k){return this._values[k]};var ua=function(k){this.specification=k};ua.prototype.possiblyEvaluate=function(k,W){return k.expression.evaluate(W)},ua.prototype.interpolate=function(k,W,ie){var de=Af[this.specification.type];return de?de(k,W,ie):k};var Pa=function(k,W){this.specification=k,this.overrides=W};Pa.prototype.possiblyEvaluate=function(k,W,ie,de){return k.expression.kind==="constant"||k.expression.kind==="camera"?new Pi(this,{kind:"constant",value:k.expression.evaluate(W,null,{},ie,de)},W):new Pi(this,k.expression,W)},Pa.prototype.interpolate=function(k,W,ie){if(k.value.kind!=="constant"||W.value.kind!=="constant")return k;if(k.value.value===void 0||W.value.value===void 0)return new Pi(this,{kind:"constant",value:void 0},k.parameters);var de=Af[this.specification.type];return de?new Pi(this,{kind:"constant",value:de(k.value.value,W.value.value,ie)},k.parameters):k},Pa.prototype.evaluate=function(k,W,ie,de,Se,Re){return k.kind==="constant"?k.value:k.evaluate(W,ie,de,Se,Re)};var Zo=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,de,Se,Re){if(ie.value===void 0)return new Pi(this,{kind:"constant",value:void 0},de);if(ie.expression.kind==="constant"){var Je=ie.expression.evaluate(de,null,{},Se,Re),dt=ie.property.specification.type==="resolvedImage",St=dt&&typeof Je!="string"?Je.name:Je,Rt=this._calculate(St,St,St,de);return new Pi(this,{kind:"constant",value:Rt},de)}else if(ie.expression.kind==="camera"){var Yt=this._calculate(ie.expression.evaluate({zoom:de.zoom-1}),ie.expression.evaluate({zoom:de.zoom}),ie.expression.evaluate({zoom:de.zoom+1}),de);return new Pi(this,{kind:"constant",value:Yt},de)}else return new Pi(this,ie.expression,de)},k.prototype.evaluate=function(ie,de,Se,Re,Je,dt){if(ie.kind==="source"){var St=ie.evaluate(de,Se,Re,Je,dt);return this._calculate(St,St,St,de)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(de.zoom)-1},Se,Re),ie.evaluate({zoom:Math.floor(de.zoom)},Se,Re),ie.evaluate({zoom:Math.floor(de.zoom)+1},Se,Re),de):ie.value},k.prototype._calculate=function(ie,de,Se,Re){var Je=Re.zoom;return Je>Re.zoomHistory.lastIntegerZoom?{from:ie,to:de}:{from:Se,to:de}},k.prototype.interpolate=function(ie){return ie},k}(Pa),ts=function(k){this.specification=k};ts.prototype.possiblyEvaluate=function(k,W,ie,de){if(k.value!==void 0)if(k.expression.kind==="constant"){var Se=k.expression.evaluate(W,null,{},ie,de);return this._calculate(Se,Se,Se,W)}else return this._calculate(k.expression.evaluate(new Ma(Math.floor(W.zoom-1),W)),k.expression.evaluate(new Ma(Math.floor(W.zoom),W)),k.expression.evaluate(new Ma(Math.floor(W.zoom+1),W)),W)},ts.prototype._calculate=function(k,W,ie,de){var Se=de.zoom;return Se>de.zoomHistory.lastIntegerZoom?{from:k,to:W}:{from:ie,to:W}},ts.prototype.interpolate=function(k){return k};var xo=function(k){this.specification=k};xo.prototype.possiblyEvaluate=function(k,W,ie,de){return!!k.expression.evaluate(W,null,{},ie,de)},xo.prototype.interpolate=function(){return!1};var gi=function(k){this.properties=k,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in k){var ie=k[W];ie.specification.overridable&&this.overridableProperties.push(W);var de=this.defaultPropertyValues[W]=new Qa(ie,void 0),Se=this.defaultTransitionablePropertyValues[W]=new Li(ie);this.defaultTransitioningPropertyValues[W]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=de.possiblyEvaluate({})}};Be("DataDrivenProperty",Pa),Be("DataConstantProperty",ua),Be("CrossFadedDataDrivenProperty",Zo),Be("CrossFadedProperty",ts),Be("ColorRampProperty",xo);var ro="-transition",$i=function(I){function k(W,ie){if(I.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ie.layout&&(this._unevaluatedLayout=new mo(ie.layout)),ie.paint)){this._transitionablePaint=new ui(ie.paint);for(var de in W.paint)this.setPaintProperty(de,W.paint[de],{validate:!1});for(var Se in W.layout)this.setLayoutProperty(Se,W.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Po(ie.paint)}}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},k.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},k.prototype.setLayoutProperty=function(ie,de,Se){if(Se===void 0&&(Se={}),de!=null){var Re="layers."+this.id+".layout."+ie;if(this._validate(ka,Re,ie,de,Se))return}if(ie==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ie,de)},k.prototype.getPaintProperty=function(ie){return w(ie,ro)?this._transitionablePaint.getTransition(ie.slice(0,-ro.length)):this._transitionablePaint.getValue(ie)},k.prototype.setPaintProperty=function(ie,de,Se){if(Se===void 0&&(Se={}),de!=null){var Re="layers."+this.id+".paint."+ie;if(this._validate(Ia,Re,ie,de,Se))return!1}if(w(ie,ro))return this._transitionablePaint.setTransition(ie.slice(0,-ro.length),de||void 0),!1;var Je=this._transitionablePaint._values[ie],dt=Je.property.specification["property-type"]==="cross-faded-data-driven",St=Je.value.isDataDriven(),Rt=Je.value;this._transitionablePaint.setValue(ie,de),this._handleSpecialPaintPropertyUpdate(ie);var Yt=this._transitionablePaint._values[ie].value,ar=Yt.isDataDriven();return ar||St||dt||this._handleOverridablePaintPropertyUpdate(ie,Rt,Yt)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,de,Se){return!1},k.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},k.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},k.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},k.prototype.recalculate=function(ie,de){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,de)},k.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),D(ie,function(de,Se){return de!==void 0&&!(Se==="layout"&&!Object.keys(de).length)&&!(Se==="paint"&&!Object.keys(de).length)})},k.prototype._validate=function(ie,de,Se,Re,Je){return Je===void 0&&(Je={}),Je&&Je.validate===!1?!1:_a(this,ie.call(_n,{key:de,layerType:this.type,objectKey:Se,value:Re,styleSpec:Ar,style:{glyphs:!0,sprite:!0}}))},k.prototype.is3D=function(){return!1},k.prototype.isTileClipped=function(){return!1},k.prototype.hasOffscreenPass=function(){return!1},k.prototype.resize=function(){},k.prototype.isStateDependent=function(){for(var ie in this.paint._values){var de=this.paint.get(ie);if(!(!(de instanceof Pi)||!Js(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},k}(cr),_s={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},qs=function(k,W){this._structArray=k,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Fi=128,xu=5,qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};qa.serialize=function(k,W){return k._trim(),W&&(k.isTransferred=!0,W.push(k.arrayBuffer)),{length:k.length,arrayBuffer:k.arrayBuffer}},qa.deserialize=function(k){var W=Object.create(this.prototype);return W.arrayBuffer=k.arrayBuffer,W.length=k.length,W.capacity=k.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},qa.prototype.clear=function(){this.length=0},qa.prototype.resize=function(k){this.reserve(k),this.length=k},qa.prototype.reserve=function(k){if(k>this.capacity){this.capacity=Math.max(k,Math.floor(this.capacity*xu),Fi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Bi(I,k){k===void 0&&(k=1);var W=0,ie=0,de=I.map(function(Re){var Je=iv(Re.type),dt=W=V0(W,Math.max(k,Je)),St=Re.components||1;return ie=Math.max(ie,Je),W+=Je*St,{name:Re.name,type:Re.type,components:St,offset:dt}}),Se=V0(W,Math.max(ie,k));return{members:de,size:Se,alignment:k}}function iv(I){return _s[I].BYTES_PER_ELEMENT}function V0(I,k){return Math.ceil(I/k)*k}var yc=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,de)},k.prototype.emplace=function(ie,de,Se){var Re=ie*2;return this.int16[Re+0]=de,this.int16[Re+1]=Se,ie},k}(qa);yc.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",yc);var tp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,de,Se,Re)},k.prototype.emplace=function(ie,de,Se,Re,Je){var dt=ie*4;return this.int16[dt+0]=de,this.int16[dt+1]=Se,this.int16[dt+2]=Re,this.int16[dt+3]=Je,ie},k}(qa);tp.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",tp);var zf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,de,Se,Re,Je,dt)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St){var Rt=ie*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.int16[Rt+2]=Re,this.int16[Rt+3]=Je,this.int16[Rt+4]=dt,this.int16[Rt+5]=St,ie},k}(qa);zf.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",zf);var ah=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,de,Se,Re,Je,dt)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St){var Rt=ie*4,Yt=ie*8;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.uint8[Yt+4]=Re,this.uint8[Yt+5]=Je,this.uint8[Yt+6]=dt,this.uint8[Yt+7]=St,ie},k}(qa);ah.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",ah);var ih=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,de)},k.prototype.emplace=function(ie,de,Se){var Re=ie*2;return this.float32[Re+0]=de,this.float32[Re+1]=Se,ie},k}(qa);ih.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",ih);var xs=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er){var mr=ie*10;return this.uint16[mr+0]=de,this.uint16[mr+1]=Se,this.uint16[mr+2]=Re,this.uint16[mr+3]=Je,this.uint16[mr+4]=dt,this.uint16[mr+5]=St,this.uint16[mr+6]=Rt,this.uint16[mr+7]=Yt,this.uint16[mr+8]=ar,this.uint16[mr+9]=er,ie},k}(qa);xs.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",xs);var Of=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br){var fn=ie*12;return this.int16[fn+0]=de,this.int16[fn+1]=Se,this.int16[fn+2]=Re,this.int16[fn+3]=Je,this.uint16[fn+4]=dt,this.uint16[fn+5]=St,this.uint16[fn+6]=Rt,this.uint16[fn+7]=Yt,this.int16[fn+8]=ar,this.int16[fn+9]=er,this.int16[fn+10]=mr,this.int16[fn+11]=Br,ie},k}(qa);Of.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",Of);var rp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,de,Se)},k.prototype.emplace=function(ie,de,Se,Re){var Je=ie*3;return this.float32[Je+0]=de,this.float32[Je+1]=Se,this.float32[Je+2]=Re,ie},k}(qa);rp.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",rp);var np=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Se=ie*1;return this.uint32[Se+0]=de,ie},k}(qa);np.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",np);var ov=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt,St,Rt,Yt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,ie,de,Se,Re,Je,dt,St,Rt,Yt)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar){var er=ie*10,mr=ie*5;return this.int16[er+0]=de,this.int16[er+1]=Se,this.int16[er+2]=Re,this.int16[er+3]=Je,this.int16[er+4]=dt,this.int16[er+5]=St,this.uint32[mr+3]=Rt,this.uint16[er+8]=Yt,this.uint16[er+9]=ar,ie},k}(qa);ov.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",ov);var zv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,de,Se,Re,Je,dt)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St){var Rt=ie*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Se,this.int16[Rt+2]=Re,this.int16[Rt+3]=Je,this.int16[Rt+4]=dt,this.int16[Rt+5]=St,ie},k}(qa);zv.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",zv);var af=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je){var dt=this.length;return this.resize(dt+1),this.emplace(dt,ie,de,Se,Re,Je)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt){var St=ie*4,Rt=ie*8;return this.float32[St+0]=de,this.float32[St+1]=Se,this.float32[St+2]=Re,this.int16[Rt+6]=Je,this.int16[Rt+7]=dt,ie},k}(qa);af.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",af);var zs=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,de,Se,Re)},k.prototype.emplace=function(ie,de,Se,Re,Je){var dt=ie*12,St=ie*3;return this.uint8[dt+0]=de,this.uint8[dt+1]=Se,this.float32[St+1]=Re,this.float32[St+2]=Je,ie},k}(qa);zs.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",zs);var of=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,de,Se)},k.prototype.emplace=function(ie,de,Se,Re){var Je=ie*3;return this.uint16[Je+0]=de,this.uint16[Je+1]=Se,this.uint16[Je+2]=Re,ie},k}(qa);of.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",of);var sv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn){var Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn,Ln){var On=ie*24,Xn=ie*12,ia=ie*48;return this.int16[On+0]=de,this.int16[On+1]=Se,this.uint16[On+2]=Re,this.uint16[On+3]=Je,this.uint32[Xn+2]=dt,this.uint32[Xn+3]=St,this.uint32[Xn+4]=Rt,this.uint16[On+10]=Yt,this.uint16[On+11]=ar,this.uint16[On+12]=er,this.float32[Xn+7]=mr,this.float32[Xn+8]=Br,this.uint8[ia+36]=fn,this.uint8[ia+37]=rn,this.uint8[ia+38]=Pn,this.uint32[Xn+10]=mn,this.int16[On+22]=Ln,ie},k}(qa);sv.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",sv);var Ov=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn,Ln,On,Xn,ia,ra,Aa,ga,wa,Va,Sa,La){var Za=this.length;return this.resize(Za+1),this.emplace(Za,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn,Ln,On,Xn,ia,ra,Aa,ga,wa,Va,Sa,La)},k.prototype.emplace=function(ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn,Ln,On,Xn,ia,ra,Aa,ga,wa,Va,Sa,La,Za){var Na=ie*34,ci=ie*17;return this.int16[Na+0]=de,this.int16[Na+1]=Se,this.int16[Na+2]=Re,this.int16[Na+3]=Je,this.int16[Na+4]=dt,this.int16[Na+5]=St,this.int16[Na+6]=Rt,this.int16[Na+7]=Yt,this.uint16[Na+8]=ar,this.uint16[Na+9]=er,this.uint16[Na+10]=mr,this.uint16[Na+11]=Br,this.uint16[Na+12]=fn,this.uint16[Na+13]=rn,this.uint16[Na+14]=Pn,this.uint16[Na+15]=mn,this.uint16[Na+16]=Ln,this.uint16[Na+17]=On,this.uint16[Na+18]=Xn,this.uint16[Na+19]=ia,this.uint16[Na+20]=ra,this.uint16[Na+21]=Aa,this.uint16[Na+22]=ga,this.uint32[ci+12]=wa,this.float32[ci+13]=Va,this.float32[ci+14]=Sa,this.float32[ci+15]=La,this.float32[ci+16]=Za,ie},k}(qa);Ov.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",Ov);var oh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Se=ie*1;return this.float32[Se+0]=de,ie},k}(qa);oh.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",oh);var ap=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,de,Se)},k.prototype.emplace=function(ie,de,Se,Re){var Je=ie*3;return this.int16[Je+0]=de,this.int16[Je+1]=Se,this.int16[Je+2]=Re,ie},k}(qa);ap.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",ap);var Ff=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,de,Se)},k.prototype.emplace=function(ie,de,Se,Re){var Je=ie*2,dt=ie*4;return this.uint32[Je+0]=de,this.uint16[dt+2]=Se,this.uint16[dt+3]=Re,ie},k}(qa);Ff.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",Ff);var lv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,de)},k.prototype.emplace=function(ie,de,Se){var Re=ie*2;return this.uint16[Re+0]=de,this.uint16[Re+1]=Se,ie},k}(qa);lv.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",lv);var sh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Se=ie*1;return this.uint16[Se+0]=de,ie},k}(qa);sh.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",sh);var mc=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Se,Re){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,de,Se,Re)},k.prototype.emplace=function(ie,de,Se,Re,Je){var dt=ie*4;return this.float32[dt+0]=de,this.float32[dt+1]=Se,this.float32[dt+2]=Re,this.float32[dt+3]=Je,ie},k}(qa);mc.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",mc);var H0=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(k.prototype,W),k}(qs);H0.prototype.size=20;var ip=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new H0(this,ie)},k}(ov);Be("CollisionBoxArray",ip);var xc=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(k.prototype,W),k}(qs);xc.prototype.size=48;var op=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new xc(this,ie)},k}(sv);Be("PlacedSymbolArray",op);var lh=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(k.prototype,W),k}(qs);lh.prototype.size=68;var G0=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new lh(this,ie)},k}(Ov);Be("SymbolInstanceArray",G0);var W0=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},k}(oh);Be("GlyphOffsetArray",W0);var Fl=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getx=function(ie){return this.int16[ie*3+0]},k.prototype.gety=function(ie){return this.int16[ie*3+1]},k.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},k}(ap);Be("SymbolLineVertexArray",Fl);var Y0=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(k.prototype,W),k}(qs);Y0.prototype.size=8;var j0=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Y0(this,ie)},k}(Ff);Be("FeatureIndexArray",j0);var t1=Bi([{name:"a_pos",components:2,type:"Int16"}],4),X0=t1.members,bo=function(k){k===void 0&&(k=[]),this.segments=k};bo.prototype.prepareSegment=function(k,W,ie,de){var Se=this.segments[this.segments.length-1];return k>bo.MAX_VERTEX_ARRAY_LENGTH&&U("Max vertices per segment is "+bo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+k),(!Se||Se.vertexLength+k>bo.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==de)&&(Se={vertexOffset:W.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Se.sortKey=de),this.segments.push(Se)),Se},bo.prototype.get=function(){return this.segments},bo.prototype.destroy=function(){for(var k=0,W=this.segments;k<W.length;k+=1){var ie=W[k];for(var de in ie.vaos)ie.vaos[de].destroy()}},bo.simpleSegment=function(k,W,ie,de){return new bo([{vertexOffset:k,primitiveOffset:W,vertexLength:ie,primitiveLength:de,vaos:{},sortKey:0}])},bo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",bo);function ve(I,k){return I=h(Math.floor(I),0,255),k=h(Math.floor(k),0,255),256*I+k}var K=Bi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ge=C(function(I){function k(W,ie){var de,Se,Re,Je,dt,St,Rt,Yt;for(de=W.length&3,Se=W.length-de,Re=ie,dt=3432918353,St=461845907,Yt=0;Yt<Se;)Rt=W.charCodeAt(Yt)&255|(W.charCodeAt(++Yt)&255)<<8|(W.charCodeAt(++Yt)&255)<<16|(W.charCodeAt(++Yt)&255)<<24,++Yt,Rt=(Rt&65535)*dt+(((Rt>>>16)*dt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Re^=Rt,Re=Re<<13|Re>>>19,Je=(Re&65535)*5+(((Re>>>16)*5&65535)<<16)&4294967295,Re=(Je&65535)+27492+(((Je>>>16)+58964&65535)<<16);switch(Rt=0,de){case 3:Rt^=(W.charCodeAt(Yt+2)&255)<<16;case 2:Rt^=(W.charCodeAt(Yt+1)&255)<<8;case 1:Rt^=W.charCodeAt(Yt)&255,Rt=(Rt&65535)*dt+(((Rt>>>16)*dt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Re^=Rt}return Re^=W.length,Re^=Re>>>16,Re=(Re&65535)*2246822507+(((Re>>>16)*2246822507&65535)<<16)&4294967295,Re^=Re>>>13,Re=(Re&65535)*3266489909+(((Re>>>16)*3266489909&65535)<<16)&4294967295,Re^=Re>>>16,Re>>>0}I.exports=k}),te=C(function(I){function k(W,ie){for(var de=W.length,Se=ie^de,Re=0,Je;de>=4;)Je=W.charCodeAt(Re)&255|(W.charCodeAt(++Re)&255)<<8|(W.charCodeAt(++Re)&255)<<16|(W.charCodeAt(++Re)&255)<<24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Je^=Je>>>24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^Je,de-=4,++Re;switch(de){case 3:Se^=(W.charCodeAt(Re+2)&255)<<16;case 2:Se^=(W.charCodeAt(Re+1)&255)<<8;case 1:Se^=W.charCodeAt(Re)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}I.exports=k}),ye=ge,Fe=ge,Ke=te;ye.murmur3=Fe,ye.murmur2=Ke;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(k,W,ie,de){this.ids.push(Nt(k)),this.positions.push(W,ie,de)},ut.prototype.getPositions=function(k){for(var W=Nt(k),ie=0,de=this.ids.length-1;ie<de;){var Se=ie+de>>1;this.ids[Se]>=W?de=Se:ie=Se+1}for(var Re=[];this.ids[ie]===W;){var Je=this.positions[3*ie],dt=this.positions[3*ie+1],St=this.positions[3*ie+2];Re.push({index:Je,start:dt,end:St}),ie++}return Re},ut.serialize=function(k,W){var ie=new Float64Array(k.ids),de=new Uint32Array(k.positions);return qt(ie,de,0,ie.length-1),W&&W.push(ie.buffer,de.buffer),{ids:ie,positions:de}},ut.deserialize=function(k){var W=new ut;return W.ids=k.ids,W.positions=k.positions,W.indexed=!0,W};var Ct=Math.pow(2,53)-1;function Nt(I){var k=+I;return!isNaN(k)&&k<=Ct?k:ye(String(I))}function qt(I,k,W,ie){for(;W<ie;){for(var de=I[W+ie>>1],Se=W-1,Re=ie+1;;){do Se++;while(I[Se]<de);do Re--;while(I[Re]>de);if(Se>=Re)break;lr(I,Se,Re),lr(k,3*Se,3*Re),lr(k,3*Se+1,3*Re+1),lr(k,3*Se+2,3*Re+2)}Re-W<ie-Re?(qt(I,k,W,Re),W=Re+1):(qt(I,k,Re+1,ie),ie=Re)}}function lr(I,k,W){var ie=I[k];I[k]=I[W],I[W]=ie}Be("FeaturePositionMap",ut);var sr=function(k,W){this.gl=k.gl,this.location=W},Dr=function(I){function k(W,ie){I.call(this,W,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},k}(sr),Xr=function(I){function k(W,ie){I.call(this,W,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},k}(sr),jr=function(I){function k(W,ie){I.call(this,W,ie),this.current=[0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},k}(sr),Gr=function(I){function k(W,ie){I.call(this,W,ie),this.current=[0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},k}(sr),Jr=function(I){function k(W,ie){I.call(this,W,ie),this.current=[0,0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},k}(sr),vn=function(I){function k(W,ie){I.call(this,W,ie),this.current=ai.transparent}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},k}(sr),zn=new Float32Array(16),Vn=function(I){function k(W,ie){I.call(this,W,ie),this.current=zn}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var de=1;de<16;de++)if(ie[de]!==this.current[de]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},k}(sr);function Zn(I){return[ve(255*I.r,255*I.g),ve(255*I.b,255*I.a)]}var Kn=function(k,W,ie){this.value=k,this.uniformNames=W.map(function(de){return"u_"+de}),this.type=ie};Kn.prototype.setUniform=function(k,W,ie){k.set(ie.constantOr(this.value))},Kn.prototype.getBinding=function(k,W,ie){return this.type==="color"?new vn(k,W):new Xr(k,W)};var jn=function(k,W){this.uniformNames=W.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(k,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=k.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=k.tlbr},jn.prototype.setUniform=function(k,W,ie,de){var Se=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&k.set(Se)},jn.prototype.getBinding=function(k,W,ie){return ie.substr(0,9)==="u_pattern"?new Jr(k,W):new Xr(k,W)};var Jn=function(k,W,ie,de){this.expression=k,this.type=ie,this.maxValue=0,this.paintVertexAttributes=W.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new de};Jn.prototype.populatePaintArray=function(k,W,ie,de,Se){var Re=this.paintVertexArray.length,Je=this.expression.evaluate(new Ma(0),W,{},de,[],Se);this.paintVertexArray.resize(k),this._setPaintValue(Re,k,Je)},Jn.prototype.updatePaintArray=function(k,W,ie,de){var Se=this.expression.evaluate({zoom:0},ie,de);this._setPaintValue(k,W,Se)},Jn.prototype._setPaintValue=function(k,W,ie){if(this.type==="color")for(var de=Zn(ie),Se=k;Se<W;Se++)this.paintVertexArray.emplace(Se,de[0],de[1]);else{for(var Re=k;Re<W;Re++)this.paintVertexArray.emplace(Re,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},Jn.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var aa=function(k,W,ie,de,Se,Re){this.expression=k,this.uniformNames=W.map(function(Je){return"u_"+Je+"_t"}),this.type=ie,this.useIntegerZoom=de,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=W.map(function(Je){return{name:"a_"+Je,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new Re};aa.prototype.populatePaintArray=function(k,W,ie,de,Se){var Re=this.expression.evaluate(new Ma(this.zoom),W,{},de,[],Se),Je=this.expression.evaluate(new Ma(this.zoom+1),W,{},de,[],Se),dt=this.paintVertexArray.length;this.paintVertexArray.resize(k),this._setPaintValue(dt,k,Re,Je)},aa.prototype.updatePaintArray=function(k,W,ie,de){var Se=this.expression.evaluate({zoom:this.zoom},ie,de),Re=this.expression.evaluate({zoom:this.zoom+1},ie,de);this._setPaintValue(k,W,Se,Re)},aa.prototype._setPaintValue=function(k,W,ie,de){if(this.type==="color")for(var Se=Zn(ie),Re=Zn(de),Je=k;Je<W;Je++)this.paintVertexArray.emplace(Je,Se[0],Se[1],Re[0],Re[1]);else{for(var dt=k;dt<W;dt++)this.paintVertexArray.emplace(dt,ie,de);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(de))}},aa.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},aa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},aa.prototype.setUniform=function(k,W){var ie=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,de=h(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);k.set(de)},aa.prototype.getBinding=function(k,W,ie){return new Xr(k,W)};var fa=function(k,W,ie,de,Se,Re){this.expression=k,this.type=W,this.useIntegerZoom=ie,this.zoom=de,this.layerId=Re,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};fa.prototype.populatePaintArray=function(k,W,ie){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(k),this.zoomOutPaintVertexArray.resize(k),this._setPaintValues(de,k,W.patterns&&W.patterns[this.layerId],ie)},fa.prototype.updatePaintArray=function(k,W,ie,de,Se){this._setPaintValues(k,W,ie.patterns&&ie.patterns[this.layerId],Se)},fa.prototype._setPaintValues=function(k,W,ie,de){if(!(!de||!ie)){var Se=ie.min,Re=ie.mid,Je=ie.max,dt=de[Se],St=de[Re],Rt=de[Je];if(!(!dt||!St||!Rt))for(var Yt=k;Yt<W;Yt++)this.zoomInPaintVertexArray.emplace(Yt,St.tl[0],St.tl[1],St.br[0],St.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],St.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,St.tl[0],St.tl[1],St.br[0],St.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],St.pixelRatio,Rt.pixelRatio)}},fa.prototype.upload=function(k){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=k.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=k.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},fa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ba=function(k,W,ie){this.binders={},this._buffers=[];var de=[];for(var Se in k.paint._values)if(ie(Se)){var Re=k.paint.get(Se);if(!(!(Re instanceof Pi)||!Js(Re.property.specification))){var Je=Fa(Se,k.type),dt=Re.value,St=Re.property.specification.type,Rt=Re.property.useIntegerZoom,Yt=Re.property.specification["property-type"],ar=Yt==="cross-faded"||Yt==="cross-faded-data-driven";if(dt.kind==="constant")this.binders[Se]=ar?new jn(dt.value,Je):new Kn(dt.value,Je,St),de.push("/u_"+Se);else if(dt.kind==="source"||ar){var er=Ka(Se,St,"source");this.binders[Se]=ar?new fa(dt,St,Rt,W,er,k.id):new Jn(dt,Je,St,er),de.push("/a_"+Se)}else{var mr=Ka(Se,St,"composite");this.binders[Se]=new aa(dt,Je,St,Rt,W,mr),de.push("/z_"+Se)}}}this.cacheKey=de.sort().join("")};ba.prototype.getMaxValue=function(k){var W=this.binders[k];return W instanceof Jn||W instanceof aa?W.maxValue:0},ba.prototype.populatePaintArrays=function(k,W,ie,de,Se){for(var Re in this.binders){var Je=this.binders[Re];(Je instanceof Jn||Je instanceof aa||Je instanceof fa)&&Je.populatePaintArray(k,W,ie,de,Se)}},ba.prototype.setConstantPatternPositions=function(k,W){for(var ie in this.binders){var de=this.binders[ie];de instanceof jn&&de.setConstantPatternPositions(k,W)}},ba.prototype.updatePaintArrays=function(k,W,ie,de,Se){var Re=!1;for(var Je in k)for(var dt=W.getPositions(Je),St=0,Rt=dt;St<Rt.length;St+=1){var Yt=Rt[St],ar=ie.feature(Yt.index);for(var er in this.binders){var mr=this.binders[er];if((mr instanceof Jn||mr instanceof aa||mr instanceof fa)&&mr.expression.isStateDependent===!0){var Br=de.paint.get(er);mr.expression=Br.value,mr.updatePaintArray(Yt.start,Yt.end,ar,k[Je],Se),Re=!0}}}return Re},ba.prototype.defines=function(){var k=[];for(var W in this.binders){var ie=this.binders[W];(ie instanceof Kn||ie instanceof jn)&&k.push.apply(k,ie.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return k},ba.prototype.getBinderAttributes=function(){var k=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Jn||ie instanceof aa)for(var de=0;de<ie.paintVertexAttributes.length;de++)k.push(ie.paintVertexAttributes[de].name);else if(ie instanceof fa)for(var Se=0;Se<K.members.length;Se++)k.push(K.members[Se].name)}return k},ba.prototype.getBinderUniforms=function(){var k=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Kn||ie instanceof jn||ie instanceof aa)for(var de=0,Se=ie.uniformNames;de<Se.length;de+=1){var Re=Se[de];k.push(Re)}}return k},ba.prototype.getPaintVertexBuffers=function(){return this._buffers},ba.prototype.getUniforms=function(k,W){var ie=[];for(var de in this.binders){var Se=this.binders[de];if(Se instanceof Kn||Se instanceof jn||Se instanceof aa)for(var Re=0,Je=Se.uniformNames;Re<Je.length;Re+=1){var dt=Je[Re];if(W[dt]){var St=Se.getBinding(k,W[dt],dt);ie.push({name:dt,property:de,binding:St})}}}return ie},ba.prototype.setUniforms=function(k,W,ie,de){for(var Se=0,Re=W;Se<Re.length;Se+=1){var Je=Re[Se],dt=Je.name,St=Je.property,Rt=Je.binding;this.binders[St].setUniform(Rt,de,ie.get(St),dt)}},ba.prototype.updatePaintBuffers=function(k){this._buffers=[];for(var W in this.binders){var ie=this.binders[W];if(k&&ie instanceof fa){var de=k.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ie instanceof Jn||ie instanceof aa)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},ba.prototype.upload=function(k){for(var W in this.binders){var ie=this.binders[W];(ie instanceof Jn||ie instanceof aa||ie instanceof fa)&&ie.upload(k)}this.updatePaintBuffers()},ba.prototype.destroy=function(){for(var k in this.binders){var W=this.binders[k];(W instanceof Jn||W instanceof aa||W instanceof fa)&&W.destroy()}};var pa=function(k,W,ie){ie===void 0&&(ie=function(){return!0}),this.programConfigurations={};for(var de=0,Se=k;de<Se.length;de+=1){var Re=Se[de];this.programConfigurations[Re.id]=new ba(Re,W,ie)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};pa.prototype.populatePaintArrays=function(k,W,ie,de,Se,Re){for(var Je in this.programConfigurations)this.programConfigurations[Je].populatePaintArrays(k,W,de,Se,Re);W.id!==void 0&&this._featureMap.add(W.id,ie,this._bufferOffset,k),this._bufferOffset=k,this.needsUpload=!0},pa.prototype.updatePaintArrays=function(k,W,ie,de){for(var Se=0,Re=ie;Se<Re.length;Se+=1){var Je=Re[Se];this.needsUpload=this.programConfigurations[Je.id].updatePaintArrays(k,this._featureMap,W,Je,de)||this.needsUpload}},pa.prototype.get=function(k){return this.programConfigurations[k]},pa.prototype.upload=function(k){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(k);this.needsUpload=!1}},pa.prototype.destroy=function(){for(var k in this.programConfigurations)this.programConfigurations[k].destroy()};function Fa(I,k){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[I]||[I.replace(k+"-","").replace(/-/g,"_")]}function ri(I){var k={"line-pattern":{source:xs,composite:xs},"fill-pattern":{source:xs,composite:xs},"fill-extrusion-pattern":{source:xs,composite:xs}};return k[I]}function Ka(I,k,W){var ie={color:{source:ih,composite:mc},number:{source:oh,composite:ih}},de=ri(I);return de&&de[W]||ie[k][W]}Be("ConstantBinder",Kn),Be("CrossFadedConstantBinder",jn),Be("SourceExpressionBinder",Jn),Be("CrossFadedCompositeBinder",fa),Be("CompositeExpressionBinder",aa),Be("ProgramConfiguration",ba,{omit:["_buffers"]}),Be("ProgramConfigurationSet",pa);var Ea=8192,$a=15,Wa=Math.pow(2,$a-1)-1,fi=-Wa-1;function ii(I){for(var k=Ea/I.extent,W=I.loadGeometry(),ie=0;ie<W.length;ie++)for(var de=W[ie],Se=0;Se<de.length;Se++){var Re=de[Se],Je=Math.round(Re.x*k),dt=Math.round(Re.y*k);Re.x=h(Je,fi,Wa),Re.y=h(dt,fi,Wa),(Je<Re.x||Je>Re.x+1||dt<Re.y||dt>Re.y+1)&&U("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function Ii(I,k){return{type:I.type,id:I.id,properties:I.properties,geometry:k?ii(I):[]}}function ti(I,k,W,ie,de){I.emplaceBack(k*2+(ie+1)/2,W*2+(de+1)/2)}var Si=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new yc,this.indexArray=new of,this.segments=new bo,this.programConfigurations=new pa(k.layers,k.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Si.prototype.populate=function(k,W,ie){var de=this.layers[0],Se=[],Re=null;de.type==="circle"&&(Re=de.layout.get("circle-sort-key"));for(var Je=0,dt=k;Je<dt.length;Je+=1){var St=dt[Je],Rt=St.feature,Yt=St.id,ar=St.index,er=St.sourceLayerIndex,mr=this.layers[0]._featureFilter.needGeometry,Br=Ii(Rt,mr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Br,ie)){var fn=Re?Re.evaluate(Br,{},ie):void 0,rn={id:Yt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:er,index:ar,geometry:mr?Br.geometry:ii(Rt),patterns:{},sortKey:fn};Se.push(rn)}}Re&&Se.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var Pn=0,mn=Se;Pn<mn.length;Pn+=1){var Ln=mn[Pn],On=Ln,Xn=On.geometry,ia=On.index,ra=On.sourceLayerIndex,Aa=k[ia].feature;this.addFeature(Ln,Xn,ia,ie),W.featureIndex.insert(Aa,Xn,ia,ra,this.index)}},Si.prototype.update=function(k,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,W,this.stateDependentLayers,ie)},Si.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Si.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Si.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,X0),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Si.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Si.prototype.addFeature=function(k,W,ie,de){for(var Se=0,Re=W;Se<Re.length;Se+=1)for(var Je=Re[Se],dt=0,St=Je;dt<St.length;dt+=1){var Rt=St[dt],Yt=Rt.x,ar=Rt.y;if(!(Yt<0||Yt>=Ea||ar<0||ar>=Ea)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,k.sortKey),mr=er.vertexLength;ti(this.layoutVertexArray,Yt,ar,-1,-1),ti(this.layoutVertexArray,Yt,ar,1,-1),ti(this.layoutVertexArray,Yt,ar,1,1),ti(this.layoutVertexArray,Yt,ar,-1,1),this.indexArray.emplaceBack(mr,mr+1,mr+2),this.indexArray.emplaceBack(mr,mr+3,mr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,{},de)},Be("CircleBucket",Si,{omit:["layers"]});function Ya(I,k){for(var W=0;W<I.length;W++)if(bs(k,I[W]))return!0;for(var ie=0;ie<k.length;ie++)if(bs(I,k[ie]))return!0;return!!xl(I,k)}function ni(I,k,W){return!!(bs(I,k)||bu(k,I,W))}function Ji(I,k){if(I.length===1)return wu(k,I[0]);for(var W=0;W<k.length;W++)for(var ie=k[W],de=0;de<ie.length;de++)if(bs(I,ie[de]))return!0;for(var Se=0;Se<I.length;Se++)if(wu(k,I[Se]))return!0;for(var Re=0;Re<k.length;Re++)if(xl(I,k[Re]))return!0;return!1}function Ro(I,k,W){for(var ie=0;ie<k.length;ie++){var de=k[ie];if(I.length>=3){for(var Se=0;Se<de.length;Se++)if(bs(I,de[Se]))return!0}if(ml(I,de,W))return!0}return!1}function ml(I,k,W){if(I.length>1){if(xl(I,k))return!0;for(var ie=0;ie<k.length;ie++)if(bu(k[ie],I,W))return!0}for(var de=0;de<I.length;de++)if(bu(I[de],k,W))return!0;return!1}function xl(I,k){if(I.length===0||k.length===0)return!1;for(var W=0;W<I.length-1;W++)for(var ie=I[W],de=I[W+1],Se=0;Se<k.length-1;Se++){var Re=k[Se],Je=k[Se+1];if(Bl(ie,de,Re,Je))return!0}return!1}function Bl(I,k,W,ie){return B(I,W,ie)!==B(k,W,ie)&&B(I,k,W)!==B(I,k,ie)}function bu(I,k,W){var ie=W*W;if(k.length===1)return I.distSqr(k[0])<ie;for(var de=1;de<k.length;de++){var Se=k[de-1],Re=k[de];if(bc(I,Se,Re)<ie)return!0}return!1}function bc(I,k,W){var ie=k.distSqr(W);if(ie===0)return I.distSqr(k);var de=((I.x-k.x)*(W.x-k.x)+(I.y-k.y)*(W.y-k.y))/ie;return de<0?I.distSqr(k):de>1?I.distSqr(W):I.distSqr(W.sub(k)._mult(de)._add(k))}function wu(I,k){for(var W=!1,ie,de,Se,Re=0;Re<I.length;Re++){ie=I[Re];for(var Je=0,dt=ie.length-1;Je<ie.length;dt=Je++)de=ie[Je],Se=ie[dt],de.y>k.y!=Se.y>k.y&&k.x<(Se.x-de.x)*(k.y-de.y)/(Se.y-de.y)+de.x&&(W=!W)}return W}function bs(I,k){for(var W=!1,ie=0,de=I.length-1;ie<I.length;de=ie++){var Se=I[ie],Re=I[de];Se.y>k.y!=Re.y>k.y&&k.x<(Re.x-Se.x)*(k.y-Se.y)/(Re.y-Se.y)+Se.x&&(W=!W)}return W}function Tu(I,k,W,ie,de){for(var Se=0,Re=I;Se<Re.length;Se+=1){var Je=Re[Se];if(k<=Je.x&&W<=Je.y&&ie>=Je.x&&de>=Je.y)return!0}var dt=[new r(k,W),new r(k,de),new r(ie,de),new r(ie,W)];if(I.length>2)for(var St=0,Rt=dt;St<Rt.length;St+=1){var Yt=Rt[St];if(bs(I,Yt))return!0}for(var ar=0;ar<I.length-1;ar++){var er=I[ar],mr=I[ar+1];if(Os(er,mr,dt))return!0}return!1}function Os(I,k,W){var ie=W[0],de=W[2];if(I.x<ie.x&&k.x<ie.x||I.x>de.x&&k.x>de.x||I.y<ie.y&&k.y<ie.y||I.y>de.y&&k.y>de.y)return!1;var Se=B(I,k,W[0]);return Se!==B(I,k,W[1])||Se!==B(I,k,W[2])||Se!==B(I,k,W[3])}function ws(I,k,W){var ie=k.paint.get(I).value;return ie.kind==="constant"?ie.value:W.programConfigurations.get(k.id).getMaxValue(I)}function Nl(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])}function sf(I,k,W,ie,de){if(!k[0]&&!k[1])return I;var Se=r.convert(k)._mult(de);W==="viewport"&&Se._rotate(-ie);for(var Re=[],Je=0;Je<I.length;Je++){var dt=I[Je];Re.push(dt.sub(Se))}return Re}var Ul=new gi({"circle-sort-key":new Pa(Ar.layout_circle["circle-sort-key"])}),Fv=new gi({"circle-radius":new Pa(Ar.paint_circle["circle-radius"]),"circle-color":new Pa(Ar.paint_circle["circle-color"]),"circle-blur":new Pa(Ar.paint_circle["circle-blur"]),"circle-opacity":new Pa(Ar.paint_circle["circle-opacity"]),"circle-translate":new ua(Ar.paint_circle["circle-translate"]),"circle-translate-anchor":new ua(Ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ua(Ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ua(Ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pa(Ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pa(Ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pa(Ar.paint_circle["circle-stroke-opacity"])}),uh={paint:Fv,layout:Ul},Fo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var I=arguments,k=0,W=arguments.length;W--;)k+=I[W]*I[W];return Math.sqrt(k)});function Bv(){var I=new Fo(4);return Fo!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}function uv(I,k,W){var ie=k[0],de=k[1],Se=k[2],Re=k[3],Je=Math.sin(W),dt=Math.cos(W);return I[0]=ie*dt+Se*Je,I[1]=de*dt+Re*Je,I[2]=ie*-Je+Se*dt,I[3]=de*-Je+Re*dt,I}function is(){var I=new Fo(9);return Fo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I}function fh(I,k){var W=Math.sin(k),ie=Math.cos(k);return I[0]=ie,I[1]=W,I[2]=0,I[3]=-W,I[4]=ie,I[5]=0,I[6]=0,I[7]=0,I[8]=1,I}function Nv(){var I=new Fo(16);return Fo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=0,I[12]=0,I[13]=0,I[14]=0),I[0]=1,I[5]=1,I[10]=1,I[15]=1,I}function Uv(I){var k=new Fo(16);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k[3]=I[3],k[4]=I[4],k[5]=I[5],k[6]=I[6],k[7]=I[7],k[8]=I[8],k[9]=I[9],k[10]=I[10],k[11]=I[11],k[12]=I[12],k[13]=I[13],k[14]=I[14],k[15]=I[15],k}function Vv(I){return I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,I}function ch(I,k){var W=k[0],ie=k[1],de=k[2],Se=k[3],Re=k[4],Je=k[5],dt=k[6],St=k[7],Rt=k[8],Yt=k[9],ar=k[10],er=k[11],mr=k[12],Br=k[13],fn=k[14],rn=k[15],Pn=W*Je-ie*Re,mn=W*dt-de*Re,Ln=W*St-Se*Re,On=ie*dt-de*Je,Xn=ie*St-Se*Je,ia=de*St-Se*dt,ra=Rt*Br-Yt*mr,Aa=Rt*fn-ar*mr,ga=Rt*rn-er*mr,wa=Yt*fn-ar*Br,Va=Yt*rn-er*Br,Sa=ar*rn-er*fn,La=Pn*Sa-mn*Va+Ln*wa+On*ga-Xn*Aa+ia*ra;return La?(La=1/La,I[0]=(Je*Sa-dt*Va+St*wa)*La,I[1]=(de*Va-ie*Sa-Se*wa)*La,I[2]=(Br*ia-fn*Xn+rn*On)*La,I[3]=(ar*Xn-Yt*ia-er*On)*La,I[4]=(dt*ga-Re*Sa-St*Aa)*La,I[5]=(W*Sa-de*ga+Se*Aa)*La,I[6]=(fn*Ln-mr*ia-rn*mn)*La,I[7]=(Rt*ia-ar*Ln+er*mn)*La,I[8]=(Re*Va-Je*ga+St*ra)*La,I[9]=(ie*ga-W*Va-Se*ra)*La,I[10]=(mr*Xn-Br*Ln+rn*Pn)*La,I[11]=(Yt*Ln-Rt*Xn-er*Pn)*La,I[12]=(Je*Aa-Re*wa-dt*ra)*La,I[13]=(W*wa-ie*Aa+de*ra)*La,I[14]=(Br*mn-mr*On-fn*Pn)*La,I[15]=(Rt*On-Yt*mn+ar*Pn)*La,I):null}function hh(I,k,W){var ie=k[0],de=k[1],Se=k[2],Re=k[3],Je=k[4],dt=k[5],St=k[6],Rt=k[7],Yt=k[8],ar=k[9],er=k[10],mr=k[11],Br=k[12],fn=k[13],rn=k[14],Pn=k[15],mn=W[0],Ln=W[1],On=W[2],Xn=W[3];return I[0]=mn*ie+Ln*Je+On*Yt+Xn*Br,I[1]=mn*de+Ln*dt+On*ar+Xn*fn,I[2]=mn*Se+Ln*St+On*er+Xn*rn,I[3]=mn*Re+Ln*Rt+On*mr+Xn*Pn,mn=W[4],Ln=W[5],On=W[6],Xn=W[7],I[4]=mn*ie+Ln*Je+On*Yt+Xn*Br,I[5]=mn*de+Ln*dt+On*ar+Xn*fn,I[6]=mn*Se+Ln*St+On*er+Xn*rn,I[7]=mn*Re+Ln*Rt+On*mr+Xn*Pn,mn=W[8],Ln=W[9],On=W[10],Xn=W[11],I[8]=mn*ie+Ln*Je+On*Yt+Xn*Br,I[9]=mn*de+Ln*dt+On*ar+Xn*fn,I[10]=mn*Se+Ln*St+On*er+Xn*rn,I[11]=mn*Re+Ln*Rt+On*mr+Xn*Pn,mn=W[12],Ln=W[13],On=W[14],Xn=W[15],I[12]=mn*ie+Ln*Je+On*Yt+Xn*Br,I[13]=mn*de+Ln*dt+On*ar+Xn*fn,I[14]=mn*Se+Ln*St+On*er+Xn*rn,I[15]=mn*Re+Ln*Rt+On*mr+Xn*Pn,I}function no(I,k,W){var ie=W[0],de=W[1],Se=W[2],Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn;return k===I?(I[12]=k[0]*ie+k[4]*de+k[8]*Se+k[12],I[13]=k[1]*ie+k[5]*de+k[9]*Se+k[13],I[14]=k[2]*ie+k[6]*de+k[10]*Se+k[14],I[15]=k[3]*ie+k[7]*de+k[11]*Se+k[15]):(Re=k[0],Je=k[1],dt=k[2],St=k[3],Rt=k[4],Yt=k[5],ar=k[6],er=k[7],mr=k[8],Br=k[9],fn=k[10],rn=k[11],I[0]=Re,I[1]=Je,I[2]=dt,I[3]=St,I[4]=Rt,I[5]=Yt,I[6]=ar,I[7]=er,I[8]=mr,I[9]=Br,I[10]=fn,I[11]=rn,I[12]=Re*ie+Rt*de+mr*Se+k[12],I[13]=Je*ie+Yt*de+Br*Se+k[13],I[14]=dt*ie+ar*de+fn*Se+k[14],I[15]=St*ie+er*de+rn*Se+k[15]),I}function Fs(I,k,W){var ie=W[0],de=W[1],Se=W[2];return I[0]=k[0]*ie,I[1]=k[1]*ie,I[2]=k[2]*ie,I[3]=k[3]*ie,I[4]=k[4]*de,I[5]=k[5]*de,I[6]=k[6]*de,I[7]=k[7]*de,I[8]=k[8]*Se,I[9]=k[9]*Se,I[10]=k[10]*Se,I[11]=k[11]*Se,I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15],I}function Bs(I,k,W){var ie=Math.sin(W),de=Math.cos(W),Se=k[4],Re=k[5],Je=k[6],dt=k[7],St=k[8],Rt=k[9],Yt=k[10],ar=k[11];return k!==I&&(I[0]=k[0],I[1]=k[1],I[2]=k[2],I[3]=k[3],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[4]=Se*de+St*ie,I[5]=Re*de+Rt*ie,I[6]=Je*de+Yt*ie,I[7]=dt*de+ar*ie,I[8]=St*de-Se*ie,I[9]=Rt*de-Re*ie,I[10]=Yt*de-Je*ie,I[11]=ar*de-dt*ie,I}function Hv(I,k,W){var ie=Math.sin(W),de=Math.cos(W),Se=k[0],Re=k[1],Je=k[2],dt=k[3],St=k[4],Rt=k[5],Yt=k[6],ar=k[7];return k!==I&&(I[8]=k[8],I[9]=k[9],I[10]=k[10],I[11]=k[11],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[0]=Se*de+St*ie,I[1]=Re*de+Rt*ie,I[2]=Je*de+Yt*ie,I[3]=dt*de+ar*ie,I[4]=St*de-Se*ie,I[5]=Rt*de-Re*ie,I[6]=Yt*de-Je*ie,I[7]=ar*de-dt*ie,I}function sp(I,k,W,ie,de){var Se=1/Math.tan(k/2),Re;return I[0]=Se/W,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=Se,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=-1,I[12]=0,I[13]=0,I[15]=0,de!=null&&de!==1/0?(Re=1/(ie-de),I[10]=(de+ie)*Re,I[14]=2*de*ie*Re):(I[10]=-1,I[14]=-2*ie),I}function r1(I,k,W,ie,de,Se,Re){var Je=1/(k-W),dt=1/(ie-de),St=1/(Se-Re);return I[0]=-2*Je,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*dt,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*St,I[11]=0,I[12]=(k+W)*Je,I[13]=(de+ie)*dt,I[14]=(Re+Se)*St,I[15]=1,I}var n1=hh;function fv(){var I=new Fo(3);return Fo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0),I}function a1(I){var k=new Fo(3);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k}function Gv(I,k,W){return I[0]=k[0]+W[0],I[1]=k[1]+W[1],I[2]=k[2]+W[2],I}function i1(I,k,W){return I[0]=k[0]-W[0],I[1]=k[1]-W[1],I[2]=k[2]-W[2],I}function o1(I,k,W){return I[0]=k[0]*W,I[1]=k[1]*W,I[2]=k[2]*W,I}function lp(I,k){var W=k[0],ie=k[1],de=k[2],Se=W*W+ie*ie+de*de;return Se>0&&(Se=1/Math.sqrt(Se)),I[0]=k[0]*Se,I[1]=k[1]*Se,I[2]=k[2]*Se,I}function lS(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]}function uS(I,k,W){var ie=k[0],de=k[1],Se=k[2],Re=W[0],Je=W[1],dt=W[2];return I[0]=de*dt-Se*Je,I[1]=Se*Re-ie*dt,I[2]=ie*Je-de*Re,I}function fS(I,k,W){var ie=k[0],de=k[1],Se=k[2];return I[0]=ie*W[0]+de*W[3]+Se*W[6],I[1]=ie*W[1]+de*W[4]+Se*W[7],I[2]=ie*W[2]+de*W[5]+Se*W[8],I}var cS=i1;(function(){var I=fv();return function(k,W,ie,de,Se,Re){var Je,dt;for(W||(W=3),ie||(ie=0),de?dt=Math.min(de*W+ie,k.length):dt=k.length,Je=ie;Je<dt;Je+=W)I[0]=k[Je],I[1]=k[Je+1],I[2]=k[Je+2],Se(I,I,Re),k[Je]=I[0],k[Je+1]=I[1],k[Je+2]=I[2];return k}})();function hS(){var I=new Fo(4);return Fo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[3]=0),I}function vS(I,k,W){return I[0]=k[0]*W,I[1]=k[1]*W,I[2]=k[2]*W,I[3]=k[3]*W,I}function dS(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]+I[3]*k[3]}function Z0(I,k,W){var ie=k[0],de=k[1],Se=k[2],Re=k[3];return I[0]=W[0]*ie+W[4]*de+W[8]*Se+W[12]*Re,I[1]=W[1]*ie+W[5]*de+W[9]*Se+W[13]*Re,I[2]=W[2]*ie+W[6]*de+W[10]*Se+W[14]*Re,I[3]=W[3]*ie+W[7]*de+W[11]*Se+W[15]*Re,I}(function(){var I=hS();return function(k,W,ie,de,Se,Re){var Je,dt;for(W||(W=4),ie||(ie=0),de?dt=Math.min(de*W+ie,k.length):dt=k.length,Je=ie;Je<dt;Je+=W)I[0]=k[Je],I[1]=k[Je+1],I[2]=k[Je+2],I[3]=k[Je+3],Se(I,I,Re),k[Je]=I[0],k[Je+1]=I[1],k[Je+2]=I[2],k[Je+3]=I[3];return k}})();function pS(){var I=new Fo(2);return Fo!=Float32Array&&(I[0]=0,I[1]=0),I}function gS(I){var k=I[0],W=I[1];return k*k+W*W}var yS=gS;(function(){var I=pS();return function(k,W,ie,de,Se,Re){var Je,dt;for(W||(W=2),ie||(ie=0),de?dt=Math.min(de*W+ie,k.length):dt=k.length,Je=ie;Je<dt;Je+=W)I[0]=k[Je],I[1]=k[Je+1],Se(I,I,Re),k[Je]=I[0],k[Je+1]=I[1];return k}})();var mS=function(I){function k(W){I.call(this,W,uh)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new Si(ie)},k.prototype.queryRadius=function(ie){var de=ie;return ws("circle-radius",this,de)+ws("circle-stroke-width",this,de)+Nl(this.paint.get("circle-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Se,Re,Je,dt,St,Rt){for(var Yt=sf(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,St),ar=this.paint.get("circle-radius").evaluate(de,Se),er=this.paint.get("circle-stroke-width").evaluate(de,Se),mr=ar+er,Br=this.paint.get("circle-pitch-alignment")==="map",fn=Br?Yt:xS(Yt,Rt),rn=Br?mr*St:mr,Pn=0,mn=Re;Pn<mn.length;Pn+=1)for(var Ln=mn[Pn],On=0,Xn=Ln;On<Xn.length;On+=1){var ia=Xn[On],ra=Br?ia:rw(ia,Rt),Aa=rn,ga=Z0([],[ia.x,ia.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Aa*=ga[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Aa*=dt.cameraToCenterDistance/ga[3]),ni(fn,ra,Aa))return!0}return!1},k}($i);function rw(I,k){var W=Z0([],[I.x,I.y,0,1],k);return new r(W[0]/W[3],W[1]/W[3])}function xS(I,k){return I.map(function(W){return rw(W,k)})}var nw=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Si);Be("HeatmapBucket",nw,{omit:["layers"]});function s1(I,k,W,ie){var de=k.width,Se=k.height;if(!ie)ie=new Uint8Array(de*Se*W);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==de*Se*W)throw new RangeError("mismatched image size");return I.width=de,I.height=Se,I.data=ie,I}function aw(I,k,W){var ie=k.width,de=k.height;if(!(ie===I.width&&de===I.height)){var Se=s1({},{width:ie,height:de},W);l1(I,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(I.width,ie),height:Math.min(I.height,de)},W),I.width=ie,I.height=de,I.data=Se.data}}function l1(I,k,W,ie,de,Se){if(de.width===0||de.height===0)return k;if(de.width>I.width||de.height>I.height||W.x>I.width-de.width||W.y>I.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>k.width||de.height>k.height||ie.x>k.width-de.width||ie.y>k.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var Re=I.data,Je=k.data,dt=0;dt<de.height;dt++)for(var St=((W.y+dt)*I.width+W.x)*Se,Rt=((ie.y+dt)*k.width+ie.x)*Se,Yt=0;Yt<de.width*Se;Yt++)Je[Rt+Yt]=Re[St+Yt];return k}var cv=function(k,W){s1(this,k,1,W)};cv.prototype.resize=function(k){aw(this,k,1)},cv.prototype.clone=function(){return new cv({width:this.width,height:this.height},new Uint8Array(this.data))},cv.copy=function(k,W,ie,de,Se){l1(k,W,ie,de,Se,1)};var Ns=function(k,W){s1(this,k,4,W)};Ns.prototype.resize=function(k){aw(this,k,4)},Ns.prototype.replace=function(k,W){W?this.data.set(k):k instanceof Uint8ClampedArray?this.data=new Uint8Array(k.buffer):this.data=k},Ns.prototype.clone=function(){return new Ns({width:this.width,height:this.height},new Uint8Array(this.data))},Ns.copy=function(k,W,ie,de,Se){l1(k,W,ie,de,Se,4)},Be("AlphaImage",cv),Be("RGBAImage",Ns);var bS=new gi({"heatmap-radius":new Pa(Ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pa(Ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ua(Ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xo(Ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ua(Ar.paint_heatmap["heatmap-opacity"])}),wS={paint:bS};function iw(I){var k={},W=I.resolution||256,ie=I.clips?I.clips.length:1,de=I.image||new Ns({width:W,height:ie}),Se=function(Pn,mn,Ln){k[I.evaluationKey]=Ln;var On=I.expression.evaluate(k);de.data[Pn+mn+0]=Math.floor(On.r*255/On.a),de.data[Pn+mn+1]=Math.floor(On.g*255/On.a),de.data[Pn+mn+2]=Math.floor(On.b*255/On.a),de.data[Pn+mn+3]=Math.floor(On.a*255)};if(I.clips)for(var St=0,Rt=0;St<ie;++St,Rt+=W*4)for(var Yt=0,ar=0;Yt<W;Yt++,ar+=4){var er=Yt/(W-1),mr=I.clips[St],Br=mr.start,fn=mr.end,rn=Br*(1-er)+fn*er;Se(Rt,ar,rn)}else for(var Re=0,Je=0;Re<W;Re++,Je+=4){var dt=Re/(W-1);Se(0,Je,dt)}return de}var TS=function(I){function k(W){I.call(this,W,wS),this._updateColorRamp()}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new nw(ie)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},k.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=iw({expression:ie,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},k.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},k}($i),AS=new gi({"hillshade-illumination-direction":new ua(Ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ua(Ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ua(Ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ua(Ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ua(Ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ua(Ar.paint_hillshade["hillshade-accent-color"])}),SS={paint:AS},MS=function(I){function k(W){I.call(this,W,SS)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},k}($i),ES=Bi([{name:"a_pos",components:2,type:"Int16"}],4),CS=ES.members,u1=K0,LS=K0;function K0(I,k,W){W=W||2;var ie=k&&k.length,de=ie?k[0]*W:I.length,Se=ow(I,0,de,W,!0),Re=[];if(!Se||Se.next===Se.prev)return Re;var Je,dt,St,Rt,Yt,ar,er;if(ie&&(Se=DS(I,k,Se,W)),I.length>80*W){Je=St=I[0],dt=Rt=I[1];for(var mr=W;mr<de;mr+=W)Yt=I[mr],ar=I[mr+1],Yt<Je&&(Je=Yt),ar<dt&&(dt=ar),Yt>St&&(St=Yt),ar>Rt&&(Rt=ar);er=Math.max(St-Je,Rt-dt),er=er!==0?1/er:0}return up(Se,Re,W,Je,dt,er),Re}function ow(I,k,W,ie,de){var Se,Re;if(de===h1(I,k,W,ie)>0)for(Se=k;Se<W;Se+=ie)Re=uw(Se,I[Se],I[Se+1],Re);else for(Se=W-ie;Se>=k;Se-=ie)Re=uw(Se,I[Se],I[Se+1],Re);return Re&&$0(Re,Re.next)&&(cp(Re),Re=Re.next),Re}function vh(I,k){if(!I)return I;k||(k=I);var W=I,ie;do if(ie=!1,!W.steiner&&($0(W,W.next)||wo(W.prev,W,W.next)===0)){if(cp(W),W=k=W.prev,W===W.next)break;ie=!0}else W=W.next;while(ie||W!==k);return k}function up(I,k,W,ie,de,Se,Re){if(I){!Re&&Se&&BS(I,ie,de,Se);for(var Je=I,dt,St;I.prev!==I.next;){if(dt=I.prev,St=I.next,Se?RS(I,ie,de,Se):PS(I)){k.push(dt.i/W),k.push(I.i/W),k.push(St.i/W),cp(I),I=St.next,Je=St.next;continue}if(I=St,I===Je){Re?Re===1?(I=IS(vh(I),k,W),up(I,k,W,ie,de,Se,2)):Re===2&&kS(I,k,W,ie,de,Se):up(vh(I),k,W,ie,de,Se,1);break}}}}function PS(I){var k=I.prev,W=I,ie=I.next;if(wo(k,W,ie)>=0)return!1;for(var de=I.next.next;de!==I.prev;){if(Wv(k.x,k.y,W.x,W.y,ie.x,ie.y,de.x,de.y)&&wo(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function RS(I,k,W,ie){var de=I.prev,Se=I,Re=I.next;if(wo(de,Se,Re)>=0)return!1;for(var Je=de.x<Se.x?de.x<Re.x?de.x:Re.x:Se.x<Re.x?Se.x:Re.x,dt=de.y<Se.y?de.y<Re.y?de.y:Re.y:Se.y<Re.y?Se.y:Re.y,St=de.x>Se.x?de.x>Re.x?de.x:Re.x:Se.x>Re.x?Se.x:Re.x,Rt=de.y>Se.y?de.y>Re.y?de.y:Re.y:Se.y>Re.y?Se.y:Re.y,Yt=f1(Je,dt,k,W,ie),ar=f1(St,Rt,k,W,ie),er=I.prevZ,mr=I.nextZ;er&&er.z>=Yt&&mr&&mr.z<=ar;){if(er!==I.prev&&er!==I.next&&Wv(de.x,de.y,Se.x,Se.y,Re.x,Re.y,er.x,er.y)&&wo(er.prev,er,er.next)>=0||(er=er.prevZ,mr!==I.prev&&mr!==I.next&&Wv(de.x,de.y,Se.x,Se.y,Re.x,Re.y,mr.x,mr.y)&&wo(mr.prev,mr,mr.next)>=0))return!1;mr=mr.nextZ}for(;er&&er.z>=Yt;){if(er!==I.prev&&er!==I.next&&Wv(de.x,de.y,Se.x,Se.y,Re.x,Re.y,er.x,er.y)&&wo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;mr&&mr.z<=ar;){if(mr!==I.prev&&mr!==I.next&&Wv(de.x,de.y,Se.x,Se.y,Re.x,Re.y,mr.x,mr.y)&&wo(mr.prev,mr,mr.next)>=0)return!1;mr=mr.nextZ}return!0}function IS(I,k,W){var ie=I;do{var de=ie.prev,Se=ie.next.next;!$0(de,Se)&&sw(de,ie,ie.next,Se)&&fp(de,Se)&&fp(Se,de)&&(k.push(de.i/W),k.push(ie.i/W),k.push(Se.i/W),cp(ie),cp(ie.next),ie=I=Se),ie=ie.next}while(ie!==I);return vh(ie)}function kS(I,k,W,ie,de,Se){var Re=I;do{for(var Je=Re.next.next;Je!==Re.prev;){if(Re.i!==Je.i&&VS(Re,Je)){var dt=lw(Re,Je);Re=vh(Re,Re.next),dt=vh(dt,dt.next),up(Re,k,W,ie,de,Se),up(dt,k,W,ie,de,Se);return}Je=Je.next}Re=Re.next}while(Re!==I)}function DS(I,k,W,ie){var de=[],Se,Re,Je,dt,St;for(Se=0,Re=k.length;Se<Re;Se++)Je=k[Se]*ie,dt=Se<Re-1?k[Se+1]*ie:I.length,St=ow(I,Je,dt,ie,!1),St===St.next&&(St.steiner=!0),de.push(US(St));for(de.sort(_S),Se=0;Se<de.length;Se++)zS(de[Se],W),W=vh(W,W.next);return W}function _S(I,k){return I.x-k.x}function zS(I,k){if(k=OS(I,k),k){var W=lw(k,I);vh(k,k.next),vh(W,W.next)}}function OS(I,k){var W=k,ie=I.x,de=I.y,Se=-1/0,Re;do{if(de<=W.y&&de>=W.next.y&&W.next.y!==W.y){var Je=W.x+(de-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(Je<=ie&&Je>Se){if(Se=Je,Je===ie){if(de===W.y)return W;if(de===W.next.y)return W.next}Re=W.x<W.next.x?W:W.next}}W=W.next}while(W!==k);if(!Re)return null;if(ie===Se)return Re;var dt=Re,St=Re.x,Rt=Re.y,Yt=1/0,ar;W=Re;do ie>=W.x&&W.x>=St&&ie!==W.x&&Wv(de<Rt?ie:Se,de,St,Rt,de<Rt?Se:ie,de,W.x,W.y)&&(ar=Math.abs(de-W.y)/(ie-W.x),fp(W,I)&&(ar<Yt||ar===Yt&&(W.x>Re.x||W.x===Re.x&&FS(Re,W)))&&(Re=W,Yt=ar)),W=W.next;while(W!==dt);return Re}function FS(I,k){return wo(I.prev,I,k.prev)<0&&wo(k.next,I,I.next)<0}function BS(I,k,W,ie){var de=I;do de.z===null&&(de.z=f1(de.x,de.y,k,W,ie)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==I);de.prevZ.nextZ=null,de.prevZ=null,NS(de)}function NS(I){var k,W,ie,de,Se,Re,Je,dt,St=1;do{for(W=I,I=null,Se=null,Re=0;W;){for(Re++,ie=W,Je=0,k=0;k<St&&(Je++,ie=ie.nextZ,!!ie);k++);for(dt=St;Je>0||dt>0&&ie;)Je!==0&&(dt===0||!ie||W.z<=ie.z)?(de=W,W=W.nextZ,Je--):(de=ie,ie=ie.nextZ,dt--),Se?Se.nextZ=de:I=de,de.prevZ=Se,Se=de;W=ie}Se.nextZ=null,St*=2}while(Re>1);return I}function f1(I,k,W,ie,de){return I=32767*(I-W)*de,k=32767*(k-ie)*de,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,I|k<<1}function US(I){var k=I,W=I;do(k.x<W.x||k.x===W.x&&k.y<W.y)&&(W=k),k=k.next;while(k!==I);return W}function Wv(I,k,W,ie,de,Se,Re,Je){return(de-Re)*(k-Je)-(I-Re)*(Se-Je)>=0&&(I-Re)*(ie-Je)-(W-Re)*(k-Je)>=0&&(W-Re)*(Se-Je)-(de-Re)*(ie-Je)>=0}function VS(I,k){return I.next.i!==k.i&&I.prev.i!==k.i&&!HS(I,k)&&(fp(I,k)&&fp(k,I)&&GS(I,k)&&(wo(I.prev,I,k.prev)||wo(I,k.prev,k))||$0(I,k)&&wo(I.prev,I,I.next)>0&&wo(k.prev,k,k.next)>0)}function wo(I,k,W){return(k.y-I.y)*(W.x-k.x)-(k.x-I.x)*(W.y-k.y)}function $0(I,k){return I.x===k.x&&I.y===k.y}function sw(I,k,W,ie){var de=Q0(wo(I,k,W)),Se=Q0(wo(I,k,ie)),Re=Q0(wo(W,ie,I)),Je=Q0(wo(W,ie,k));return!!(de!==Se&&Re!==Je||de===0&&J0(I,W,k)||Se===0&&J0(I,ie,k)||Re===0&&J0(W,I,ie)||Je===0&&J0(W,k,ie))}function J0(I,k,W){return k.x<=Math.max(I.x,W.x)&&k.x>=Math.min(I.x,W.x)&&k.y<=Math.max(I.y,W.y)&&k.y>=Math.min(I.y,W.y)}function Q0(I){return I>0?1:I<0?-1:0}function HS(I,k){var W=I;do{if(W.i!==I.i&&W.next.i!==I.i&&W.i!==k.i&&W.next.i!==k.i&&sw(W,W.next,I,k))return!0;W=W.next}while(W!==I);return!1}function fp(I,k){return wo(I.prev,I,I.next)<0?wo(I,k,I.next)>=0&&wo(I,I.prev,k)>=0:wo(I,k,I.prev)<0||wo(I,I.next,k)<0}function GS(I,k){var W=I,ie=!1,de=(I.x+k.x)/2,Se=(I.y+k.y)/2;do W.y>Se!=W.next.y>Se&&W.next.y!==W.y&&de<(W.next.x-W.x)*(Se-W.y)/(W.next.y-W.y)+W.x&&(ie=!ie),W=W.next;while(W!==I);return ie}function lw(I,k){var W=new c1(I.i,I.x,I.y),ie=new c1(k.i,k.x,k.y),de=I.next,Se=k.prev;return I.next=k,k.prev=I,W.next=de,de.prev=W,ie.next=W,W.prev=ie,Se.next=ie,ie.prev=Se,ie}function uw(I,k,W,ie){var de=new c1(I,k,W);return ie?(de.next=ie.next,de.prev=ie,ie.next.prev=de,ie.next=de):(de.prev=de,de.next=de),de}function cp(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function c1(I,k,W){this.i=I,this.x=k,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}K0.deviation=function(I,k,W,ie){var de=k&&k.length,Se=de?k[0]*W:I.length,Re=Math.abs(h1(I,0,Se,W));if(de)for(var Je=0,dt=k.length;Je<dt;Je++){var St=k[Je]*W,Rt=Je<dt-1?k[Je+1]*W:I.length;Re-=Math.abs(h1(I,St,Rt,W))}var Yt=0;for(Je=0;Je<ie.length;Je+=3){var ar=ie[Je]*W,er=ie[Je+1]*W,mr=ie[Je+2]*W;Yt+=Math.abs((I[ar]-I[mr])*(I[er+1]-I[ar+1])-(I[ar]-I[er])*(I[mr+1]-I[ar+1]))}return Re===0&&Yt===0?0:Math.abs((Yt-Re)/Re)};function h1(I,k,W,ie){for(var de=0,Se=k,Re=W-ie;Se<W;Se+=ie)de+=(I[Re]-I[Se])*(I[Se+1]+I[Re+1]),Re=Se;return de}K0.flatten=function(I){for(var k=I[0][0].length,W={vertices:[],holes:[],dimensions:k},ie=0,de=0;de<I.length;de++){for(var Se=0;Se<I[de].length;Se++)for(var Re=0;Re<k;Re++)W.vertices.push(I[de][Se][Re]);de>0&&(ie+=I[de-1].length,W.holes.push(ie))}return W},u1.default=LS;function WS(I,k,W,ie,de){fw(I,k,W,ie||I.length-1,de||YS)}function fw(I,k,W,ie,de){for(;ie>W;){if(ie-W>600){var Se=ie-W+1,Re=k-W+1,Je=Math.log(Se),dt=.5*Math.exp(2*Je/3),St=.5*Math.sqrt(Je*dt*(Se-dt)/Se)*(Re-Se/2<0?-1:1),Rt=Math.max(W,Math.floor(k-Re*dt/Se+St)),Yt=Math.min(ie,Math.floor(k+(Se-Re)*dt/Se+St));fw(I,k,Rt,Yt,de)}var ar=I[k],er=W,mr=ie;for(hp(I,W,k),de(I[ie],ar)>0&&hp(I,W,ie);er<mr;){for(hp(I,er,mr),er++,mr--;de(I[er],ar)<0;)er++;for(;de(I[mr],ar)>0;)mr--}de(I[W],ar)===0?hp(I,W,mr):(mr++,hp(I,mr,ie)),mr<=k&&(W=mr+1),k<=mr&&(ie=mr-1)}}function hp(I,k,W){var ie=I[k];I[k]=I[W],I[W]=ie}function YS(I,k){return I<k?-1:I>k?1:0}function v1(I,k){var W=I.length;if(W<=1)return[I];for(var ie=[],de,Se,Re=0;Re<W;Re++){var Je=V(I[Re]);Je!==0&&(I[Re].area=Math.abs(Je),Se===void 0&&(Se=Je<0),Se===Je<0?(de&&ie.push(de),de=[I[Re]]):de.push(I[Re]))}if(de&&ie.push(de),k>1)for(var dt=0;dt<ie.length;dt++)ie[dt].length<=k||(WS(ie[dt],k,1,ie[dt].length-1,jS),ie[dt]=ie[dt].slice(0,k));return ie}function jS(I,k){return k.area-I.area}function d1(I,k,W){for(var ie=W.patternDependencies,de=!1,Se=0,Re=k;Se<Re.length;Se+=1){var Je=Re[Se],dt=Je.paint.get(I+"-pattern");dt.isConstant()||(de=!0);var St=dt.constantOr(null);St&&(de=!0,ie[St.to]=!0,ie[St.from]=!0)}return de}function p1(I,k,W,ie,de){for(var Se=de.patternDependencies,Re=0,Je=k;Re<Je.length;Re+=1){var dt=Je[Re],St=dt.paint.get(I+"-pattern"),Rt=St.value;if(Rt.kind!=="constant"){var Yt=Rt.evaluate({zoom:ie-1},W,{},de.availableImages),ar=Rt.evaluate({zoom:ie},W,{},de.availableImages),er=Rt.evaluate({zoom:ie+1},W,{},de.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,Se[Yt]=!0,Se[ar]=!0,Se[er]=!0,W.patterns[dt.id]={min:Yt,mid:ar,max:er}}}return W}var XS=500,lf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new yc,this.indexArray=new of,this.indexArray2=new lv,this.programConfigurations=new pa(k.layers,k.zoom),this.segments=new bo,this.segments2=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};lf.prototype.populate=function(k,W,ie){this.hasPattern=d1("fill",this.layers,W);for(var de=this.layers[0].layout.get("fill-sort-key"),Se=[],Re=0,Je=k;Re<Je.length;Re+=1){var dt=Je[Re],St=dt.feature,Rt=dt.id,Yt=dt.index,ar=dt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,mr=Ii(St,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),mr,ie)){var Br=de?de.evaluate(mr,{},ie,W.availableImages):void 0,fn={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ar,index:Yt,geometry:er?mr.geometry:ii(St),patterns:{},sortKey:Br};Se.push(fn)}}de&&Se.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var rn=0,Pn=Se;rn<Pn.length;rn+=1){var mn=Pn[rn],Ln=mn,On=Ln.geometry,Xn=Ln.index,ia=Ln.sourceLayerIndex;if(this.hasPattern){var ra=p1("fill",this.layers,mn,this.zoom,W);this.patternFeatures.push(ra)}else this.addFeature(mn,On,Xn,ie,{});var Aa=k[Xn].feature;W.featureIndex.insert(Aa,On,Xn,ia,this.index)}},lf.prototype.update=function(k,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,W,this.stateDependentLayers,ie)},lf.prototype.addFeatures=function(k,W,ie){for(var de=0,Se=this.patternFeatures;de<Se.length;de+=1){var Re=Se[de];this.addFeature(Re,Re.geometry,Re.index,W,ie)}},lf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},lf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,CS),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.indexBuffer2=k.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(k),this.uploaded=!0},lf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},lf.prototype.addFeature=function(k,W,ie,de,Se){for(var Re=0,Je=v1(W,XS);Re<Je.length;Re+=1){for(var dt=Je[Re],St=0,Rt=0,Yt=dt;Rt<Yt.length;Rt+=1){var ar=Yt[Rt];St+=ar.length}for(var er=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),mr=er.vertexLength,Br=[],fn=[],rn=0,Pn=dt;rn<Pn.length;rn+=1){var mn=Pn[rn];if(mn.length!==0){mn!==dt[0]&&fn.push(Br.length/2);var Ln=this.segments2.prepareSegment(mn.length,this.layoutVertexArray,this.indexArray2),On=Ln.vertexLength;this.layoutVertexArray.emplaceBack(mn[0].x,mn[0].y),this.indexArray2.emplaceBack(On+mn.length-1,On),Br.push(mn[0].x),Br.push(mn[0].y);for(var Xn=1;Xn<mn.length;Xn++)this.layoutVertexArray.emplaceBack(mn[Xn].x,mn[Xn].y),this.indexArray2.emplaceBack(On+Xn-1,On+Xn),Br.push(mn[Xn].x),Br.push(mn[Xn].y);Ln.vertexLength+=mn.length,Ln.primitiveLength+=mn.length}}for(var ia=u1(Br,fn),ra=0;ra<ia.length;ra+=3)this.indexArray.emplaceBack(mr+ia[ra],mr+ia[ra+1],mr+ia[ra+2]);er.vertexLength+=St,er.primitiveLength+=ia.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,de)},Be("FillBucket",lf,{omit:["layers","patternFeatures"]});var ZS=new gi({"fill-sort-key":new Pa(Ar.layout_fill["fill-sort-key"])}),KS=new gi({"fill-antialias":new ua(Ar.paint_fill["fill-antialias"]),"fill-opacity":new Pa(Ar.paint_fill["fill-opacity"]),"fill-color":new Pa(Ar.paint_fill["fill-color"]),"fill-outline-color":new Pa(Ar.paint_fill["fill-outline-color"]),"fill-translate":new ua(Ar.paint_fill["fill-translate"]),"fill-translate-anchor":new ua(Ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zo(Ar.paint_fill["fill-pattern"])}),$S={paint:KS,layout:ZS},JS=function(I){function k(W){I.call(this,W,$S)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,de){I.prototype.recalculate.call(this,ie,de);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},k.prototype.createBucket=function(ie){return new lf(ie)},k.prototype.queryRadius=function(){return Nl(this.paint.get("fill-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Se,Re,Je,dt,St){var Rt=sf(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,St);return Ji(Rt,Re)},k.prototype.isTileClipped=function(){return!0},k}($i),QS=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),qS=QS.members,cw=Yv;function Yv(I,k,W,ie,de){this.properties={},this.extent=W,this.type=0,this._pbf=I,this._geometry=-1,this._keys=ie,this._values=de,I.readFields(eM,this,k)}function eM(I,k,W){I==1?k.id=W.readVarint():I==2?tM(W,k):I==3?k.type=W.readVarint():I==4&&(k._geometry=W.pos)}function tM(I,k){for(var W=I.readVarint()+I.pos;I.pos<W;){var ie=k._keys[I.readVarint()],de=k._values[I.readVarint()];k.properties[ie]=de}}Yv.types=["Unknown","Point","LineString","Polygon"],Yv.prototype.loadGeometry=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,W=1,ie=0,de=0,Se=0,Re=[],Je;I.pos<k;){if(ie<=0){var dt=I.readVarint();W=dt&7,ie=dt>>3}if(ie--,W===1||W===2)de+=I.readSVarint(),Se+=I.readSVarint(),W===1&&(Je&&Re.push(Je),Je=[]),Je.push(new r(de,Se));else if(W===7)Je&&Je.push(Je[0].clone());else throw new Error("unknown command "+W)}return Je&&Re.push(Je),Re},Yv.prototype.bbox=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,W=1,ie=0,de=0,Se=0,Re=1/0,Je=-1/0,dt=1/0,St=-1/0;I.pos<k;){if(ie<=0){var Rt=I.readVarint();W=Rt&7,ie=Rt>>3}if(ie--,W===1||W===2)de+=I.readSVarint(),Se+=I.readSVarint(),de<Re&&(Re=de),de>Je&&(Je=de),Se<dt&&(dt=Se),Se>St&&(St=Se);else if(W!==7)throw new Error("unknown command "+W)}return[Re,dt,Je,St]},Yv.prototype.toGeoJSON=function(I,k,W){var ie=this.extent*Math.pow(2,W),de=this.extent*I,Se=this.extent*k,Re=this.loadGeometry(),Je=Yv.types[this.type],dt,St;function Rt(er){for(var mr=0;mr<er.length;mr++){var Br=er[mr],fn=180-(Br.y+Se)*360/ie;er[mr]=[(Br.x+de)*360/ie-180,360/Math.PI*Math.atan(Math.exp(fn*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(dt=0;dt<Re.length;dt++)Yt[dt]=Re[dt][0];Re=Yt,Rt(Re);break;case 2:for(dt=0;dt<Re.length;dt++)Rt(Re[dt]);break;case 3:for(Re=rM(Re),dt=0;dt<Re.length;dt++)for(St=0;St<Re[dt].length;St++)Rt(Re[dt][St]);break}Re.length===1?Re=Re[0]:Je="Multi"+Je;var ar={type:"Feature",geometry:{type:Je,coordinates:Re},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function rM(I){var k=I.length;if(k<=1)return[I];for(var W=[],ie,de,Se=0;Se<k;Se++){var Re=nM(I[Se]);Re!==0&&(de===void 0&&(de=Re<0),de===Re<0?(ie&&W.push(ie),ie=[I[Se]]):ie.push(I[Se]))}return ie&&W.push(ie),W}function nM(I){for(var k=0,W=0,ie=I.length,de=ie-1,Se,Re;W<ie;de=W++)Se=I[W],Re=I[de],k+=(Re.x-Se.x)*(Se.y+Re.y);return k}var hw=vw;function vw(I,k){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(aM,this,k),this.length=this._features.length}function aM(I,k,W){I===15?k.version=W.readVarint():I===1?k.name=W.readString():I===5?k.extent=W.readVarint():I===2?k._features.push(W.pos):I===3?k._keys.push(W.readString()):I===4&&k._values.push(iM(W))}function iM(I){for(var k=null,W=I.readVarint()+I.pos;I.pos<W;){var ie=I.readVarint()>>3;k=ie===1?I.readString():ie===2?I.readFloat():ie===3?I.readDouble():ie===4?I.readVarint64():ie===5?I.readVarint():ie===6?I.readSVarint():ie===7?I.readBoolean():null}return k}vw.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var k=this._pbf.readVarint()+this._pbf.pos;return new cw(this._pbf,k,this.extent,this._keys,this._values)};var oM=sM;function sM(I,k){this.layers=I.readFields(lM,{},k)}function lM(I,k,W){if(I===3){var ie=new hw(W,W.readVarint()+W.pos);ie.length&&(k[ie.name]=ie)}}var uM=oM,fM=cw,cM=hw,jv={VectorTile:uM,VectorTileFeature:fM,VectorTileLayer:cM},hM=jv.VectorTileFeature.types,vM=500,g1=Math.pow(2,13);function vp(I,k,W,ie,de,Se,Re,Je){I.emplaceBack(k,W,Math.floor(ie*g1)*2+Re,de*g1*2,Se*g1*2,Math.round(Je))}var uf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new zf,this.indexArray=new of,this.programConfigurations=new pa(k.layers,k.zoom),this.segments=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};uf.prototype.populate=function(k,W,ie){this.features=[],this.hasPattern=d1("fill-extrusion",this.layers,W);for(var de=0,Se=k;de<Se.length;de+=1){var Re=Se[de],Je=Re.feature,dt=Re.id,St=Re.index,Rt=Re.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,ar=Ii(Je,Yt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),ar,ie)){var er={id:dt,sourceLayerIndex:Rt,index:St,geometry:Yt?ar.geometry:ii(Je),properties:Je.properties,type:Je.type,patterns:{}};this.hasPattern?this.features.push(p1("fill-extrusion",this.layers,er,this.zoom,W)):this.addFeature(er,er.geometry,St,ie,{}),W.featureIndex.insert(Je,er.geometry,St,Rt,this.index,!0)}}},uf.prototype.addFeatures=function(k,W,ie){for(var de=0,Se=this.features;de<Se.length;de+=1){var Re=Se[de],Je=Re.geometry;this.addFeature(Re,Je,Re.index,W,ie)}},uf.prototype.update=function(k,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,W,this.stateDependentLayers,ie)},uf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},uf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,qS),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},uf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},uf.prototype.addFeature=function(k,W,ie,de,Se){for(var Re=0,Je=v1(W,vM);Re<Je.length;Re+=1){for(var dt=Je[Re],St=0,Rt=0,Yt=dt;Rt<Yt.length;Rt+=1){var ar=Yt[Rt];St+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),mr=0,Br=dt;mr<Br.length;mr+=1){var fn=Br[mr];if(fn.length!==0&&!pM(fn))for(var rn=0,Pn=0;Pn<fn.length;Pn++){var mn=fn[Pn];if(Pn>=1){var Ln=fn[Pn-1];if(!dM(mn,Ln)){er.vertexLength+4>bo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var On=mn.sub(Ln)._perp()._unit(),Xn=Ln.dist(mn);rn+Xn>32768&&(rn=0),vp(this.layoutVertexArray,mn.x,mn.y,On.x,On.y,0,0,rn),vp(this.layoutVertexArray,mn.x,mn.y,On.x,On.y,0,1,rn),rn+=Xn,vp(this.layoutVertexArray,Ln.x,Ln.y,On.x,On.y,0,0,rn),vp(this.layoutVertexArray,Ln.x,Ln.y,On.x,On.y,0,1,rn);var ia=er.vertexLength;this.indexArray.emplaceBack(ia,ia+2,ia+1),this.indexArray.emplaceBack(ia+1,ia+2,ia+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+St>bo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),hM[k.type]==="Polygon"){for(var ra=[],Aa=[],ga=er.vertexLength,wa=0,Va=dt;wa<Va.length;wa+=1){var Sa=Va[wa];if(Sa.length!==0){Sa!==dt[0]&&Aa.push(ra.length/2);for(var La=0;La<Sa.length;La++){var Za=Sa[La];vp(this.layoutVertexArray,Za.x,Za.y,0,0,1,1,0),ra.push(Za.x),ra.push(Za.y)}}}for(var Na=u1(ra,Aa),ci=0;ci<Na.length;ci+=3)this.indexArray.emplaceBack(ga+Na[ci],ga+Na[ci+2],ga+Na[ci+1]);er.primitiveLength+=Na.length/3,er.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,de)},Be("FillExtrusionBucket",uf,{omit:["layers","features"]});function dM(I,k){return I.x===k.x&&(I.x<0||I.x>Ea)||I.y===k.y&&(I.y<0||I.y>Ea)}function pM(I){return I.every(function(k){return k.x<0})||I.every(function(k){return k.x>Ea})||I.every(function(k){return k.y<0})||I.every(function(k){return k.y>Ea})}var gM=new gi({"fill-extrusion-opacity":new ua(Ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ua(Ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ua(Ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zo(Ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ua(Ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),yM={paint:gM},mM=function(I){function k(W){I.call(this,W,yM)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new uf(ie)},k.prototype.queryRadius=function(){return Nl(this.paint.get("fill-extrusion-translate"))},k.prototype.is3D=function(){return!0},k.prototype.queryIntersectsFeature=function(ie,de,Se,Re,Je,dt,St,Rt){var Yt=sf(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,St),ar=this.paint.get("fill-extrusion-height").evaluate(de,Se),er=this.paint.get("fill-extrusion-base").evaluate(de,Se),mr=wM(Yt,Rt,dt,0),Br=bM(Re,er,ar,Rt),fn=Br[0],rn=Br[1];return xM(fn,rn,mr)},k}($i);function dp(I,k){return I.x*k.x+I.y*k.y}function dw(I,k){if(I.length===1){for(var W=0,ie=k[W++],de;!de||ie.equals(de);)if(de=k[W++],!de)return 1/0;for(;W<k.length;W++){var Se=k[W],Re=I[0],Je=de.sub(ie),dt=Se.sub(ie),St=Re.sub(ie),Rt=dp(Je,Je),Yt=dp(Je,dt),ar=dp(dt,dt),er=dp(St,Je),mr=dp(St,dt),Br=Rt*ar-Yt*Yt,fn=(ar*er-Yt*mr)/Br,rn=(Rt*mr-Yt*er)/Br,Pn=1-fn-rn,mn=ie.z*Pn+de.z*fn+Se.z*rn;if(isFinite(mn))return mn}return 1/0}else{for(var Ln=1/0,On=0,Xn=k;On<Xn.length;On+=1){var ia=Xn[On];Ln=Math.min(Ln,ia.z)}return Ln}}function xM(I,k,W){var ie=1/0;Ji(W,k)&&(ie=dw(W,k[0]));for(var de=0;de<k.length;de++)for(var Se=k[de],Re=I[de],Je=0;Je<Se.length-1;Je++){var dt=Se[Je],St=Se[Je+1],Rt=Re[Je],Yt=Re[Je+1],ar=[dt,St,Yt,Rt,dt];Ya(W,ar)&&(ie=Math.min(ie,dw(W,ar)))}return ie===1/0?!1:ie}function bM(I,k,W,ie){for(var de=[],Se=[],Re=ie[8]*k,Je=ie[9]*k,dt=ie[10]*k,St=ie[11]*k,Rt=ie[8]*W,Yt=ie[9]*W,ar=ie[10]*W,er=ie[11]*W,mr=0,Br=I;mr<Br.length;mr+=1){for(var fn=Br[mr],rn=[],Pn=[],mn=0,Ln=fn;mn<Ln.length;mn+=1){var On=Ln[mn],Xn=On.x,ia=On.y,ra=ie[0]*Xn+ie[4]*ia+ie[12],Aa=ie[1]*Xn+ie[5]*ia+ie[13],ga=ie[2]*Xn+ie[6]*ia+ie[14],wa=ie[3]*Xn+ie[7]*ia+ie[15],Va=ra+Re,Sa=Aa+Je,La=ga+dt,Za=wa+St,Na=ra+Rt,ci=Aa+Yt,Ei=ga+ar,hi=wa+er,vi=new r(Va/Za,Sa/Za);vi.z=La/Za,rn.push(vi);var oi=new r(Na/hi,ci/hi);oi.z=Ei/hi,Pn.push(oi)}de.push(rn),Se.push(Pn)}return[de,Se]}function wM(I,k,W,ie){for(var de=[],Se=0,Re=I;Se<Re.length;Se+=1){var Je=Re[Se],dt=[Je.x,Je.y,ie,1];Z0(dt,dt,k),de.push(new r(dt[0]/dt[3],dt[1]/dt[3]))}return de}var TM=Bi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),AM=TM.members,SM=Bi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),MM=SM.members,EM=jv.VectorTileFeature.types,pw=63,CM=Math.cos(75/2*(Math.PI/180)),LM=15,PM=20,RM=15,gw=1/2,yw=Math.pow(2,RM-1)/gw,Ts=function(k){var W=this;this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(ie){return ie.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ie){W.gradients[ie.id]={}}),this.layoutVertexArray=new ah,this.layoutVertexArray2=new ih,this.indexArray=new of,this.programConfigurations=new pa(k.layers,k.zoom),this.segments=new bo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ie){return ie.isStateDependent()}).map(function(ie){return ie.id})};Ts.prototype.populate=function(k,W,ie){this.hasPattern=d1("line",this.layers,W);for(var de=this.layers[0].layout.get("line-sort-key"),Se=[],Re=0,Je=k;Re<Je.length;Re+=1){var dt=Je[Re],St=dt.feature,Rt=dt.id,Yt=dt.index,ar=dt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,mr=Ii(St,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),mr,ie)){var Br=de?de.evaluate(mr,{},ie):void 0,fn={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ar,index:Yt,geometry:er?mr.geometry:ii(St),patterns:{},sortKey:Br};Se.push(fn)}}de&&Se.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var rn=0,Pn=Se;rn<Pn.length;rn+=1){var mn=Pn[rn],Ln=mn,On=Ln.geometry,Xn=Ln.index,ia=Ln.sourceLayerIndex;if(this.hasPattern){var ra=p1("line",this.layers,mn,this.zoom,W);this.patternFeatures.push(ra)}else this.addFeature(mn,On,Xn,ie,{});var Aa=k[Xn].feature;W.featureIndex.insert(Aa,On,Xn,ia,this.index)}},Ts.prototype.update=function(k,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,W,this.stateDependentLayers,ie)},Ts.prototype.addFeatures=function(k,W,ie){for(var de=0,Se=this.patternFeatures;de<Se.length;de+=1){var Re=Se[de];this.addFeature(Re,Re.geometry,Re.index,W,ie)}},Ts.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(k){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=k.createVertexBuffer(this.layoutVertexArray2,MM)),this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,AM),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.lineFeatureClips=function(k){if(k.properties&&k.properties.hasOwnProperty("mapbox_clip_start")&&k.properties.hasOwnProperty("mapbox_clip_end")){var W=+k.properties.mapbox_clip_start,ie=+k.properties.mapbox_clip_end;return{start:W,end:ie}}},Ts.prototype.addFeature=function(k,W,ie,de,Se){var Re=this.layers[0].layout,Je=Re.get("line-join").evaluate(k,{}),dt=Re.get("line-cap"),St=Re.get("line-miter-limit"),Rt=Re.get("line-round-limit");this.lineClips=this.lineFeatureClips(k);for(var Yt=0,ar=W;Yt<ar.length;Yt+=1){var er=ar[Yt];this.addLine(er,k,Je,dt,St,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Se,de)},Ts.prototype.addLine=function(k,W,ie,de,Se,Re){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Je=0;Je<k.length-1;Je++)this.totalDistance+=k[Je].dist(k[Je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var dt=EM[W.type]==="Polygon",St=k.length;St>=2&&k[St-1].equals(k[St-2]);)St--;for(var Rt=0;Rt<St-1&&k[Rt].equals(k[Rt+1]);)Rt++;if(!(St<(dt?3:2))){ie==="bevel"&&(Se=1.05);var Yt=this.overscaling<=16?LM*Ea/(512*this.overscaling):0,ar=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),er,mr=void 0,Br=void 0,fn=void 0,rn=void 0;this.e1=this.e2=-1,dt&&(er=k[St-2],rn=k[Rt].sub(er)._unit()._perp());for(var Pn=Rt;Pn<St;Pn++)if(Br=Pn===St-1?dt?k[Rt+1]:void 0:k[Pn+1],!(Br&&k[Pn].equals(Br))){rn&&(fn=rn),er&&(mr=er),er=k[Pn],rn=Br?Br.sub(er)._unit()._perp():fn,fn=fn||rn;var mn=fn.add(rn);(mn.x!==0||mn.y!==0)&&mn._unit();var Ln=fn.x*rn.x+fn.y*rn.y,On=mn.x*rn.x+mn.y*rn.y,Xn=On!==0?1/On:1/0,ia=2*Math.sqrt(2-2*On),ra=On<CM&&mr&&Br,Aa=fn.x*rn.y-fn.y*rn.x>0;if(ra&&Pn>Rt){var ga=er.dist(mr);if(ga>2*Yt){var wa=er.sub(er.sub(mr)._mult(Yt/ga)._round());this.updateDistance(mr,wa),this.addCurrentVertex(wa,fn,0,0,ar),mr=wa}}var Va=mr&&Br,Sa=Va?ie:dt?"butt":de;if(Va&&Sa==="round"&&(Xn<Re?Sa="miter":Xn<=2&&(Sa="fakeround")),Sa==="miter"&&Xn>Se&&(Sa="bevel"),Sa==="bevel"&&(Xn>2&&(Sa="flipbevel"),Xn<Se&&(Sa="miter")),mr&&this.updateDistance(mr,er),Sa==="miter")mn._mult(Xn),this.addCurrentVertex(er,mn,0,0,ar);else if(Sa==="flipbevel"){if(Xn>100)mn=rn.mult(-1);else{var La=Xn*fn.add(rn).mag()/fn.sub(rn).mag();mn._perp()._mult(La*(Aa?-1:1))}this.addCurrentVertex(er,mn,0,0,ar),this.addCurrentVertex(er,mn.mult(-1),0,0,ar)}else if(Sa==="bevel"||Sa==="fakeround"){var Za=-Math.sqrt(Xn*Xn-1),Na=Aa?Za:0,ci=Aa?0:Za;if(mr&&this.addCurrentVertex(er,fn,Na,ci,ar),Sa==="fakeround")for(var Ei=Math.round(ia*180/Math.PI/PM),hi=1;hi<Ei;hi++){var vi=hi/Ei;if(vi!==.5){var oi=vi-.5,ki=1.0904+Ln*(-3.2452+Ln*(3.55645-Ln*1.43519)),_i=.848013+Ln*(-1.06021+Ln*.215638);vi=vi+vi*oi*(vi-1)*(ki*oi*oi+_i)}var Qi=rn.sub(fn)._mult(vi)._add(fn)._unit()._mult(Aa?-1:1);this.addHalfVertex(er,Qi.x,Qi.y,!1,Aa,0,ar)}Br&&this.addCurrentVertex(er,rn,-Na,-ci,ar)}else if(Sa==="butt")this.addCurrentVertex(er,mn,0,0,ar);else if(Sa==="square"){var ao=mr?1:-1;this.addCurrentVertex(er,mn,ao,ao,ar)}else Sa==="round"&&(mr&&(this.addCurrentVertex(er,fn,0,0,ar),this.addCurrentVertex(er,fn,1,1,ar,!0)),Br&&(this.addCurrentVertex(er,rn,-1,-1,ar,!0),this.addCurrentVertex(er,rn,0,0,ar)));if(ra&&Pn<St-1){var No=er.dist(Br);if(No>2*Yt){var So=er.add(Br.sub(er)._mult(Yt/No)._round());this.updateDistance(er,So),this.addCurrentVertex(So,rn,0,0,ar),er=So}}}}},Ts.prototype.addCurrentVertex=function(k,W,ie,de,Se,Re){Re===void 0&&(Re=!1);var Je=W.x+W.y*ie,dt=W.y-W.x*ie,St=-W.x+W.y*de,Rt=-W.y-W.x*de;this.addHalfVertex(k,Je,dt,Re,!1,ie,Se),this.addHalfVertex(k,St,Rt,Re,!0,-de,Se),this.distance>yw/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(k,W,ie,de,Se,Re))},Ts.prototype.addHalfVertex=function(k,W,ie,de,Se,Re,Je){var dt=k.x,St=k.y,Rt=this.lineClips?this.scaledDistance*(yw-1):this.scaledDistance,Yt=Rt*gw;if(this.layoutVertexArray.emplaceBack((dt<<1)+(de?1:0),(St<<1)+(Se?1:0),Math.round(pw*W)+128,Math.round(pw*ie)+128,(Re===0?0:Re<0?-1:1)+1|(Yt&63)<<2,Yt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,mr=ar/er;this.layoutVertexArray2.emplaceBack(mr,this.lineClipsArray.length)}var Br=Je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),Je.primitiveLength++),Se?this.e2=Br:this.e1=Br},Ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ts.prototype.updateDistance=function(k,W){this.distance+=k.dist(W),this.updateScaledDistance()},Be("LineBucket",Ts,{omit:["layers","patternFeatures"]});var IM=new gi({"line-cap":new ua(Ar.layout_line["line-cap"]),"line-join":new Pa(Ar.layout_line["line-join"]),"line-miter-limit":new ua(Ar.layout_line["line-miter-limit"]),"line-round-limit":new ua(Ar.layout_line["line-round-limit"]),"line-sort-key":new Pa(Ar.layout_line["line-sort-key"])}),kM=new gi({"line-opacity":new Pa(Ar.paint_line["line-opacity"]),"line-color":new Pa(Ar.paint_line["line-color"]),"line-translate":new ua(Ar.paint_line["line-translate"]),"line-translate-anchor":new ua(Ar.paint_line["line-translate-anchor"]),"line-width":new Pa(Ar.paint_line["line-width"]),"line-gap-width":new Pa(Ar.paint_line["line-gap-width"]),"line-offset":new Pa(Ar.paint_line["line-offset"]),"line-blur":new Pa(Ar.paint_line["line-blur"]),"line-dasharray":new ts(Ar.paint_line["line-dasharray"]),"line-pattern":new Zo(Ar.paint_line["line-pattern"]),"line-gradient":new xo(Ar.paint_line["line-gradient"])}),mw={paint:kM,layout:IM},DM=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,de){return de=new Ma(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),I.prototype.possiblyEvaluate.call(this,ie,de)},k.prototype.evaluate=function(ie,de,Se,Re){return de=x({},de,{zoom:Math.floor(de.zoom)}),I.prototype.evaluate.call(this,ie,de,Se,Re)},k}(Pa),xw=new DM(mw.paint.properties["line-width"].specification);xw.useIntegerZoom=!0;var _M=function(I){function k(W){I.call(this,W,mw),this.gradientVersion=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._handleSpecialPaintPropertyUpdate=function(ie){if(ie==="line-gradient"){var de=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=de._styleExpression.expression instanceof vs,this.gradientVersion=(this.gradientVersion+1)%f}},k.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},k.prototype.recalculate=function(ie,de){I.prototype.recalculate.call(this,ie,de),this.paint._values["line-floorwidth"]=xw.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},k.prototype.createBucket=function(ie){return new Ts(ie)},k.prototype.queryRadius=function(ie){var de=ie,Se=bw(ws("line-width",this,de),ws("line-gap-width",this,de)),Re=ws("line-offset",this,de);return Se/2+Math.abs(Re)+Nl(this.paint.get("line-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Se,Re,Je,dt,St){var Rt=sf(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,St),Yt=St/2*bw(this.paint.get("line-width").evaluate(de,Se),this.paint.get("line-gap-width").evaluate(de,Se)),ar=this.paint.get("line-offset").evaluate(de,Se);return ar&&(Re=zM(Re,ar*St)),Ro(Rt,Re,Yt)},k.prototype.isTileClipped=function(){return!0},k}($i);function bw(I,k){return k>0?k+2*I:I}function zM(I,k){for(var W=[],ie=new r(0,0),de=0;de<I.length;de++){for(var Se=I[de],Re=[],Je=0;Je<Se.length;Je++){var dt=Se[Je-1],St=Se[Je],Rt=Se[Je+1],Yt=Je===0?ie:St.sub(dt)._unit()._perp(),ar=Je===Se.length-1?ie:Rt.sub(St)._unit()._perp(),er=Yt._add(ar)._unit(),mr=er.x*ar.x+er.y*ar.y;er._mult(1/mr),Re.push(er._mult(k)._add(St))}W.push(Re)}return W}var OM=Bi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),FM=Bi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Bi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var BM=Bi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Bi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var ww=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),NM=Bi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Bi([{name:"triangle",components:3,type:"Uint16"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Bi([{type:"Float32",name:"offsetX"}]),Bi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function UM(I,k,W){var ie=k.layout.get("text-transform").evaluate(W,{});return ie==="uppercase"?I=I.toLocaleUpperCase():ie==="lowercase"&&(I=I.toLocaleLowerCase()),ea.applyArabicShaping&&(I=ea.applyArabicShaping(I)),I}function VM(I,k,W){return I.sections.forEach(function(ie){ie.text=UM(ie.text,k,W)}),I}function HM(I){var k={},W={},ie=[],de=0;function Se(rn){ie.push(I[rn]),de++}function Re(rn,Pn,mn){var Ln=W[rn];return delete W[rn],W[Pn]=Ln,ie[Ln].geometry[0].pop(),ie[Ln].geometry[0]=ie[Ln].geometry[0].concat(mn[0]),Ln}function Je(rn,Pn,mn){var Ln=k[Pn];return delete k[Pn],k[rn]=Ln,ie[Ln].geometry[0].shift(),ie[Ln].geometry[0]=mn[0].concat(ie[Ln].geometry[0]),Ln}function dt(rn,Pn,mn){var Ln=mn?Pn[0][Pn[0].length-1]:Pn[0][0];return rn+":"+Ln.x+":"+Ln.y}for(var St=0;St<I.length;St++){var Rt=I[St],Yt=Rt.geometry,ar=Rt.text?Rt.text.toString():null;if(!ar){Se(St);continue}var er=dt(ar,Yt),mr=dt(ar,Yt,!0);if(er in W&&mr in k&&W[er]!==k[mr]){var Br=Je(er,mr,Yt),fn=Re(er,mr,ie[Br].geometry);delete k[er],delete W[mr],W[dt(ar,ie[fn].geometry,!0)]=fn,ie[Br].geometry=null}else er in W?Re(er,mr,Yt):mr in k?Je(er,mr,Yt):(Se(St),k[er]=de-1,W[mr]=de-1)}return ie.filter(function(rn){return rn.geometry})}var pp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function GM(I){for(var k="",W=0;W<I.length;W++){var ie=I.charCodeAt(W+1)||null,de=I.charCodeAt(W-1)||null,Se=(!ie||!Ur(ie)||pp[I[W+1]])&&(!de||!Ur(de)||pp[I[W-1]]);Se&&pp[I[W]]?k+=pp[I[W]]:k+=I[W]}return k}var Ko=24,WM=function(I,k,W,ie,de){var Se,Re,Je=de*8-ie-1,dt=(1<<Je)-1,St=dt>>1,Rt=-7,Yt=W?de-1:0,ar=W?-1:1,er=I[k+Yt];for(Yt+=ar,Se=er&(1<<-Rt)-1,er>>=-Rt,Rt+=Je;Rt>0;Se=Se*256+I[k+Yt],Yt+=ar,Rt-=8);for(Re=Se&(1<<-Rt)-1,Se>>=-Rt,Rt+=ie;Rt>0;Re=Re*256+I[k+Yt],Yt+=ar,Rt-=8);if(Se===0)Se=1-St;else{if(Se===dt)return Re?NaN:(er?-1:1)*(1/0);Re=Re+Math.pow(2,ie),Se=Se-St}return(er?-1:1)*Re*Math.pow(2,Se-ie)},YM=function(I,k,W,ie,de,Se){var Re,Je,dt,St=Se*8-de-1,Rt=(1<<St)-1,Yt=Rt>>1,ar=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ie?0:Se-1,mr=ie?1:-1,Br=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(Je=isNaN(k)?1:0,Re=Rt):(Re=Math.floor(Math.log(k)/Math.LN2),k*(dt=Math.pow(2,-Re))<1&&(Re--,dt*=2),Re+Yt>=1?k+=ar/dt:k+=ar*Math.pow(2,1-Yt),k*dt>=2&&(Re++,dt/=2),Re+Yt>=Rt?(Je=0,Re=Rt):Re+Yt>=1?(Je=(k*dt-1)*Math.pow(2,de),Re=Re+Yt):(Je=k*Math.pow(2,Yt-1)*Math.pow(2,de),Re=0));de>=8;I[W+er]=Je&255,er+=mr,Je/=256,de-=8);for(Re=Re<<de|Je,St+=de;St>0;I[W+er]=Re&255,er+=mr,Re/=256,St-=8);I[W+er-mr]|=Br*128},q0={read:WM,write:YM},eg=Di;function Di(I){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(I)?I:new Uint8Array(I||0),this.pos=0,this.type=0,this.length=this.buf.length}Di.Varint=0,Di.Fixed64=1,Di.Bytes=2,Di.Fixed32=5;var y1=65536*65536,Tw=1/y1,jM=12,Aw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Di.prototype={destroy:function(){this.buf=null},readFields:function(I,k,W){for(W=W||this.length;this.pos<W;){var ie=this.readVarint(),de=ie>>3,Se=this.pos;this.type=ie&7,I(de,k,this),this.pos===Se&&this.skip(ie)}return k},readMessage:function(I,k){return this.readFields(I,k,this.readVarint()+this.pos)},readFixed32:function(){var I=tg(this.buf,this.pos);return this.pos+=4,I},readSFixed32:function(){var I=Mw(this.buf,this.pos);return this.pos+=4,I},readFixed64:function(){var I=tg(this.buf,this.pos)+tg(this.buf,this.pos+4)*y1;return this.pos+=8,I},readSFixed64:function(){var I=tg(this.buf,this.pos)+Mw(this.buf,this.pos+4)*y1;return this.pos+=8,I},readFloat:function(){var I=q0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,I},readDouble:function(){var I=q0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,I},readVarint:function(I){var k=this.buf,W,ie;return ie=k[this.pos++],W=ie&127,ie<128||(ie=k[this.pos++],W|=(ie&127)<<7,ie<128)||(ie=k[this.pos++],W|=(ie&127)<<14,ie<128)||(ie=k[this.pos++],W|=(ie&127)<<21,ie<128)?W:(ie=k[this.pos],W|=(ie&15)<<28,XM(W,I,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var I=this.readVarint();return I%2===1?(I+1)/-2:I/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var I=this.readVarint()+this.pos,k=this.pos;return this.pos=I,I-k>=jM&&Aw?s8(this.buf,k,I):o8(this.buf,k,I)},readBytes:function(){var I=this.readVarint()+this.pos,k=this.buf.subarray(this.pos,I);return this.pos=I,k},readPackedVarint:function(I,k){if(this.type!==Di.Bytes)return I.push(this.readVarint(k));var W=wc(this);for(I=I||[];this.pos<W;)I.push(this.readVarint(k));return I},readPackedSVarint:function(I){if(this.type!==Di.Bytes)return I.push(this.readSVarint());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readSVarint());return I},readPackedBoolean:function(I){if(this.type!==Di.Bytes)return I.push(this.readBoolean());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readBoolean());return I},readPackedFloat:function(I){if(this.type!==Di.Bytes)return I.push(this.readFloat());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readFloat());return I},readPackedDouble:function(I){if(this.type!==Di.Bytes)return I.push(this.readDouble());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readDouble());return I},readPackedFixed32:function(I){if(this.type!==Di.Bytes)return I.push(this.readFixed32());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed32());return I},readPackedSFixed32:function(I){if(this.type!==Di.Bytes)return I.push(this.readSFixed32());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed32());return I},readPackedFixed64:function(I){if(this.type!==Di.Bytes)return I.push(this.readFixed64());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed64());return I},readPackedSFixed64:function(I){if(this.type!==Di.Bytes)return I.push(this.readSFixed64());var k=wc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed64());return I},skip:function(I){var k=I&7;if(k===Di.Varint)for(;this.buf[this.pos++]>127;);else if(k===Di.Bytes)this.pos=this.readVarint()+this.pos;else if(k===Di.Fixed32)this.pos+=4;else if(k===Di.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+k)},writeTag:function(I,k){this.writeVarint(I<<3|k)},realloc:function(I){for(var k=this.length||16;k<this.pos+I;)k*=2;if(k!==this.length){var W=new Uint8Array(k);W.set(this.buf),this.buf=W,this.length=k}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(I){this.realloc(4),Zv(this.buf,I,this.pos),this.pos+=4},writeSFixed32:function(I){this.realloc(4),Zv(this.buf,I,this.pos),this.pos+=4},writeFixed64:function(I){this.realloc(8),Zv(this.buf,I&-1,this.pos),Zv(this.buf,Math.floor(I*Tw),this.pos+4),this.pos+=8},writeSFixed64:function(I){this.realloc(8),Zv(this.buf,I&-1,this.pos),Zv(this.buf,Math.floor(I*Tw),this.pos+4),this.pos+=8},writeVarint:function(I){if(I=+I||0,I>268435455||I<0){ZM(I,this);return}this.realloc(4),this.buf[this.pos++]=I&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=I>>>7&127)))},writeSVarint:function(I){this.writeVarint(I<0?-I*2-1:I*2)},writeBoolean:function(I){this.writeVarint(!!I)},writeString:function(I){I=String(I),this.realloc(I.length*4),this.pos++;var k=this.pos;this.pos=l8(this.buf,I,this.pos);var W=this.pos-k;W>=128&&Sw(k,W,this),this.pos=k-1,this.writeVarint(W),this.pos+=W},writeFloat:function(I){this.realloc(4),q0.write(this.buf,I,this.pos,!0,23,4),this.pos+=4},writeDouble:function(I){this.realloc(8),q0.write(this.buf,I,this.pos,!0,52,8),this.pos+=8},writeBytes:function(I){var k=I.length;this.writeVarint(k),this.realloc(k);for(var W=0;W<k;W++)this.buf[this.pos++]=I[W]},writeRawMessage:function(I,k){this.pos++;var W=this.pos;I(k,this);var ie=this.pos-W;ie>=128&&Sw(W,ie,this),this.pos=W-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(I,k,W){this.writeTag(I,Di.Bytes),this.writeRawMessage(k,W)},writePackedVarint:function(I,k){k.length&&this.writeMessage(I,JM,k)},writePackedSVarint:function(I,k){k.length&&this.writeMessage(I,QM,k)},writePackedBoolean:function(I,k){k.length&&this.writeMessage(I,t8,k)},writePackedFloat:function(I,k){k.length&&this.writeMessage(I,qM,k)},writePackedDouble:function(I,k){k.length&&this.writeMessage(I,e8,k)},writePackedFixed32:function(I,k){k.length&&this.writeMessage(I,r8,k)},writePackedSFixed32:function(I,k){k.length&&this.writeMessage(I,n8,k)},writePackedFixed64:function(I,k){k.length&&this.writeMessage(I,a8,k)},writePackedSFixed64:function(I,k){k.length&&this.writeMessage(I,i8,k)},writeBytesField:function(I,k){this.writeTag(I,Di.Bytes),this.writeBytes(k)},writeFixed32Field:function(I,k){this.writeTag(I,Di.Fixed32),this.writeFixed32(k)},writeSFixed32Field:function(I,k){this.writeTag(I,Di.Fixed32),this.writeSFixed32(k)},writeFixed64Field:function(I,k){this.writeTag(I,Di.Fixed64),this.writeFixed64(k)},writeSFixed64Field:function(I,k){this.writeTag(I,Di.Fixed64),this.writeSFixed64(k)},writeVarintField:function(I,k){this.writeTag(I,Di.Varint),this.writeVarint(k)},writeSVarintField:function(I,k){this.writeTag(I,Di.Varint),this.writeSVarint(k)},writeStringField:function(I,k){this.writeTag(I,Di.Bytes),this.writeString(k)},writeFloatField:function(I,k){this.writeTag(I,Di.Fixed32),this.writeFloat(k)},writeDoubleField:function(I,k){this.writeTag(I,Di.Fixed64),this.writeDouble(k)},writeBooleanField:function(I,k){this.writeVarintField(I,!!k)}};function XM(I,k,W){var ie=W.buf,de,Se;if(Se=ie[W.pos++],de=(Se&112)>>4,Se<128||(Se=ie[W.pos++],de|=(Se&127)<<3,Se<128)||(Se=ie[W.pos++],de|=(Se&127)<<10,Se<128)||(Se=ie[W.pos++],de|=(Se&127)<<17,Se<128)||(Se=ie[W.pos++],de|=(Se&127)<<24,Se<128)||(Se=ie[W.pos++],de|=(Se&1)<<31,Se<128))return Xv(I,de,k);throw new Error("Expected varint not more than 10 bytes")}function wc(I){return I.type===Di.Bytes?I.readVarint()+I.pos:I.pos+1}function Xv(I,k,W){return W?k*4294967296+(I>>>0):(k>>>0)*4294967296+(I>>>0)}function ZM(I,k){var W,ie;if(I>=0?(W=I%4294967296|0,ie=I/4294967296|0):(W=~(-I%4294967296),ie=~(-I/4294967296),W^4294967295?W=W+1|0:(W=0,ie=ie+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");k.realloc(10),KM(W,ie,k),$M(ie,k)}function KM(I,k,W){W.buf[W.pos++]=I&127|128,I>>>=7,W.buf[W.pos++]=I&127|128,I>>>=7,W.buf[W.pos++]=I&127|128,I>>>=7,W.buf[W.pos++]=I&127|128,I>>>=7,W.buf[W.pos]=I&127}function $M(I,k){var W=(I&7)<<4;k.buf[k.pos++]|=W|((I>>>=3)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127)))))}function Sw(I,k,W){var ie=k<=16383?1:k<=2097151?2:k<=268435455?3:Math.floor(Math.log(k)/(Math.LN2*7));W.realloc(ie);for(var de=W.pos-1;de>=I;de--)W.buf[de+ie]=W.buf[de]}function JM(I,k){for(var W=0;W<I.length;W++)k.writeVarint(I[W])}function QM(I,k){for(var W=0;W<I.length;W++)k.writeSVarint(I[W])}function qM(I,k){for(var W=0;W<I.length;W++)k.writeFloat(I[W])}function e8(I,k){for(var W=0;W<I.length;W++)k.writeDouble(I[W])}function t8(I,k){for(var W=0;W<I.length;W++)k.writeBoolean(I[W])}function r8(I,k){for(var W=0;W<I.length;W++)k.writeFixed32(I[W])}function n8(I,k){for(var W=0;W<I.length;W++)k.writeSFixed32(I[W])}function a8(I,k){for(var W=0;W<I.length;W++)k.writeFixed64(I[W])}function i8(I,k){for(var W=0;W<I.length;W++)k.writeSFixed64(I[W])}function tg(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+I[k+3]*16777216}function Zv(I,k,W){I[W]=k,I[W+1]=k>>>8,I[W+2]=k>>>16,I[W+3]=k>>>24}function Mw(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+(I[k+3]<<24)}function o8(I,k,W){for(var ie="",de=k;de<W;){var Se=I[de],Re=null,Je=Se>239?4:Se>223?3:Se>191?2:1;if(de+Je>W)break;var dt,St,Rt;Je===1?Se<128&&(Re=Se):Je===2?(dt=I[de+1],(dt&192)===128&&(Re=(Se&31)<<6|dt&63,Re<=127&&(Re=null))):Je===3?(dt=I[de+1],St=I[de+2],(dt&192)===128&&(St&192)===128&&(Re=(Se&15)<<12|(dt&63)<<6|St&63,(Re<=2047||Re>=55296&&Re<=57343)&&(Re=null))):Je===4&&(dt=I[de+1],St=I[de+2],Rt=I[de+3],(dt&192)===128&&(St&192)===128&&(Rt&192)===128&&(Re=(Se&15)<<18|(dt&63)<<12|(St&63)<<6|Rt&63,(Re<=65535||Re>=1114112)&&(Re=null))),Re===null?(Re=65533,Je=1):Re>65535&&(Re-=65536,ie+=String.fromCharCode(Re>>>10&1023|55296),Re=56320|Re&1023),ie+=String.fromCharCode(Re),de+=Je}return ie}function s8(I,k,W){return Aw.decode(I.subarray(k,W))}function l8(I,k,W){for(var ie=0,de,Se;ie<k.length;ie++){if(de=k.charCodeAt(ie),de>55295&&de<57344)if(Se)if(de<56320){I[W++]=239,I[W++]=191,I[W++]=189,Se=de;continue}else de=Se-55296<<10|de-56320|65536,Se=null;else{de>56319||ie+1===k.length?(I[W++]=239,I[W++]=191,I[W++]=189):Se=de;continue}else Se&&(I[W++]=239,I[W++]=191,I[W++]=189,Se=null);de<128?I[W++]=de:(de<2048?I[W++]=de>>6|192:(de<65536?I[W++]=de>>12|224:(I[W++]=de>>18|240,I[W++]=de>>12&63|128),I[W++]=de>>6&63|128),I[W++]=de&63|128)}return W}var m1=3;function u8(I,k,W){I===1&&W.readMessage(f8,k)}function f8(I,k,W){if(I===3){var ie=W.readMessage(c8,{}),de=ie.id,Se=ie.bitmap,Re=ie.width,Je=ie.height,dt=ie.left,St=ie.top,Rt=ie.advance;k.push({id:de,bitmap:new cv({width:Re+2*m1,height:Je+2*m1},Se),metrics:{width:Re,height:Je,left:dt,top:St,advance:Rt}})}}function c8(I,k,W){I===1?k.id=W.readVarint():I===2?k.bitmap=W.readBytes():I===3?k.width=W.readVarint():I===4?k.height=W.readVarint():I===5?k.left=W.readSVarint():I===6?k.top=W.readSVarint():I===7&&(k.advance=W.readVarint())}function h8(I){return new eg(I).readFields(u8,[])}var Ew=m1;function Cw(I){for(var k=0,W=0,ie=0,de=I;ie<de.length;ie+=1){var Se=de[ie];k+=Se.w*Se.h,W=Math.max(W,Se.w)}I.sort(function(fn,rn){return rn.h-fn.h});for(var Re=Math.max(Math.ceil(Math.sqrt(k/.95)),W),Je=[{x:0,y:0,w:Re,h:1/0}],dt=0,St=0,Rt=0,Yt=I;Rt<Yt.length;Rt+=1)for(var ar=Yt[Rt],er=Je.length-1;er>=0;er--){var mr=Je[er];if(!(ar.w>mr.w||ar.h>mr.h)){if(ar.x=mr.x,ar.y=mr.y,St=Math.max(St,ar.y+ar.h),dt=Math.max(dt,ar.x+ar.w),ar.w===mr.w&&ar.h===mr.h){var Br=Je.pop();er<Je.length&&(Je[er]=Br)}else ar.h===mr.h?(mr.x+=ar.w,mr.w-=ar.w):ar.w===mr.w?(mr.y+=ar.h,mr.h-=ar.h):(Je.push({x:mr.x+ar.w,y:mr.y,w:mr.w-ar.w,h:ar.h}),mr.y+=ar.h,mr.h-=ar.h);break}}return{w:dt,h:St,fill:k/(dt*St)||0}}var el=1,rg=function(k,W){var ie=W.pixelRatio,de=W.version,Se=W.stretchX,Re=W.stretchY,Je=W.content;this.paddedRect=k,this.pixelRatio=ie,this.stretchX=Se,this.stretchY=Re,this.content=Je,this.version=de},gp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};gp.tl.get=function(){return[this.paddedRect.x+el,this.paddedRect.y+el]},gp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-el,this.paddedRect.y+this.paddedRect.h-el]},gp.tlbr.get=function(){return this.tl.concat(this.br)},gp.displaySize.get=function(){return[(this.paddedRect.w-el*2)/this.pixelRatio,(this.paddedRect.h-el*2)/this.pixelRatio]},Object.defineProperties(rg.prototype,gp);var yp=function(k,W){var ie={},de={};this.haveRenderCallbacks=[];var Se=[];this.addImages(k,ie,Se),this.addImages(W,de,Se);var Re=Cw(Se),Je=Re.w,dt=Re.h,St=new Ns({width:Je||1,height:dt||1});for(var Rt in k){var Yt=k[Rt],ar=ie[Rt].paddedRect;Ns.copy(Yt.data,St,{x:0,y:0},{x:ar.x+el,y:ar.y+el},Yt.data)}for(var er in W){var mr=W[er],Br=de[er].paddedRect,fn=Br.x+el,rn=Br.y+el,Pn=mr.data.width,mn=mr.data.height;Ns.copy(mr.data,St,{x:0,y:0},{x:fn,y:rn},mr.data),Ns.copy(mr.data,St,{x:0,y:mn-1},{x:fn,y:rn-1},{width:Pn,height:1}),Ns.copy(mr.data,St,{x:0,y:0},{x:fn,y:rn+mn},{width:Pn,height:1}),Ns.copy(mr.data,St,{x:Pn-1,y:0},{x:fn-1,y:rn},{width:1,height:mn}),Ns.copy(mr.data,St,{x:0,y:0},{x:fn+Pn,y:rn},{width:1,height:mn})}this.image=St,this.iconPositions=ie,this.patternPositions=de};yp.prototype.addImages=function(k,W,ie){for(var de in k){var Se=k[de],Re={x:0,y:0,w:Se.data.width+2*el,h:Se.data.height+2*el};ie.push(Re),W[de]=new rg(Re,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},yp.prototype.patchUpdatedImages=function(k,W){k.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in k.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],k.getImage(ie),W),this.patchUpdatedImage(this.patternPositions[ie],k.getImage(ie),W)},yp.prototype.patchUpdatedImage=function(k,W,ie){if(!(!k||!W)&&k.version!==W.version){k.version=W.version;var de=k.tl,Se=de[0],Re=de[1];ie.update(W.data,void 0,{x:Se,y:Re})}},Be("ImagePosition",rg),Be("ImageAtlas",yp);var bl={horizontal:1,vertical:2,horizontalOnly:3},mp=-17;function v8(I){for(var k=0,W=I;k<W.length;k+=1){var ie=W[k];if(ie.positionedGlyphs.length!==0)return!1}return!0}var Lw=57344,Pw=63743,Kv=function(){this.scale=1,this.fontStack="",this.imageName=null};Kv.forText=function(k,W){var ie=new Kv;return ie.scale=k||1,ie.fontStack=W,ie},Kv.forImage=function(k){var W=new Kv;return W.imageName=k,W};var os=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};os.fromFeature=function(k,W){for(var ie=new os,de=0;de<k.sections.length;de++){var Se=k.sections[de];Se.image?ie.addImageSection(Se):ie.addTextSection(Se,W)}return ie},os.prototype.length=function(){return this.text.length},os.prototype.getSection=function(k){return this.sections[this.sectionIndex[k]]},os.prototype.getSectionIndex=function(k){return this.sectionIndex[k]},os.prototype.getCharCode=function(k){return this.text.charCodeAt(k)},os.prototype.verticalizePunctuation=function(){this.text=GM(this.text)},os.prototype.trim=function(){for(var k=0,W=0;W<this.text.length&&Bf[this.text.charCodeAt(W)];W++)k++;for(var ie=this.text.length,de=this.text.length-1;de>=0&&de>=k&&Bf[this.text.charCodeAt(de)];de--)ie--;this.text=this.text.substring(k,ie),this.sectionIndex=this.sectionIndex.slice(k,ie)},os.prototype.substring=function(k,W){var ie=new os;return ie.text=this.text.substring(k,W),ie.sectionIndex=this.sectionIndex.slice(k,W),ie.sections=this.sections,ie},os.prototype.toString=function(){return this.text},os.prototype.getMaxScale=function(){var k=this;return this.sectionIndex.reduce(function(W,ie){return Math.max(W,k.sections[ie].scale)},0)},os.prototype.addTextSection=function(k,W){this.text+=k.text,this.sections.push(Kv.forText(k.scale,k.fontStack||W));for(var ie=this.sections.length-1,de=0;de<k.text.length;++de)this.sectionIndex.push(ie)},os.prototype.addImageSection=function(k){var W=k.image?k.image.name:"";if(W.length===0){U("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){U("Reached maximum number of images "+(Pw-Lw+2));return}this.text+=String.fromCharCode(ie),this.sections.push(Kv.forImage(W)),this.sectionIndex.push(this.sections.length-1)},os.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Pw?null:++this.imageSectionID:(this.imageSectionID=Lw,this.imageSectionID)};function d8(I,k){for(var W=[],ie=I.text,de=0,Se=0,Re=k;Se<Re.length;Se+=1){var Je=Re[Se];W.push(I.substring(de,Je)),de=Je}return de<ie.length&&W.push(I.substring(de,ie.length)),W}function ng(I,k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br){var fn=os.fromFeature(I,de);Yt===bl.vertical&&fn.verticalizePunctuation();var rn,Pn=ea.processBidirectionalText,mn=ea.processStyledBidirectionalText;if(Pn&&fn.sections.length===1){rn=[];for(var Ln=Pn(fn.toString(),x1(fn,St,Se,k,ie,er,mr)),On=0,Xn=Ln;On<Xn.length;On+=1){var ia=Xn[On],ra=new os;ra.text=ia,ra.sections=fn.sections;for(var Aa=0;Aa<ia.length;Aa++)ra.sectionIndex.push(0);rn.push(ra)}}else if(mn){rn=[];for(var ga=mn(fn.text,fn.sectionIndex,x1(fn,St,Se,k,ie,er,mr)),wa=0,Va=ga;wa<Va.length;wa+=1){var Sa=Va[wa],La=new os;La.text=Sa[0],La.sectionIndex=Sa[1],La.sections=fn.sections,rn.push(La)}}else rn=d8(fn,x1(fn,St,Se,k,ie,er,mr));var Za=[],Na={positionedLines:Za,text:fn.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return y8(Na,k,W,ie,rn,Re,Je,dt,Yt,St,ar,Br),v8(Za)?!1:Na}var Bf={};Bf[9]=!0,Bf[10]=!0,Bf[11]=!0,Bf[12]=!0,Bf[13]=!0,Bf[32]=!0;var tl={};tl[10]=!0,tl[32]=!0,tl[38]=!0,tl[40]=!0,tl[41]=!0,tl[43]=!0,tl[45]=!0,tl[47]=!0,tl[173]=!0,tl[183]=!0,tl[8203]=!0,tl[8208]=!0,tl[8211]=!0,tl[8231]=!0;function Rw(I,k,W,ie,de,Se){if(k.imageName){var dt=ie[k.imageName];return dt?dt.displaySize[0]*k.scale*Ko/Se+de:0}else{var Re=W[k.fontStack],Je=Re&&Re[I];return Je?Je.metrics.advance*k.scale+de:0}}function p8(I,k,W,ie,de,Se){for(var Re=0,Je=0;Je<I.length();Je++){var dt=I.getSection(Je);Re+=Rw(I.getCharCode(Je),dt,ie,de,k,Se)}var St=Math.max(1,Math.ceil(Re/W));return Re/St}function Iw(I,k,W,ie){var de=Math.pow(I-k,2);return ie?I<k?de/2:de*2:de+Math.abs(W)*W}function g8(I,k,W){var ie=0;return I===10&&(ie-=1e4),W&&(ie+=150),(I===40||I===65288)&&(ie+=50),(k===41||k===65289)&&(ie+=50),ie}function kw(I,k,W,ie,de,Se){for(var Re=null,Je=Iw(k,W,de,Se),dt=0,St=ie;dt<St.length;dt+=1){var Rt=St[dt],Yt=k-Rt.x,ar=Iw(Yt,W,de,Se)+Rt.badness;ar<=Je&&(Re=Rt,Je=ar)}return{index:I,x:k,priorBreak:Re,badness:Je}}function Dw(I){return I?Dw(I.priorBreak).concat(I.index):[]}function x1(I,k,W,ie,de,Se,Re){if(Se!=="point")return[];if(!I)return[];for(var Je=[],dt=p8(I,k,W,ie,de,Re),St=I.text.indexOf("")>=0,Rt=0,Yt=0;Yt<I.length();Yt++){var ar=I.getSection(Yt),er=I.getCharCode(Yt);if(Bf[er]||(Rt+=Rw(er,ar,ie,de,k,Re)),Yt<I.length()-1){var mr=Qr(er);(tl[er]||mr||ar.imageName)&&Je.push(kw(Yt+1,Rt,dt,Je,g8(er,I.getCharCode(Yt+1),mr&&St),!1))}}return Dw(kw(I.length(),Rt,dt,Je,0,!0))}function b1(I){var k=.5,W=.5;switch(I){case"right":case"top-right":case"bottom-right":k=1;break;case"left":case"top-left":case"bottom-left":k=0;break}switch(I){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:k,verticalAlign:W}}function y8(I,k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt){for(var ar=0,er=mp,mr=0,Br=0,fn=Je==="right"?1:Je==="left"?0:.5,rn=0,Pn=0,mn=de;Pn<mn.length;Pn+=1){var Ln=mn[Pn];Ln.trim();var On=Ln.getMaxScale(),Xn=(On-1)*Ko,ia={positionedGlyphs:[],lineOffset:0};I.positionedLines[rn]=ia;var ra=ia.positionedGlyphs,Aa=0;if(!Ln.length()){er+=Se,++rn;continue}for(var ga=0;ga<Ln.length();ga++){var wa=Ln.getSection(ga),Va=Ln.getSectionIndex(ga),Sa=Ln.getCharCode(ga),La=0,Za=null,Na=null,ci=null,Ei=Ko,hi=!(dt===bl.horizontal||!Rt&&!ln(Sa)||Rt&&(Bf[Sa]||Kr(Sa)));if(wa.imageName){var Qi=ie[wa.imageName];if(!Qi)continue;ci=wa.imageName,I.iconsInText=I.iconsInText||!0,Na=Qi.paddedRect;var ao=Qi.displaySize;wa.scale=wa.scale*Ko/Yt,Za={width:ao[0],height:ao[1],left:el,top:-Ew,advance:hi?ao[1]:ao[0]};var No=Ko-ao[1]*wa.scale;La=Xn+No,Ei=Za.advance;var So=hi?ao[0]*wa.scale-Ko*On:ao[1]*wa.scale-Ko*On;So>0&&So>Aa&&(Aa=So)}else{var vi=W[wa.fontStack],oi=vi&&vi[Sa];if(oi&&oi.rect)Na=oi.rect,Za=oi.metrics;else{var ki=k[wa.fontStack],_i=ki&&ki[Sa];if(!_i)continue;Za=_i.metrics}La=(On-wa.scale)*Ko}hi?(I.verticalizable=!0,ra.push({glyph:Sa,imageName:ci,x:ar,y:er+La,vertical:hi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Va,metrics:Za,rect:Na}),ar+=Ei*wa.scale+St):(ra.push({glyph:Sa,imageName:ci,x:ar,y:er+La,vertical:hi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Va,metrics:Za,rect:Na}),ar+=Za.advance*wa.scale+St)}if(ra.length!==0){var ss=ar-St;mr=Math.max(ss,mr),m8(ra,0,ra.length-1,fn,Aa)}ar=0;var ls=Se*On+Aa;ia.lineOffset=Math.max(Aa,Xn),er+=ls,Br=Math.max(ls,Br),++rn}var Uo=er-mp,As=b1(Re),Ss=As.horizontalAlign,Io=As.verticalAlign;x8(I.positionedLines,fn,Ss,Io,mr,Br,Se,Uo,de.length),I.top+=-Io*Uo,I.bottom=I.top+Uo,I.left+=-Ss*mr,I.right=I.left+mr}function m8(I,k,W,ie,de){if(!(!ie&&!de))for(var Se=I[W],Re=Se.metrics.advance*Se.scale,Je=(I[W].x+Re)*ie,dt=k;dt<=W;dt++)I[dt].x-=Je,I[dt].y+=de}function x8(I,k,W,ie,de,Se,Re,Je,dt){var St=(k-W)*de,Rt=0;Se!==Re?Rt=-Je*ie-mp:Rt=(-ie*dt+.5)*Re;for(var Yt=0,ar=I;Yt<ar.length;Yt+=1)for(var er=ar[Yt],mr=0,Br=er.positionedGlyphs;mr<Br.length;mr+=1){var fn=Br[mr];fn.x+=St,fn.y+=Rt}}function b8(I,k,W){var ie=b1(W),de=ie.horizontalAlign,Se=ie.verticalAlign,Re=k[0],Je=k[1],dt=Re-I.displaySize[0]*de,St=dt+I.displaySize[0],Rt=Je-I.displaySize[1]*Se,Yt=Rt+I.displaySize[1];return{image:I,top:Rt,bottom:Yt,left:dt,right:St}}function _w(I,k,W,ie,de,Se){var Re=I.image,Je;if(Re.content){var dt=Re.content,St=Re.pixelRatio||1;Je=[dt[0]/St,dt[1]/St,Re.displaySize[0]-dt[2]/St,Re.displaySize[1]-dt[3]/St]}var Rt=k.left*Se,Yt=k.right*Se,ar,er,mr,Br;W==="width"||W==="both"?(Br=de[0]+Rt-ie[3],er=de[0]+Yt+ie[1]):(Br=de[0]+(Rt+Yt-Re.displaySize[0])/2,er=Br+Re.displaySize[0]);var fn=k.top*Se,rn=k.bottom*Se;return W==="height"||W==="both"?(ar=de[1]+fn-ie[0],mr=de[1]+rn+ie[2]):(ar=de[1]+(fn+rn-Re.displaySize[1])/2,mr=ar+Re.displaySize[1]),{image:Re,top:ar,right:er,bottom:mr,left:Br,collisionPadding:Je}}var $v=function(I){function k(W,ie,de,Se){I.call(this,W,ie),this.angle=de,Se!==void 0&&(this.segment=Se)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.clone=function(){return new k(this.x,this.y,this.angle,this.segment)},k}(r);Be("Anchor",$v);var ff=128;function w1(I,k){var W=k.expression;if(W.kind==="constant"){var ie=W.evaluate(new Ma(I+1));return{kind:"constant",layoutSize:ie}}else{if(W.kind==="source")return{kind:"source"};for(var de=W.zoomStops,Se=W.interpolationType,Re=0;Re<de.length&&de[Re]<=I;)Re++;Re=Math.max(0,Re-1);for(var Je=Re;Je<de.length&&de[Je]<I+1;)Je++;Je=Math.min(de.length-1,Je);var dt=de[Re],St=de[Je];if(W.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:St,interpolationType:Se};var Rt=W.evaluate(new Ma(dt)),Yt=W.evaluate(new Ma(St));return{kind:"camera",minZoom:dt,maxZoom:St,minSize:Rt,maxSize:Yt,interpolationType:Se}}}function zw(I,k,W){var ie=k.uSize,de=k.uSizeT,Se=W.lowerSize,Re=W.upperSize;return I.kind==="source"?Se/ff:I.kind==="composite"?Ni(Se/ff,Re/ff,de):ie}function Ow(I,k){var W=0,ie=0;if(I.kind==="constant")ie=I.layoutSize;else if(I.kind!=="source"){var de=I.interpolationType,Se=I.minZoom,Re=I.maxZoom,Je=de?h(Yi.interpolationFactor(de,k,Se,Re),0,1):0;I.kind==="camera"?ie=Ni(I.minSize,I.maxSize,Je):W=Je}return{uSizeT:W,uSize:ie}}var w8=Object.freeze({__proto__:null,getSizeData:w1,evaluateSizeForFeature:zw,evaluateSizeForZoom:Ow,SIZE_PACK_FACTOR:ff});function Fw(I,k,W,ie,de){if(k.segment===void 0)return!0;for(var Se=k,Re=k.segment+1,Je=0;Je>-W/2;){if(Re--,Re<0)return!1;Je-=I[Re].dist(Se),Se=I[Re]}Je+=I[Re].dist(I[Re+1]),Re++;for(var dt=[],St=0;Je<W/2;){var Rt=I[Re-1],Yt=I[Re],ar=I[Re+1];if(!ar)return!1;var er=Rt.angleTo(Yt)-Yt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:Je,angleDelta:er}),St+=er;Je-dt[0].distance>ie;)St-=dt.shift().angleDelta;if(St>de)return!1;Re++,Je+=Yt.dist(ar)}return!0}function Bw(I){for(var k=0,W=0;W<I.length-1;W++)k+=I[W].dist(I[W+1]);return k}function Nw(I,k,W){return I?.6*k*W:0}function Uw(I,k){return Math.max(I?I.right-I.left:0,k?k.right-k.left:0)}function T8(I,k,W,ie,de,Se){for(var Re=Nw(W,de,Se),Je=Uw(W,ie)*Se,dt=0,St=Bw(I)/2,Rt=0;Rt<I.length-1;Rt++){var Yt=I[Rt],ar=I[Rt+1],er=Yt.dist(ar);if(dt+er>St){var mr=(St-dt)/er,Br=Ni(Yt.x,ar.x,mr),fn=Ni(Yt.y,ar.y,mr),rn=new $v(Br,fn,ar.angleTo(Yt),Rt);return rn._round(),!Re||Fw(I,rn,Je,Re,k)?rn:void 0}dt+=er}}function A8(I,k,W,ie,de,Se,Re,Je,dt){var St=Nw(ie,Se,Re),Rt=Uw(ie,de),Yt=Rt*Re,ar=I[0].x===0||I[0].x===dt||I[0].y===0||I[0].y===dt;k-Yt<k/4&&(k=Yt+k/4);var er=Se*2,mr=ar?k/2*Je%k:(Rt/2+er)*Re*Je%k;return Vw(I,mr,k,St,W,Yt,ar,!1,dt)}function Vw(I,k,W,ie,de,Se,Re,Je,dt){for(var St=Se/2,Rt=Bw(I),Yt=0,ar=k-W,er=[],mr=0;mr<I.length-1;mr++){for(var Br=I[mr],fn=I[mr+1],rn=Br.dist(fn),Pn=fn.angleTo(Br);ar+W<Yt+rn;){ar+=W;var mn=(ar-Yt)/rn,Ln=Ni(Br.x,fn.x,mn),On=Ni(Br.y,fn.y,mn);if(Ln>=0&&Ln<dt&&On>=0&&On<dt&&ar-St>=0&&ar+St<=Rt){var Xn=new $v(Ln,On,Pn,mr);Xn._round(),(!ie||Fw(I,Xn,Se,ie,de))&&er.push(Xn)}}Yt+=rn}return!Je&&!er.length&&!Re&&(er=Vw(I,Yt/2,W,ie,de,Se,Re,!0,dt)),er}function Hw(I,k,W,ie,de){for(var Se=[],Re=0;Re<I.length;Re++)for(var Je=I[Re],dt=void 0,St=0;St<Je.length-1;St++){var Rt=Je[St],Yt=Je[St+1];Rt.x<k&&Yt.x<k||(Rt.x<k?Rt=new r(k,Rt.y+(Yt.y-Rt.y)*((k-Rt.x)/(Yt.x-Rt.x)))._round():Yt.x<k&&(Yt=new r(k,Rt.y+(Yt.y-Rt.y)*((k-Rt.x)/(Yt.x-Rt.x)))._round()),!(Rt.y<W&&Yt.y<W)&&(Rt.y<W?Rt=new r(Rt.x+(Yt.x-Rt.x)*((W-Rt.y)/(Yt.y-Rt.y)),W)._round():Yt.y<W&&(Yt=new r(Rt.x+(Yt.x-Rt.x)*((W-Rt.y)/(Yt.y-Rt.y)),W)._round()),!(Rt.x>=ie&&Yt.x>=ie)&&(Rt.x>=ie?Rt=new r(ie,Rt.y+(Yt.y-Rt.y)*((ie-Rt.x)/(Yt.x-Rt.x)))._round():Yt.x>=ie&&(Yt=new r(ie,Rt.y+(Yt.y-Rt.y)*((ie-Rt.x)/(Yt.x-Rt.x)))._round()),!(Rt.y>=de&&Yt.y>=de)&&(Rt.y>=de?Rt=new r(Rt.x+(Yt.x-Rt.x)*((de-Rt.y)/(Yt.y-Rt.y)),de)._round():Yt.y>=de&&(Yt=new r(Rt.x+(Yt.x-Rt.x)*((de-Rt.y)/(Yt.y-Rt.y)),de)._round()),(!dt||!Rt.equals(dt[dt.length-1]))&&(dt=[Rt],Se.push(dt)),dt.push(Yt)))))}return Se}var Jv=el;function Gw(I,k,W,ie){var de=[],Se=I.image,Re=Se.pixelRatio,Je=Se.paddedRect.w-2*Jv,dt=Se.paddedRect.h-2*Jv,St=I.right-I.left,Rt=I.bottom-I.top,Yt=Se.stretchX||[[0,Je]],ar=Se.stretchY||[[0,dt]],er=function(vi,oi){return vi+oi[1]-oi[0]},mr=Yt.reduce(er,0),Br=ar.reduce(er,0),fn=Je-mr,rn=dt-Br,Pn=0,mn=mr,Ln=0,On=Br,Xn=0,ia=fn,ra=0,Aa=rn;if(Se.content&&ie){var ga=Se.content;Pn=ag(Yt,0,ga[0]),Ln=ag(ar,0,ga[1]),mn=ag(Yt,ga[0],ga[2]),On=ag(ar,ga[1],ga[3]),Xn=ga[0]-Pn,ra=ga[1]-Ln,ia=ga[2]-ga[0]-mn,Aa=ga[3]-ga[1]-On}var wa=function(vi,oi,ki,_i){var Qi=ig(vi.stretch-Pn,mn,St,I.left),ao=og(vi.fixed-Xn,ia,vi.stretch,mr),No=ig(oi.stretch-Ln,On,Rt,I.top),So=og(oi.fixed-ra,Aa,oi.stretch,Br),ss=ig(ki.stretch-Pn,mn,St,I.left),ls=og(ki.fixed-Xn,ia,ki.stretch,mr),Uo=ig(_i.stretch-Ln,On,Rt,I.top),As=og(_i.fixed-ra,Aa,_i.stretch,Br),Ss=new r(Qi,No),Io=new r(ss,No),Ms=new r(ss,Uo),wl=new r(Qi,Uo),Sc=new r(ao/Re,So/Re),gh=new r(ls/Re,As/Re),yh=k*Math.PI/180;if(yh){var mh=Math.sin(yh),id=Math.cos(yh),Au=[id,-mh,mh,id];Ss._matMult(Au),Io._matMult(Au),wl._matMult(Au),Ms._matMult(Au)}var hg=vi.stretch+vi.fixed,P1=ki.stretch+ki.fixed,vg=oi.stretch+oi.fixed,R1=_i.stretch+_i.fixed,Vl={x:Se.paddedRect.x+Jv+hg,y:Se.paddedRect.y+Jv+vg,w:P1-hg,h:R1-vg},od=ia/Re/St,dg=Aa/Re/Rt;return{tl:Ss,tr:Io,bl:wl,br:Ms,tex:Vl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Sc,pixelOffsetBR:gh,minFontScaleX:od,minFontScaleY:dg,isSDF:W}};if(!ie||!Se.stretchX&&!Se.stretchY)de.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Je+1},{fixed:0,stretch:dt+1}));else for(var Va=Ww(Yt,fn,mr),Sa=Ww(ar,rn,Br),La=0;La<Va.length-1;La++)for(var Za=Va[La],Na=Va[La+1],ci=0;ci<Sa.length-1;ci++){var Ei=Sa[ci],hi=Sa[ci+1];de.push(wa(Za,Ei,Na,hi))}return de}function ag(I,k,W){for(var ie=0,de=0,Se=I;de<Se.length;de+=1){var Re=Se[de];ie+=Math.max(k,Math.min(W,Re[1]))-Math.max(k,Math.min(W,Re[0]))}return ie}function Ww(I,k,W){for(var ie=[{fixed:-Jv,stretch:0}],de=0,Se=I;de<Se.length;de+=1){var Re=Se[de],Je=Re[0],dt=Re[1],St=ie[ie.length-1];ie.push({fixed:Je-St.stretch,stretch:St.stretch}),ie.push({fixed:Je-St.stretch,stretch:St.stretch+(dt-Je)})}return ie.push({fixed:k+Jv,stretch:W}),ie}function ig(I,k,W,ie){return I/k*W+ie}function og(I,k,W,ie){return I-k*W/ie}function S8(I,k,W,ie,de,Se,Re,Je){for(var dt=ie.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,St=[],Rt=0,Yt=k.positionedLines;Rt<Yt.length;Rt+=1)for(var ar=Yt[Rt],er=0,mr=ar.positionedGlyphs;er<mr.length;er+=1){var Br=mr[er];if(Br.rect){var fn=Br.rect||{},rn=1,Pn=Ew+rn,mn=!0,Ln=1,On=0,Xn=(de||Je)&&Br.vertical,ia=Br.metrics.advance*Br.scale/2;if(Je&&k.verticalizable){var ra=(Br.scale-1)*Ko,Aa=(Ko-Br.metrics.width*Br.scale)/2;On=ar.lineOffset/2-(Br.imageName?-Aa:ra)}if(Br.imageName){var ga=Re[Br.imageName];mn=ga.sdf,Ln=ga.pixelRatio,Pn=el/Ln}var wa=de?[Br.x+ia,Br.y]:[0,0],Va=de?[0,0]:[Br.x+ia+W[0],Br.y+W[1]-On],Sa=[0,0];Xn&&(Sa=Va,Va=[0,0]);var La=(Br.metrics.left-Pn)*Br.scale-ia+Va[0],Za=(-Br.metrics.top-Pn)*Br.scale+Va[1],Na=La+fn.w*Br.scale/Ln,ci=Za+fn.h*Br.scale/Ln,Ei=new r(La,Za),hi=new r(Na,Za),vi=new r(La,ci),oi=new r(Na,ci);if(Xn){var ki=new r(-ia,ia-mp),_i=-Math.PI/2,Qi=Ko/2-ia,ao=Br.imageName?Qi:0,No=new r(5-mp-Qi,-ao),So=new(Function.prototype.bind.apply(r,[null].concat(Sa)));Ei._rotateAround(_i,ki)._add(No)._add(So),hi._rotateAround(_i,ki)._add(No)._add(So),vi._rotateAround(_i,ki)._add(No)._add(So),oi._rotateAround(_i,ki)._add(No)._add(So)}if(dt){var ss=Math.sin(dt),ls=Math.cos(dt),Uo=[ls,-ss,ss,ls];Ei._matMult(Uo),hi._matMult(Uo),vi._matMult(Uo),oi._matMult(Uo)}var As=new r(0,0),Ss=new r(0,0),Io=0,Ms=0;St.push({tl:Ei,tr:hi,bl:vi,br:oi,tex:fn,writingMode:k.writingMode,glyphOffset:wa,sectionIndex:Br.sectionIndex,isSDF:mn,pixelOffsetTL:As,pixelOffsetBR:Ss,minFontScaleX:Io,minFontScaleY:Ms})}}return St}var sg=function(k,W,ie,de,Se,Re,Je,dt,St,Rt){if(this.boxStartIndex=k.length,St){var Yt=Re.top,ar=Re.bottom,er=Re.collisionPadding;er&&(Yt-=er[1],ar+=er[3]);var mr=ar-Yt;mr>0&&(mr=Math.max(10,mr),this.circleDiameter=mr)}else{var Br=Re.top*Je-dt,fn=Re.bottom*Je+dt,rn=Re.left*Je-dt,Pn=Re.right*Je+dt,mn=Re.collisionPadding;if(mn&&(rn-=mn[0]*Je,Br-=mn[1]*Je,Pn+=mn[2]*Je,fn+=mn[3]*Je),Rt){var Ln=new r(rn,Br),On=new r(Pn,Br),Xn=new r(rn,fn),ia=new r(Pn,fn),ra=Rt*Math.PI/180;Ln._rotate(ra),On._rotate(ra),Xn._rotate(ra),ia._rotate(ra),rn=Math.min(Ln.x,On.x,Xn.x,ia.x),Pn=Math.max(Ln.x,On.x,Xn.x,ia.x),Br=Math.min(Ln.y,On.y,Xn.y,ia.y),fn=Math.max(Ln.y,On.y,Xn.y,ia.y)}k.emplaceBack(W.x,W.y,rn,Br,Pn,fn,ie,de,Se)}this.boxEndIndex=k.length},Qv=function(k,W){if(k===void 0&&(k=[]),W===void 0&&(W=M8),this.data=k,this.length=this.data.length,this.compare=W,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};Qv.prototype.push=function(k){this.data.push(k),this.length++,this._up(this.length-1)},Qv.prototype.pop=function(){if(this.length!==0){var k=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),k}},Qv.prototype.peek=function(){return this.data[0]},Qv.prototype._up=function(k){for(var W=this,ie=W.data,de=W.compare,Se=ie[k];k>0;){var Re=k-1>>1,Je=ie[Re];if(de(Se,Je)>=0)break;ie[k]=Je,k=Re}ie[k]=Se},Qv.prototype._down=function(k){for(var W=this,ie=W.data,de=W.compare,Se=this.length>>1,Re=ie[k];k<Se;){var Je=(k<<1)+1,dt=ie[Je],St=Je+1;if(St<this.length&&de(ie[St],dt)<0&&(Je=St,dt=ie[St]),de(dt,Re)>=0)break;ie[k]=dt,k=Je}ie[k]=Re};function M8(I,k){return I<k?-1:I>k?1:0}function E8(I,k,W){W===void 0&&(W=!1);for(var ie=1/0,de=1/0,Se=-1/0,Re=-1/0,Je=I[0],dt=0;dt<Je.length;dt++){var St=Je[dt];(!dt||St.x<ie)&&(ie=St.x),(!dt||St.y<de)&&(de=St.y),(!dt||St.x>Se)&&(Se=St.x),(!dt||St.y>Re)&&(Re=St.y)}var Rt=Se-ie,Yt=Re-de,ar=Math.min(Rt,Yt),er=ar/2,mr=new Qv([],C8);if(ar===0)return new r(ie,de);for(var Br=ie;Br<Se;Br+=ar)for(var fn=de;fn<Re;fn+=ar)mr.push(new qv(Br+er,fn+er,er,I));for(var rn=P8(I),Pn=mr.length;mr.length;){var mn=mr.pop();(mn.d>rn.d||!rn.d)&&(rn=mn,W&&console.log("found best %d after %d probes",Math.round(1e4*mn.d)/1e4,Pn)),!(mn.max-rn.d<=k)&&(er=mn.h/2,mr.push(new qv(mn.p.x-er,mn.p.y-er,er,I)),mr.push(new qv(mn.p.x+er,mn.p.y-er,er,I)),mr.push(new qv(mn.p.x-er,mn.p.y+er,er,I)),mr.push(new qv(mn.p.x+er,mn.p.y+er,er,I)),Pn+=4)}return W&&(console.log("num probes: "+Pn),console.log("best distance: "+rn.d)),rn.p}function C8(I,k){return k.max-I.max}function qv(I,k,W,ie){this.p=new r(I,k),this.h=W,this.d=L8(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function L8(I,k){for(var W=!1,ie=1/0,de=0;de<k.length;de++)for(var Se=k[de],Re=0,Je=Se.length,dt=Je-1;Re<Je;dt=Re++){var St=Se[Re],Rt=Se[dt];St.y>I.y!=Rt.y>I.y&&I.x<(Rt.x-St.x)*(I.y-St.y)/(Rt.y-St.y)+St.x&&(W=!W),ie=Math.min(ie,bc(I,St,Rt))}return(W?1:-1)*Math.sqrt(ie)}function P8(I){for(var k=0,W=0,ie=0,de=I[0],Se=0,Re=de.length,Je=Re-1;Se<Re;Je=Se++){var dt=de[Se],St=de[Je],Rt=dt.x*St.y-St.x*dt.y;W+=(dt.x+St.x)*Rt,ie+=(dt.y+St.y)*Rt,k+=Rt*3}return new qv(W/k,ie/k,0,I)}var ed=7,T1=Number.POSITIVE_INFINITY;function Yw(I,k){function W(de,Se){var Re=0,Je=0;Se<0&&(Se=0);var dt=Se/Math.sqrt(2);switch(de){case"top-right":case"top-left":Je=dt-ed;break;case"bottom-right":case"bottom-left":Je=-dt+ed;break;case"bottom":Je=-Se+ed;break;case"top":Je=Se-ed;break}switch(de){case"top-right":case"bottom-right":Re=-dt;break;case"top-left":case"bottom-left":Re=dt;break;case"left":Re=Se;break;case"right":Re=-Se;break}return[Re,Je]}function ie(de,Se,Re){var Je=0,dt=0;switch(Se=Math.abs(Se),Re=Math.abs(Re),de){case"top-right":case"top-left":case"top":dt=Re-ed;break;case"bottom-right":case"bottom-left":case"bottom":dt=-Re+ed;break}switch(de){case"top-right":case"bottom-right":case"right":Je=-Se;break;case"top-left":case"bottom-left":case"left":Je=Se;break}return[Je,dt]}return k[1]!==T1?ie(I,k[0],k[1]):W(I,k[0])}function R8(I,k,W,ie,de,Se,Re){I.createArrays();var Je=512*I.overscaling;I.tilePixelRatio=Ea/Je,I.compareText={},I.iconsNeedLinear=!1;var dt=I.layers[0].layout,St=I.layers[0]._unevaluatedLayout._values,Rt={};if(I.textSizeData.kind==="composite"){var Yt=I.textSizeData,ar=Yt.minZoom,er=Yt.maxZoom;Rt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Ma(ar),Re),St["text-size"].possiblyEvaluate(new Ma(er),Re)]}if(I.iconSizeData.kind==="composite"){var mr=I.iconSizeData,Br=mr.minZoom,fn=mr.maxZoom;Rt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Ma(Br),Re),St["icon-size"].possiblyEvaluate(new Ma(fn),Re)]}Rt.layoutTextSize=St["text-size"].possiblyEvaluate(new Ma(I.zoom+1),Re),Rt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Ma(I.zoom+1),Re),Rt.textMaxSize=St["text-size"].possiblyEvaluate(new Ma(18));for(var rn=dt.get("text-line-height")*Ko,Pn=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",mn=dt.get("text-keep-upright"),Ln=dt.get("text-size"),On=function(){var ra=ia[Xn],Aa=dt.get("text-font").evaluate(ra,{},Re).join(","),ga=Ln.evaluate(ra,{},Re),wa=Rt.layoutTextSize.evaluate(ra,{},Re),Va=Rt.layoutIconSize.evaluate(ra,{},Re),Sa={horizontal:{},vertical:void 0},La=ra.text,Za=[0,0];if(La){var Na=La.toString(),ci=dt.get("text-letter-spacing").evaluate(ra,{},Re)*Ko,Ei=Cr(Na)?ci:0,hi=dt.get("text-anchor").evaluate(ra,{},Re),vi=dt.get("text-variable-anchor");if(!vi){var oi=dt.get("text-radial-offset").evaluate(ra,{},Re);oi?Za=Yw(hi,[oi*Ko,T1]):Za=dt.get("text-offset").evaluate(ra,{},Re).map(function(Sc){return Sc*Ko})}var ki=Pn?"center":dt.get("text-justify").evaluate(ra,{},Re),_i=dt.get("symbol-placement"),Qi=_i==="point"?dt.get("text-max-width").evaluate(ra,{},Re)*Ko:0,ao=function(){I.allowVerticalPlacement&&rr(Na)&&(Sa.vertical=ng(La,k,W,de,Aa,Qi,rn,hi,"left",Ei,Za,bl.vertical,!0,_i,wa,ga))};if(!Pn&&vi){for(var No=ki==="auto"?vi.map(function(Sc){return A1(Sc)}):[ki],So=!1,ss=0;ss<No.length;ss++){var ls=No[ss];if(!Sa.horizontal[ls])if(So)Sa.horizontal[ls]=Sa.horizontal[0];else{var Uo=ng(La,k,W,de,Aa,Qi,rn,"center",ls,Ei,Za,bl.horizontal,!1,_i,wa,ga);Uo&&(Sa.horizontal[ls]=Uo,So=Uo.positionedLines.length===1)}}ao()}else{ki==="auto"&&(ki=A1(hi));var As=ng(La,k,W,de,Aa,Qi,rn,hi,ki,Ei,Za,bl.horizontal,!1,_i,wa,ga);As&&(Sa.horizontal[ki]=As),ao(),rr(Na)&&Pn&&mn&&(Sa.vertical=ng(La,k,W,de,Aa,Qi,rn,hi,ki,Ei,Za,bl.vertical,!1,_i,wa,ga))}}var Ss=void 0,Io=!1;if(ra.icon&&ra.icon.name){var Ms=ie[ra.icon.name];Ms&&(Ss=b8(de[ra.icon.name],dt.get("icon-offset").evaluate(ra,{},Re),dt.get("icon-anchor").evaluate(ra,{},Re)),Io=Ms.sdf,I.sdfIcons===void 0?I.sdfIcons=Ms.sdf:I.sdfIcons!==Ms.sdf&&U("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ms.pixelRatio!==I.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(I.iconsNeedLinear=!0))}var wl=Xw(Sa.horizontal)||Sa.vertical;I.iconsInText=wl?wl.iconsInText:!1,(wl||Ss)&&I8(I,ra,Sa,Ss,ie,Rt,wa,Va,Za,Io,Re)},Xn=0,ia=I.features;Xn<ia.length;Xn+=1)On();Se&&I.generateCollisionDebugBuffers()}function A1(I){switch(I){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function I8(I,k,W,ie,de,Se,Re,Je,dt,St,Rt){var Yt=Se.textMaxSize.evaluate(k,{});Yt===void 0&&(Yt=Re);var ar=I.layers[0].layout,er=ar.get("icon-offset").evaluate(k,{},Rt),mr=Xw(W.horizontal),Br=24,fn=Re/Br,rn=I.tilePixelRatio*fn,Pn=I.tilePixelRatio*Yt/Br,mn=I.tilePixelRatio*Je,Ln=I.tilePixelRatio*ar.get("symbol-spacing"),On=ar.get("text-padding")*I.tilePixelRatio,Xn=ar.get("icon-padding")*I.tilePixelRatio,ia=ar.get("text-max-angle")/180*Math.PI,ra=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Aa=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",ga=ar.get("symbol-placement"),wa=Ln/2,Va=ar.get("icon-text-fit"),Sa;ie&&Va!=="none"&&(I.allowVerticalPlacement&&W.vertical&&(Sa=_w(ie,W.vertical,Va,ar.get("icon-text-fit-padding"),er,fn)),mr&&(ie=_w(ie,mr,Va,ar.get("icon-text-fit-padding"),er,fn)));var La=function(id,Au){Au.x<0||Au.x>=Ea||Au.y<0||Au.y>=Ea||k8(I,Au,id,W,ie,de,Sa,I.layers[0],I.collisionBoxArray,k.index,k.sourceLayerIndex,I.index,rn,On,ra,dt,mn,Xn,Aa,er,k,Se,St,Rt,Re)};if(ga==="line")for(var Za=0,Na=Hw(k.geometry,0,0,Ea,Ea);Za<Na.length;Za+=1)for(var ci=Na[Za],Ei=A8(ci,Ln,ia,W.vertical||mr,ie,Br,Pn,I.overscaling,Ea),hi=0,vi=Ei;hi<vi.length;hi+=1){var oi=vi[hi],ki=mr;(!ki||!D8(I,ki.text,wa,oi))&&La(ci,oi)}else if(ga==="line-center")for(var _i=0,Qi=k.geometry;_i<Qi.length;_i+=1){var ao=Qi[_i];if(ao.length>1){var No=T8(ao,ia,W.vertical||mr,ie,Br,Pn);No&&La(ao,No)}}else if(k.type==="Polygon")for(var So=0,ss=v1(k.geometry,0);So<ss.length;So+=1){var ls=ss[So],Uo=E8(ls,16);La(ls[0],new $v(Uo.x,Uo.y,0))}else if(k.type==="LineString")for(var As=0,Ss=k.geometry;As<Ss.length;As+=1){var Io=Ss[As];La(Io,new $v(Io[0].x,Io[0].y,0))}else if(k.type==="Point")for(var Ms=0,wl=k.geometry;Ms<wl.length;Ms+=1)for(var Sc=wl[Ms],gh=0,yh=Sc;gh<yh.length;gh+=1){var mh=yh[gh];La([mh],new $v(mh.x,mh.y,0))}}var xp=255,dh=xp*ff;function jw(I,k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr){var Br=S8(k,W,Je,de,Se,Re,ie,I.allowVerticalPlacement),fn=I.textSizeData,rn=null;fn.kind==="source"?(rn=[ff*de.layout.get("text-size").evaluate(Re,{})],rn[0]>dh&&U(I.layerIds[0]+': Value for "text-size" is >= '+xp+'. Reduce your "text-size".')):fn.kind==="composite"&&(rn=[ff*er.compositeTextSizes[0].evaluate(Re,{},mr),ff*er.compositeTextSizes[1].evaluate(Re,{},mr)],(rn[0]>dh||rn[1]>dh)&&U(I.layerIds[0]+': Value for "text-size" is >= '+xp+'. Reduce your "text-size".')),I.addSymbols(I.text,Br,rn,Je,Se,Re,St,k,dt.lineStartIndex,dt.lineLength,ar,mr);for(var Pn=0,mn=Rt;Pn<mn.length;Pn+=1){var Ln=mn[Pn];Yt[Ln]=I.text.placedSymbolArray.length-1}return Br.length*4}function Xw(I){for(var k in I)return I[k];return null}function k8(I,k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar,er,mr,Br,fn,rn,Pn,mn,Ln,On,Xn,ia,ra){var Aa,ga=I.addToLineVertexArray(k,W),wa,Va,Sa,La,Za=0,Na=0,ci=0,Ei=0,hi=-1,vi=-1,oi={},ki=ye(""),_i=0,Qi=0;if(Je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Aa=Je.layout.get("text-offset").evaluate(Ln,{},ia).map(function(Tp){return Tp*Ko}),_i=Aa[0],Qi=Aa[1]):(_i=Je.layout.get("text-radial-offset").evaluate(Ln,{},ia)*Ko,Qi=T1),I.allowVerticalPlacement&&ie.vertical){var ao=Je.layout.get("text-rotate").evaluate(Ln,{},ia),No=ao+90,So=ie.vertical;Sa=new sg(dt,k,St,Rt,Yt,So,ar,er,mr,No),Re&&(La=new sg(dt,k,St,Rt,Yt,Re,fn,rn,mr,No))}if(de){var ss=Je.layout.get("icon-rotate").evaluate(Ln,{}),ls=Je.layout.get("icon-text-fit")!=="none",Uo=Gw(de,ss,Xn,ls),As=Re?Gw(Re,ss,Xn,ls):void 0;Va=new sg(dt,k,St,Rt,Yt,de,fn,rn,!1,ss),Za=Uo.length*4;var Ss=I.iconSizeData,Io=null;Ss.kind==="source"?(Io=[ff*Je.layout.get("icon-size").evaluate(Ln,{})],Io[0]>dh&&U(I.layerIds[0]+': Value for "icon-size" is >= '+xp+'. Reduce your "icon-size".')):Ss.kind==="composite"&&(Io=[ff*On.compositeIconSizes[0].evaluate(Ln,{},ia),ff*On.compositeIconSizes[1].evaluate(Ln,{},ia)],(Io[0]>dh||Io[1]>dh)&&U(I.layerIds[0]+': Value for "icon-size" is >= '+xp+'. Reduce your "icon-size".')),I.addSymbols(I.icon,Uo,Io,mn,Pn,Ln,!1,k,ga.lineStartIndex,ga.lineLength,-1,ia),hi=I.icon.placedSymbolArray.length-1,As&&(Na=As.length*4,I.addSymbols(I.icon,As,Io,mn,Pn,Ln,bl.vertical,k,ga.lineStartIndex,ga.lineLength,-1,ia),vi=I.icon.placedSymbolArray.length-1)}for(var Ms in ie.horizontal){var wl=ie.horizontal[Ms];if(!wa){ki=ye(wl.text);var Sc=Je.layout.get("text-rotate").evaluate(Ln,{},ia);wa=new sg(dt,k,St,Rt,Yt,wl,ar,er,mr,Sc)}var gh=wl.positionedLines.length===1;if(ci+=jw(I,k,wl,Se,Je,mr,Ln,Br,ga,ie.vertical?bl.horizontal:bl.horizontalOnly,gh?Object.keys(ie.horizontal):[Ms],oi,hi,On,ia),gh)break}ie.vertical&&(Ei+=jw(I,k,ie.vertical,Se,Je,mr,Ln,Br,ga,bl.vertical,["vertical"],oi,vi,On,ia));var yh=wa?wa.boxStartIndex:I.collisionBoxArray.length,mh=wa?wa.boxEndIndex:I.collisionBoxArray.length,id=Sa?Sa.boxStartIndex:I.collisionBoxArray.length,Au=Sa?Sa.boxEndIndex:I.collisionBoxArray.length,hg=Va?Va.boxStartIndex:I.collisionBoxArray.length,P1=Va?Va.boxEndIndex:I.collisionBoxArray.length,vg=La?La.boxStartIndex:I.collisionBoxArray.length,R1=La?La.boxEndIndex:I.collisionBoxArray.length,Vl=-1,od=function(Tp,u2){return Tp&&Tp.circleDiameter?Math.max(Tp.circleDiameter,u2):u2};Vl=od(wa,Vl),Vl=od(Sa,Vl),Vl=od(Va,Vl),Vl=od(La,Vl);var dg=Vl>-1?1:0;dg&&(Vl*=ra/Ko),I.glyphOffsetArray.length>=Mi.MAX_GLYPHS&&U("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&I.addToSortKeyRanges(I.symbolInstances.length,Ln.sortKey),I.symbolInstances.emplaceBack(k.x,k.y,oi.right>=0?oi.right:-1,oi.center>=0?oi.center:-1,oi.left>=0?oi.left:-1,oi.vertical||-1,hi,vi,ki,yh,mh,id,Au,hg,P1,vg,R1,St,ci,Ei,Za,Na,dg,0,ar,_i,Qi,Vl)}function D8(I,k,W,ie){var de=I.compareText;if(!(k in de))de[k]=[];else for(var Se=de[k],Re=Se.length-1;Re>=0;Re--)if(ie.dist(Se[Re])<W)return!0;return de[k].push(ie),!1}var _8=jv.VectorTileFeature.types,z8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function lg(I,k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar){var er=Je?Math.min(dh,Math.round(Je[0])):0,mr=Je?Math.min(dh,Math.round(Je[1])):0;I.emplaceBack(k,W,Math.round(ie*32),Math.round(de*32),Se,Re,(er<<1)+(dt?1:0),mr,St*16,Rt*16,Yt*256,ar*256)}function S1(I,k,W){I.emplaceBack(k.x,k.y,W),I.emplaceBack(k.x,k.y,W),I.emplaceBack(k.x,k.y,W),I.emplaceBack(k.x,k.y,W)}function O8(I){for(var k=0,W=I.sections;k<W.length;k+=1){var ie=W[k];if(tn(ie.text))return!0}return!1}var td=function(k){this.layoutVertexArray=new Of,this.indexArray=new of,this.programConfigurations=k,this.segments=new bo,this.dynamicLayoutVertexArray=new rp,this.opacityVertexArray=new np,this.placedSymbolArray=new op};td.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},td.prototype.upload=function(k,W,ie,de){this.isEmpty()||(ie&&(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,OM.members),this.indexBuffer=k.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=k.createVertexBuffer(this.dynamicLayoutVertexArray,FM.members,!0),this.opacityVertexBuffer=k.createVertexBuffer(this.opacityVertexArray,z8,!0),this.opacityVertexBuffer.itemSize=1),(ie||de)&&this.programConfigurations.upload(k))},td.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",td);var bp=function(k,W,ie){this.layoutVertexArray=new k,this.layoutAttributes=W,this.indexArray=new ie,this.segments=new bo,this.collisionVertexArray=new zs};bp.prototype.upload=function(k){this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=k.createVertexBuffer(this.collisionVertexArray,BM.members,!0)},bp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",bp);var Mi=function(k){this.collisionBoxArray=k.collisionBoxArray,this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=k.index,this.pixelRatio=k.pixelRatio,this.sourceLayerIndex=k.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Vv([]),this.placementViewportMatrix=Vv([]);var W=this.layers[0],ie=W._unevaluatedLayout._values;this.textSizeData=w1(this.zoom,ie["text-size"]),this.iconSizeData=w1(this.zoom,ie["icon-size"]);var de=this.layers[0].layout,Se=de.get("symbol-sort-key"),Re=de.get("symbol-z-order");this.canOverlap=de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement"),this.sortFeaturesByKey=Re!=="viewport-y"&&Se.constantOr(1)!==void 0;var Je=Re==="viewport-y"||Re==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Je&&this.canOverlap,de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(dt){return bl[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=k.sourceID};Mi.prototype.createArrays=function(){this.text=new td(new pa(this.layers,this.zoom,function(k){return/^text/.test(k)})),this.icon=new td(new pa(this.layers,this.zoom,function(k){return/^icon/.test(k)})),this.glyphOffsetArray=new W0,this.lineVertexArray=new Fl,this.symbolInstances=new G0},Mi.prototype.calculateGlyphDependencies=function(k,W,ie,de,Se){for(var Re=0;Re<k.length;Re++)if(W[k.charCodeAt(Re)]=!0,(ie||de)&&Se){var Je=pp[k.charAt(Re)];Je&&(W[Je.charCodeAt(0)]=!0)}},Mi.prototype.populate=function(k,W,ie){var de=this.layers[0],Se=de.layout,Re=Se.get("text-font"),Je=Se.get("text-field"),dt=Se.get("icon-image"),St=(Je.value.kind!=="constant"||Je.value.value instanceof so&&!Je.value.value.isEmpty()||Je.value.value.toString().length>0)&&(Re.value.kind!=="constant"||Re.value.value.length>0),Rt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,Yt=Se.get("symbol-sort-key");if(this.features=[],!(!St&&!Rt)){for(var ar=W.iconDependencies,er=W.glyphDependencies,mr=W.availableImages,Br=new Ma(this.zoom),fn=0,rn=k;fn<rn.length;fn+=1){var Pn=rn[fn],mn=Pn.feature,Ln=Pn.id,On=Pn.index,Xn=Pn.sourceLayerIndex,ia=de._featureFilter.needGeometry,ra=Ii(mn,ia);if(de._featureFilter.filter(Br,ra,ie)){ia||(ra.geometry=ii(mn));var Aa=void 0;if(St){var ga=de.getValueAndResolveTokens("text-field",ra,ie,mr),wa=so.factory(ga);O8(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&ea.isParsed())&&(Aa=VM(wa,de,ra))}var Va=void 0;if(Rt){var Sa=de.getValueAndResolveTokens("icon-image",ra,ie,mr);Sa instanceof zo?Va=Sa:Va=zo.fromString(Sa)}if(!(!Aa&&!Va)){var La=this.sortFeaturesByKey?Yt.evaluate(ra,{},ie):void 0,Za={id:Ln,text:Aa,icon:Va,index:On,sourceLayerIndex:Xn,geometry:ra.geometry,properties:mn.properties,type:_8[mn.type],sortKey:La};if(this.features.push(Za),Va&&(ar[Va.name]=!0),Aa){var Na=Re.evaluate(ra,{},ie).join(","),ci=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bl.vertical)>=0;for(var Ei=0,hi=Aa.sections;Ei<hi.length;Ei+=1){var vi=hi[Ei];if(vi.image)ar[vi.image.name]=!0;else{var oi=rr(Aa.toString()),ki=vi.fontStack||Na,_i=er[ki]=er[ki]||{};this.calculateGlyphDependencies(vi.text,_i,ci,this.allowVerticalPlacement,oi)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=HM(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Qi,ao){return Qi.sortKey-ao.sortKey})}},Mi.prototype.update=function(k,W,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(k,W,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(k,W,this.layers,ie))},Mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Mi.prototype.upload=function(k){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(k),this.iconCollisionBox.upload(k)),this.text.upload(k,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(k,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Mi.prototype.addToLineVertexArray=function(k,W){var ie=this.lineVertexArray.length;if(k.segment!==void 0){for(var de=k.dist(W[k.segment+1]),Se=k.dist(W[k.segment]),Re={},Je=k.segment+1;Je<W.length;Je++)Re[Je]={x:W[Je].x,y:W[Je].y,tileUnitDistanceFromAnchor:de},Je<W.length-1&&(de+=W[Je+1].dist(W[Je]));for(var dt=k.segment||0;dt>=0;dt--)Re[dt]={x:W[dt].x,y:W[dt].y,tileUnitDistanceFromAnchor:Se},dt>0&&(Se+=W[dt-1].dist(W[dt]));for(var St=0;St<W.length;St++){var Rt=Re[St];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},Mi.prototype.addSymbols=function(k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt,ar){for(var er=k.indexArray,mr=k.layoutVertexArray,Br=k.segments.prepareSegment(4*W.length,mr,er,this.canOverlap?Re.sortKey:void 0),fn=this.glyphOffsetArray.length,rn=Br.vertexLength,Pn=this.allowVerticalPlacement&&Je===bl.vertical?Math.PI/2:0,mn=Re.text&&Re.text.sections,Ln=0;Ln<W.length;Ln++){var On=W[Ln],Xn=On.tl,ia=On.tr,ra=On.bl,Aa=On.br,ga=On.tex,wa=On.pixelOffsetTL,Va=On.pixelOffsetBR,Sa=On.minFontScaleX,La=On.minFontScaleY,Za=On.glyphOffset,Na=On.isSDF,ci=On.sectionIndex,Ei=Br.vertexLength,hi=Za[1];lg(mr,dt.x,dt.y,Xn.x,hi+Xn.y,ga.x,ga.y,ie,Na,wa.x,wa.y,Sa,La),lg(mr,dt.x,dt.y,ia.x,hi+ia.y,ga.x+ga.w,ga.y,ie,Na,Va.x,wa.y,Sa,La),lg(mr,dt.x,dt.y,ra.x,hi+ra.y,ga.x,ga.y+ga.h,ie,Na,wa.x,Va.y,Sa,La),lg(mr,dt.x,dt.y,Aa.x,hi+Aa.y,ga.x+ga.w,ga.y+ga.h,ie,Na,Va.x,Va.y,Sa,La),S1(k.dynamicLayoutVertexArray,dt,Pn),er.emplaceBack(Ei,Ei+1,Ei+2),er.emplaceBack(Ei+1,Ei+2,Ei+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Za[0]),(Ln===W.length-1||ci!==W[Ln+1].sectionIndex)&&k.programConfigurations.populatePaintArrays(mr.length,Re,Re.index,{},ar,mn&&mn[ci])}k.placedSymbolArray.emplaceBack(dt.x,dt.y,fn,this.glyphOffsetArray.length-fn,rn,St,Rt,dt.segment,ie?ie[0]:0,ie?ie[1]:0,de[0],de[1],Je,0,!1,0,Yt)},Mi.prototype._addCollisionDebugVertex=function(k,W,ie,de,Se,Re){return W.emplaceBack(0,0),k.emplaceBack(ie.x,ie.y,de,Se,Math.round(Re.x),Math.round(Re.y))},Mi.prototype.addCollisionDebugVertices=function(k,W,ie,de,Se,Re,Je){var dt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),St=dt.vertexLength,Rt=Se.layoutVertexArray,Yt=Se.collisionVertexArray,ar=Je.anchorX,er=Je.anchorY;this._addCollisionDebugVertex(Rt,Yt,Re,ar,er,new r(k,W)),this._addCollisionDebugVertex(Rt,Yt,Re,ar,er,new r(ie,W)),this._addCollisionDebugVertex(Rt,Yt,Re,ar,er,new r(ie,de)),this._addCollisionDebugVertex(Rt,Yt,Re,ar,er,new r(k,de)),dt.vertexLength+=4;var mr=Se.indexArray;mr.emplaceBack(St,St+1),mr.emplaceBack(St+1,St+2),mr.emplaceBack(St+2,St+3),mr.emplaceBack(St+3,St),dt.primitiveLength+=4},Mi.prototype.addDebugCollisionBoxes=function(k,W,ie,de){for(var Se=k;Se<W;Se++){var Re=this.collisionBoxArray.get(Se),Je=Re.x1,dt=Re.y1,St=Re.x2,Rt=Re.y2;this.addCollisionDebugVertices(Je,dt,St,Rt,de?this.textCollisionBox:this.iconCollisionBox,Re.anchorPoint,ie)}},Mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new bp(zv,ww.members,lv),this.iconCollisionBox=new bp(zv,ww.members,lv);for(var k=0;k<this.symbolInstances.length;k++){var W=this.symbolInstances.get(k);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Mi.prototype._deserializeCollisionBoxesForSymbol=function(k,W,ie,de,Se,Re,Je,dt,St){for(var Rt={},Yt=W;Yt<ie;Yt++){var ar=k.get(Yt);Rt.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},Rt.textFeatureIndex=ar.featureIndex;break}for(var er=de;er<Se;er++){var mr=k.get(er);Rt.verticalTextBox={x1:mr.x1,y1:mr.y1,x2:mr.x2,y2:mr.y2,anchorPointX:mr.anchorPointX,anchorPointY:mr.anchorPointY},Rt.verticalTextFeatureIndex=mr.featureIndex;break}for(var Br=Re;Br<Je;Br++){var fn=k.get(Br);Rt.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},Rt.iconFeatureIndex=fn.featureIndex;break}for(var rn=dt;rn<St;rn++){var Pn=k.get(rn);Rt.verticalIconBox={x1:Pn.x1,y1:Pn.y1,x2:Pn.x2,y2:Pn.y2,anchorPointX:Pn.anchorPointX,anchorPointY:Pn.anchorPointY},Rt.verticalIconFeatureIndex=Pn.featureIndex;break}return Rt},Mi.prototype.deserializeCollisionBoxes=function(k){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ie=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(k,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},Mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},Mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Mi.prototype.addIndicesForPlacedSymbol=function(k,W){for(var ie=k.placedSymbolArray.get(W),de=ie.vertexStartIndex+ie.numGlyphs*4,Se=ie.vertexStartIndex;Se<de;Se+=4)k.indexArray.emplaceBack(Se,Se+1,Se+2),k.indexArray.emplaceBack(Se+1,Se+2,Se+3)},Mi.prototype.getSortedSymbolIndexes=function(k){if(this.sortedAngle===k&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(k),ie=Math.cos(k),de=[],Se=[],Re=[],Je=0;Je<this.symbolInstances.length;++Je){Re.push(Je);var dt=this.symbolInstances.get(Je);de.push(Math.round(W*dt.anchorX+ie*dt.anchorY)|0),Se.push(dt.featureIndex)}return Re.sort(function(St,Rt){return de[St]-de[Rt]||Se[Rt]-Se[St]}),Re},Mi.prototype.addToSortKeyRanges=function(k,W){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===W?ie.symbolInstanceEnd=k+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:k,symbolInstanceEnd:k+1})},Mi.prototype.sortFeatures=function(k){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==k&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(k),this.sortedAngle=k,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,de=this.symbolInstanceIndexes;ie<de.length;ie+=1){var Se=de[ie],Re=this.symbolInstances.get(Se);this.featureSortOrder.push(Re.featureIndex),[Re.rightJustifiedTextSymbolIndex,Re.centerJustifiedTextSymbolIndex,Re.leftJustifiedTextSymbolIndex].forEach(function(Je,dt,St){Je>=0&&St.indexOf(Je)===dt&&W.addIndicesForPlacedSymbol(W.text,Je)}),Re.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Re.verticalPlacedTextSymbolIndex),Re.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.placedIconSymbolIndex),Re.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",Mi,{omit:["layers","collisionBoxArray","features","compareText"]}),Mi.MAX_GLYPHS=65535,Mi.addDynamicAttributes=S1;function F8(I,k){return k.replace(/{([^{}]+)}/g,function(W,ie){return ie in I?String(I[ie]):""})}var B8=new gi({"symbol-placement":new ua(Ar.layout_symbol["symbol-placement"]),"symbol-spacing":new ua(Ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ua(Ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pa(Ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ua(Ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ua(Ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ua(Ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new ua(Ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ua(Ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pa(Ar.layout_symbol["icon-size"]),"icon-text-fit":new ua(Ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ua(Ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pa(Ar.layout_symbol["icon-image"]),"icon-rotate":new Pa(Ar.layout_symbol["icon-rotate"]),"icon-padding":new ua(Ar.layout_symbol["icon-padding"]),"icon-keep-upright":new ua(Ar.layout_symbol["icon-keep-upright"]),"icon-offset":new Pa(Ar.layout_symbol["icon-offset"]),"icon-anchor":new Pa(Ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ua(Ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ua(Ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ua(Ar.layout_symbol["text-rotation-alignment"]),"text-field":new Pa(Ar.layout_symbol["text-field"]),"text-font":new Pa(Ar.layout_symbol["text-font"]),"text-size":new Pa(Ar.layout_symbol["text-size"]),"text-max-width":new Pa(Ar.layout_symbol["text-max-width"]),"text-line-height":new ua(Ar.layout_symbol["text-line-height"]),"text-letter-spacing":new Pa(Ar.layout_symbol["text-letter-spacing"]),"text-justify":new Pa(Ar.layout_symbol["text-justify"]),"text-radial-offset":new Pa(Ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ua(Ar.layout_symbol["text-variable-anchor"]),"text-anchor":new Pa(Ar.layout_symbol["text-anchor"]),"text-max-angle":new ua(Ar.layout_symbol["text-max-angle"]),"text-writing-mode":new ua(Ar.layout_symbol["text-writing-mode"]),"text-rotate":new Pa(Ar.layout_symbol["text-rotate"]),"text-padding":new ua(Ar.layout_symbol["text-padding"]),"text-keep-upright":new ua(Ar.layout_symbol["text-keep-upright"]),"text-transform":new Pa(Ar.layout_symbol["text-transform"]),"text-offset":new Pa(Ar.layout_symbol["text-offset"]),"text-allow-overlap":new ua(Ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ua(Ar.layout_symbol["text-ignore-placement"]),"text-optional":new ua(Ar.layout_symbol["text-optional"])}),N8=new gi({"icon-opacity":new Pa(Ar.paint_symbol["icon-opacity"]),"icon-color":new Pa(Ar.paint_symbol["icon-color"]),"icon-halo-color":new Pa(Ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pa(Ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pa(Ar.paint_symbol["icon-halo-blur"]),"icon-translate":new ua(Ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new ua(Ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pa(Ar.paint_symbol["text-opacity"]),"text-color":new Pa(Ar.paint_symbol["text-color"],{runtimeType:Cn,getOverride:function(I){return I.textColor},hasOverride:function(I){return!!I.textColor}}),"text-halo-color":new Pa(Ar.paint_symbol["text-halo-color"]),"text-halo-width":new Pa(Ar.paint_symbol["text-halo-width"]),"text-halo-blur":new Pa(Ar.paint_symbol["text-halo-blur"]),"text-translate":new ua(Ar.paint_symbol["text-translate"]),"text-translate-anchor":new ua(Ar.paint_symbol["text-translate-anchor"])}),M1={paint:N8,layout:B8},rd=function(k){this.type=k.property.overrides?k.property.overrides.runtimeType:Hr,this.defaultValue=k};rd.prototype.evaluate=function(k){if(k.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(k.formattedSection))return W.getOverride(k.formattedSection)}return k.feature&&k.featureState?this.defaultValue.evaluate(k.feature,k.featureState):this.defaultValue.property.specification.default},rd.prototype.eachChild=function(k){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;k(W._styleExpression.expression)}},rd.prototype.outputDefined=function(){return!1},rd.prototype.serialize=function(){return null},Be("FormatSectionOverride",rd,{omit:["defaultValue"]});var U8=function(I){function k(W){I.call(this,W,M1)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,de){if(I.prototype.recalculate.call(this,ie,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var Re=[],Je=0,dt=Se;Je<dt.length;Je+=1){var St=dt[Je];Re.indexOf(St)<0&&Re.push(St)}this.layout._values["text-writing-mode"]=Re}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},k.prototype.getValueAndResolveTokens=function(ie,de,Se,Re){var Je=this.layout.get(ie).evaluate(de,{},Se,Re),dt=this._unevaluatedLayout._values[ie];return!dt.isDataDriven()&&!$u(dt.value)&&Je?F8(de.properties,Je):Je},k.prototype.createBucket=function(ie){return new Mi(ie)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype._setPaintOverrides=function(){for(var ie=0,de=M1.paint.overridableProperties;ie<de.length;ie+=1){var Se=de[ie];if(k.hasPaintOverride(this.layout,Se)){var Re=this.paint.get(Se),Je=new rd(Re),dt=new vl(Je,Re.property.specification),St=null;Re.value.kind==="constant"||Re.value.kind==="source"?St=new to("source",dt):St=new Ds("composite",dt,Re.value.zoomStops,Re.value._interpolationType),this.paint._values[Se]=new Pi(Re.property,St,Re.parameters)}}},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,de,Se){return!this.layout||de.isDataDriven()||Se.isDataDriven()?!1:k.hasPaintOverride(this.layout,ie)},k.hasPaintOverride=function(ie,de){var Se=ie.get("text-field"),Re=M1.paint.properties[de],Je=!1,dt=function(Yt){for(var ar=0,er=Yt;ar<er.length;ar+=1){var mr=er[ar];if(Re.overrides&&Re.overrides.hasOverride(mr)){Je=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof so)dt(Se.value.value.sections);else if(Se.value.kind==="source"){var St=function(Yt){if(!Je)if(Yt instanceof Zi&&Wi(Yt.value)===ya){var ar=Yt.value;dt(ar.sections)}else Yt instanceof yo?dt(Yt.sections):Yt.eachChild(St)},Rt=Se.value;Rt._styleExpression&&St(Rt._styleExpression.expression)}return Je},k}($i),V8=new gi({"background-color":new ua(Ar.paint_background["background-color"]),"background-pattern":new ts(Ar.paint_background["background-pattern"]),"background-opacity":new ua(Ar.paint_background["background-opacity"])}),H8={paint:V8},G8=function(I){function k(W){I.call(this,W,H8)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}($i),W8=new gi({"raster-opacity":new ua(Ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new ua(Ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ua(Ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ua(Ar.paint_raster["raster-brightness-max"]),"raster-saturation":new ua(Ar.paint_raster["raster-saturation"]),"raster-contrast":new ua(Ar.paint_raster["raster-contrast"]),"raster-resampling":new ua(Ar.paint_raster["raster-resampling"]),"raster-fade-duration":new ua(Ar.paint_raster["raster-fade-duration"])}),Y8={paint:W8},j8=function(I){function k(W){I.call(this,W,Y8)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}($i);function X8(I){var k=[],W=I.id;return W===void 0&&k.push({message:"layers."+W+': missing required property "id"'}),I.render===void 0&&k.push({message:"layers."+W+': missing required method "render"'}),I.renderingMode&&I.renderingMode!=="2d"&&I.renderingMode!=="3d"&&k.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),k}var Z8=function(I){function k(W){I.call(this,W,{}),this.implementation=W}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},k.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},k.prototype.recalculate=function(){},k.prototype.updateTransitions=function(){},k.prototype.hasTransition=function(){},k.prototype.serialize=function(){},k.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},k.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},k}($i),K8={circle:mS,heatmap:TS,hillshade:MS,fill:JS,"fill-extrusion":mM,line:_M,symbol:U8,background:G8,raster:j8};function $8(I){return I.type==="custom"?new Z8(I):new K8[I.type](I)}var Zw=a.HTMLImageElement,Kw=a.HTMLCanvasElement,$w=a.HTMLVideoElement,Jw=a.ImageData,ug=a.ImageBitmap,hv=function(k,W,ie,de){this.context=k,this.format=ie,this.texture=k.gl.createTexture(),this.update(W,de)};hv.prototype.update=function(k,W,ie){var de=k.width,Se=k.height,Re=(!this.size||this.size[0]!==de||this.size[1]!==Se)&&!ie,Je=this,dt=Je.context,St=dt.gl;if(this.useMipmap=!!(W&&W.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!W||W.premultiply!==!1)),Re)this.size=[de,Se],k instanceof Zw||k instanceof Kw||k instanceof $w||k instanceof Jw||ug&&k instanceof ug?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,k):St.texImage2D(St.TEXTURE_2D,0,this.format,de,Se,0,this.format,St.UNSIGNED_BYTE,k.data);else{var Rt=ie||{x:0,y:0},Yt=Rt.x,ar=Rt.y;k instanceof Zw||k instanceof Kw||k instanceof $w||k instanceof Jw||ug&&k instanceof ug?St.texSubImage2D(St.TEXTURE_2D,0,Yt,ar,St.RGBA,St.UNSIGNED_BYTE,k):St.texSubImage2D(St.TEXTURE_2D,0,Yt,ar,de,Se,St.RGBA,St.UNSIGNED_BYTE,k.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},hv.prototype.bind=function(k,W,ie){var de=this,Se=de.context,Re=Se.gl;Re.bindTexture(Re.TEXTURE_2D,this.texture),ie===Re.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=Re.LINEAR),k!==this.filter&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MAG_FILTER,k),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MIN_FILTER,ie||k),this.filter=k),W!==this.wrap&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_S,W),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_T,W),this.wrap=W)},hv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},hv.prototype.destroy=function(){var k=this.context,W=k.gl;W.deleteTexture(this.texture),this.texture=null};var E1=function(k){var W=this;this._callback=k,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};E1.prototype.trigger=function(){var k=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){k._triggered=!1,k._callback()},0))},E1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var nd=function(k,W,ie){this.target=k,this.parent=W,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new E1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Q()?k:a};nd.prototype.send=function(k,W,ie,de,Se){var Re=this;Se===void 0&&(Se=!1);var Je=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[Je]=ie);var dt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:Je,type:k,hasCallback:!!ie,targetMapId:de,mustQueue:Se,sourceMapId:this.mapId,data:Pt(W,dt)},dt),{cancel:function(){ie&&delete Re.callbacks[Je],Re.target.postMessage({id:Je,type:"<cancel>",targetMapId:de,sourceMapId:Re.mapId})}}},nd.prototype.receive=function(k){var W=k.data,ie=W.id;if(ie&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ie];var de=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],de&&de()}else Q()||W.mustQueue?(this.tasks[ie]=W,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,W)},nd.prototype.process=function(){if(this.taskQueue.length){var k=this.taskQueue.shift(),W=this.tasks[k];delete this.tasks[k],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(k,W)}},nd.prototype.processTask=function(k,W){var ie=this;if(W.type==="<response>"){var de=this.callbacks[k];delete this.callbacks[k],de&&(W.error?de(At(W.error)):de(null,At(W.data)))}else{var Se=!1,Re=ue(this.globalScope)?void 0:[],Je=W.hasCallback?function(ar,er){Se=!0,delete ie.cancelCallbacks[k],ie.target.postMessage({id:k,type:"<response>",sourceMapId:ie.mapId,error:ar?Pt(ar):null,data:Pt(er,Re)},Re)}:function(ar){Se=!0},dt=null,St=At(W.data);if(this.parent[W.type])dt=this.parent[W.type](W.sourceMapId,St,Je);else if(this.parent.getWorkerSource){var Rt=W.type.split("."),Yt=this.parent.getWorkerSource(W.sourceMapId,Rt[0],St.source);dt=Yt[Rt[1]](St,Je)}else Je(new Error("Could not find function "+W.type));!Se&&dt&&dt.cancel&&(this.cancelCallbacks[k]=dt.cancel)}},nd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function J8(I,k,W){k=Math.pow(2,W)-k-1;var ie=Qw(I*256,k*256,W),de=Qw((I+1)*256,(k+1)*256,W);return ie[0]+","+ie[1]+","+de[0]+","+de[1]}function Qw(I,k,W){var ie=2*Math.PI*6378137/256/Math.pow(2,W),de=I*ie-2*Math.PI*6378137/2,Se=k*ie-2*Math.PI*6378137/2;return[de,Se]}var To=function(k,W){k&&(W?this.setSouthWest(k).setNorthEast(W):k.length===4?this.setSouthWest([k[0],k[1]]).setNorthEast([k[2],k[3]]):this.setSouthWest(k[0]).setNorthEast(k[1]))};To.prototype.setNorthEast=function(k){return this._ne=k instanceof Ui?new Ui(k.lng,k.lat):Ui.convert(k),this},To.prototype.setSouthWest=function(k){return this._sw=k instanceof Ui?new Ui(k.lng,k.lat):Ui.convert(k),this},To.prototype.extend=function(k){var W=this._sw,ie=this._ne,de,Se;if(k instanceof Ui)de=k,Se=k;else if(k instanceof To){if(de=k._sw,Se=k._ne,!de||!Se)return this}else{if(Array.isArray(k))if(k.length===4||k.every(Array.isArray)){var Re=k;return this.extend(To.convert(Re))}else{var Je=k;return this.extend(Ui.convert(Je))}return this}return!W&&!ie?(this._sw=new Ui(de.lng,de.lat),this._ne=new Ui(Se.lng,Se.lat)):(W.lng=Math.min(de.lng,W.lng),W.lat=Math.min(de.lat,W.lat),ie.lng=Math.max(Se.lng,ie.lng),ie.lat=Math.max(Se.lat,ie.lat)),this},To.prototype.getCenter=function(){return new Ui((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},To.prototype.getSouthWest=function(){return this._sw},To.prototype.getNorthEast=function(){return this._ne},To.prototype.getNorthWest=function(){return new Ui(this.getWest(),this.getNorth())},To.prototype.getSouthEast=function(){return new Ui(this.getEast(),this.getSouth())},To.prototype.getWest=function(){return this._sw.lng},To.prototype.getSouth=function(){return this._sw.lat},To.prototype.getEast=function(){return this._ne.lng},To.prototype.getNorth=function(){return this._ne.lat},To.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},To.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},To.prototype.isEmpty=function(){return!(this._sw&&this._ne)},To.prototype.contains=function(k){var W=Ui.convert(k),ie=W.lng,de=W.lat,Se=this._sw.lat<=de&&de<=this._ne.lat,Re=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Re=this._sw.lng>=ie&&ie>=this._ne.lng),Se&&Re},To.convert=function(k){return!k||k instanceof To?k:new To(k)};var qw=63710088e-1,Ui=function(k,W){if(isNaN(k)||isNaN(W))throw new Error("Invalid LngLat object: ("+k+", "+W+")");if(this.lng=+k,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ui.prototype.wrap=function(){return new Ui(T(this.lng,-180,180),this.lat)},Ui.prototype.toArray=function(){return[this.lng,this.lat]},Ui.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ui.prototype.distanceTo=function(k){var W=Math.PI/180,ie=this.lat*W,de=k.lat*W,Se=Math.sin(ie)*Math.sin(de)+Math.cos(ie)*Math.cos(de)*Math.cos((k.lng-this.lng)*W),Re=qw*Math.acos(Math.min(Se,1));return Re},Ui.prototype.toBounds=function(k){k===void 0&&(k=0);var W=40075017,ie=360*k/W,de=ie/Math.cos(Math.PI/180*this.lat);return new To(new Ui(this.lng-de,this.lat-ie),new Ui(this.lng+de,this.lat+ie))},Ui.convert=function(k){if(k instanceof Ui)return k;if(Array.isArray(k)&&(k.length===2||k.length===3))return new Ui(Number(k[0]),Number(k[1]));if(!Array.isArray(k)&&typeof k=="object"&&k!==null)return new Ui(Number("lng"in k?k.lng:k.lon),Number(k.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var e2=2*Math.PI*qw;function t2(I){return e2*Math.cos(I*Math.PI/180)}function r2(I){return(180+I)/360}function n2(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function a2(I,k){return I/t2(k)}function Q8(I){return I*360-180}function C1(I){var k=180-I*360;return 360/Math.PI*Math.atan(Math.exp(k*Math.PI/180))-90}function q8(I,k){return I*t2(C1(k))}function eE(I){return 1/Math.cos(I*Math.PI/180)}var vv=function(k,W,ie){ie===void 0&&(ie=0),this.x=+k,this.y=+W,this.z=+ie};vv.fromLngLat=function(k,W){W===void 0&&(W=0);var ie=Ui.convert(k);return new vv(r2(ie.lng),n2(ie.lat),a2(W,ie.lat))},vv.prototype.toLngLat=function(){return new Ui(Q8(this.x),C1(this.y))},vv.prototype.toAltitude=function(){return q8(this.z,this.y)},vv.prototype.meterInMercatorCoordinateUnits=function(){return 1/e2*eE(C1(this.y))};var dv=function(k,W,ie){this.z=k,this.x=W,this.y=ie,this.key=wp(0,k,k,W,ie)};dv.prototype.equals=function(k){return this.z===k.z&&this.x===k.x&&this.y===k.y},dv.prototype.url=function(k,W){var ie=J8(this.x,this.y,this.z),de=tE(this.z,this.x,this.y);return k[(this.x+this.y)%k.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ie)},dv.prototype.getTilePoint=function(k){var W=Math.pow(2,this.z);return new r((k.x*W-this.x)*Ea,(k.y*W-this.y)*Ea)},dv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var i2=function(k,W){this.wrap=k,this.canonical=W,this.key=wp(k,W.z,W.z,W.x,W.y)},Ao=function(k,W,ie,de,Se){this.overscaledZ=k,this.wrap=W,this.canonical=new dv(ie,+de,+Se),this.key=wp(W,k,ie,de,Se)};Ao.prototype.equals=function(k){return this.overscaledZ===k.overscaledZ&&this.wrap===k.wrap&&this.canonical.equals(k.canonical)},Ao.prototype.scaledTo=function(k){var W=this.canonical.z-k;return k>this.canonical.z?new Ao(k,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ao(k,this.wrap,k,this.canonical.x>>W,this.canonical.y>>W)},Ao.prototype.calculateScaledKey=function(k,W){var ie=this.canonical.z-k;return k>this.canonical.z?wp(this.wrap*+W,k,this.canonical.z,this.canonical.x,this.canonical.y):wp(this.wrap*+W,k,k,this.canonical.x>>ie,this.canonical.y>>ie)},Ao.prototype.isChildOf=function(k){if(k.wrap!==this.wrap)return!1;var W=this.canonical.z-k.canonical.z;return k.overscaledZ===0||k.overscaledZ<this.overscaledZ&&k.canonical.x===this.canonical.x>>W&&k.canonical.y===this.canonical.y>>W},Ao.prototype.children=function(k){if(this.overscaledZ>=k)return[new Ao(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ie=this.canonical.x*2,de=this.canonical.y*2;return[new Ao(W,this.wrap,W,ie,de),new Ao(W,this.wrap,W,ie+1,de),new Ao(W,this.wrap,W,ie,de+1),new Ao(W,this.wrap,W,ie+1,de+1)]},Ao.prototype.isLessThan=function(k){return this.wrap<k.wrap?!0:this.wrap>k.wrap?!1:this.overscaledZ<k.overscaledZ?!0:this.overscaledZ>k.overscaledZ?!1:this.canonical.x<k.canonical.x?!0:this.canonical.x>k.canonical.x?!1:this.canonical.y<k.canonical.y},Ao.prototype.wrapped=function(){return new Ao(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.unwrapTo=function(k){return new Ao(this.overscaledZ,k,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ao.prototype.toUnwrapped=function(){return new i2(this.wrap,this.canonical)},Ao.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ao.prototype.getTilePoint=function(k){return this.canonical.getTilePoint(new vv(k.x-this.wrap,k.y))};function wp(I,k,W,ie,de){I*=2,I<0&&(I=I*-1-1);var Se=1<<W;return(Se*Se*I+Se*de+ie).toString(36)+W.toString(36)+k.toString(36)}function tE(I,k,W){for(var ie="",de,Se=I;Se>0;Se--)de=1<<Se-1,ie+=(k&de?1:0)+(W&de?2:0);return ie}Be("CanonicalTileID",dv),Be("OverscaledTileID",Ao,{omit:["posMatrix"]});var Tc=function(k,W,ie){if(this.uid=k,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return U('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var de=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ie||"mapbox";for(var Se=0;Se<de;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(de,Se)]=this.data[this._idx(de-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,de)]=this.data[this._idx(Se,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};Tc.prototype.get=function(k,W){var ie=new Uint8Array(this.data.buffer),de=this._idx(k,W)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ie[de],ie[de+1],ie[de+2])},Tc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Tc.prototype._idx=function(k,W){if(k<-1||k>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(k+1)},Tc.prototype._unpackMapbox=function(k,W,ie){return(k*256*256+W*256+ie)/10-1e4},Tc.prototype._unpackTerrarium=function(k,W,ie){return k*256+W+ie/256-32768},Tc.prototype.getPixels=function(){return new Ns({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Tc.prototype.backfillBorder=function(k,W,ie){if(this.dim!==k.dim)throw new Error("dem dimension mismatch");var de=W*this.dim,Se=W*this.dim+this.dim,Re=ie*this.dim,Je=ie*this.dim+this.dim;switch(W){case-1:de=Se-1;break;case 1:Se=de+1;break}switch(ie){case-1:Re=Je-1;break;case 1:Je=Re+1;break}for(var dt=-W*this.dim,St=-ie*this.dim,Rt=Re;Rt<Je;Rt++)for(var Yt=de;Yt<Se;Yt++)this.data[this._idx(Yt,Rt)]=k.data[this._idx(Yt+dt,Rt+St)]},Be("DEMData",Tc);function rE(I,k){var W={};if(!k)return W;for(var ie=function(){var Re=Se[de],Je=Re.layerIds.map(function(Yt){return k.getLayer(Yt)}).filter(Boolean);if(Je.length!==0){Re.layers=Je,Re.stateDependentLayerIds&&(Re.stateDependentLayers=Re.stateDependentLayerIds.map(function(Yt){return Je.filter(function(ar){return ar.id===Yt})[0]}));for(var dt=0,St=Je;dt<St.length;dt+=1){var Rt=St[dt];W[Rt.id]=Re}}},de=0,Se=I;de<Se.length;de+=1)ie();return W}var fg=function(k){this._stringToNumber={},this._numberToString=[];for(var W=0;W<k.length;W++){var ie=k[W];this._stringToNumber[ie]=W,this._numberToString[W]=ie}};fg.prototype.encode=function(k){return this._stringToNumber[k]},fg.prototype.decode=function(k){return this._numberToString[k]};var cg=function(k,W,ie,de,Se){this.type="Feature",this._vectorTileFeature=k,k._z=W,k._x=ie,k._y=de,this.properties=k.properties,this.id=Se},L1={geometry:{configurable:!0}};L1.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},L1.geometry.set=function(I){this._geometry=I},cg.prototype.toJSON=function(){var k={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(k[W]=this[W]);return k},Object.defineProperties(cg.prototype,L1);var ad=function(){this.state={},this.stateChanges={},this.deletedStates={}};ad.prototype.updateState=function(k,W,ie){var de=String(W);if(this.stateChanges[k]=this.stateChanges[k]||{},this.stateChanges[k][de]=this.stateChanges[k][de]||{},x(this.stateChanges[k][de],ie),this.deletedStates[k]===null){this.deletedStates[k]={};for(var Se in this.state[k])Se!==de&&(this.deletedStates[k][Se]=null)}else{var Re=this.deletedStates[k]&&this.deletedStates[k][de]===null;if(Re){this.deletedStates[k][de]={};for(var Je in this.state[k][de])ie[Je]||(this.deletedStates[k][de][Je]=null)}else for(var dt in ie){var St=this.deletedStates[k]&&this.deletedStates[k][de]&&this.deletedStates[k][de][dt]===null;St&&delete this.deletedStates[k][de][dt]}}},ad.prototype.removeFeatureState=function(k,W,ie){var de=this.deletedStates[k]===null;if(!de){var Se=String(W);if(this.deletedStates[k]=this.deletedStates[k]||{},ie&&W!==void 0)this.deletedStates[k][Se]!==null&&(this.deletedStates[k][Se]=this.deletedStates[k][Se]||{},this.deletedStates[k][Se][ie]=null);else if(W!==void 0){var Re=this.stateChanges[k]&&this.stateChanges[k][Se];if(Re){this.deletedStates[k][Se]={};for(ie in this.stateChanges[k][Se])this.deletedStates[k][Se][ie]=null}else this.deletedStates[k][Se]=null}else this.deletedStates[k]=null}},ad.prototype.getState=function(k,W){var ie=String(W),de=this.state[k]||{},Se=this.stateChanges[k]||{},Re=x({},de[ie],Se[ie]);if(this.deletedStates[k]===null)return{};if(this.deletedStates[k]){var Je=this.deletedStates[k][W];if(Je===null)return{};for(var dt in Je)delete Re[dt]}return Re},ad.prototype.initializeTileState=function(k,W){k.setFeatureState(this.state,W)},ad.prototype.coalesceChanges=function(k,W){var ie={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Se={};for(var Re in this.stateChanges[de])this.state[de][Re]||(this.state[de][Re]={}),x(this.state[de][Re],this.stateChanges[de][Re]),Se[Re]=this.state[de][Re];ie[de]=Se}for(var Je in this.deletedStates){this.state[Je]=this.state[Je]||{};var dt={};if(this.deletedStates[Je]===null)for(var St in this.state[Je])dt[St]={},this.state[Je][St]={};else for(var Rt in this.deletedStates[Je]){var Yt=this.deletedStates[Je][Rt]===null;if(Yt)this.state[Je][Rt]={};else for(var ar=0,er=Object.keys(this.deletedStates[Je][Rt]);ar<er.length;ar+=1){var mr=er[ar];delete this.state[Je][Rt][mr]}dt[Rt]=this.state[Je][Rt]}ie[Je]=ie[Je]||{},x(ie[Je],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Br in k){var fn=k[Br];fn.setFeatureState(ie,W)}};var Ac=function(k,W){this.tileID=k,this.x=k.canonical.x,this.y=k.canonical.y,this.z=k.canonical.z,this.grid=new Ba(Ea,16,0),this.grid3D=new Ba(Ea,16,0),this.featureIndexArray=new j0,this.promoteId=W};Ac.prototype.insert=function(k,W,ie,de,Se,Re){var Je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,de,Se);for(var dt=Re?this.grid3D:this.grid,St=0;St<W.length;St++){for(var Rt=W[St],Yt=[1/0,1/0,-1/0,-1/0],ar=0;ar<Rt.length;ar++){var er=Rt[ar];Yt[0]=Math.min(Yt[0],er.x),Yt[1]=Math.min(Yt[1],er.y),Yt[2]=Math.max(Yt[2],er.x),Yt[3]=Math.max(Yt[3],er.y)}Yt[0]<Ea&&Yt[1]<Ea&&Yt[2]>=0&&Yt[3]>=0&&dt.insert(Je,Yt[0],Yt[1],Yt[2],Yt[3])}},Ac.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new jv.VectorTile(new eg(this.rawTileData)).layers,this.sourceLayerCoder=new fg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ac.prototype.query=function(k,W,ie,de){var Se=this;this.loadVTLayers();for(var Re=k.params||{},Je=Ea/k.tileSize/k.scale,dt=yl(Re.filter),St=k.queryGeometry,Rt=k.queryPadding*Je,Yt=s2(St),ar=this.grid.query(Yt.minX-Rt,Yt.minY-Rt,Yt.maxX+Rt,Yt.maxY+Rt),er=s2(k.cameraQueryGeometry),mr=this.grid3D.query(er.minX-Rt,er.minY-Rt,er.maxX+Rt,er.maxY+Rt,function(Xn,ia,ra,Aa){return Tu(k.cameraQueryGeometry,Xn-Rt,ia-Rt,ra+Rt,Aa+Rt)}),Br=0,fn=mr;Br<fn.length;Br+=1){var rn=fn[Br];ar.push(rn)}ar.sort(nE);for(var Pn={},mn,Ln=function(Xn){var ia=ar[Xn];if(ia!==mn){mn=ia;var ra=Se.featureIndexArray.get(ia),Aa=null;Se.loadMatchingFeature(Pn,ra.bucketIndex,ra.sourceLayerIndex,ra.featureIndex,dt,Re.layers,Re.availableImages,W,ie,de,function(ga,wa,Va){return Aa||(Aa=ii(ga)),wa.queryIntersectsFeature(St,ga,Va,Aa,Se.z,k.transform,Je,k.pixelPosMatrix)})}},On=0;On<ar.length;On++)Ln(On);return Pn},Ac.prototype.loadMatchingFeature=function(k,W,ie,de,Se,Re,Je,dt,St,Rt,Yt){var ar=this.bucketLayerIDs[W];if(!(Re&&!z(Re,ar))){var er=this.sourceLayerCoder.decode(ie),mr=this.vtLayers[er],Br=mr.feature(de);if(Se.needGeometry){var fn=Ii(Br,!0);if(!Se.filter(new Ma(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!Se.filter(new Ma(this.tileID.overscaledZ),Br))return;for(var rn=this.getId(Br,er),Pn=0;Pn<ar.length;Pn++){var mn=ar[Pn];if(!(Re&&Re.indexOf(mn)<0)){var Ln=dt[mn];if(Ln){var On={};rn!==void 0&&Rt&&(On=Rt.getState(Ln.sourceLayer||"_geojsonTileLayer",rn));var Xn=x({},St[mn]);Xn.paint=o2(Xn.paint,Ln.paint,Br,On,Je),Xn.layout=o2(Xn.layout,Ln.layout,Br,On,Je);var ia=!Yt||Yt(Br,Ln,On);if(ia){var ra=new cg(Br,this.z,this.x,this.y,rn);ra.layer=Xn;var Aa=k[mn];Aa===void 0&&(Aa=k[mn]=[]),Aa.push({featureIndex:de,feature:ra,intersectionZ:ia})}}}}}},Ac.prototype.lookupSymbolFeatures=function(k,W,ie,de,Se,Re,Je,dt){var St={};this.loadVTLayers();for(var Rt=yl(Se),Yt=0,ar=k;Yt<ar.length;Yt+=1){var er=ar[Yt];this.loadMatchingFeature(St,ie,de,er,Rt,Re,Je,dt,W)}return St},Ac.prototype.hasLayer=function(k){for(var W=0,ie=this.bucketLayerIDs;W<ie.length;W+=1)for(var de=ie[W],Se=0,Re=de;Se<Re.length;Se+=1){var Je=Re[Se];if(k===Je)return!0}return!1},Ac.prototype.getId=function(k,W){var ie=k.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ie=k.properties[de],typeof ie=="boolean"&&(ie=Number(ie))}return ie},Be("FeatureIndex",Ac,{omit:["rawTileData","sourceLayerCoder"]});function o2(I,k,W,ie,de){return _(I,function(Se,Re){var Je=k instanceof Po?k.get(Re):null;return Je&&Je.evaluate?Je.evaluate(W,ie,de):Je})}function s2(I){for(var k=1/0,W=1/0,ie=-1/0,de=-1/0,Se=0,Re=I;Se<Re.length;Se+=1){var Je=Re[Se];k=Math.min(k,Je.x),W=Math.min(W,Je.y),ie=Math.max(ie,Je.x),de=Math.max(de,Je.y)}return{minX:k,minY:W,maxX:ie,maxY:de}}function nE(I,k){return k-I}var aE=3e4,Bo=function(k,W){this.tileID=k,this.uid=m(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Bo.prototype.registerFadeDuration=function(k){var W=k+this.timeAdded;W<se.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},Bo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Bo.prototype.loadVectorData=function(k,W,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!k){this.collisionBoxArray=new ip;return}k.featureIndex&&(this.latestFeatureIndex=k.featureIndex,k.rawTileData?(this.latestRawTileData=k.rawTileData,this.latestFeatureIndex.rawTileData=k.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=k.collisionBoxArray,this.buckets=rE(k.buckets,W.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Se=this.buckets[de];if(Se instanceof Mi)if(this.hasSymbolBuckets=!0,ie)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Re in this.buckets){var Je=this.buckets[Re];if(Je instanceof Mi&&Je.hasRTLText){this.hasRTLText=!0,Ga();break}}this.queryPadding=0;for(var dt in this.buckets){var St=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(dt).queryRadius(St))}k.imageAtlas&&(this.imageAtlas=k.imageAtlas),k.glyphAtlasImage&&(this.glyphAtlasImage=k.glyphAtlasImage)},Bo.prototype.unloadVectorData=function(){for(var k in this.buckets)this.buckets[k].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Bo.prototype.getBucket=function(k){return this.buckets[k.id]},Bo.prototype.upload=function(k){for(var W in this.buckets){var ie=this.buckets[W];ie.uploadPending()&&ie.upload(k)}var de=k.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new hv(k,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new hv(k,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},Bo.prototype.prepare=function(k){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(k,this.imageAtlasTexture)},Bo.prototype.queryRenderedFeatures=function(k,W,ie,de,Se,Re,Je,dt,St,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Se,scale:Re,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:dt,params:Je,queryPadding:this.queryPadding*St},k,W,ie)},Bo.prototype.querySourceFeatures=function(k,W){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var de=ie.loadVTLayers(),Se=W?W.sourceLayer:"",Re=de._geojsonTileLayer||de[Se];if(Re)for(var Je=yl(W&&W.filter),dt=this.tileID.canonical,St=dt.z,Rt=dt.x,Yt=dt.y,ar={z:St,x:Rt,y:Yt},er=0;er<Re.length;er++){var mr=Re.feature(er);if(Je.needGeometry){var Br=Ii(mr,!0);if(!Je.filter(new Ma(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!Je.filter(new Ma(this.tileID.overscaledZ),mr))continue;var fn=ie.getId(mr,Se),rn=new cg(mr,St,Rt,Yt,fn);rn.tile=ar,k.push(rn)}}},Bo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Bo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Bo.prototype.setExpiryData=function(k){var W=this.expirationTime;if(k.cacheControl){var ie=ee(k.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else k.expires&&(this.expirationTime=new Date(k.expires).getTime());if(this.expirationTime){var de=Date.now(),Se=!1;if(this.expirationTime>de)Se=!1;else if(!W)Se=!0;else if(this.expirationTime<W)Se=!0;else{var Re=this.expirationTime-W;Re?this.expirationTime=de+Math.max(Re,aE):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Bo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Bo.prototype.setFeatureState=function(k,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(k).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(W.style.hasLayer(de)){var Se=this.buckets[de],Re=Se.layers[0].sourceLayer||"_geojsonTileLayer",Je=ie[Re],dt=k[Re];if(!(!Je||!dt||Object.keys(dt).length===0)){Se.update(dt,Je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=W&&W.style&&W.style.getLayer(de);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Se)))}}}},Bo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Bo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Bo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Bo.prototype.setHoldDuration=function(k){this.symbolFadeHoldUntil=se.now()+k},Bo.prototype.setDependencies=function(k,W){for(var ie={},de=0,Se=W;de<Se.length;de+=1){var Re=Se[de];ie[Re]=!0}this.dependencies[k]=ie},Bo.prototype.hasDependency=function(k,W){for(var ie=0,de=k;ie<de.length;ie+=1){var Se=de[ie],Re=this.dependencies[Se];if(Re)for(var Je=0,dt=W;Je<dt.length;Je+=1){var St=dt[Je];if(Re[St])return!0}}return!1};var iE=["type","source","source-layer","minzoom","maxzoom","filter","layout"],ph=a.performance,l2=function(k){this._marks={start:[k.url,"start"].join("#"),end:[k.url,"end"].join("#"),measure:k.url.toString()},ph.mark(this._marks.start)};l2.prototype.finish=function(){ph.mark(this._marks.end);var k=ph.getEntriesByName(this._marks.measure);return k.length===0&&(ph.measure(this._marks.measure,this._marks.start,this._marks.end),k=ph.getEntriesByName(this._marks.measure),ph.clearMarks(this._marks.start),ph.clearMarks(this._marks.end),ph.clearMeasures(this._marks.measure)),k},i.Actor=nd,i.AlphaImage=cv,i.CanonicalTileID=dv,i.CollisionBoxArray=ip,i.Color=ai,i.DEMData=Tc,i.DataConstantProperty=ua,i.DictionaryCoder=fg,i.EXTENT=Ea,i.ErrorEvent=Ft,i.EvaluationParameters=Ma,i.Event=tr,i.Evented=cr,i.FeatureIndex=Ac,i.FillBucket=lf,i.FillExtrusionBucket=uf,i.ImageAtlas=yp,i.ImagePosition=rg,i.LineBucket=Ts,i.LngLat=Ui,i.LngLatBounds=To,i.MercatorCoordinate=vv,i.ONE_EM=Ko,i.OverscaledTileID=Ao,i.Point=r,i.Point$1=r,i.Properties=gi,i.Protobuf=eg,i.RGBAImage=Ns,i.RequestManager=Ue,i.RequestPerformance=l2,i.ResourceType=yr,i.SegmentVector=bo,i.SourceFeatureState=ad,i.StructArrayLayout1ui2=sh,i.StructArrayLayout2f1f2i16=af,i.StructArrayLayout2i4=yc,i.StructArrayLayout3ui6=of,i.StructArrayLayout4i8=tp,i.SymbolBucket=Mi,i.Texture=hv,i.Tile=Bo,i.Transitionable=ui,i.Uniform1f=Xr,i.Uniform1i=Dr,i.Uniform2f=jr,i.Uniform3f=Gr,i.Uniform4f=Jr,i.UniformColor=vn,i.UniformMatrix4f=Vn,i.UnwrappedTileID=i2,i.ValidationError=Fr,i.WritingMode=bl,i.ZoomHistory=Vt,i.add=Gv,i.addDynamicAttributes=S1,i.asyncAll=c,i.bezier=l,i.bindAll=E,i.browser=se,i.cacheEntryPossiblyAdded=Lt,i.clamp=h,i.clearTileCache=Tr,i.clipLine=Hw,i.clone=Uv,i.clone$1=N,i.clone$2=a1,i.collisionCircleLayout=NM,i.config=ae,i.create=Nv,i.create$1=is,i.create$2=Bv,i.createCommonjsModule=C,i.createExpression=dl,i.createLayout=Bi,i.createStyleLayer=$8,i.cross=uS,i.deepEqual=n,i.dot=lS,i.dot$1=dS,i.ease=y,i.emitValidationErrors=_a,i.endsWith=w,i.enforceCacheSizeLimit=Xt,i.evaluateSizeForFeature=zw,i.evaluateSizeForZoom=Ow,i.evaluateVariableOffset=Yw,i.evented=Ca,i.extend=x,i.featureFilter=yl,i.filterObject=D,i.fromRotation=fh,i.getAnchorAlignment=b1,i.getAnchorJustification=A1,i.getArrayBuffer=Ut,i.getImage=Dt,i.getJSON=Ht,i.getRTLTextPluginStatus=Oa,i.getReferrer=mt,i.getVideo=Qt,i.identity=Vv,i.invert=ch,i.isChar=Gt,i.isMapboxURL=Ne,i.keysDifference=p,i.makeRequest=It,i.mapObject=_,i.mercatorXfromLng=r2,i.mercatorYfromLat=n2,i.mercatorZfromAltitude=a2,i.mul=n1,i.multiply=hh,i.mvt=jv,i.nextPowerOfTwo=M,i.normalize=lp,i.number=Ni,i.offscreenCanvasSupported=Jt,i.ortho=r1,i.parseGlyphPBF=h8,i.pbf=eg,i.performSymbolLayout=R8,i.perspective=sp,i.pick=b,i.plugin=ea,i.polygonIntersectsPolygon=Ya,i.postMapLoadEvent=We,i.postTurnstileEvent=Xe,i.potpack=Cw,i.refProperties=iE,i.register=Be,i.registerForPluginStateChange=li,i.renderColorRamp=iw,i.rotate=uv,i.rotateX=Bs,i.rotateZ=Hv,i.scale=Fs,i.scale$1=vS,i.scale$2=o1,i.setCacheLimits=yt,i.setRTLTextPlugin=Ki,i.sphericalToCartesian=j,i.sqrLen=yS,i.styleSpec=Ar,i.sub=cS,i.symbolSize=w8,i.transformMat3=fS,i.transformMat4=Z0,i.translate=no,i.triggerPluginCompletionEvent=ha,i.uniqueId=m,i.validateCustomStyleLayer=X8,i.validateLight=$n,i.validateStyle=_n,i.values=o,i.vectorTile=jv,i.version=S,i.warnOnce=U,i.webpSupported=he,i.window=a,i.wrap=T}),R(["./shared"],function(i){function C(mt){var lt=typeof mt;if(lt==="number"||lt==="boolean"||lt==="string"||mt===void 0||mt===null)return JSON.stringify(mt);if(Array.isArray(mt)){for(var bt="[",Et=0,It=mt;Et<It.length;Et+=1){var Ht=It[Et];bt+=C(Ht)+","}return bt+"]"}for(var Ut=Object.keys(mt).sort(),Bt="{",$t=0;$t<Ut.length;$t++)Bt+=JSON.stringify(Ut[$t])+":"+C(mt[Ut[$t]])+",";return Bt+"}"}function S(mt){for(var lt="",bt=0,Et=i.refProperties;bt<Et.length;bt+=1){var It=Et[bt];lt+="/"+C(mt[It])}return lt}function v(mt,lt){for(var bt={},Et=0;Et<mt.length;Et++){var It=lt&&lt[mt[Et].id]||S(mt[Et]);lt&&(lt[mt[Et].id]=It);var Ht=bt[It];Ht||(Ht=bt[It]=[]),Ht.push(mt[Et])}var Ut=[];for(var Bt in bt)Ut.push(bt[Bt]);return Ut}var d=function(lt){this.keyCache={},lt&&this.replace(lt)};d.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},d.prototype.update=function(lt,bt){for(var Et=this,It=0,Ht=lt;It<Ht.length;It+=1){var Ut=Ht[It];this._layerConfigs[Ut.id]=Ut;var Bt=this._layers[Ut.id]=i.createStyleLayer(Ut);Bt._featureFilter=i.featureFilter(Bt.filter),this.keyCache[Ut.id]&&delete this.keyCache[Ut.id]}for(var $t=0,fr=bt;$t<fr.length;$t+=1){var Zt=fr[$t];delete this.keyCache[Zt],delete this._layerConfigs[Zt],delete this._layers[Zt]}this.familiesBySource={};for(var vr=v(i.values(this._layerConfigs),this.keyCache),Ye=0,Ge=vr;Ye<Ge.length;Ye+=1){var zt=Ge[Ye],Dt=zt.map(function(cr){return Et._layers[cr.id]}),Qt=Dt[0];if(Qt.visibility!=="none"){var nr=Qt.source||"",ir=this.familiesBySource[nr];ir||(ir=this.familiesBySource[nr]={});var tr=Qt.sourceLayer||"_geojsonTileLayer",Ft=ir[tr];Ft||(Ft=ir[tr]=[]),Ft.push(Dt)}}};var r=1,t=function(lt){var bt={},Et=[];for(var It in lt){var Ht=lt[It],Ut=bt[It]={};for(var Bt in Ht){var $t=Ht[+Bt];if(!(!$t||$t.bitmap.width===0||$t.bitmap.height===0)){var fr={x:0,y:0,w:$t.bitmap.width+2*r,h:$t.bitmap.height+2*r};Et.push(fr),Ut[Bt]={rect:fr,metrics:$t.metrics}}}}var Zt=i.potpack(Et),vr=Zt.w,Ye=Zt.h,Ge=new i.AlphaImage({width:vr||1,height:Ye||1});for(var zt in lt){var Dt=lt[zt];for(var Qt in Dt){var nr=Dt[+Qt];if(!(!nr||nr.bitmap.width===0||nr.bitmap.height===0)){var ir=bt[zt][Qt].rect;i.AlphaImage.copy(nr.bitmap,Ge,{x:0,y:0},{x:ir.x+r,y:ir.y+r},nr.bitmap)}}}this.image=Ge,this.positions=bt};i.register("GlyphAtlas",t);var a=function(lt){this.tileID=new i.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};a.prototype.parse=function(lt,bt,Et,It,Ht){var Ut=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new i.CollisionBoxArray;var Bt=new i.DictionaryCoder(Object.keys(lt.layers).sort()),$t=new i.FeatureIndex(this.tileID,this.promoteId);$t.bucketLayerIDs=[];var fr={},Zt={featureIndex:$t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},vr=bt.familiesBySource[this.source];for(var Ye in vr){var Ge=lt.layers[Ye];if(Ge){Ge.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=Bt.encode(Ye),Dt=[],Qt=0;Qt<Ge.length;Qt++){var nr=Ge.feature(Qt),ir=$t.getId(nr,Ye);Dt.push({feature:nr,id:ir,index:Qt,sourceLayerIndex:zt})}for(var tr=0,Ft=vr[Ye];tr<Ft.length;tr+=1){var cr=Ft[tr],pr=cr[0];if(!(pr.minzoom&&this.zoom<Math.floor(pr.minzoom))&&!(pr.maxzoom&&this.zoom>=pr.maxzoom)&&pr.visibility!=="none"){n(cr,this.zoom,Et);var br=fr[pr.id]=pr.createBucket({index:$t.bucketLayerIDs.length,layers:cr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source});br.populate(Dt,Zt,this.tileID.canonical),$t.bucketLayerIDs.push(cr.map(function(xr){return xr.id}))}}}}var hr,Vr,Pr,Ir,sn=i.mapObject(Zt.glyphDependencies,function(xr){return Object.keys(xr).map(Number)});Object.keys(sn).length?It.send("getGlyphs",{uid:this.uid,stacks:sn},function(xr,_r){hr||(hr=xr,Vr=_r,Mn.call(Ut))}):Vr={};var an=Object.keys(Zt.iconDependencies);an.length?It.send("getImages",{icons:an,source:this.source,tileID:this.tileID,type:"icons"},function(xr,_r){hr||(hr=xr,Pr=_r,Mn.call(Ut))}):Pr={};var En=Object.keys(Zt.patternDependencies);En.length?It.send("getImages",{icons:En,source:this.source,tileID:this.tileID,type:"patterns"},function(xr,_r){hr||(hr=xr,Ir=_r,Mn.call(Ut))}):Ir={},Mn.call(this);function Mn(){if(hr)return Ht(hr);if(Vr&&Pr&&Ir){var xr=new t(Vr),_r=new i.ImageAtlas(Pr,Ir);for(var Yr in fr){var zr=fr[Yr];zr instanceof i.SymbolBucket?(n(zr.layers,this.zoom,Et),i.performSymbolLayout(zr,Vr,xr.positions,Pr,_r.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):zr.hasPattern&&(zr instanceof i.LineBucket||zr instanceof i.FillBucket||zr instanceof i.FillExtrusionBucket)&&(n(zr.layers,this.zoom,Et),zr.addFeatures(Zt,this.tileID.canonical,_r.patternPositions))}this.status="done",Ht(null,{buckets:i.values(fr).filter(function(gn){return!gn.isEmpty()}),featureIndex:$t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xr.image,imageAtlas:_r,glyphMap:this.returnDependencies?Vr:null,iconMap:this.returnDependencies?Pr:null,glyphPositions:this.returnDependencies?xr.positions:null})}}};function n(mt,lt,bt){for(var Et=new i.EvaluationParameters(lt),It=0,Ht=mt;It<Ht.length;It+=1){var Ut=Ht[It];Ut.recalculate(Et,bt)}}function f(mt,lt){var bt=i.getArrayBuffer(mt.request,function(Et,It,Ht,Ut){Et?lt(Et):It&&lt(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(It)),rawData:It,cacheControl:Ht,expires:Ut})});return function(){bt.cancel(),lt()}}var u=function(lt,bt,Et,It){this.actor=lt,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=It||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(lt,bt){var Et=this,It=lt.uid;this.loading||(this.loading={});var Ht=lt&&lt.request&&lt.request.collectResourceTiming?new i.RequestPerformance(lt.request):!1,Ut=this.loading[It]=new a(lt);Ut.abort=this.loadVectorData(lt,function(Bt,$t){if(delete Et.loading[It],Bt||!$t)return Ut.status="done",Et.loaded[It]=Ut,bt(Bt);var fr=$t.rawData,Zt={};$t.expires&&(Zt.expires=$t.expires),$t.cacheControl&&(Zt.cacheControl=$t.cacheControl);var vr={};if(Ht){var Ye=Ht.finish();Ye&&(vr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Ut.vectorTile=$t.vectorTile,Ut.parse($t.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Ge,zt){if(Ge||!zt)return bt(Ge);bt(null,i.extend({rawTileData:fr.slice(0)},zt,Zt,vr))}),Et.loaded=Et.loaded||{},Et.loaded[It]=Ut})},u.prototype.reloadTile=function(lt,bt){var Et=this,It=this.loaded,Ht=lt.uid,Ut=this;if(It&&It[Ht]){var Bt=It[Ht];Bt.showCollisionBoxes=lt.showCollisionBoxes;var $t=function(fr,Zt){var vr=Bt.reloadCallback;vr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Ut.layerIndex,Et.availableImages,Ut.actor,vr)),bt(fr,Zt)};Bt.status==="parsing"?Bt.reloadCallback=$t:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,$t):$t())}},u.prototype.abortTile=function(lt,bt){var Et=this.loading,It=lt.uid;Et&&Et[It]&&Et[It].abort&&(Et[It].abort(),delete Et[It]),bt()},u.prototype.removeTile=function(lt,bt){var Et=this.loaded,It=lt.uid;Et&&Et[It]&&delete Et[It],bt()};var l=i.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(lt,bt){var Et=lt.uid,It=lt.encoding,Ht=lt.rawImageData,Ut=l&&Ht instanceof l?this.getImageData(Ht):Ht,Bt=new i.DEMData(Et,Ut,It);this.loaded=this.loaded||{},this.loaded[Et]=Bt,bt(null,Bt)},y.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:bt.width,height:bt.height},bt.data)},y.prototype.removeTile=function(lt){var bt=this.loaded,Et=lt.uid;bt&&bt[Et]&&delete bt[Et]};var h=T;function T(mt,lt){var bt=mt&&mt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<mt.features.length;Et++)T(mt.features[Et],lt);else if(bt==="GeometryCollection")for(Et=0;Et<mt.geometries.length;Et++)T(mt.geometries[Et],lt);else if(bt==="Feature")T(mt.geometry,lt);else if(bt==="Polygon")c(mt.coordinates,lt);else if(bt==="MultiPolygon")for(Et=0;Et<mt.coordinates.length;Et++)c(mt.coordinates[Et],lt);return mt}function c(mt,lt){if(mt.length!==0){o(mt[0],lt);for(var bt=1;bt<mt.length;bt++)o(mt[bt],!lt)}}function o(mt,lt){for(var bt=0,Et=0,It=mt.length,Ht=It-1;Et<It;Ht=Et++)bt+=(mt[Et][0]-mt[Ht][0])*(mt[Ht][1]+mt[Et][1]);bt>=0!=!!lt&&mt.reverse()}var p=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(lt){this._feature=lt,this.extent=i.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var It=Et[bt];lt.push([new i.Point$1(It[0],It[1])])}return lt}else{for(var Ht=[],Ut=0,Bt=this._feature.geometry;Ut<Bt.length;Ut+=1){for(var $t=Bt[Ut],fr=[],Zt=0,vr=$t;Zt<vr.length;Zt+=1){var Ye=vr[Zt];fr.push(new i.Point$1(Ye[0],Ye[1]))}Ht.push(fr)}return Ht}},x.prototype.toGeoJSON=function(lt,bt,Et){return p.call(this,lt,bt,Et)};var b=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=lt.length,this._features=lt};b.prototype.feature=function(lt){return new x(this._features[lt])};var P=i.vectorTile.VectorTileFeature,m=L;function L(mt,lt){this.options=lt||{},this.features=mt,this.length=mt.length}L.prototype.feature=function(mt){return new M(this.features[mt],this.options.extent)};function M(mt,lt){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=lt||4096}M.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<mt.length;lt++){for(var bt=mt[lt],Et=[],It=0;It<bt.length;It++)Et.push(new i.Point$1(bt[It][0],bt[It][1]));this.geometry.push(Et)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,lt=1/0,bt=-1/0,Et=1/0,It=-1/0,Ht=0;Ht<mt.length;Ht++)for(var Ut=mt[Ht],Bt=0;Bt<Ut.length;Bt++){var $t=Ut[Bt];lt=Math.min(lt,$t.x),bt=Math.max(bt,$t.x),Et=Math.min(Et,$t.y),It=Math.max(It,$t.y)}return[lt,Et,bt,It]},M.prototype.toGeoJSON=P.prototype.toGeoJSON;var s=D,E=D,w=N,_=m;function D(mt){var lt=new i.pbf;return z(mt,lt),lt.finish()}function N(mt,lt){lt=lt||{};var bt={};for(var Et in mt)bt[Et]=new m(mt[Et].features,lt),bt[Et].name=Et,bt[Et].version=lt.version,bt[Et].extent=lt.extent;return D({layers:bt})}function z(mt,lt){for(var bt in mt.layers)lt.writeMessage(3,F,mt.layers[bt])}function F(mt,lt){lt.writeVarintField(15,mt.version||1),lt.writeStringField(1,mt.name||""),lt.writeVarintField(5,mt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<mt.length;bt++)Et.feature=mt.feature(bt),lt.writeMessage(2,U,Et);var It=Et.keys;for(bt=0;bt<It.length;bt++)lt.writeStringField(3,It[bt]);var Ht=Et.values;for(bt=0;bt<Ht.length;bt++)lt.writeMessage(4,ee,Ht[bt])}function U(mt,lt){var bt=mt.feature;bt.id!==void 0&&lt.writeVarintField(1,bt.id),lt.writeMessage(2,B,mt),lt.writeVarintField(3,bt.type),lt.writeMessage(4,Q,bt)}function B(mt,lt){var bt=mt.feature,Et=mt.keys,It=mt.values,Ht=mt.keycache,Ut=mt.valuecache;for(var Bt in bt.properties){var $t=Ht[Bt];typeof $t>"u"&&(Et.push(Bt),$t=Et.length-1,Ht[Bt]=$t),lt.writeVarint($t);var fr=bt.properties[Bt],Zt=typeof fr;Zt!=="string"&&Zt!=="boolean"&&Zt!=="number"&&(fr=JSON.stringify(fr));var vr=Zt+":"+fr,Ye=Ut[vr];typeof Ye>"u"&&(It.push(fr),Ye=It.length-1,Ut[vr]=Ye),lt.writeVarint(Ye)}}function V(mt,lt){return(lt<<3)+(mt&7)}function j(mt){return mt<<1^mt>>31}function Q(mt,lt){for(var bt=mt.loadGeometry(),Et=mt.type,It=0,Ht=0,Ut=bt.length,Bt=0;Bt<Ut;Bt++){var $t=bt[Bt],fr=1;Et===1&&(fr=$t.length),lt.writeVarint(V(1,fr));for(var Zt=Et===3?$t.length-1:$t.length,vr=0;vr<Zt;vr++){vr===1&&Et!==1&&lt.writeVarint(V(2,Zt-1));var Ye=$t[vr].x-It,Ge=$t[vr].y-Ht;lt.writeVarint(j(Ye)),lt.writeVarint(j(Ge)),It+=Ye,Ht+=Ge}Et===3&&lt.writeVarint(V(7,1))}}function ee(mt,lt){var bt=typeof mt;bt==="string"?lt.writeStringField(1,mt):bt==="boolean"?lt.writeBooleanField(7,mt):bt==="number"&&(mt%1!==0?lt.writeDoubleField(3,mt):mt<0?lt.writeSVarintField(6,mt):lt.writeVarintField(5,mt))}s.fromVectorTileJs=E,s.fromGeojsonVt=w,s.GeoJSONWrapper=_;function re(mt,lt,bt,Et,It,Ht){if(!(It-Et<=bt)){var Ut=Et+It>>1;ue(mt,lt,Ut,Et,It,Ht%2),re(mt,lt,bt,Et,Ut-1,Ht+1),re(mt,lt,bt,Ut+1,It,Ht+1)}}function ue(mt,lt,bt,Et,It,Ht){for(;It>Et;){if(It-Et>600){var Ut=It-Et+1,Bt=bt-Et+1,$t=Math.log(Ut),fr=.5*Math.exp(2*$t/3),Zt=.5*Math.sqrt($t*fr*(Ut-fr)/Ut)*(Bt-Ut/2<0?-1:1),vr=Math.max(Et,Math.floor(bt-Bt*fr/Ut+Zt)),Ye=Math.min(It,Math.floor(bt+(Ut-Bt)*fr/Ut+Zt));ue(mt,lt,bt,vr,Ye,Ht)}var Ge=lt[2*bt+Ht],zt=Et,Dt=It;for(J(mt,lt,Et,bt),lt[2*It+Ht]>Ge&&J(mt,lt,Et,It);zt<Dt;){for(J(mt,lt,zt,Dt),zt++,Dt--;lt[2*zt+Ht]<Ge;)zt++;for(;lt[2*Dt+Ht]>Ge;)Dt--}lt[2*Et+Ht]===Ge?J(mt,lt,Et,Dt):(Dt++,J(mt,lt,Dt,It)),Dt<=bt&&(Et=Dt+1),bt<=Dt&&(It=Dt-1)}}function J(mt,lt,bt,Et){X(mt,bt,Et),X(lt,2*bt,2*Et),X(lt,2*bt+1,2*Et+1)}function X(mt,lt,bt){var Et=mt[lt];mt[lt]=mt[bt],mt[bt]=Et}function ne(mt,lt,bt,Et,It,Ht,Ut){for(var Bt=[0,mt.length-1,0],$t=[],fr,Zt;Bt.length;){var vr=Bt.pop(),Ye=Bt.pop(),Ge=Bt.pop();if(Ye-Ge<=Ut){for(var zt=Ge;zt<=Ye;zt++)fr=lt[2*zt],Zt=lt[2*zt+1],fr>=bt&&fr<=It&&Zt>=Et&&Zt<=Ht&&$t.push(mt[zt]);continue}var Dt=Math.floor((Ge+Ye)/2);fr=lt[2*Dt],Zt=lt[2*Dt+1],fr>=bt&&fr<=It&&Zt>=Et&&Zt<=Ht&&$t.push(mt[Dt]);var Qt=(vr+1)%2;(vr===0?bt<=fr:Et<=Zt)&&(Bt.push(Ge),Bt.push(Dt-1),Bt.push(Qt)),(vr===0?It>=fr:Ht>=Zt)&&(Bt.push(Dt+1),Bt.push(Ye),Bt.push(Qt))}return $t}function Y(mt,lt,bt,Et,It,Ht){for(var Ut=[0,mt.length-1,0],Bt=[],$t=It*It;Ut.length;){var fr=Ut.pop(),Zt=Ut.pop(),vr=Ut.pop();if(Zt-vr<=Ht){for(var Ye=vr;Ye<=Zt;Ye++)oe(lt[2*Ye],lt[2*Ye+1],bt,Et)<=$t&&Bt.push(mt[Ye]);continue}var Ge=Math.floor((vr+Zt)/2),zt=lt[2*Ge],Dt=lt[2*Ge+1];oe(zt,Dt,bt,Et)<=$t&&Bt.push(mt[Ge]);var Qt=(fr+1)%2;(fr===0?bt-It<=zt:Et-It<=Dt)&&(Ut.push(vr),Ut.push(Ge-1),Ut.push(Qt)),(fr===0?bt+It>=zt:Et+It>=Dt)&&(Ut.push(Ge+1),Ut.push(Zt),Ut.push(Qt))}return Bt}function oe(mt,lt,bt,Et){var It=mt-bt,Ht=lt-Et;return It*It+Ht*Ht}var le=function(mt){return mt[0]},Z=function(mt){return mt[1]},$=function(lt,bt,Et,It,Ht){bt===void 0&&(bt=le),Et===void 0&&(Et=Z),It===void 0&&(It=64),Ht===void 0&&(Ht=Float64Array),this.nodeSize=It,this.points=lt;for(var Ut=lt.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Ut(lt.length),$t=this.coords=new Ht(lt.length*2),fr=0;fr<lt.length;fr++)Bt[fr]=fr,$t[2*fr]=bt(lt[fr]),$t[2*fr+1]=Et(lt[fr]);re(Bt,$t,It,0,Bt.length-1,0)};$.prototype.range=function(lt,bt,Et,It){return ne(this.ids,this.coords,lt,bt,Et,It,this.nodeSize)},$.prototype.within=function(lt,bt,Et){return Y(this.ids,this.coords,lt,bt,Et,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(mt){return mt}},ae=function(lt){this.options=Ce(Object.create(se),lt),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(lt){var bt=this.options,Et=bt.log,It=bt.minZoom,Ht=bt.maxZoom,Ut=bt.nodeSize;Et&&console.time("total time");var Bt="prepare "+lt.length+" points";Et&&console.time(Bt),this.points=lt;for(var $t=[],fr=0;fr<lt.length;fr++)lt[fr].geometry&&$t.push(me(lt[fr],fr));this.trees[Ht+1]=new $($t,Ue,Ne,Ut,Float32Array),Et&&console.timeEnd(Bt);for(var Zt=Ht;Zt>=It;Zt--){var vr=+Date.now();$t=this._cluster($t,Zt),this.trees[Zt]=new $($t,Ue,Ne,Ut,Float32Array),Et&&console.log("z%d: %d clusters in %dms",Zt,$t.length,+Date.now()-vr)}return Et&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(lt,bt){var Et=((lt[0]+180)%360+360)%360-180,It=Math.max(-90,Math.min(90,lt[1])),Ht=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Ut=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Et=-180,Ht=180;else if(Et>Ht){var Bt=this.getClusters([Et,It,180,Ut],bt),$t=this.getClusters([-180,It,Ht,Ut],bt);return Bt.concat($t)}for(var fr=this.trees[this._limitZoom(bt)],Zt=fr.range(Pe(Et),be(Ut),Pe(Ht),be(It)),vr=[],Ye=0,Ge=Zt;Ye<Ge.length;Ye+=1){var zt=Ge[Ye],Dt=fr.points[zt];vr.push(Dt.numPoints?Me(Dt):this.points[Dt.index])}return vr},ae.prototype.getChildren=function(lt){var bt=this._getOriginId(lt),Et=this._getOriginZoom(lt),It="No cluster with the specified id.",Ht=this.trees[Et];if(!Ht)throw new Error(It);var Ut=Ht.points[bt];if(!Ut)throw new Error(It);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),$t=Ht.within(Ut.x,Ut.y,Bt),fr=[],Zt=0,vr=$t;Zt<vr.length;Zt+=1){var Ye=vr[Zt],Ge=Ht.points[Ye];Ge.parentId===lt&&fr.push(Ge.numPoints?Me(Ge):this.points[Ge.index])}if(fr.length===0)throw new Error(It);return fr},ae.prototype.getLeaves=function(lt,bt,Et){bt=bt||10,Et=Et||0;var It=[];return this._appendLeaves(It,lt,bt,Et,0),It},ae.prototype.getTile=function(lt,bt,Et){var It=this.trees[this._limitZoom(lt)],Ht=Math.pow(2,lt),Ut=this.options,Bt=Ut.extent,$t=Ut.radius,fr=$t/Bt,Zt=(Et-fr)/Ht,vr=(Et+1+fr)/Ht,Ye={features:[]};return this._addTileFeatures(It.range((bt-fr)/Ht,Zt,(bt+1+fr)/Ht,vr),It.points,bt,Et,Ht,Ye),bt===0&&this._addTileFeatures(It.range(1-fr/Ht,Zt,1,vr),It.points,Ht,Et,Ht,Ye),bt===Ht-1&&this._addTileFeatures(It.range(0,Zt,fr/Ht,vr),It.points,-1,Et,Ht,Ye),Ye.features.length?Ye:null},ae.prototype.getClusterExpansionZoom=function(lt){for(var bt=this._getOriginZoom(lt)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(lt);if(bt++,Et.length!==1)break;lt=Et[0].properties.cluster_id}return bt},ae.prototype._appendLeaves=function(lt,bt,Et,It,Ht){for(var Ut=this.getChildren(bt),Bt=0,$t=Ut;Bt<$t.length;Bt+=1){var fr=$t[Bt],Zt=fr.properties;if(Zt&&Zt.cluster?Ht+Zt.point_count<=It?Ht+=Zt.point_count:Ht=this._appendLeaves(lt,Zt.cluster_id,Et,It,Ht):Ht<It?Ht++:lt.push(fr),lt.length===Et)break}return Ht},ae.prototype._addTileFeatures=function(lt,bt,Et,It,Ht,Ut){for(var Bt=0,$t=lt;Bt<$t.length;Bt+=1){var fr=$t[Bt],Zt=bt[fr],vr=Zt.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(Zt.x*Ht-Et)),Math.round(this.options.extent*(Zt.y*Ht-It))]],tags:vr?Te(Zt):this.points[Zt.index].properties},Ge=void 0;vr?Ge=Zt.id:this.options.generateId?Ge=Zt.index:this.points[Zt.index].id&&(Ge=this.points[Zt.index].id),Ge!==void 0&&(Ye.id=Ge),Ut.features.push(Ye)}},ae.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},ae.prototype._cluster=function(lt,bt){for(var Et=[],It=this.options,Ht=It.radius,Ut=It.extent,Bt=It.reduce,$t=It.minPoints,fr=Ht/(Ut*Math.pow(2,bt)),Zt=0;Zt<lt.length;Zt++){var vr=lt[Zt];if(!(vr.zoom<=bt)){vr.zoom=bt;for(var Ye=this.trees[bt+1],Ge=Ye.within(vr.x,vr.y,fr),zt=vr.numPoints||1,Dt=zt,Qt=0,nr=Ge;Qt<nr.length;Qt+=1){var ir=nr[Qt],tr=Ye.points[ir];tr.zoom>bt&&(Dt+=tr.numPoints||1)}if(Dt>=$t){for(var Ft=vr.x*zt,cr=vr.y*zt,pr=Bt&&zt>1?this._map(vr,!0):null,br=(Zt<<5)+(bt+1)+this.points.length,hr=0,Vr=Ge;hr<Vr.length;hr+=1){var Pr=Vr[hr],Ir=Ye.points[Pr];if(!(Ir.zoom<=bt)){Ir.zoom=bt;var sn=Ir.numPoints||1;Ft+=Ir.x*sn,cr+=Ir.y*sn,Ir.parentId=br,Bt&&(pr||(pr=this._map(vr,!0)),Bt(pr,this._map(Ir)))}}vr.parentId=br,Et.push(he(Ft/Dt,cr/Dt,br,Dt,pr))}else if(Et.push(vr),Dt>1)for(var an=0,En=Ge;an<En.length;an+=1){var Mn=En[an],xr=Ye.points[Mn];xr.zoom<=bt||(xr.zoom=bt,Et.push(xr))}}}return Et},ae.prototype._getOriginId=function(lt){return lt-this.points.length>>5},ae.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},ae.prototype._map=function(lt,bt){if(lt.numPoints)return bt?Ce({},lt.properties):lt.properties;var Et=this.points[lt.index].properties,It=this.options.map(Et);return bt&&It===Et?Ce({},It):It};function he(mt,lt,bt,Et,It){return{x:mt,y:lt,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:It}}function me(mt,lt){var bt=mt.geometry.coordinates,Et=bt[0],It=bt[1];return{x:Pe(Et),y:be(It),zoom:1/0,index:lt,parentId:-1}}function Me(mt){return{type:"Feature",id:mt.id,properties:Te(mt),geometry:{type:"Point",coordinates:[Ee(mt.x),xe(mt.y)]}}}function Te(mt){var lt=mt.numPoints,bt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Ce(Ce({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:lt,point_count_abbreviated:bt})}function Pe(mt){return mt/360+.5}function be(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Ee(mt){return(mt-.5)*360}function xe(mt){var lt=(180-mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Ce(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Ue(mt){return mt.x}function Ne(mt){return mt.y}function De(mt,lt,bt,Et){for(var It=Et,Ht=bt-lt>>1,Ut=bt-lt,Bt,$t=mt[lt],fr=mt[lt+1],Zt=mt[bt],vr=mt[bt+1],Ye=lt+3;Ye<bt;Ye+=3){var Ge=He(mt[Ye],mt[Ye+1],$t,fr,Zt,vr);if(Ge>It)Bt=Ye,It=Ge;else if(Ge===It){var zt=Math.abs(Ye-Ht);zt<Ut&&(Bt=Ye,Ut=zt)}}It>Et&&(Bt-lt>3&&De(mt,lt,Bt,Et),mt[Bt+2]=It,bt-Bt>3&&De(mt,Bt,bt,Et))}function He(mt,lt,bt,Et,It,Ht){var Ut=It-bt,Bt=Ht-Et;if(Ut!==0||Bt!==0){var $t=((mt-bt)*Ut+(lt-Et)*Bt)/(Ut*Ut+Bt*Bt);$t>1?(bt=It,Et=Ht):$t>0&&(bt+=Ut*$t,Et+=Bt*$t)}return Ut=mt-bt,Bt=lt-Et,Ut*Ut+Bt*Bt}function at(mt,lt,bt,Et){var It={id:typeof mt>"u"?null:mt,type:lt,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return vt(It),It}function vt(mt){var lt=mt.geometry,bt=mt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")ot(mt,lt);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<lt.length;Et++)ot(mt,lt[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<lt.length;Et++)for(var It=0;It<lt[Et].length;It++)ot(mt,lt[Et][It])}function ot(mt,lt){for(var bt=0;bt<lt.length;bt+=3)mt.minX=Math.min(mt.minX,lt[bt]),mt.minY=Math.min(mt.minY,lt[bt+1]),mt.maxX=Math.max(mt.maxX,lt[bt]),mt.maxY=Math.max(mt.maxY,lt[bt+1])}function et(mt,lt){var bt=[];if(mt.type==="FeatureCollection")for(var Et=0;Et<mt.features.length;Et++)ct(bt,mt.features[Et],lt,Et);else mt.type==="Feature"?ct(bt,mt,lt):ct(bt,{geometry:mt},lt);return bt}function ct(mt,lt,bt,Et){if(lt.geometry){var It=lt.geometry.coordinates,Ht=lt.geometry.type,Ut=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Bt=[],$t=lt.id;if(bt.promoteId?$t=lt.properties[bt.promoteId]:bt.generateId&&($t=Et||0),Ht==="Point")ht(It,Bt);else if(Ht==="MultiPoint")for(var fr=0;fr<It.length;fr++)ht(It[fr],Bt);else if(Ht==="LineString")gt(It,Bt,Ut,!1);else if(Ht==="MultiLineString")if(bt.lineMetrics){for(fr=0;fr<It.length;fr++)Bt=[],gt(It[fr],Bt,Ut,!1),mt.push(at($t,"LineString",Bt,lt.properties));return}else xt(It,Bt,Ut,!1);else if(Ht==="Polygon")xt(It,Bt,Ut,!0);else if(Ht==="MultiPolygon")for(fr=0;fr<It.length;fr++){var Zt=[];xt(It[fr],Zt,Ut,!0),Bt.push(Zt)}else if(Ht==="GeometryCollection"){for(fr=0;fr<lt.geometry.geometries.length;fr++)ct(mt,{id:$t,geometry:lt.geometry.geometries[fr],properties:lt.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");mt.push(at($t,Ht,Bt,lt.properties))}}function ht(mt,lt){lt.push(Mt(mt[0])),lt.push(tt(mt[1])),lt.push(0)}function gt(mt,lt,bt,Et){for(var It,Ht,Ut=0,Bt=0;Bt<mt.length;Bt++){var $t=Mt(mt[Bt][0]),fr=tt(mt[Bt][1]);lt.push($t),lt.push(fr),lt.push(0),Bt>0&&(Et?Ut+=(It*fr-$t*Ht)/2:Ut+=Math.sqrt(Math.pow($t-It,2)+Math.pow(fr-Ht,2))),It=$t,Ht=fr}var Zt=lt.length-3;lt[2]=1,De(lt,0,Zt,bt),lt[Zt+2]=1,lt.size=Math.abs(Ut),lt.start=0,lt.end=lt.size}function xt(mt,lt,bt,Et){for(var It=0;It<mt.length;It++){var Ht=[];gt(mt[It],Ht,bt,Et),lt.push(Ht)}}function Mt(mt){return mt/360+.5}function tt(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Oe(mt,lt,bt,Et,It,Ht,Ut,Bt){if(bt/=lt,Et/=lt,Ht>=bt&&Ut<Et)return mt;if(Ut<bt||Ht>=Et)return null;for(var $t=[],fr=0;fr<mt.length;fr++){var Zt=mt[fr],vr=Zt.geometry,Ye=Zt.type,Ge=It===0?Zt.minX:Zt.minY,zt=It===0?Zt.maxX:Zt.maxY;if(Ge>=bt&&zt<Et){$t.push(Zt);continue}else if(zt<bt||Ge>=Et)continue;var Dt=[];if(Ye==="Point"||Ye==="MultiPoint")Xe(vr,Dt,bt,Et,It);else if(Ye==="LineString")Ze(vr,Dt,bt,Et,It,!1,Bt.lineMetrics);else if(Ye==="MultiLineString")ze(vr,Dt,bt,Et,It,!1);else if(Ye==="Polygon")ze(vr,Dt,bt,Et,It,!0);else if(Ye==="MultiPolygon")for(var Qt=0;Qt<vr.length;Qt++){var nr=[];ze(vr[Qt],nr,bt,Et,It,!0),nr.length&&Dt.push(nr)}if(Dt.length){if(Bt.lineMetrics&&Ye==="LineString"){for(Qt=0;Qt<Dt.length;Qt++)$t.push(at(Zt.id,Ye,Dt[Qt],Zt.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(Dt.length===1?(Ye="LineString",Dt=Dt[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=Dt.length===3?"Point":"MultiPoint"),$t.push(at(Zt.id,Ye,Dt,Zt.tags))}}return $t.length?$t:null}function Xe(mt,lt,bt,Et,It){for(var Ht=0;Ht<mt.length;Ht+=3){var Ut=mt[Ht+It];Ut>=bt&&Ut<=Et&&(lt.push(mt[Ht]),lt.push(mt[Ht+1]),lt.push(mt[Ht+2]))}}function Ze(mt,lt,bt,Et,It,Ht,Ut){for(var Bt=We(mt),$t=It===0?je:Ie,fr=mt.start,Zt,vr,Ye=0;Ye<mt.length-3;Ye+=3){var Ge=mt[Ye],zt=mt[Ye+1],Dt=mt[Ye+2],Qt=mt[Ye+3],nr=mt[Ye+4],ir=It===0?Ge:zt,tr=It===0?Qt:nr,Ft=!1;Ut&&(Zt=Math.sqrt(Math.pow(Ge-Qt,2)+Math.pow(zt-nr,2))),ir<bt?tr>bt&&(vr=$t(Bt,Ge,zt,Qt,nr,bt),Ut&&(Bt.start=fr+Zt*vr)):ir>Et?tr<Et&&(vr=$t(Bt,Ge,zt,Qt,nr,Et),Ut&&(Bt.start=fr+Zt*vr)):ke(Bt,Ge,zt,Dt),tr<bt&&ir>=bt&&(vr=$t(Bt,Ge,zt,Qt,nr,bt),Ft=!0),tr>Et&&ir<=Et&&(vr=$t(Bt,Ge,zt,Qt,nr,Et),Ft=!0),!Ht&&Ft&&(Ut&&(Bt.end=fr+Zt*vr),lt.push(Bt),Bt=We(mt)),Ut&&(fr+=Zt)}var cr=mt.length-3;Ge=mt[cr],zt=mt[cr+1],Dt=mt[cr+2],ir=It===0?Ge:zt,ir>=bt&&ir<=Et&&ke(Bt,Ge,zt,Dt),cr=Bt.length-3,Ht&&cr>=3&&(Bt[cr]!==Bt[0]||Bt[cr+1]!==Bt[1])&&ke(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&lt.push(Bt)}function We(mt){var lt=[];return lt.size=mt.size,lt.start=mt.start,lt.end=mt.end,lt}function ze(mt,lt,bt,Et,It,Ht){for(var Ut=0;Ut<mt.length;Ut++)Ze(mt[Ut],lt,bt,Et,It,Ht,!1)}function ke(mt,lt,bt,Et){mt.push(lt),mt.push(bt),mt.push(Et)}function je(mt,lt,bt,Et,It,Ht){var Ut=(Ht-lt)/(Et-lt);return mt.push(Ht),mt.push(bt+(It-bt)*Ut),mt.push(1),Ut}function Ie(mt,lt,bt,Et,It,Ht){var Ut=(Ht-bt)/(It-bt);return mt.push(lt+(Et-lt)*Ut),mt.push(Ht),mt.push(1),Ut}function pe(mt,lt){var bt=lt.buffer/lt.extent,Et=mt,It=Oe(mt,1,-1-bt,bt,0,-1,2,lt),Ht=Oe(mt,1,1-bt,2+bt,0,-1,2,lt);return(It||Ht)&&(Et=Oe(mt,1,-bt,1+bt,0,-1,2,lt)||[],It&&(Et=we(It,1).concat(Et)),Ht&&(Et=Et.concat(we(Ht,-1)))),Et}function we(mt,lt){for(var bt=[],Et=0;Et<mt.length;Et++){var It=mt[Et],Ht=It.type,Ut;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Ut=Ve(It.geometry,lt);else if(Ht==="MultiLineString"||Ht==="Polygon"){Ut=[];for(var Bt=0;Bt<It.geometry.length;Bt++)Ut.push(Ve(It.geometry[Bt],lt))}else if(Ht==="MultiPolygon")for(Ut=[],Bt=0;Bt<It.geometry.length;Bt++){for(var $t=[],fr=0;fr<It.geometry[Bt].length;fr++)$t.push(Ve(It.geometry[Bt][fr],lt));Ut.push($t)}bt.push(at(It.id,Ht,Ut,It.tags))}return bt}function Ve(mt,lt){var bt=[];bt.size=mt.size,mt.start!==void 0&&(bt.start=mt.start,bt.end=mt.end);for(var Et=0;Et<mt.length;Et+=3)bt.push(mt[Et]+lt,mt[Et+1],mt[Et+2]);return bt}function Qe(mt,lt){if(mt.transformed)return mt;var bt=1<<mt.z,Et=mt.x,It=mt.y,Ht,Ut,Bt;for(Ht=0;Ht<mt.features.length;Ht++){var $t=mt.features[Ht],fr=$t.geometry,Zt=$t.type;if($t.geometry=[],Zt===1)for(Ut=0;Ut<fr.length;Ut+=2)$t.geometry.push(it(fr[Ut],fr[Ut+1],lt,bt,Et,It));else for(Ut=0;Ut<fr.length;Ut++){var vr=[];for(Bt=0;Bt<fr[Ut].length;Bt+=2)vr.push(it(fr[Ut][Bt],fr[Ut][Bt+1],lt,bt,Et,It));$t.geometry.push(vr)}}return mt.transformed=!0,mt}function it(mt,lt,bt,Et,It,Ht){return[Math.round(bt*(mt*Et-It)),Math.round(bt*(lt*Et-Ht))]}function st(mt,lt,bt,Et,It){for(var Ht=lt===It.maxZoom?0:It.tolerance/((1<<lt)*It.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<mt.length;Bt++){Ut.numFeatures++,Wt(Ut,mt[Bt],Ht,It);var $t=mt[Bt].minX,fr=mt[Bt].minY,Zt=mt[Bt].maxX,vr=mt[Bt].maxY;$t<Ut.minX&&(Ut.minX=$t),fr<Ut.minY&&(Ut.minY=fr),Zt>Ut.maxX&&(Ut.maxX=Zt),vr>Ut.maxY&&(Ut.maxY=vr)}return Ut}function Wt(mt,lt,bt,Et){var It=lt.geometry,Ht=lt.type,Ut=[];if(Ht==="Point"||Ht==="MultiPoint")for(var Bt=0;Bt<It.length;Bt+=3)Ut.push(It[Bt]),Ut.push(It[Bt+1]),mt.numPoints++,mt.numSimplified++;else if(Ht==="LineString")jt(Ut,It,mt,bt,!1,!1);else if(Ht==="MultiLineString"||Ht==="Polygon")for(Bt=0;Bt<It.length;Bt++)jt(Ut,It[Bt],mt,bt,Ht==="Polygon",Bt===0);else if(Ht==="MultiPolygon")for(var $t=0;$t<It.length;$t++){var fr=It[$t];for(Bt=0;Bt<fr.length;Bt++)jt(Ut,fr[Bt],mt,bt,!0,Bt===0)}if(Ut.length){var Zt=lt.tags||null;if(Ht==="LineString"&&Et.lineMetrics){Zt={};for(var vr in lt.tags)Zt[vr]=lt.tags[vr];Zt.mapbox_clip_start=It.start/It.size,Zt.mapbox_clip_end=It.end/It.size}var Ye={geometry:Ut,type:Ht==="Polygon"||Ht==="MultiPolygon"?3:Ht==="LineString"||Ht==="MultiLineString"?2:1,tags:Zt};lt.id!==null&&(Ye.id=lt.id),mt.features.push(Ye)}}function jt(mt,lt,bt,Et,It,Ht){var Ut=Et*Et;if(Et>0&&lt.size<(It?Ut:Et)){bt.numPoints+=lt.length/3;return}for(var Bt=[],$t=0;$t<lt.length;$t+=3)(Et===0||lt[$t+2]>Ut)&&(bt.numSimplified++,Bt.push(lt[$t]),Bt.push(lt[$t+1])),bt.numPoints++;It&&Tt(Bt,Ht),mt.push(Bt)}function Tt(mt,lt){for(var bt=0,Et=0,It=mt.length,Ht=It-2;Et<It;Ht=Et,Et+=2)bt+=(mt[Et]-mt[Ht])*(mt[Et+1]+mt[Ht+1]);if(bt>0===lt)for(Et=0,It=mt.length;Et<It/2;Et+=2){var Ut=mt[Et],Bt=mt[Et+1];mt[Et]=mt[It-2-Et],mt[Et+1]=mt[It-1-Et],mt[It-2-Et]=Ut,mt[It-1-Et]=Bt}}function Lt(mt,lt){return new Xt(mt,lt)}function Xt(mt,lt){lt=this.options=yt(Object.create(this.options),lt);var bt=lt.debug;if(bt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=et(mt,lt);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=pe(Et,lt),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xt.prototype.splitTile=function(mt,lt,bt,Et,It,Ht,Ut){for(var Bt=[mt,lt,bt,Et],$t=this.options,fr=$t.debug;Bt.length;){Et=Bt.pop(),bt=Bt.pop(),lt=Bt.pop(),mt=Bt.pop();var Zt=1<<lt,vr=Tr(lt,bt,Et),Ye=this.tiles[vr];if(!Ye&&(fr>1&&console.time("creation"),Ye=this.tiles[vr]=st(mt,lt,bt,Et,$t),this.tileCoords.push({z:lt,x:bt,y:Et}),fr)){fr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,bt,Et,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var Ge="z"+lt;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(Ye.source=mt,It){if(lt===$t.maxZoom||lt===It)continue;var zt=1<<It-lt;if(bt!==Math.floor(Ht/zt)||Et!==Math.floor(Ut/zt))continue}else if(lt===$t.indexMaxZoom||Ye.numPoints<=$t.indexMaxPoints)continue;if(Ye.source=null,mt.length!==0){fr>1&&console.time("clipping");var Dt=.5*$t.buffer/$t.extent,Qt=.5-Dt,nr=.5+Dt,ir=1+Dt,tr,Ft,cr,pr,br,hr;tr=Ft=cr=pr=null,br=Oe(mt,Zt,bt-Dt,bt+nr,0,Ye.minX,Ye.maxX,$t),hr=Oe(mt,Zt,bt+Qt,bt+ir,0,Ye.minX,Ye.maxX,$t),mt=null,br&&(tr=Oe(br,Zt,Et-Dt,Et+nr,1,Ye.minY,Ye.maxY,$t),Ft=Oe(br,Zt,Et+Qt,Et+ir,1,Ye.minY,Ye.maxY,$t),br=null),hr&&(cr=Oe(hr,Zt,Et-Dt,Et+nr,1,Ye.minY,Ye.maxY,$t),pr=Oe(hr,Zt,Et+Qt,Et+ir,1,Ye.minY,Ye.maxY,$t),hr=null),fr>1&&console.timeEnd("clipping"),Bt.push(tr||[],lt+1,bt*2,Et*2),Bt.push(Ft||[],lt+1,bt*2,Et*2+1),Bt.push(cr||[],lt+1,bt*2+1,Et*2),Bt.push(pr||[],lt+1,bt*2+1,Et*2+1)}}},Xt.prototype.getTile=function(mt,lt,bt){var Et=this.options,It=Et.extent,Ht=Et.debug;if(mt<0||mt>24)return null;var Ut=1<<mt;lt=(lt%Ut+Ut)%Ut;var Bt=Tr(mt,lt,bt);if(this.tiles[Bt])return Qe(this.tiles[Bt],It);Ht>1&&console.log("drilling down to z%d-%d-%d",mt,lt,bt);for(var $t=mt,fr=lt,Zt=bt,vr;!vr&&$t>0;)$t--,fr=Math.floor(fr/2),Zt=Math.floor(Zt/2),vr=this.tiles[Tr($t,fr,Zt)];return!vr||!vr.source?null:(Ht>1&&console.log("found parent tile z%d-%d-%d",$t,fr,Zt),Ht>1&&console.time("drilling down"),this.splitTile(vr.source,$t,fr,Zt,mt,lt,bt),Ht>1&&console.timeEnd("drilling down"),this.tiles[Bt]?Qe(this.tiles[Bt],It):null)};function Tr(mt,lt,bt){return((1<<mt)*bt+lt)*32+mt}function yt(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Kt(mt,lt){var bt=mt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return lt(null,null);var It=new b(Et.features),Ht=s(It);(Ht.byteOffset!==0||Ht.byteLength!==Ht.buffer.byteLength)&&(Ht=new Uint8Array(Ht)),lt(null,{vectorTile:It,rawData:Ht.buffer})}var Jt=function(mt){function lt(bt,Et,It,Ht){mt.call(this,bt,Et,It,Kt),Ht&&(this.loadGeoJSON=Ht)}return mt&&(lt.__proto__=mt),lt.prototype=Object.create(mt&&mt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Et,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=It,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var It=this._pendingCallback,Ht=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ut=Ht&&Ht.request&&Ht.request.collectResourceTiming?new i.RequestPerformance(Ht.request):!1;this.loadGeoJSON(Ht,function(Bt,$t){if(Bt||!$t)return It(Bt);if(typeof $t!="object")return It(new Error("Input data given to '"+Ht.source+"' is not a valid GeoJSON object."));h($t,!0);try{if(Ht.filter){var fr=i.createExpression(Ht.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(fr.result==="error")throw new Error(fr.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var Zt=$t.features.filter(function(Ge){return fr.value.evaluate({zoom:0},Ge)});$t={type:"FeatureCollection",features:Zt}}Et._geoJSONIndex=Ht.cluster?new ae(yr(Ht)).load($t.features):Lt($t,Ht.geojsonVtOptions)}catch(Ge){return It(Ge)}Et.loaded={};var vr={};if(Ut){var Ye=Ut.finish();Ye&&(vr.resourceTiming={},vr.resourceTiming[Ht.source]=JSON.parse(JSON.stringify(Ye)))}It(null,vr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Et,It){var Ht=this.loaded,Ut=Et.uid;return Ht&&Ht[Ut]?mt.prototype.reloadTile.call(this,Et,It):this.loadTile(Et,It)},lt.prototype.loadGeoJSON=function(Et,It){if(Et.request)i.getJSON(Et.request,It);else if(typeof Et.data=="string")try{return It(null,JSON.parse(Et.data))}catch{return It(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return It(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Et,It){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),It()},lt.prototype.getClusterExpansionZoom=function(Et,It){try{It(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Ht){It(Ht)}},lt.prototype.getClusterChildren=function(Et,It){try{It(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Ht){It(Ht)}},lt.prototype.getClusterLeaves=function(Et,It){try{It(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Ht){It(Ht)}},lt}(u);function yr(mt){var lt=mt.superclusterOptions,bt=mt.clusterProperties;if(!bt||!lt)return lt;for(var Et={},It={},Ht={accumulated:null,zoom:0},Ut={properties:null},Bt=Object.keys(bt),$t=0,fr=Bt;$t<fr.length;$t+=1){var Zt=fr[$t],vr=bt[Zt],Ye=vr[0],Ge=vr[1],zt=i.createExpression(Ge),Dt=i.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",Zt]]:Ye);Et[Zt]=zt.value,It[Zt]=Dt.value}return lt.map=function(Qt){Ut.properties=Qt;for(var nr={},ir=0,tr=Bt;ir<tr.length;ir+=1){var Ft=tr[ir];nr[Ft]=Et[Ft].evaluate(Ht,Ut)}return nr},lt.reduce=function(Qt,nr){Ut.properties=nr;for(var ir=0,tr=Bt;ir<tr.length;ir+=1){var Ft=tr[ir];Ht.accumulated=Qt[Ft],Qt[Ft]=It[Ft].evaluate(Ht,Ut)}},lt}var ur=function(lt){var bt=this;this.self=lt,this.actor=new i.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,It){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=It},this.self.registerRTLTextPlugin=function(Et){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Et.applyArabicShaping,i.plugin.processBidirectionalText=Et.processBidirectionalText,i.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return ur.prototype.setReferrer=function(lt,bt){this.referrer=bt},ur.prototype.setImages=function(lt,bt,Et){this.availableImages[lt]=bt;for(var It in this.workerSources[lt]){var Ht=this.workerSources[lt][It];for(var Ut in Ht)Ht[Ut].availableImages=bt}Et()},ur.prototype.setLayers=function(lt,bt,Et){this.getLayerIndex(lt).replace(bt),Et()},ur.prototype.updateLayers=function(lt,bt,Et){this.getLayerIndex(lt).update(bt.layers,bt.removedIds),Et()},ur.prototype.loadTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).loadTile(bt,Et)},ur.prototype.loadDEMTile=function(lt,bt,Et){this.getDEMWorkerSource(lt,bt.source).loadTile(bt,Et)},ur.prototype.reloadTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).reloadTile(bt,Et)},ur.prototype.abortTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).abortTile(bt,Et)},ur.prototype.removeTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).removeTile(bt,Et)},ur.prototype.removeDEMTile=function(lt,bt){this.getDEMWorkerSource(lt,bt.source).removeTile(bt)},ur.prototype.removeSource=function(lt,bt,Et){if(!(!this.workerSources[lt]||!this.workerSources[lt][bt.type]||!this.workerSources[lt][bt.type][bt.source])){var It=this.workerSources[lt][bt.type][bt.source];delete this.workerSources[lt][bt.type][bt.source],It.removeSource!==void 0?It.removeSource(bt,Et):Et()}},ur.prototype.loadWorkerSource=function(lt,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(It){Et(It.toString())}},ur.prototype.syncRTLPluginState=function(lt,bt,Et){try{i.plugin.setState(bt);var It=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&It!=null){this.self.importScripts(It);var Ht=i.plugin.isParsed(),Ut=Ht?void 0:new Error("RTL Text Plugin failed to import scripts from "+It);Et(Ut,Ht)}}catch(Bt){Et(Bt.toString())}},ur.prototype.getAvailableImages=function(lt){var bt=this.availableImages[lt];return bt||(bt=[]),bt},ur.prototype.getLayerIndex=function(lt){var bt=this.layerIndexes[lt];return bt||(bt=this.layerIndexes[lt]=new d),bt},ur.prototype.getWorkerSource=function(lt,bt,Et){var It=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][bt]||(this.workerSources[lt][bt]={}),!this.workerSources[lt][bt][Et]){var Ht={send:function(Ut,Bt,$t){It.actor.send(Ut,Bt,$t,lt)}};this.workerSources[lt][bt][Et]=new this.workerSourceTypes[bt](Ht,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][bt][Et]},ur.prototype.getDEMWorkerSource=function(lt,bt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][bt]||(this.demWorkerSources[lt][bt]=new y),this.demWorkerSources[lt][bt]},ur.prototype.enforceCacheSizeLimit=function(lt,bt){i.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ur(self)),ur}),R(["./shared"],function(i){var C=i.createCommonjsModule(function(ve){ve.exports?ve.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=ge);function K(Gr){return!ge(Gr)}function ge(Gr){if(!te())return"not a browser";if(!ye())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Nt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!Dr(Gr&&Gr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Gr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Gr),vn,zn;try{zn=new Worker(Jr),vn=!0}catch{vn=!1}return zn&&zn.terminate(),URL.revokeObjectURL(Jr),vn}function Nt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function lr(){var Gr=document.createElement("canvas");Gr.width=Gr.height=1;var Jr=Gr.getContext("2d");if(!Jr)return!1;var vn=Jr.getImageData(0,0,1,1);return vn&&vn.width===Gr.width}var sr={};function Dr(Gr){return sr[Gr]===void 0&&(sr[Gr]=jr(Gr)),sr[Gr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Gr){var Jr=document.createElement("canvas"),vn=Object.create(K.webGLContextAttributes);return vn.failIfMajorPerformanceCaveat=Gr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",vn)||Jr.probablySupportsContext("experimental-webgl",vn):Jr.supportsContext?Jr.supportsContext("webgl",vn)||Jr.supportsContext("experimental-webgl",vn):Jr.getContext("webgl",vn)||Jr.getContext("experimental-webgl",vn)}function jr(Gr){var Jr=Xr(Gr);if(!Jr)return!1;var vn=Jr.createShader(Jr.VERTEX_SHADER);return!vn||Jr.isContextLost()?!1:(Jr.shaderSource(vn,"void main() {}"),Jr.compileShader(vn),Jr.getShaderParameter(vn,Jr.COMPILE_STATUS)===!0)}}),S={};S.create=function(ve,K,ge){var te=i.window.document.createElement(ve);return K!==void 0&&(te.className=K),ge&&ge.appendChild(te),te},S.createNS=function(ve,K){var ge=i.window.document.createElementNS(ve,K);return ge};var v=i.window.document&&i.window.document.documentElement.style;function d(ve){if(!v)return ve[0];for(var K=0;K<ve.length;K++)if(ve[K]in v)return ve[K];return ve[0]}var r=d(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var a=d(["transform","WebkitTransform"]);S.setTransform=function(ve,K){ve.style[a]=K};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",f,f),i.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(ve,K,ge,te){te===void 0&&(te={}),"passive"in te&&n?ve.addEventListener(K,ge,te):ve.addEventListener(K,ge,te.capture)},S.removeEventListener=function(ve,K,ge,te){te===void 0&&(te={}),"passive"in te&&n?ve.removeEventListener(K,ge,te):ve.removeEventListener(K,ge,te.capture)};var u=function(ve){ve.preventDefault(),ve.stopPropagation(),i.window.removeEventListener("click",u,!0)};S.suppressClick=function(){i.window.addEventListener("click",u,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",u,!0)},0)},S.mousePos=function(ve,K){var ge=ve.getBoundingClientRect();return new i.Point(K.clientX-ge.left-ve.clientLeft,K.clientY-ge.top-ve.clientTop)},S.touchPos=function(ve,K){for(var ge=ve.getBoundingClientRect(),te=[],ye=0;ye<K.length;ye++)te.push(new i.Point(K[ye].clientX-ge.left-ve.clientLeft,K[ye].clientY-ge.top-ve.clientTop));return te},S.mouseButton=function(ve){return typeof i.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},S.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,K,ge){var te,ye,Fe,Ke=i.browser.devicePixelRatio>1?"@2x":"",ut=i.getJSON(K.transformRequest(K.normalizeSpriteURL(ve,Ke,".json"),i.ResourceType.SpriteJSON),function(qt,lr){ut=null,Fe||(Fe=qt,te=lr,Nt())}),Ct=i.getImage(K.transformRequest(K.normalizeSpriteURL(ve,Ke,".png"),i.ResourceType.SpriteImage),function(qt,lr){Ct=null,Fe||(Fe=qt,ye=lr,Nt())});function Nt(){if(Fe)ge(Fe);else if(te&&ye){var qt=i.browser.getImageData(ye),lr={};for(var sr in te){var Dr=te[sr],Xr=Dr.width,jr=Dr.height,Gr=Dr.x,Jr=Dr.y,vn=Dr.sdf,zn=Dr.pixelRatio,Vn=Dr.stretchX,Zn=Dr.stretchY,Kn=Dr.content,jn=new i.RGBAImage({width:Xr,height:jr});i.RGBAImage.copy(qt,jn,{x:Gr,y:Jr},{x:0,y:0},{width:Xr,height:jr}),lr[sr]={data:jn,pixelRatio:zn,sdf:vn,stretchX:Vn,stretchY:Zn,content:Kn}}ge(null,lr)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),Ct&&(Ct.cancel(),Ct=null)}}}function y(ve){var K=ve.userImage;if(K&&K.render){var ge=K.render();if(ge)return ve.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var h=1,T=function(ve){function K(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var ye=0,Fe=this.requestors;ye<Fe.length;ye+=1){var Ke=Fe[ye],ut=Ke.ids,Ct=Ke.callback;this._notify(ut,Ct)}this.requestors=[]}},K.prototype.getImage=function(te){return this.images[te]},K.prototype.addImage=function(te,ye){this._validate(te,ye)&&(this.images[te]=ye)},K.prototype._validate=function(te,ye){var Fe=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(ye.content,ye)||(this.fire(new i.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),Fe=!1),Fe},K.prototype._validateStretch=function(te,ye){if(!te)return!0;for(var Fe=0,Ke=0,ut=te;Ke<ut.length;Ke+=1){var Ct=ut[Ke];if(Ct[0]<Fe||Ct[1]<Ct[0]||ye<Ct[1])return!1;Fe=Ct[1]}return!0},K.prototype._validateContent=function(te,ye){return te?!(te.length!==4||te[0]<0||ye.data.width<te[0]||te[1]<0||ye.data.height<te[1]||te[2]<0||ye.data.width<te[2]||te[3]<0||ye.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},K.prototype.updateImage=function(te,ye){var Fe=this.images[te];ye.version=Fe.version+1,this.images[te]=ye,this.updatedImages[te]=!0},K.prototype.removeImage=function(te){var ye=this.images[te];delete this.images[te],delete this.patterns[te],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(te,ye){var Fe=!0;if(!this.isLoaded())for(var Ke=0,ut=te;Ke<ut.length;Ke+=1){var Ct=ut[Ke];this.images[Ct]||(Fe=!1)}this.isLoaded()||Fe?this._notify(te,ye):this.requestors.push({ids:te,callback:ye})},K.prototype._notify=function(te,ye){for(var Fe={},Ke=0,ut=te;Ke<ut.length;Ke+=1){var Ct=ut[Ke];this.images[Ct]||this.fire(new i.Event("styleimagemissing",{id:Ct}));var Nt=this.images[Ct];Nt?Fe[Ct]={data:Nt.data.clone(),pixelRatio:Nt.pixelRatio,sdf:Nt.sdf,version:Nt.version,stretchX:Nt.stretchX,stretchY:Nt.stretchY,content:Nt.content,hasRenderCallback:!!(Nt.userImage&&Nt.userImage.render)}:i.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Fe)},K.prototype.getPixelSize=function(){var te=this.atlasImage,ye=te.width,Fe=te.height;return{width:ye,height:Fe}},K.prototype.getPattern=function(te){var ye=this.patterns[te],Fe=this.getImage(te);if(!Fe)return null;if(ye&&ye.position.version===Fe.version)return ye.position;if(ye)ye.position.version=Fe.version;else{var Ke=Fe.data.width+h*2,ut=Fe.data.height+h*2,Ct={w:Ke,h:ut,x:0,y:0},Nt=new i.ImagePosition(Ct,Fe);this.patterns[te]={bin:Ct,position:Nt}}return this._updatePatternAtlas(),this.patterns[te].position},K.prototype.bind=function(te){var ye=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(te,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var te=[];for(var ye in this.patterns)te.push(this.patterns[ye].bin);var Fe=i.potpack(te),Ke=Fe.w,ut=Fe.h,Ct=this.atlasImage;Ct.resize({width:Ke||1,height:ut||1});for(var Nt in this.patterns){var qt=this.patterns[Nt],lr=qt.bin,sr=lr.x+h,Dr=lr.y+h,Xr=this.images[Nt].data,jr=Xr.width,Gr=Xr.height;i.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:sr,y:Dr},{width:jr,height:Gr}),i.RGBAImage.copy(Xr,Ct,{x:0,y:Gr-1},{x:sr,y:Dr-1},{width:jr,height:1}),i.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:sr,y:Dr+Gr},{width:jr,height:1}),i.RGBAImage.copy(Xr,Ct,{x:jr-1,y:0},{x:sr-1,y:Dr},{width:1,height:Gr}),i.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:sr+jr,y:Dr},{width:1,height:Gr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(te){for(var ye=0,Fe=te;ye<Fe.length;ye+=1){var Ke=Fe[ye];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var ut=this.images[Ke],Ct=y(ut);Ct&&this.updateImage(Ke,ut)}}},K}(i.Evented);function c(ve,K,ge,te,ye){var Fe=K*256,Ke=Fe+255,ut=te.transformRequest(te.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",Fe+"-"+Ke),i.ResourceType.Glyphs);i.getArrayBuffer(ut,function(Ct,Nt){if(Ct)ye(Ct);else if(Nt){for(var qt={},lr=0,sr=i.parseGlyphPBF(Nt);lr<sr.length;lr+=1){var Dr=sr[lr];qt[Dr.id]=Dr}ye(null,qt)}})}var o=b,p=b,x=1e20;function b(ve,K,ge,te,ye,Fe){this.fontSize=ve||24,this.buffer=K===void 0?3:K,this.cutoff=te||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Fe||"normal",this.radius=ge||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}b.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ye=K.data[te*4+3]/255;this.gridOuter[te]=ye===1?0:ye===0?x:Math.pow(Math.max(0,.5-ye),2),this.gridInner[te]=ye===1?x:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(P(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),P(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var Fe=this.gridOuter[te]-this.gridInner[te];ge[te]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return ge};function P(ve,K,ge,te,ye,Fe,Ke){for(var ut=0;ut<K;ut++){for(var Ct=0;Ct<ge;Ct++)te[Ct]=ve[Ct*K+ut];for(m(te,ye,Fe,Ke,ge),Ct=0;Ct<ge;Ct++)ve[Ct*K+ut]=ye[Ct]}for(Ct=0;Ct<ge;Ct++){for(ut=0;ut<K;ut++)te[ut]=ve[Ct*K+ut];for(m(te,ye,Fe,Ke,K),ut=0;ut<K;ut++)ve[Ct*K+ut]=Math.sqrt(ye[ut])}}function m(ve,K,ge,te,ye){ge[0]=0,te[0]=-x,te[1]=+x;for(var Fe=1,Ke=0;Fe<ye;Fe++){for(var ut=(ve[Fe]+Fe*Fe-(ve[ge[Ke]]+ge[Ke]*ge[Ke]))/(2*Fe-2*ge[Ke]);ut<=te[Ke];)Ke--,ut=(ve[Fe]+Fe*Fe-(ve[ge[Ke]]+ge[Ke]*ge[Ke]))/(2*Fe-2*ge[Ke]);Ke++,ge[Ke]=Fe,te[Ke]=ut,te[Ke+1]=+x}for(Fe=0,Ke=0;Fe<ye;Fe++){for(;te[Ke+1]<Fe;)Ke++;K[Fe]=(Fe-ge[Ke])*(Fe-ge[Ke])+ve[ge[Ke]]}}o.default=p;var L=function(K,ge){this.requestManager=K,this.localIdeographFontFamily=ge,this.entries={}};L.prototype.setURL=function(K){this.url=K},L.prototype.getGlyphs=function(K,ge){var te=this,ye=[];for(var Fe in K)for(var Ke=0,ut=K[Fe];Ke<ut.length;Ke+=1){var Ct=ut[Ke];ye.push({stack:Fe,id:Ct})}i.asyncAll(ye,function(Nt,qt){var lr=Nt.stack,sr=Nt.id,Dr=te.entries[lr];Dr||(Dr=te.entries[lr]={glyphs:{},requests:{},ranges:{}});var Xr=Dr.glyphs[sr];if(Xr!==void 0){qt(null,{stack:lr,id:sr,glyph:Xr});return}if(Xr=te._tinySDF(Dr,lr,sr),Xr){Dr.glyphs[sr]=Xr,qt(null,{stack:lr,id:sr,glyph:Xr});return}var jr=Math.floor(sr/256);if(jr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Dr.ranges[jr]){qt(null,{stack:lr,id:sr,glyph:Xr});return}var Gr=Dr.requests[jr];Gr||(Gr=Dr.requests[jr]=[],L.loadGlyphRange(lr,jr,te.url,te.requestManager,function(Jr,vn){if(vn){for(var zn in vn)te._doesCharSupportLocalGlyph(+zn)||(Dr.glyphs[+zn]=vn[+zn]);Dr.ranges[jr]=!0}for(var Vn=0,Zn=Gr;Vn<Zn.length;Vn+=1){var Kn=Zn[Vn];Kn(Jr,vn)}delete Dr.requests[jr]})),Gr.push(function(Jr,vn){Jr?qt(Jr):vn&&qt(null,{stack:lr,id:sr,glyph:vn[sr]||null})})},function(Nt,qt){if(Nt)ge(Nt);else if(qt){for(var lr={},sr=0,Dr=qt;sr<Dr.length;sr+=1){var Xr=Dr[sr],jr=Xr.stack,Gr=Xr.id,Jr=Xr.glyph;(lr[jr]||(lr[jr]={}))[Gr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}ge(null,lr)}})},L.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](K)||i.isChar["Hangul Syllables"](K)||i.isChar.Hiragana(K)||i.isChar.Katakana(K))},L.prototype._tinySDF=function(K,ge,te){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(te)){var Fe=K.tinySDF;if(!Fe){var Ke="400";/bold/i.test(ge)?Ke="900":/medium/i.test(ge)?Ke="500":/light/i.test(ge)&&(Ke="200"),Fe=K.tinySDF=new L.TinySDF(24,3,8,.25,ye,Ke)}return{id:te,bitmap:new i.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},L.loadGlyphRange=c,L.TinySDF=o;var M=function(){this.specification=i.styleSpec.light.position};M.prototype.possiblyEvaluate=function(K,ge){return i.sphericalToCartesian(K.expression.evaluate(ge))},M.prototype.interpolate=function(K,ge,te){return{x:i.number(K.x,ge.x,te),y:i.number(K.y,ge.y,te),z:i.number(K.z,ge.z,te)}};var s=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new M,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),E="-transition",w=function(ve){function K(ge){ve.call(this),this._transitionable=new i.Transitionable(s),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(te,ye){if(ye===void 0&&(ye={}),!this._validate(i.validateLight,te,ye))for(var Fe in te){var Ke=te[Fe];i.endsWith(Fe,E)?this._transitionable.setTransition(Fe.slice(0,-E.length),Ke):this._transitionable.setValue(Fe,Ke)}},K.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},K.prototype._validate=function(te,ye,Fe){return Fe&&Fe.validate===!1?!1:i.emitValidationErrors(this,te.call(i.validateStyle,i.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},K}(i.Evented),_=function(K,ge){this.width=K,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};_.prototype.getDash=function(K,ge){var te=K.join(",")+String(ge);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(K,ge)),this.dashEntry[te]},_.prototype.getDashRanges=function(K,ge,te){var ye=K.length%2===1,Fe=[],Ke=ye?-K[K.length-1]*te:0,ut=K[0]*te,Ct=!0;Fe.push({left:Ke,right:ut,isDash:Ct,zeroLength:K[0]===0});for(var Nt=K[0],qt=1;qt<K.length;qt++){Ct=!Ct;var lr=K[qt];Ke=Nt*te,Nt+=lr,ut=Nt*te,Fe.push({left:Ke,right:ut,isDash:Ct,zeroLength:lr===0})}return Fe},_.prototype.addRoundDash=function(K,ge,te){for(var ye=ge/2,Fe=-te;Fe<=te;Fe++)for(var Ke=this.nextRow+te+Fe,ut=this.width*Ke,Ct=0,Nt=K[Ct],qt=0;qt<this.width;qt++){qt/Nt.right>1&&(Nt=K[++Ct]);var lr=Math.abs(qt-Nt.left),sr=Math.abs(qt-Nt.right),Dr=Math.min(lr,sr),Xr=void 0,jr=Fe/te*(ye+1);if(Nt.isDash){var Gr=ye-Math.abs(jr);Xr=Math.sqrt(Dr*Dr+Gr*Gr)}else Xr=ye-Math.sqrt(Dr*Dr+jr*jr);this.data[ut+qt]=Math.max(0,Math.min(255,Xr+128))}},_.prototype.addRegularDash=function(K){for(var ge=K.length-1;ge>=0;--ge){var te=K[ge],ye=K[ge+1];te.zeroLength?K.splice(ge,1):ye&&ye.isDash===te.isDash&&(ye.left=te.left,K.splice(ge,1))}var Fe=K[0],Ke=K[K.length-1];Fe.isDash===Ke.isDash&&(Fe.left=Ke.left-this.width,Ke.right=Fe.right+this.width);for(var ut=this.width*this.nextRow,Ct=0,Nt=K[Ct],qt=0;qt<this.width;qt++){qt/Nt.right>1&&(Nt=K[++Ct]);var lr=Math.abs(qt-Nt.left),sr=Math.abs(qt-Nt.right),Dr=Math.min(lr,sr),Xr=Nt.isDash?Dr:-Dr;this.data[ut+qt]=Math.max(0,Math.min(255,Xr+128))}},_.prototype.addDash=function(K,ge){var te=ge?7:0,ye=2*te+1;if(this.nextRow+ye>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Fe=0,Ke=0;Ke<K.length;Ke++)Fe+=K[Ke];if(Fe!==0){var ut=this.width/Fe,Ct=this.getDashRanges(K,this.width,ut);ge?this.addRoundDash(Ct,ut,te):this.addRegularDash(Ct)}var Nt={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:Fe};return this.nextRow+=ye,this.dirty=!0,Nt},_.prototype.bind=function(K){var ge=K.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var D=function ve(K,ge){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var te=this.workerPool.acquire(this.id),ye=0;ye<te.length;ye++){var Fe=te[ye],Ke=new ve.Actor(Fe,ge,this.id);Ke.name="Worker "+ye,this.actors.push(Ke)}};D.prototype.broadcast=function(K,ge,te){te=te||function(){},i.asyncAll(this.actors,function(ye,Fe){ye.send(K,ge,Fe)},te)},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=i.Actor;function N(ve,K,ge){var te=function(ye,Fe){if(ye)return ge(ye);if(Fe){var Ke=i.pick(i.extend(Fe,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&(Ke.vectorLayers=Fe.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(ut){return ut.id})),Ke.tiles=K.canonicalizeTileset(Ke,ve.url),ge(null,Ke)}};return ve.url?i.getJSON(K.transformRequest(K.normalizeSourceURL(ve.url),i.ResourceType.Source),te):i.browser.frame(function(){return te(null,ve)})}var z=function(K,ge,te){this.bounds=i.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=ge||0,this.maxzoom=te||24};z.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},z.prototype.contains=function(K){var ge=Math.pow(2,K.z),te={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=K.x>=te.minX&&K.x<te.maxX&&K.y>=te.minY&&K.y<te.maxY;return ye};var F=function(ve){function K(ge,te,ye,Fe){if(ve.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(te,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Fe){te._tileJSONRequest=null,te._loaded=!0,ye?te.fire(new i.ErrorEvent(ye)):Fe&&(i.extend(te,Fe),Fe.bounds&&(te.tileBounds=new z(Fe.bounds,te.minzoom,te.maxzoom)),i.postTurnstileEvent(Fe.tiles,te.map._requestManager._customAccessToken),i.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},K.prototype.onAdd=function(te){this.map=te,this.load()},K.prototype.setSourceProperty=function(te){this._tileJSONRequest&&this._tileJSONRequest.cancel(),te();var ye=this.map.style.sourceCaches[this.id];ye.clearTiles(),this.load()},K.prototype.setTiles=function(te){var ye=this;return this.setSourceProperty(function(){ye._options.tiles=te}),this},K.prototype.setUrl=function(te){var ye=this;return this.setSourceProperty(function(){ye.url=te,ye._options.url=te}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return i.extend({},this._options)},K.prototype.loadTile=function(te,ye){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(Fe,i.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Ke,ut.bind(this))):te.state==="loading"?te.reloadCallback=ye:te.request=te.actor.send("reloadTile",Ke,ut.bind(this));function ut(Ct,Nt){if(delete te.request,te.aborted)return ye(null);if(Ct&&Ct.status!==404)return ye(Ct);Nt&&Nt.resourceTiming&&(te.resourceTiming=Nt.resourceTiming),this.map._refreshExpiredTiles&&Nt&&te.setExpiryData(Nt),te.loadVectorData(Nt,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ye(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},K.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(i.Evented),U=function(ve){function K(ge,te,ye,Fe){ve.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},te),i.extend(this,i.pick(te,["url","scheme","tileSize"]))}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Fe){te._tileJSONRequest=null,te._loaded=!0,ye?te.fire(new i.ErrorEvent(ye)):Fe&&(i.extend(te,Fe),Fe.bounds&&(te.tileBounds=new z(Fe.bounds,te.minzoom,te.maxzoom)),i.postTurnstileEvent(Fe.tiles),i.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(te){this.map=te,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return i.extend({},this._options)},K.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},K.prototype.loadTile=function(te,ye){var Fe=this,Ke=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=i.getImage(this.map._requestManager.transformRequest(Ke,i.ResourceType.Tile),function(ut,Ct){if(delete te.request,te.aborted)te.state="unloaded",ye(null);else if(ut)te.state="errored",ye(ut);else if(Ct){Fe.map._refreshExpiredTiles&&te.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Nt=Fe.map.painter.context,qt=Nt.gl;te.texture=Fe.map.painter.getTileTexture(Ct.width),te.texture?te.texture.update(Ct,{useMipmap:!0}):(te.texture=new i.Texture(Nt,Ct,qt.RGBA,{useMipmap:!0}),te.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Nt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Nt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Nt.extTextureFilterAnisotropicMax)),te.state="loaded",i.cacheEntryPossiblyAdded(Fe.dispatcher),ye(null)}})},K.prototype.abortTile=function(te,ye){te.request&&(te.request.cancel(),delete te.request),ye()},K.prototype.unloadTile=function(te,ye){te.texture&&this.map.painter.saveTileTexture(te.texture),ye()},K.prototype.hasTransition=function(){return!1},K}(i.Evented),B=function(ve){function K(ge,te,ye,Fe){ve.call(this,ge,te,ye,Fe),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(te,ye){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=i.getImage(this.map._requestManager.transformRequest(Fe,i.ResourceType.Tile),Ke.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Ke(Ct,Nt){if(delete te.request,te.aborted)te.state="unloaded",ye(null);else if(Ct)te.state="errored",ye(Ct);else if(Nt){this.map._refreshExpiredTiles&&te.setExpiryData(Nt),delete Nt.cacheControl,delete Nt.expires;var qt=i.window.ImageBitmap&&Nt instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),lr=qt?Nt:i.browser.getImageData(Nt,1),sr={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",sr,ut.bind(this)))}}function ut(Ct,Nt){Ct&&(te.state="errored",ye(Ct)),Nt&&(te.dem=Nt,te.needsHillshadePrepare=!0,te.state="loaded",ye(null))}},K.prototype._getNeighboringTiles=function(te){var ye=te.canonical,Fe=Math.pow(2,ye.z),Ke=(ye.x-1+Fe)%Fe,ut=ye.x===0?te.wrap-1:te.wrap,Ct=(ye.x+1+Fe)%Fe,Nt=ye.x+1===Fe?te.wrap+1:te.wrap,qt={};return qt[new i.OverscaledTileID(te.overscaledZ,ut,ye.z,Ke,ye.y).key]={backfilled:!1},qt[new i.OverscaledTileID(te.overscaledZ,Nt,ye.z,Ct,ye.y).key]={backfilled:!1},ye.y>0&&(qt[new i.OverscaledTileID(te.overscaledZ,ut,ye.z,Ke,ye.y-1).key]={backfilled:!1},qt[new i.OverscaledTileID(te.overscaledZ,te.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},qt[new i.OverscaledTileID(te.overscaledZ,Nt,ye.z,Ct,ye.y-1).key]={backfilled:!1}),ye.y+1<Fe&&(qt[new i.OverscaledTileID(te.overscaledZ,ut,ye.z,Ke,ye.y+1).key]={backfilled:!1},qt[new i.OverscaledTileID(te.overscaledZ,te.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},qt[new i.OverscaledTileID(te.overscaledZ,Nt,ye.z,Ct,ye.y+1).key]={backfilled:!1}),qt},K.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},K}(U),V=function(ve){function K(ge,te,ye,Fe){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Fe),this._data=te.data,this._options=i.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Ke=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Ke,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Ke,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,te.clusterMinPoints||2),extent:i.EXTENT,radius:(te.clusterRadius||50)*Ke,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties,filter:te.filter},te.workerOptions)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var te=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){te.fire(new i.ErrorEvent(ye));return}var Fe={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Fe.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new i.Event("data",Fe))})},K.prototype.onAdd=function(te){this.map=te,this.load()},K.prototype.setData=function(te){var ye=this;return this._data=te,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){ye.fire(new i.ErrorEvent(Fe));return}var Ke={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Ke.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new i.Event("data",Ke))}),this},K.prototype.getClusterExpansionZoom=function(te,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},ye),this},K.prototype.getClusterChildren=function(te,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},ye),this},K.prototype.getClusterLeaves=function(te,ye,Fe,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:ye,offset:Fe},Ke),this},K.prototype._updateWorkerData=function(te){var ye=this;this._loaded=!1;var Fe=i.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(Fe.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Ke),i.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",Fe,function(ut,Ct){ye._removed||Ct&&Ct.abandoned||(ye._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[ye.id]&&(ye._resourceTiming=Ct.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Fe.source},null),te(ut))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(te,ye){var Fe=this,Ke=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ut={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Ke,ut,function(Ct,Nt){return delete te.request,te.unloadVectorData(),te.aborted?ye(null):Ct?ye(Ct):(te.loadVectorData(Nt,Fe.map.painter,Ke==="reloadTile"),ye(null))})},K.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},K.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(i.Evented),j=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Q=function(ve){function K(ge,te,ye,Fe){ve.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=te}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(te,ye){var Fe=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Ke,ut){Fe._loaded=!0,Ke?Fe.fire(new i.ErrorEvent(Ke)):ut&&(Fe.image=ut,te&&(Fe.coordinates=te),ye&&ye(),Fe._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(te){var ye=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){ye.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(te){this.map=te,this.load()},K.prototype.setCoordinates=function(te){var ye=this;this.coordinates=te;var Fe=te.map(i.MercatorCoordinate.fromLngLat);this.tileID=ee(Fe),this.minzoom=this.maxzoom=this.tileID.z;var Ke=Fe.map(function(ut){return ye.tileID.getTilePoint(ut)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,ye=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(te,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Ke=this.tiles[Fe];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},K.prototype.loadTile=function(te,ye){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},ye(null)):(te.state="errored",ye(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(i.Evented);function ee(ve){for(var K=1/0,ge=1/0,te=-1/0,ye=-1/0,Fe=0,Ke=ve;Fe<Ke.length;Fe+=1){var ut=Ke[Fe];K=Math.min(K,ut.x),ge=Math.min(ge,ut.y),te=Math.max(te,ut.x),ye=Math.max(ye,ut.y)}var Ct=te-K,Nt=ye-ge,qt=Math.max(Ct,Nt),lr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),sr=Math.pow(2,lr);return new i.CanonicalTileID(lr,Math.floor((K+te)/2*sr),Math.floor((ge+ye)/2*sr))}var re=function(ve){function K(ge,te,ye,Fe){ve.call(this,ge,te,ye,Fe),this.roundZoom=!0,this.type="video",this.options=te}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){var te=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Fe=0,Ke=ye.urls;Fe<Ke.length;Fe+=1){var ut=Ke[Fe];this.urls.push(this.map._requestManager.transformRequest(ut,i.ResourceType.Source).url)}i.getVideo(this.urls,function(Ct,Nt){te._loaded=!0,Ct?te.fire(new i.ErrorEvent(Ct)):Nt&&(te.video=Nt,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(te){if(this.video){var ye=this.video.seekable;te<ye.start(0)||te>ye.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=te}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,ye=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(te,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Ke=this.tiles[Fe];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(Q),ue=function(ve){function K(ge,te,ye,Fe){ve.call(this,ge,te,ye,Fe),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(ut){return typeof ut!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Fe=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ye,this.canvas,Fe.RGBA,{premultiply:!0});for(var Ke in this.tiles){var ut=this.tiles[Ke];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var te=0,ye=[this.canvas.width,this.canvas.height];te<ye.length;te+=1){var Fe=ye[te];if(isNaN(Fe)||Fe<=0)return!0}return!1},K}(Q),J={vector:F,raster:U,"raster-dem":B,geojson:V,video:re,image:Q,canvas:ue},X=function(ve,K,ge,te){var ye=new J[K.type](ve,K,ge,te);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return i.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},ne=function(ve){return J[ve]},Y=function(ve,K){J[ve]=K};function oe(ve,K){var ge=i.identity([]);return i.translate(ge,ge,[1,1,0]),i.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),i.multiply(ge,ge,ve.calculatePosMatrix(K.toUnwrapped()))}function le(ve,K,ge){if(ve)for(var te=0,ye=ve;te<ye.length;te+=1){var Fe=ye[te],Ke=K[Fe];if(Ke&&Ke.source===ge&&Ke.type==="fill-extrusion")return!0}else for(var ut in K){var Ct=K[ut];if(Ct.source===ge&&Ct.type==="fill-extrusion")return!0}return!1}function Z(ve,K,ge,te,ye,Fe){var Ke=le(ye&&ye.layers,K,ve.id),ut=Fe.maxPitchScaleFactor(),Ct=ve.tilesIn(te,ut,Ke);Ct.sort(ae);for(var Nt=[],qt=0,lr=Ct;qt<lr.length;qt+=1){var sr=lr[qt];Nt.push({wrappedTileID:sr.tileID.wrapped().key,queryResults:sr.tile.queryRenderedFeatures(K,ge,ve._state,sr.queryGeometry,sr.cameraQueryGeometry,sr.scale,ye,Fe,ut,oe(ve.transform,sr.tileID))})}var Dr=he(Nt);for(var Xr in Dr)Dr[Xr].forEach(function(jr){var Gr=jr.feature,Jr=ve.getFeatureState(Gr.layer["source-layer"],Gr.id);Gr.source=Gr.layer.source,Gr.layer["source-layer"]&&(Gr.sourceLayer=Gr.layer["source-layer"]),Gr.state=Jr});return Dr}function $(ve,K,ge,te,ye,Fe,Ke){for(var ut={},Ct=Fe.queryRenderedSymbols(te),Nt=[],qt=0,lr=Object.keys(Ct).map(Number);qt<lr.length;qt+=1){var sr=lr[qt];Nt.push(Ke[sr])}Nt.sort(ae);for(var Dr=function(){var vn=jr[Xr],zn=vn.featureIndex.lookupSymbolFeatures(Ct[vn.bucketInstanceId],K,vn.bucketIndex,vn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Vn in zn){var Zn=ut[Vn]=ut[Vn]||[],Kn=zn[Vn];Kn.sort(function(fa,ba){var pa=vn.featureSortOrder;if(pa){var Fa=pa.indexOf(fa.featureIndex),ri=pa.indexOf(ba.featureIndex);return ri-Fa}else return ba.featureIndex-fa.featureIndex});for(var jn=0,Jn=Kn;jn<Jn.length;jn+=1){var aa=Jn[jn];Zn.push(aa)}}},Xr=0,jr=Nt;Xr<jr.length;Xr+=1)Dr();var Gr=function(vn){ut[vn].forEach(function(zn){var Vn=zn.feature,Zn=ve[vn],Kn=ge[Zn.source],jn=Kn.getFeatureState(Vn.layer["source-layer"],Vn.id);Vn.source=Vn.layer.source,Vn.layer["source-layer"]&&(Vn.sourceLayer=Vn.layer["source-layer"]),Vn.state=jn})};for(var Jr in ut)Gr(Jr);return ut}function se(ve,K){for(var ge=ve.getRenderableIds().map(function(Ct){return ve.getTileByID(Ct)}),te=[],ye={},Fe=0;Fe<ge.length;Fe++){var Ke=ge[Fe],ut=Ke.tileID.canonical.key;ye[ut]||(ye[ut]=!0,Ke.querySourceFeatures(te,K))}return te}function ae(ve,K){var ge=ve.tileID,te=K.tileID;return ge.overscaledZ-te.overscaledZ||ge.canonical.y-te.canonical.y||ge.wrap-te.wrap||ge.canonical.x-te.canonical.x}function he(ve){for(var K={},ge={},te=0,ye=ve;te<ye.length;te+=1){var Fe=ye[te],Ke=Fe.queryResults,ut=Fe.wrappedTileID,Ct=ge[ut]=ge[ut]||{};for(var Nt in Ke)for(var qt=Ke[Nt],lr=Ct[Nt]=Ct[Nt]||{},sr=K[Nt]=K[Nt]||[],Dr=0,Xr=qt;Dr<Xr.length;Dr+=1){var jr=Xr[Dr];lr[jr.featureIndex]||(lr[jr.featureIndex]=!0,sr.push(jr))}}return K}var me=function(K,ge){this.max=K,this.onRemove=ge,this.reset()};me.prototype.reset=function(){for(var K in this.data)for(var ge=0,te=this.data[K];ge<te.length;ge+=1){var ye=te[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},me.prototype.add=function(K,ge,te){var ye=this,Fe=K.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var Ke={value:ge,timeout:void 0};if(te!==void 0&&(Ke.timeout=setTimeout(function(){ye.remove(K,Ke)},te)),this.data[Fe].push(Ke),this.order.push(Fe),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},me.prototype.has=function(K){return K.wrapped().key in this.data},me.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},me.prototype._getAndRemoveByKey=function(K){var ge=this.data[K].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),ge.value},me.prototype.getByKey=function(K){var ge=this.data[K];return ge?ge[0].value:null},me.prototype.get=function(K){if(!this.has(K))return null;var ge=this.data[K.wrapped().key][0];return ge.value},me.prototype.remove=function(K,ge){if(!this.has(K))return this;var te=K.wrapped().key,ye=ge===void 0?0:this.data[te].indexOf(ge),Fe=this.data[te][ye];return this.data[te].splice(ye,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(te),1),this},me.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},me.prototype.filter=function(K){var ge=[];for(var te in this.data)for(var ye=0,Fe=this.data[te];ye<Fe.length;ye+=1){var Ke=Fe[ye];K(Ke.value)||ge.push(Ke)}for(var ut=0,Ct=ge;ut<Ct.length;ut+=1){var Nt=Ct[ut];this.remove(Nt.value.tileID,Nt)}};var Me=function(K,ge,te){this.context=K;var ye=K.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Me.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Me.prototype.updateData=function(K){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},Me.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pe=function(K,ge,te,ye){this.length=ge.length,this.attributes=te,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=K;var Fe=K.gl;this.buffer=Fe.createBuffer(),K.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Pe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pe.prototype.updateData=function(K){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,K.arrayBuffer)},Pe.prototype.enableAttributes=function(K,ge){for(var te=0;te<this.attributes.length;te++){var ye=this.attributes[te],Fe=ge.attributes[ye.name];Fe!==void 0&&K.enableVertexAttribArray(Fe)}},Pe.prototype.setVertexAttribPointers=function(K,ge,te){for(var ye=0;ye<this.attributes.length;ye++){var Fe=this.attributes[ye],Ke=ge.attributes[Fe.name];Ke!==void 0&&K.vertexAttribPointer(Ke,Fe.components,K[Te[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(te||0))}},Pe.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var be=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};be.prototype.get=function(){return this.current},be.prototype.set=function(K){},be.prototype.getDefault=function(){return this.default},be.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return i.Color.transparent},K.prototype.set=function(te){var ye=this.current;te.r===ye.r&&te.g===ye.g&&te.b===ye.b&&te.a===ye.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},K}(be),xe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},K}(be),Ce=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},K}(be),Ue=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&te[3]===ye[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},K}(be),Ne=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},K}(be),De=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},K}(be),He=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(te){var ye=this.current;te.func===ye.func&&te.ref===ye.ref&&te.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},K}(be),at=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},K.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},K}(be),vt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=te,this.dirty=!1}},K}(be),ot=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},K}(be),et=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=te,this.dirty=!1}},K}(be),ct=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},K}(be),ht=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=te,this.dirty=!1}},K}(be),gt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},K.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},K}(be),xt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return i.Color.transparent},K.prototype.set=function(te){var ye=this.current;te.r===ye.r&&te.g===ye.g&&te.b===ye.b&&te.a===ye.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},K}(be),Mt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},K}(be),tt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=te,this.dirty=!1}},K}(be),Oe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},K}(be),Xe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},K}(be),Ze=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},K}(be),We=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},K}(be),ze=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},K.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&te[3]===ye[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},K}(be),ke=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},K}(be),je=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,te),this.current=te,this.dirty=!1}},K}(be),Ie=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,te),this.current=te,this.dirty=!1}},K}(be),pe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},K}(be),we=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},K}(be),Ve=function(ve){function K(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},K}(be),Qe=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},K}(be),it=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},K}(be),st=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},K}(be),Wt=function(ve){function K(ge,te){ve.call(this,ge),this.context=ge,this.parent=te}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(be),jt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},K}(Wt),Tt=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,te),this.current=te,this.dirty=!1}},K}(Wt),Lt=function(K,ge,te,ye){this.context=K,this.width=ge,this.height=te;var Fe=K.gl,Ke=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new jt(K,Ke),ye&&(this.depthAttachment=new Tt(K,Ke))};Lt.prototype.destroy=function(){var K=this.context.gl,ge=this.colorAttachment.get();if(ge&&K.deleteTexture(ge),this.depthAttachment){var te=this.depthAttachment.get();te&&K.deleteRenderbuffer(te)}K.deleteFramebuffer(this.framebuffer)};var Xt=519,Tr=function(K,ge,te){this.func=K,this.mask=ge,this.range=te};Tr.ReadOnly=!1,Tr.ReadWrite=!0,Tr.disabled=new Tr(Xt,Tr.ReadOnly,[0,1]);var yt=519,Kt=7680,Jt=function(K,ge,te,ye,Fe,Ke){this.test=K,this.ref=ge,this.mask=te,this.fail=ye,this.depthFail=Fe,this.pass=Ke};Jt.disabled=new Jt({func:yt,mask:0},0,0,Kt,Kt,Kt);var yr=0,ur=1,mt=771,lt=function(K,ge,te){this.blendFunction=K,this.blendColor=ge,this.mask=te};lt.Replace=[ur,yr],lt.disabled=new lt(lt.Replace,i.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,i.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([ur,mt],i.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,It=function(K,ge,te){this.enable=K,this.mode=ge,this.frontFace=te};It.disabled=new It(!1,bt,Et),It.backCCW=new It(!0,bt,Et);var Ht=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new xe(this),this.clearStencil=new Ce(this),this.colorMask=new Ue(this),this.depthMask=new Ne(this),this.stencilMask=new De(this),this.stencilFunc=new He(this),this.stencilOp=new at(this),this.stencilTest=new vt(this),this.depthRange=new ot(this),this.depthTest=new et(this),this.depthFunc=new ct(this),this.blend=new ht(this),this.blendFunc=new gt(this),this.blendColor=new xt(this),this.blendEquation=new Mt(this),this.cullFace=new tt(this),this.cullFaceSide=new Oe(this),this.frontFace=new Xe(this),this.program=new Ze(this),this.activeTexture=new We(this),this.viewport=new ze(this),this.bindFramebuffer=new ke(this),this.bindRenderbuffer=new je(this),this.bindTexture=new Ie(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new we(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ve(this),this.pixelStoreUnpack=new Qe(this),this.pixelStoreUnpackPremultiplyAlpha=new it(this),this.pixelStoreUnpackFlipY=new st(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};Ht.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ht.prototype.createIndexBuffer=function(K,ge){return new Me(this,K,ge)},Ht.prototype.createVertexBuffer=function(K,ge,te){return new Pe(this,K,ge,te)},Ht.prototype.createRenderbuffer=function(K,ge,te){var ye=this.gl,Fe=ye.createRenderbuffer();return this.bindRenderbuffer.set(Fe),ye.renderbufferStorage(ye.RENDERBUFFER,K,ge,te),this.bindRenderbuffer.set(null),Fe},Ht.prototype.createFramebuffer=function(K,ge,te){return new Lt(this,K,ge,te)},Ht.prototype.clear=function(K){var ge=K.color,te=K.depth,ye=this.gl,Fe=0;ge&&(Fe|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(Fe|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),ye.clear(Fe)},Ht.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},Ht.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},Ht.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},Ht.prototype.setColorMode=function(K){i.deepEqual(K.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},Ht.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ut=function(ve){function K(ge,te,ye){var Fe=this;ve.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=X(ge,te,ye,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},K.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var ye=this._tiles[te];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(te,ye){return this._source.loadTile(te,ye)},K.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},K.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Fe=this._tiles[ye];Fe.upload(te),Fe.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return i.values(this._tiles).map(function(te){return te.tileID}).sort(Bt).map(function(te){return te.key})},K.prototype.getRenderableIds=function(te){var ye=this,Fe=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,te)&&Fe.push(this._tiles[Ke]);return te?Fe.sort(function(ut,Ct){var Nt=ut.tileID,qt=Ct.tileID,lr=new i.Point(Nt.canonical.x,Nt.canonical.y)._rotate(ye.transform.angle),sr=new i.Point(qt.canonical.x,qt.canonical.y)._rotate(ye.transform.angle);return Nt.overscaledZ-qt.overscaledZ||sr.y-lr.y||sr.x-lr.x}).map(function(ut){return ut.tileID.key}):Fe.map(function(ut){return ut.tileID}).sort(Bt).map(function(ut){return ut.key})},K.prototype.hasRenderableParent=function(te){var ye=this.findLoadedParent(te,0);return ye?this._isIdRenderable(ye.tileID.key):!1},K.prototype._isIdRenderable=function(te,ye){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(ye||!this._tiles[te].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},K.prototype._reloadTile=function(te,ye){var Fe=this._tiles[te];Fe&&(Fe.state!=="loading"&&(Fe.state=ye),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,te,ye)))},K.prototype._tileLoaded=function(te,ye,Fe,Ke){if(Ke){te.state="errored",Ke.status!==404?this._source.fire(new i.ErrorEvent(Ke,{tile:te})):this.update(this.transform);return}te.timeAdded=i.browser.now(),Fe==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},K.prototype._backfillDEM=function(te){for(var ye=this.getRenderableIds(),Fe=0;Fe<ye.length;Fe++){var Ke=ye[Fe];if(te.neighboringTiles&&te.neighboringTiles[Ke]){var ut=this.getTileByID(Ke);Ct(te,ut),Ct(ut,te)}}function Ct(Nt,qt){Nt.needsHillshadePrepare=!0;var lr=qt.tileID.canonical.x-Nt.tileID.canonical.x,sr=qt.tileID.canonical.y-Nt.tileID.canonical.y,Dr=Math.pow(2,Nt.tileID.canonical.z),Xr=qt.tileID.key;lr===0&&sr===0||Math.abs(sr)>1||(Math.abs(lr)>1&&(Math.abs(lr+Dr)===1?lr+=Dr:Math.abs(lr-Dr)===1&&(lr-=Dr)),!(!qt.dem||!Nt.dem)&&(Nt.dem.backfillBorder(qt.dem,lr,sr),Nt.neighboringTiles&&Nt.neighboringTiles[Xr]&&(Nt.neighboringTiles[Xr].backfilled=!0)))}},K.prototype.getTile=function(te){return this.getTileByID(te.key)},K.prototype.getTileByID=function(te){return this._tiles[te]},K.prototype._retainLoadedChildren=function(te,ye,Fe,Ke){for(var ut in this._tiles){var Ct=this._tiles[ut];if(!(Ke[ut]||!Ct.hasData()||Ct.tileID.overscaledZ<=ye||Ct.tileID.overscaledZ>Fe)){for(var Nt=Ct.tileID;Ct&&Ct.tileID.overscaledZ>ye+1;){var qt=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[qt.key],Ct&&Ct.hasData()&&(Nt=qt)}for(var lr=Nt;lr.overscaledZ>ye;)if(lr=lr.scaledTo(lr.overscaledZ-1),te[lr.key]){Ke[Nt.key]=Nt;break}}}},K.prototype.findLoadedParent=function(te,ye){if(te.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[te.key];return Fe&&Fe.tileID.overscaledZ>=ye?Fe:null}for(var Ke=te.overscaledZ-1;Ke>=ye;Ke--){var ut=te.scaledTo(Ke),Ct=this._getLoadedTile(ut);if(Ct)return Ct}},K.prototype._getLoadedTile=function(te){var ye=this._tiles[te.key];if(ye&&ye.hasData())return ye;var Fe=this._cache.getByKey(te.wrapped().key);return Fe},K.prototype.updateCacheSize=function(te){var ye=Math.ceil(te.width/this._source.tileSize)+1,Fe=Math.ceil(te.height/this._source.tileSize)+1,Ke=ye*Fe,ut=5,Ct=Math.floor(Ke*ut),Nt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Nt)},K.prototype.handleWrapJump=function(te){var ye=this._prevLng===void 0?te:this._prevLng,Fe=te-ye,Ke=Fe/360,ut=Math.round(Ke);if(this._prevLng=te,ut){var Ct={};for(var Nt in this._tiles){var qt=this._tiles[Nt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ut),Ct[qt.tileID.key]=qt}this._tiles=Ct;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var sr in this._tiles){var Dr=this._tiles[sr];this._setTileReloadTimer(sr,Dr)}}},K.prototype.update=function(te){var ye=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(fa){return new i.OverscaledTileID(fa.canonical.z,fa.wrap,fa.canonical.z,fa.canonical.x,fa.canonical.y)}):(Fe=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(fa){return ye._source.hasTile(fa)}))):Fe=[];var Ke=te.coveringZoomLevel(this._source),ut=Math.max(Ke-K.maxOverzooming,this._source.minzoom),Ct=Math.max(Ke+K.maxUnderzooming,this._source.minzoom),Nt=this._updateRetainedTiles(Fe,Ke);if($t(this._source.type)){for(var qt={},lr={},sr=Object.keys(Nt),Dr=0,Xr=sr;Dr<Xr.length;Dr+=1){var jr=Xr[Dr],Gr=Nt[jr],Jr=this._tiles[jr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=i.browser.now())){var vn=this.findLoadedParent(Gr,ut);vn&&(this._addTile(vn.tileID),qt[vn.tileID.key]=vn.tileID),lr[jr]=Gr}}this._retainLoadedChildren(lr,Ke,Ct,Nt);for(var zn in qt)Nt[zn]||(this._coveredTiles[zn]=!0,Nt[zn]=qt[zn])}for(var Vn in Nt)this._tiles[Vn].clearFadeHold();for(var Zn=i.keysDifference(this._tiles,Nt),Kn=0,jn=Zn;Kn<jn.length;Kn+=1){var Jn=jn[Kn],aa=this._tiles[Jn];aa.hasSymbolBuckets&&!aa.holdingForFade()?aa.setHoldDuration(this.map._fadeDuration):(!aa.hasSymbolBuckets||aa.symbolFadeFinished())&&this._removeTile(Jn)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},K.prototype._updateRetainedTiles=function(te,ye){for(var Fe={},Ke={},ut=Math.max(ye-K.maxOverzooming,this._source.minzoom),Ct=Math.max(ye+K.maxUnderzooming,this._source.minzoom),Nt={},qt=0,lr=te;qt<lr.length;qt+=1){var sr=lr[qt],Dr=this._addTile(sr);Fe[sr.key]=sr,!Dr.hasData()&&ye<this._source.maxzoom&&(Nt[sr.key]=sr)}this._retainLoadedChildren(Nt,ye,Ct,Fe);for(var Xr=0,jr=te;Xr<jr.length;Xr+=1){var Gr=jr[Xr],Jr=this._tiles[Gr.key];if(!Jr.hasData()){if(ye+1>this._source.maxzoom){var vn=Gr.children(this._source.maxzoom)[0],zn=this.getTile(vn);if(zn&&zn.hasData()){Fe[vn.key]=vn;continue}}else{var Vn=Gr.children(this._source.maxzoom);if(Fe[Vn[0].key]&&Fe[Vn[1].key]&&Fe[Vn[2].key]&&Fe[Vn[3].key])continue}for(var Zn=Jr.wasRequested(),Kn=Gr.overscaledZ-1;Kn>=ut;--Kn){var jn=Gr.scaledTo(Kn);if(Ke[jn.key]||(Ke[jn.key]=!0,Jr=this.getTile(jn),!Jr&&Zn&&(Jr=this._addTile(jn)),Jr&&(Fe[jn.key]=jn,Zn=Jr.wasRequested(),Jr.hasData())))break}}}return Fe},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var ye=[],Fe=void 0,Ke=this._tiles[te].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){Fe=this._loadedParentTiles[Ke.key];break}ye.push(Ke.key);var ut=Ke.scaledTo(Ke.overscaledZ-1);if(Fe=this._getLoadedTile(ut),Fe)break;Ke=ut}for(var Ct=0,Nt=ye;Ct<Nt.length;Ct+=1){var qt=Nt[Ct];this._loadedParentTiles[qt]=Fe}}},K.prototype._addTile=function(te){var ye=this._tiles[te.key];if(ye)return ye;ye=this._cache.getAndRemove(te),ye&&(this._setTileReloadTimer(te.key,ye),ye.tileID=te,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,ye)));var Fe=!!ye;return Fe||(ye=new i.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,te.key,ye.state))),ye?(ye.uses++,this._tiles[te.key]=ye,Fe||this._source.fire(new i.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},K.prototype._setTileReloadTimer=function(te,ye){var Fe=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Ke=ye.getExpiryTimeout();Ke&&(this._timers[te]=setTimeout(function(){Fe._reloadTile(te,"expired"),delete Fe._timers[te]},Ke))},K.prototype._removeTile=function(te){var ye=this._tiles[te];ye&&(ye.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},K.prototype.tilesIn=function(te,ye,Fe){var Ke=this,ut=[],Ct=this.transform;if(!Ct)return ut;for(var Nt=Fe?Ct.getCameraQueryGeometry(te):te,qt=te.map(function(Kn){return Ct.pointCoordinate(Kn)}),lr=Nt.map(function(Kn){return Ct.pointCoordinate(Kn)}),sr=this.getIds(),Dr=1/0,Xr=1/0,jr=-1/0,Gr=-1/0,Jr=0,vn=lr;Jr<vn.length;Jr+=1){var zn=vn[Jr];Dr=Math.min(Dr,zn.x),Xr=Math.min(Xr,zn.y),jr=Math.max(jr,zn.x),Gr=Math.max(Gr,zn.y)}for(var Vn=function(Kn){var jn=Ke._tiles[sr[Kn]];if(!jn.holdingForFade()){var Jn=jn.tileID,aa=Math.pow(2,Ct.zoom-jn.tileID.overscaledZ),fa=ye*jn.queryPadding*i.EXTENT/jn.tileSize/aa,ba=[Jn.getTilePoint(new i.MercatorCoordinate(Dr,Xr)),Jn.getTilePoint(new i.MercatorCoordinate(jr,Gr))];if(ba[0].x-fa<i.EXTENT&&ba[0].y-fa<i.EXTENT&&ba[1].x+fa>=0&&ba[1].y+fa>=0){var pa=qt.map(function(ri){return Jn.getTilePoint(ri)}),Fa=lr.map(function(ri){return Jn.getTilePoint(ri)});ut.push({tile:jn,tileID:Jn,queryGeometry:pa,cameraQueryGeometry:Fa,scale:aa})}}},Zn=0;Zn<sr.length;Zn++)Vn(Zn);return ut},K.prototype.getVisibleCoordinates=function(te){for(var ye=this,Fe=this.getRenderableIds(te).map(function(Nt){return ye._tiles[Nt].tileID}),Ke=0,ut=Fe;Ke<ut.length;Ke+=1){var Ct=ut[Ke];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return Fe},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($t(this._source.type))for(var te in this._tiles){var ye=this._tiles[te];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=i.browser.now())return!0}return!1},K.prototype.setFeatureState=function(te,ye,Fe){te=te||"_geojsonTileLayer",this._state.updateState(te,ye,Fe)},K.prototype.removeFeatureState=function(te,ye,Fe){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,ye,Fe)},K.prototype.getFeatureState=function(te,ye){return te=te||"_geojsonTileLayer",this._state.getState(te,ye)},K.prototype.setDependencies=function(te,ye,Fe){var Ke=this._tiles[te];Ke&&Ke.setDependencies(ye,Fe)},K.prototype.reloadTilesForDependencies=function(te,ye){for(var Fe in this._tiles){var Ke=this._tiles[Fe];Ke.hasDependency(te,ye)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(te,ye)})},K}(i.Evented);Ut.maxOverzooming=10,Ut.maxUnderzooming=3;function Bt(ve,K){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),te=Math.abs(K.wrap*2)-+(K.wrap<0);return ve.overscaledZ-K.overscaledZ||te-ge||K.canonical.y-ve.canonical.y||K.canonical.x-ve.canonical.x}function $t(ve){return ve==="raster"||ve==="image"||ve==="video"}function fr(){return new i.window.Worker(bo.workerUrl)}var Zt="mapboxgl_preloaded_worker_pool",vr=function(){this.active={}};vr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<vr.workerCount;)this.workers.push(new fr);return this.active[K]=!0,this.workers.slice()},vr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},vr.prototype.isPreloaded=function(){return!!this.active[Zt]},vr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(i.browser.hardwareConcurrency/2);vr.workerCount=Math.max(Math.min(Ye,6),1);var Ge;function zt(){return Ge||(Ge=new vr),Ge}function Dt(){var ve=zt();ve.acquire(Zt)}function Qt(){var ve=Ge;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(Zt),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function nr(ve,K){var ge={};for(var te in ve)te!=="ref"&&(ge[te]=ve[te]);return i.refProperties.forEach(function(ye){ye in K&&(ge[ye]=K[ye])}),ge}function ir(ve){ve=ve.slice();for(var K=Object.create(null),ge=0;ge<ve.length;ge++)K[ve[ge].id]=ve[ge];for(var te=0;te<ve.length;te++)"ref"in ve[te]&&(ve[te]=nr(ve[te],K[ve[te].ref]));return ve}function tr(){var ve={},K=i.styleSpec.$version;for(var ge in i.styleSpec.$root){var te=i.styleSpec.$root[ge];if(te.required){var ye=null;ge==="version"?ye=K:te.type==="array"?ye=[]:ye={},ye!=null&&(ve[ge]=ye)}}return ve}var Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function cr(ve,K,ge){ge.push({command:Ft.addSource,args:[ve,K[ve]]})}function pr(ve,K,ge){K.push({command:Ft.removeSource,args:[ve]}),ge[ve]=!0}function br(ve,K,ge,te){pr(ve,ge,te),cr(ve,K,ge)}function hr(ve,K,ge){var te;for(te in ve[ge])if(ve[ge].hasOwnProperty(te)&&te!=="data"&&!i.deepEqual(ve[ge][te],K[ge][te]))return!1;for(te in K[ge])if(K[ge].hasOwnProperty(te)&&te!=="data"&&!i.deepEqual(ve[ge][te],K[ge][te]))return!1;return!0}function Vr(ve,K,ge,te){ve=ve||{},K=K||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(K.hasOwnProperty(ye)||pr(ye,ge,te));for(ye in K)K.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?i.deepEqual(ve[ye],K[ye])||(ve[ye].type==="geojson"&&K[ye].type==="geojson"&&hr(ve,K,ye)?ge.push({command:Ft.setGeoJSONSourceData,args:[ye,K[ye].data]}):br(ye,K,ge,te)):cr(ye,K,ge))}function Pr(ve,K,ge,te,ye,Fe){ve=ve||{},K=K||{};var Ke;for(Ke in ve)ve.hasOwnProperty(Ke)&&(i.deepEqual(ve[Ke],K[Ke])||ge.push({command:Fe,args:[te,Ke,K[Ke],ye]}));for(Ke in K)!K.hasOwnProperty(Ke)||ve.hasOwnProperty(Ke)||i.deepEqual(ve[Ke],K[Ke])||ge.push({command:Fe,args:[te,Ke,K[Ke],ye]})}function Ir(ve){return ve.id}function sn(ve,K){return ve[K.id]=K,ve}function an(ve,K,ge){ve=ve||[],K=K||[];var te=ve.map(Ir),ye=K.map(Ir),Fe=ve.reduce(sn,{}),Ke=K.reduce(sn,{}),ut=te.slice(),Ct=Object.create(null),Nt,qt,lr,sr,Dr,Xr,jr;for(Nt=0,qt=0;Nt<te.length;Nt++)lr=te[Nt],Ke.hasOwnProperty(lr)?qt++:(ge.push({command:Ft.removeLayer,args:[lr]}),ut.splice(ut.indexOf(lr,qt),1));for(Nt=0,qt=0;Nt<ye.length;Nt++)lr=ye[ye.length-1-Nt],ut[ut.length-1-Nt]!==lr&&(Fe.hasOwnProperty(lr)?(ge.push({command:Ft.removeLayer,args:[lr]}),ut.splice(ut.lastIndexOf(lr,ut.length-qt),1)):qt++,Xr=ut[ut.length-Nt],ge.push({command:Ft.addLayer,args:[Ke[lr],Xr]}),ut.splice(ut.length-Nt,0,lr),Ct[lr]=!0);for(Nt=0;Nt<ye.length;Nt++)if(lr=ye[Nt],sr=Fe[lr],Dr=Ke[lr],!(Ct[lr]||i.deepEqual(sr,Dr))){if(!i.deepEqual(sr.source,Dr.source)||!i.deepEqual(sr["source-layer"],Dr["source-layer"])||!i.deepEqual(sr.type,Dr.type)){ge.push({command:Ft.removeLayer,args:[lr]}),Xr=ut[ut.lastIndexOf(lr)+1],ge.push({command:Ft.addLayer,args:[Dr,Xr]});continue}Pr(sr.layout,Dr.layout,ge,lr,null,Ft.setLayoutProperty),Pr(sr.paint,Dr.paint,ge,lr,null,Ft.setPaintProperty),i.deepEqual(sr.filter,Dr.filter)||ge.push({command:Ft.setFilter,args:[lr,Dr.filter]}),(!i.deepEqual(sr.minzoom,Dr.minzoom)||!i.deepEqual(sr.maxzoom,Dr.maxzoom))&&ge.push({command:Ft.setLayerZoomRange,args:[lr,Dr.minzoom,Dr.maxzoom]});for(jr in sr)sr.hasOwnProperty(jr)&&(jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],Dr[jr],ge,lr,jr.slice(6),Ft.setPaintProperty):i.deepEqual(sr[jr],Dr[jr])||ge.push({command:Ft.setLayerProperty,args:[lr,jr,Dr[jr]]})));for(jr in Dr)!Dr.hasOwnProperty(jr)||sr.hasOwnProperty(jr)||jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],Dr[jr],ge,lr,jr.slice(6),Ft.setPaintProperty):i.deepEqual(sr[jr],Dr[jr])||ge.push({command:Ft.setLayerProperty,args:[lr,jr,Dr[jr]]}))}}function En(ve,K){if(!ve)return[{command:Ft.setStyle,args:[K]}];var ge=[];try{if(!i.deepEqual(ve.version,K.version))return[{command:Ft.setStyle,args:[K]}];i.deepEqual(ve.center,K.center)||ge.push({command:Ft.setCenter,args:[K.center]}),i.deepEqual(ve.zoom,K.zoom)||ge.push({command:Ft.setZoom,args:[K.zoom]}),i.deepEqual(ve.bearing,K.bearing)||ge.push({command:Ft.setBearing,args:[K.bearing]}),i.deepEqual(ve.pitch,K.pitch)||ge.push({command:Ft.setPitch,args:[K.pitch]}),i.deepEqual(ve.sprite,K.sprite)||ge.push({command:Ft.setSprite,args:[K.sprite]}),i.deepEqual(ve.glyphs,K.glyphs)||ge.push({command:Ft.setGlyphs,args:[K.glyphs]}),i.deepEqual(ve.transition,K.transition)||ge.push({command:Ft.setTransition,args:[K.transition]}),i.deepEqual(ve.light,K.light)||ge.push({command:Ft.setLight,args:[K.light]});var te={},ye=[];Vr(ve.sources,K.sources,ye,te);var Fe=[];ve.layers&&ve.layers.forEach(function(Ke){te[Ke.source]?ge.push({command:Ft.removeLayer,args:[Ke.id]}):Fe.push(Ke)}),ge=ge.concat(ye),an(Fe,K.layers,ge)}catch(Ke){console.warn("Unable to compute style diff:",Ke),ge=[{command:Ft.setStyle,args:[K]}]}return ge}var Mn=function(K,ge){this.reset(K,ge)};Mn.prototype.reset=function(K,ge){this.points=K||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Mn.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=i.clamp(K,0,1);for(var ge=1,te=this._distances[ge],ye=K*this.paddedLength+this.padding;te<ye&&ge<this._distances.length;)te=this._distances[++ge];var Fe=ge-1,Ke=this._distances[Fe],ut=te-Ke,Ct=ut>0?(ye-Ke)/ut:0;return this.points[Fe].mult(1-Ct).add(this.points[ge].mult(Ct))};var xr=function(K,ge,te){var ye=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(K/te),this.yCellCount=Math.ceil(ge/te);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)ye.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=ge,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};xr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},xr.prototype.insert=function(K,ge,te,ye,Fe){this._forEachCell(ge,te,ye,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(ge),this.bboxes.push(te),this.bboxes.push(ye),this.bboxes.push(Fe)},xr.prototype.insertCircle=function(K,ge,te,ye){this._forEachCell(ge-ye,te-ye,ge+ye,te+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(ge),this.circles.push(te),this.circles.push(ye)},xr.prototype._insertBoxCell=function(K,ge,te,ye,Fe,Ke){this.boxCells[Fe].push(Ke)},xr.prototype._insertCircleCell=function(K,ge,te,ye,Fe,Ke){this.circleCells[Fe].push(Ke)},xr.prototype._query=function(K,ge,te,ye,Fe,Ke){if(te<0||K>this.width||ye<0||ge>this.height)return Fe?!1:[];var ut=[];if(K<=0&&ge<=0&&this.width<=te&&this.height<=ye){if(Fe)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ut.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Nt=0;Nt<this.circleKeys.length;Nt++){var qt=this.circles[Nt*3],lr=this.circles[Nt*3+1],sr=this.circles[Nt*3+2];ut.push({key:this.circleKeys[Nt],x1:qt-sr,y1:lr-sr,x2:qt+sr,y2:lr+sr})}return Ke?ut.filter(Ke):ut}else{var Dr={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(K,ge,te,ye,this._queryCell,ut,Dr,Ke),Fe?ut.length>0:ut}},xr.prototype._queryCircle=function(K,ge,te,ye,Fe){var Ke=K-te,ut=K+te,Ct=ge-te,Nt=ge+te;if(ut<0||Ke>this.width||Nt<0||Ct>this.height)return ye?!1:[];var qt=[],lr={hitTest:ye,circle:{x:K,y:ge,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,Ct,ut,Nt,this._queryCellCircle,qt,lr,Fe),ye?qt.length>0:qt},xr.prototype.query=function(K,ge,te,ye,Fe){return this._query(K,ge,te,ye,!1,Fe)},xr.prototype.hitTest=function(K,ge,te,ye,Fe){return this._query(K,ge,te,ye,!0,Fe)},xr.prototype.hitTestCircle=function(K,ge,te,ye){return this._queryCircle(K,ge,te,!0,ye)},xr.prototype._queryCell=function(K,ge,te,ye,Fe,Ke,ut,Ct){var Nt=ut.seenUids,qt=this.boxCells[Fe];if(qt!==null)for(var lr=this.bboxes,sr=0,Dr=qt;sr<Dr.length;sr+=1){var Xr=Dr[sr];if(!Nt.box[Xr]){Nt.box[Xr]=!0;var jr=Xr*4;if(K<=lr[jr+2]&&ge<=lr[jr+3]&&te>=lr[jr+0]&&ye>=lr[jr+1]&&(!Ct||Ct(this.boxKeys[Xr]))){if(ut.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[Xr],x1:lr[jr],y1:lr[jr+1],x2:lr[jr+2],y2:lr[jr+3]})}}}var Gr=this.circleCells[Fe];if(Gr!==null)for(var Jr=this.circles,vn=0,zn=Gr;vn<zn.length;vn+=1){var Vn=zn[vn];if(!Nt.circle[Vn]){Nt.circle[Vn]=!0;var Zn=Vn*3;if(this._circleAndRectCollide(Jr[Zn],Jr[Zn+1],Jr[Zn+2],K,ge,te,ye)&&(!Ct||Ct(this.circleKeys[Vn]))){if(ut.hitTest)return Ke.push(!0),!0;var Kn=Jr[Zn],jn=Jr[Zn+1],Jn=Jr[Zn+2];Ke.push({key:this.circleKeys[Vn],x1:Kn-Jn,y1:jn-Jn,x2:Kn+Jn,y2:jn+Jn})}}}},xr.prototype._queryCellCircle=function(K,ge,te,ye,Fe,Ke,ut,Ct){var Nt=ut.circle,qt=ut.seenUids,lr=this.boxCells[Fe];if(lr!==null)for(var sr=this.bboxes,Dr=0,Xr=lr;Dr<Xr.length;Dr+=1){var jr=Xr[Dr];if(!qt.box[jr]){qt.box[jr]=!0;var Gr=jr*4;if(this._circleAndRectCollide(Nt.x,Nt.y,Nt.radius,sr[Gr+0],sr[Gr+1],sr[Gr+2],sr[Gr+3])&&(!Ct||Ct(this.boxKeys[jr])))return Ke.push(!0),!0}}var Jr=this.circleCells[Fe];if(Jr!==null)for(var vn=this.circles,zn=0,Vn=Jr;zn<Vn.length;zn+=1){var Zn=Vn[zn];if(!qt.circle[Zn]){qt.circle[Zn]=!0;var Kn=Zn*3;if(this._circlesCollide(vn[Kn],vn[Kn+1],vn[Kn+2],Nt.x,Nt.y,Nt.radius)&&(!Ct||Ct(this.circleKeys[Zn])))return Ke.push(!0),!0}}},xr.prototype._forEachCell=function(K,ge,te,ye,Fe,Ke,ut,Ct){for(var Nt=this._convertToXCellCoord(K),qt=this._convertToYCellCoord(ge),lr=this._convertToXCellCoord(te),sr=this._convertToYCellCoord(ye),Dr=Nt;Dr<=lr;Dr++)for(var Xr=qt;Xr<=sr;Xr++){var jr=this.xCellCount*Xr+Dr;if(Fe.call(this,K,ge,te,ye,jr,Ke,ut,Ct))return}},xr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},xr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},xr.prototype._circlesCollide=function(K,ge,te,ye,Fe,Ke){var ut=ye-K,Ct=Fe-ge,Nt=te+Ke;return Nt*Nt>ut*ut+Ct*Ct},xr.prototype._circleAndRectCollide=function(K,ge,te,ye,Fe,Ke,ut){var Ct=(Ke-ye)/2,Nt=Math.abs(K-(ye+Ct));if(Nt>Ct+te)return!1;var qt=(ut-Fe)/2,lr=Math.abs(ge-(Fe+qt));if(lr>qt+te)return!1;if(Nt<=Ct||lr<=qt)return!0;var sr=Nt-Ct,Dr=lr-qt;return sr*sr+Dr*Dr<=te*te};function _r(ve,K,ge,te,ye){var Fe=i.create();return K?(i.scale(Fe,Fe,[1/ye,1/ye,1]),ge||i.rotateZ(Fe,Fe,te.angle)):i.multiply(Fe,te.labelPlaneMatrix,ve),Fe}function Yr(ve,K,ge,te,ye){if(K){var Fe=i.clone(ve);return i.scale(Fe,Fe,[ye,ye,1]),ge||i.rotateZ(Fe,Fe,-te.angle),Fe}else return te.glCoordMatrix}function zr(ve,K){var ge=[ve.x,ve.y,0,1];gr(ge,ge,K);var te=ge[3];return{point:new i.Point(ge[0]/te,ge[1]/te),signedDistanceFromCamera:te}}function gn(ve,K){return .5+.5*(ve/K)}function dn(ve,K){var ge=ve[0]/ve[3],te=ve[1]/ve[3],ye=ge>=-K[0]&&ge<=K[0]&&te>=-K[1]&&te<=K[1];return ye}function Rn(ve,K,ge,te,ye,Fe,Ke,ut){var Ct=te?ve.textSizeData:ve.iconSizeData,Nt=i.evaluateSizeForZoom(Ct,ge.transform.zoom),qt=[256/ge.width*2+1,256/ge.height*2+1],lr=te?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;lr.clear();for(var sr=ve.lineVertexArray,Dr=te?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Xr=ge.transform.width/ge.transform.height,jr=!1,Gr=0;Gr<Dr.length;Gr++){var Jr=Dr.get(Gr);if(Jr.hidden||Jr.writingMode===i.WritingMode.vertical&&!jr){Qn(Jr.numGlyphs,lr);continue}jr=!1;var vn=[Jr.anchorX,Jr.anchorY,0,1];if(i.transformMat4(vn,vn,K),!dn(vn,qt)){Qn(Jr.numGlyphs,lr);continue}var zn=vn[3],Vn=gn(ge.transform.cameraToCenterDistance,zn),Zn=i.evaluateSizeForFeature(Ct,Nt,Jr),Kn=Ke?Zn/Vn:Zn*Vn,jn=new i.Point(Jr.anchorX,Jr.anchorY),Jn=zr(jn,ye).point,aa={},fa=oa(Jr,Kn,!1,ut,K,ye,Fe,ve.glyphOffsetArray,sr,lr,Jn,jn,aa,Xr);jr=fa.useVertical,(fa.notEnoughRoom||jr||fa.needsFlipping&&oa(Jr,Kn,!0,ut,K,ye,Fe,ve.glyphOffsetArray,sr,lr,Jn,jn,aa,Xr).notEnoughRoom)&&Qn(Jr.numGlyphs,lr)}te?ve.text.dynamicLayoutVertexBuffer.updateData(lr):ve.icon.dynamicLayoutVertexBuffer.updateData(lr)}function In(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt){var lr=ut.glyphStartIndex+ut.numGlyphs,sr=ut.lineStartIndex,Dr=ut.lineStartIndex+ut.lineLength,Xr=K.getoffsetX(ut.glyphStartIndex),jr=K.getoffsetX(lr-1),Gr=Ta(ve*Xr,ge,te,ye,Fe,Ke,ut.segment,sr,Dr,Ct,Nt,qt);if(!Gr)return null;var Jr=Ta(ve*jr,ge,te,ye,Fe,Ke,ut.segment,sr,Dr,Ct,Nt,qt);return Jr?{first:Gr,last:Jr}:null}function Wn(ve,K,ge,te){if(ve===i.WritingMode.horizontal){var ye=Math.abs(ge.y-K.y),Fe=Math.abs(ge.x-K.x)*te;if(ye>Fe)return{useVertical:!0}}return(ve===i.WritingMode.vertical?K.y<ge.y:K.x>ge.x)?{needsFlipping:!0}:null}function oa(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr,sr,Dr){var Xr=K/24,jr=ve.lineOffsetX*Xr,Gr=ve.lineOffsetY*Xr,Jr;if(ve.numGlyphs>1){var vn=ve.glyphStartIndex+ve.numGlyphs,zn=ve.lineStartIndex,Vn=ve.lineStartIndex+ve.lineLength,Zn=In(Xr,ut,jr,Gr,ge,qt,lr,ve,Ct,Fe,sr);if(!Zn)return{notEnoughRoom:!0};var Kn=zr(Zn.first.point,Ke).point,jn=zr(Zn.last.point,Ke).point;if(te&&!ge){var Jn=Wn(ve.writingMode,Kn,jn,Dr);if(Jn)return Jn}Jr=[Zn.first];for(var aa=ve.glyphStartIndex+1;aa<vn-1;aa++)Jr.push(Ta(Xr*ut.getoffsetX(aa),jr,Gr,ge,qt,lr,ve.segment,zn,Vn,Ct,Fe,sr));Jr.push(Zn.last)}else{if(te&&!ge){var fa=zr(lr,ye).point,ba=ve.lineStartIndex+ve.segment+1,pa=new i.Point(Ct.getx(ba),Ct.gety(ba)),Fa=zr(pa,ye),ri=Fa.signedDistanceFromCamera>0?Fa.point:ma(lr,pa,fa,1,ye),Ka=Wn(ve.writingMode,fa,ri,Dr);if(Ka)return Ka}var Ea=Ta(Xr*ut.getoffsetX(ve.glyphStartIndex),jr,Gr,ge,qt,lr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Ct,Fe,sr);if(!Ea)return{notEnoughRoom:!0};Jr=[Ea]}for(var $a=0,Wa=Jr;$a<Wa.length;$a+=1){var fi=Wa[$a];i.addDynamicAttributes(Nt,fi.point,fi.angle)}return{}}function ma(ve,K,ge,te,ye){var Fe=zr(ve.add(ve.sub(K)._unit()),ye).point,Ke=ge.sub(Fe);return ge.add(Ke._mult(te/Ke.mag()))}function Ta(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr){var sr=te?ve-K:ve+K,Dr=sr>0?1:-1,Xr=0;te&&(Dr*=-1,Xr=Math.PI),Dr<0&&(Xr+=Math.PI);for(var jr=Dr>0?ut+Ke:ut+Ke+1,Gr=ye,Jr=ye,vn=0,zn=0,Vn=Math.abs(sr),Zn=[];vn+zn<=Vn;){if(jr+=Dr,jr<ut||jr>=Ct)return null;if(Jr=Gr,Zn.push(Gr),Gr=lr[jr],Gr===void 0){var Kn=new i.Point(Nt.getx(jr),Nt.gety(jr)),jn=zr(Kn,qt);if(jn.signedDistanceFromCamera>0)Gr=lr[jr]=jn.point;else{var Jn=jr-Dr,aa=vn===0?Fe:new i.Point(Nt.getx(Jn),Nt.gety(Jn));Gr=ma(aa,Kn,Jr,Vn-vn+1,qt)}}vn+=zn,zn=Jr.dist(Gr)}var fa=(Vn-vn)/zn,ba=Gr.sub(Jr),pa=ba.mult(fa)._add(Jr);pa._add(ba._unit()._perp()._mult(ge*Dr));var Fa=Xr+Math.atan2(Gr.y-Jr.y,Gr.x-Jr.x);return Zn.push(pa),{point:pa,angle:Fa,path:Zn}}var Yn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ve,K){for(var ge=0;ge<ve;ge++){var te=K.length;K.resize(te+4),K.float32.set(Yn,te*3)}}function gr(ve,K,ge){var te=K[0],ye=K[1];return ve[0]=ge[0]*te+ge[4]*ye+ge[12],ve[1]=ge[1]*te+ge[5]*ye+ge[13],ve[3]=ge[3]*te+ge[7]*ye+ge[15],ve}var en=100,$r=function(K,ge,te){ge===void 0&&(ge=new xr(K.width+2*en,K.height+2*en,25)),te===void 0&&(te=new xr(K.width+2*en,K.height+2*en,25)),this.transform=K,this.grid=ge,this.ignoredGrid=te,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+en,this.screenBottomBoundary=K.height+en,this.gridRightBoundary=K.width+2*en,this.gridBottomBoundary=K.height+2*en};$r.prototype.placeCollisionBox=function(K,ge,te,ye,Fe){var Ke=this.projectAndGetPerspectiveRatio(ye,K.anchorPointX,K.anchorPointY),ut=te*Ke.perspectiveRatio,Ct=K.x1*ut+Ke.point.x,Nt=K.y1*ut+Ke.point.y,qt=K.x2*ut+Ke.point.x,lr=K.y2*ut+Ke.point.y;return!this.isInsideGrid(Ct,Nt,qt,lr)||!ge&&this.grid.hitTest(Ct,Nt,qt,lr,Fe)?{box:[],offscreen:!1}:{box:[Ct,Nt,qt,lr],offscreen:this.isOffscreen(Ct,Nt,qt,lr)}},$r.prototype.placeCollisionCircles=function(K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr,sr,Dr){var Xr=[],jr=new i.Point(ge.anchorX,ge.anchorY),Gr=zr(jr,Ke),Jr=gn(this.transform.cameraToCenterDistance,Gr.signedDistanceFromCamera),vn=qt?Fe/Jr:Fe*Jr,zn=vn/i.ONE_EM,Vn=zr(jr,ut).point,Zn={},Kn=ge.lineOffsetX*zn,jn=ge.lineOffsetY*zn,Jn=In(zn,ye,Kn,jn,!1,Vn,jr,ge,te,ut,Zn),aa=!1,fa=!1,ba=!0;if(Jn){for(var pa=sr*.5*Jr+Dr,Fa=new i.Point(-en,-en),ri=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Ka=new Mn,Ea=Jn.first,$a=Jn.last,Wa=[],fi=Ea.path.length-1;fi>=1;fi--)Wa.push(Ea.path[fi]);for(var ii=1;ii<$a.path.length;ii++)Wa.push($a.path[ii]);var Ii=pa*2.5;if(Ct){var ti=Wa.map(function(Ul){return zr(Ul,Ct)});ti.some(function(Ul){return Ul.signedDistanceFromCamera<=0})?Wa=[]:Wa=ti.map(function(Ul){return Ul.point})}var Si=[];if(Wa.length>0){for(var Ya=Wa[0].clone(),ni=Wa[0].clone(),Ji=1;Ji<Wa.length;Ji++)Ya.x=Math.min(Ya.x,Wa[Ji].x),Ya.y=Math.min(Ya.y,Wa[Ji].y),ni.x=Math.max(ni.x,Wa[Ji].x),ni.y=Math.max(ni.y,Wa[Ji].y);Ya.x>=Fa.x&&ni.x<=ri.x&&Ya.y>=Fa.y&&ni.y<=ri.y?Si=[Wa]:ni.x<Fa.x||Ya.x>ri.x||ni.y<Fa.y||Ya.y>ri.y?Si=[]:Si=i.clipLine([Wa],Fa.x,Fa.y,ri.x,ri.y)}for(var Ro=0,ml=Si;Ro<ml.length;Ro+=1){var xl=ml[Ro];Ka.reset(xl,pa*.25);var Bl=0;Ka.length<=.5*pa?Bl=1:Bl=Math.ceil(Ka.paddedLength/Ii)+1;for(var bu=0;bu<Bl;bu++){var bc=bu/Math.max(Bl-1,1),wu=Ka.lerp(bc),bs=wu.x+en,Tu=wu.y+en;Xr.push(bs,Tu,pa,0);var Os=bs-pa,ws=Tu-pa,Nl=bs+pa,sf=Tu+pa;if(ba=ba&&this.isOffscreen(Os,ws,Nl,sf),fa=fa||this.isInsideGrid(Os,ws,Nl,sf),!K&&this.grid.hitTestCircle(bs,Tu,pa,lr)&&(aa=!0,!Nt))return{circles:[],offscreen:!1,collisionDetected:aa}}}}return{circles:!Nt&&aa||!fa?[]:Xr,offscreen:ba,collisionDetected:aa}},$r.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],te=1/0,ye=1/0,Fe=-1/0,Ke=-1/0,ut=0,Ct=K;ut<Ct.length;ut+=1){var Nt=Ct[ut],qt=new i.Point(Nt.x+en,Nt.y+en);te=Math.min(te,qt.x),ye=Math.min(ye,qt.y),Fe=Math.max(Fe,qt.x),Ke=Math.max(Ke,qt.y),ge.push(qt)}for(var lr=this.grid.query(te,ye,Fe,Ke).concat(this.ignoredGrid.query(te,ye,Fe,Ke)),sr={},Dr={},Xr=0,jr=lr;Xr<jr.length;Xr+=1){var Gr=jr[Xr],Jr=Gr.key;if(sr[Jr.bucketInstanceId]===void 0&&(sr[Jr.bucketInstanceId]={}),!sr[Jr.bucketInstanceId][Jr.featureIndex]){var vn=[new i.Point(Gr.x1,Gr.y1),new i.Point(Gr.x2,Gr.y1),new i.Point(Gr.x2,Gr.y2),new i.Point(Gr.x1,Gr.y2)];i.polygonIntersectsPolygon(ge,vn)&&(sr[Jr.bucketInstanceId][Jr.featureIndex]=!0,Dr[Jr.bucketInstanceId]===void 0&&(Dr[Jr.bucketInstanceId]=[]),Dr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return Dr},$r.prototype.insertCollisionBox=function(K,ge,te,ye,Fe){var Ke=ge?this.ignoredGrid:this.grid,ut={bucketInstanceId:te,featureIndex:ye,collisionGroupID:Fe};Ke.insert(ut,K[0],K[1],K[2],K[3])},$r.prototype.insertCollisionCircles=function(K,ge,te,ye,Fe){for(var Ke=ge?this.ignoredGrid:this.grid,ut={bucketInstanceId:te,featureIndex:ye,collisionGroupID:Fe},Ct=0;Ct<K.length;Ct+=4)Ke.insertCircle(ut,K[Ct],K[Ct+1],K[Ct+2])},$r.prototype.projectAndGetPerspectiveRatio=function(K,ge,te){var ye=[ge,te,0,1];gr(ye,ye,K);var Fe=new i.Point((ye[0]/ye[3]+1)/2*this.transform.width+en,(-ye[1]/ye[3]+1)/2*this.transform.height+en);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},$r.prototype.isOffscreen=function(K,ge,te,ye){return te<en||K>=this.screenRightBoundary||ye<en||ge>this.screenBottomBoundary},$r.prototype.isInsideGrid=function(K,ge,te,ye){return te>=0&&K<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},$r.prototype.getViewportMatrix=function(){var K=i.identity([]);return i.translate(K,K,[-en,-en,0]),K};function hn(ve,K,ge){return K*(i.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var Bn=function(K,ge,te,ye){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?ge:-ge))):this.opacity=ye&&te?1:0,this.placed=te};Bn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Tn=function(K,ge,te,ye,Fe){this.text=new Bn(K?K.text:null,ge,te,Fe),this.icon=new Bn(K?K.icon:null,ge,ye,Fe)};Tn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Sn=function(K,ge,te){this.text=K,this.icon=ge,this.skipFade=te},Nn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},qn=function(K,ge,te,ye,Fe){this.bucketInstanceId=K,this.featureIndex=ge,this.sourceLayerIndex=te,this.bucketIndex=ye,this.tileID=Fe},va=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};va.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var ge=++this.maxGroupID;this.collisionGroups[K]={ID:ge,predicate:function(te){return te.collisionGroupID===ge}}}return this.collisionGroups[K]};function Da(ve,K,ge,te,ye){var Fe=i.getAnchorAlignment(ve),Ke=Fe.horizontalAlign,ut=Fe.verticalAlign,Ct=-(Ke-.5)*K,Nt=-(ut-.5)*ge,qt=i.evaluateVariableOffset(ve,te);return new i.Point(Ct+qt[0]*ye,Nt+qt[1]*ye)}function Mr(ve,K,ge,te,ye,Fe){var Ke=ve.x1,ut=ve.x2,Ct=ve.y1,Nt=ve.y2,qt=ve.anchorPointX,lr=ve.anchorPointY,sr=new i.Point(K,ge);return te&&sr._rotate(ye?Fe:-Fe),{x1:Ke+sr.x,y1:Ct+sr.y,x2:ut+sr.x,y2:Nt+sr.y,anchorPointX:qt,anchorPointY:lr}}var Or=function(K,ge,te,ye){this.transform=K.clone(),this.collisionIndex=new $r(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new va(te),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Or.prototype.getBucketParts=function(K,ge,te,ye){var Fe=te.getBucket(ge),Ke=te.latestFeatureIndex;if(!(!Fe||!Ke||ge.id!==Fe.layerIds[0])){var ut=te.collisionBoxArray,Ct=Fe.layers[0].layout,Nt=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),qt=te.tileSize/i.EXTENT,lr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),sr=Ct.get("text-pitch-alignment")==="map",Dr=Ct.get("text-rotation-alignment")==="map",Xr=hn(te,1,this.transform.zoom),jr=_r(lr,sr,Dr,this.transform,Xr),Gr=null;if(sr){var Jr=Yr(lr,sr,Dr,this.transform,Xr);Gr=i.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Fe.bucketInstanceId]=new qn(Fe.bucketInstanceId,Ke,Fe.sourceLayerIndex,Fe.index,te.tileID);var vn={bucket:Fe,layout:Ct,posMatrix:lr,textLabelPlaneMatrix:jr,labelToScreenMatrix:Gr,scale:Nt,textPixelRatio:qt,holdingForFade:te.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(ye)for(var zn=0,Vn=Fe.sortKeyRanges;zn<Vn.length;zn+=1){var Zn=Vn[zn],Kn=Zn.sortKey,jn=Zn.symbolInstanceStart,Jn=Zn.symbolInstanceEnd;K.push({sortKey:Kn,symbolInstanceStart:jn,symbolInstanceEnd:Jn,parameters:vn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:vn})}},Or.prototype.attemptAnchorPlacement=function(K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr,sr,Dr,Xr,jr){var Gr=[sr.textOffset0,sr.textOffset1],Jr=Da(K,te,ye,Gr,Fe),vn=this.collisionIndex.placeCollisionBox(Mr(ge,Jr.x,Jr.y,Ke,ut,this.transform.angle),lr,Ct,Nt,qt.predicate);if(jr){var zn=this.collisionIndex.placeCollisionBox(Mr(jr,Jr.x,Jr.y,Ke,ut,this.transform.angle),lr,Ct,Nt,qt.predicate);if(zn.box.length===0)return}if(vn.box.length>0){var Vn;return this.prevPlacement&&this.prevPlacement.variableOffsets[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID].text&&(Vn=this.prevPlacement.variableOffsets[sr.crossTileID].anchor),this.variableOffsets[sr.crossTileID]={textOffset:Gr,width:te,height:ye,anchor:K,textBoxScale:Fe,prevAnchor:Vn},this.markUsedJustification(Dr,K,sr,Xr),Dr.allowVerticalPlacement&&(this.markUsedOrientation(Dr,Xr,sr),this.placedOrientations[sr.crossTileID]=Xr),{shift:Jr,placedGlyphBoxes:vn}}},Or.prototype.placeLayerBucketPart=function(K,ge,te){var ye=this,Fe=K.parameters,Ke=Fe.bucket,ut=Fe.layout,Ct=Fe.posMatrix,Nt=Fe.textLabelPlaneMatrix,qt=Fe.labelToScreenMatrix,lr=Fe.textPixelRatio,sr=Fe.holdingForFade,Dr=Fe.collisionBoxArray,Xr=Fe.partiallyEvaluatedTextSize,jr=Fe.collisionGroup,Gr=ut.get("text-optional"),Jr=ut.get("icon-optional"),vn=ut.get("text-allow-overlap"),zn=ut.get("icon-allow-overlap"),Vn=ut.get("text-rotation-alignment")==="map",Zn=ut.get("text-pitch-alignment")==="map",Kn=ut.get("icon-text-fit")!=="none",jn=ut.get("symbol-z-order")==="viewport-y",Jn=vn&&(zn||!Ke.hasIconData()||Jr),aa=zn&&(vn||!Ke.hasTextData()||Gr);!Ke.collisionArrays&&Dr&&Ke.deserializeCollisionBoxes(Dr);var fa=function(Ea,$a){if(!ge[Ea.crossTileID]){if(sr){ye.placements[Ea.crossTileID]=new Sn(!1,!1,!1);return}var Wa=!1,fi=!1,ii=!0,Ii=null,ti={box:null,offscreen:null},Si={box:null,offscreen:null},Ya=null,ni=null,Ji=null,Ro=0,ml=0,xl=0;$a.textFeatureIndex?Ro=$a.textFeatureIndex:Ea.useRuntimeCollisionCircles&&(Ro=Ea.featureIndex),$a.verticalTextFeatureIndex&&(ml=$a.verticalTextFeatureIndex);var Bl=$a.textBox;if(Bl){var bu=function(no){var Fs=i.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!no&&ye.prevPlacement){var Bs=ye.prevPlacement.placedOrientations[Ea.crossTileID];Bs&&(ye.placedOrientations[Ea.crossTileID]=Bs,Fs=Bs,ye.markUsedOrientation(Ke,Fs,Ea))}return Fs},bc=function(no,Fs){if(Ke.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&$a.verticalTextBox)for(var Bs=0,Hv=Ke.writingModes;Bs<Hv.length;Bs+=1){var sp=Hv[Bs];if(sp===i.WritingMode.vertical?(ti=Fs(),Si=ti):ti=no(),ti&&ti.box&&ti.box.length)break}else ti=no()};if(ut.get("text-variable-anchor")){var Os=ut.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ea.crossTileID]){var ws=ye.prevPlacement.variableOffsets[Ea.crossTileID];Os.indexOf(ws.anchor)>0&&(Os=Os.filter(function(no){return no!==ws.anchor}),Os.unshift(ws.anchor))}var Nl=function(no,Fs,Bs){for(var Hv=no.x2-no.x1,sp=no.y2-no.y1,r1=Ea.textBoxScale,n1=Kn&&!zn?Fs:null,fv={box:[],offscreen:!1},a1=vn?Os.length*2:Os.length,Gv=0;Gv<a1;++Gv){var i1=Os[Gv%Os.length],o1=Gv>=Os.length,lp=ye.attemptAnchorPlacement(i1,no,Hv,sp,r1,Vn,Zn,lr,Ct,jr,o1,Ea,Ke,Bs,n1);if(lp&&(fv=lp.placedGlyphBoxes,fv&&fv.box&&fv.box.length)){Wa=!0,Ii=lp.shift;break}}return fv},sf=function(){return Nl(Bl,$a.iconBox,i.WritingMode.horizontal)},Ul=function(){var no=$a.verticalTextBox,Fs=ti&&ti.box&&ti.box.length;return Ke.allowVerticalPlacement&&!Fs&&Ea.numVerticalGlyphVertices>0&&no?Nl(no,$a.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};bc(sf,Ul),ti&&(Wa=ti.box,ii=ti.offscreen);var Fv=bu(ti&&ti.box);if(!Wa&&ye.prevPlacement){var uh=ye.prevPlacement.variableOffsets[Ea.crossTileID];uh&&(ye.variableOffsets[Ea.crossTileID]=uh,ye.markUsedJustification(Ke,uh.anchor,Ea,Fv))}}else{var wu=function(no,Fs){var Bs=ye.collisionIndex.placeCollisionBox(no,vn,lr,Ct,jr.predicate);return Bs&&Bs.box&&Bs.box.length&&(ye.markUsedOrientation(Ke,Fs,Ea),ye.placedOrientations[Ea.crossTileID]=Fs),Bs},bs=function(){return wu(Bl,i.WritingMode.horizontal)},Tu=function(){var no=$a.verticalTextBox;return Ke.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&no?wu(no,i.WritingMode.vertical):{box:null,offscreen:null}};bc(bs,Tu),bu(ti&&ti.box&&ti.box.length)}}if(Ya=ti,Wa=Ya&&Ya.box&&Ya.box.length>0,ii=Ya&&Ya.offscreen,Ea.useRuntimeCollisionCircles){var Fo=Ke.text.placedSymbolArray.get(Ea.centerJustifiedTextSymbolIndex),Bv=i.evaluateSizeForFeature(Ke.textSizeData,Xr,Fo),uv=ut.get("text-padding"),is=Ea.collisionCircleDiameter;ni=ye.collisionIndex.placeCollisionCircles(vn,Fo,Ke.lineVertexArray,Ke.glyphOffsetArray,Bv,Ct,Nt,qt,te,Zn,jr.predicate,is,uv),Wa=vn||ni.circles.length>0&&!ni.collisionDetected,ii=ii&&ni.offscreen}if($a.iconFeatureIndex&&(xl=$a.iconFeatureIndex),$a.iconBox){var fh=function(no){var Fs=Kn&&Ii?Mr(no,Ii.x,Ii.y,Vn,Zn,ye.transform.angle):no;return ye.collisionIndex.placeCollisionBox(Fs,zn,lr,Ct,jr.predicate)};Si&&Si.box&&Si.box.length&&$a.verticalIconBox?(Ji=fh($a.verticalIconBox),fi=Ji.box.length>0):(Ji=fh($a.iconBox),fi=Ji.box.length>0),ii=ii&&Ji.offscreen}var Nv=Gr||Ea.numHorizontalGlyphVertices===0&&Ea.numVerticalGlyphVertices===0,Uv=Jr||Ea.numIconVertices===0;if(!Nv&&!Uv?fi=Wa=fi&&Wa:Uv?Nv||(fi=fi&&Wa):Wa=fi&&Wa,Wa&&Ya&&Ya.box&&(Si&&Si.box&&ml?ye.collisionIndex.insertCollisionBox(Ya.box,ut.get("text-ignore-placement"),Ke.bucketInstanceId,ml,jr.ID):ye.collisionIndex.insertCollisionBox(Ya.box,ut.get("text-ignore-placement"),Ke.bucketInstanceId,Ro,jr.ID)),fi&&Ji&&ye.collisionIndex.insertCollisionBox(Ji.box,ut.get("icon-ignore-placement"),Ke.bucketInstanceId,xl,jr.ID),ni&&(Wa&&ye.collisionIndex.insertCollisionCircles(ni.circles,ut.get("text-ignore-placement"),Ke.bucketInstanceId,Ro,jr.ID),te)){var Vv=Ke.bucketInstanceId,ch=ye.collisionCircleArrays[Vv];ch===void 0&&(ch=ye.collisionCircleArrays[Vv]=new Nn);for(var hh=0;hh<ni.circles.length;hh+=4)ch.circles.push(ni.circles[hh+0]),ch.circles.push(ni.circles[hh+1]),ch.circles.push(ni.circles[hh+2]),ch.circles.push(ni.collisionDetected?1:0)}ye.placements[Ea.crossTileID]=new Sn(Wa||Jn,fi||aa,ii||Ke.justReloaded),ge[Ea.crossTileID]=!0}};if(jn)for(var ba=Ke.getSortedSymbolIndexes(this.transform.angle),pa=ba.length-1;pa>=0;--pa){var Fa=ba[pa];fa(Ke.symbolInstances.get(Fa),Ke.collisionArrays[Fa])}else for(var ri=K.symbolInstanceStart;ri<K.symbolInstanceEnd;ri++)fa(Ke.symbolInstances.get(ri),Ke.collisionArrays[ri]);if(te&&Ke.bucketInstanceId in this.collisionCircleArrays){var Ka=this.collisionCircleArrays[Ke.bucketInstanceId];i.invert(Ka.invProjMatrix,Ct),Ka.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},Or.prototype.markUsedJustification=function(K,ge,te,ye){var Fe={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Ke;ye===i.WritingMode.vertical?Ke=te.verticalPlacedTextSymbolIndex:Ke=Fe[i.getAnchorJustification(ge)];for(var ut=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Ct=0,Nt=ut;Ct<Nt.length;Ct+=1){var qt=Nt[Ct];qt>=0&&(Ke>=0&&qt!==Ke?K.text.placedSymbolArray.get(qt).crossTileID=0:K.text.placedSymbolArray.get(qt).crossTileID=te.crossTileID)}},Or.prototype.markUsedOrientation=function(K,ge,te){for(var ye=ge===i.WritingMode.horizontal||ge===i.WritingMode.horizontalOnly?ge:0,Fe=ge===i.WritingMode.vertical?ge:0,Ke=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ut=0,Ct=Ke;ut<Ct.length;ut+=1){var Nt=Ct[ut];K.text.placedSymbolArray.get(Nt).placedOrientation=ye}te.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},Or.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,te=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(K):1,Fe=ge?ge.opacities:{},Ke=ge?ge.variableOffsets:{},ut=ge?ge.placedOrientations:{};for(var Ct in this.placements){var Nt=this.placements[Ct],qt=Fe[Ct];qt?(this.opacities[Ct]=new Tn(qt,ye,Nt.text,Nt.icon),te=te||Nt.text!==qt.text.placed||Nt.icon!==qt.icon.placed):(this.opacities[Ct]=new Tn(null,ye,Nt.text,Nt.icon,Nt.skipFade),te=te||Nt.text||Nt.icon)}for(var lr in Fe){var sr=Fe[lr];if(!this.opacities[lr]){var Dr=new Tn(sr,ye,!1,!1);Dr.isHidden()||(this.opacities[lr]=Dr,te=te||sr.text.placed||sr.icon.placed)}}for(var Xr in Ke)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=Ke[Xr]);for(var jr in ut)!this.placedOrientations[jr]&&this.opacities[jr]&&!this.opacities[jr].isHidden()&&(this.placedOrientations[jr]=ut[jr]);te?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:K)},Or.prototype.updateLayerOpacities=function(K,ge){for(var te={},ye=0,Fe=ge;ye<Fe.length;ye+=1){var Ke=Fe[ye],ut=Ke.getBucket(K);ut&&Ke.latestFeatureIndex&&K.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,te,Ke.collisionBoxArray)}},Or.prototype.updateBucketOpacities=function(K,ge,te){var ye=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var Fe=K.layers[0].layout,Ke=new Tn(null,0,!1,!1,!0),ut=Fe.get("text-allow-overlap"),Ct=Fe.get("icon-allow-overlap"),Nt=Fe.get("text-variable-anchor"),qt=Fe.get("text-rotation-alignment")==="map",lr=Fe.get("text-pitch-alignment")==="map",sr=Fe.get("icon-text-fit")!=="none",Dr=new Tn(null,0,ut&&(Ct||!K.hasIconData()||Fe.get("icon-optional")),Ct&&(ut||!K.hasTextData()||Fe.get("text-optional")),!0);!K.collisionArrays&&te&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(te);for(var Xr=function(vn,zn,Vn){for(var Zn=0;Zn<zn/4;Zn++)vn.opacityVertexArray.emplaceBack(Vn)},jr=function(vn){var zn=K.symbolInstances.get(vn),Vn=zn.numHorizontalGlyphVertices,Zn=zn.numVerticalGlyphVertices,Kn=zn.crossTileID,jn=ge[Kn],Jn=ye.opacities[Kn];jn?Jn=Ke:Jn||(Jn=Dr,ye.opacities[Kn]=Jn),ge[Kn]=!0;var aa=Vn>0||Zn>0,fa=zn.numIconVertices>0,ba=ye.placedOrientations[zn.crossTileID],pa=ba===i.WritingMode.vertical,Fa=ba===i.WritingMode.horizontal||ba===i.WritingMode.horizontalOnly;if(aa){var ri=Hr(Jn.text),Ka=pa?qr:ri;Xr(K.text,Vn,Ka);var Ea=Fa?qr:ri;Xr(K.text,Zn,Ea);var $a=Jn.text.isHidden();[zn.rightJustifiedTextSymbolIndex,zn.centerJustifiedTextSymbolIndex,zn.leftJustifiedTextSymbolIndex].forEach(function(xl){xl>=0&&(K.text.placedSymbolArray.get(xl).hidden=$a||pa?1:0)}),zn.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(zn.verticalPlacedTextSymbolIndex).hidden=$a||Fa?1:0);var Wa=ye.variableOffsets[zn.crossTileID];Wa&&ye.markUsedJustification(K,Wa.anchor,zn,ba);var fi=ye.placedOrientations[zn.crossTileID];fi&&(ye.markUsedJustification(K,"left",zn,fi),ye.markUsedOrientation(K,fi,zn))}if(fa){var ii=Hr(Jn.icon),Ii=!(sr&&zn.verticalPlacedIconSymbolIndex&&pa);if(zn.placedIconSymbolIndex>=0){var ti=Ii?ii:qr;Xr(K.icon,zn.numIconVertices,ti),K.icon.placedSymbolArray.get(zn.placedIconSymbolIndex).hidden=Jn.icon.isHidden()}if(zn.verticalPlacedIconSymbolIndex>=0){var Si=Ii?qr:ii;Xr(K.icon,zn.numVerticalIconVertices,Si),K.icon.placedSymbolArray.get(zn.verticalPlacedIconSymbolIndex).hidden=Jn.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Ya=K.collisionArrays[vn];if(Ya){var ni=new i.Point(0,0);if(Ya.textBox||Ya.verticalTextBox){var Ji=!0;if(Nt){var Ro=ye.variableOffsets[Kn];Ro?(ni=Da(Ro.anchor,Ro.width,Ro.height,Ro.textOffset,Ro.textBoxScale),qt&&ni._rotate(lr?ye.transform.angle:-ye.transform.angle)):Ji=!1}Ya.textBox&&Ar(K.textCollisionBox.collisionVertexArray,Jn.text.placed,!Ji||pa,ni.x,ni.y),Ya.verticalTextBox&&Ar(K.textCollisionBox.collisionVertexArray,Jn.text.placed,!Ji||Fa,ni.x,ni.y)}var ml=!!(!Fa&&Ya.verticalIconBox);Ya.iconBox&&Ar(K.iconCollisionBox.collisionVertexArray,Jn.icon.placed,ml,sr?ni.x:0,sr?ni.y:0),Ya.verticalIconBox&&Ar(K.iconCollisionBox.collisionVertexArray,Jn.icon.placed,!ml,sr?ni.x:0,sr?ni.y:0)}}},Gr=0;Gr<K.symbolInstances.length;Gr++)jr(Gr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=Jr.invProjMatrix,K.placementViewportMatrix=Jr.viewportMatrix,K.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},Or.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Or.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},Or.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},Or.prototype.stillRecent=function(K,ge){var te=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*te>K},Or.prototype.setStale=function(){this.stale=!0};function Ar(ve,K,ge,te,ye){ve.emplaceBack(K?1:0,ge?1:0,te||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,te||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,te||0,ye||0),ve.emplaceBack(K?1:0,ge?1:0,te||0,ye||0)}var Fr=Math.pow(2,25),bn=Math.pow(2,24),Dn=Math.pow(2,17),yn=Math.pow(2,16),un=Math.pow(2,9),Er=Math.pow(2,8),Zr=Math.pow(2,1);function Hr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var K=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*Fr+K*bn+ge*Dn+K*yn+ge*un+K*Er+ge*Zr+K}var qr=0,An=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};An.prototype.continuePlacement=function(K,ge,te,ye,Fe){for(var Ke=this._bucketParts;this._currentTileIndex<K.length;){var ut=K[this._currentTileIndex];if(ge.getBucketParts(Ke,ye,ut,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Nt,qt){return Nt.sortKey-qt.sortKey}));this._currentPartIndex<Ke.length;){var Ct=Ke[this._currentPartIndex];if(ge.placeLayerBucketPart(Ct,this._seenCrossTileIDs,te),this._currentPartIndex++,Fe())return!0}return!1};var Fn=function(K,ge,te,ye,Fe,Ke,ut){this.placement=new Or(K,Fe,Ke,ut),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=ye,this._done=!1};Fn.prototype.isDone=function(){return this._done},Fn.prototype.continuePlacement=function(K,ge,te){for(var ye=this,Fe=i.browser.now(),Ke=function(){var lr=i.browser.now()-Fe;return ye._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ut=K[this._currentPlacementIndex],Ct=ge[ut],Nt=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Nt)&&(!Ct.maxzoom||Ct.maxzoom>Nt)){this._inProgressLayer||(this._inProgressLayer=new An(Ct));var qt=this._inProgressLayer.continuePlacement(te[Ct.source],this.placement,this._showCollisionBoxes,Ct,Ke);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Fn.prototype.commit=function(K){return this.placement.commit(K),this.placement};var Cn=512/i.EXTENT/2,Hn=function(K,ge,te){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var ye=0;ye<ge.length;ye++){var Fe=ge.get(ye),Ke=Fe.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,K)})}};Hn.prototype.getScaledCoordinates=function(K,ge){var te=ge.canonical.z-this.tileID.canonical.z,ye=Cn/Math.pow(2,te);return{x:Math.floor((ge.canonical.x*i.EXTENT+K.anchorX)*ye),y:Math.floor((ge.canonical.y*i.EXTENT+K.anchorY)*ye)}},Hn.prototype.findMatches=function(K,ge,te){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),Fe=0;Fe<K.length;Fe++){var Ke=K.get(Fe);if(!Ke.crossTileID){var ut=this.indexedSymbolInstances[Ke.key];if(ut)for(var Ct=this.getScaledCoordinates(Ke,ge),Nt=0,qt=ut;Nt<qt.length;Nt+=1){var lr=qt[Nt];if(Math.abs(lr.coord.x-Ct.x)<=ye&&Math.abs(lr.coord.y-Ct.y)<=ye&&!te[lr.crossTileID]){te[lr.crossTileID]=!0,Ke.crossTileID=lr.crossTileID;break}}}}};var Un=function(){this.maxCrossTileID=0};Un.prototype.generate=function(){return++this.maxCrossTileID};var da=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};da.prototype.handleWrapJump=function(K){var ge=Math.round((K-this.lng)/360);if(ge!==0)for(var te in this.indexes){var ye=this.indexes[te],Fe={};for(var Ke in ye){var ut=ye[Ke];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+ge),Fe[ut.tileID.key]=ut}this.indexes[te]=Fe}this.lng=K},da.prototype.addBucket=function(K,ge,te){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var Fe=ge.symbolInstances.get(ye);Fe.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var Ke=this.usedCrossTileIDs[K.overscaledZ];for(var ut in this.indexes){var Ct=this.indexes[ut];if(Number(ut)>K.overscaledZ)for(var Nt in Ct){var qt=Ct[Nt];qt.tileID.isChildOf(K)&&qt.findMatches(ge.symbolInstances,K,Ke)}else{var lr=K.scaledTo(Number(ut)),sr=Ct[lr.key];sr&&sr.findMatches(ge.symbolInstances,K,Ke)}}for(var Dr=0;Dr<ge.symbolInstances.length;Dr++){var Xr=ge.symbolInstances.get(Dr);Xr.crossTileID||(Xr.crossTileID=te.generate(),Ke[Xr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Hn(K,ge.symbolInstances,ge.bucketInstanceId),!0},da.prototype.removeBucketCrossTileIDs=function(K,ge){for(var te in ge.indexedSymbolInstances)for(var ye=0,Fe=ge.indexedSymbolInstances[te];ye<Fe.length;ye+=1){var Ke=Fe[ye];delete this.usedCrossTileIDs[K][Ke.crossTileID]}},da.prototype.removeStaleBuckets=function(K){var ge=!1;for(var te in this.indexes){var ye=this.indexes[te];for(var Fe in ye)K[ye[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,ye[Fe]),delete ye[Fe],ge=!0)}return ge};var la=function(){this.layerIndexes={},this.crossTileIDs=new Un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};la.prototype.addLayer=function(K,ge,te){var ye=this.layerIndexes[K.id];ye===void 0&&(ye=this.layerIndexes[K.id]=new da);var Fe=!1,Ke={};ye.handleWrapJump(te);for(var ut=0,Ct=ge;ut<Ct.length;ut+=1){var Nt=Ct[ut],qt=Nt.getBucket(K);!qt||K.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Nt.tileID,qt,this.crossTileIDs)&&(Fe=!0),Ke[qt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Ke)&&(Fe=!0),Fe},la.prototype.pruneUnusedLayers=function(K){var ge={};K.forEach(function(ye){ge[ye]=!0});for(var te in this.layerIndexes)ge[te]||delete this.layerIndexes[te]};var ya=function(ve,K){return i.emitValidationErrors(ve,K&&K.filter(function(ge){return ge.identifier!=="source.canvas"}))},Ra=i.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),wi=i.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),si=tr(),Qo=function(ve){function K(ge,te){var ye=this;te===void 0&&(te={}),ve.call(this),this.map=ge,this.dispatcher=new D(zt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new L(ge._requestManager,te.localIdeographFontFamily),this.lineAtlas=new _(256,512),this.crossTileSymbolIndex=new la,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var Fe=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(Ke){var ut={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",ut,function(Ct,Nt){if(i.triggerPluginCompletionEvent(Ct),Nt){var qt=Nt.every(function(sr){return sr});if(qt)for(var lr in Fe.sourceCaches)Fe.sourceCaches[lr].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var ut=ye.sourceCaches[Ke.sourceId];if(ut){var Ct=ut.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Nt in ye._layers){var qt=ye._layers[Nt];qt.source===Ct.id&&ye._validateLayer(qt)}}}})}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(te,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Ke=typeof ye.validate=="boolean"?ye.validate:!i.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,ye.accessToken);var ut=this.map._requestManager.transformRequest(te,i.ResourceType.Style);this._request=i.getJSON(ut,function(Ct,Nt){Fe._request=null,Ct?Fe.fire(new i.ErrorEvent(Ct)):Nt&&Fe._load(Nt,Ke)})},K.prototype.loadJSON=function(te,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Fe._request=null,Fe._load(te,ye.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(si,!1)},K.prototype._load=function(te,ye){if(!(ye&&ya(this,i.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var Fe in te.sources)this.addSource(Fe,te.sources[Fe],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Ke=ir(this.stylesheet.layers);this._order=Ke.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ut=0,Ct=Ke;ut<Ct.length;ut+=1){var Nt=Ct[ut];Nt=i.createStyleLayer(Nt),Nt.setEventedParent(this,{layer:{id:Nt.id}}),this._layers[Nt.id]=Nt,this._serializedLayers[Nt.id]=Nt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},K.prototype._loadSprite=function(te){var ye=this;this._spriteRequest=l(te,this.map._requestManager,function(Fe,Ke){if(ye._spriteRequest=null,Fe)ye.fire(new i.ErrorEvent(Fe));else if(Ke)for(var ut in Ke)ye.imageManager.addImage(ut,Ke[ut]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new i.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(te){var ye=this.sourceCaches[te.source];if(ye){var Fe=te.sourceLayer;if(Fe){var Ke=ye.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+te.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(te){for(var ye=[],Fe=0,Ke=te;Fe<Ke.length;Fe+=1){var ut=Ke[Fe],Ct=this._layers[ut];Ct.type!=="custom"&&ye.push(Ct.serialize())}return ye},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(te){if(this._loaded){var ye=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(Fe.length||Ke.length)&&this._updateWorkerLayers(Fe,Ke);for(var ut in this._updatedSources){var Ct=this._updatedSources[ut];Ct==="reload"?this._reloadSource(ut):Ct==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var Nt in this._updatedPaintProps)this._layers[Nt].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}var qt={};for(var lr in this.sourceCaches){var sr=this.sourceCaches[lr];qt[lr]=sr.used,sr.used=!1}for(var Dr=0,Xr=this._order;Dr<Xr.length;Dr+=1){var jr=Xr[Dr],Gr=this._layers[jr];Gr.recalculate(te,this._availableImages),!Gr.isHidden(te.zoom)&&Gr.source&&(this.sourceCaches[Gr.source].used=!0)}for(var Jr in qt){var vn=this.sourceCaches[Jr];qt[Jr]!==vn.used&&vn.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(te),this.z=te.zoom,ye&&this.fire(new i.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},K.prototype._updateWorkerLayers=function(te,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:ye})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(te){var ye=this;if(this._checkLoaded(),ya(this,i.validateStyle(te)))return!1;te=i.clone$1(te),te.layers=ir(te.layers);var Fe=En(this.serialize(),te).filter(function(ut){return!(ut.command in wi)});if(Fe.length===0)return!1;var Ke=Fe.filter(function(ut){return!(ut.command in Ra)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(ut){return ut.command}).join(", ")+".");return Fe.forEach(function(ut){ut.command!=="setTransition"&&ye[ut.command].apply(ye,ut.args)}),this.stylesheet=te,!0},K.prototype.addImage=function(te,ye){if(this.getImage(te))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,ye),this._afterImageUpdated(te)},K.prototype.updateImage=function(te,ye){this.imageManager.updateImage(te,ye)},K.prototype.getImage=function(te){return this.imageManager.getImage(te)},K.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._afterImageUpdated(te)},K.prototype._afterImageUpdated=function(te){this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(te,ye,Fe){var Ke=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ye).join(", ")+".");var ut=["vector","raster","geojson","video","image"],Ct=ut.indexOf(ye.type)>=0;if(!(Ct&&this._validate(i.validateStyle.source,"sources."+te,ye,null,Fe))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Nt=this.sourceCaches[te]=new Ut(te,ye,this.dispatcher);Nt.style=this,Nt.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Nt.serialize(),sourceId:te}}),Nt.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===te)return this.fire(new i.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+ye+'" is using it.')));var Fe=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],Fe.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(te,ye){this._checkLoaded();var Fe=this.sourceCaches[te].getSource();Fe.setData(ye),this._changed=!0},K.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},K.prototype.addLayer=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Ke=te.id;if(this.getLayer(Ke)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var ut;if(te.type==="custom"){if(ya(this,i.validateCustomStyleLayer(te)))return;ut=i.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Ke,te.source),te=i.clone$1(te),te=i.extend(te,{source:Ke})),this._validate(i.validateStyle.layer,"layers."+Ke,te,{arrayIndex:-1},Fe))return;ut=i.createStyleLayer(te),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[ut.id]=ut.serialize()}var Ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&Ct===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=ut,this._removedLayers[Ke]&&ut.source&&ut.type!=="custom"){var Nt=this._removedLayers[Ke];delete this._removedLayers[Ke],Nt.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},K.prototype.moveLayer=function(te,ye){this._checkLoaded(),this._changed=!0;var Fe=this._layers[te];if(!Fe){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==ye){var Ke=this._order.indexOf(te);this._order.splice(Ke,1);var ut=ye?this._order.indexOf(ye):this._order.length;if(ye&&ut===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ut,0,te),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(te){this._checkLoaded();var ye=this._layers[te];if(!ye){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Fe=this._order.indexOf(te);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=ye,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],ye.onRemove&&ye.onRemove(this.map)},K.prototype.getLayer=function(te){return this._layers[te]},K.prototype.hasLayer=function(te){return te in this._layers},K.prototype.setLayerZoomRange=function(te,ye,Fe){this._checkLoaded();var Ke=this.getLayer(te);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===ye&&Ke.maxzoom===Fe||(ye!=null&&(Ke.minzoom=ye),Fe!=null&&(Ke.maxzoom=Fe),this._updateLayer(Ke))},K.prototype.setFilter=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Ke=this.getLayer(te);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Ke.filter,ye)){if(ye==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(i.validateStyle.filter,"layers."+Ke.id+".filter",ye,null,Fe)||(Ke.filter=i.clone$1(ye),this._updateLayer(Ke))}},K.prototype.getFilter=function(te){return i.clone$1(this.getLayer(te).filter)},K.prototype.setLayoutProperty=function(te,ye,Fe,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ut=this.getLayer(te);if(!ut){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(ut.getLayoutProperty(ye),Fe)||(ut.setLayoutProperty(ye,Fe,Ke),this._updateLayer(ut))},K.prototype.getLayoutProperty=function(te,ye){var Fe=this.getLayer(te);if(!Fe){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(ye)},K.prototype.setPaintProperty=function(te,ye,Fe,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ut=this.getLayer(te);if(!ut){this.fire(new i.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(ut.getPaintProperty(ye),Fe)){var Ct=ut.setPaintProperty(ye,Fe,Ke);Ct&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[te]=!0}},K.prototype.getPaintProperty=function(te,ye){return this.getLayer(te).getPaintProperty(ye)},K.prototype.setFeatureState=function(te,ye){this._checkLoaded();var Fe=te.source,Ke=te.sourceLayer,ut=this.sourceCaches[Fe];if(ut===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var Ct=ut.getSource().type;if(Ct==="geojson"&&Ke){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Ke){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Ke,te.id,ye)},K.prototype.removeFeatureState=function(te,ye){this._checkLoaded();var Fe=te.source,Ke=this.sourceCaches[Fe];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var ut=Ke.getSource().type,Ct=ut==="vector"?te.sourceLayer:void 0;if(ut==="vector"&&!Ct){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(Ct,te.id,ye)},K.prototype.getFeatureState=function(te){this._checkLoaded();var ye=te.source,Fe=te.sourceLayer,Ke=this.sourceCaches[ye];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ut=Ke.getSource().type;if(ut==="vector"&&!Fe){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(Fe,te.id)},K.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},K.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(te){for(var ye=this,Fe=function(Fa){return ye._layers[Fa].type==="fill-extrusion"},Ke={},ut=[],Ct=this._order.length-1;Ct>=0;Ct--){var Nt=this._order[Ct];if(Fe(Nt)){Ke[Nt]=Ct;for(var qt=0,lr=te;qt<lr.length;qt+=1){var sr=lr[qt],Dr=sr[Nt];if(Dr)for(var Xr=0,jr=Dr;Xr<jr.length;Xr+=1){var Gr=jr[Xr];ut.push(Gr)}}}}ut.sort(function(Fa,ri){return ri.intersectionZ-Fa.intersectionZ});for(var Jr=[],vn=this._order.length-1;vn>=0;vn--){var zn=this._order[vn];if(Fe(zn))for(var Vn=ut.length-1;Vn>=0;Vn--){var Zn=ut[Vn].feature;if(Ke[Zn.layer.id]<vn)break;Jr.push(Zn),ut.pop()}else for(var Kn=0,jn=te;Kn<jn.length;Kn+=1){var Jn=jn[Kn],aa=Jn[zn];if(aa)for(var fa=0,ba=aa;fa<ba.length;fa+=1){var pa=ba[fa];Jr.push(pa.feature)}}}return Jr},K.prototype.queryRenderedFeatures=function(te,ye,Fe){ye&&ye.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Ke={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,Ct=ye.layers;ut<Ct.length;ut+=1){var Nt=Ct[ut],qt=this._layers[Nt];if(!qt)return this.fire(new i.ErrorEvent(new Error("The layer '"+Nt+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[qt.source]=!0}}var lr=[];ye.availableImages=this._availableImages;for(var sr in this.sourceCaches)ye.layers&&!Ke[sr]||lr.push(Z(this.sourceCaches[sr],this._layers,this._serializedLayers,te,ye,Fe));return this.placement&&lr.push($(this._layers,this._serializedLayers,this.sourceCaches,te,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},K.prototype.querySourceFeatures=function(te,ye){ye&&ye.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Fe=this.sourceCaches[te];return Fe?se(Fe,ye):[]},K.prototype.addSourceType=function(te,ye,Fe){if(K.getSourceType(te))return Fe(new Error('A source type called "'+te+'" already exists.'));if(K.setSourceType(te,ye),!ye.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:ye.workerSourceURL},Fe)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(te,ye){ye===void 0&&(ye={}),this._checkLoaded();var Fe=this.light.getLight(),Ke=!1;for(var ut in te)if(!i.deepEqual(te[ut],Fe[ut])){Ke=!0;break}if(Ke){var Ct={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,ye),this.light.updateTransitions(Ct)}},K.prototype._validate=function(te,ye,Fe,Ke,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:ya(this,te.call(i.validateStyle,i.extend({key:ye,style:this.serialize(),value:Fe,styleSpec:i.styleSpec},Ke)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var ye=this._layers[te];ye.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},K.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},K.prototype._updateSources=function(te){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(te)},K.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},K.prototype._updatePlacement=function(te,ye,Fe,Ke,ut){ut===void 0&&(ut=!1);for(var Ct=!1,Nt=!1,qt={},lr=0,sr=this._order;lr<sr.length;lr+=1){var Dr=sr[lr],Xr=this._layers[Dr];if(Xr.type==="symbol"){if(!qt[Xr.source]){var jr=this.sourceCaches[Xr.source];qt[Xr.source]=jr.getRenderableIds(!0).map(function(Kn){return jr.getTileByID(Kn)}).sort(function(Kn,jn){return jn.tileID.overscaledZ-Kn.tileID.overscaledZ||(Kn.tileID.isLessThan(jn.tileID)?-1:1)})}var Gr=this.crossTileSymbolIndex.addLayer(Xr,qt[Xr.source],te.center.lng);Ct=Ct||Gr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||Fe===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),te.zoom))&&(this.pauseablePlacement=new Fn(te,this._order,ut,ye,Fe,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Nt=!0),Ct&&this.pauseablePlacement.placement.setStale()),Nt||Ct)for(var Jr=0,vn=this._order;Jr<vn.length;Jr+=1){var zn=vn[Jr],Vn=this._layers[zn];Vn.type==="symbol"&&this.placement.updateLayerOpacities(Vn,qt[Vn.source])}var Zn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Zn},K.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},K.prototype.getImages=function(te,ye,Fe){this.imageManager.getImages(ye.icons,Fe),this._updateTilesForChangedImages();var Ke=this.sourceCaches[ye.source];Ke&&Ke.setDependencies(ye.tileID.key,ye.type,ye.icons)},K.prototype.getGlyphs=function(te,ye,Fe){this.glyphManager.getGlyphs(ye.stacks,Fe)},K.prototype.getResource=function(te,ye,Fe){return i.makeRequest(ye,Fe)},K}(i.Evented);Qo.getSourceType=ne,Qo.setSourceType=Y,Qo.registerForPluginStateChange=i.registerForPluginStateChange;var Wo=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),po=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,eu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,qf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oc="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ai=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",ec=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,so=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,zo="void main() {gl_FragColor=vec4(1.0);}",tu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",xf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,ru=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Zi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",eo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",nu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",go="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",yo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",qo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Fc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Yo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Rs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,tc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Is=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Bc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,bf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Yh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",nc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Zh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Uc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,au=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Uu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,js=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Kh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",wf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Gc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,hs=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,iu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Rl=Ti(po,eu),Vu=Ti(qf,Oc),ll=Ti(ai,Bu),ks=Ti(ec,so),ac=Ti(zo,tu),ou=Ti(xf,Wi),vs=Ti(ru,Zi),Ni=Ti(eo,nu),ic=Ti(go,yo),$h=Ti(qo,Fc),Af=Ti(Yo,Hh),su=Ti(Rs,lo),lu=Ti(tc,sl),jo=Ti(Is,rc),Sf=Ti(Bc,Gh),uu=Ti(bf,Wh),Mf=Ti(Yh,jh),Jh=Ti(nc,Xh),Wc=Ti(Zh,Nc),oc=Ti(Uc,Pl),sc=Ti(au,Nu),lc=Ti(Uu,Vc),fu=Ti(js,Kh),Ef=Ti(wf,Hc),Hu=Ti(Gc,Tf),Cf=Ti(hs,iu);function Ti(ve,K){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te=K.match(/attribute ([\w]+) ([\w]+)/g),ye=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Fe=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=Fe?Fe.concat(ye):ye,ut={};return ve=ve.replace(ge,function(Ct,Nt,qt,lr,sr){return ut[sr]=!0,Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
varying `+qt+" "+lr+" "+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`}),K=K.replace(ge,function(Ct,Nt,qt,lr,sr){var Dr=lr==="float"?"vec2":"vec4",Xr=sr.match(/color/)?"color":Dr;return ut[sr]?Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+Dr+" a_"+sr+`;
varying `+qt+" "+lr+" "+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = a_"+sr+`;
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+Dr+" a_"+sr+`;
#else
uniform `+qt+" "+lr+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = a_"+sr+`;
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+lr+" "+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+lr+" "+sr+" = u_"+sr+`;
#endif
`}),{fragmentSource:ve,vertexSource:K,staticAttributes:te,staticUniforms:Ke}}var Yc=Object.freeze({__proto__:null,prelude:Rl,background:Vu,backgroundPattern:ll,circle:ks,clippingMask:ac,heatmap:ou,heatmapTexture:vs,collisionBox:Ni,collisionCircle:ic,debug:$h,fill:Af,fillOutline:su,fillOutlinePattern:lu,fillPattern:jo,fillExtrusion:Sf,fillExtrusionPattern:uu,hillshadePrepare:Mf,hillshade:Jh,line:Wc,lineGradient:oc,linePattern:sc,lineSDF:lc,raster:fu,symbolIcon:Ef,symbolSDF:Hu,symbolTextAndIcon:Cf}),ds=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ds.prototype.bind=function(K,ge,te,ye,Fe,Ke,ut,Ct){this.context=K;for(var Nt=this.boundPaintVertexBuffers.length!==ye.length,qt=0;!Nt&&qt<ye.length;qt++)this.boundPaintVertexBuffers[qt]!==ye[qt]&&(Nt=!0);var lr=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==te||Nt||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==Ct;!K.extVertexArrayObject||lr?this.freshBind(ge,te,ye,Fe,Ke,ut,Ct):(K.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),Ct&&Ct.bind())},ds.prototype.freshBind=function(K,ge,te,ye,Fe,Ke,ut){var Ct,Nt=K.numAttributes,qt=this.context,lr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=K,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=ye,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=ut;else{Ct=qt.currentNumAttributes||0;for(var sr=Nt;sr<Ct;sr++)lr.disableVertexAttribArray(sr)}ge.enableAttributes(lr,K);for(var Dr=0,Xr=te;Dr<Xr.length;Dr+=1){var jr=Xr[Dr];jr.enableAttributes(lr,K)}Ke&&Ke.enableAttributes(lr,K),ut&&ut.enableAttributes(lr,K),ge.bind(),ge.setVertexAttribPointers(lr,K,Fe);for(var Gr=0,Jr=te;Gr<Jr.length;Gr+=1){var vn=Jr[Gr];vn.bind(),vn.setVertexAttribPointers(lr,K,Fe)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(lr,K,Fe)),ye&&ye.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(lr,K,Fe)),qt.currentNumAttributes=Nt},ds.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function jc(ve){for(var K=[],ge=0;ge<ve.length;ge++)if(ve[ge]!==null){var te=ve[ge].split(" ");K.push(te.pop())}return K}var uc=function(K,ge,te,ye,Fe,Ke){var ut=K.gl;this.program=ut.createProgram();for(var Ct=jc(te.staticAttributes),Nt=ye?ye.getBinderAttributes():[],qt=Ct.concat(Nt),lr=te.staticUniforms?jc(te.staticUniforms):[],sr=ye?ye.getBinderUniforms():[],Dr=lr.concat(sr),Xr=[],jr=0,Gr=Dr;jr<Gr.length;jr+=1){var Jr=Gr[jr];Xr.indexOf(Jr)<0&&Xr.push(Jr)}var vn=ye?ye.defines():[];Ke&&vn.push("#define OVERDRAW_INSPECTOR;");var zn=vn.concat(Rl.fragmentSource,te.fragmentSource).join(`
`),Vn=vn.concat(Rl.vertexSource,te.vertexSource).join(`
`),Zn=ut.createShader(ut.FRAGMENT_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Zn,zn),ut.compileShader(Zn),ut.attachShader(this.program,Zn);var Kn=ut.createShader(ut.VERTEX_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Kn,Vn),ut.compileShader(Kn),ut.attachShader(this.program,Kn),this.attributes={};var jn={};this.numAttributes=qt.length;for(var Jn=0;Jn<this.numAttributes;Jn++)qt[Jn]&&(ut.bindAttribLocation(this.program,Jn,qt[Jn]),this.attributes[qt[Jn]]=Jn);ut.linkProgram(this.program),ut.deleteShader(Kn),ut.deleteShader(Zn);for(var aa=0;aa<Xr.length;aa++){var fa=Xr[aa];if(fa&&!jn[fa]){var ba=ut.getUniformLocation(this.program,fa);ba&&(jn[fa]=ba)}}this.fixedUniforms=Fe(K,jn),this.binderUniforms=ye?ye.getUniforms(K,jn):[]};uc.prototype.draw=function(K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr,sr,Dr,Xr,jr,Gr){var Jr,vn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(te),K.setStencilMode(ye),K.setColorMode(Fe),K.setCullFace(Ke);for(var zn in this.fixedUniforms)this.fixedUniforms[zn].set(ut[zn]);Xr&&Xr.setUniforms(K,this.binderUniforms,sr,{zoom:Dr});for(var Vn=(Jr={},Jr[vn.LINES]=2,Jr[vn.TRIANGLES]=3,Jr[vn.LINE_STRIP]=1,Jr)[ge],Zn=0,Kn=lr.get();Zn<Kn.length;Zn+=1){var jn=Kn[Zn],Jn=jn.vaos||(jn.vaos={}),aa=Jn[Ct]||(Jn[Ct]=new ds);aa.bind(K,this,Nt,Xr?Xr.getPaintVertexBuffers():[],qt,jn.vertexOffset,jr,Gr),vn.drawElements(ge,jn.primitiveLength*Vn,vn.UNSIGNED_SHORT,jn.primitiveOffset*Vn*2)}}};function Il(ve,K,ge){var te=1/hn(ge,1,K.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),Fe=ge.tileSize*Math.pow(2,K.transform.tileZoom)/ye,Ke=Fe*(ge.tileID.canonical.x+ge.tileID.wrap*ye),ut=Fe*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[te,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Ke>>16,ut>>16],u_pixel_coord_lower:[Ke&65535,ut&65535]}}function ul(ve,K,ge,te){var ye=ge.imageManager.getPattern(ve.from.toString()),Fe=ge.imageManager.getPattern(ve.to.toString()),Ke=ge.imageManager.getPixelSize(),ut=Ke.width,Ct=Ke.height,Nt=Math.pow(2,te.tileID.overscaledZ),qt=te.tileSize*Math.pow(2,ge.transform.tileZoom)/Nt,lr=qt*(te.tileID.canonical.x+te.tileID.wrap*Nt),sr=qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[ut,Ct],u_mix:K.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/hn(te,1,ge.transform.tileZoom),u_pixel_coord_upper:[lr>>16,sr>>16],u_pixel_coord_lower:[lr&65535,sr&65535]}}var Lf=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_lightpos:new i.Uniform3f(ve,K.u_lightpos),u_lightintensity:new i.Uniform1f(ve,K.u_lightintensity),u_lightcolor:new i.Uniform3f(ve,K.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ve,K.u_vertical_gradient),u_opacity:new i.Uniform1f(ve,K.u_opacity)}},Yi=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_lightpos:new i.Uniform3f(ve,K.u_lightpos),u_lightintensity:new i.Uniform1f(ve,K.u_lightintensity),u_lightcolor:new i.Uniform3f(ve,K.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ve,K.u_vertical_gradient),u_height_factor:new i.Uniform1f(ve,K.u_height_factor),u_image:new i.Uniform1i(ve,K.u_image),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(ve,K.u_scale),u_fade:new i.Uniform1f(ve,K.u_fade),u_opacity:new i.Uniform1f(ve,K.u_opacity)}},Gu=function(ve,K,ge,te){var ye=K.style.light,Fe=ye.properties.get("position"),Ke=[Fe.x,Fe.y,Fe.z],ut=i.create$1();ye.properties.get("anchor")==="viewport"&&i.fromRotation(ut,-K.transform.angle),i.transformMat3(Ke,Ke,ut);var Ct=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Ke,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+ge,u_opacity:te}},ps=function(ve,K,ge,te,ye,Fe,Ke){return i.extend(Gu(ve,K,ge,te),Il(Fe,K,Ke),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Ke.tileSize/8})},Xs=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix)}},kl=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_image:new i.Uniform1i(ve,K.u_image),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(ve,K.u_scale),u_fade:new i.Uniform1f(ve,K.u_fade)}},fl=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_world:new i.Uniform2f(ve,K.u_world)}},gs=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_world:new i.Uniform2f(ve,K.u_world),u_image:new i.Uniform1i(ve,K.u_image),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ve,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(ve,K.u_scale),u_fade:new i.Uniform1f(ve,K.u_fade)}},Zs=function(ve){return{u_matrix:ve}},ys=function(ve,K,ge,te){return i.extend(Zs(ve),Il(ge,K,te))},as=function(ve,K){return{u_matrix:ve,u_world:K}},Wu=function(ve,K,ge,te,ye){return i.extend(ys(ve,K,ge,te),{u_world:ye})},Qh=function(ve,K){return{u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(ve,K.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(ve,K.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(ve,K.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix)}},qh=function(ve,K,ge,te){var ye=ve.transform,Fe,Ke;if(te.paint.get("circle-pitch-alignment")==="map"){var ut=hn(ge,1,ye.zoom);Fe=!0,Ke=[ut,ut]}else Fe=!1,Ke=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(K.posMatrix,ge,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Ke}},ev=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(ve,K.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(ve,K.u_extrude_scale),u_overscale_factor:new i.Uniform1f(ve,K.u_overscale_factor)}},tv=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_inv_matrix:new i.UniformMatrix4f(ve,K.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(ve,K.u_viewport_size)}},fc=function(ve,K,ge){var te=hn(ge,1,K.zoom),ye=Math.pow(2,K.zoom-ge.tileID.overscaledZ),Fe=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[K.pixelsToGLUnits[0]/(te*ye),K.pixelsToGLUnits[1]/(te*ye)],u_overscale_factor:Fe}},Xc=function(ve,K,ge){return{u_matrix:ve,u_inv_matrix:K,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},cu=function(ve,K){return{u_color:new i.UniformColor(ve,K.u_color),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_overlay:new i.Uniform1i(ve,K.u_overlay),u_overlay_scale:new i.Uniform1f(ve,K.u_overlay_scale)}},uo=function(ve,K,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:K,u_overlay:0,u_overlay_scale:ge}},es=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix)}},hu=function(ve){return{u_matrix:ve}},Zc=function(ve,K){return{u_extrude_scale:new i.Uniform1f(ve,K.u_extrude_scale),u_intensity:new i.Uniform1f(ve,K.u_intensity),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix)}},Yu=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_world:new i.Uniform2f(ve,K.u_world),u_image:new i.Uniform1i(ve,K.u_image),u_color_ramp:new i.Uniform1i(ve,K.u_color_ramp),u_opacity:new i.Uniform1f(ve,K.u_opacity)}},Ks=function(ve,K,ge,te){return{u_matrix:ve,u_extrude_scale:hn(K,1,ge),u_intensity:te}},rv=function(ve,K,ge,te){var ye=i.create();i.ortho(ye,0,ve.width,ve.height,0,0,1);var Fe=ve.context.gl;return{u_matrix:ye,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:ge,u_color_ramp:te,u_opacity:K.paint.get("heatmap-opacity")}},Kc=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_image:new i.Uniform1i(ve,K.u_image),u_latrange:new i.Uniform2f(ve,K.u_latrange),u_light:new i.Uniform2f(ve,K.u_light),u_shadow:new i.UniformColor(ve,K.u_shadow),u_highlight:new i.UniformColor(ve,K.u_highlight),u_accent:new i.UniformColor(ve,K.u_accent)}},$c=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_image:new i.Uniform1i(ve,K.u_image),u_dimension:new i.Uniform2f(ve,K.u_dimension),u_zoom:new i.Uniform1f(ve,K.u_zoom),u_unpack:new i.Uniform4f(ve,K.u_unpack)}},cc=function(ve,K,ge){var te=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),Fe=ge.paint.get("hillshade-accent-color"),Ke=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=ve.transform.angle);var ut=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ut),u_image:0,u_latrange:Oo(ve,K.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Ke],u_shadow:te,u_highlight:ye,u_accent:Fe}},Jc=function(ve,K){var ge=K.stride,te=i.create();return i.ortho(te,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(te,te,[0,-i.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[ge,ge],u_zoom:ve.overscaledZ,u_unpack:K.getUnpackVector()}};function Oo(ve,K){var ge=Math.pow(2,K.canonical.z),te=K.canonical.y;return[new i.MercatorCoordinate(0,te/ge).toLngLat().lat,new i.MercatorCoordinate(0,(te+1)/ge).toLngLat().lat]}var ms=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_ratio:new i.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ve,K.u_units_to_pixels)}},cl=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_ratio:new i.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ve,K.u_units_to_pixels),u_image:new i.Uniform1i(ve,K.u_image),u_image_height:new i.Uniform1f(ve,K.u_image_height)}},vu=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_ratio:new i.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_image:new i.Uniform1i(ve,K.u_image),u_units_to_pixels:new i.Uniform2f(ve,K.u_units_to_pixels),u_scale:new i.Uniform3f(ve,K.u_scale),u_fade:new i.Uniform1f(ve,K.u_fade)}},Pf=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_ratio:new i.Uniform1f(ve,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ve,K.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(ve,K.u_patternscale_a),u_patternscale_b:new i.Uniform2f(ve,K.u_patternscale_b),u_sdfgamma:new i.Uniform1f(ve,K.u_sdfgamma),u_image:new i.Uniform1i(ve,K.u_image),u_tex_y_a:new i.Uniform1f(ve,K.u_tex_y_a),u_tex_y_b:new i.Uniform1f(ve,K.u_tex_y_b),u_mix:new i.Uniform1f(ve,K.u_mix)}},Dl=function(ve,K,ge){var te=ve.transform;return{u_matrix:hl(ve,K,ge),u_ratio:1/hn(K,1,te.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},_l=function(ve,K,ge,te){return i.extend(Dl(ve,K,ge),{u_image:0,u_image_height:te})},Qc=function(ve,K,ge,te){var ye=ve.transform,Fe=du(K,ye);return{u_matrix:hl(ve,K,ge),u_texsize:K.imageAtlasTexture.size,u_ratio:1/hn(K,1,ye.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[Fe,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},$s=function(ve,K,ge,te,ye){var Fe=ve.transform,Ke=ve.lineAtlas,ut=du(K,Fe),Ct=ge.layout.get("line-cap")==="round",Nt=Ke.getDash(te.from,Ct),qt=Ke.getDash(te.to,Ct),lr=Nt.width*ye.fromScale,sr=qt.width*ye.toScale;return i.extend(Dl(ve,K,ge),{u_patternscale_a:[ut/lr,-Nt.height/2],u_patternscale_b:[ut/sr,-qt.height/2],u_sdfgamma:Ke.width/(Math.min(lr,sr)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Nt.y,u_tex_y_b:qt.y,u_mix:ye.t})};function du(ve,K){return 1/hn(ve,1,K.tileZoom)}function hl(ve,K,ge){return ve.translatePosMatrix(K.tileID.posMatrix,K,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var Js=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_tl_parent:new i.Uniform2f(ve,K.u_tl_parent),u_scale_parent:new i.Uniform1f(ve,K.u_scale_parent),u_buffer_scale:new i.Uniform1f(ve,K.u_buffer_scale),u_fade_t:new i.Uniform1f(ve,K.u_fade_t),u_opacity:new i.Uniform1f(ve,K.u_opacity),u_image0:new i.Uniform1i(ve,K.u_image0),u_image1:new i.Uniform1i(ve,K.u_image1),u_brightness_low:new i.Uniform1f(ve,K.u_brightness_low),u_brightness_high:new i.Uniform1f(ve,K.u_brightness_high),u_saturation_factor:new i.Uniform1f(ve,K.u_saturation_factor),u_contrast_factor:new i.Uniform1f(ve,K.u_contrast_factor),u_spin_weights:new i.Uniform3f(ve,K.u_spin_weights)}},ju=function(ve,K,ge,te,ye){return{u_matrix:ve,u_tl_parent:K,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:gu(ye.paint.get("raster-saturation")),u_contrast_factor:yi(ye.paint.get("raster-contrast")),u_spin_weights:pu(ye.paint.get("raster-hue-rotate"))}};function pu(ve){ve*=Math.PI/180;var K=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*K-ge+1)/3,(Math.sqrt(3)*K-ge+1)/3]}function yi(ve){return ve>0?1/(1-ve):1+ve}function gu(ve){return ve>0?1-1/(1.001-ve):-ve}var Rf=function(ve,K){return{u_is_size_zoom_constant:new i.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ve,K.u_size_t),u_size:new i.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new i.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(ve,K.u_fade_change),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new i.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new i.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_texture:new i.Uniform1i(ve,K.u_texture)}},qc=function(ve,K){return{u_is_size_zoom_constant:new i.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ve,K.u_size_t),u_size:new i.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new i.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(ve,K.u_fade_change),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new i.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new i.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_texture:new i.Uniform1i(ve,K.u_texture),u_gamma_scale:new i.Uniform1f(ve,K.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ve,K.u_is_halo)}},yu=function(ve,K){return{u_is_size_zoom_constant:new i.Uniform1i(ve,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ve,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ve,K.u_size_t),u_size:new i.Uniform1f(ve,K.u_size),u_camera_to_center_distance:new i.Uniform1f(ve,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ve,K.u_pitch),u_rotate_symbol:new i.Uniform1i(ve,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ve,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(ve,K.u_fade_change),u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ve,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ve,K.u_coord_matrix),u_is_text:new i.Uniform1i(ve,K.u_is_text),u_pitch_with_map:new i.Uniform1i(ve,K.u_pitch_with_map),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_texsize_icon:new i.Uniform2f(ve,K.u_texsize_icon),u_texture:new i.Uniform1i(ve,K.u_texture),u_texture_icon:new i.Uniform1i(ve,K.u_texture_icon),u_gamma_scale:new i.Uniform1f(ve,K.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ve,K.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ve,K.u_is_halo)}},Xu=function(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt){var qt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:qt.width/qt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:Ke,u_coord_matrix:ut,u_is_text:+Ct,u_pitch_with_map:+te,u_texsize:Nt,u_texture:0}},If=function(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt){var lr=ye.transform;return i.extend(Xu(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt),{u_gamma_scale:te?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+qt})},hc=function(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt){return i.extend(If(ve,K,ge,te,ye,Fe,Ke,ut,!0,Ct,!0),{u_texsize_icon:Nt,u_texture_icon:1})},Zu=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_opacity:new i.Uniform1f(ve,K.u_opacity),u_color:new i.UniformColor(ve,K.u_color)}},Ku=function(ve,K){return{u_matrix:new i.UniformMatrix4f(ve,K.u_matrix),u_opacity:new i.Uniform1f(ve,K.u_opacity),u_image:new i.Uniform1i(ve,K.u_image),u_pattern_tl_a:new i.Uniform2f(ve,K.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(ve,K.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(ve,K.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(ve,K.u_pattern_br_b),u_texsize:new i.Uniform2f(ve,K.u_texsize),u_mix:new i.Uniform1f(ve,K.u_mix),u_pattern_size_a:new i.Uniform2f(ve,K.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(ve,K.u_pattern_size_b),u_scale_a:new i.Uniform1f(ve,K.u_scale_a),u_scale_b:new i.Uniform1f(ve,K.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(ve,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ve,K.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(ve,K.u_tile_units_to_pixels)}},vl=function(ve,K,ge){return{u_matrix:ve,u_opacity:K,u_color:ge}},$u=function(ve,K,ge,te,ye,Fe){return i.extend(ul(te,Fe,ge,ye),{u_matrix:ve,u_opacity:K})},dl={fillExtrusion:Lf,fillExtrusionPattern:Yi,fill:Xs,fillPattern:kl,fillOutline:fl,fillOutlinePattern:gs,circle:Qh,collisionBox:ev,collisionCircle:tv,debug:cu,clippingMask:es,heatmap:Zc,heatmapTexture:Yu,hillshade:Kc,hillshadePrepare:$c,line:ms,lineGradient:cl,linePattern:vu,lineSDF:Pf,raster:Js,symbolIcon:Rf,symbolSDF:qc,symbolTextAndIcon:yu,background:Zu,backgroundPattern:Ku},to;function Ds(ve,K,ge,te,ye,Fe,Ke){for(var ut=ve.context,Ct=ut.gl,Nt=ve.useProgram("collisionBox"),qt=[],lr=0,sr=0,Dr=0;Dr<te.length;Dr++){var Xr=te[Dr],jr=K.getTile(Xr),Gr=jr.getBucket(ge);if(Gr){var Jr=Xr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(Jr=ve.translatePosMatrix(Xr.posMatrix,jr,ye,Fe));var vn=Ke?Gr.textCollisionBox:Gr.iconCollisionBox,zn=Gr.collisionCircleArray;if(zn.length>0){var Vn=i.create(),Zn=Jr;i.mul(Vn,Gr.placementInvProjMatrix,ve.transform.glCoordMatrix),i.mul(Vn,Vn,Gr.placementViewportMatrix),qt.push({circleArray:zn,circleOffset:sr,transform:Zn,invTransform:Vn}),lr+=zn.length/4,sr=lr}vn&&Nt.draw(ut,Ct.LINES,Tr.disabled,Jt.disabled,ve.colorModeForRenderPass(),It.disabled,fc(Jr,ve.transform,jr),ge.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,null,ve.transform.zoom,null,null,vn.collisionVertexBuffer)}}if(!(!Ke||!qt.length)){var Kn=ve.useProgram("collisionCircle"),jn=new i.StructArrayLayout2f1f2i16;jn.resize(lr*4),jn._trim();for(var Jn=0,aa=0,fa=qt;aa<fa.length;aa+=1)for(var ba=fa[aa],pa=0;pa<ba.circleArray.length/4;pa++){var Fa=pa*4,ri=ba.circleArray[Fa+0],Ka=ba.circleArray[Fa+1],Ea=ba.circleArray[Fa+2],$a=ba.circleArray[Fa+3];jn.emplace(Jn++,ri,Ka,Ea,$a,0),jn.emplace(Jn++,ri,Ka,Ea,$a,1),jn.emplace(Jn++,ri,Ka,Ea,$a,2),jn.emplace(Jn++,ri,Ka,Ea,$a,3)}(!to||to.length<lr*2)&&(to=vc(lr));for(var Wa=ut.createIndexBuffer(to,!0),fi=ut.createVertexBuffer(jn,i.collisionCircleLayout.members,!0),ii=0,Ii=qt;ii<Ii.length;ii+=1){var ti=Ii[ii],Si=Xc(ti.transform,ti.invTransform,ve.transform);Kn.draw(ut,Ct.TRIANGLES,Tr.disabled,Jt.disabled,ve.colorModeForRenderPass(),It.disabled,Si,ge.id,fi,Wa,i.SegmentVector.simpleSegment(0,ti.circleOffset*2,ti.circleArray.length,ti.circleArray.length/2),null,ve.transform.zoom,null,null,null)}fi.destroy(),Wa.destroy()}}function vc(ve){var K=ve*2,ge=new i.StructArrayLayout3ui6;ge.resize(K),ge._trim();for(var te=0;te<K;te++){var ye=te*6;ge.uint16[ye+0]=te*4+0,ge.uint16[ye+1]=te*4+1,ge.uint16[ye+2]=te*4+2,ge.uint16[ye+3]=te*4+2,ge.uint16[ye+4]=te*4+3,ge.uint16[ye+5]=te*4+0}return ge}var zl=i.identity(new Float32Array(16));function kf(ve,K,ge,te,ye){if(ve.renderPass==="translucent"){var Fe=Jt.disabled,Ke=ve.colorModeForRenderPass(),ut=ge.layout.get("text-variable-anchor");ut&&nv(te,ve,ge,K,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Qu(ve,K,ge,te,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),Fe,Ke),ge.paint.get("text-opacity").constantOr(1)!==0&&Qu(ve,K,ge,te,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),Fe,Ke),K.map.showCollisionBoxes&&(Ds(ve,K,ge,te,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),Ds(ve,K,ge,te,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Ju(ve,K,ge,te,ye,Fe){var Ke=i.getAnchorAlignment(ve),ut=Ke.horizontalAlign,Ct=Ke.verticalAlign,Nt=-(ut-.5)*K,qt=-(Ct-.5)*ge,lr=i.evaluateVariableOffset(ve,te);return new i.Point((Nt/ye+lr[0])*Fe,(qt/ye+lr[1])*Fe)}function nv(ve,K,ge,te,ye,Fe,Ke){for(var ut=K.transform,Ct=ye==="map",Nt=Fe==="map",qt=0,lr=ve;qt<lr.length;qt+=1){var sr=lr[qt],Dr=te.getTile(sr),Xr=Dr.getBucket(ge);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var jr=Xr.textSizeData,Gr=i.evaluateSizeForZoom(jr,ut.zoom),Jr=hn(Dr,1,K.transform.zoom),vn=_r(sr.posMatrix,Nt,Ct,K.transform,Jr),zn=ge.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Gr){var Vn=Math.pow(2,ut.zoom-Dr.tileID.overscaledZ);eh(Xr,Ct,Nt,Ke,i.symbolSize,ut,vn,sr.posMatrix,Vn,Gr,zn)}}}}function eh(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt){var lr=ve.text.placedSymbolArray,sr=ve.text.dynamicLayoutVertexArray,Dr=ve.icon.dynamicLayoutVertexArray,Xr={};sr.clear();for(var jr=0;jr<lr.length;jr++){var Gr=lr.get(jr),Jr=ve.allowVerticalPlacement&&!Gr.placedOrientation,vn=!Gr.hidden&&Gr.crossTileID&&!Jr?te[Gr.crossTileID]:null;if(!vn)Qn(Gr.numGlyphs,sr);else{var zn=new i.Point(Gr.anchorX,Gr.anchorY),Vn=zr(zn,ge?ut:Ke),Zn=gn(Fe.cameraToCenterDistance,Vn.signedDistanceFromCamera),Kn=ye.evaluateSizeForFeature(ve.textSizeData,Nt,Gr)*Zn/i.ONE_EM;ge&&(Kn*=ve.tilePixelRatio/Ct);for(var jn=vn.width,Jn=vn.height,aa=vn.anchor,fa=vn.textOffset,ba=vn.textBoxScale,pa=Ju(aa,jn,Jn,fa,ba,Kn),Fa=ge?zr(zn.add(pa),Ke).point:Vn.point.add(K?pa.rotate(-Fe.angle):pa),ri=ve.allowVerticalPlacement&&Gr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Ka=0;Ka<Gr.numGlyphs;Ka++)i.addDynamicAttributes(sr,Fa,ri);qt&&Gr.associatedIconIndex>=0&&(Xr[Gr.associatedIconIndex]={shiftedAnchor:Fa,angle:ri})}}if(qt){Dr.clear();for(var Ea=ve.icon.placedSymbolArray,$a=0;$a<Ea.length;$a++){var Wa=Ea.get($a);if(Wa.hidden)Qn(Wa.numGlyphs,Dr);else{var fi=Xr[$a];if(!fi)Qn(Wa.numGlyphs,Dr);else for(var ii=0;ii<Wa.numGlyphs;ii++)i.addDynamicAttributes(Dr,fi.shiftedAnchor,fi.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Dr)}ve.text.dynamicLayoutVertexBuffer.updateData(sr)}function Lo(ve,K,ge){return ge.iconsInText&&K?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Qu(ve,K,ge,te,ye,Fe,Ke,ut,Ct,Nt,qt,lr){for(var sr=ve.context,Dr=sr.gl,Xr=ve.transform,jr=ut==="map",Gr=Ct==="map",Jr=jr&&ge.layout.get("symbol-placement")!=="point",vn=jr&&!Gr&&!Jr,zn=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Vn=!1,Zn=ve.depthModeForSublayer(0,Tr.ReadOnly),Kn=ge.layout.get("text-variable-anchor"),jn=[],Jn=0,aa=te;Jn<aa.length;Jn+=1){var fa=aa[Jn],ba=K.getTile(fa),pa=ba.getBucket(ge);if(pa){var Fa=ye?pa.text:pa.icon;if(!(!Fa||!Fa.segments.get().length)){var ri=Fa.programConfigurations.get(ge.id),Ka=ye||pa.sdfIcons,Ea=ye?pa.textSizeData:pa.iconSizeData,$a=Gr||Xr.pitch!==0,Wa=ve.useProgram(Lo(Ka,ye,pa),ri),fi=i.evaluateSizeForZoom(Ea,Xr.zoom),ii=void 0,Ii=[0,0],ti=void 0,Si=void 0,Ya=null,ni=void 0;if(ye){if(ti=ba.glyphAtlasTexture,Si=Dr.LINEAR,ii=ba.glyphAtlasTexture.size,pa.iconsInText){Ii=ba.imageAtlasTexture.size,Ya=ba.imageAtlasTexture;var Ji=Ea.kind==="composite"||Ea.kind==="camera";ni=$a||ve.options.rotating||ve.options.zooming||Ji?Dr.LINEAR:Dr.NEAREST}}else{var Ro=ge.layout.get("icon-size").constantOr(0)!==1||pa.iconsNeedLinear;ti=ba.imageAtlasTexture,Si=Ka||ve.options.rotating||ve.options.zooming||Ro||$a?Dr.LINEAR:Dr.NEAREST,ii=ba.imageAtlasTexture.size}var ml=hn(ba,1,ve.transform.zoom),xl=_r(fa.posMatrix,Gr,jr,ve.transform,ml),Bl=Yr(fa.posMatrix,Gr,jr,ve.transform,ml),bu=Kn&&pa.hasTextData(),bc=ge.layout.get("icon-text-fit")!=="none"&&bu&&pa.hasIconData();Jr&&Rn(pa,fa.posMatrix,ve,ye,xl,Bl,Gr,Nt);var wu=ve.translatePosMatrix(fa.posMatrix,ba,Fe,Ke),bs=Jr||ye&&Kn||bc?zl:xl,Tu=ve.translatePosMatrix(Bl,ba,Fe,Ke,!0),Os=Ka&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ws=void 0;Ka?pa.iconsInText?ws=hc(Ea.kind,fi,vn,Gr,ve,wu,bs,Tu,ii,Ii):ws=If(Ea.kind,fi,vn,Gr,ve,wu,bs,Tu,ye,ii,!0):ws=Xu(Ea.kind,fi,vn,Gr,ve,wu,bs,Tu,ye,ii);var Nl={program:Wa,buffers:Fa,uniformValues:ws,atlasTexture:ti,atlasTextureIcon:Ya,atlasInterpolation:Si,atlasInterpolationIcon:ni,isSDF:Ka,hasHalo:Os};if(zn&&pa.canOverlap){Vn=!0;for(var sf=Fa.segments.get(),Ul=0,Fv=sf;Ul<Fv.length;Ul+=1){var uh=Fv[Ul];jn.push({segments:new i.SegmentVector([uh]),sortKey:uh.sortKey,state:Nl})}}else jn.push({segments:Fa.segments,sortKey:0,state:Nl})}}}Vn&&jn.sort(function(Nv,Uv){return Nv.sortKey-Uv.sortKey});for(var Fo=0,Bv=jn;Fo<Bv.length;Fo+=1){var uv=Bv[Fo],is=uv.state;if(sr.activeTexture.set(Dr.TEXTURE0),is.atlasTexture.bind(is.atlasInterpolation,Dr.CLAMP_TO_EDGE),is.atlasTextureIcon&&(sr.activeTexture.set(Dr.TEXTURE1),is.atlasTextureIcon&&is.atlasTextureIcon.bind(is.atlasInterpolationIcon,Dr.CLAMP_TO_EDGE)),is.isSDF){var fh=is.uniformValues;is.hasHalo&&(fh.u_is_halo=1,mu(is.buffers,uv.segments,ge,ve,is.program,Zn,qt,lr,fh)),fh.u_is_halo=0}mu(is.buffers,uv.segments,ge,ve,is.program,Zn,qt,lr,is.uniformValues)}}function mu(ve,K,ge,te,ye,Fe,Ke,ut,Ct){var Nt=te.context,qt=Nt.gl;ye.draw(Nt,qt.TRIANGLES,Fe,Ke,ut,It.disabled,Ct,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,K,ge.paint,te.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function th(ve,K,ge,te){if(ve.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),Fe=ge.paint.get("circle-stroke-width"),Ke=ge.paint.get("circle-stroke-opacity"),ut=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Fe.constantOr(1)===0||Ke.constantOr(1)===0))){for(var Ct=ve.context,Nt=Ct.gl,qt=ve.depthModeForSublayer(0,Tr.ReadOnly),lr=Jt.disabled,sr=ve.colorModeForRenderPass(),Dr=[],Xr=0;Xr<te.length;Xr++){var jr=te[Xr],Gr=K.getTile(jr),Jr=Gr.getBucket(ge);if(Jr){var vn=Jr.programConfigurations.get(ge.id),zn=ve.useProgram("circle",vn),Vn=Jr.layoutVertexBuffer,Zn=Jr.indexBuffer,Kn=qh(ve,jr,Gr,ge),jn={programConfiguration:vn,program:zn,layoutVertexBuffer:Vn,indexBuffer:Zn,uniformValues:Kn};if(ut)for(var Jn=Jr.segments.get(),aa=0,fa=Jn;aa<fa.length;aa+=1){var ba=fa[aa];Dr.push({segments:new i.SegmentVector([ba]),sortKey:ba.sortKey,state:jn})}else Dr.push({segments:Jr.segments,sortKey:0,state:jn})}}ut&&Dr.sort(function(ti,Si){return ti.sortKey-Si.sortKey});for(var pa=0,Fa=Dr;pa<Fa.length;pa+=1){var ri=Fa[pa],Ka=ri.state,Ea=Ka.programConfiguration,$a=Ka.program,Wa=Ka.layoutVertexBuffer,fi=Ka.indexBuffer,ii=Ka.uniformValues,Ii=ri.segments;$a.draw(Ct,Nt.TRIANGLES,qt,lr,sr,It.disabled,ii,ge.id,Wa,fi,Ii,ge.paint,ve.transform.zoom,Ea)}}}}function pl(ve,K,ge,te){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,Fe=ye.gl,Ke=Jt.disabled,ut=new lt([Fe.ONE,Fe.ONE],i.Color.transparent,[!0,!0,!0,!0]);av(ye,ve,ge),ye.clear({color:i.Color.transparent});for(var Ct=0;Ct<te.length;Ct++){var Nt=te[Ct];if(!K.hasRenderableParent(Nt)){var qt=K.getTile(Nt),lr=qt.getBucket(ge);if(lr){var sr=lr.programConfigurations.get(ge.id),Dr=ve.useProgram("heatmap",sr),Xr=ve.transform,jr=Xr.zoom;Dr.draw(ye,Fe.TRIANGLES,Tr.disabled,Ke,ut,It.disabled,Ks(Nt.posMatrix,qt,jr,ge.paint.get("heatmap-intensity")),ge.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,ge.paint,ve.transform.zoom,sr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),qu(ve,ge))}function av(ve,K,ge){var te=ve.gl;ve.activeTexture.set(te.TEXTURE1),ve.viewport.set([0,0,K.width/4,K.height/4]);var ye=ge.heatmapFbo;if(ye)te.bindTexture(te.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var Fe=te.createTexture();te.bindTexture(te.TEXTURE_2D,Fe),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ye=ge.heatmapFbo=ve.createFramebuffer(K.width/4,K.height/4,!1),Xo(ve,K,Fe,ye)}}function Xo(ve,K,ge,te){var ye=ve.gl,Fe=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,K.width/4,K.height/4,0,ye.RGBA,Fe,null),te.colorAttachment.set(ge)}function qu(ve,K){var ge=ve.context,te=ge.gl,ye=K.heatmapFbo;if(ye){ge.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(te.TEXTURE1);var Fe=K.colorRampTexture;Fe||(Fe=K.colorRampTexture=new i.Texture(ge,K.colorRamp,te.RGBA)),Fe.bind(te.LINEAR,te.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,te.TRIANGLES,Tr.disabled,Jt.disabled,ve.colorModeForRenderPass(),It.disabled,rv(ve,K,0,1),K.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,K.paint,ve.transform.zoom)}}function Df(ve,K,ge,te){if(ve.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),Fe=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||Fe.constantOr(1)===0))for(var Ke=ve.depthModeForSublayer(0,Tr.ReadOnly),ut=ve.colorModeForRenderPass(),Ct=ge.paint.get("line-dasharray"),Nt=ge.paint.get("line-pattern"),qt=Nt.constantOr(1),lr=ge.paint.get("line-gradient"),sr=ge.getCrossfadeParameters(),Dr=qt?"linePattern":Ct?"lineSDF":lr?"lineGradient":"line",Xr=ve.context,jr=Xr.gl,Gr=!0,Jr=0,vn=te;Jr<vn.length;Jr+=1){var zn=vn[Jr],Vn=K.getTile(zn);if(!(qt&&!Vn.patternsLoaded())){var Zn=Vn.getBucket(ge);if(Zn){var Kn=Zn.programConfigurations.get(ge.id),jn=ve.context.program.get(),Jn=ve.useProgram(Dr,Kn),aa=Gr||Jn.program!==jn,fa=Nt.constantOr(null);if(fa&&Vn.imageAtlas){var ba=Vn.imageAtlas,pa=ba.patternPositions[fa.to.toString()],Fa=ba.patternPositions[fa.from.toString()];pa&&Fa&&Kn.setConstantPatternPositions(pa,Fa)}var ri=qt?Qc(ve,Vn,ge,sr):Ct?$s(ve,Vn,ge,Ct,sr):lr?_l(ve,Vn,ge,Zn.lineClipsArray.length):Dl(ve,Vn,ge);if(qt)Xr.activeTexture.set(jr.TEXTURE0),Vn.imageAtlasTexture.bind(jr.LINEAR,jr.CLAMP_TO_EDGE),Kn.updatePaintBuffers(sr);else if(Ct&&(aa||ve.lineAtlas.dirty))Xr.activeTexture.set(jr.TEXTURE0),ve.lineAtlas.bind(Xr);else if(lr){var Ka=Zn.gradients[ge.id],Ea=Ka.texture;if(ge.gradientVersion!==Ka.version){var $a=256;if(ge.stepInterpolant){var Wa=K.getSource().maxzoom,fi=zn.canonical.z===Wa?Math.ceil(1<<ve.transform.maxZoom-zn.canonical.z):1,ii=Zn.maxLineLength/i.EXTENT,Ii=1024,ti=ii*Ii*fi;$a=i.clamp(i.nextPowerOfTwo(ti),256,Xr.maxTextureSize)}Ka.gradient=i.renderColorRamp({expression:ge.gradientExpression(),evaluationKey:"lineProgress",resolution:$a,image:Ka.gradient||void 0,clips:Zn.lineClipsArray}),Ka.texture?Ka.texture.update(Ka.gradient):Ka.texture=new i.Texture(Xr,Ka.gradient,jr.RGBA),Ka.version=ge.gradientVersion,Ea=Ka.texture}Xr.activeTexture.set(jr.TEXTURE0),Ea.bind(ge.stepInterpolant?jr.NEAREST:jr.LINEAR,jr.CLAMP_TO_EDGE)}Jn.draw(Xr,jr.TRIANGLES,Ke,ve.stencilModeForClipping(zn),ut,It.disabled,ri,ge.id,Zn.layoutVertexBuffer,Zn.indexBuffer,Zn.segments,ge.paint,ve.transform.zoom,Kn,Zn.layoutVertexBuffer2),Gr=!1}}}}}function Qs(ve,K,ge,te){var ye=ge.paint.get("fill-color"),Fe=ge.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var Ke=ve.colorModeForRenderPass(),ut=ge.paint.get("fill-pattern"),Ct=ve.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&ye.constantOr(i.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Ct){var Nt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Tr.ReadWrite:Tr.ReadOnly);yl(ve,K,ge,te,Nt,Ke,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var qt=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,Tr.ReadOnly);yl(ve,K,ge,te,qt,Ke,!0)}}}function yl(ve,K,ge,te,ye,Fe,Ke){var ut=ve.context.gl,Ct=ge.paint.get("fill-pattern"),Nt=Ct&&Ct.constantOr(1),qt=ge.getCrossfadeParameters(),lr,sr,Dr,Xr,jr;Ke?(sr=Nt&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ut.LINES):(sr=Nt?"fillPattern":"fill",lr=ut.TRIANGLES);for(var Gr=0,Jr=te;Gr<Jr.length;Gr+=1){var vn=Jr[Gr],zn=K.getTile(vn);if(!(Nt&&!zn.patternsLoaded())){var Vn=zn.getBucket(ge);if(Vn){var Zn=Vn.programConfigurations.get(ge.id),Kn=ve.useProgram(sr,Zn);Nt&&(ve.context.activeTexture.set(ut.TEXTURE0),zn.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Zn.updatePaintBuffers(qt));var jn=Ct.constantOr(null);if(jn&&zn.imageAtlas){var Jn=zn.imageAtlas,aa=Jn.patternPositions[jn.to.toString()],fa=Jn.patternPositions[jn.from.toString()];aa&&fa&&Zn.setConstantPatternPositions(aa,fa)}var ba=ve.translatePosMatrix(vn.posMatrix,zn,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Ke)Xr=Vn.indexBuffer,jr=Vn.segments,Dr=Nt?ys(ba,ve,qt,zn):Zs(ba);else{Xr=Vn.indexBuffer2,jr=Vn.segments2;var pa=[ut.drawingBufferWidth,ut.drawingBufferHeight];Dr=sr==="fillOutlinePattern"&&Nt?Wu(ba,ve,qt,zn,pa):as(ba,pa)}Kn.draw(ve.context,lr,ye,ve.stencilModeForClipping(vn),Fe,It.disabled,Dr,ge.id,Vn.layoutVertexBuffer,Xr,jr,ge.paint,ve.transform.zoom,Zn)}}}}function dc(ve,K,ge,te){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var Fe=new Tr(ve.context.gl.LEQUAL,Tr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=ve.colorModeForRenderPass();ef(ve,K,ge,te,Fe,Jt.disabled,Ke)}else ef(ve,K,ge,te,Fe,Jt.disabled,lt.disabled),ef(ve,K,ge,te,Fe,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function ef(ve,K,ge,te,ye,Fe,Ke){for(var ut=ve.context,Ct=ut.gl,Nt=ge.paint.get("fill-extrusion-pattern"),qt=Nt.constantOr(1),lr=ge.getCrossfadeParameters(),sr=ge.paint.get("fill-extrusion-opacity"),Dr=0,Xr=te;Dr<Xr.length;Dr+=1){var jr=Xr[Dr],Gr=K.getTile(jr),Jr=Gr.getBucket(ge);if(Jr){var vn=Jr.programConfigurations.get(ge.id),zn=ve.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",vn);qt&&(ve.context.activeTexture.set(Ct.TEXTURE0),Gr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),vn.updatePaintBuffers(lr));var Vn=Nt.constantOr(null);if(Vn&&Gr.imageAtlas){var Zn=Gr.imageAtlas,Kn=Zn.patternPositions[Vn.to.toString()],jn=Zn.patternPositions[Vn.from.toString()];Kn&&jn&&vn.setConstantPatternPositions(Kn,jn)}var Jn=ve.translatePosMatrix(jr.posMatrix,Gr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),aa=ge.paint.get("fill-extrusion-vertical-gradient"),fa=qt?ps(Jn,ve,aa,sr,jr,lr,Gr):Gu(Jn,ve,aa,sr);zn.draw(ut,ut.gl.TRIANGLES,ye,Fe,Ke,It.backCCW,fa,ge.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,ge.paint,ve.transform.zoom,vn)}}}function tf(ve,K,ge,te){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,Fe=ve.depthModeForSublayer(0,Tr.ReadOnly),Ke=ve.colorModeForRenderPass(),ut=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(te):[{},te],Ct=ut[0],Nt=ut[1],qt=0,lr=Nt;qt<lr.length;qt+=1){var sr=lr[qt],Dr=K.getTile(sr);Dr.needsHillshadePrepare&&ve.renderPass==="offscreen"?rh(ve,Dr,ge,Fe,Jt.disabled,Ke):ve.renderPass==="translucent"&&_f(ve,Dr,ge,Fe,Ct[sr.overscaledZ],Ke)}ye.viewport.set([0,0,ve.width,ve.height])}}function _f(ve,K,ge,te,ye,Fe){var Ke=ve.context,ut=Ke.gl,Ct=K.fbo;if(Ct){var Nt=ve.useProgram("hillshade");Ke.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,Ct.colorAttachment.get());var qt=cc(ve,K,ge);Nt.draw(Ke,ut.TRIANGLES,te,ye,Fe,It.disabled,qt,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function rh(ve,K,ge,te,ye,Fe){var Ke=ve.context,ut=Ke.gl,Ct=K.dem;if(Ct&&Ct.data){var Nt=Ct.dim,qt=Ct.stride,lr=Ct.getPixels();if(Ke.activeTexture.set(ut.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||ve.getTileTexture(qt),K.demTexture){var sr=K.demTexture;sr.update(lr,{premultiply:!1}),sr.bind(ut.NEAREST,ut.CLAMP_TO_EDGE)}else K.demTexture=new i.Texture(Ke,lr,ut.RGBA,{premultiply:!1}),K.demTexture.bind(ut.NEAREST,ut.CLAMP_TO_EDGE);Ke.activeTexture.set(ut.TEXTURE0);var Dr=K.fbo;if(!Dr){var Xr=new i.Texture(Ke,{width:Nt,height:Nt,data:null},ut.RGBA);Xr.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Dr=K.fbo=Ke.createFramebuffer(Nt,Nt,!0),Dr.colorAttachment.set(Xr.texture)}Ke.bindFramebuffer.set(Dr.framebuffer),Ke.viewport.set([0,0,Nt,Nt]),ve.useProgram("hillshadePrepare").draw(Ke,ut.TRIANGLES,te,ye,Fe,It.disabled,Jc(K.tileID,Ct),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function rf(ve,K,ge,te){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&te.length)for(var ye=ve.context,Fe=ye.gl,Ke=K.getSource(),ut=ve.useProgram("raster"),Ct=ve.colorModeForRenderPass(),Nt=Ke instanceof Q?[{},te]:ve.stencilConfigForOverlap(te),qt=Nt[0],lr=Nt[1],sr=lr[lr.length-1].overscaledZ,Dr=!ve.options.moving,Xr=0,jr=lr;Xr<jr.length;Xr+=1){var Gr=jr[Xr],Jr=ve.depthModeForSublayer(Gr.overscaledZ-sr,ge.paint.get("raster-opacity")===1?Tr.ReadWrite:Tr.ReadOnly,Fe.LESS),vn=K.getTile(Gr),zn=ve.transform.calculatePosMatrix(Gr.toUnwrapped(),Dr);vn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Vn=K.findLoadedParent(Gr,0),Zn=pc(vn,Vn,K,ge,ve.transform),Kn=void 0,jn=void 0,Jn=ge.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;ye.activeTexture.set(Fe.TEXTURE0),vn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Fe.TEXTURE1),Vn?(Vn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Kn=Math.pow(2,Vn.tileID.overscaledZ-vn.tileID.overscaledZ),jn=[vn.tileID.canonical.x*Kn%1,vn.tileID.canonical.y*Kn%1]):vn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var aa=ju(zn,jn||[0,0],Kn||1,Zn,ge);Ke instanceof Q?ut.draw(ye,Fe.TRIANGLES,Jr,Jt.disabled,Ct,It.disabled,aa,ge.id,Ke.boundsBuffer,ve.quadTriangleIndexBuffer,Ke.boundsSegments):ut.draw(ye,Fe.TRIANGLES,Jr,qt[Gr.overscaledZ],Ct,It.disabled,aa,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function pc(ve,K,ge,te,ye){var Fe=te.paint.get("raster-fade-duration");if(Fe>0){var Ke=i.browser.now(),ut=(Ke-ve.timeAdded)/Fe,Ct=K?(Ke-K.timeAdded)/Fe:-1,Nt=ge.getSource(),qt=ye.coveringZoomLevel({tileSize:Nt.tileSize,roundZoom:Nt.roundZoom}),lr=!K||Math.abs(K.tileID.overscaledZ-qt)>Math.abs(ve.tileID.overscaledZ-qt),sr=lr&&ve.refreshedUponExpiration?1:i.clamp(lr?ut:1-Ct,0,1);return ve.refreshedUponExpiration&&ut>=1&&(ve.refreshedUponExpiration=!1),K?{opacity:1,mix:1-sr}:{opacity:sr,mix:0}}else return{opacity:1,mix:0}}function Ol(ve,K,ge){var te=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var Fe=ve.context,Ke=Fe.gl,ut=ve.transform,Ct=ut.tileSize,Nt=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Nt)){var qt=!Nt&&te.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===qt){var lr=Jt.disabled,sr=ve.depthModeForSublayer(0,qt==="opaque"?Tr.ReadWrite:Tr.ReadOnly),Dr=ve.colorModeForRenderPass(),Xr=ve.useProgram(Nt?"backgroundPattern":"background"),jr=ut.coveringTiles({tileSize:Ct});Nt&&(Fe.activeTexture.set(Ke.TEXTURE0),ve.imageManager.bind(ve.context));for(var Gr=ge.getCrossfadeParameters(),Jr=0,vn=jr;Jr<vn.length;Jr+=1){var zn=vn[Jr],Vn=ve.transform.calculatePosMatrix(zn.toUnwrapped()),Zn=Nt?$u(Vn,ye,ve,Nt,{tileID:zn,tileSize:Ct},Gr):vl(Vn,ye,te);Xr.draw(Fe,Ke.TRIANGLES,sr,lr,Dr,It.disabled,Zn,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var gc=new i.Color(1,0,0,1),nf=new i.Color(0,1,0,1),nh=new i.Color(0,0,1,1),$e=new i.Color(1,0,1,1),nt=new i.Color(0,1,1,1);function pt(ve){var K=ve.transform.padding,ge=3;_t(ve,ve.transform.height-(K.top||0),ge,gc),_t(ve,K.bottom||0,ge,nf),kt(ve,K.left||0,ge,nh),kt(ve,ve.transform.width-(K.right||0),ge,$e);var te=ve.transform.centerPoint;wt(ve,te.x,ve.transform.height-te.y,nt)}function wt(ve,K,ge,te){var ye=20,Fe=2;Ot(ve,K-Fe/2,ge-ye/2,Fe,ye,te),Ot(ve,K-ye/2,ge-Fe/2,ye,Fe,te)}function _t(ve,K,ge,te){Ot(ve,0,K+ge/2,ve.transform.width,ge,te)}function kt(ve,K,ge,te){Ot(ve,K-ge/2,0,ge,ve.transform.height,te)}function Ot(ve,K,ge,te,ye,Fe){var Ke=ve.context,ut=Ke.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(K*i.browser.devicePixelRatio,ge*i.browser.devicePixelRatio,te*i.browser.devicePixelRatio,ye*i.browser.devicePixelRatio),Ke.clear({color:Fe}),ut.disable(ut.SCISSOR_TEST)}function dr(ve,K,ge){for(var te=0;te<ge.length;te++)wr(ve,K,ge[te])}function wr(ve,K,ge){var te=ve.context,ye=te.gl,Fe=ge.posMatrix,Ke=ve.useProgram("debug"),ut=Tr.disabled,Ct=Jt.disabled,Nt=ve.colorModeForRenderPass(),qt="$debug";te.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ke.draw(te,ye.LINE_STRIP,ut,Ct,Nt,It.disabled,uo(Fe,i.Color.red),qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var lr=K.getTileByID(ge.key).latestRawTileData,sr=lr&&lr.byteLength||0,Dr=Math.floor(sr/1024),Xr=K.getTile(ge).tileSize,jr=512/Math.min(Xr,512)*(ge.overscaledZ/ve.transform.zoom)*.5,Gr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Gr+=" => "+ge.overscaledZ);var Jr=Gr+" "+Dr+"kb";or(ve,Jr),Ke.draw(te,ye.TRIANGLES,ut,Ct,lt.alphaBlended,It.disabled,uo(Fe,i.Color.transparent,jr),qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function or(ve,K){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,te=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(K,5,5),ye.strokeText(K,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function Sr(ve,K,ge){var te=ve.context,ye=ge.implementation;if(ve.renderPass==="offscreen"){var Fe=ye.prerender;Fe&&(ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),Fe.call(ye,te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),te.setStencilMode(Jt.disabled);var Ke=ye.renderingMode==="3d"?new Tr(ve.context.gl.LEQUAL,Tr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Tr.ReadOnly);te.setDepthMode(Ke),ye.render(te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState(),te.bindFramebuffer.set(null)}}var kr={symbol:kf,circle:th,heatmap:pl,line:Df,fill:Qs,"fill-extrusion":dc,hillshade:tf,raster:rf,background:Ol,debug:dr,custom:Sr},Nr=function(K,ge){this.context=new Ht(K),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Ut.maxUnderzooming+Ut.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new la,this.gpuTimers={}};Nr.prototype.resize=function(K,ge){if(this.width=K*i.browser.devicePixelRatio,this.height=ge*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,ye=this.style._order;te<ye.length;te+=1){var Fe=ye[te];this.style._layers[Fe].resize()}},Nr.prototype.setup=function(){var K=this.context,ge=new i.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(i.EXTENT,0),ge.emplaceBack(0,i.EXTENT),ge.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(ge,Wo.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var te=new i.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(i.EXTENT,0),te.emplaceBack(0,i.EXTENT),te.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=K.createVertexBuffer(te,Wo.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ye=new i.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(i.EXTENT,0,i.EXTENT,0),ye.emplaceBack(0,i.EXTENT,0,i.EXTENT),ye.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(ye,j.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Fe=new i.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(Fe,Wo.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ke=new i.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(Ke);var ut=new i.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ut),this.emptyTexture=new i.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new Jt({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Nr.prototype.clearStencil=function(){var K=this.context,ge=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=i.create();i.ortho(te,0,this.width,this.height,0,0,1),i.scale(te,te,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,ge.TRIANGLES,Tr.disabled,this.stencilClearMode,lt.disabled,It.disabled,hu(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Nr.prototype._renderTileClippingMasks=function(K,ge){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=K.source;var te=this.context,ye=te.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),te.setColorMode(lt.disabled),te.setDepthMode(Tr.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,ut=ge;Ke<ut.length;Ke+=1){var Ct=ut[Ke],Nt=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;Fe.draw(te,ye.TRIANGLES,Tr.disabled,new Jt({func:ye.ALWAYS,mask:0},Nt,255,ye.KEEP,ye.KEEP,ye.REPLACE),lt.disabled,It.disabled,hu(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Nr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,ge=this.context.gl;return new Jt({func:ge.NOTEQUAL,mask:255},K,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Nr.prototype.stencilModeForClipping=function(K){var ge=this.context.gl;return new Jt({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Nr.prototype.stencilConfigForOverlap=function(K){var ge,te=this.context.gl,ye=K.sort(function(Nt,qt){return qt.overscaledZ-Nt.overscaledZ}),Fe=ye[ye.length-1].overscaledZ,Ke=ye[0].overscaledZ-Fe+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var ut={},Ct=0;Ct<Ke;Ct++)ut[Ct+Fe]=new Jt({func:te.GEQUAL,mask:255},Ct+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Ke,[ut,ye]}return[(ge={},ge[Fe]=Jt.disabled,ge),ye]},Nr.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var ge=8,te=1/ge;return new lt([K.CONSTANT_COLOR,K.ONE],new i.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Nr.prototype.depthModeForSublayer=function(K,ge,te){if(!this.opaquePassEnabledForLayer())return Tr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new Tr(te||this.context.gl.LEQUAL,ge,[ye,ye])},Nr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Nr.prototype.render=function(K,ge){var te=this;this.style=K,this.options=ge,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Fe=this.style.sourceCaches;for(var Ke in Fe){var ut=Fe[Ke];ut.used&&ut.prepare(this.context)}var Ct={},Nt={},qt={};for(var lr in Fe){var sr=Fe[lr];Ct[lr]=sr.getVisibleCoordinates(),Nt[lr]=Ct[lr].slice().reverse(),qt[lr]=sr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Dr=0;Dr<ye.length;Dr++){var Xr=ye[Dr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=Dr;break}}this.renderPass="offscreen";for(var jr=0,Gr=ye;jr<Gr.length;jr+=1){var Jr=Gr[jr],vn=this.style._layers[Jr];if(!(!vn.hasOffscreenPass()||vn.isHidden(this.transform.zoom))){var zn=Nt[vn.source];vn.type!=="custom"&&!zn.length||this.renderLayer(this,Fe[vn.source],vn,zn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Vn=this.style._layers[ye[this.currentLayer]],Zn=Fe[Vn.source],Kn=Ct[Vn.source];this._renderTileClippingMasks(Vn,Kn),this.renderLayer(this,Zn,Vn,Kn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var jn=this.style._layers[ye[this.currentLayer]],Jn=Fe[jn.source],aa=(jn.type==="symbol"?qt:Nt)[jn.source];this._renderTileClippingMasks(jn,Ct[jn.source]),this.renderLayer(this,Jn,jn,aa)}if(this.options.showTileBoundaries){var fa,ba,pa=i.values(this.style._layers);pa.forEach(function(Fa){Fa.source&&!Fa.isHidden(te.transform.zoom)&&(Fa.source!==(ba&&ba.id)&&(ba=te.style.sourceCaches[Fa.source]),(!fa||fa.getSource().maxzoom<ba.getSource().maxzoom)&&(fa=ba))}),fa&&kr.debug(this,fa,fa.getVisibleCoordinates())}this.options.showPadding&&pt(this),this.context.setDefault()},Nr.prototype.renderLayer=function(K,ge,te,ye){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!ye.length||(this.id=te.id,this.gpuTimingStart(te),kr[te.type](K,ge,te,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Nr.prototype.gpuTimingStart=function(K){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,te=this.gpuTimers[K.id];te||(te=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),te.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,te.query)}},Nr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Nr.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Nr.prototype.queryGpuTimers=function(K){var ge={};for(var te in K){var ye=K[te],Fe=this.context.extTimerQuery,Ke=Fe.getQueryObjectEXT(ye.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(ye.query),ge[te]=Ke}return ge},Nr.prototype.translatePosMatrix=function(K,ge,te,ye,Fe){if(!te[0]&&!te[1])return K;var Ke=Fe?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Ke){var ut=Math.sin(Ke),Ct=Math.cos(Ke);te=[te[0]*Ct-te[1]*ut,te[0]*ut+te[1]*Ct]}var Nt=[Fe?te[0]:hn(ge,te[0],this.transform.zoom),Fe?te[1]:hn(ge,te[1],this.transform.zoom),0],qt=new Float32Array(16);return i.translate(qt,K,Nt),qt},Nr.prototype.saveTileTexture=function(K){var ge=this._tileTextures[K.size[0]];ge?ge.push(K):this._tileTextures[K.size[0]]=[K]},Nr.prototype.getTileTexture=function(K){var ge=this._tileTextures[K];return ge&&ge.length>0?ge.pop():null},Nr.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var ge=this.imageManager.getPattern(K.from.toString()),te=this.imageManager.getPattern(K.to.toString());return!ge||!te},Nr.prototype.useProgram=function(K,ge){this.cache=this.cache||{};var te=""+K+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new uc(this.context,K,Yc[K],ge,dl[K],this._showOverdrawInspector)),this.cache[te]},Nr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Nr.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Nr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Nr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var nn=function(K,ge){this.points=K,this.planes=ge};nn.fromInvProjectionMatrix=function(K,ge,te){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,te),Ke=ye.map(function(Nt){return i.transformMat4([],Nt,K)}).map(function(Nt){return i.scale$1([],Nt,1/Nt[3]/ge*Fe)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ut.map(function(Nt){var qt=i.sub([],Ke[Nt[0]],Ke[Nt[1]]),lr=i.sub([],Ke[Nt[2]],Ke[Nt[1]]),sr=i.normalize([],i.cross([],qt,lr)),Dr=-i.dot(sr,Ke[Nt[1]]);return sr.concat(Dr)});return new nn(Ke,Ct)};var wn=function(K,ge){this.min=K,this.max=ge,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};wn.prototype.quadrant=function(K){for(var ge=[K%2===0,K<2],te=i.clone$2(this.min),ye=i.clone$2(this.max),Fe=0;Fe<ge.length;Fe++)te[Fe]=ge[Fe]?this.min[Fe]:this.center[Fe],ye[Fe]=ge[Fe]?this.center[Fe]:this.max[Fe];return ye[2]=this.max[2],new wn(te,ye)},wn.prototype.distanceX=function(K){var ge=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return ge-K[0]},wn.prototype.distanceY=function(K){var ge=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return ge-K[1]},wn.prototype.intersects=function(K){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,ye=0;ye<K.planes.length;ye++){for(var Fe=K.planes[ye],Ke=0,ut=0;ut<ge.length;ut++)Ke+=i.dot$1(Fe,ge[ut])>=0;if(Ke===0)return 0;Ke!==ge.length&&(te=!1)}if(te)return 2;for(var Ct=0;Ct<3;Ct++){for(var Nt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,lr=0;lr<K.points.length;lr++){var sr=K.points[lr][Ct]-this.min[Ct];Nt=Math.min(Nt,sr),qt=Math.max(qt,sr)}if(qt<0||Nt>this.max[Ct]-this.min[Ct])return 0}return 1};var kn=function(K,ge,te,ye){if(K===void 0&&(K=0),ge===void 0&&(ge=0),te===void 0&&(te=0),ye===void 0&&(ye=0),isNaN(K)||K<0||isNaN(ge)||ge<0||isNaN(te)||te<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=ge,this.left=te,this.right=ye};kn.prototype.interpolate=function(K,ge,te){return ge.top!=null&&K.top!=null&&(this.top=i.number(K.top,ge.top,te)),ge.bottom!=null&&K.bottom!=null&&(this.bottom=i.number(K.bottom,ge.bottom,te)),ge.left!=null&&K.left!=null&&(this.left=i.number(K.left,ge.left,te)),ge.right!=null&&K.right!=null&&(this.right=i.number(K.right,ge.right,te)),this},kn.prototype.getCenter=function(K,ge){var te=i.clamp((this.left+K-this.right)/2,0,K),ye=i.clamp((this.top+ge-this.bottom)/2,0,ge);return new i.Point(te,ye)},kn.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},kn.prototype.clone=function(){return new kn(this.top,this.bottom,this.left,this.right)},kn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var _n=function(K,ge,te,ye,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=K||0,this._maxZoom=ge||22,this._minPitch=te??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new kn,this._posMatrixCache={},this._alignedPosMatrixCache={}},$n={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};_n.prototype.clone=function(){var K=new _n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},$n.minZoom.get=function(){return this._minZoom},$n.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},$n.maxZoom.get=function(){return this._maxZoom},$n.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},$n.minPitch.get=function(){return this._minPitch},$n.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},$n.maxPitch.get=function(){return this._maxPitch},$n.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},$n.renderWorldCopies.get=function(){return this._renderWorldCopies},$n.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},$n.worldSize.get=function(){return this.tileSize*this.scale},$n.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},$n.size.get=function(){return new i.Point(this.width,this.height)},$n.bearing.get=function(){return-this.angle/Math.PI*180},$n.bearing.set=function(ve){var K=-i.wrap(ve,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},$n.pitch.get=function(){return this._pitch/Math.PI*180},$n.pitch.set=function(ve){var K=i.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},$n.fov.get=function(){return this._fov/Math.PI*180},$n.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},$n.zoom.get=function(){return this._zoom},$n.zoom.set=function(ve){var K=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},$n.center.get=function(){return this._center},$n.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},$n.padding.get=function(){return this._edgeInsets.toJSON()},$n.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},$n.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},_n.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},_n.prototype.interpolatePadding=function(K,ge,te){this._unmodified=!1,this._edgeInsets.interpolate(K,ge,te),this._constrain(),this._calcMatrices()},_n.prototype.coveringZoomLevel=function(K){var ge=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,ge)},_n.prototype.getVisibleUnwrappedCoordinates=function(K){var ge=[new i.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new i.Point(0,0)),ye=this.pointCoordinate(new i.Point(this.width,0)),Fe=this.pointCoordinate(new i.Point(this.width,this.height)),Ke=this.pointCoordinate(new i.Point(0,this.height)),ut=Math.floor(Math.min(te.x,ye.x,Fe.x,Ke.x)),Ct=Math.floor(Math.max(te.x,ye.x,Fe.x,Ke.x)),Nt=1,qt=ut-Nt;qt<=Ct+Nt;qt++)qt!==0&&ge.push(new i.UnwrappedTileID(qt,K));return ge},_n.prototype.coveringTiles=function(K){var ge=this.coveringZoomLevel(K),te=ge;if(K.minzoom!==void 0&&ge<K.minzoom)return[];K.maxzoom!==void 0&&ge>K.maxzoom&&(ge=K.maxzoom);var ye=i.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,ge),Ke=[Fe*ye.x,Fe*ye.y,0],ut=nn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),Ct=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=ge);var Nt=3,qt=function(pa){return{aabb:new wn([pa*Fe,0,0],[(pa+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:pa,fullyVisible:!1}},lr=[],sr=[],Dr=ge,Xr=K.reparseOverscaled?te:ge;if(this._renderWorldCopies)for(var jr=1;jr<=3;jr++)lr.push(qt(-jr)),lr.push(qt(jr));for(lr.push(qt(0));lr.length>0;){var Gr=lr.pop(),Jr=Gr.x,vn=Gr.y,zn=Gr.fullyVisible;if(!zn){var Vn=Gr.aabb.intersects(ut);if(Vn===0)continue;zn=Vn===2}var Zn=Gr.aabb.distanceX(Ke),Kn=Gr.aabb.distanceY(Ke),jn=Math.max(Math.abs(Zn),Math.abs(Kn)),Jn=Nt+(1<<Dr-Gr.zoom)-2;if(Gr.zoom===Dr||jn>Jn&&Gr.zoom>=Ct){sr.push({tileID:new i.OverscaledTileID(Gr.zoom===Dr?Xr:Gr.zoom,Gr.wrap,Gr.zoom,Jr,vn),distanceSq:i.sqrLen([Ke[0]-.5-Jr,Ke[1]-.5-vn])});continue}for(var aa=0;aa<4;aa++){var fa=(Jr<<1)+aa%2,ba=(vn<<1)+(aa>>1);lr.push({aabb:Gr.aabb.quadrant(aa),zoom:Gr.zoom+1,x:fa,y:ba,wrap:Gr.wrap,fullyVisible:zn})}}return sr.sort(function(pa,Fa){return pa.distanceSq-Fa.distanceSq}).map(function(pa){return pa.tileID})},_n.prototype.resize=function(K,ge){this.width=K,this.height=ge,this.pixelsToGLUnits=[2/K,-2/ge],this._constrain(),this._calcMatrices()},$n.unmodified.get=function(){return this._unmodified},_n.prototype.zoomScale=function(K){return Math.pow(2,K)},_n.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},_n.prototype.project=function(K){var ge=i.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(K.lng)*this.worldSize,i.mercatorYfromLat(ge)*this.worldSize)},_n.prototype.unproject=function(K){return new i.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},$n.point.get=function(){return this.project(this.center)},_n.prototype.setLocationAtPoint=function(K,ge){var te=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(K),Ke=new i.MercatorCoordinate(Fe.x-(te.x-ye.x),Fe.y-(te.y-ye.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},_n.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},_n.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},_n.prototype.locationCoordinate=function(K){return i.MercatorCoordinate.fromLngLat(K)},_n.prototype.coordinateLocation=function(K){return K.toLngLat()},_n.prototype.pointCoordinate=function(K){var ge=0,te=[K.x,K.y,0,1],ye=[K.x,K.y,1,1];i.transformMat4(te,te,this.pixelMatrixInverse),i.transformMat4(ye,ye,this.pixelMatrixInverse);var Fe=te[3],Ke=ye[3],ut=te[0]/Fe,Ct=ye[0]/Ke,Nt=te[1]/Fe,qt=ye[1]/Ke,lr=te[2]/Fe,sr=ye[2]/Ke,Dr=lr===sr?0:(ge-lr)/(sr-lr);return new i.MercatorCoordinate(i.number(ut,Ct,Dr)/this.worldSize,i.number(Nt,qt,Dr)/this.worldSize)},_n.prototype.coordinatePoint=function(K){var ge=[K.x*this.worldSize,K.y*this.worldSize,0,1];return i.transformMat4(ge,ge,this.pixelMatrix),new i.Point(ge[0]/ge[3],ge[1]/ge[3])},_n.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},_n.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},_n.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},_n.prototype.calculatePosMatrix=function(K,ge){ge===void 0&&(ge=!1);var te=K.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[te])return ye[te];var Fe=K.canonical,Ke=this.worldSize/this.zoomScale(Fe.z),ut=Fe.x+Math.pow(2,Fe.z)*K.wrap,Ct=i.identity(new Float64Array(16));return i.translate(Ct,Ct,[ut*Ke,Fe.y*Ke,0]),i.scale(Ct,Ct,[Ke/i.EXTENT,Ke/i.EXTENT,1]),i.multiply(Ct,ge?this.alignedProjMatrix:this.projMatrix,Ct),ye[te]=new Float32Array(Ct),ye[te]},_n.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},_n.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,ge=90,te=-180,ye=180,Fe,Ke,ut,Ct,Nt=this.size,qt=this._unmodified;if(this.latRange){var lr=this.latRange;K=i.mercatorYfromLat(lr[1])*this.worldSize,ge=i.mercatorYfromLat(lr[0])*this.worldSize,Fe=ge-K<Nt.y?Nt.y/(ge-K):0}if(this.lngRange){var sr=this.lngRange;te=i.mercatorXfromLng(sr[0])*this.worldSize,ye=i.mercatorXfromLng(sr[1])*this.worldSize,Ke=ye-te<Nt.x?Nt.x/(ye-te):0}var Dr=this.point,Xr=Math.max(Ke||0,Fe||0);if(Xr){this.center=this.unproject(new i.Point(Ke?(ye+te)/2:Dr.x,Fe?(ge+K)/2:Dr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var jr=Dr.y,Gr=Nt.y/2;jr-Gr<K&&(Ct=K+Gr),jr+Gr>ge&&(Ct=ge-Gr)}if(this.lngRange){var Jr=Dr.x,vn=Nt.x/2;Jr-vn<te&&(ut=te+vn),Jr+vn>ye&&(ut=ye-vn)}(ut!==void 0||Ct!==void 0)&&(this.center=this.unproject(new i.Point(ut!==void 0?ut:Dr.x,Ct!==void 0?Ct:Dr.y))),this._unmodified=qt,this._constraining=!1}},_n.prototype._calcMatrices=function(){if(this.height){var K=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var te=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),Fe=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-te-ye,.01,Math.PI-.01)),Ke=this.point,ut=Ke.x,Ct=Ke.y,Nt=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,qt=Nt*1.01,lr=this.height/50,sr=new Float64Array(16);i.perspective(sr,this._fov,this.width/this.height,lr,qt),sr[8]=-ge.x*2/this.width,sr[9]=ge.y*2/this.height,i.scale(sr,sr,[1,-1,1]),i.translate(sr,sr,[0,0,-this.cameraToCenterDistance]),i.rotateX(sr,sr,this._pitch),i.rotateZ(sr,sr,this.angle),i.translate(sr,sr,[-ut,-Ct,0]),this.mercatorMatrix=i.scale([],sr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(sr,sr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=sr,this.invProjMatrix=i.invert([],this.projMatrix);var Dr=this.width%2/2,Xr=this.height%2/2,jr=Math.cos(this.angle),Gr=Math.sin(this.angle),Jr=ut-Math.round(ut)+jr*Dr+Gr*Xr,vn=Ct-Math.round(Ct)+jr*Xr+Gr*Dr,zn=new Float64Array(sr);if(i.translate(zn,zn,[Jr>.5?Jr-1:Jr,vn>.5?vn-1:vn,0]),this.alignedProjMatrix=zn,sr=i.create(),i.scale(sr,sr,[this.width/2,-this.height/2,1]),i.translate(sr,sr,[1,-1,0]),this.labelPlaneMatrix=sr,sr=i.create(),i.scale(sr,sr,[1,-1,1]),i.translate(sr,sr,[-1,-1,0]),i.scale(sr,sr,[2/this.width,2/this.height,1]),this.glCoordMatrix=sr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),sr=i.invert(new Float64Array(16),this.pixelMatrix),!sr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=sr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},_n.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new i.Point(0,0)),ge=[K.x*this.worldSize,K.y*this.worldSize,0,1],te=i.transformMat4(ge,ge,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},_n.prototype.getCameraPoint=function(){var K=this._pitch,ge=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,ge))},_n.prototype.getCameraQueryGeometry=function(K){var ge=this.getCameraPoint();if(K.length===1)return[K[0],ge];for(var te=ge.x,ye=ge.y,Fe=ge.x,Ke=ge.y,ut=0,Ct=K;ut<Ct.length;ut+=1){var Nt=Ct[ut];te=Math.min(te,Nt.x),ye=Math.min(ye,Nt.y),Fe=Math.max(Fe,Nt.x),Ke=Math.max(Ke,Nt.y)}return[new i.Point(te,ye),new i.Point(Fe,ye),new i.Point(Fe,Ke),new i.Point(te,Ke),new i.Point(te,ye)]},Object.defineProperties(_n.prototype,$n);function Ia(ve,K){var ge=!1,te=null,ye=function(){te=null,ge&&(ve(),te=setTimeout(ye,K),ge=!1)};return function(){return ge=!0,te||ye(),te}}var ka=function(K){this._hashName=K&&encodeURIComponent(K),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ia(this._updateHashUnthrottled.bind(this),30*1e3/100)};ka.prototype.addTo=function(K){return this._map=K,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ka.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ka.prototype.getHashString=function(K){var ge=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,ye),Ke=Math.round(ge.lng*Fe)/Fe,ut=Math.round(ge.lat*Fe)/Fe,Ct=this._map.getBearing(),Nt=this._map.getPitch(),qt="";if(K?qt+="/"+Ke+"/"+ut+"/"+te:qt+=te+"/"+ut+"/"+Ke,(Ct||Nt)&&(qt+="/"+Math.round(Ct*10)/10),Nt&&(qt+="/"+Math.round(Nt)),this._hashName){var lr=this._hashName,sr=!1,Dr=i.window.location.hash.slice(1).split("&").map(function(Xr){var jr=Xr.split("=")[0];return jr===lr?(sr=!0,jr+"="+qt):Xr}).filter(function(Xr){return Xr});return sr||Dr.push(lr+"="+qt),"#"+Dr.join("&")}return"#"+qt},ka.prototype._getCurrentHash=function(){var K=this,ge=i.window.location.hash.replace("#","");if(this._hashName){var te;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===K._hashName&&(te=ye)}),(te&&te[1]||"").split("/")}return ge.split("/")},ka.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(te){return isNaN(te)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:ge,pitch:+(K[4]||0)}),!0}return!1},ka.prototype._updateHashUnthrottled=function(){var K=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,K)}catch{}};var _a={linearity:.3,easing:i.bezier(0,0,.3,1)},Ba=i.extend({deceleration:2500,maxSpeed:1400},_a),Ja=i.extend({deceleration:20,maxSpeed:1400},_a),mi=i.extend({deceleration:1e3,maxSpeed:360},_a),ji=i.extend({deceleration:1e3,maxSpeed:90},_a),fe=function(K){this._map=K,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:K})},fe.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,ge=i.browser.now(),te=160;K.length>0&&ge-K[0].time>te;)K.shift()},fe.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},te=0,ye=this._inertiaBuffer;te<ye.length;te+=1){var Fe=ye[te],Ke=Fe.settings;ge.zoom+=Ke.zoomDelta||0,ge.bearing+=Ke.bearingDelta||0,ge.pitch+=Ke.pitchDelta||0,Ke.panDelta&&ge.pan._add(Ke.panDelta),Ke.around&&(ge.around=Ke.around),Ke.pinchAround&&(ge.pinchAround=Ke.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ut.time-this._inertiaBuffer[0].time,Nt={};if(ge.pan.mag()){var qt=Be(ge.pan.mag(),Ct,i.extend({},Ba,K||{}));Nt.offset=ge.pan.mult(qt.amount/ge.pan.mag()),Nt.center=this._map.transform.center,Le(Nt,qt)}if(ge.zoom){var lr=Be(ge.zoom,Ct,Ja);Nt.zoom=this._map.transform.zoom+lr.amount,Le(Nt,lr)}if(ge.bearing){var sr=Be(ge.bearing,Ct,mi);Nt.bearing=this._map.transform.bearing+i.clamp(sr.amount,-179,179),Le(Nt,sr)}if(ge.pitch){var Dr=Be(ge.pitch,Ct,ji);Nt.pitch=this._map.transform.pitch+Dr.amount,Le(Nt,Dr)}if(Nt.zoom||Nt.bearing){var Xr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Nt.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),i.extend(Nt,{noMoveStart:!0})}};function Le(ve,K){(!ve.duration||ve.duration<K.duration)&&(ve.duration=K.duration,ve.easing=K.easing)}function Be(ve,K,ge){var te=ge.maxSpeed,ye=ge.linearity,Fe=ge.deceleration,Ke=i.clamp(ve*ye/(K/1e3),-te,te),ut=Math.abs(Ke)/(Fe*ye);return{easing:ge.easing,duration:ut*1e3,amount:Ke*(ut/2)}}var qe=function(ve){function K(te,ye,Fe,Ke){Ke===void 0&&(Ke={});var ut=S.mousePos(ye.getCanvasContainer(),Fe),Ct=ye.unproject(ut);ve.call(this,te,i.extend({point:ut,lngLat:Ct,originalEvent:Fe},Ke)),this._defaultPrevented=!1,this.target=ye}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(i.Event),rt=function(ve){function K(te,ye,Fe){var Ke=te==="touchend"?Fe.changedTouches:Fe.touches,ut=S.touchPos(ye.getCanvasContainer(),Ke),Ct=ut.map(function(lr){return ye.unproject(lr)}),Nt=ut.reduce(function(lr,sr,Dr,Xr){return lr.add(sr.div(Xr.length))},new i.Point(0,0)),qt=ye.unproject(Nt);ve.call(this,te,{points:ut,point:Nt,lngLats:Ct,lngLat:qt,originalEvent:Fe}),this._defaultPrevented=!1}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(i.Event),ft=function(ve){function K(te,ye,Fe){ve.call(this,te,{originalEvent:Fe}),this._defaultPrevented=!1}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,ge),K}(i.Event),Pt=function(K,ge){this._map=K,this._clickTolerance=ge.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(K){return this._firePreventable(new ft(K.type,this._map,K))},Pt.prototype.mousedown=function(K,ge){return this._mousedownPos=ge,this._firePreventable(new qe(K.type,this._map,K))},Pt.prototype.mouseup=function(K){this._map.fire(new qe(K.type,this._map,K))},Pt.prototype.click=function(K,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new qe(K.type,this._map,K))},Pt.prototype.dblclick=function(K){return this._firePreventable(new qe(K.type,this._map,K))},Pt.prototype.mouseover=function(K){this._map.fire(new qe(K.type,this._map,K))},Pt.prototype.mouseout=function(K){this._map.fire(new qe(K.type,this._map,K))},Pt.prototype.touchstart=function(K){return this._firePreventable(new rt(K.type,this._map,K))},Pt.prototype.touchmove=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype.touchend=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype.touchcancel=function(K){this._map.fire(new rt(K.type,this._map,K))},Pt.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var At=function(K){this._map=K};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(K){this._map.fire(new qe(K.type,this._map,K))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new qe(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Vt=function(K,ge){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=ge.clickTolerance||1};Vt.prototype.isEnabled=function(){return!!this._enabled},Vt.prototype.isActive=function(){return!!this._active},Vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Vt.prototype.mousedown=function(K,ge){this.isEnabled()&&K.shiftKey&&K.button===0&&(S.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},Vt.prototype.mousemoveWindow=function(K,ge){if(this._active){var te=ge;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=te,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var Fe=Math.min(ye.x,te.x),Ke=Math.max(ye.x,te.x),ut=Math.min(ye.y,te.y),Ct=Math.max(ye.y,te.y);S.setTransform(this._box,"translate("+Fe+"px,"+ut+"px)"),this._box.style.width=Ke-Fe+"px",this._box.style.height=Ct-ut+"px"}}},Vt.prototype.mouseupWindow=function(K,ge){var te=this;if(this._active&&K.button===0){var ye=this._startPos,Fe=ge;if(this.reset(),S.suppressClick(),ye.x===Fe.x&&ye.y===Fe.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(ye,Fe,te._map.getBearing(),{linear:!0})}}}},Vt.prototype.keydown=function(K){this._active&&K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Vt.prototype._fireEvent=function(K,ge){return this._map.fire(new i.Event(K,{originalEvent:ge}))};function Gt(ve,K){for(var ge={},te=0;te<ve.length;te++)ge[ve[te].identifier]=K[te];return ge}function rr(ve){for(var K=new i.Point(0,0),ge=0,te=ve;ge<te.length;ge+=1){var ye=te[ge];K._add(ye)}return K.div(ve.length)}var Cr=500,Lr=500,Qr=30,ln=function(K){this.reset(),this.numTouches=K.numTouches};ln.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ln.prototype.touchstart=function(K,ge,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),te.length===this.numTouches&&(this.centroid=rr(ge),this.touches=Gt(te,ge)))},ln.prototype.touchmove=function(K,ge,te){if(!(this.aborted||!this.centroid)){var ye=Gt(te,ge);for(var Fe in this.touches){var Ke=this.touches[Fe],ut=ye[Fe];(!ut||ut.dist(Ke)>Qr)&&(this.aborted=!0)}}},ln.prototype.touchend=function(K,ge,te){if((!this.centroid||K.timeStamp-this.startTime>Lr)&&(this.aborted=!0),te.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var Rr=function(K){this.singleTap=new ln(K),this.numTaps=K.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function(K,ge,te){this.singleTap.touchstart(K,ge,te)},Rr.prototype.touchmove=function(K,ge,te){this.singleTap.touchmove(K,ge,te)},Rr.prototype.touchend=function(K,ge,te){var ye=this.singleTap.touchend(K,ge,te);if(ye){var Fe=K.timeStamp-this.lastTime<Cr,Ke=!this.lastTap||this.lastTap.dist(ye)<Qr;if((!Fe||!Ke)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Ur=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Ur.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ur.prototype.touchstart=function(K,ge,te){this._zoomIn.touchstart(K,ge,te),this._zoomOut.touchstart(K,ge,te)},Ur.prototype.touchmove=function(K,ge,te){this._zoomIn.touchmove(K,ge,te),this._zoomOut.touchmove(K,ge,te)},Ur.prototype.touchend=function(K,ge,te){var ye=this,Fe=this._zoomIn.touchend(K,ge,te),Ke=this._zoomOut.touchend(K,ge,te);if(Fe)return this._active=!0,K.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(Fe)},{originalEvent:K})}};if(Ke)return this._active=!0,K.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Ke)},{originalEvent:K})}}},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Kr=0,cn=2,pn={};pn[Kr]=1,pn[cn]=2;function tn(ve,K){var ge=pn[K];return ve.buttons===void 0||(ve.buttons&ge)!==ge}var Gn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Gn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gn.prototype._correctButton=function(K,ge){return!1},Gn.prototype._move=function(K,ge){return{}},Gn.prototype.mousedown=function(K,ge){if(!this._lastPoint){var te=S.mouseButton(K);this._correctButton(K,te)&&(this._lastPoint=ge,this._eventButton=te)}},Gn.prototype.mousemoveWindow=function(K,ge){var te=this._lastPoint;if(te){if(K.preventDefault(),tn(K,this._eventButton)){this.reset();return}if(!(!this._moved&&ge.dist(te)<this._clickTolerance))return this._moved=!0,this._lastPoint=ge,this._move(te,ge)}},Gn.prototype.mouseupWindow=function(K){if(this._lastPoint){var ge=S.mouseButton(K);ge===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Gn.prototype.enable=function(){this._enabled=!0},Gn.prototype.disable=function(){this._enabled=!1,this.reset()},Gn.prototype.isEnabled=function(){return this._enabled},Gn.prototype.isActive=function(){return this._active};var na=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(te,ye){ve.prototype.mousedown.call(this,te,ye),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(te,ye){return ye===Kr&&!te.ctrlKey},K.prototype._move=function(te,ye){return{around:ye,panDelta:ye.sub(te)}},K}(Gn),ca=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(te,ye){return ye===Kr&&te.ctrlKey||ye===cn},K.prototype._move=function(te,ye){var Fe=.8,Ke=(ye.x-te.x)*Fe;if(Ke)return this._active=!0,{bearingDelta:Ke}},K.prototype.contextmenu=function(te){te.preventDefault()},K}(Gn),ta=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(te,ye){return ye===Kr&&te.ctrlKey||ye===cn},K.prototype._move=function(te,ye){var Fe=-.5,Ke=(ye.y-te.y)*Fe;if(Ke)return this._active=!0,{pitchDelta:Ke}},K.prototype.contextmenu=function(te){te.preventDefault()},K}(Gn),sa=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},sa.prototype.touchstart=function(K,ge,te){return this._calculateTransform(K,ge,te)},sa.prototype.touchmove=function(K,ge,te){if(!(!this._active||te.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,ge,te)},sa.prototype.touchend=function(K,ge,te){this._calculateTransform(K,ge,te),this._active&&te.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(K,ge,te){te.length>0&&(this._active=!0);var ye=Gt(te,ge),Fe=new i.Point(0,0),Ke=new i.Point(0,0),ut=0;for(var Ct in ye){var Nt=ye[Ct],qt=this._touches[Ct];qt&&(Fe._add(Nt),Ke._add(Nt.sub(qt)),ut++,ye[Ct]=Nt)}if(this._touches=ye,!(ut<this._minTouches||!Ke.mag())){var lr=Ke.div(ut);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var sr=Fe.div(ut);return{around:sr,panDelta:lr}}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var ha=function(){this.reset()};ha.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ha.prototype._start=function(K){},ha.prototype._move=function(K,ge,te){return{}},ha.prototype.touchstart=function(K,ge,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([ge[0],ge[1]]))},ha.prototype.touchmove=function(K,ge,te){if(this._firstTwoTouches){K.preventDefault();var ye=this._firstTwoTouches,Fe=ye[0],Ke=ye[1],ut=Ua(te,ge,Fe),Ct=Ua(te,ge,Ke);if(!(!ut||!Ct)){var Nt=this._aroundCenter?null:ut.add(Ct).div(2);return this._move([ut,Ct],Nt,K)}}},ha.prototype.touchend=function(K,ge,te){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Fe=ye[0],Ke=ye[1],ut=Ua(te,ge,Fe),Ct=Ua(te,ge,Ke);ut&&Ct||(this._active&&S.suppressClick(),this.reset())}},ha.prototype.touchcancel=function(){this.reset()},ha.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};function Ua(ve,K,ge){for(var te=0;te<ve.length;te++)if(ve[te].identifier===ge)return K[te]}var Ca=.1;function Oa(ve,K){return Math.log(ve/K)/Math.LN2}var li=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},K.prototype._move=function(te,ye){var Fe=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(Oa(this._distance,this._startDistance))<Ca))return this._active=!0,{zoomDelta:Oa(this._distance,Fe),pinchAround:ye}},K}(ha),Ki=25;function di(ve,K){return ve.angleWith(K)*180/Math.PI}var ea=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},K.prototype._move=function(te,ye){var Fe=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:di(this._vector,Fe),pinchAround:ye}},K.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var ye=Math.PI*this._minDiameter,Fe=Ki/ye*360,Ke=di(te,this._startVector);return Math.abs(Ke)<Fe},K}(ha);function Ga(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Ma=100,Qa=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(te){this._lastPoints=te,Ga(te[0].sub(te[1]))&&(this._valid=!1)},K.prototype._move=function(te,ye,Fe){var Ke=te[0].sub(this._lastPoints[0]),ut=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,ut,Fe.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Ct=(Ke.y+ut.y)/2,Nt=-.5;return{pitchDelta:Ct*Nt}}},K.prototype.gestureBeginsVertically=function(te,ye,Fe){if(this._valid!==void 0)return this._valid;var Ke=2,ut=te.mag()>=Ke,Ct=ye.mag()>=Ke;if(!(!ut&&!Ct)){if(!ut||!Ct)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<Ma?void 0:!1;var Nt=te.y>0==ye.y>0;return Ga(te)&&Ga(ye)&&Nt}},K}(ha),Li={panStep:100,bearingStep:15,pitchStep:10},ui=function(){var K=Li;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};ui.prototype.reset=function(){this._active=!1},ui.prototype.keydown=function(K){var ge=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var te=0,ye=0,Fe=0,Ke=0,ut=0;switch(K.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:K.shiftKey?ye=-1:(K.preventDefault(),Ke=-1);break;case 39:K.shiftKey?ye=1:(K.preventDefault(),Ke=1);break;case 38:K.shiftKey?Fe=1:(K.preventDefault(),ut=-1);break;case 40:K.shiftKey?Fe=-1:(K.preventDefault(),ut=1);break;default:return}return this._rotationDisabled&&(ye=0,Fe=0),{cameraAnimation:function(Ct){var Nt=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:fo,zoom:te?Math.round(Nt)+te*(K.shiftKey?2:1):Nt,bearing:Ct.getBearing()+ye*ge._bearingStep,pitch:Ct.getPitch()+Fe*ge._pitchStep,offset:[-Ke*ge._panStep,-ut*ge._panStep],center:Ct.getCenter()},{originalEvent:K})}}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active},ui.prototype.disableRotation=function(){this._rotationDisabled=!0},ui.prototype.enableRotation=function(){this._rotationDisabled=!1};function fo(ve){return ve*(2-ve)}var co=4.000244140625,mo=1/100,Pi=1/450,Po=2,ua=function(K,ge){this._map=K,this._el=K.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=mo,this._wheelZoomRate=Pi,i.bindAll(["_onTimeout"],this)};ua.prototype.setZoomRate=function(K){this._defaultZoomRate=K},ua.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},ua.prototype.isEnabled=function(){return!!this._enabled},ua.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ua.prototype.isZooming=function(){return!!this._zooming},ua.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},ua.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ua.prototype.wheel=function(K){if(this.isEnabled()){var ge=K.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,te=i.browser.now(),ye=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,ge!==0&&ge%co===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),K.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=K,this._delta-=ge,this._active||this._start(K)),K.preventDefault()}},ua.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},ua.prototype._start=function(K){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=S.mousePos(this._el,K);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ua.prototype.renderFrame=function(){var K=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>co?this._wheelZoomRate:this._defaultZoomRate,ye=Po/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&ye!==0&&(ye=1/ye);var Fe=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(Fe*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,ut=this._startZoom,Ct=this._easing,Nt=!1,qt;if(this._type==="wheel"&&ut&&Ct){var lr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),sr=Ct(lr);qt=i.number(ut,Ke,sr),lr<1?this._frameId||(this._frameId=!0):Nt=!0}else qt=Ke,Nt=!0;return this._active=!0,Nt&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Nt,zoomDelta:qt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ua.prototype._smoothOutEasing=function(K){var ge=i.ease;if(this._prevEase){var te=this._prevEase,ye=(i.browser.now()-te.start)/te.duration,Fe=te.easing(ye+.01)-te.easing(ye),Ke=.27/Math.sqrt(Fe*Fe+1e-4)*.01,ut=Math.sqrt(.27*.27-Ke*Ke);ge=i.bezier(Ke,ut,.25,1)}return this._prevEase={start:i.browser.now(),duration:K,easing:ge},ge},ua.prototype.reset=function(){this._active=!1};var Pa=function(K,ge){this._clickZoom=K,this._tapZoom=ge};Pa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Pa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Pa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Pa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Zo=function(){this.reset()};Zo.prototype.reset=function(){this._active=!1},Zo.prototype.dblclick=function(K,ge){return K.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(K.shiftKey?-1:1),around:te.unproject(ge)},{originalEvent:K})}}},Zo.prototype.enable=function(){this._enabled=!0},Zo.prototype.disable=function(){this._enabled=!1,this.reset()},Zo.prototype.isEnabled=function(){return this._enabled},Zo.prototype.isActive=function(){return this._active};var ts=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};ts.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ts.prototype.touchstart=function(K,ge,te){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=ge[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(K,ge,te))},ts.prototype.touchmove=function(K,ge,te){if(!this._tapTime)this._tap.touchmove(K,ge,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var ye=ge[0],Fe=ye.y-this._swipePoint.y;return this._swipePoint=ye,K.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},ts.prototype.touchend=function(K,ge,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var ye=this._tap.touchend(K,ge,te);ye&&(this._tapTime=K.timeStamp)}},ts.prototype.touchcancel=function(){this.reset()},ts.prototype.enable=function(){this._enabled=!0},ts.prototype.disable=function(){this._enabled=!1,this.reset()},ts.prototype.isEnabled=function(){return this._enabled},ts.prototype.isActive=function(){return this._active};var xo=function(K,ge,te){this._el=K,this._mousePan=ge,this._touchPan=te};xo.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},xo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},xo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},xo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var gi=function(K,ge,te){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=te};gi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},gi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},gi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},gi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ro=function(K,ge,te,ye){this._el=K,this._touchZoom=ge,this._touchRotate=te,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};ro.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ro.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ro.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ro.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ro.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ro.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var $i=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},_s=function(ve){function K(){ve.apply(this,arguments)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K}(i.Event);function qs(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Fi=function(K,ge){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(K),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),i.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!0}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ye=0,Fe=this._listeners;ye<Fe.length;ye+=1){var Ke=Fe[ye],ut=Ke[0],Ct=Ke[1],Nt=Ke[2];S.addEventListener(ut,Ct,ut===i.window.document?this.handleWindowEvent:this.handleEvent,Nt)}};Fi.prototype.destroy=function(){for(var K=0,ge=this._listeners;K<ge.length;K+=1){var te=ge[K],ye=te[0],Fe=te[1],Ke=te[2];S.removeEventListener(ye,Fe,ye===i.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},Fi.prototype._addDefaultHandlers=function(K){var ge=this._map,te=ge.getCanvasContainer();this._add("mapEvent",new Pt(ge,K));var ye=ge.boxZoom=new Vt(ge,K);this._add("boxZoom",ye);var Fe=new Ur,Ke=new Zo;ge.doubleClickZoom=new Pa(Ke,Fe),this._add("tapZoom",Fe),this._add("clickZoom",Ke);var ut=new ts;this._add("tapDragZoom",ut);var Ct=ge.touchPitch=new Qa;this._add("touchPitch",Ct);var Nt=new ca(K),qt=new ta(K);ge.dragRotate=new gi(K,Nt,qt),this._add("mouseRotate",Nt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var lr=new na(K),sr=new sa(K);ge.dragPan=new xo(te,lr,sr),this._add("mousePan",lr),this._add("touchPan",sr,["touchZoom","touchRotate"]);var Dr=new ea,Xr=new li;ge.touchZoomRotate=new ro(te,Xr,Dr,ut),this._add("touchRotate",Dr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var jr=ge.scrollZoom=new ua(ge,this);this._add("scrollZoom",jr,["mousePan"]);var Gr=ge.keyboard=new ui;this._add("keyboard",Gr),this._add("blockableMapEvent",new At(ge));for(var Jr=0,vn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<vn.length;Jr+=1){var zn=vn[Jr];K.interactive&&K[zn]&&ge[zn].enable(K[zn])}},Fi.prototype._add=function(K,ge,te){this._handlers.push({handlerName:K,handler:ge,allowed:te}),this._handlersById[K]=ge},Fi.prototype.stop=function(K){if(!this._updatingCamera){for(var ge=0,te=this._handlers;ge<te.length;ge+=1){var ye=te[ge],Fe=ye.handler;Fe.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},Fi.prototype.isActive=function(){for(var K=0,ge=this._handlers;K<ge.length;K+=1){var te=ge[K],ye=te.handler;if(ye.isActive())return!0}return!1},Fi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Fi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Fi.prototype.isMoving=function(){return!!$i(this._eventsInProgress)||this.isZooming()},Fi.prototype._blockedByActive=function(K,ge,te){for(var ye in K)if(ye!==te&&(!ge||ge.indexOf(ye)<0))return!0;return!1},Fi.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},Fi.prototype._getMapTouches=function(K){for(var ge=[],te=0,ye=K;te<ye.length;te+=1){var Fe=ye[te],Ke=Fe.target;this._el.contains(Ke)&&ge.push(Fe)}return ge},Fi.prototype.handleEvent=function(K,ge){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var te=K.type==="renderFrame"?void 0:K,ye={needsRenderFrame:!1},Fe={},Ke={},ut=K.touches?this._getMapTouches(K.touches):void 0,Ct=ut?S.touchPos(this._el,ut):S.mousePos(this._el,K),Nt=0,qt=this._handlers;Nt<qt.length;Nt+=1){var lr=qt[Nt],sr=lr.handlerName,Dr=lr.handler,Xr=lr.allowed;if(Dr.isEnabled()){var jr=void 0;this._blockedByActive(Ke,Xr,sr)?Dr.reset():Dr[ge||K.type]&&(jr=Dr[ge||K.type](K,Ct,ut),this.mergeHandlerResult(ye,Fe,jr,sr,te),jr&&jr.needsRenderFrame&&this._triggerRenderFrame()),(jr||Dr.isActive())&&(Ke[sr]=Dr)}}var Gr={};for(var Jr in this._previousActiveHandlers)Ke[Jr]||(Gr[Jr]=te);this._previousActiveHandlers=Ke,(Object.keys(Gr).length||qs(ye))&&(this._changes.push([ye,Fe,Gr]),this._triggerRenderFrame()),(Object.keys(Ke).length||qs(ye))&&this._map._stop(!0),this._updatingCamera=!1;var vn=ye.cameraAnimation;vn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],vn(this._map))},Fi.prototype.mergeHandlerResult=function(K,ge,te,ye,Fe){if(te){i.extend(K,te);var Ke={handlerName:ye,originalEvent:te.originalEvent||Fe};te.zoomDelta!==void 0&&(ge.zoom=Ke),te.panDelta!==void 0&&(ge.drag=Ke),te.pitchDelta!==void 0&&(ge.pitch=Ke),te.bearingDelta!==void 0&&(ge.rotate=Ke)}},Fi.prototype._applyChanges=function(){for(var K={},ge={},te={},ye=0,Fe=this._changes;ye<Fe.length;ye+=1){var Ke=Fe[ye],ut=Ke[0],Ct=Ke[1],Nt=Ke[2];ut.panDelta&&(K.panDelta=(K.panDelta||new i.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(K.around=ut.around),ut.pinchAround!==void 0&&(K.pinchAround=ut.pinchAround),ut.noInertia&&(K.noInertia=ut.noInertia),i.extend(ge,Ct),i.extend(te,Nt)}this._updateMapTransform(K,ge,te),this._changes=[]},Fi.prototype._updateMapTransform=function(K,ge,te){var ye=this._map,Fe=ye.transform;if(!qs(K))return this._fireEvents(ge,te,!0);var Ke=K.panDelta,ut=K.zoomDelta,Ct=K.bearingDelta,Nt=K.pitchDelta,qt=K.around,lr=K.pinchAround;lr!==void 0&&(qt=lr),ye._stop(!0),qt=qt||ye.transform.centerPoint;var sr=Fe.pointLocation(Ke?qt.sub(Ke):qt);Ct&&(Fe.bearing+=Ct),Nt&&(Fe.pitch+=Nt),ut&&(Fe.zoom+=ut),Fe.setLocationAtPoint(sr,qt),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(ge,te,!0)},Fi.prototype._fireEvents=function(K,ge,te){var ye=this,Fe=$i(this._eventsInProgress),Ke=$i(K),ut={};for(var Ct in K){var Nt=K[Ct],qt=Nt.originalEvent;this._eventsInProgress[Ct]||(ut[Ct+"start"]=qt),this._eventsInProgress[Ct]=K[Ct]}!Fe&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var lr in ut)this._fireEvent(lr,ut[lr]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var sr in K){var Dr=K[sr],Xr=Dr.originalEvent;this._fireEvent(sr,Xr)}var jr={},Gr;for(var Jr in this._eventsInProgress){var vn=this._eventsInProgress[Jr],zn=vn.handlerName,Vn=vn.originalEvent;this._handlersById[zn].isActive()||(delete this._eventsInProgress[Jr],Gr=ge[zn]||Vn,jr[Jr+"end"]=Gr)}for(var Zn in jr)this._fireEvent(Zn,jr[Zn]);var Kn=$i(this._eventsInProgress);if(te&&(Fe||Ke)&&!Kn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jn=function(aa){return aa!==0&&-ye._bearingSnap<aa&&aa<ye._bearingSnap};jn?(Jn(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:Gr})):(this._map.fire(new i.Event("moveend",{originalEvent:Gr})),Jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Fi.prototype._fireEvent=function(K,ge){this._map.fire(new i.Event(K,ge?{originalEvent:ge}:{}))},Fi.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ge){delete K._frameId,K.handleEvent(new _s("renderFrame",{timeStamp:ge})),K._applyChanges()})},Fi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var xu=function(ve){function K(ge,te){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=te.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(te,ye){return this.jumpTo({center:te},ye)},K.prototype.panBy=function(te,ye,Fe){return te=i.Point.convert(te).mult(-1),this.panTo(this.transform.center,i.extend({offset:te},ye),Fe)},K.prototype.panTo=function(te,ye,Fe){return this.easeTo(i.extend({center:te},ye),Fe)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(te,ye){return this.jumpTo({zoom:te},ye),this},K.prototype.zoomTo=function(te,ye,Fe){return this.easeTo(i.extend({zoom:te},ye),Fe)},K.prototype.zoomIn=function(te,ye){return this.zoomTo(this.getZoom()+1,te,ye),this},K.prototype.zoomOut=function(te,ye){return this.zoomTo(this.getZoom()-1,te,ye),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(te,ye){return this.jumpTo({bearing:te},ye),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(te,ye){return this.jumpTo({padding:te},ye),this},K.prototype.rotateTo=function(te,ye,Fe){return this.easeTo(i.extend({bearing:te},ye),Fe)},K.prototype.resetNorth=function(te,ye){return this.rotateTo(0,i.extend({duration:1e3},te),ye),this},K.prototype.resetNorthPitch=function(te,ye){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},te),ye),this},K.prototype.snapToNorth=function(te,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,ye):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(te,ye){return this.jumpTo({pitch:te},ye),this},K.prototype.cameraForBounds=function(te,ye){te=i.LngLatBounds.convert(te);var Fe=ye&&ye.bearing||0;return this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),Fe,ye)},K.prototype._cameraForBoxAndBearing=function(te,ye,Fe,Ke){var ut={top:0,bottom:0,right:0,left:0};if(Ke=i.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var Ct=Ke.padding;Ke.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Ke.padding=i.extend(ut,Ke.padding);var Nt=this.transform,qt=Nt.padding,lr=Nt.project(i.LngLat.convert(te)),sr=Nt.project(i.LngLat.convert(ye)),Dr=lr.rotate(-Fe*Math.PI/180),Xr=sr.rotate(-Fe*Math.PI/180),jr=new i.Point(Math.max(Dr.x,Xr.x),Math.max(Dr.y,Xr.y)),Gr=new i.Point(Math.min(Dr.x,Xr.x),Math.min(Dr.y,Xr.y)),Jr=jr.sub(Gr),vn=(Nt.width-(qt.left+qt.right+Ke.padding.left+Ke.padding.right))/Jr.x,zn=(Nt.height-(qt.top+qt.bottom+Ke.padding.top+Ke.padding.bottom))/Jr.y;if(zn<0||vn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Vn=Math.min(Nt.scaleZoom(Nt.scale*Math.min(vn,zn)),Ke.maxZoom),Zn=typeof Ke.offset.x=="number"?new i.Point(Ke.offset.x,Ke.offset.y):i.Point.convert(Ke.offset),Kn=(Ke.padding.left-Ke.padding.right)/2,jn=(Ke.padding.top-Ke.padding.bottom)/2,Jn=new i.Point(Kn,jn),aa=Jn.rotate(Fe*Math.PI/180),fa=Zn.add(aa),ba=fa.mult(Nt.scale/Nt.zoomScale(Vn)),pa=Nt.unproject(lr.add(sr).div(2).sub(ba));return{center:pa,zoom:Vn,bearing:Fe}},K.prototype.fitBounds=function(te,ye,Fe){return this._fitInternal(this.cameraForBounds(te,ye),ye,Fe)},K.prototype.fitScreenCoordinates=function(te,ye,Fe,Ke,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(te)),this.transform.pointLocation(i.Point.convert(ye)),Fe,Ke),Ke,ut)},K.prototype._fitInternal=function(te,ye,Fe){return te?(ye=i.extend(te,ye),delete ye.padding,ye.linear?this.easeTo(ye,Fe):this.flyTo(ye,Fe)):this},K.prototype.jumpTo=function(te,ye){this.stop();var Fe=this.transform,Ke=!1,ut=!1,Ct=!1;return"zoom"in te&&Fe.zoom!==+te.zoom&&(Ke=!0,Fe.zoom=+te.zoom),te.center!==void 0&&(Fe.center=i.LngLat.convert(te.center)),"bearing"in te&&Fe.bearing!==+te.bearing&&(ut=!0,Fe.bearing=+te.bearing),"pitch"in te&&Fe.pitch!==+te.pitch&&(Ct=!0,Fe.pitch=+te.pitch),te.padding!=null&&!Fe.isPaddingEqual(te.padding)&&(Fe.padding=te.padding),this.fire(new i.Event("movestart",ye)).fire(new i.Event("move",ye)),Ke&&this.fire(new i.Event("zoomstart",ye)).fire(new i.Event("zoom",ye)).fire(new i.Event("zoomend",ye)),ut&&this.fire(new i.Event("rotatestart",ye)).fire(new i.Event("rotate",ye)).fire(new i.Event("rotateend",ye)),Ct&&this.fire(new i.Event("pitchstart",ye)).fire(new i.Event("pitch",ye)).fire(new i.Event("pitchend",ye)),this.fire(new i.Event("moveend",ye))},K.prototype.easeTo=function(te,ye){var Fe=this;this._stop(!1,te.easeId),te=i.extend({offset:[0,0],duration:500,easing:i.ease},te),(te.animate===!1||!te.essential&&i.browser.prefersReducedMotion)&&(te.duration=0);var Ke=this.transform,ut=this.getZoom(),Ct=this.getBearing(),Nt=this.getPitch(),qt=this.getPadding(),lr="zoom"in te?+te.zoom:ut,sr="bearing"in te?this._normalizeBearing(te.bearing,Ct):Ct,Dr="pitch"in te?+te.pitch:Nt,Xr="padding"in te?te.padding:Ke.padding,jr=i.Point.convert(te.offset),Gr=Ke.centerPoint.add(jr),Jr=Ke.pointLocation(Gr),vn=i.LngLat.convert(te.center||Jr);this._normalizeCenter(vn);var zn=Ke.project(Jr),Vn=Ke.project(vn).sub(zn),Zn=Ke.zoomScale(lr-ut),Kn,jn;te.around&&(Kn=i.LngLat.convert(te.around),jn=Ke.locationPoint(Kn));var Jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ut,this._rotating=this._rotating||Ct!==sr,this._pitching=this._pitching||Dr!==Nt,this._padding=!Ke.isPaddingEqual(Xr),this._easeId=te.easeId,this._prepareEase(ye,te.noMoveStart,Jn),this._ease(function(aa){if(Fe._zooming&&(Ke.zoom=i.number(ut,lr,aa)),Fe._rotating&&(Ke.bearing=i.number(Ct,sr,aa)),Fe._pitching&&(Ke.pitch=i.number(Nt,Dr,aa)),Fe._padding&&(Ke.interpolatePadding(qt,Xr,aa),Gr=Ke.centerPoint.add(jr)),Kn)Ke.setLocationAtPoint(Kn,jn);else{var fa=Ke.zoomScale(Ke.zoom-ut),ba=lr>ut?Math.min(2,Zn):Math.max(.5,Zn),pa=Math.pow(ba,1-aa),Fa=Ke.unproject(zn.add(Vn.mult(aa*pa)).mult(fa));Ke.setLocationAtPoint(Ke.renderWorldCopies?Fa.wrap():Fa,Gr)}Fe._fireMoveEvents(ye)},function(aa){Fe._afterEase(ye,aa)},te),this},K.prototype._prepareEase=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!ye&&!Fe.moving&&this.fire(new i.Event("movestart",te)),this._zooming&&!Fe.zooming&&this.fire(new i.Event("zoomstart",te)),this._rotating&&!Fe.rotating&&this.fire(new i.Event("rotatestart",te)),this._pitching&&!Fe.pitching&&this.fire(new i.Event("pitchstart",te))},K.prototype._fireMoveEvents=function(te){this.fire(new i.Event("move",te)),this._zooming&&this.fire(new i.Event("zoom",te)),this._rotating&&this.fire(new i.Event("rotate",te)),this._pitching&&this.fire(new i.Event("pitch",te))},K.prototype._afterEase=function(te,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Fe=this._zooming,Ke=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new i.Event("zoomend",te)),Ke&&this.fire(new i.Event("rotateend",te)),ut&&this.fire(new i.Event("pitchend",te)),this.fire(new i.Event("moveend",te))}},K.prototype.flyTo=function(te,ye){var Fe=this;if(!te.essential&&i.browser.prefersReducedMotion){var Ke=i.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,ye)}this.stop(),te=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},te);var ut=this.transform,Ct=this.getZoom(),Nt=this.getBearing(),qt=this.getPitch(),lr=this.getPadding(),sr="zoom"in te?i.clamp(+te.zoom,ut.minZoom,ut.maxZoom):Ct,Dr="bearing"in te?this._normalizeBearing(te.bearing,Nt):Nt,Xr="pitch"in te?+te.pitch:qt,jr="padding"in te?te.padding:ut.padding,Gr=ut.zoomScale(sr-Ct),Jr=i.Point.convert(te.offset),vn=ut.centerPoint.add(Jr),zn=ut.pointLocation(vn),Vn=i.LngLat.convert(te.center||zn);this._normalizeCenter(Vn);var Zn=ut.project(zn),Kn=ut.project(Vn).sub(Zn),jn=te.curve,Jn=Math.max(ut.width,ut.height),aa=Jn/Gr,fa=Kn.mag();if("minZoom"in te){var ba=i.clamp(Math.min(te.minZoom,Ct,sr),ut.minZoom,ut.maxZoom),pa=Jn/ut.zoomScale(ba-Ct);jn=Math.sqrt(pa/fa*2)}var Fa=jn*jn;function ri(Ya){var ni=(aa*aa-Jn*Jn+(Ya?-1:1)*Fa*Fa*fa*fa)/(2*(Ya?aa:Jn)*Fa*fa);return Math.log(Math.sqrt(ni*ni+1)-ni)}function Ka(Ya){return(Math.exp(Ya)-Math.exp(-Ya))/2}function Ea(Ya){return(Math.exp(Ya)+Math.exp(-Ya))/2}function $a(Ya){return Ka(Ya)/Ea(Ya)}var Wa=ri(0),fi=function(Ya){return Ea(Wa)/Ea(Wa+jn*Ya)},ii=function(Ya){return Jn*((Ea(Wa)*$a(Wa+jn*Ya)-Ka(Wa))/Fa)/fa},Ii=(ri(1)-Wa)/jn;if(Math.abs(fa)<1e-6||!isFinite(Ii)){if(Math.abs(Jn-aa)<1e-6)return this.easeTo(te,ye);var ti=aa<Jn?-1:1;Ii=Math.abs(Math.log(aa/Jn))/jn,ii=function(){return 0},fi=function(Ya){return Math.exp(ti*jn*Ya)}}if("duration"in te)te.duration=+te.duration;else{var Si="screenSpeed"in te?+te.screenSpeed/jn:+te.speed;te.duration=1e3*Ii/Si}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Nt!==Dr,this._pitching=Xr!==qt,this._padding=!ut.isPaddingEqual(jr),this._prepareEase(ye,!1),this._ease(function(Ya){var ni=Ya*Ii,Ji=1/fi(ni);ut.zoom=Ya===1?sr:Ct+ut.scaleZoom(Ji),Fe._rotating&&(ut.bearing=i.number(Nt,Dr,Ya)),Fe._pitching&&(ut.pitch=i.number(qt,Xr,Ya)),Fe._padding&&(ut.interpolatePadding(lr,jr,Ya),vn=ut.centerPoint.add(Jr));var Ro=Ya===1?Vn:ut.unproject(Zn.add(Kn.mult(ii(ni))).mult(Ji));ut.setLocationAtPoint(ut.renderWorldCopies?Ro.wrap():Ro,vn),Fe._fireMoveEvents(ye)},function(){return Fe._afterEase(ye)},te),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(te,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,ye)}if(!te){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},K.prototype._ease=function(te,ye,Fe){Fe.animate===!1||Fe.duration===0?(te(1),ye()):(this._easeStart=i.browser.now(),this._easeOptions=Fe,this._onEaseFrame=te,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var te=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(te,ye){te=i.wrap(te,-180,180);var Fe=Math.abs(te-ye);return Math.abs(te-360-ye)<Fe&&(te-=360),Math.abs(te+360-ye)<Fe&&(te+=360),te},K.prototype._normalizeCenter=function(te){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Fe=te.lng-ye.center.lng;te.lng+=Fe>180?-360:Fe<-180?360:0}},K}(i.Evented),qa=function(K){K===void 0&&(K={}),this.options=K,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};qa.prototype.getDefaultPosition=function(){return"bottom-right"},qa.prototype.onAdd=function(K){var ge=this.options&&this.options.compact;return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},qa.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},qa.prototype._setElementTitle=function(K,ge){var te=this._map._getUIString("AttributionControl."+ge);K.title=te,K.setAttribute("aria-label",te)},qa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},qa.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(K){var te=ge.reduce(function(ye,Fe,Ke){return Fe.value&&(ye+=Fe.key+"="+Fe.value+(Ke<ge.length-1?"&":"")),ye},"?");K.href=i.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},qa.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},qa.prototype._updateAttributions=function(){if(this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var te=this._map.style.sourceCaches;for(var ye in te){var Fe=te[ye];if(Fe.used){var Ke=Fe.getSource();Ke.attribution&&K.indexOf(Ke.attribution)<0&&K.push(Ke.attribution)}}K.sort(function(Ct,Nt){return Ct.length-Nt.length}),K=K.filter(function(Ct,Nt){for(var qt=Nt+1;qt<K.length;qt++)if(K[qt].indexOf(Ct)>=0)return!1;return!0});var ut=K.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,K.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},qa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Bi=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Bi.prototype.onAdd=function(K){this._map=K,this._container=S.create("div","mapboxgl-ctrl");var ge=S.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Bi.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Bi.prototype.getDefaultPosition=function(){return"bottom-left"},Bi.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Bi.prototype._logoRequired=function(){if(this._map.style){var K=this._map.style.sourceCaches;for(var ge in K){var te=K[ge].getSource();if(te.mapbox_logo)return!0}return!1}},Bi.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var ge=K[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var iv=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};iv.prototype.add=function(K){var ge=++this._id,te=this._queue;return te.push({callback:K,id:ge,cancelled:!1}),ge},iv.prototype.remove=function(K){for(var ge=this._currentlyRunning,te=ge?this._queue.concat(ge):this._queue,ye=0,Fe=te;ye<Fe.length;ye+=1){var Ke=Fe[ye];if(Ke.id===K){Ke.cancelled=!0;return}}},iv.prototype.run=function(K){K===void 0&&(K=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,ye=ge;te<ye.length;te+=1){var Fe=ye[te];if(!Fe.cancelled&&(Fe.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},iv.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var V0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},yc=i.window.HTMLImageElement,tp=i.window.HTMLElement,zf=i.window.ImageBitmap,ah=-2,ih=22,xs=0,Of=60,rp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:ah,maxZoom:ih,minPitch:xs,maxPitch:Of,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},np=function(ve){function K(te){var ye=this;if(te=i.extend({},rp,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<xs)throw new Error("minPitch must be greater than or equal to "+xs);if(te.maxPitch!=null&&te.maxPitch>Of)throw new Error("maxPitch must be less than or equal to "+Of);var Fe=new _n(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(ve.call(this,Fe,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new iv,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},V0,te.locale),this._clickTolerance=te.clickTolerance,this._requestManager=new i.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=i.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof tp)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Fi(this,te);var Ke=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new ka(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,i.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new qa({customAttribution:te.customAttribution})),this.addControl(new Bi,te.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ut){ye._update(ut.dataType==="style"),ye.fire(new i.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){ye.fire(new i.Event(ut.dataType+"dataloading",ut))})}ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(ye,Fe){if(Fe===void 0&&(ye.getDefaultPosition?Fe=ye.getDefaultPosition():Fe="top-right"),!ye||!ye.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=ye.onAdd(this);this._controls.push(ye);var ut=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?ut.insertBefore(Ke,ut.firstChild):ut.appendChild(Ke),this},K.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(ye);return Fe>-1&&this._controls.splice(Fe,1),ye.onRemove(this),this},K.prototype.hasControl=function(ye){return this._controls.indexOf(ye)>-1},K.prototype.resize=function(ye){var Fe=this._containerDimensions(),Ke=Fe[0],ut=Fe[1];this._resizeCanvas(Ke,ut),this.transform.resize(Ke,ut),this.painter.resize(Ke,ut);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new i.Event("movestart",ye)).fire(new i.Event("move",ye))),this.fire(new i.Event("resize",ye)),Ct&&this.fire(new i.Event("moveend",ye)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(i.LngLatBounds.convert(ye)),this._update()},K.prototype.setMinZoom=function(ye){if(ye=ye??ah,ye>=ah&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+ah+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(ye){if(ye=ye??ih,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(ye){if(ye=ye??xs,ye<xs)throw new Error("minPitch must be greater than or equal to "+xs);if(ye>=xs&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+xs+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(ye){if(ye=ye??Of,ye>Of)throw new Error("maxPitch must be less than or equal to "+Of);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},K.prototype.project=function(ye){return this.transform.locationPoint(i.LngLat.convert(ye))},K.prototype.unproject=function(ye){return this.transform.pointLocation(i.Point.convert(ye))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(ye,Fe,Ke){var ut=this,Ct;if(ye==="mouseenter"||ye==="mouseover"){var Nt=!1,qt=function(Gr){var Jr=ut.getLayer(Fe)?ut.queryRenderedFeatures(Gr.point,{layers:[Fe]}):[];Jr.length?Nt||(Nt=!0,Ke.call(ut,new qe(ye,ut,Gr.originalEvent,{features:Jr}))):Nt=!1},lr=function(){Nt=!1};return{layer:Fe,listener:Ke,delegates:{mousemove:qt,mouseout:lr}}}else if(ye==="mouseleave"||ye==="mouseout"){var sr=!1,Dr=function(Gr){var Jr=ut.getLayer(Fe)?ut.queryRenderedFeatures(Gr.point,{layers:[Fe]}):[];Jr.length?sr=!0:sr&&(sr=!1,Ke.call(ut,new qe(ye,ut,Gr.originalEvent)))},Xr=function(Gr){sr&&(sr=!1,Ke.call(ut,new qe(ye,ut,Gr.originalEvent)))};return{layer:Fe,listener:Ke,delegates:{mousemove:Dr,mouseout:Xr}}}else{var jr=function(Gr){var Jr=ut.getLayer(Fe)?ut.queryRenderedFeatures(Gr.point,{layers:[Fe]}):[];Jr.length&&(Gr.features=Jr,Ke.call(ut,Gr),delete Gr.features)};return{layer:Fe,listener:Ke,delegates:(Ct={},Ct[ye]=jr,Ct)}}},K.prototype.on=function(ye,Fe,Ke){if(Ke===void 0)return ve.prototype.on.call(this,ye,Fe);var ut=this._createDelegatedListener(ye,Fe,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ut);for(var Ct in ut.delegates)this.on(Ct,ut.delegates[Ct]);return this},K.prototype.once=function(ye,Fe,Ke){if(Ke===void 0)return ve.prototype.once.call(this,ye,Fe);var ut=this._createDelegatedListener(ye,Fe,Ke);for(var Ct in ut.delegates)this.once(Ct,ut.delegates[Ct]);return this},K.prototype.off=function(ye,Fe,Ke){var ut=this;if(Ke===void 0)return ve.prototype.off.call(this,ye,Fe);var Ct=function(Nt){for(var qt=Nt[ye],lr=0;lr<qt.length;lr++){var sr=qt[lr];if(sr.layer===Fe&&sr.listener===Ke){for(var Dr in sr.delegates)ut.off(Dr,sr.delegates[Dr]);return qt.splice(lr,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&Ct(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(ye,Fe){if(!this.style)return[];Fe===void 0&&ye!==void 0&&!(ye instanceof i.Point)&&!Array.isArray(ye)&&(Fe=ye,ye=void 0),Fe=Fe||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(ye instanceof i.Point||typeof ye[0]=="number")Ke=[i.Point.convert(ye)];else{var ut=i.Point.convert(ye[0]),Ct=i.Point.convert(ye[1]);Ke=[ut,new i.Point(Ct.x,ut.y),Ct,new i.Point(ut.x,Ct.y),ut]}return this.style.queryRenderedFeatures(Ke,Fe,this.transform)},K.prototype.querySourceFeatures=function(ye,Fe){return this.style.querySourceFeatures(ye,Fe)},K.prototype.setStyle=function(ye,Fe){return Fe=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(ye,Fe))},K.prototype._getUIString=function(ye){var Fe=this._locale[ye];if(Fe==null)throw new Error("Missing UI string '"+ye+"'");return Fe},K.prototype._updateStyle=function(ye,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new Qo(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Qo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(ye,Fe){var Ke=this;if(typeof ye=="string"){var ut=this._requestManager.normalizeStyleURL(ye),Ct=this._requestManager.transformRequest(ut,i.ResourceType.Style);i.getJSON(Ct,function(Nt,qt){Nt?Ke.fire(new i.ErrorEvent(Nt)):qt&&Ke._updateDiff(qt,Fe)})}else typeof ye=="object"&&this._updateDiff(ye,Fe)},K.prototype._updateDiff=function(ye,Fe){try{this.style.setState(ye)&&this._update(!0)}catch(Ke){i.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Fe)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Fe),this._update(!0)},K.prototype.isSourceLoaded=function(ye){var Fe=this.style&&this.style.sourceCaches[ye];if(Fe===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Fe.loaded()},K.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Fe in ye){var Ke=ye[Fe],ut=Ke._tiles;for(var Ct in ut){var Nt=ut[Ct];if(!(Nt.state==="loaded"||Nt.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(ye,Fe,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Fe,Ke)},K.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},K.prototype.getSource=function(ye){return this.style.getSource(ye)},K.prototype.addImage=function(ye,Fe,Ke){Ke===void 0&&(Ke={});var ut=Ke.pixelRatio;ut===void 0&&(ut=1);var Ct=Ke.sdf;Ct===void 0&&(Ct=!1);var Nt=Ke.stretchX,qt=Ke.stretchY,lr=Ke.content;this._lazyInitEmptyStyle();var sr=0;if(Fe instanceof yc||zf&&Fe instanceof zf){var Dr=i.browser.getImageData(Fe),Xr=Dr.width,jr=Dr.height,Gr=Dr.data;this.style.addImage(ye,{data:new i.RGBAImage({width:Xr,height:jr},Gr),pixelRatio:ut,stretchX:Nt,stretchY:qt,content:lr,sdf:Ct,version:sr})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Fe.width,vn=Fe.height,zn=Fe.data,Vn=Fe;this.style.addImage(ye,{data:new i.RGBAImage({width:Jr,height:vn},new Uint8Array(zn)),pixelRatio:ut,stretchX:Nt,stretchY:qt,content:lr,sdf:Ct,version:sr,userImage:Vn}),Vn.onAdd&&Vn.onAdd(this,ye)}},K.prototype.updateImage=function(ye,Fe){var Ke=this.style.getImage(ye);if(!Ke)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=Fe instanceof yc||zf&&Fe instanceof zf?i.browser.getImageData(Fe):Fe,Ct=ut.width,Nt=ut.height,qt=ut.data;if(Ct===void 0||Nt===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Ke.data.width||Nt!==Ke.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(Fe instanceof yc||zf&&Fe instanceof zf);Ke.data.replace(qt,lr),this.style.updateImage(ye,Ke)},K.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(ye){this.style.removeImage(ye)},K.prototype.loadImage=function(ye,Fe){i.getImage(this._requestManager.transformRequest(ye,i.ResourceType.Image),Fe)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Fe),this._update(!0)},K.prototype.moveLayer=function(ye,Fe){return this.style.moveLayer(ye,Fe),this._update(!0)},K.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},K.prototype.getLayer=function(ye){return this.style.getLayer(ye)},K.prototype.setLayerZoomRange=function(ye,Fe,Ke){return this.style.setLayerZoomRange(ye,Fe,Ke),this._update(!0)},K.prototype.setFilter=function(ye,Fe,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(ye,Fe,Ke),this._update(!0)},K.prototype.getFilter=function(ye){return this.style.getFilter(ye)},K.prototype.setPaintProperty=function(ye,Fe,Ke,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(ye,Fe,Ke,ut),this._update(!0)},K.prototype.getPaintProperty=function(ye,Fe){return this.style.getPaintProperty(ye,Fe)},K.prototype.setLayoutProperty=function(ye,Fe,Ke,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(ye,Fe,Ke,ut),this._update(!0)},K.prototype.getLayoutProperty=function(ye,Fe){return this.style.getLayoutProperty(ye,Fe)},K.prototype.setLight=function(ye,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Fe),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(ye,Fe){return this.style.setFeatureState(ye,Fe),this._update()},K.prototype.removeFeatureState=function(ye,Fe){return this.style.removeFeatureState(ye,Fe),this._update()},K.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var ye=0,Fe=0;return this._container&&(ye=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[ye,Fe]},K.prototype._detectMissingCSS=function(){var ye=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=S.create("div","mapboxgl-canary",ye);Fe.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=S.create("div","mapboxgl-canvas-container",ye);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var Ct=this._controlContainer=S.create("div","mapboxgl-control-container",ye),Nt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Nt[qt]=S.create("div","mapboxgl-ctrl-"+qt,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(ye,Fe){var Ke=i.browser.devicePixelRatio||1;this._canvas.width=Ke*ye,this._canvas.height=Ke*Fe,this._canvas.style.width=ye+"px",this._canvas.style.height=Fe+"px"},K.prototype._setupPainter=function(){var ye=i.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Fe){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Nr(Fe,this.transform),i.webpSupported.testSupport(Fe)},K.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ye}))},K.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ye}))},K.prototype._onMapScroll=function(ye){if(ye.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},K.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},K.prototype._render=function(ye){var Fe=this,Ke,ut=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),ut=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Nt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,lr=i.browser.now();this.style.zoomHistory.update(qt,lr);var sr=new i.EvaluationParameters(qt,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Dr=sr.crossFadingFactor();(Dr!==1||Dr!==this._crossFadingFactor)&&(Nt=!0,this._crossFadingFactor=Dr),this.style.update(sr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Nt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=i.browser.now()-ut;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var Jr=Ct.getQueryObjectEXT(Ke,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Ke),Fe.fire(new i.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var jr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Fe.painter.queryGpuTimers(jr);Fe.fire(new i.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Gr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Gr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Gr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Fe=this._controls;ye<Fe.length;ye+=1){var Ke=Fe[ye];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext&&ut.loseContext(),ov(this._canvasContainer),ov(this._controlContainer),ov(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},K.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Fe){ye._frame=null,ye._render(Fe)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(te){this._vertices=te,this._update()},K.prototype._setCacheLimits=function(ye,Fe){i.setCacheLimits(ye,Fe)},ge.version.get=function(){return i.version},Object.defineProperties(K.prototype,ge),K}(xu);function ov(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var zv={showCompass:!0,showZoom:!0,visualizePitch:!1},af=function(K){var ge=this;this.options=i.extend({},zv,K),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return ge._map.zoomIn({},{originalEvent:te})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return ge._map.zoomOut({},{originalEvent:te})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:te}):ge._map.resetNorth({},{originalEvent:te})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};af.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),ge=K===this._map.getMaxZoom(),te=K===this._map.getMinZoom();this._zoomInButton.disabled=ge,this._zoomOutButton.disabled=te,this._zoomInButton.setAttribute("aria-disabled",ge.toString()),this._zoomOutButton.setAttribute("aria-disabled",te.toString())},af.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},af.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new zs(this._map,this._compass,this.options.visualizePitch)),this._container},af.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},af.prototype._createButton=function(K,ge){var te=S.create("button",K,this._container);return te.type="button",te.addEventListener("click",ge),te},af.prototype._setButtonTitle=function(K,ge){var te=this._map._getUIString("NavigationControl."+ge);K.title=te,K.setAttribute("aria-label",te)};var zs=function(K,ge,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new ca({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,te&&(this.mousePitch=new ta({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(ge,"mousedown",this.mousedown),S.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(ge,"touchmove",this.touchmove),S.addEventListener(ge,"touchend",this.touchend),S.addEventListener(ge,"touchcancel",this.reset)};zs.prototype.down=function(K,ge){this.mouseRotate.mousedown(K,ge),this.mousePitch&&this.mousePitch.mousedown(K,ge),S.disableDrag()},zs.prototype.move=function(K,ge){var te=this.map,ye=this.mouseRotate.mousemoveWindow(K,ge);if(ye&&ye.bearingDelta&&te.setBearing(te.getBearing()+ye.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(K,ge);Fe&&Fe.pitchDelta&&te.setPitch(te.getPitch()+Fe.pitchDelta)}},zs.prototype.off=function(){var K=this.element;S.removeEventListener(K,"mousedown",this.mousedown),S.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(K,"touchmove",this.touchmove),S.removeEventListener(K,"touchend",this.touchend),S.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},zs.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(i.window,"mousemove",this.mousemove),S.removeEventListener(i.window,"mouseup",this.mouseup)},zs.prototype.mousedown=function(K){this.down(i.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),S.mousePos(this.element,K)),S.addEventListener(i.window,"mousemove",this.mousemove),S.addEventListener(i.window,"mouseup",this.mouseup)},zs.prototype.mousemove=function(K){this.move(K,S.mousePos(this.element,K))},zs.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},zs.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},zs.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},zs.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},zs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function of(ve,K,ge){if(ve=new i.LngLat(ve.lng,ve.lat),K){var te=new i.LngLat(ve.lng-360,ve.lat),ye=new i.LngLat(ve.lng+360,ve.lat),Fe=ge.locationPoint(ve).distSqr(K);ge.locationPoint(te).distSqr(K)<Fe?ve=te:ge.locationPoint(ye).distSqr(K)<Fe&&(ve=ye)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var Ke=ge.locationPoint(ve);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=ge.width&&Ke.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var sv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ov(ve,K,ge){var te=ve.classList;for(var ye in sv)te.remove("mapboxgl-"+ge+"-anchor-"+ye);te.add("mapboxgl-"+ge+"-anchor-"+K)}var oh=function(ve){function K(ge,te){if(ve.call(this),(ge instanceof i.window.HTMLElement||te)&&(ge=i.extend({element:ge},te)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._scale=ge&&ge.scale||1,this._draggable=ge&&ge.draggable||!1,this._clickTolerance=ge&&ge.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var ye=S.createNS("http://www.w3.org/2000/svg","svg"),Fe=41,Ke=27;ye.setAttributeNS(null,"display","block"),ye.setAttributeNS(null,"height",Fe+"px"),ye.setAttributeNS(null,"width",Ke+"px"),ye.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+Fe);var ut=S.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"stroke","none"),ut.setAttributeNS(null,"stroke-width","1"),ut.setAttributeNS(null,"fill","none"),ut.setAttributeNS(null,"fill-rule","evenodd");var Ct=S.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Nt=S.createNS("http://www.w3.org/2000/svg","g");Nt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Nt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,sr=qt;lr<sr.length;lr+=1){var Dr=sr[lr],Xr=S.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",Dr.rx),Xr.setAttributeNS(null,"ry",Dr.ry),Nt.appendChild(Xr)}var jr=S.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"fill",this._color);var Gr=S.createNS("http://www.w3.org/2000/svg","path");Gr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),jr.appendChild(Gr);var Jr=S.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var vn=S.createNS("http://www.w3.org/2000/svg","path");vn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(vn);var zn=S.createNS("http://www.w3.org/2000/svg","g");zn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),zn.setAttributeNS(null,"fill","#FFFFFF");var Vn=S.createNS("http://www.w3.org/2000/svg","g");Vn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Zn=S.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#000000"),Zn.setAttributeNS(null,"opacity","0.25"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962");var Kn=S.createNS("http://www.w3.org/2000/svg","circle");Kn.setAttributeNS(null,"fill","#FFFFFF"),Kn.setAttributeNS(null,"cx","5.5"),Kn.setAttributeNS(null,"cy","5.5"),Kn.setAttributeNS(null,"r","5.4999962"),Vn.appendChild(Zn),Vn.appendChild(Kn),Ct.appendChild(Nt),Ct.appendChild(jr),Ct.appendChild(Jr),Ct.appendChild(zn),Ct.appendChild(Vn),ye.appendChild(Ct),ye.setAttributeNS(null,"height",Fe*this._scale+"px"),ye.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(ye),this._offset=i.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=i.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),Ov(this._element,this._anchor,"marker"),this._popup=null}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(te){return this._lngLat=i.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var ye=38.1,Fe=13.5,Ke=Math.sqrt(Math.pow(Fe,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Ke,(ye-Fe+Ke)*-1],"bottom-right":[-Ke,(ye-Fe+Ke)*-1],left:[Fe,(ye-Fe)*-1],right:[-Fe,(ye-Fe)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(te){var ye=te.code,Fe=te.charCode||te.keyCode;(ye==="Space"||ye==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},K.prototype._onMapClick=function(te){var ye=te.originalEvent.target,Fe=this._element;this._popup&&(ye===Fe||Fe.contains(ye))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},K.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=of(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,sv[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+ye)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(te){return this._offset=i.Point.convert(te),this._update(),this},K.prototype._onMove=function(te){if(!this._isDragging){var ye=this._clickTolerance||this._map._clickTolerance;this._isDragging=te.point.dist(this._pointerdownPos)>=ye}this._isDragging&&(this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._pointerdownPos=te.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(i.Evented),ap={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ff;function lv(ve){Ff!==void 0?ve(Ff):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(K){Ff=K.state!=="denied",ve(Ff)}):(Ff=!!i.window.navigator.geolocation,ve(Ff))}var sh=0,mc=!1,H0=function(ve){function K(ge){ve.call(this),this.options=i.extend({},ap,ge),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(te){return this._map=te,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),lv(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,sh=0,mc=!1},K.prototype._isOutOfMapMaxBounds=function(te){var ye=this._map.getMaxBounds(),Fe=te.coords;return ye&&(Fe.longitude<ye.getWest()||Fe.longitude>ye.getEast()||Fe.latitude<ye.getSouth()||Fe.latitude>ye.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",te)),this._finish()}},K.prototype._updateCamera=function(te){var ye=new i.LngLat(te.coords.longitude,te.coords.latitude),Fe=te.coords.accuracy,Ke=this._map.getBearing(),ut=i.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Fe),ut,{geolocateSource:!0})},K.prototype._updateMarker=function(te){if(te){var ye=new i.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,ye=this._map.unproject([0,te]),Fe=this._map.unproject([1,te]),Ke=ye.distanceTo(Fe),ut=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&mc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",te)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(te){var ye=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new oh(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new oh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var Ct=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!Ct&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new i.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":sh--,mc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),sh++;var te;sh>1?(te={maximumAge:6e5,timeout:0},mc=!0):(te=this.options.positionOptions,mc=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(i.Evented),ip={maxWidth:100,unit:"metric"},xc=function(K){this.options=i.extend({},ip,K),i.bindAll(["_onMove","setUnit"],this)};xc.prototype.getDefaultPosition=function(){return"bottom-left"},xc.prototype._onMove=function(){op(this._map,this._container,this.options)},xc.prototype.onAdd=function(K){return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},xc.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},xc.prototype.setUnit=function(K){this.options.unit=K,op(this._map,this._container,this.options)};function op(ve,K,ge){var te=ge&&ge.maxWidth||100,ye=ve._container.clientHeight/2,Fe=ve.unproject([0,ye]),Ke=ve.unproject([te,ye]),ut=Fe.distanceTo(Ke);if(ge&&ge.unit==="imperial"){var Ct=3.2808*ut;if(Ct>5280){var Nt=Ct/5280;lh(K,te,Nt,ve._getUIString("ScaleControl.Miles"))}else lh(K,te,Ct,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var qt=ut/1852;lh(K,te,qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?lh(K,te,ut/1e3,ve._getUIString("ScaleControl.Kilometers")):lh(K,te,ut,ve._getUIString("ScaleControl.Meters"))}function lh(ve,K,ge,te){var ye=W0(ge),Fe=ye/ge;ve.style.width=K*Fe+"px",ve.innerHTML=ye+"&nbsp;"+te}function G0(ve){var K=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*K)/K}function W0(ve){var K=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/K;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:G0(ge),K*ge}var Fl=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof i.window.HTMLElement?this._container=K.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};Fl.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Fl.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Fl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},Fl.prototype._setupUI=function(){var K=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Fl.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},Fl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Fl.prototype._isFullscreen=function(){return this._fullscreen},Fl.prototype._changeIcon=function(){var K=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Fl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Y0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},j0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),t1=function(ve){function K(ge){ve.call(this),this.options=i.extend(Object.create(Y0),ge),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(K.__proto__=ve),K.prototype=Object.create(ve&&ve.prototype),K.prototype.constructor=K,K.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(te){return this._lngLat=i.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(te){return this.setDOMContent(i.window.document.createTextNode(te))},K.prototype.setHTML=function(te){var ye=i.window.document.createDocumentFragment(),Fe=i.window.document.createElement("body"),Ke;for(Fe.innerHTML=te;Ke=Fe.firstChild,!!Ke;)ye.appendChild(Ke);return this.setDOMContent(ye)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},K.prototype.setDOMContent=function(te){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(te),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},K.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},K.prototype.setOffset=function(te){return this.options.offset=te,this._update(),this},K.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(te){this._update(te.point)},K.prototype._onMouseMove=function(te){this._update(te.point)},K.prototype._onDrag=function(te){this._update(te.point)},K.prototype._update=function(te){var ye=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Dr){return ye._container.classList.add(Dr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=of(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Ke=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ut=this.options.anchor,Ct=X0(this.options.offset);if(!ut){var Nt=this._container.offsetWidth,qt=this._container.offsetHeight,lr;Ke.y+Ct.bottom.y<qt?lr=["top"]:Ke.y>this._map.transform.height-qt?lr=["bottom"]:lr=[],Ke.x<Nt/2?lr.push("left"):Ke.x>this._map.transform.width-Nt/2&&lr.push("right"),lr.length===0?ut="bottom":ut=lr.join("-")}var sr=Ke.add(Ct[ut]).round();S.setTransform(this._container,sv[ut]+" translate("+sr.x+"px,"+sr.y+"px)"),Ov(this._container,ut,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var te=this._container.querySelector(j0);te&&te.focus()}},K.prototype._onClose=function(){this.remove()},K}(i.Evented);function X0(ve){if(ve)if(typeof ve=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new i.Point(0,0),top:new i.Point(0,ve),"top-left":new i.Point(K,K),"top-right":new i.Point(-K,K),bottom:new i.Point(0,-ve),"bottom-left":new i.Point(K,-K),"bottom-right":new i.Point(-K,-K),left:new i.Point(ve,0),right:new i.Point(-ve,0)}}else if(ve instanceof i.Point||Array.isArray(ve)){var ge=i.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:i.Point.convert(ve.center||[0,0]),top:i.Point.convert(ve.top||[0,0]),"top-left":i.Point.convert(ve["top-left"]||[0,0]),"top-right":i.Point.convert(ve["top-right"]||[0,0]),bottom:i.Point.convert(ve.bottom||[0,0]),"bottom-left":i.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(ve["bottom-right"]||[0,0]),left:i.Point.convert(ve.left||[0,0]),right:i.Point.convert(ve.right||[0,0])};else return X0(new i.Point(0,0))}var bo={version:i.version,supported:C,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:np,NavigationControl:af,GeolocateControl:H0,AttributionControl:qa,ScaleControl:xc,FullscreenControl:Fl,Popup:t1,Marker:oh,Style:Qo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:Dt,clearPrewarmedResources:Qt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(ve){i.config.ACCESS_TOKEN=ve},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(ve){i.config.API_URL=ve},get workerCount(){return vr.workerCount},set workerCount(ve){vr.workerCount=ve},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){i.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(K){i.clearTileCache(K)},workerUrl:""};return bo}),g})},3108:function(G,H,e){G.exports=e(26099)},26099:function(G,H,e){var g=e(64928),R=e(32420),i=e(51160),C=e(76752),S=e(55616),v=e(31264),d=e(47520),r=e(18400),t=e(72512),a=e(76244),n=1073741824;G.exports=function(l,y){y||(y={}),l=d(l,"float64"),y=S(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(y.maxDepth,255),T=v(y.bounds,C(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=f(l,T),o=l.length>>>1,p;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?p=new(t(y.dtype))(o):y.dtype&&(p=y.dtype,Array.isArray(p)&&(p.length=o));for(var x=0;x<o;++x)p[x]=x;var b=[],P=[],m=[],L=[];N(0,0,1,p,0,1);for(var M=0,s=0;s<b.length;s++){var E=b[s];if(p.set)p.set(E,M);else for(var w=0,_=E.length;w<_;w++)p[w+M]=E[w];var D=M+b[s].length;L[s]=[M,D],M=D}return p.range=z,p;function N(B,V,j,Q,ee,re){if(!Q.length)return null;var ue=b[ee]||(b[ee]=[]),J=m[ee]||(m[ee]=[]),X=P[ee]||(P[ee]=[]),ne=ue.length;if(ee++,ee>h||re>n){for(var Y=0;Y<Q.length;Y++)ue.push(Q[Y]),J.push(re),X.push(null,null,null,null);return ne}if(ue.push(Q[0]),J.push(re),Q.length<=1)return X.push(null,null,null,null),ne;for(var oe=j*.5,le=B+oe,Z=V+oe,$=[],se=[],ae=[],he=[],me=1,Me=Q.length;me<Me;me++){var Te=Q[me],Pe=c[Te*2],be=c[Te*2+1];Pe<le?be<Z?$.push(Te):se.push(Te):be<Z?ae.push(Te):he.push(Te)}return re<<=2,X.push(N(B,V,oe,$,ee,re),N(B,Z,oe,se,ee,re+1),N(le,V,oe,ae,ee,re+2),N(le,Z,oe,he,ee,re+3)),ne}function z(){for(var B=[],V=arguments.length;V--;)B[V]=arguments[V];var j;if(r(B[B.length-1])){var Q=B.pop();!B.length&&(Q.x!=null||Q.l!=null||Q.left!=null)&&(B=[Q],j={}),j=S(Q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};B.length||(B=T);var ee=i.apply(void 0,B),re=[Math.min(ee.x,ee.x+ee.width),Math.min(ee.y,ee.y+ee.height),Math.max(ee.x,ee.x+ee.width),Math.max(ee.y,ee.y+ee.height)],ue=re[0],J=re[1],X=re[2],ne=re[3],Y=f([ue,J,X,ne],T),oe=Y[0],le=Y[1],Z=Y[2],$=Y[3],se=v(j.level,b.length);if(j.d!=null){var ae;typeof j.d=="number"?ae=[j.d,j.d]:j.d.length&&(ae=j.d),se=Math.min(Math.max(Math.ceil(-a(Math.abs(ae[0])/(T[2]-T[0]))),Math.ceil(-a(Math.abs(ae[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,b.length),j.lod)return F(oe,le,Z,$,se);var he=[];me(0,0,1,0,0,1);function me(Te,Pe,be,Ee,xe,Ce){if(!(xe===null||Ce===null)){var Ue=Te+be,Ne=Pe+be;if(!(oe>Ue||le>Ne||Z<Te||$<Pe)&&!(Ee>=se)&&xe!==Ce){var De=b[Ee];Ce===void 0&&(Ce=De.length);for(var He=xe;He<Ce;He++){var at=De[He],vt=l[at*2],ot=l[at*2+1];vt>=ue&&vt<=X&&ot>=J&&ot<=ne&&he.push(at)}var et=P[Ee],ct=et[xe*4+0],ht=et[xe*4+1],gt=et[xe*4+2],xt=et[xe*4+3],Mt=Me(et,xe+1),tt=be*.5,Oe=Ee+1;me(Te,Pe,tt,Oe,ct,ht||gt||xt||Mt),me(Te,Pe+tt,tt,Oe,ht,gt||xt||Mt),me(Te+tt,Pe,tt,Oe,gt,xt||Mt),me(Te+tt,Pe+tt,tt,Oe,xt,Mt)}}}function Me(Te,Pe){for(var be=null,Ee=0;be===null;)if(be=Te[Pe*4+Ee],Ee++,Ee>Te.length)return null;return be}return he}function F(B,V,j,Q,ee){for(var re=[],ue=0;ue<ee;ue++){var J=m[ue],X=L[ue][0],ne=U(B,V,ue),Y=U(j,Q,ue),oe=g.ge(J,ne),le=g.gt(J,Y,oe,J.length-1);re[ue]=[oe+X,le+X]}return re}function U(B,V,j){for(var Q=1,ee=.5,re=.5,ue=.5,J=0;J<j;J++)Q<<=2,Q+=B<ee?V<re?0:1:V<re?2:3,ue*=.5,ee+=B<ee?-ue:ue,re+=V<re?-ue:ue;return Q}};function f(u,l){for(var y=l[0],h=l[1],T=l[2],c=l[3],o=1/(T-y),p=1/(c-h),x=new Array(u.length),b=0,P=u.length/2;b<P;b++)x[2*b]=R((u[2*b]-y)*o,0,1),x[2*b+1]=R((u[2*b+1]-h)*p,0,1);return x}},40440:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(3256),R=6378137;function i(r){return g.geomReduce(r,function(t,a){return t+C(a)},0)}H.default=i;function C(r){var t=0,a;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(a=0;a<r.coordinates.length;a++)t+=S(r.coordinates[a]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var a=1;a<r.length;a++)t-=Math.abs(v(r[a]))}return t}function v(r){var t,a,n,f,u,l,y,h=0,T=r.length;if(T>2){for(y=0;y<T;y++)y===T-2?(f=T-2,u=T-1,l=0):y===T-1?(f=T-1,u=0,l=1):(f=y,u=y+1,l=y+2),t=r[f],a=r[u],n=r[l],h+=(d(n[0])-d(t[0]))*Math.sin(d(a[1]));h=h*R*R/2}return h}function d(r){return r*Math.PI/180}},46284:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=s||{},w.geometry=M,w}H.feature=e;function g(M,s,E){switch(M){case"Point":return R(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(M+" is invalid")}}H.geometry=g;function R(M,s,E){if(E===void 0&&(E={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(M[0])||!b(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,E)}H.point=R;function i(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return R(w,s)}),E)}H.points=i;function C(M,s,E){E===void 0&&(E={});for(var w=0,_=M;w<_.length;w++){var D=_[w];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:M};return e(z,s,E)}H.polygon=C;function S(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return C(w,s)}),E)}H.polygons=S;function v(M,s,E){if(E===void 0&&(E={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,E)}H.lineString=v;function d(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return v(w,s)}),E)}H.lineStrings=d;function r(M,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=M,E}H.featureCollection=r;function t(M,s,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:M};return e(w,s,E)}H.multiLineString=t;function a(M,s,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:M};return e(w,s,E)}H.multiPoint=a;function n(M,s,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,E)}H.multiPolygon=n;function f(M,s,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:M};return e(w,s,E)}H.geometryCollection=f;function u(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(M*E)/E}H.round=u;function l(M,s){s===void 0&&(s="kilometers");var E=H.factors[s];if(!E)throw new Error(s+" units is invalid");return M*E}H.radiansToLength=l;function y(M,s){s===void 0&&(s="kilometers");var E=H.factors[s];if(!E)throw new Error(s+" units is invalid");return M/E}H.lengthToRadians=y;function h(M,s){return c(y(M,s))}H.lengthToDegrees=h;function T(M){var s=M%360;return s<0&&(s+=360),s}H.bearingToAzimuth=T;function c(M){var s=M%(2*Math.PI);return s*180/Math.PI}H.radiansToDegrees=c;function o(M){var s=M%360;return s*Math.PI/180}H.degreesToRadians=o;function p(M,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(y(M,s),E)}H.convertLength=p;function x(M,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=H.areaFactors[s];if(!w)throw new Error("invalid original units");var _=H.areaFactors[E];if(!_)throw new Error("invalid final units");return M/w*_}H.convertArea=x;function b(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}H.isNumber=b;function P(M){return!!M&&M.constructor===Object}H.isObject=P;function m(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!b(s))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}H.validateId=L},3256:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(46284);function R(o,p,x){if(o!==null)for(var b,P,m,L,M,s,E,w=0,_=0,D,N=o.type,z=N==="FeatureCollection",F=N==="Feature",U=z?o.features.length:1,B=0;B<U;B++){E=z?o.features[B].geometry:F?o.geometry:o,D=E?E.type==="GeometryCollection":!1,M=D?E.geometries.length:1;for(var V=0;V<M;V++){var j=0,Q=0;if(L=D?E.geometries[V]:E,L!==null){s=L.coordinates;var ee=L.type;switch(w=x&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(s,_,B,j,Q)===!1)return!1;_++,j++;break;case"LineString":case"MultiPoint":for(b=0;b<s.length;b++){if(p(s[b],_,B,j,Q)===!1)return!1;_++,ee==="MultiPoint"&&j++}ee==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(b=0;b<s.length;b++){for(P=0;P<s[b].length-w;P++){if(p(s[b][P],_,B,j,Q)===!1)return!1;_++}ee==="MultiLineString"&&j++,ee==="Polygon"&&Q++}ee==="Polygon"&&j++;break;case"MultiPolygon":for(b=0;b<s.length;b++){for(Q=0,P=0;P<s[b].length;P++){for(m=0;m<s[b][P].length-w;m++){if(p(s[b][P][m],_,B,j,Q)===!1)return!1;_++}Q++}j++}break;case"GeometryCollection":for(b=0;b<L.geometries.length;b++)if(R(L.geometries[b],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,p,x,b){var P=x;return R(o,function(m,L,M,s,E){L===0&&x===void 0?P=m:P=p(P,m,L,M,s,E)},b),P}function C(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function S(o,p,x){var b=x;return C(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function d(o,p,x){var b=x;return v(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function r(o){var p=[];return R(o,function(x){p.push(x)}),p}function t(o,p){var x,b,P,m,L,M,s,E,w,_,D=0,N=o.type==="FeatureCollection",z=o.type==="Feature",F=N?o.features.length:1;for(x=0;x<F;x++){for(M=N?o.features[x].geometry:z?o.geometry:o,E=N?o.features[x].properties:z?o.properties:{},w=N?o.features[x].bbox:z?o.bbox:void 0,_=N?o.features[x].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(m=s?M.geometries[P]:M,m===null){if(p(null,D,E,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,D,E,w,_)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(p(m.geometries[b],D,E,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(o,p,x){var b=x;return t(o,function(P,m,L,M,s){m===0&&x===void 0?b=P:b=p(b,P,m,L,M,s)}),b}function n(o,p){t(o,function(x,b,P,m,L){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(x,P,{bbox:m,id:L}),b,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var w=x.coordinates[E],_={type:s,coordinates:w};if(p(g.feature(_,P),b,E)===!1)return!1}})}function f(o,p,x){var b=x;return n(o,function(P,m,L){m===0&&L===0&&x===void 0?b=P:b=p(b,P,m,L)}),b}function u(o,p){n(o,function(x,b,P){var m=0;if(x.geometry){var L=x.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(x,function(_,D,N,z,F){if(M===void 0||b>s||z>E||F>w){M=_,s=b,E=z,w=F,m=0;return}var U=g.lineString([M,_],x.properties);if(p(U,b,P,F,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(o,p,x){var b=x,P=!1;return u(o,function(m,L,M,s,E){P===!1&&x===void 0?b=m:b=p(b,m,L,M,s,E),P=!0}),b}function y(o,p){if(!o)throw new Error("geojson is required");n(o,function(x,b,P){if(x.geometry!==null){var m=x.geometry.type,L=x.geometry.coordinates;switch(m){case"LineString":if(p(x,b,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],x.properties),b,P,M)===!1)return!1;break}}})}function h(o,p,x){var b=x;return y(o,function(P,m,L,M){m===0&&x===void 0?b=P:b=p(b,P,m,L,M)}),b}function T(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m-1),g.lineString([s[P][m],s[P][m+1]],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m-1),g.lineString([s[b][m],s[b][m+1]],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m-1),g.lineString([s[b][P][m],s[b][P][m+1]],L,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return b<0&&(b=s.length+b),g.point(s[b],L,p);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m),g.point(s[P][m],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m),g.point(s[b][m],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m),g.point(s[b][P][m],L,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=i,H.propEach=C,H.propReduce=S,H.featureEach=v,H.featureReduce=d,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=T,H.findPoint=c},42428:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(84880);function R(i){var C=[1/0,1/0,-1/0,-1/0];return g.coordEach(i,function(S){C[0]>S[0]&&(C[0]=S[0]),C[1]>S[1]&&(C[1]=S[1]),C[2]<S[0]&&(C[2]=S[0]),C[3]<S[1]&&(C[3]=S[1])}),C}R.default=R,H.default=R},76796:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=s||{},w.geometry=M,w}H.feature=e;function g(M,s,E){switch(M){case"Point":return R(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(M+" is invalid")}}H.geometry=g;function R(M,s,E){if(E===void 0&&(E={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(M[0])||!b(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,E)}H.point=R;function i(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return R(w,s)}),E)}H.points=i;function C(M,s,E){E===void 0&&(E={});for(var w=0,_=M;w<_.length;w++){var D=_[w];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:M};return e(z,s,E)}H.polygon=C;function S(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return C(w,s)}),E)}H.polygons=S;function v(M,s,E){if(E===void 0&&(E={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,E)}H.lineString=v;function d(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return v(w,s)}),E)}H.lineStrings=d;function r(M,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=M,E}H.featureCollection=r;function t(M,s,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:M};return e(w,s,E)}H.multiLineString=t;function a(M,s,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:M};return e(w,s,E)}H.multiPoint=a;function n(M,s,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,E)}H.multiPolygon=n;function f(M,s,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:M};return e(w,s,E)}H.geometryCollection=f;function u(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(M*E)/E}H.round=u;function l(M,s){s===void 0&&(s="kilometers");var E=H.factors[s];if(!E)throw new Error(s+" units is invalid");return M*E}H.radiansToLength=l;function y(M,s){s===void 0&&(s="kilometers");var E=H.factors[s];if(!E)throw new Error(s+" units is invalid");return M/E}H.lengthToRadians=y;function h(M,s){return c(y(M,s))}H.lengthToDegrees=h;function T(M){var s=M%360;return s<0&&(s+=360),s}H.bearingToAzimuth=T;function c(M){var s=M%(2*Math.PI);return s*180/Math.PI}H.radiansToDegrees=c;function o(M){var s=M%360;return s*Math.PI/180}H.degreesToRadians=o;function p(M,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(y(M,s),E)}H.convertLength=p;function x(M,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=H.areaFactors[s];if(!w)throw new Error("invalid original units");var _=H.areaFactors[E];if(!_)throw new Error("invalid final units");return M/w*_}H.convertArea=x;function b(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}H.isNumber=b;function P(M){return!!M&&M.constructor===Object}H.isObject=P;function m(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!b(s))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}H.validateId=L},84880:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(76796);function R(o,p,x){if(o!==null)for(var b,P,m,L,M,s,E,w=0,_=0,D,N=o.type,z=N==="FeatureCollection",F=N==="Feature",U=z?o.features.length:1,B=0;B<U;B++){E=z?o.features[B].geometry:F?o.geometry:o,D=E?E.type==="GeometryCollection":!1,M=D?E.geometries.length:1;for(var V=0;V<M;V++){var j=0,Q=0;if(L=D?E.geometries[V]:E,L!==null){s=L.coordinates;var ee=L.type;switch(w=x&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(s,_,B,j,Q)===!1)return!1;_++,j++;break;case"LineString":case"MultiPoint":for(b=0;b<s.length;b++){if(p(s[b],_,B,j,Q)===!1)return!1;_++,ee==="MultiPoint"&&j++}ee==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(b=0;b<s.length;b++){for(P=0;P<s[b].length-w;P++){if(p(s[b][P],_,B,j,Q)===!1)return!1;_++}ee==="MultiLineString"&&j++,ee==="Polygon"&&Q++}ee==="Polygon"&&j++;break;case"MultiPolygon":for(b=0;b<s.length;b++){for(Q=0,P=0;P<s[b].length;P++){for(m=0;m<s[b][P].length-w;m++){if(p(s[b][P][m],_,B,j,Q)===!1)return!1;_++}Q++}j++}break;case"GeometryCollection":for(b=0;b<L.geometries.length;b++)if(R(L.geometries[b],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,p,x,b){var P=x;return R(o,function(m,L,M,s,E){L===0&&x===void 0?P=m:P=p(P,m,L,M,s,E)},b),P}function C(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function S(o,p,x){var b=x;return C(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function d(o,p,x){var b=x;return v(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function r(o){var p=[];return R(o,function(x){p.push(x)}),p}function t(o,p){var x,b,P,m,L,M,s,E,w,_,D=0,N=o.type==="FeatureCollection",z=o.type==="Feature",F=N?o.features.length:1;for(x=0;x<F;x++){for(M=N?o.features[x].geometry:z?o.geometry:o,E=N?o.features[x].properties:z?o.properties:{},w=N?o.features[x].bbox:z?o.bbox:void 0,_=N?o.features[x].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(m=s?M.geometries[P]:M,m===null){if(p(null,D,E,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,D,E,w,_)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(p(m.geometries[b],D,E,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(o,p,x){var b=x;return t(o,function(P,m,L,M,s){m===0&&x===void 0?b=P:b=p(b,P,m,L,M,s)}),b}function n(o,p){t(o,function(x,b,P,m,L){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(x,P,{bbox:m,id:L}),b,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var w=x.coordinates[E],_={type:s,coordinates:w};if(p(g.feature(_,P),b,E)===!1)return!1}})}function f(o,p,x){var b=x;return n(o,function(P,m,L){m===0&&L===0&&x===void 0?b=P:b=p(b,P,m,L)}),b}function u(o,p){n(o,function(x,b,P){var m=0;if(x.geometry){var L=x.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(x,function(_,D,N,z,F){if(M===void 0||b>s||z>E||F>w){M=_,s=b,E=z,w=F,m=0;return}var U=g.lineString([M,_],x.properties);if(p(U,b,P,F,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(o,p,x){var b=x,P=!1;return u(o,function(m,L,M,s,E){P===!1&&x===void 0?b=m:b=p(b,m,L,M,s,E),P=!0}),b}function y(o,p){if(!o)throw new Error("geojson is required");n(o,function(x,b,P){if(x.geometry!==null){var m=x.geometry.type,L=x.geometry.coordinates;switch(m){case"LineString":if(p(x,b,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],x.properties),b,P,M)===!1)return!1;break}}})}function h(o,p,x){var b=x;return y(o,function(P,m,L,M){m===0&&x===void 0?b=P:b=p(b,P,m,L,M)}),b}function T(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m-1),g.lineString([s[P][m],s[P][m+1]],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m-1),g.lineString([s[b][m],s[b][m+1]],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m-1),g.lineString([s[b][P][m],s[b][P][m+1]],L,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return b<0&&(b=s.length+b),g.point(s[b],L,p);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m),g.point(s[P][m],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m),g.point(s[b][m],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m),g.point(s[b][P][m],L,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=i,H.propEach=C,H.propReduce=S,H.featureEach=v,H.featureReduce=d,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=T,H.findPoint=c},77844:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(43752),R=e(49840);function i(C,S){S===void 0&&(S={});var v=0,d=0,r=0;return g.coordEach(C,function(t){v+=t[0],d+=t[1],r++}),R.point([v/r,d/r],S.properties)}H.default=i},49840:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,F,U){U===void 0&&(U={});var B={type:"Feature"};return(U.id===0||U.id)&&(B.id=U.id),U.bbox&&(B.bbox=U.bbox),B.properties=F||{},B.geometry=z,B}H.feature=e;function g(z,F,U){switch(z){case"Point":return R(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return C(F).geometry;case"MultiPoint":return a(F).geometry;case"MultiLineString":return t(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(z+" is invalid")}}H.geometry=g;function R(z,F,U){U===void 0&&(U={});var B={type:"Point",coordinates:z};return e(B,F,U)}H.point=R;function i(z,F,U){return U===void 0&&(U={}),r(z.map(function(B){return R(B,F)}),U)}H.points=i;function C(z,F,U){U===void 0&&(U={});for(var B=0,V=z;B<V.length;B++){var j=V[B];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<j[j.length-1].length;Q++)if(j[j.length-1][Q]!==j[0][Q])throw new Error("First and last Position are not equivalent.")}var ee={type:"Polygon",coordinates:z};return e(ee,F,U)}H.polygon=C;function S(z,F,U){return U===void 0&&(U={}),r(z.map(function(B){return C(B,F)}),U)}H.polygons=S;function v(z,F,U){if(U===void 0&&(U={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var B={type:"LineString",coordinates:z};return e(B,F,U)}H.lineString=v;function d(z,F,U){return U===void 0&&(U={}),r(z.map(function(B){return v(B,F)}),U)}H.lineStrings=d;function r(z,F){F===void 0&&(F={});var U={type:"FeatureCollection"};return F.id&&(U.id=F.id),F.bbox&&(U.bbox=F.bbox),U.features=z,U}H.featureCollection=r;function t(z,F,U){U===void 0&&(U={});var B={type:"MultiLineString",coordinates:z};return e(B,F,U)}H.multiLineString=t;function a(z,F,U){U===void 0&&(U={});var B={type:"MultiPoint",coordinates:z};return e(B,F,U)}H.multiPoint=a;function n(z,F,U){U===void 0&&(U={});var B={type:"MultiPolygon",coordinates:z};return e(B,F,U)}H.multiPolygon=n;function f(z,F,U){U===void 0&&(U={});var B={type:"GeometryCollection",geometries:z};return e(B,F,U)}H.geometryCollection=f;function u(z,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var U=Math.pow(10,F||0);return Math.round(z*U)/U}H.round=u;function l(z,F){F===void 0&&(F="kilometers");var U=H.factors[F];if(!U)throw new Error(F+" units is invalid");return z*U}H.radiansToLength=l;function y(z,F){F===void 0&&(F="kilometers");var U=H.factors[F];if(!U)throw new Error(F+" units is invalid");return z/U}H.lengthToRadians=y;function h(z,F){return c(y(z,F))}H.lengthToDegrees=h;function T(z){var F=z%360;return F<0&&(F+=360),F}H.bearingToAzimuth=T;function c(z){var F=z%(2*Math.PI);return F*180/Math.PI}H.radiansToDegrees=c;function o(z){var F=z%360;return F*Math.PI/180}H.degreesToRadians=o;function p(z,F,U){if(F===void 0&&(F="kilometers"),U===void 0&&(U="kilometers"),!(z>=0))throw new Error("length must be a positive number");return l(y(z,F),U)}H.convertLength=p;function x(z,F,U){if(F===void 0&&(F="meters"),U===void 0&&(U="kilometers"),!(z>=0))throw new Error("area must be a positive number");var B=H.areaFactors[F];if(!B)throw new Error("invalid original units");var V=H.areaFactors[U];if(!V)throw new Error("invalid final units");return z/B*V}H.convertArea=x;function b(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}H.isNumber=b;function P(z){return!!z&&z.constructor===Object}H.isObject=P;function m(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(F){if(!b(F))throw new Error("bbox must only contain numbers")})}H.validateBBox=m;function L(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}H.validateId=L;function M(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=M;function s(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=s;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=E;function w(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=w;function _(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=_;function D(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=D;function N(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=N},43752:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(49840);function R(o,p,x){if(o!==null)for(var b,P,m,L,M,s,E,w=0,_=0,D,N=o.type,z=N==="FeatureCollection",F=N==="Feature",U=z?o.features.length:1,B=0;B<U;B++){E=z?o.features[B].geometry:F?o.geometry:o,D=E?E.type==="GeometryCollection":!1,M=D?E.geometries.length:1;for(var V=0;V<M;V++){var j=0,Q=0;if(L=D?E.geometries[V]:E,L!==null){s=L.coordinates;var ee=L.type;switch(w=x&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(p(s,_,B,j,Q)===!1)return!1;_++,j++;break;case"LineString":case"MultiPoint":for(b=0;b<s.length;b++){if(p(s[b],_,B,j,Q)===!1)return!1;_++,ee==="MultiPoint"&&j++}ee==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(b=0;b<s.length;b++){for(P=0;P<s[b].length-w;P++){if(p(s[b][P],_,B,j,Q)===!1)return!1;_++}ee==="MultiLineString"&&j++,ee==="Polygon"&&Q++}ee==="Polygon"&&j++;break;case"MultiPolygon":for(b=0;b<s.length;b++){for(Q=0,P=0;P<s[b].length;P++){for(m=0;m<s[b][P].length-w;m++){if(p(s[b][P][m],_,B,j,Q)===!1)return!1;_++}Q++}j++}break;case"GeometryCollection":for(b=0;b<L.geometries.length;b++)if(R(L.geometries[b],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,p,x,b){var P=x;return R(o,function(m,L,M,s,E){L===0&&x===void 0?P=m:P=p(P,m,L,M,s,E)},b),P}function C(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function S(o,p,x){var b=x;return C(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function d(o,p,x){var b=x;return v(o,function(P,m){m===0&&x===void 0?b=P:b=p(b,P,m)}),b}function r(o){var p=[];return R(o,function(x){p.push(x)}),p}function t(o,p){var x,b,P,m,L,M,s,E,w,_,D=0,N=o.type==="FeatureCollection",z=o.type==="Feature",F=N?o.features.length:1;for(x=0;x<F;x++){for(M=N?o.features[x].geometry:z?o.geometry:o,E=N?o.features[x].properties:z?o.properties:{},w=N?o.features[x].bbox:z?o.bbox:void 0,_=N?o.features[x].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(m=s?M.geometries[P]:M,m===null){if(p(null,D,E,w,_)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(m,D,E,w,_)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(p(m.geometries[b],D,E,w,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(o,p,x){var b=x;return t(o,function(P,m,L,M,s){m===0&&x===void 0?b=P:b=p(b,P,m,L,M,s)}),b}function n(o,p){t(o,function(x,b,P,m,L){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(x,P,{bbox:m,id:L}),b,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var w=x.coordinates[E],_={type:s,coordinates:w};if(p(g.feature(_,P),b,E)===!1)return!1}})}function f(o,p,x){var b=x;return n(o,function(P,m,L){m===0&&L===0&&x===void 0?b=P:b=p(b,P,m,L)}),b}function u(o,p){n(o,function(x,b,P){var m=0;if(x.geometry){var L=x.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(x,function(_,D,N,z,F){if(M===void 0||b>s||z>E||F>w){M=_,s=b,E=z,w=F,m=0;return}var U=g.lineString([M,_],x.properties);if(p(U,b,P,F,m)===!1)return!1;m++,M=_})===!1)return!1}}})}function l(o,p,x){var b=x,P=!1;return u(o,function(m,L,M,s,E){P===!1&&x===void 0?b=m:b=p(b,m,L,M,s,E),P=!0}),b}function y(o,p){if(!o)throw new Error("geojson is required");n(o,function(x,b,P){if(x.geometry!==null){var m=x.geometry.type,L=x.geometry.coordinates;switch(m){case"LineString":if(p(x,b,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],x.properties),b,P,M)===!1)return!1;break}}})}function h(o,p,x){var b=x;return y(o,function(P,m,L,M){m===0&&x===void 0?b=P:b=p(b,P,m,L,M)}),b}function T(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m-1),g.lineString([s[P][m],s[P][m+1]],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m-1),g.lineString([s[b][m],s[b][m+1]],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m-1),g.lineString([s[b][P][m],s[b][P][m+1]],L,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,b=p.multiFeatureIndex||0,P=p.geometryIndex||0,m=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),L=L||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return b<0&&(b=s.length+b),g.point(s[b],L,p);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],L,p);case"Polygon":return P<0&&(P=s.length+P),m<0&&(m=s[P].length+m),g.point(s[P][m],L,p);case"MultiLineString":return b<0&&(b=s.length+b),m<0&&(m=s[b].length+m),g.point(s[b][m],L,p);case"MultiPolygon":return b<0&&(b=s.length+b),P<0&&(P=s[b].length+P),m<0&&(m=s[b][P].length-m),g.point(s[b][P][m],L,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=i,H.propEach=C,H.propReduce=S,H.featureEach=v,H.featureReduce=d,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=y,H.lineReduce=h,H.findSegment=T,H.findPoint=c},49972:function(G){G.exports=H;function H(e){var g=0,R=0,i=0,C=0;return e.map(function(S){S=S.slice();var v=S[0],d=v.toUpperCase();if(v!=d)switch(S[0]=d,v){case"a":S[6]+=i,S[7]+=C;break;case"v":S[1]+=C;break;case"h":S[1]+=i;break;default:for(var r=1;r<S.length;)S[r++]+=i,S[r++]+=C}switch(d){case"Z":i=g,C=R;break;case"H":i=S[1];break;case"V":C=S[1];break;case"M":i=g=S[1],C=R=S[2];break;default:i=S[S.length-2],C=S[S.length-1]}return S})}},76752:function(G){G.exports=H;function H(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var R=Array(g*2),i=0;i<g;i++){for(var C=-1/0,S=1/0,v=i,d=e.length;v<d;v+=g)e[v]>C&&(C=e[v]),e[v]<S&&(S=e[v]);R[i]=S,R[g+i]=C}return R}},10272:function(G){G.exports=function(H,e,g){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var R=Object(H),i=R.length;if(i===0)return-1;for(var C=0;C<i;C++)if(e.call(g,R[C],C,R))return C;return-1}},71152:function(G,H,e){var g=e(76752);G.exports=R;function R(i,C,S){if(!i||i.length==null)throw Error("Argument should be an array");C==null&&(C=1),S==null&&(S=g(i,C));for(var v=0;v<C;v++){var d=S[C+v],r=S[v],t=v,a=i.length;if(d===1/0&&r===-1/0)for(t=v;t<a;t+=C)i[t]=i[t]===d?1:i[t]===r?0:.5;else if(d===1/0)for(t=v;t<a;t+=C)i[t]=i[t]===d?1:0;else if(r===-1/0)for(t=v;t<a;t+=C)i[t]=i[t]===r?0:1;else{var n=d-r;for(t=v;t<a;t+=C)isNaN(i[t])||(i[t]=n===0?.5:(i[t]-r)/n)}}return i}},67752:function(G){G.exports=function(e,g){var R=typeof e=="number",i=typeof g=="number";R&&!i?(g=e,e=0):!R&&!i&&(e=0,g=0),e=e|0,g=g|0;var C=g-e;if(C<0)throw new Error("array length must be positive");for(var S=new Array(C),v=0,d=e;v<C;v++,d++)S[v]=d;return S}},45408:function(G,H,e){var g=e(4168);function R(Q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(re){return typeof re}:R=function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},R(Q)}function i(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")}var C=e(86832),S=C.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,d=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,a=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,y=l.isPromise,h=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,p;function x(){var Q=e(25116);o=Q.isDeepEqual,p=Q.isDeepStrictEqual}var b=!1,P=G.exports=E,m={};function L(Q){throw Q.message instanceof Error?Q.message:new n(Q)}function M(Q,ee,re,ue,J){var X=arguments.length,ne;if(X===0)ne="Failed";else if(X===1)re=Q,Q=void 0;else{if(b===!1){b=!0;var Y=g.emitWarning?g.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}X===2&&(ue="!=")}if(re instanceof Error)throw re;var oe={actual:Q,expected:ee,operator:ue===void 0?"fail":ue,stackStartFn:J||M};re!==void 0&&(oe.message=re);var le=new n(oe);throw ne&&(le.message=ne,le.generatedMessage=!0),le}P.fail=M,P.AssertionError=n;function s(Q,ee,re,ue){if(!re){var J=!1;if(ee===0)J=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var X=new n({actual:re,expected:!0,message:ue,operator:"==",stackStartFn:Q});throw X.generatedMessage=J,X}}function E(){for(var Q=arguments.length,ee=new Array(Q),re=0;re<Q;re++)ee[re]=arguments[re];s.apply(void 0,[E,ee.length].concat(ee))}P.ok=E,P.equal=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");ee!=re&&L({actual:ee,expected:re,message:ue,operator:"==",stackStartFn:Q})},P.notEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");ee==re&&L({actual:ee,expected:re,message:ue,operator:"!=",stackStartFn:Q})},P.deepEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),o(ee,re)||L({actual:ee,expected:re,message:ue,operator:"deepEqual",stackStartFn:Q})},P.notDeepEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),o(ee,re)&&L({actual:ee,expected:re,message:ue,operator:"notDeepEqual",stackStartFn:Q})},P.deepStrictEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),p(ee,re)||L({actual:ee,expected:re,message:ue,operator:"deepStrictEqual",stackStartFn:Q})},P.notDeepStrictEqual=w;function w(Q,ee,re){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),p(Q,ee)&&L({actual:Q,expected:ee,message:re,operator:"notDeepStrictEqual",stackStartFn:w})}P.strictEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");c(ee,re)||L({actual:ee,expected:re,message:ue,operator:"strictEqual",stackStartFn:Q})},P.notStrictEqual=function Q(ee,re,ue){if(arguments.length<2)throw new a("actual","expected");c(ee,re)&&L({actual:ee,expected:re,message:ue,operator:"notStrictEqual",stackStartFn:Q})};var _=function Q(ee,re,ue){var J=this;i(this,Q),re.forEach(function(X){X in ee&&(ue!==void 0&&typeof ue[X]=="string"&&h(ee[X])&&ee[X].test(ue[X])?J[X]=ue[X]:J[X]=ee[X])})};function D(Q,ee,re,ue,J,X){if(!(re in Q)||!p(Q[re],ee[re])){if(!ue){var ne=new _(Q,J),Y=new _(ee,J,Q),oe=new n({actual:ne,expected:Y,operator:"deepStrictEqual",stackStartFn:X});throw oe.actual=Q,oe.expected=ee,oe.operator=X.name,oe}L({actual:Q,expected:ee,message:ue,operator:X.name,stackStartFn:X})}}function N(Q,ee,re,ue){if(typeof ee!="function"){if(h(ee))return ee.test(Q);if(arguments.length===2)throw new d("expected",["Function","RegExp"],ee);if(R(Q)!=="object"||Q===null){var J=new n({actual:Q,expected:ee,message:re,operator:"deepStrictEqual",stackStartFn:ue});throw J.operator=ue.name,J}var X=Object.keys(ee);if(ee instanceof Error)X.push("name","message");else if(X.length===0)throw new r("error",ee,"may not be an empty object");return o===void 0&&x(),X.forEach(function(ne){typeof Q[ne]=="string"&&h(ee[ne])&&ee[ne].test(Q[ne])||D(Q,ee,ne,re,X,ue)}),!0}return ee.prototype!==void 0&&Q instanceof ee?!0:Error.isPrototypeOf(ee)?!1:ee.call({},Q)===!0}function z(Q){if(typeof Q!="function")throw new d("fn","Function",Q);try{Q()}catch(ee){return ee}return m}function F(Q){return y(Q)||Q!==null&&R(Q)==="object"&&typeof Q.then=="function"&&typeof Q.catch=="function"}function U(Q){return Promise.resolve().then(function(){var ee;if(typeof Q=="function"){if(ee=Q(),!F(ee))throw new t("instance of Promise","promiseFn",ee)}else if(F(Q))ee=Q;else throw new d("promiseFn",["Function","Promise"],Q);return Promise.resolve().then(function(){return ee}).then(function(){return m}).catch(function(re){return re})})}function B(Q,ee,re,ue){if(typeof re=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],re);if(R(ee)==="object"&&ee!==null){if(ee.message===re)throw new v("error/message",'The error message "'.concat(ee.message,'" is identical to the message.'))}else if(ee===re)throw new v("error/message",'The error "'.concat(ee,'" is identical to the message.'));ue=re,re=void 0}else if(re!=null&&R(re)!=="object"&&typeof re!="function")throw new d("error",["Object","Error","Function","RegExp"],re);if(ee===m){var J="";re&&re.name&&(J+=" (".concat(re.name,")")),J+=ue?": ".concat(ue):".";var X=Q.name==="rejects"?"rejection":"exception";L({actual:void 0,expected:re,operator:Q.name,message:"Missing expected ".concat(X).concat(J),stackStartFn:Q})}if(re&&!N(ee,re,ue,Q))throw ee}function V(Q,ee,re,ue){if(ee!==m){if(typeof re=="string"&&(ue=re,re=void 0),!re||N(ee,re)){var J=ue?": ".concat(ue):".",X=Q.name==="doesNotReject"?"rejection":"exception";L({actual:ee,expected:re,operator:Q.name,message:"Got unwanted ".concat(X).concat(J,`
`)+'Actual message: "'.concat(ee&&ee.message,'"'),stackStartFn:Q})}throw ee}}P.throws=function Q(ee){for(var re=arguments.length,ue=new Array(re>1?re-1:0),J=1;J<re;J++)ue[J-1]=arguments[J];B.apply(void 0,[Q,z(ee)].concat(ue))},P.rejects=function Q(ee){for(var re=arguments.length,ue=new Array(re>1?re-1:0),J=1;J<re;J++)ue[J-1]=arguments[J];return U(ee).then(function(X){return B.apply(void 0,[Q,X].concat(ue))})},P.doesNotThrow=function Q(ee){for(var re=arguments.length,ue=new Array(re>1?re-1:0),J=1;J<re;J++)ue[J-1]=arguments[J];V.apply(void 0,[Q,z(ee)].concat(ue))},P.doesNotReject=function Q(ee){for(var re=arguments.length,ue=new Array(re>1?re-1:0),J=1;J<re;J++)ue[J-1]=arguments[J];return U(ee).then(function(X){return V.apply(void 0,[Q,X].concat(ue))})},P.ifError=function Q(ee){if(ee!=null){var re="ifError got unwanted exception: ";R(ee)==="object"&&typeof ee.message=="string"?ee.message.length===0&&ee.constructor?re+=ee.constructor.name:re+=ee.message:re+=u(ee);var ue=new n({actual:ee,expected:null,operator:"ifError",message:re,stackStartFn:Q}),J=ee.stack;if(typeof J=="string"){var X=J.split(`
`);X.shift();for(var ne=ue.stack.split(`
`),Y=0;Y<X.length;Y++){var oe=ne.indexOf(X[Y]);if(oe!==-1){ne=ne.slice(0,oe);break}}ue.stack="".concat(ne.join(`
`),`
`).concat(X.join(`
`))}throw ue}};function j(){for(var Q=arguments.length,ee=new Array(Q),re=0;re<Q;re++)ee[re]=arguments[re];s.apply(void 0,[j,ee.length].concat(ee))}P.strict=T(j,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},26144:function(G,H,e){var g=e(4168);function R(z){for(var F=1;F<arguments.length;F++){var U=arguments[F]!=null?arguments[F]:{},B=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(U).filter(function(V){return Object.getOwnPropertyDescriptor(U,V).enumerable}))),B.forEach(function(V){i(z,V,U[V])})}return z}function i(z,F,U){return F in z?Object.defineProperty(z,F,{value:U,enumerable:!0,configurable:!0,writable:!0}):z[F]=U,z}function C(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}function S(z,F){for(var U=0;U<F.length;U++){var B=F[U];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(z,B.key,B)}}function v(z,F,U){return F&&S(z.prototype,F),z}function d(z,F){return F&&(h(F)==="object"||typeof F=="function")?F:r(z)}function r(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function t(z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),F&&l(z,F)}function a(z){var F=typeof Map=="function"?new Map:void 0;return a=function(B){if(B===null||!u(B))return B;if(typeof B!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(B))return F.get(B);F.set(B,V)}function V(){return f(B,arguments,y(this).constructor)}return V.prototype=Object.create(B.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),l(V,B)},a(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(z,F,U){return n()?f=Reflect.construct:f=function(V,j,Q){var ee=[null];ee.push.apply(ee,j);var re=Function.bind.apply(V,ee),ue=new re;return Q&&l(ue,Q.prototype),ue},f.apply(null,arguments)}function u(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function l(z,F){return l=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B},l(z,F)}function y(z){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},y(z)}function h(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(U){return typeof U}:h=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},h(z)}var T=e(35840),c=T.inspect,o=e(86832),p=o.codes.ERR_INVALID_ARG_TYPE;function x(z,F,U){return(U===void 0||U>z.length)&&(U=z.length),z.substring(U-F.length,U)===F}function b(z,F){if(F=Math.floor(F),z.length==0||F==0)return"";var U=z.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)z+=z,F--;return z+=z.substring(0,U-z.length),z}var P="",m="",L="",M="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function w(z){var F=Object.keys(z),U=Object.create(Object.getPrototypeOf(z));return F.forEach(function(B){U[B]=z[B]}),Object.defineProperty(U,"message",{value:z.message}),U}function _(z){return c(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(z,F,U){var B="",V="",j=0,Q="",ee=!1,re=_(z),ue=re.split(`
`),J=_(F).split(`
`),X=0,ne="";if(U==="strictEqual"&&h(z)==="object"&&h(F)==="object"&&z!==null&&F!==null&&(U="strictEqualObject"),ue.length===1&&J.length===1&&ue[0]!==J[0]){var Y=ue[0].length+J[0].length;if(Y<=E){if((h(z)!=="object"||z===null)&&(h(F)!=="object"||F===null)&&(z!==0||F!==0))return"".concat(s[U],`

`)+"".concat(ue[0]," !== ").concat(J[0],`
`)}else if(U!=="strictEqualObject"){var oe=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(Y<oe){for(;ue[0][X]===J[0][X];)X++;X>2&&(ne=`
  `.concat(b(" ",X),"^"),X=0)}}}for(var le=ue[ue.length-1],Z=J[J.length-1];le===Z&&(X++<2?Q=`
  `.concat(le).concat(Q):B=le,ue.pop(),J.pop(),!(ue.length===0||J.length===0));)le=ue[ue.length-1],Z=J[J.length-1];var $=Math.max(ue.length,J.length);if($===0){var se=re.split(`
`);if(se.length>30)for(se[26]="".concat(P,"...").concat(M);se.length>27;)se.pop();return"".concat(s.notIdentical,`

`).concat(se.join(`
`),`
`)}X>3&&(Q=`
`.concat(P,"...").concat(M).concat(Q),ee=!0),B!==""&&(Q=`
  `.concat(B).concat(Q),B="");var ae=0,he=s[U]+`
`.concat(m,"+ actual").concat(M," ").concat(L,"- expected").concat(M),me=" ".concat(P,"...").concat(M," Lines skipped");for(X=0;X<$;X++){var Me=X-j;if(ue.length<X+1)Me>1&&X>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),ee=!0):Me>3&&(V+=`
  `.concat(J[X-2]),ae++),V+=`
  `.concat(J[X-1]),ae++),j=X,B+=`
`.concat(L,"-").concat(M," ").concat(J[X]),ae++;else if(J.length<X+1)Me>1&&X>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),ee=!0):Me>3&&(V+=`
  `.concat(ue[X-2]),ae++),V+=`
  `.concat(ue[X-1]),ae++),j=X,V+=`
`.concat(m,"+").concat(M," ").concat(ue[X]),ae++;else{var Te=J[X],Pe=ue[X],be=Pe!==Te&&(!x(Pe,",")||Pe.slice(0,-1)!==Te);be&&x(Te,",")&&Te.slice(0,-1)===Pe&&(be=!1,Pe+=","),be?(Me>1&&X>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),ee=!0):Me>3&&(V+=`
  `.concat(ue[X-2]),ae++),V+=`
  `.concat(ue[X-1]),ae++),j=X,V+=`
`.concat(m,"+").concat(M," ").concat(Pe),B+=`
`.concat(L,"-").concat(M," ").concat(Te),ae+=2):(V+=B,B="",(Me===1||X===0)&&(V+=`
  `.concat(Pe),ae++))}if(ae>20&&X<$-2)return"".concat(he).concat(me,`
`).concat(V,`
`).concat(P,"...").concat(M).concat(B,`
`)+"".concat(P,"...").concat(M)}return"".concat(he).concat(ee?me:"",`
`).concat(V).concat(B).concat(Q).concat(ne)}var N=function(z){t(F,z);function F(U){var B;if(C(this,F),h(U)!=="object"||U===null)throw new p("options","Object",U);var V=U.message,j=U.operator,Q=U.stackStartFn,ee=U.actual,re=U.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)B=d(this,y(F).call(this,String(V)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(P="\x1B[34m",m="\x1B[32m",M="\x1B[39m",L="\x1B[31m"):(P="",m="",M="",L="")),h(ee)==="object"&&ee!==null&&h(re)==="object"&&re!==null&&"stack"in ee&&ee instanceof Error&&"stack"in re&&re instanceof Error&&(ee=w(ee),re=w(re)),j==="deepStrictEqual"||j==="strictEqual")B=d(this,y(F).call(this,D(ee,re,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var J=s[j],X=_(ee).split(`
`);if(j==="notStrictEqual"&&h(ee)==="object"&&ee!==null&&(J=s.notStrictEqualObject),X.length>30)for(X[26]="".concat(P,"...").concat(M);X.length>27;)X.pop();X.length===1?B=d(this,y(F).call(this,"".concat(J," ").concat(X[0]))):B=d(this,y(F).call(this,"".concat(J,`

`).concat(X.join(`
`),`
`)))}else{var ne=_(ee),Y="",oe=s[j];j==="notDeepEqual"||j==="notEqual"?(ne="".concat(s[j],`

`).concat(ne),ne.length>1024&&(ne="".concat(ne.slice(0,1021),"..."))):(Y="".concat(_(re)),ne.length>512&&(ne="".concat(ne.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),j==="deepEqual"||j==="equal"?ne="".concat(oe,`

`).concat(ne,`

should equal

`):Y=" ".concat(j," ").concat(Y)),B=d(this,y(F).call(this,"".concat(ne).concat(Y)))}return Error.stackTraceLimit=ue,B.generatedMessage=!V,Object.defineProperty(r(B),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),B.code="ERR_ASSERTION",B.actual=ee,B.expected=re,B.operator=j,Error.captureStackTrace&&Error.captureStackTrace(r(B),Q),B.stack,B.name="AssertionError",d(B)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(B,V){return c(this,R({},V,{customInspect:!1,depth:0}))}}]),F}(a(Error));G.exports=N},86832:function(G,H,e){function g(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(c){return typeof c}:g=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(h)}function R(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function i(h,T){return T&&(g(T)==="object"||typeof T=="function")?T:C(h)}function C(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},S(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&d(h,T)}function d(h,T){return d=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},d(h,T)}var r={},t,a;function n(h,T,c){c||(c=Error);function o(x,b,P){return typeof T=="string"?T:T(x,b,P)}var p=function(x){v(b,x);function b(P,m,L){var M;return R(this,b),M=i(this,S(b).call(this,o(P,m,L))),M.code=h,M}return b}(c);r[h]=p}function f(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function u(h,T,c){return h.substr(0,T.length)===T}function l(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function y(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof T=="string"&&u(T,"not ")?(o="must not be",T=T.replace(/^not /,"")):o="must be";var p;if(l(h," argument"))p="The ".concat(h," ").concat(o," ").concat(f(T,"type"));else{var x=y(h,".")?"property":"argument";p='The "'.concat(h,'" ').concat(x," ").concat(o," ").concat(f(T,"type"))}return p+=". Received type ".concat(g(c)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=e(35840));var o=a.inspect(T);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,T,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(g(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var o="The ",p=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),p){case 1:o+="".concat(T[0]," argument");break;case 2:o+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:o+=T.slice(0,p-1).join(", "),o+=", and ".concat(T[p-1]," arguments");break}return"".concat(o," must be specified")},TypeError),G.exports.codes=r},25116:function(G,H,e){function g(Ee,xe){return C(Ee)||i(Ee,xe)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(Ee,xe){var Ce=[],Ue=!0,Ne=!1,De=void 0;try{for(var He=Ee[Symbol.iterator](),at;!(Ue=(at=He.next()).done)&&(Ce.push(at.value),!(xe&&Ce.length===xe));Ue=!0);}catch(vt){Ne=!0,De=vt}finally{try{!Ue&&He.return!=null&&He.return()}finally{if(Ne)throw De}}return Ce}function C(Ee){if(Array.isArray(Ee))return Ee}function S(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Ce){return typeof Ce}:S=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},S(Ee)}var v=/a/g.flags!==void 0,d=function(xe){var Ce=[];return xe.forEach(function(Ue){return Ce.push(Ue)}),Ce},r=function(xe){var Ce=[];return xe.forEach(function(Ue,Ne){return Ce.push([Ne,Ue])}),Ce},t=Object.is?Object.is:e(39896),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Ee){return Ee.call.bind(Ee)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),y=f(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,p=h.isMap,x=h.isRegExp,b=h.isSet,P=h.isNativeError,m=h.isBoxedPrimitive,L=h.isNumberObject,M=h.isStringObject,s=h.isBooleanObject,E=h.isBigIntObject,w=h.isSymbolObject,_=h.isFloat32Array,D=h.isFloat64Array;function N(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var xe=0;xe<Ee.length;xe++){var Ce=Ee.charCodeAt(xe);if(Ce<48||Ce>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function z(Ee){return Object.keys(Ee).filter(N).concat(a(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(Ee,xe){if(Ee===xe)return 0;for(var Ce=Ee.length,Ue=xe.length,Ne=0,De=Math.min(Ce,Ue);Ne<De;++Ne)if(Ee[Ne]!==xe[Ne]){Ce=Ee[Ne],Ue=xe[Ne];break}return Ce<Ue?-1:Ue<Ce?1:0}var U=!0,B=!1,V=0,j=1,Q=2,ee=3;function re(Ee,xe){return v?Ee.source===xe.source&&Ee.flags===xe.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(xe)}function ue(Ee,xe){if(Ee.byteLength!==xe.byteLength)return!1;for(var Ce=0;Ce<Ee.byteLength;Ce++)if(Ee[Ce]!==xe[Ce])return!1;return!0}function J(Ee,xe){return Ee.byteLength!==xe.byteLength?!1:F(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function X(Ee,xe){return Ee.byteLength===xe.byteLength&&F(new Uint8Array(Ee),new Uint8Array(xe))===0}function ne(Ee,xe){return L(Ee)?L(xe)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(xe)):M(Ee)?M(xe)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(xe):s(Ee)?s(xe)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(xe):E(Ee)?E(xe)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(xe):w(xe)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(xe)}function Y(Ee,xe,Ce,Ue){if(Ee===xe)return Ee!==0?!0:Ce?t(Ee,xe):!0;if(Ce){if(S(Ee)!=="object")return typeof Ee=="number"&&n(Ee)&&n(xe);if(S(xe)!=="object"||Ee===null||xe===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(xe))return!1}else{if(Ee===null||S(Ee)!=="object")return xe===null||S(xe)!=="object"?Ee==xe:!1;if(xe===null||S(xe)!=="object")return!1}var Ne=y(Ee),De=y(xe);if(Ne!==De)return!1;if(Array.isArray(Ee)){if(Ee.length!==xe.length)return!1;var He=z(Ee),at=z(xe);return He.length!==at.length?!1:le(Ee,xe,Ce,Ue,j,He)}if(Ne==="[object Object]"&&(!p(Ee)&&p(xe)||!b(Ee)&&b(xe)))return!1;if(o(Ee)){if(!o(xe)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(xe))return!1}else if(x(Ee)){if(!x(xe)||!re(Ee,xe))return!1}else if(P(Ee)||Ee instanceof Error){if(Ee.message!==xe.message||Ee.name!==xe.name)return!1}else if(c(Ee)){if(!Ce&&(_(Ee)||D(Ee))){if(!ue(Ee,xe))return!1}else if(!J(Ee,xe))return!1;var vt=z(Ee),ot=z(xe);return vt.length!==ot.length?!1:le(Ee,xe,Ce,Ue,V,vt)}else{if(b(Ee))return!b(xe)||Ee.size!==xe.size?!1:le(Ee,xe,Ce,Ue,Q);if(p(Ee))return!p(xe)||Ee.size!==xe.size?!1:le(Ee,xe,Ce,Ue,ee);if(T(Ee)){if(!X(Ee,xe))return!1}else if(m(Ee)&&!ne(Ee,xe))return!1}return le(Ee,xe,Ce,Ue,V)}function oe(Ee,xe){return xe.filter(function(Ce){return l(Ee,Ce)})}function le(Ee,xe,Ce,Ue,Ne,De){if(arguments.length===5){De=Object.keys(Ee);var He=Object.keys(xe);if(De.length!==He.length)return!1}for(var at=0;at<De.length;at++)if(!u(xe,De[at]))return!1;if(Ce&&arguments.length===5){var vt=a(Ee);if(vt.length!==0){var ot=0;for(at=0;at<vt.length;at++){var et=vt[at];if(l(Ee,et)){if(!l(xe,et))return!1;De.push(et),ot++}else if(l(xe,et))return!1}var ct=a(xe);if(vt.length!==ct.length&&oe(xe,ct).length!==ot)return!1}else{var ht=a(xe);if(ht.length!==0&&oe(xe,ht).length!==0)return!1}}if(De.length===0&&(Ne===V||Ne===j&&Ee.length===0||Ee.size===0))return!0;if(Ue===void 0)Ue={val1:new Map,val2:new Map,position:0};else{var gt=Ue.val1.get(Ee);if(gt!==void 0){var xt=Ue.val2.get(xe);if(xt!==void 0)return gt===xt}Ue.position++}Ue.val1.set(Ee,Ue.position),Ue.val2.set(xe,Ue.position);var Mt=Te(Ee,xe,Ce,De,Ue,Ne);return Ue.val1.delete(Ee),Ue.val2.delete(xe),Mt}function Z(Ee,xe,Ce,Ue){for(var Ne=d(Ee),De=0;De<Ne.length;De++){var He=Ne[De];if(Y(xe,He,Ce,Ue))return Ee.delete(He),!0}return!1}function $(Ee){switch(S(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(n(Ee))return!1}return!0}function se(Ee,xe,Ce){var Ue=$(Ce);return Ue??(xe.has(Ue)&&!Ee.has(Ue))}function ae(Ee,xe,Ce,Ue,Ne){var De=$(Ce);if(De!=null)return De;var He=xe.get(De);return He===void 0&&!xe.has(De)||!Y(Ue,He,!1,Ne)?!1:!Ee.has(De)&&Y(Ue,He,!1,Ne)}function he(Ee,xe,Ce,Ue){for(var Ne=null,De=d(Ee),He=0;He<De.length;He++){var at=De[He];if(S(at)==="object"&&at!==null)Ne===null&&(Ne=new Set),Ne.add(at);else if(!xe.has(at)){if(Ce||!se(Ee,xe,at))return!1;Ne===null&&(Ne=new Set),Ne.add(at)}}if(Ne!==null){for(var vt=d(xe),ot=0;ot<vt.length;ot++){var et=vt[ot];if(S(et)==="object"&&et!==null){if(!Z(Ne,et,Ce,Ue))return!1}else if(!Ce&&!Ee.has(et)&&!Z(Ne,et,Ce,Ue))return!1}return Ne.size===0}return!0}function me(Ee,xe,Ce,Ue,Ne,De){for(var He=d(Ee),at=0;at<He.length;at++){var vt=He[at];if(Y(Ce,vt,Ne,De)&&Y(Ue,xe.get(vt),Ne,De))return Ee.delete(vt),!0}return!1}function Me(Ee,xe,Ce,Ue){for(var Ne=null,De=r(Ee),He=0;He<De.length;He++){var at=g(De[He],2),vt=at[0],ot=at[1];if(S(vt)==="object"&&vt!==null)Ne===null&&(Ne=new Set),Ne.add(vt);else{var et=xe.get(vt);if(et===void 0&&!xe.has(vt)||!Y(ot,et,Ce,Ue)){if(Ce||!ae(Ee,xe,vt,ot,Ue))return!1;Ne===null&&(Ne=new Set),Ne.add(vt)}}}if(Ne!==null){for(var ct=r(xe),ht=0;ht<ct.length;ht++){var gt=g(ct[ht],2),vt=gt[0],xt=gt[1];if(S(vt)==="object"&&vt!==null){if(!me(Ne,Ee,vt,xt,Ce,Ue))return!1}else if(!Ce&&(!Ee.has(vt)||!Y(Ee.get(vt),xt,!1,Ue))&&!me(Ne,Ee,vt,xt,!1,Ue))return!1}return Ne.size===0}return!0}function Te(Ee,xe,Ce,Ue,Ne,De){var He=0;if(De===Q){if(!he(Ee,xe,Ce,Ne))return!1}else if(De===ee){if(!Me(Ee,xe,Ce,Ne))return!1}else if(De===j)for(;He<Ee.length;He++)if(u(Ee,He)){if(!u(xe,He)||!Y(Ee[He],xe[He],Ce,Ne))return!1}else{if(u(xe,He))return!1;for(var at=Object.keys(Ee);He<at.length;He++){var vt=at[He];if(!u(xe,vt)||!Y(Ee[vt],xe[vt],Ce,Ne))return!1}return at.length===Object.keys(xe).length}for(He=0;He<Ue.length;He++){var ot=Ue[He];if(!Y(Ee[ot],xe[ot],Ce,Ne))return!1}return!0}function Pe(Ee,xe){return Y(Ee,xe,B)}function be(Ee,xe){return Y(Ee,xe,U)}G.exports={isDeepEqual:Pe,isDeepStrictEqual:be}},83160:function(G,H,e){e.r(H),e.d(H,{decode:function(){return S},encode:function(){return C}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<g.length;i++)R[g.charCodeAt(i)]=i;var C=function(v){var d=new Uint8Array(v),r,t=d.length,a="";for(r=0;r<t;r+=3)a+=g[d[r]>>2],a+=g[(d[r]&3)<<4|d[r+1]>>4],a+=g[(d[r+1]&15)<<2|d[r+2]>>6],a+=g[d[r+2]&63];return t%3===2?a=a.substring(0,a.length-1)+"=":t%3===1&&(a=a.substring(0,a.length-2)+"=="),a},S=function(v){var d=v.length*.75,r=v.length,t,a=0,n,f,u,l;v[v.length-1]==="="&&(d--,v[v.length-2]==="="&&d--);var y=new ArrayBuffer(d),h=new Uint8Array(y);for(t=0;t<r;t+=4)n=R[v.charCodeAt(t)],f=R[v.charCodeAt(t+1)],u=R[v.charCodeAt(t+2)],l=R[v.charCodeAt(t+3)],h[a++]=n<<2|f>>4,h[a++]=(f&15)<<4|u>>2,h[a++]=(u&3)<<6|l&63;return y}},59968:function(G,H){H.byteLength=d,H.toByteArray=t,H.fromByteArray=f;for(var e=[],g=[],R=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,S=i.length;C<S;++C)e[C]=i[C],g[i.charCodeAt(C)]=C;g[45]=62,g[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=u.indexOf("=");y===-1&&(y=l);var h=y===l?0:4-y%4;return[y,h]}function d(u){var l=v(u),y=l[0],h=l[1];return(y+h)*3/4-h}function r(u,l,y){return(l+y)*3/4-y}function t(u){var l,y=v(u),h=y[0],T=y[1],c=new R(r(u,h,T)),o=0,p=T>0?h-4:h,x;for(x=0;x<p;x+=4)l=g[u.charCodeAt(x)]<<18|g[u.charCodeAt(x+1)]<<12|g[u.charCodeAt(x+2)]<<6|g[u.charCodeAt(x+3)],c[o++]=l>>16&255,c[o++]=l>>8&255,c[o++]=l&255;return T===2&&(l=g[u.charCodeAt(x)]<<2|g[u.charCodeAt(x+1)]>>4,c[o++]=l&255),T===1&&(l=g[u.charCodeAt(x)]<<10|g[u.charCodeAt(x+1)]<<4|g[u.charCodeAt(x+2)]>>2,c[o++]=l>>8&255,c[o++]=l&255),c}function a(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,y){for(var h,T=[],c=l;c<y;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),T.push(a(h));return T.join("")}function f(u){for(var l,y=u.length,h=y%3,T=[],c=16383,o=0,p=y-h;o<p;o+=c)T.push(n(u,o,o+c>p?p:o+c));return h===1?(l=u[y-1],T.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[y-2]<<8)+u[y-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(G){function H(S,v,d,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u>=0?(a=n,t=n-1):r=n+1}return a}function e(S,v,d,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u>0?(a=n,t=n-1):r=n+1}return a}function g(S,v,d,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u<0?(a=n,r=n+1):t=n-1}return a}function R(S,v,d,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u<=0?(a=n,r=n+1):t=n-1}return a}function i(S,v,d,r,t){for(;r<=t;){var a=r+t>>>1,n=S[a],f=d!==void 0?d(n,v):n-v;if(f===0)return a;f<=0?r=a+1:t=a-1}return-1}function C(S,v,d,r,t,a){return typeof d=="function"?a(S,v,d,r===void 0?0:r|0,t===void 0?S.length-1:t|0):a(S,v,void 0,d===void 0?0:d|0,r===void 0?S.length-1:r|0)}G.exports={ge:function(S,v,d,r,t){return C(S,v,d,r,t,H)},gt:function(S,v,d,r,t){return C(S,v,d,r,t,e)},lt:function(S,v,d,r,t){return C(S,v,d,r,t,g)},le:function(S,v,d,r,t){return C(S,v,d,r,t,R)},eq:function(S,v,d,r,t){return C(S,v,d,r,t,i)}}},308:function(G,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(i){return(i>0)-(i<0)},H.abs=function(i){var C=i>>e-1;return(i^C)-C},H.min=function(i,C){return C^(i^C)&-(i<C)},H.max=function(i,C){return i^(i^C)&-(i<C)},H.isPow2=function(i){return!(i&i-1)&&!!i},H.log2=function(i){var C,S;return C=(i>65535)<<4,i>>>=C,S=(i>255)<<3,i>>>=S,C|=S,S=(i>15)<<2,i>>>=S,C|=S,S=(i>3)<<1,i>>>=S,C|=S,C|i>>1},H.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},H.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function g(i){var C=32;return i&=-i,i&&C--,i&65535&&(C-=16),i&16711935&&(C-=8),i&252645135&&(C-=4),i&858993459&&(C-=2),i&1431655765&&(C-=1),C}H.countTrailingZeros=g,H.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},H.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},H.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var R=new Array(256);(function(i){for(var C=0;C<256;++C){var S=C,v=C,d=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--d;i[C]=v<<d&255}})(R),H.reverse=function(i){return R[i&255]<<24|R[i>>>8&255]<<16|R[i>>>16&255]<<8|R[i>>>24&255]},H.interleave2=function(i,C){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,i|C<<1},H.deinterleave2=function(i,C){return i=i>>>C&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},H.interleave3=function(i,C,S){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,i|=C<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,i|S<<2},H.deinterleave3=function(i,C){return i=i>>>C&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},H.nextCombination=function(i){var C=i|i-1;return C+1|(~C&-~C)-1>>>g(i)+1}},29620:function(G,H,e){var g=e(32420);G.exports=i;var R=1e20;function i(v,d){d||(d={});var r=d.cutoff==null?.25:d.cutoff,t=d.radius==null?8:d.radius,a=d.channel||0,n,f,u,l,y,h,T,c,o,p,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");n=d.width,f=d.height,l=v,d.stride?h=d.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),n=c.width,f=c.height,o=T.getImageData(0,0,n,f),l=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,n=c.width,f=c.height,o=T.getImageData(0,0,n,f),l=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,f=v.height,l=o.data,h=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(y=l,l=Array(n*f),p=0,x=y.length;p<x;p++)l[p]=y[p*h+a]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var b=Array(n*f),P=Array(n*f),m=Array(u),L=Array(u),M=Array(u+1),s=Array(u);for(p=0,x=n*f;p<x;p++){var E=l[p];b[p]=E===1?0:E===0?R:Math.pow(Math.max(0,.5-E),2),P[p]=E===1?R:E===0?0:Math.pow(Math.max(0,E-.5),2)}C(b,n,f,m,L,s,M),C(P,n,f,m,L,s,M);var w=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(p=0,x=n*f;p<x;p++)w[p]=g(1-((b[p]-P[p])/t+r),0,1);return w}function C(v,d,r,t,a,n,f){for(var u=0;u<d;u++){for(var l=0;l<r;l++)t[l]=v[l*d+u];for(S(t,a,n,f,r),l=0;l<r;l++)v[l*d+u]=a[l]}for(l=0;l<r;l++){for(u=0;u<d;u++)t[u]=v[l*d+u];for(S(t,a,n,f,d),u=0;u<d;u++)v[l*d+u]=Math.sqrt(a[u])}}function S(v,d,r,t,a){r[0]=0,t[0]=-R,t[1]=+R;for(var n=1,f=0;n<a;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+R}for(n=0,f=0;n<a;n++){for(;t[f+1]<n;)f++;d[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(G,H,e){var g=e(53664),R=e(57916),i=R(g("String.prototype.indexOf"));G.exports=function(S,v){var d=g(S,!!v);return typeof d=="function"&&i(S,".prototype.")>-1?R(d):d}},57916:function(G,H,e){var g=e(8844),R=e(53664),i=e(14500),C=R("%TypeError%"),S=R("%Function.prototype.apply%"),v=R("%Function.prototype.call%"),d=R("%Reflect.apply%",!0)||g.call(v,S),r=R("%Object.defineProperty%",!0),t=R("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(f){if(typeof f!="function")throw new C("a function is required");var u=d(g,v,arguments);return i(u,1+t(0,f.length-(arguments.length-1)),!0)};var a=function(){return d(g,S,arguments)};r?r(G.exports,"apply",{value:a}):G.exports.apply=a},32420:function(G){G.exports=H;function H(e,g,R){return g<R?e<g?g:e>R?R:e:e<R?R:e>g?g:e}},3808:function(G,H,e){var g=e(32420);G.exports=R,G.exports.to=R,G.exports.from=i;function R(C,S){S==null&&(S=!0);var v=C[0],d=C[1],r=C[2],t=C[3];t==null&&(t=S?1:255),S&&(v*=255,d*=255,r*=255,t*=255),v=g(v,0,255)&255,d=g(d,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var a=v*16777216+(d<<16)+(r<<8)+t;return a}function i(C,S){C=+C;var v=C>>>24,d=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return S===!1?[v,d,r,t]:[v/255,d/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,H,e){var g=e(96824),R=e(32420),i=e(72512);G.exports=function(v,d){(d==="float"||!d)&&(d="array"),d==="uint"&&(d="uint8"),d==="uint_clamped"&&(d="uint8_clamped");var r=i(d),t=new r(4),a=d!=="uint8"&&d!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,a&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(a?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=R(Math.floor(v[0]*255),0,255),t[1]=R(Math.floor(v[1]*255),0,255),t[2]=R(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:R(Math.floor(v[3]*255),0,255)),t)};function C(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(G,H,e){var g=e(95532),R=e(53576),i=e(32420);G.exports=function(S){var v,d=g(S);return d.space?(v=Array(3),v[0]=i(d.values[0],0,255),v[1]=i(d.values[1],0,255),v[2]=i(d.values[2],0,255),d.space[0]==="h"&&(v=R.rgb(v)),v.push(i(d.alpha,0,1)),v):[]}},95532:function(G,H,e){var g=e(17592);G.exports=i;var R={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(C){var S,v=[],d=1,r;if(typeof C=="string")if(C=C.toLowerCase(),g[C])v=g[C].slice(),r="rgb";else if(C==="transparent")d=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(C)){var t=C.slice(1),a=t.length,n=a<=4;d=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],a===4&&(d=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],a===8&&(d=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(C)){var f=S[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var a=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===a?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(R[h]!==void 0)return R[h]}return parseFloat(h)}),f===t&&v.push(1),d=u||v[a]===void 0?1:v[a],v=v.slice(0,a)}else C.length>10&&/[0-9](?:\s|\/)/.test(C)&&(v=C.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=C.match(/([a-z])/ig).join("").toLowerCase());else isNaN(C)?Array.isArray(C)||C.length?(v=[C[0],C[1],C[2]],r="rgb",d=C.length===4?C[3]:1):C instanceof Object&&(C.r!=null||C.red!=null||C.R!=null?(r="rgb",v=[C.r||C.red||C.R||0,C.g||C.green||C.G||0,C.b||C.blue||C.B||0]):(r="hsl",v=[C.h||C.hue||C.H||0,C.s||C.saturation||C.S||0,C.l||C.lightness||C.L||C.b||C.brightness]),d=C.a||C.alpha||C.opacity||1,C.opacity!=null&&(d/=100)):(r="rgb",v=[C>>>16,(C&65280)>>>8,C&255]);return{space:r,values:v,alpha:d}}},53576:function(G,H,e){var g=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(R){var i=R[0]/360,C=R[1]/100,S=R[2]/100,v,d,r,t,a;if(C===0)return a=S*255,[a,a,a];S<.5?d=S*(1+C):d=S+C-S*C,v=2*S-d,t=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?a=v+(d-v)*6*r:2*r<1?a=d:3*r<2?a=v+(d-v)*(.6666666666666666-r)*6:a=v,t[n]=a*255;return t}},g.hsl=function(R){var i=R[0]/255,C=R[1]/255,S=R[2]/255,v=Math.min(i,C,S),d=Math.max(i,C,S),r=d-v,t,a,n;return d===v?t=0:i===d?t=(C-S)/r:C===d?t=2+(S-i)/r:S===d&&(t=4+(i-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+d)/2,d===v?a=0:n<=.5?a=r/(d+v):a=r/(2-d-v),[t,a*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,H,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,H,e){var g=e(30584);G.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||g.indexOf(i)!==-1}}},46416:function(G,H,e){var g=e(92384),R=e(68194),i=e(3748),C=e(2904),S=e(47916),v=e(7294),d=e(39956),r=e(8744).isSize;G.exports=a;var t=a.cache={};function a(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=d(f,/\s+/),y;y=l.shift();){if(R.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=y}),t[f]=u;if(S.indexOf(y)!==-1){u.style=y;continue}if(y==="normal"||y==="small-caps"){u.variant=y;continue}if(v.indexOf(y)!==-1){u.stretch=y;continue}if(C.indexOf(y)!==-1){u.weight=y;continue}if(r(y)){var h=d(y,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=d(l.join(" "),/\s*,\s*/).map(g),t[f]=u}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(G,H,e){var g=e(55616),R=e(8744).isSize,i=f(e(68194)),C=f(e(3748)),S=f(e(2904)),v=f(e(47916)),d=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,C),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,S),n(l.stretch,d),l.size==null&&(l.size=a.size),typeof l.size=="number"&&(l.size+="px"),!R)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=a.family),Array.isArray(l.family)&&(l.family.length||(l.family=[a.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var y=[];return y.push(l.style),l.variant!==l.style&&y.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&y.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&y.push(l.stretch),y.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),y.push(l.family),y.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!i[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},y=0;y<u.length;y++)l[u[y]]=1;return l}},27940:function(G,H,e){var g=e(81680),R=e(18496),i=e(87396),C=e(95920),S=e(50868),v=e(84323),d=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,a;a=function(n,f,u){var l=R(f)&&i(f.value),y;return y=C(f),delete y.writable,delete y.value,y.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=d.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},y},G.exports=function(n){var f=S(arguments[1]);return g(f.resolveContext)&&i(f.resolveContext),v(n,function(u,l){return a(l,u,f)})}},21092:function(G,H,e){var g=e(81680),R=e(85488),i=e(38452),C=e(50868),S=e(71056),v=G.exports=function(d,r){var t,a,n,f,u;return arguments.length<2||typeof d!="string"?(f=r,r=d,d=null):f=arguments[2],g(d)?(t=S.call(d,"c"),a=S.call(d,"e"),n=S.call(d,"w")):(t=n=!0,a=!1),u={value:r,configurable:t,enumerable:a,writable:n},f?i(C(f),u):u};v.gs=function(d,r,t){var a,n,f,u;return typeof d!="string"?(f=t,t=r,r=d,d=null):f=arguments[3],g(r)?R(r)?g(t)?R(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,g(d)?(a=S.call(d,"c"),n=S.call(d,"e")):(a=!0,n=!1),u={get:r,set:t,configurable:a,enumerable:n},f?i(C(f),u):u}},84706:function(G,H,e){e.d(H,{XE:function(){return g},kv:function(){return C},mo:function(){return v},Uf:function(){return d},SY:function(){return r},ik:function(){return t},oh:function(){return a}});function g(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function R(n){return n.length===1&&(n=i(n)),{left:function(f,u,l,y){for(l==null&&(l=0),y==null&&(y=f.length);l<y;){var h=l+y>>>1;n(f[h],u)<0?l=h+1:y=h}return l},right:function(f,u,l,y){for(l==null&&(l=0),y==null&&(y=f.length);l<y;){var h=l+y>>>1;n(f[h],u)>0?y=h:l=h+1}return l}}}function i(n){return function(f,u){return g(n(f),u)}}R(g);function C(n,f){var u=n.length,l=-1,y,h;if(f==null){for(;++l<u;)if((y=n[l])!=null&&y>=y)for(h=y;++l<u;)(y=n[l])!=null&&y>h&&(h=y)}else for(;++l<u;)if((y=f(n[l],l,n))!=null&&y>=y)for(h=y;++l<u;)(y=f(n[l],l,n))!=null&&y>h&&(h=y);return h}function S(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,y=-1,h,T=0;if(f==null)for(;++y<u;)isNaN(h=S(n[y]))?--l:T+=h;else for(;++y<u;)isNaN(h=S(f(n[y],y,n)))?--l:T+=h;if(l)return T/l}function d(n){for(var f=n.length,u,l=-1,y=0,h,T;++l<f;)y+=n[l].length;for(h=new Array(y);--f>=0;)for(T=n[f],u=T.length;--u>=0;)h[--y]=T[u];return h}function r(n,f){var u=n.length,l=-1,y,h;if(f==null){for(;++l<u;)if((y=n[l])!=null&&y>=y)for(h=y;++l<u;)(y=n[l])!=null&&h>y&&(h=y)}else for(;++l<u;)if((y=f(n[l],l,n))!=null&&y>=y)for(h=y;++l<u;)(y=f(n[l],l,n))!=null&&h>y&&(h=y);return h}function t(n,f,u){n=+n,f=+f,u=(y=arguments.length)<2?(f=n,n=0,1):y<3?1:+u;for(var l=-1,y=Math.max(0,Math.ceil((f-n)/u))|0,h=new Array(y);++l<y;)h[l]=n+l*u;return h}function a(n,f){var u=n.length,l=-1,y,h=0;if(f==null)for(;++l<u;)(y=+n[l])&&(h+=y);else for(;++l<u;)(y=+f(n[l],l,n))&&(h+=y);return h}},34712:function(G,H,e){e.d(H,{kH:function(){return C},UJ:function(){return S}});var g="$";function R(){}R.prototype=i.prototype={constructor:R,has:function(f){return g+f in this},get:function(f){return this[g+f]},set:function(f,u){return this[g+f]=u,this},remove:function(f){var u=g+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===g&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===g&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===g&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===g&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===g&&++f;return f},empty:function(){for(var f in this)if(f[0]===g)return!1;return!0},each:function(f){for(var u in this)u[0]===g&&f(this[u],u.slice(1),this)}};function i(f,u){var l=new R;if(f instanceof R)f.each(function(o,p){l.set(p,o)});else if(Array.isArray(f)){var y=-1,h=f.length,T;if(u==null)for(;++y<h;)l.set(y,f[y]);else for(;++y<h;)l.set(u(T=f[y],y,f),T)}else if(f)for(var c in f)l.set(c,f[c]);return l}var C=i;function S(){var f=[],u=[],l,y,h;function T(o,p,x,b){if(p>=f.length)return l!=null&&o.sort(l),y!=null?y(o):o;for(var P=-1,m=o.length,L=f[p++],M,s,E=C(),w,_=x();++P<m;)(w=E.get(M=L(s=o[P])+""))?w.push(s):E.set(M,[s]);return E.each(function(D,N){b(_,N,T(D,p,x,b))}),_}function c(o,p){if(++p>f.length)return o;var x,b=u[p-1];return y!=null&&p>=f.length?x=o.entries():(x=[],o.each(function(P,m){x.push({key:m,values:c(P,p)})})),b!=null?x.sort(function(P,m){return b(P.key,m.key)}):x}return h={object:function(o){return T(o,0,v,d)},map:function(o){return T(o,0,r,t)},entries:function(o){return c(T(o,0,r,t),0)},key:function(o){return f.push(o),h},sortKeys:function(o){return u[f.length-1]=o,h},sortValues:function(o){return l=o,h},rollup:function(o){return y=o,h}}}function v(){return{}}function d(f,u,l){f[u]=l}function r(){return C()}function t(f,u,l){f.set(u,l)}function a(){}var n=C.prototype;a.prototype={constructor:a,has:n.has,add:function(f){return f+="",this[g+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,H,e){e.r(H),e.d(H,{forceCenter:function(){return g},forceCollide:function(){return E},forceLink:function(){return N},forceManyBody:function(){return He},forceRadial:function(){return at},forceSimulation:function(){return De},forceX:function(){return vt},forceY:function(){return ot}});function g(et,ct){var ht;et==null&&(et=0),ct==null&&(ct=0);function gt(){var xt,Mt=ht.length,tt,Oe=0,Xe=0;for(xt=0;xt<Mt;++xt)tt=ht[xt],Oe+=tt.x,Xe+=tt.y;for(Oe=Oe/Mt-et,Xe=Xe/Mt-ct,xt=0;xt<Mt;++xt)tt=ht[xt],tt.x-=Oe,tt.y-=Xe}return gt.initialize=function(xt){ht=xt},gt.x=function(xt){return arguments.length?(et=+xt,gt):et},gt.y=function(xt){return arguments.length?(ct=+xt,gt):ct},gt}function R(et){return function(){return et}}function i(){return(Math.random()-.5)*1e-6}function C(et){var ct=+this._x.call(null,et),ht=+this._y.call(null,et);return S(this.cover(ct,ht),ct,ht,et)}function S(et,ct,ht,gt){if(isNaN(ct)||isNaN(ht))return et;var xt,Mt=et._root,tt={data:gt},Oe=et._x0,Xe=et._y0,Ze=et._x1,We=et._y1,ze,ke,je,Ie,pe,we,Ve,Qe;if(!Mt)return et._root=tt,et;for(;Mt.length;)if((pe=ct>=(ze=(Oe+Ze)/2))?Oe=ze:Ze=ze,(we=ht>=(ke=(Xe+We)/2))?Xe=ke:We=ke,xt=Mt,!(Mt=Mt[Ve=we<<1|pe]))return xt[Ve]=tt,et;if(je=+et._x.call(null,Mt.data),Ie=+et._y.call(null,Mt.data),ct===je&&ht===Ie)return tt.next=Mt,xt?xt[Ve]=tt:et._root=tt,et;do xt=xt?xt[Ve]=new Array(4):et._root=new Array(4),(pe=ct>=(ze=(Oe+Ze)/2))?Oe=ze:Ze=ze,(we=ht>=(ke=(Xe+We)/2))?Xe=ke:We=ke;while((Ve=we<<1|pe)===(Qe=(Ie>=ke)<<1|je>=ze));return xt[Qe]=Mt,xt[Ve]=tt,et}function v(et){var ct,ht,gt=et.length,xt,Mt,tt=new Array(gt),Oe=new Array(gt),Xe=1/0,Ze=1/0,We=-1/0,ze=-1/0;for(ht=0;ht<gt;++ht)isNaN(xt=+this._x.call(null,ct=et[ht]))||isNaN(Mt=+this._y.call(null,ct))||(tt[ht]=xt,Oe[ht]=Mt,xt<Xe&&(Xe=xt),xt>We&&(We=xt),Mt<Ze&&(Ze=Mt),Mt>ze&&(ze=Mt));if(Xe>We||Ze>ze)return this;for(this.cover(Xe,Ze).cover(We,ze),ht=0;ht<gt;++ht)S(this,tt[ht],Oe[ht],et[ht]);return this}function d(et,ct){if(isNaN(et=+et)||isNaN(ct=+ct))return this;var ht=this._x0,gt=this._y0,xt=this._x1,Mt=this._y1;if(isNaN(ht))xt=(ht=Math.floor(et))+1,Mt=(gt=Math.floor(ct))+1;else{for(var tt=xt-ht,Oe=this._root,Xe,Ze;ht>et||et>=xt||gt>ct||ct>=Mt;)switch(Ze=(ct<gt)<<1|et<ht,Xe=new Array(4),Xe[Ze]=Oe,Oe=Xe,tt*=2,Ze){case 0:xt=ht+tt,Mt=gt+tt;break;case 1:ht=xt-tt,Mt=gt+tt;break;case 2:xt=ht+tt,gt=Mt-tt;break;case 3:ht=xt-tt,gt=Mt-tt;break}this._root&&this._root.length&&(this._root=Oe)}return this._x0=ht,this._y0=gt,this._x1=xt,this._y1=Mt,this}function r(){var et=[];return this.visit(function(ct){if(!ct.length)do et.push(ct.data);while(ct=ct.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(et,ct,ht,gt,xt){this.node=et,this.x0=ct,this.y0=ht,this.x1=gt,this.y1=xt}function n(et,ct,ht){var gt,xt=this._x0,Mt=this._y0,tt,Oe,Xe,Ze,We=this._x1,ze=this._y1,ke=[],je=this._root,Ie,pe;for(je&&ke.push(new a(je,xt,Mt,We,ze)),ht==null?ht=1/0:(xt=et-ht,Mt=ct-ht,We=et+ht,ze=ct+ht,ht*=ht);Ie=ke.pop();)if(!(!(je=Ie.node)||(tt=Ie.x0)>We||(Oe=Ie.y0)>ze||(Xe=Ie.x1)<xt||(Ze=Ie.y1)<Mt))if(je.length){var we=(tt+Xe)/2,Ve=(Oe+Ze)/2;ke.push(new a(je[3],we,Ve,Xe,Ze),new a(je[2],tt,Ve,we,Ze),new a(je[1],we,Oe,Xe,Ve),new a(je[0],tt,Oe,we,Ve)),(pe=(ct>=Ve)<<1|et>=we)&&(Ie=ke[ke.length-1],ke[ke.length-1]=ke[ke.length-1-pe],ke[ke.length-1-pe]=Ie)}else{var Qe=et-+this._x.call(null,je.data),it=ct-+this._y.call(null,je.data),st=Qe*Qe+it*it;if(st<ht){var Wt=Math.sqrt(ht=st);xt=et-Wt,Mt=ct-Wt,We=et+Wt,ze=ct+Wt,gt=je.data}}return gt}function f(et){if(isNaN(We=+this._x.call(null,et))||isNaN(ze=+this._y.call(null,et)))return this;var ct,ht=this._root,gt,xt,Mt,tt=this._x0,Oe=this._y0,Xe=this._x1,Ze=this._y1,We,ze,ke,je,Ie,pe,we,Ve;if(!ht)return this;if(ht.length)for(;;){if((Ie=We>=(ke=(tt+Xe)/2))?tt=ke:Xe=ke,(pe=ze>=(je=(Oe+Ze)/2))?Oe=je:Ze=je,ct=ht,!(ht=ht[we=pe<<1|Ie]))return this;if(!ht.length)break;(ct[we+1&3]||ct[we+2&3]||ct[we+3&3])&&(gt=ct,Ve=we)}for(;ht.data!==et;)if(xt=ht,!(ht=ht.next))return this;return(Mt=ht.next)&&delete ht.next,xt?(Mt?xt.next=Mt:delete xt.next,this):ct?(Mt?ct[we]=Mt:delete ct[we],(ht=ct[0]||ct[1]||ct[2]||ct[3])&&ht===(ct[3]||ct[2]||ct[1]||ct[0])&&!ht.length&&(gt?gt[Ve]=ht:this._root=ht),this):(this._root=Mt,this)}function u(et){for(var ct=0,ht=et.length;ct<ht;++ct)this.remove(et[ct]);return this}function l(){return this._root}function y(){var et=0;return this.visit(function(ct){if(!ct.length)do++et;while(ct=ct.next)}),et}function h(et){var ct=[],ht,gt=this._root,xt,Mt,tt,Oe,Xe;for(gt&&ct.push(new a(gt,this._x0,this._y0,this._x1,this._y1));ht=ct.pop();)if(!et(gt=ht.node,Mt=ht.x0,tt=ht.y0,Oe=ht.x1,Xe=ht.y1)&&gt.length){var Ze=(Mt+Oe)/2,We=(tt+Xe)/2;(xt=gt[3])&&ct.push(new a(xt,Ze,We,Oe,Xe)),(xt=gt[2])&&ct.push(new a(xt,Mt,We,Ze,Xe)),(xt=gt[1])&&ct.push(new a(xt,Ze,tt,Oe,We)),(xt=gt[0])&&ct.push(new a(xt,Mt,tt,Ze,We))}return this}function T(et){var ct=[],ht=[],gt;for(this._root&&ct.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));gt=ct.pop();){var xt=gt.node;if(xt.length){var Mt,tt=gt.x0,Oe=gt.y0,Xe=gt.x1,Ze=gt.y1,We=(tt+Xe)/2,ze=(Oe+Ze)/2;(Mt=xt[0])&&ct.push(new a(Mt,tt,Oe,We,ze)),(Mt=xt[1])&&ct.push(new a(Mt,We,Oe,Xe,ze)),(Mt=xt[2])&&ct.push(new a(Mt,tt,ze,We,Ze)),(Mt=xt[3])&&ct.push(new a(Mt,We,ze,Xe,Ze))}ht.push(gt)}for(;gt=ht.pop();)et(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function c(et){return et[0]}function o(et){return arguments.length?(this._x=et,this):this._x}function p(et){return et[1]}function x(et){return arguments.length?(this._y=et,this):this._y}function b(et,ct,ht){var gt=new P(ct??c,ht??p,NaN,NaN,NaN,NaN);return et==null?gt:gt.addAll(et)}function P(et,ct,ht,gt,xt,Mt){this._x=et,this._y=ct,this._x0=ht,this._y0=gt,this._x1=xt,this._y1=Mt,this._root=void 0}function m(et){for(var ct={data:et.data},ht=ct;et=et.next;)ht=ht.next={data:et.data};return ct}var L=b.prototype=P.prototype;L.copy=function(){var et=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,ht,gt;if(!ct)return et;if(!ct.length)return et._root=m(ct),et;for(ht=[{source:ct,target:et._root=new Array(4)}];ct=ht.pop();)for(var xt=0;xt<4;++xt)(gt=ct.source[xt])&&(gt.length?ht.push({source:gt,target:ct.target[xt]=new Array(4)}):ct.target[xt]=m(gt));return et},L.add=C,L.addAll=v,L.cover=d,L.data=r,L.extent=t,L.find=n,L.remove=f,L.removeAll=u,L.root=l,L.size=y,L.visit=h,L.visitAfter=T,L.x=o,L.y=x;function M(et){return et.x+et.vx}function s(et){return et.y+et.vy}function E(et){var ct,ht,gt=1,xt=1;typeof et!="function"&&(et=R(et==null?1:+et));function Mt(){for(var Xe,Ze=ct.length,We,ze,ke,je,Ie,pe,we=0;we<xt;++we)for(We=b(ct,M,s).visitAfter(tt),Xe=0;Xe<Ze;++Xe)ze=ct[Xe],Ie=ht[ze.index],pe=Ie*Ie,ke=ze.x+ze.vx,je=ze.y+ze.vy,We.visit(Ve);function Ve(Qe,it,st,Wt,jt){var Tt=Qe.data,Lt=Qe.r,Xt=Ie+Lt;if(Tt){if(Tt.index>ze.index){var Tr=ke-Tt.x-Tt.vx,yt=je-Tt.y-Tt.vy,Kt=Tr*Tr+yt*yt;Kt<Xt*Xt&&(Tr===0&&(Tr=i(),Kt+=Tr*Tr),yt===0&&(yt=i(),Kt+=yt*yt),Kt=(Xt-(Kt=Math.sqrt(Kt)))/Kt*gt,ze.vx+=(Tr*=Kt)*(Xt=(Lt*=Lt)/(pe+Lt)),ze.vy+=(yt*=Kt)*Xt,Tt.vx-=Tr*(Xt=1-Xt),Tt.vy-=yt*Xt)}return}return it>ke+Xt||Wt<ke-Xt||st>je+Xt||jt<je-Xt}}function tt(Xe){if(Xe.data)return Xe.r=ht[Xe.data.index];for(var Ze=Xe.r=0;Ze<4;++Ze)Xe[Ze]&&Xe[Ze].r>Xe.r&&(Xe.r=Xe[Ze].r)}function Oe(){if(ct){var Xe,Ze=ct.length,We;for(ht=new Array(Ze),Xe=0;Xe<Ze;++Xe)We=ct[Xe],ht[We.index]=+et(We,Xe,ct)}}return Mt.initialize=function(Xe){ct=Xe,Oe()},Mt.iterations=function(Xe){return arguments.length?(xt=+Xe,Mt):xt},Mt.strength=function(Xe){return arguments.length?(gt=+Xe,Mt):gt},Mt.radius=function(Xe){return arguments.length?(et=typeof Xe=="function"?Xe:R(+Xe),Oe(),Mt):et},Mt}var w=e(34712);function _(et){return et.index}function D(et,ct){var ht=et.get(ct);if(!ht)throw new Error("missing: "+ct);return ht}function N(et){var ct=_,ht=We,gt,xt=R(30),Mt,tt,Oe,Xe,Ze=1;et==null&&(et=[]);function We(pe){return 1/Math.min(Oe[pe.source.index],Oe[pe.target.index])}function ze(pe){for(var we=0,Ve=et.length;we<Ze;++we)for(var Qe=0,it,st,Wt,jt,Tt,Lt,Xt;Qe<Ve;++Qe)it=et[Qe],st=it.source,Wt=it.target,jt=Wt.x+Wt.vx-st.x-st.vx||i(),Tt=Wt.y+Wt.vy-st.y-st.vy||i(),Lt=Math.sqrt(jt*jt+Tt*Tt),Lt=(Lt-Mt[Qe])/Lt*pe*gt[Qe],jt*=Lt,Tt*=Lt,Wt.vx-=jt*(Xt=Xe[Qe]),Wt.vy-=Tt*Xt,st.vx+=jt*(Xt=1-Xt),st.vy+=Tt*Xt}function ke(){if(tt){var pe,we=tt.length,Ve=et.length,Qe=(0,w.kH)(tt,ct),it;for(pe=0,Oe=new Array(we);pe<Ve;++pe)it=et[pe],it.index=pe,typeof it.source!="object"&&(it.source=D(Qe,it.source)),typeof it.target!="object"&&(it.target=D(Qe,it.target)),Oe[it.source.index]=(Oe[it.source.index]||0)+1,Oe[it.target.index]=(Oe[it.target.index]||0)+1;for(pe=0,Xe=new Array(Ve);pe<Ve;++pe)it=et[pe],Xe[pe]=Oe[it.source.index]/(Oe[it.source.index]+Oe[it.target.index]);gt=new Array(Ve),je(),Mt=new Array(Ve),Ie()}}function je(){if(tt)for(var pe=0,we=et.length;pe<we;++pe)gt[pe]=+ht(et[pe],pe,et)}function Ie(){if(tt)for(var pe=0,we=et.length;pe<we;++pe)Mt[pe]=+xt(et[pe],pe,et)}return ze.initialize=function(pe){tt=pe,ke()},ze.links=function(pe){return arguments.length?(et=pe,ke(),ze):et},ze.id=function(pe){return arguments.length?(ct=pe,ze):ct},ze.iterations=function(pe){return arguments.length?(Ze=+pe,ze):Ze},ze.strength=function(pe){return arguments.length?(ht=typeof pe=="function"?pe:R(+pe),je(),ze):ht},ze.distance=function(pe){return arguments.length?(xt=typeof pe=="function"?pe:R(+pe),Ie(),ze):xt},ze}var z={value:function(){}};function F(){for(var et=0,ct=arguments.length,ht={},gt;et<ct;++et){if(!(gt=arguments[et]+"")||gt in ht||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);ht[gt]=[]}return new U(ht)}function U(et){this._=et}function B(et,ct){return et.trim().split(/^|\s+/).map(function(ht){var gt="",xt=ht.indexOf(".");if(xt>=0&&(gt=ht.slice(xt+1),ht=ht.slice(0,xt)),ht&&!ct.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:gt}})}U.prototype=F.prototype={constructor:U,on:function(et,ct){var ht=this._,gt=B(et+"",ht),xt,Mt=-1,tt=gt.length;if(arguments.length<2){for(;++Mt<tt;)if((xt=(et=gt[Mt]).type)&&(xt=V(ht[xt],et.name)))return xt;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Mt<tt;)if(xt=(et=gt[Mt]).type)ht[xt]=j(ht[xt],et.name,ct);else if(ct==null)for(xt in ht)ht[xt]=j(ht[xt],et.name,null);return this},copy:function(){var et={},ct=this._;for(var ht in ct)et[ht]=ct[ht].slice();return new U(et)},call:function(et,ct){if((xt=arguments.length-2)>0)for(var ht=new Array(xt),gt=0,xt,Mt;gt<xt;++gt)ht[gt]=arguments[gt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Mt=this._[et],gt=0,xt=Mt.length;gt<xt;++gt)Mt[gt].value.apply(ct,ht)},apply:function(et,ct,ht){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var gt=this._[et],xt=0,Mt=gt.length;xt<Mt;++xt)gt[xt].value.apply(ct,ht)}};function V(et,ct){for(var ht=0,gt=et.length,xt;ht<gt;++ht)if((xt=et[ht]).name===ct)return xt.value}function j(et,ct,ht){for(var gt=0,xt=et.length;gt<xt;++gt)if(et[gt].name===ct){et[gt]=z,et=et.slice(0,gt).concat(et.slice(gt+1));break}return ht!=null&&et.push({name:ct,value:ht}),et}var Q=F,ee=0,re=0,ue=0,J=1e3,X,ne,Y=0,oe=0,le=0,Z=typeof performance=="object"&&performance.now?performance:Date,$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function se(){return oe||($(ae),oe=Z.now()+le)}function ae(){oe=0}function he(){this._call=this._time=this._next=null}he.prototype=me.prototype={constructor:he,restart:function(et,ct,ht){if(typeof et!="function")throw new TypeError("callback is not a function");ht=(ht==null?se():+ht)+(ct==null?0:+ct),!this._next&&ne!==this&&(ne?ne._next=this:X=this,ne=this),this._call=et,this._time=ht,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function me(et,ct,ht){var gt=new he;return gt.restart(et,ct,ht),gt}function Me(){se(),++ee;for(var et=X,ct;et;)(ct=oe-et._time)>=0&&et._call.call(null,ct),et=et._next;--ee}function Te(){oe=(Y=Z.now())+le,ee=re=0;try{Me()}finally{ee=0,be(),oe=0}}function Pe(){var et=Z.now(),ct=et-Y;ct>J&&(le-=ct,Y=et)}function be(){for(var et,ct=X,ht,gt=1/0;ct;)ct._call?(gt>ct._time&&(gt=ct._time),et=ct,ct=ct._next):(ht=ct._next,ct._next=null,ct=et?et._next=ht:X=ht);ne=et,Ee(gt)}function Ee(et){if(!ee){re&&(re=clearTimeout(re));var ct=et-oe;ct>24?(et<1/0&&(re=setTimeout(Te,et-Z.now()-le)),ue&&(ue=clearInterval(ue))):(ue||(Y=Z.now(),ue=setInterval(Pe,J)),ee=1,$(Te))}}function xe(et){return et.x}function Ce(et){return et.y}var Ue=10,Ne=Math.PI*(3-Math.sqrt(5));function De(et){var ct,ht=1,gt=.001,xt=1-Math.pow(gt,1/300),Mt=0,tt=.6,Oe=(0,w.kH)(),Xe=me(We),Ze=Q("tick","end");et==null&&(et=[]);function We(){ze(),Ze.call("tick",ct),ht<gt&&(Xe.stop(),Ze.call("end",ct))}function ze(Ie){var pe,we=et.length,Ve;Ie===void 0&&(Ie=1);for(var Qe=0;Qe<Ie;++Qe)for(ht+=(Mt-ht)*xt,Oe.each(function(it){it(ht)}),pe=0;pe<we;++pe)Ve=et[pe],Ve.fx==null?Ve.x+=Ve.vx*=tt:(Ve.x=Ve.fx,Ve.vx=0),Ve.fy==null?Ve.y+=Ve.vy*=tt:(Ve.y=Ve.fy,Ve.vy=0);return ct}function ke(){for(var Ie=0,pe=et.length,we;Ie<pe;++Ie){if(we=et[Ie],we.index=Ie,we.fx!=null&&(we.x=we.fx),we.fy!=null&&(we.y=we.fy),isNaN(we.x)||isNaN(we.y)){var Ve=Ue*Math.sqrt(Ie),Qe=Ie*Ne;we.x=Ve*Math.cos(Qe),we.y=Ve*Math.sin(Qe)}(isNaN(we.vx)||isNaN(we.vy))&&(we.vx=we.vy=0)}}function je(Ie){return Ie.initialize&&Ie.initialize(et),Ie}return ke(),ct={tick:ze,restart:function(){return Xe.restart(We),ct},stop:function(){return Xe.stop(),ct},nodes:function(Ie){return arguments.length?(et=Ie,ke(),Oe.each(je),ct):et},alpha:function(Ie){return arguments.length?(ht=+Ie,ct):ht},alphaMin:function(Ie){return arguments.length?(gt=+Ie,ct):gt},alphaDecay:function(Ie){return arguments.length?(xt=+Ie,ct):+xt},alphaTarget:function(Ie){return arguments.length?(Mt=+Ie,ct):Mt},velocityDecay:function(Ie){return arguments.length?(tt=1-Ie,ct):1-tt},force:function(Ie,pe){return arguments.length>1?(pe==null?Oe.remove(Ie):Oe.set(Ie,je(pe)),ct):Oe.get(Ie)},find:function(Ie,pe,we){var Ve=0,Qe=et.length,it,st,Wt,jt,Tt;for(we==null?we=1/0:we*=we,Ve=0;Ve<Qe;++Ve)jt=et[Ve],it=Ie-jt.x,st=pe-jt.y,Wt=it*it+st*st,Wt<we&&(Tt=jt,we=Wt);return Tt},on:function(Ie,pe){return arguments.length>1?(Ze.on(Ie,pe),ct):Ze.on(Ie)}}}function He(){var et,ct,ht,gt=R(-30),xt,Mt=1,tt=1/0,Oe=.81;function Xe(ke){var je,Ie=et.length,pe=b(et,xe,Ce).visitAfter(We);for(ht=ke,je=0;je<Ie;++je)ct=et[je],pe.visit(ze)}function Ze(){if(et){var ke,je=et.length,Ie;for(xt=new Array(je),ke=0;ke<je;++ke)Ie=et[ke],xt[Ie.index]=+gt(Ie,ke,et)}}function We(ke){var je=0,Ie,pe,we=0,Ve,Qe,it;if(ke.length){for(Ve=Qe=it=0;it<4;++it)(Ie=ke[it])&&(pe=Math.abs(Ie.value))&&(je+=Ie.value,we+=pe,Ve+=pe*Ie.x,Qe+=pe*Ie.y);ke.x=Ve/we,ke.y=Qe/we}else{Ie=ke,Ie.x=Ie.data.x,Ie.y=Ie.data.y;do je+=xt[Ie.data.index];while(Ie=Ie.next)}ke.value=je}function ze(ke,je,Ie,pe){if(!ke.value)return!0;var we=ke.x-ct.x,Ve=ke.y-ct.y,Qe=pe-je,it=we*we+Ve*Ve;if(Qe*Qe/Oe<it)return it<tt&&(we===0&&(we=i(),it+=we*we),Ve===0&&(Ve=i(),it+=Ve*Ve),it<Mt&&(it=Math.sqrt(Mt*it)),ct.vx+=we*ke.value*ht/it,ct.vy+=Ve*ke.value*ht/it),!0;if(ke.length||it>=tt)return;(ke.data!==ct||ke.next)&&(we===0&&(we=i(),it+=we*we),Ve===0&&(Ve=i(),it+=Ve*Ve),it<Mt&&(it=Math.sqrt(Mt*it)));do ke.data!==ct&&(Qe=xt[ke.data.index]*ht/it,ct.vx+=we*Qe,ct.vy+=Ve*Qe);while(ke=ke.next)}return Xe.initialize=function(ke){et=ke,Ze()},Xe.strength=function(ke){return arguments.length?(gt=typeof ke=="function"?ke:R(+ke),Ze(),Xe):gt},Xe.distanceMin=function(ke){return arguments.length?(Mt=ke*ke,Xe):Math.sqrt(Mt)},Xe.distanceMax=function(ke){return arguments.length?(tt=ke*ke,Xe):Math.sqrt(tt)},Xe.theta=function(ke){return arguments.length?(Oe=ke*ke,Xe):Math.sqrt(Oe)},Xe}function at(et,ct,ht){var gt,xt=R(.1),Mt,tt;typeof et!="function"&&(et=R(+et)),ct==null&&(ct=0),ht==null&&(ht=0);function Oe(Ze){for(var We=0,ze=gt.length;We<ze;++We){var ke=gt[We],je=ke.x-ct||1e-6,Ie=ke.y-ht||1e-6,pe=Math.sqrt(je*je+Ie*Ie),we=(tt[We]-pe)*Mt[We]*Ze/pe;ke.vx+=je*we,ke.vy+=Ie*we}}function Xe(){if(gt){var Ze,We=gt.length;for(Mt=new Array(We),tt=new Array(We),Ze=0;Ze<We;++Ze)tt[Ze]=+et(gt[Ze],Ze,gt),Mt[Ze]=isNaN(tt[Ze])?0:+xt(gt[Ze],Ze,gt)}}return Oe.initialize=function(Ze){gt=Ze,Xe()},Oe.strength=function(Ze){return arguments.length?(xt=typeof Ze=="function"?Ze:R(+Ze),Xe(),Oe):xt},Oe.radius=function(Ze){return arguments.length?(et=typeof Ze=="function"?Ze:R(+Ze),Xe(),Oe):et},Oe.x=function(Ze){return arguments.length?(ct=+Ze,Oe):ct},Oe.y=function(Ze){return arguments.length?(ht=+Ze,Oe):ht},Oe}function vt(et){var ct=R(.1),ht,gt,xt;typeof et!="function"&&(et=R(et==null?0:+et));function Mt(Oe){for(var Xe=0,Ze=ht.length,We;Xe<Ze;++Xe)We=ht[Xe],We.vx+=(xt[Xe]-We.x)*gt[Xe]*Oe}function tt(){if(ht){var Oe,Xe=ht.length;for(gt=new Array(Xe),xt=new Array(Xe),Oe=0;Oe<Xe;++Oe)gt[Oe]=isNaN(xt[Oe]=+et(ht[Oe],Oe,ht))?0:+ct(ht[Oe],Oe,ht)}}return Mt.initialize=function(Oe){ht=Oe,tt()},Mt.strength=function(Oe){return arguments.length?(ct=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):ct},Mt.x=function(Oe){return arguments.length?(et=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):et},Mt}function ot(et){var ct=R(.1),ht,gt,xt;typeof et!="function"&&(et=R(et==null?0:+et));function Mt(Oe){for(var Xe=0,Ze=ht.length,We;Xe<Ze;++Xe)We=ht[Xe],We.vy+=(xt[Xe]-We.y)*gt[Xe]*Oe}function tt(){if(ht){var Oe,Xe=ht.length;for(gt=new Array(Xe),xt=new Array(Xe),Oe=0;Oe<Xe;++Oe)gt[Oe]=isNaN(xt[Oe]=+et(ht[Oe],Oe,ht))?0:+ct(ht[Oe],Oe,ht)}}return Mt.initialize=function(Oe){ht=Oe,tt()},Mt.strength=function(Oe){return arguments.length?(ct=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):ct},Mt.y=function(Oe){return arguments.length?(et=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):et},Mt}},57624:function(G,H,e){e.d(H,{E9:function(){return o},SO:function(){return T}});function g(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function R(x,b){if((P=(x=b?x.toExponential(b-1):x.toExponential()).indexOf("e"))<0)return null;var P,m=x.slice(0,P);return[m.length>1?m[0]+m.slice(2):m,+x.slice(P+1)]}function i(x){return x=R(Math.abs(x)),x?x[1]:NaN}function C(x,b){return function(P,m){for(var L=P.length,M=[],s=0,E=x[0],w=0;L>0&&E>0&&(w+E+1>m&&(E=Math.max(1,m-w)),M.push(P.substring(L-=E,L+E)),!((w+=E+1)>m));)E=x[s=(s+1)%x.length];return M.reverse().join(b)}}function S(x){return function(b){return b.replace(/[0-9]/g,function(P){return x[+P]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(x){if(!(b=v.exec(x)))throw new Error("invalid format: "+x);var b;return new r({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}d.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var b=x.length,P=1,m=-1,L;P<b;++P)switch(x[P]){case".":m=L=P;break;case"0":m===0&&(m=P),L=P;break;default:if(!+x[P])break e;m>0&&(m=0);break}return m>0?x.slice(0,m)+x.slice(L+1):x}var a;function n(x,b){var P=R(x,b);if(!P)return x+"";var m=P[0],L=P[1],M=L-(a=Math.max(-8,Math.min(8,Math.floor(L/3)))*3)+1,s=m.length;return M===s?m:M>s?m+new Array(M-s+1).join("0"):M>0?m.slice(0,M)+"."+m.slice(M):"0."+new Array(1-M).join("0")+R(x,Math.max(0,b+M-1))[0]}function f(x,b){var P=R(x,b);if(!P)return x+"";var m=P[0],L=P[1];return L<0?"0."+new Array(-L).join("0")+m:m.length>L+1?m.slice(0,L+1)+"."+m.slice(L+1):m+new Array(L-m.length+2).join("0")}var u={"%":function(x,b){return(x*100).toFixed(b)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:g,e:function(x,b){return x.toExponential(b)},f:function(x,b){return x.toFixed(b)},g:function(x,b){return x.toPrecision(b)},o:function(x){return Math.round(x).toString(8)},p:function(x,b){return f(x*100,b)},r:f,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function l(x){return x}var y=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(x){var b=x.grouping===void 0||x.thousands===void 0?l:C(y.call(x.grouping,Number),x.thousands+""),P=x.currency===void 0?"":x.currency[0]+"",m=x.currency===void 0?"":x.currency[1]+"",L=x.decimal===void 0?".":x.decimal+"",M=x.numerals===void 0?l:S(y.call(x.numerals,String)),s=x.percent===void 0?"%":x.percent+"",E=x.minus===void 0?"-":x.minus+"",w=x.nan===void 0?"NaN":x.nan+"";function _(N){N=d(N);var z=N.fill,F=N.align,U=N.sign,B=N.symbol,V=N.zero,j=N.width,Q=N.comma,ee=N.precision,re=N.trim,ue=N.type;ue==="n"?(Q=!0,ue="g"):u[ue]||(ee===void 0&&(ee=12),re=!0,ue="g"),(V||z==="0"&&F==="=")&&(V=!0,z="0",F="=");var J=B==="$"?P:B==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",X=B==="$"?m:/[%p]/.test(ue)?s:"",ne=u[ue],Y=/[defgprs%]/.test(ue);ee=ee===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,ee)):Math.max(0,Math.min(20,ee));function oe(le){var Z=J,$=X,se,ae,he;if(ue==="c")$=ne(le)+$,le="";else{le=+le;var me=le<0||1/le<0;if(le=isNaN(le)?w:ne(Math.abs(le),ee),re&&(le=t(le)),me&&+le==0&&U!=="+"&&(me=!1),Z=(me?U==="("?U:E:U==="-"||U==="("?"":U)+Z,$=(ue==="s"?h[8+a/3]:"")+$+(me&&U==="("?")":""),Y){for(se=-1,ae=le.length;++se<ae;)if(he=le.charCodeAt(se),48>he||he>57){$=(he===46?L+le.slice(se+1):le.slice(se))+$,le=le.slice(0,se);break}}}Q&&!V&&(le=b(le,1/0));var Me=Z.length+le.length+$.length,Te=Me<j?new Array(j-Me+1).join(z):"";switch(Q&&V&&(le=b(Te+le,Te.length?j-$.length:1/0),Te=""),F){case"<":le=Z+le+$+Te;break;case"=":le=Z+Te+le+$;break;case"^":le=Te.slice(0,Me=Te.length>>1)+Z+le+$+Te.slice(Me);break;default:le=Te+Z+le+$;break}return M(le)}return oe.toString=function(){return N+""},oe}function D(N,z){var F=_((N=d(N),N.type="f",N)),U=Math.max(-8,Math.min(8,Math.floor(i(z)/3)))*3,B=Math.pow(10,-U),V=h[8+U/3];return function(j){return F(B*j)+V}}return{format:_,formatPrefix:D}}var c,o;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(x){return c=T(x),o=c.format,c.formatPrefix,c}},87108:function(G,H,e){e.r(H),e.d(H,{geoAiry:function(){return V},geoAiryRaw:function(){return B},geoAitoff:function(){return Q},geoAitoffRaw:function(){return j},geoArmadillo:function(){return re},geoArmadilloRaw:function(){return ee},geoAugust:function(){return J},geoAugustRaw:function(){return ue},geoBaker:function(){return oe},geoBakerRaw:function(){return Y},geoBerghaus:function(){return $},geoBerghausRaw:function(){return Z},geoBertin1953:function(){return be},geoBertin1953Raw:function(){return Pe},geoBoggs:function(){return at},geoBoggsRaw:function(){return He},geoBonne:function(){return ht},geoBonneRaw:function(){return ct},geoBottomley:function(){return xt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return tt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return pe},geoChamberlinAfrica:function(){return Ie},geoChamberlinRaw:function(){return ke},geoCollignon:function(){return Ve},geoCollignonRaw:function(){return we},geoCraig:function(){return it},geoCraigRaw:function(){return Qe},geoCraster:function(){return jt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return Lt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return Tr},geoCylindricalStereographicRaw:function(){return Xt},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Jt},geoEckert3:function(){return mt},geoEckert3Raw:function(){return ur},geoEckert4:function(){return bt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return It},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Ut},geoEckert6Raw:function(){return Ht},geoEisenlohr:function(){return fr},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return Ye},geoFaheyRaw:function(){return vr},geoFoucaut:function(){return zt},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return Dt},geoGilbert:function(){return cr},geoGingery:function(){return Vr},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return sn},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return En},geoGinzburg5Raw:function(){return an},geoGinzburg6:function(){return xr},geoGinzburg6Raw:function(){return Mn},geoGinzburg8:function(){return Yr},geoGinzburg8Raw:function(){return _r},geoGinzburg9:function(){return gn},geoGinzburg9Raw:function(){return zr},geoGringorten:function(){return oa},geoGringortenQuincuncial:function(){return rv},geoGringortenRaw:function(){return Rn},geoGuyou:function(){return hn},geoGuyouRaw:function(){return gr},geoHammer:function(){return me},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return Tn},geoHealpix:function(){return un},geoHealpixRaw:function(){return Ar},geoHill:function(){return Zr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Hn},geoHomolosineRaw:function(){return Cn},geoHufnagel:function(){return da},geoHufnagelRaw:function(){return Un},geoHyperelliptical:function(){return wi},geoHyperellipticalRaw:function(){return Ra},geoInterrupt:function(){return po},geoInterruptedBoggs:function(){return qf},geoInterruptedHomolosine:function(){return ai},geoInterruptedMollweide:function(){return ec},geoInterruptedMollweideHemispheres:function(){return zo},geoInterruptedQuarticAuthalic:function(){return ll},geoInterruptedSinuMollweide:function(){return xf},geoInterruptedSinusoidal:function(){return ru},geoKavrayskiy7:function(){return eo},geoKavrayskiy7Raw:function(){return Zi},geoLagrange:function(){return go},geoLagrangeRaw:function(){return nu},geoLarrivee:function(){return Fc},geoLarriveeRaw:function(){return qo},geoLaskowski:function(){return Hh},geoLaskowskiRaw:function(){return Yo},geoLittrow:function(){return lo},geoLittrowRaw:function(){return Rs},geoLoximuthal:function(){return sl},geoLoximuthalRaw:function(){return tc},geoMiller:function(){return rc},geoMillerRaw:function(){return Is},geoModifiedStereographic:function(){return Pl},geoModifiedStereographicAlaska:function(){return nc},geoModifiedStereographicGs48:function(){return Xh},geoModifiedStereographicGs50:function(){return Zh},geoModifiedStereographicLee:function(){return Uc},geoModifiedStereographicMiller:function(){return Nc},geoModifiedStereographicRaw:function(){return Bc},geoMollweide:function(){return Ue},geoMollweideRaw:function(){return Ce},geoMtFlatPolarParabolic:function(){return Vc},geoMtFlatPolarParabolicRaw:function(){return Uu},geoMtFlatPolarQuartic:function(){return Kh},geoMtFlatPolarQuarticRaw:function(){return js},geoMtFlatPolarSinusoidal:function(){return Hc},geoMtFlatPolarSinusoidalRaw:function(){return wf},geoNaturalEarth:function(){return Gc.c},geoNaturalEarth2:function(){return hs},geoNaturalEarth2Raw:function(){return Tf},geoNaturalEarthRaw:function(){return Gc.g},geoNellHammer:function(){return Rl},geoNellHammerRaw:function(){return iu},geoNicolosi:function(){return ac},geoNicolosiRaw:function(){return ks},geoPatterson:function(){return uu},geoPattersonRaw:function(){return Sf},geoPeirceQuincuncial:function(){return Kc},geoPierceQuincuncial:function(){return Kc},geoPolyconic:function(){return Jh},geoPolyconicRaw:function(){return Mf},geoPolyhedral:function(){return Ti},geoPolyhedralButterfly:function(){return Gu},geoPolyhedralCollignon:function(){return kl},geoPolyhedralWaterman:function(){return fl},geoProject:function(){return ev},geoQuantize:function(){return $c},geoQuincuncial:function(){return Ks},geoRectangularPolyconic:function(){return Jc},geoRectangularPolyconicRaw:function(){return cc},geoRobinson:function(){return cl},geoRobinsonRaw:function(){return ms},geoSatellite:function(){return Dl},geoSatelliteRaw:function(){return Pf},geoSinuMollweide:function(){return Fn},geoSinuMollweideRaw:function(){return An},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return ot},geoStitch:function(){return $u},geoTimes:function(){return to},geoTimesRaw:function(){return dl},geoTwoPointAzimuthal:function(){return kf},geoTwoPointAzimuthalRaw:function(){return vc},geoTwoPointAzimuthalUsa:function(){return zl},geoTwoPointEquidistant:function(){return eh},geoTwoPointEquidistantRaw:function(){return Ju},geoTwoPointEquidistantUsa:function(){return nv},geoVanDerGrinten:function(){return Qu},geoVanDerGrinten2:function(){return th},geoVanDerGrinten2Raw:function(){return mu},geoVanDerGrinten3:function(){return av},geoVanDerGrinten3Raw:function(){return pl},geoVanDerGrinten4:function(){return qu},geoVanDerGrinten4Raw:function(){return Xo},geoVanDerGrintenRaw:function(){return Lo},geoWagner:function(){return yl},geoWagner4:function(){return rh},geoWagner4Raw:function(){return _f},geoWagner6:function(){return pc},geoWagner6Raw:function(){return rf},geoWagner7:function(){return dc},geoWagnerRaw:function(){return Qs},geoWiechel:function(){return gc},geoWiechelRaw:function(){return Ol},geoWinkel3:function(){return nh},geoWinkel3Raw:function(){return nf}});var g=e(87952),R=Math.abs,i=Math.atan,C=Math.atan2,S=Math.cos,v=Math.exp,d=Math.floor,r=Math.log,t=Math.max,a=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function($e){return $e>0?1:$e<0?-1:0},l=Math.sin,y=Math.tan,h=1e-6,T=1e-12,c=Math.PI,o=c/2,p=c/4,x=Math.SQRT1_2,b=_(2),P=_(c),m=c*2,L=180/c,M=c/180;function s($e){return $e?$e/Math.sin($e):1}function E($e){return $e>1?o:$e<-1?-o:Math.asin($e)}function w($e){return $e>1?0:$e<-1?c:Math.acos($e)}function _($e){return $e>0?Math.sqrt($e):0}function D($e){return $e=v(2*$e),($e-1)/($e+1)}function N($e){return(v($e)-v(-$e))/2}function z($e){return(v($e)+v(-$e))/2}function F($e){return r($e+_($e*$e+1))}function U($e){return r($e+_($e*$e-1))}function B($e){var nt=y($e/2),pt=2*r(S($e/2))/(nt*nt);function wt(_t,kt){var Ot=S(_t),dr=S(kt),wr=l(kt),or=dr*Ot,Sr=-((1-or?r((1+or)/2)/(1-or):-.5)+pt/(1+or));return[Sr*dr*l(_t),Sr*wr]}return wt.invert=function(_t,kt){var Ot=_(_t*_t+kt*kt),dr=-$e/2,wr=50,or;if(!Ot)return[0,0];do{var Sr=dr/2,kr=S(Sr),Nr=l(Sr),nn=Nr/kr,wn=-r(R(kr));dr-=or=(2/nn*wn-pt*nn-Ot)/(-wn/(Nr*Nr)+1-pt/(2*kr*kr))*(kr<0?.7:1)}while(R(or)>h&&--wr>0);var kn=l(dr);return[C(_t*kn,Ot*S(dr)),E(kt*kn/Ot)]},wt}function V(){var $e=o,nt=(0,g.U)(B),pt=nt($e);return pt.radius=function(wt){return arguments.length?nt($e=wt*M):$e*L},pt.scale(179.976).clipAngle(147)}function j($e,nt){var pt=S(nt),wt=s(w(pt*S($e/=2)));return[2*pt*l($e)*wt,l(nt)*wt]}j.invert=function($e,nt){if(!($e*$e+4*nt*nt>c*c+h)){var pt=$e,wt=nt,_t=25;do{var kt=l(pt),Ot=l(pt/2),dr=S(pt/2),wr=l(wt),or=S(wt),Sr=l(2*wt),kr=wr*wr,Nr=or*or,nn=Ot*Ot,wn=1-Nr*dr*dr,kn=wn?w(or*dr)*_(_n=1/wn):_n=0,_n,$n=2*kn*or*Ot-$e,Ia=kn*wr-nt,ka=_n*(Nr*nn+kn*or*dr*kr),_a=_n*(.5*kt*Sr-kn*2*wr*Ot),Ba=_n*.25*(Sr*Ot-kn*wr*Nr*kt),Ja=_n*(kr*dr+kn*nn*or),mi=_a*Ba-Ja*ka;if(!mi)break;var ji=(Ia*_a-$n*Ja)/mi,fe=($n*Ba-Ia*ka)/mi;pt-=ji,wt-=fe}while((R(ji)>h||R(fe)>h)&&--_t>0);return[pt,wt]}};function Q(){return(0,g.c)(j).scale(152.63)}function ee($e){var nt=l($e),pt=S($e),wt=$e>=0?1:-1,_t=y(wt*$e),kt=(1+nt-pt)/2;function Ot(dr,wr){var or=S(wr),Sr=S(dr/=2);return[(1+or)*l(dr),(wt*wr>-C(Sr,_t)-.001?0:-wt*10)+kt+l(wr)*pt-(1+or)*nt*Sr]}return Ot.invert=function(dr,wr){var or=0,Sr=0,kr=50;do{var Nr=S(or),nn=l(or),wn=S(Sr),kn=l(Sr),_n=1+wn,$n=_n*nn-dr,Ia=kt+kn*pt-_n*nt*Nr-wr,ka=_n*Nr/2,_a=-nn*kn,Ba=nt*_n*nn/2,Ja=pt*wn+nt*Nr*kn,mi=_a*Ba-Ja*ka,ji=(Ia*_a-$n*Ja)/mi/2,fe=($n*Ba-Ia*ka)/mi;R(fe)>2&&(fe/=2),or-=ji,Sr-=fe}while((R(ji)>h||R(fe)>h)&&--kr>0);return wt*Sr>-C(S(or),_t)-.001?[or*2,Sr]:null},Ot}function re(){var $e=20*M,nt=$e>=0?1:-1,pt=y(nt*$e),wt=(0,g.U)(ee),_t=wt($e),kt=_t.stream;return _t.parallel=function(Ot){return arguments.length?(pt=y((nt=($e=Ot*M)>=0?1:-1)*$e),wt($e)):$e*L},_t.stream=function(Ot){var dr=_t.rotate(),wr=kt(Ot),or=(_t.rotate([0,0]),kt(Ot)),Sr=_t.precision();return _t.rotate(dr),wr.sphere=function(){or.polygonStart(),or.lineStart();for(var kr=nt*-180;nt*kr<180;kr+=nt*90)or.point(kr,nt*90);if($e)for(;nt*(kr-=3*nt*Sr)>=-180;)or.point(kr,nt*-C(S(kr*M/2),pt)*L);or.lineEnd(),or.polygonEnd()},wr},_t.scale(218.695).center([0,28.0974])}function ue($e,nt){var pt=y(nt/2),wt=_(1-pt*pt),_t=1+wt*S($e/=2),kt=l($e)*wt/_t,Ot=pt/_t,dr=kt*kt,wr=Ot*Ot;return[1.3333333333333333*kt*(3+dr-3*wr),1.3333333333333333*Ot*(3+3*dr-wr)]}ue.invert=function($e,nt){if($e*=.375,nt*=.375,!$e&&R(nt)>1)return null;var pt=$e*$e,wt=nt*nt,_t=1+pt+wt,kt=_((_t-_(_t*_t-4*nt*nt))/2),Ot=E(kt)/3,dr=kt?U(R(nt/kt))/3:F(R($e))/3,wr=S(Ot),or=z(dr),Sr=or*or-wr*wr;return[u($e)*2*C(N(dr)*wr,.25-Sr),u(nt)*2*C(or*l(Ot),.25+Sr)]};function J(){return(0,g.c)(ue).scale(66.1603)}var X=_(8),ne=r(1+b);function Y($e,nt){var pt=R(nt);return pt<p?[$e,r(y(p+nt/2))]:[$e*S(pt)*(2*b-1/l(pt)),u(nt)*(2*b*(pt-p)-r(y(pt/2)))]}Y.invert=function($e,nt){if((kt=R(nt))<ne)return[$e,2*i(v(nt))-o];var pt=p,wt=25,_t,kt;do{var Ot=S(pt/2),dr=y(pt/2);pt-=_t=(X*(pt-p)-r(dr)-kt)/(X-Ot*Ot/(2*dr))}while(R(_t)>T&&--wt>0);return[$e/(S(pt)*(X-1/l(pt))),u(nt)*pt]};function oe(){return(0,g.c)(Y).scale(112.314)}var le=e(69020);function Z($e){var nt=2*c/$e;function pt(wt,_t){var kt=(0,le.O)(wt,_t);if(R(wt)>o){var Ot=C(kt[1],kt[0]),dr=_(kt[0]*kt[0]+kt[1]*kt[1]),wr=nt*f((Ot-o)/nt)+o,or=C(l(Ot-=wr),2-S(Ot));Ot=wr+E(c/dr*l(or))-or,kt[0]=dr*S(Ot),kt[1]=dr*l(Ot)}return kt}return pt.invert=function(wt,_t){var kt=_(wt*wt+_t*_t);if(kt>o){var Ot=C(_t,wt),dr=nt*f((Ot-o)/nt)+o,wr=Ot>dr?-1:1,or=kt*S(dr-Ot),Sr=1/y(wr*w((or-c)/_(c*(c-2*or)+kt*kt)));Ot=dr+2*i((Sr+wr*_(Sr*Sr-3))/3),wt=kt*S(Ot),_t=kt*l(Ot)}return le.O.invert(wt,_t)},pt}function $(){var $e=5,nt=(0,g.U)(Z),pt=nt($e),wt=pt.stream,_t=.01,kt=-S(_t*M),Ot=l(_t*M);return pt.lobes=function(dr){return arguments.length?nt($e=+dr):$e},pt.stream=function(dr){var wr=pt.rotate(),or=wt(dr),Sr=(pt.rotate([0,0]),wt(dr));return pt.rotate(wr),or.sphere=function(){Sr.polygonStart(),Sr.lineStart();for(var kr=0,Nr=360/$e,nn=2*c/$e,wn=90-180/$e,kn=o;kr<$e;++kr,wn-=Nr,kn-=nn)Sr.point(C(Ot*S(kn),kt)*L,E(Ot*l(kn))*L),wn<-90?(Sr.point(-90,-180-wn-_t),Sr.point(-90,-180-wn+_t)):(Sr.point(90,wn+_t),Sr.point(90,wn-_t));Sr.lineEnd(),Sr.polygonEnd()},or},pt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function ae($e,nt){if(arguments.length<2&&(nt=$e),nt===1)return se.y;if(nt===1/0)return he;function pt(wt,_t){var kt=(0,se.y)(wt/nt,_t);return kt[0]*=$e,kt}return pt.invert=function(wt,_t){var kt=se.y.invert(wt/$e,_t);return kt[0]*=nt,kt},pt}function he($e,nt){return[$e*S(nt)/S(nt/=2),2*l(nt)]}he.invert=function($e,nt){var pt=2*E(nt/2);return[$e*S(pt/2)/S(pt),pt]};function me(){var $e=2,nt=(0,g.U)(ae),pt=nt($e);return pt.coefficient=function(wt){return arguments.length?nt($e=+wt):$e},pt.scale(169.529)}function Me($e,nt,pt){var wt=100,_t,kt,Ot;pt=pt===void 0?0:+pt,nt=+nt;do kt=$e(pt),Ot=$e(pt+h),kt===Ot&&(Ot=kt+h),pt-=_t=-1*h*(kt-nt)/(kt-Ot);while(wt-- >0&&R(_t)>h);return wt<0?NaN:pt}function Te($e,nt,pt){return nt===void 0&&(nt=40),pt===void 0&&(pt=T),function(wt,_t,kt,Ot){var dr,wr,or;kt=kt===void 0?0:+kt,Ot=Ot===void 0?0:+Ot;for(var Sr=0;Sr<nt;Sr++){var kr=$e(kt,Ot),Nr=kr[0]-wt,nn=kr[1]-_t;if(R(Nr)<pt&&R(nn)<pt)break;var wn=Nr*Nr+nn*nn;if(wn>dr){kt-=wr/=2,Ot-=or/=2;continue}dr=wn;var kn=(kt>0?-1:1)*pt,_n=(Ot>0?-1:1)*pt,$n=$e(kt+kn,Ot),Ia=$e(kt,Ot+_n),ka=($n[0]-kr[0])/kn,_a=($n[1]-kr[1])/kn,Ba=(Ia[0]-kr[0])/_n,Ja=(Ia[1]-kr[1])/_n,mi=Ja*ka-_a*Ba,ji=(R(mi)<.5?.5:1)/mi;if(wr=(nn*Ba-Nr*Ja)*ji,or=(Nr*_a-nn*ka)*ji,kt+=wr,Ot+=or,R(wr)<pt&&R(or)<pt)break}return[kt,Ot]}}function Pe(){var $e=ae(1.68,2),nt=1.4,pt=12;function wt(_t,kt){if(_t+kt<-nt){var Ot=(_t-kt+1.6)*(_t+kt+nt)/8;_t+=Ot,kt-=.8*Ot*l(kt+c/2)}var dr=$e(_t,kt),wr=(1-S(_t*kt))/pt;return dr[1]<0&&(dr[0]*=1+wr),dr[1]>0&&(dr[1]*=1+wr/1.5*dr[0]*dr[0]),dr}return wt.invert=Te(wt),wt}function be(){return(0,g.c)(Pe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee($e,nt){var pt=$e*l(nt),wt=30,_t;do nt-=_t=(nt+l(nt)-pt)/(1+S(nt));while(R(_t)>h&&--wt>0);return nt/2}function xe($e,nt,pt){function wt(_t,kt){return[$e*_t*S(kt=Ee(pt,kt)),nt*l(kt)]}return wt.invert=function(_t,kt){return kt=E(kt/nt),[_t/($e*S(kt)),E((2*kt+l(2*kt))/pt)]},wt}var Ce=xe(b/o,b,c);function Ue(){return(0,g.c)(Ce).scale(169.529)}var Ne=2.00276,De=1.11072;function He($e,nt){var pt=Ee(c,nt);return[Ne*$e/(1/S(nt)+De/S(pt)),(nt+b*l(pt))/Ne]}He.invert=function($e,nt){var pt=Ne*nt,wt=nt<0?-p:p,_t=25,kt,Ot;do Ot=pt-b*l(wt),wt-=kt=(l(2*wt)+2*wt-c*l(Ot))/(2*S(2*wt)+2+c*S(Ot)*b*S(wt));while(R(kt)>h&&--_t>0);return Ot=pt-b*l(wt),[$e*(1/S(Ot)+De/S(wt))/Ne,Ot]};function at(){return(0,g.c)(He).scale(160.857)}function vt($e){var nt=0,pt=(0,g.U)($e),wt=pt(nt);return wt.parallel=function(_t){return arguments.length?pt(nt=_t*M):nt*L},wt}function ot($e,nt){return[$e*S(nt),nt]}ot.invert=function($e,nt){return[$e/S(nt),nt]};function et(){return(0,g.c)(ot).scale(152.63)}function ct($e){if(!$e)return ot;var nt=1/y($e);function pt(wt,_t){var kt=nt+$e-_t,Ot=kt&&wt*S(_t)/kt;return[kt*l(Ot),nt-kt*S(Ot)]}return pt.invert=function(wt,_t){var kt=_(wt*wt+(_t=nt-_t)*_t),Ot=nt+$e-kt;return[kt/S(Ot)*C(wt,_t),Ot]},pt}function ht(){return vt(ct).scale(123.082).center([0,26.1441]).parallel(45)}function gt($e){function nt(pt,wt){var _t=o-wt,kt=_t&&pt*$e*l(_t)/_t;return[_t*l(kt)/$e,o-_t*S(kt)]}return nt.invert=function(pt,wt){var _t=pt*$e,kt=o-wt,Ot=_(_t*_t+kt*kt),dr=C(_t,kt);return[(Ot?Ot/l(Ot):1)*dr/$e,o-Ot]},nt}function xt(){var $e=.5,nt=(0,g.U)(gt),pt=nt($e);return pt.fraction=function(wt){return arguments.length?nt($e=+wt):$e},pt.scale(158.837)}var Mt=xe(1,4/c,c);function tt(){return(0,g.c)(Mt).scale(152.63)}var Oe=e(24052),Xe=e(92992);function Ze($e,nt,pt,wt,_t,kt){var Ot=S(kt),dr;if(R($e)>1||R(kt)>1)dr=w(pt*_t+nt*wt*Ot);else{var wr=l($e/2),or=l(kt/2);dr=2*E(_(wr*wr+nt*wt*or*or))}return R(dr)>h?[dr,C(wt*l(kt),nt*_t-pt*wt*Ot)]:[0,0]}function We($e,nt,pt){return w(($e*$e+nt*nt-pt*pt)/(2*$e*nt))}function ze($e){return $e-2*c*d(($e+c)/(2*c))}function ke($e,nt,pt){for(var wt=[[$e[0],$e[1],l($e[1]),S($e[1])],[nt[0],nt[1],l(nt[1]),S(nt[1])],[pt[0],pt[1],l(pt[1]),S(pt[1])]],_t=wt[2],kt,Ot=0;Ot<3;++Ot,_t=kt)kt=wt[Ot],_t.v=Ze(kt[1]-_t[1],_t[3],_t[2],kt[3],kt[2],kt[0]-_t[0]),_t.point=[0,0];var dr=We(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=We(wt[0].v[0],wt[1].v[0],wt[2].v[0]),or=c-dr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Sr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*S(dr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(dr))];function kr(Nr,nn){var wn=l(nn),kn=S(nn),_n=new Array(3),$n;for($n=0;$n<3;++$n){var Ia=wt[$n];if(_n[$n]=Ze(nn-Ia[1],Ia[3],Ia[2],kn,wn,Nr-Ia[0]),!_n[$n][0])return Ia.point;_n[$n][1]=ze(_n[$n][1]-Ia.v[1])}var ka=Sr.slice();for($n=0;$n<3;++$n){var _a=$n==2?0:$n+1,Ba=We(wt[$n].v[0],_n[$n][0],_n[_a][0]);_n[$n][1]<0&&(Ba=-Ba),$n?$n==1?(Ba=wr-Ba,ka[0]-=_n[$n][0]*S(Ba),ka[1]-=_n[$n][0]*l(Ba)):(Ba=or-Ba,ka[0]+=_n[$n][0]*S(Ba),ka[1]+=_n[$n][0]*l(Ba)):(ka[0]+=_n[$n][0]*S(Ba),ka[1]-=_n[$n][0]*l(Ba))}return ka[0]/=3,ka[1]/=3,ka}return kr}function je($e){return $e[0]*=M,$e[1]*=M,$e}function Ie(){return pe([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pe($e,nt,pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:[$e,nt,pt]}),_t=[-wt[0],-wt[1]],kt=(0,Xe.c)(_t),Ot=ke(je(kt($e)),je(kt(nt)),je(kt(pt)));Ot.invert=Te(Ot);var dr=(0,g.c)(Ot).rotate(_t),wr=dr.center;return delete dr.rotate,dr.center=function(or){return arguments.length?wr(kt(or)):kt.invert(wr())},dr.clipAngle(90)}function we($e,nt){var pt=_(1-l(nt));return[2/P*$e*pt,P*(1-pt)]}we.invert=function($e,nt){var pt=(pt=nt/P-1)*pt;return[pt>0?$e*_(c/pt)/2:0,E(1-pt)]};function Ve(){return(0,g.c)(we).scale(95.6464).center([0,30])}function Qe($e){var nt=y($e);function pt(wt,_t){return[wt,(wt?wt/l(wt):1)*(l(_t)*S(wt)-nt*S(_t))]}return pt.invert=nt?function(wt,_t){wt&&(_t*=l(wt)/wt);var kt=S(wt);return[wt,2*C(_(kt*kt+nt*nt-_t*_t)-kt,nt-_t)]}:function(wt,_t){return[wt,E(wt?_t*y(wt)/wt:_t)]},pt}function it(){return vt(Qe).scale(249.828).clipAngle(90)}var st=_(3);function Wt($e,nt){return[st*$e*(2*S(2*nt/3)-1)/P,st*P*l(nt/3)]}Wt.invert=function($e,nt){var pt=3*E(nt/(st*P));return[P*$e/(st*(2*S(2*pt/3)-1)),pt]};function jt(){return(0,g.c)(Wt).scale(156.19)}function Tt($e){var nt=S($e);function pt(wt,_t){return[wt*nt,l(_t)/nt]}return pt.invert=function(wt,_t){return[wt/nt,E(_t*nt)]},pt}function Lt(){return vt(Tt).parallel(38.58).scale(195.044)}function Xt($e){var nt=S($e);function pt(wt,_t){return[wt*nt,(1+nt)*y(_t/2)]}return pt.invert=function(wt,_t){return[wt/nt,i(_t/(1+nt))*2]},pt}function Tr(){return vt(Xt).scale(124.75)}function yt($e,nt){var pt=_(8/(3*c));return[pt*$e*(1-R(nt)/c),pt*nt]}yt.invert=function($e,nt){var pt=_(8/(3*c)),wt=nt/pt;return[$e/(pt*(1-R(wt)/c)),wt]};function Kt(){return(0,g.c)(yt).scale(165.664)}function Jt($e,nt){var pt=_(4-3*l(R(nt)));return[2/_(6*c)*$e*pt,u(nt)*_(2*c/3)*(2-pt)]}Jt.invert=function($e,nt){var pt=2-R(nt)/_(2*c/3);return[$e*_(6*c)/(2*pt),u(nt)*E((4-pt*pt)/3)]};function yr(){return(0,g.c)(Jt).scale(165.664)}function ur($e,nt){var pt=_(c*(4+c));return[2/pt*$e*(1+_(1-4*nt*nt/(c*c))),4/pt*nt]}ur.invert=function($e,nt){var pt=_(c*(4+c))/2;return[$e*pt/(1+_(1-nt*nt*(4+c)/(4*c))),nt*pt/2]};function mt(){return(0,g.c)(ur).scale(180.739)}function lt($e,nt){var pt=(2+o)*l(nt);nt/=2;for(var wt=0,_t=1/0;wt<10&&R(_t)>h;wt++){var kt=S(nt);nt-=_t=(nt+l(nt)*(kt+2)-pt)/(2*kt*(1+kt))}return[2/_(c*(4+c))*$e*(1+S(nt)),2*_(c/(4+c))*l(nt)]}lt.invert=function($e,nt){var pt=nt*_((4+c)/c)/2,wt=E(pt),_t=S(wt);return[$e/(2/_(c*(4+c))*(1+_t)),E((wt+pt*(_t+2))/(2+o))]};function bt(){return(0,g.c)(lt).scale(180.739)}function Et($e,nt){return[$e*(1+S(nt))/_(2+c),2*nt/_(2+c)]}Et.invert=function($e,nt){var pt=_(2+c),wt=nt*pt/2;return[pt*$e/(1+S(wt)),wt]};function It(){return(0,g.c)(Et).scale(173.044)}function Ht($e,nt){for(var pt=(1+o)*l(nt),wt=0,_t=1/0;wt<10&&R(_t)>h;wt++)nt-=_t=(nt+l(nt)-pt)/(1+S(nt));return pt=_(2+c),[$e*(1+S(nt))/pt,2*nt/pt]}Ht.invert=function($e,nt){var pt=1+o,wt=_(pt/2);return[$e*2*wt/(1+S(nt*=wt)),E((nt+l(nt))/pt)]};function Ut(){return(0,g.c)(Ht).scale(173.044)}var Bt=3+2*b;function $t($e,nt){var pt=l($e/=2),wt=S($e),_t=_(S(nt)),kt=S(nt/=2),Ot=l(nt)/(kt+b*wt*_t),dr=_(2/(1+Ot*Ot)),wr=_((b*kt+(wt+pt)*_t)/(b*kt+(wt-pt)*_t));return[Bt*(dr*(wr-1/wr)-2*r(wr)),Bt*(dr*Ot*(wr+1/wr)-2*i(Ot))]}$t.invert=function($e,nt){if(!(kt=ue.invert($e/1.2,nt*1.065)))return null;var pt=kt[0],wt=kt[1],_t=20,kt;$e/=Bt,nt/=Bt;do{var Ot=pt/2,dr=wt/2,wr=l(Ot),or=S(Ot),Sr=l(dr),kr=S(dr),Nr=S(wt),nn=_(Nr),wn=Sr/(kr+b*or*nn),kn=wn*wn,_n=_(2/(1+kn)),$n=b*kr+(or+wr)*nn,Ia=b*kr+(or-wr)*nn,ka=$n/Ia,_a=_(ka),Ba=_a-1/_a,Ja=_a+1/_a,mi=_n*Ba-2*r(_a)-$e,ji=_n*wn*Ja-2*i(wn)-nt,fe=Sr&&x*nn*wr*kn/Sr,Le=(b*or*kr+nn)/(2*(kr+b*or*nn)*(kr+b*or*nn)*nn),Be=-.5*wn*_n*_n*_n,qe=Be*fe,rt=Be*Le,ft=(ft=2*kr+b*nn*(or-wr))*ft*_a,Pt=(b*or*kr*nn+Nr)/ft,At=-(b*wr*Sr)/(nn*ft),Vt=Ba*qe-2*Pt/_a+_n*(Pt+Pt/ka),Gt=Ba*rt-2*At/_a+_n*(At+At/ka),rr=wn*Ja*qe-2*fe/(1+kn)+_n*Ja*fe+_n*wn*(Pt-Pt/ka),Cr=wn*Ja*rt-2*Le/(1+kn)+_n*Ja*Le+_n*wn*(At-At/ka),Lr=Gt*rr-Cr*Vt;if(!Lr)break;var Qr=(ji*Gt-mi*Cr)/Lr,ln=(mi*rr-ji*Vt)/Lr;pt-=Qr,wt=t(-o,a(o,wt-ln))}while((R(Qr)>h||R(ln)>h)&&--_t>0);return R(R(wt)-o)<h?[0,wt]:_t&&[pt,wt]};function fr(){return(0,g.c)($t).scale(62.5271)}var Zt=S(35*M);function vr($e,nt){var pt=y(nt/2);return[$e*Zt*_(1-pt*pt),(1+Zt)*pt]}vr.invert=function($e,nt){var pt=nt/(1+Zt);return[$e&&$e/(Zt*_(1-pt*pt)),2*i(pt)]};function Ye(){return(0,g.c)(vr).scale(137.152)}function Ge($e,nt){var pt=nt/2,wt=S(pt);return[2*$e/P*S(nt)*wt*wt,P*y(pt)]}Ge.invert=function($e,nt){var pt=i(nt/P),wt=S(pt),_t=2*pt;return[$e*P/2/(S(_t)*wt*wt),_t]};function zt(){return(0,g.c)(Ge).scale(135.264)}function Dt($e){var nt=1-$e,pt=kt(c,0)[0]-kt(-c,0)[0],wt=kt(0,o)[1]-kt(0,-o)[1],_t=_(2*wt/pt);function kt(wr,or){var Sr=S(or),kr=l(or);return[Sr/(nt+$e*Sr)*wr,nt*or+$e*kr]}function Ot(wr,or){var Sr=kt(wr,or);return[Sr[0]*_t,Sr[1]/_t]}function dr(wr){return Ot(0,wr)[1]}return Ot.invert=function(wr,or){var Sr=Me(dr,or),kr=wr/_t*($e+nt/S(Sr));return[kr,Sr]},Ot}function Qt(){var $e=.5,nt=(0,g.U)(Dt),pt=nt($e);return pt.alpha=function(wt){return arguments.length?nt($e=+wt):$e},pt.scale(168.725)}var nr=e(4888),ir=e(69604);function tr($e){return[$e[0]/2,E(y($e[1]/2*M))*L]}function Ft($e){return[$e[0]*2,2*i(l($e[1]*M))*L]}function cr($e){$e==null&&($e=nr.c);var nt=$e(),pt=(0,ir.c)().scale(L).precision(0).clipAngle(null).translate([0,0]);function wt(kt){return nt(tr(kt))}nt.invert&&(wt.invert=function(kt){return Ft(nt.invert(kt))}),wt.stream=function(kt){var Ot=nt.stream(kt),dr=pt.stream({point:function(wr,or){Ot.point(wr/2,E(y(-or/2*M))*L)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return dr.sphere=Ot.sphere,dr};function _t(kt){wt[kt]=function(){return arguments.length?(nt[kt].apply(nt,arguments),wt):nt[kt]()}}return wt.rotate=function(kt){return arguments.length?(pt.rotate(kt),wt):pt.rotate()},wt.center=function(kt){return arguments.length?(nt.center(tr(kt)),wt):Ft(nt.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),wt.scale(249.5)}function pr($e,nt){var pt=2*c/nt,wt=$e*$e;function _t(kt,Ot){var dr=(0,le.O)(kt,Ot),wr=dr[0],or=dr[1],Sr=wr*wr+or*or;if(Sr>wt){var kr=_(Sr),Nr=C(or,wr),nn=pt*f(Nr/pt),wn=Nr-nn,kn=$e*S(wn),_n=($e*l(wn)-wn*l(kn))/(o-kn),$n=br(wn,_n),Ia=(c-$e)/hr($n,kn,c);wr=kr;var ka=50,_a;do wr-=_a=($e+hr($n,kn,wr)*Ia-kr)/($n(wr)*Ia);while(R(_a)>h&&--ka>0);or=wn*l(wr),wr<o&&(or-=_n*(wr-o));var Ba=l(nn),Ja=S(nn);dr[0]=wr*Ja-or*Ba,dr[1]=wr*Ba+or*Ja}return dr}return _t.invert=function(kt,Ot){var dr=kt*kt+Ot*Ot;if(dr>wt){var wr=_(dr),or=C(Ot,kt),Sr=pt*f(or/pt),kr=or-Sr;kt=wr*S(kr),Ot=wr*l(kr);for(var Nr=kt-o,nn=l(kt),wn=Ot/nn,kn=kt<o?1/0:0,_n=10;;){var $n=$e*l(wn),Ia=$e*S(wn),ka=l(Ia),_a=o-Ia,Ba=($n-wn*ka)/_a,Ja=br(wn,Ba);if(R(kn)<T||!--_n)break;wn-=kn=(wn*nn-Ba*Nr-Ot)/(nn-Nr*2*(_a*(Ia+wn*$n*S(Ia)-ka)-$n*($n-wn*ka))/(_a*_a))}wr=$e+hr(Ja,Ia,kt)*(c-$e)/hr(Ja,Ia,c),or=Sr+wn,kt=wr*S(or),Ot=wr*l(or)}return le.O.invert(kt,Ot)},_t}function br($e,nt){return function(pt){var wt=$e*S(pt);return pt<o&&(wt-=nt),_(1+wt*wt)}}function hr($e,nt,pt){for(var wt=50,_t=(pt-nt)/wt,kt=$e(nt)+$e(pt),Ot=1,dr=nt;Ot<wt;++Ot)kt+=2*$e(dr+=_t);return kt*.5*_t}function Vr(){var $e=6,nt=30*M,pt=S(nt),wt=l(nt),_t=(0,g.U)(pr),kt=_t(nt,$e),Ot=kt.stream,dr=.01,wr=-S(dr*M),or=l(dr*M);return kt.radius=function(Sr){return arguments.length?(pt=S(nt=Sr*M),wt=l(nt),_t(nt,$e)):nt*L},kt.lobes=function(Sr){return arguments.length?_t(nt,$e=+Sr):$e},kt.stream=function(Sr){var kr=kt.rotate(),Nr=Ot(Sr),nn=(kt.rotate([0,0]),Ot(Sr));return kt.rotate(kr),Nr.sphere=function(){nn.polygonStart(),nn.lineStart();for(var wn=0,kn=2*c/$e,_n=0;wn<$e;++wn,_n-=kn)nn.point(C(or*S(_n),wr)*L,E(or*l(_n))*L),nn.point(C(wt*S(_n-kn/2),pt)*L,E(wt*l(_n-kn/2))*L);nn.lineEnd(),nn.polygonEnd()},Nr},kt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Pr($e,nt,pt,wt,_t,kt,Ot,dr){arguments.length<8&&(dr=0);function wr(or,Sr){if(!Sr)return[$e*or/c,0];var kr=Sr*Sr,Nr=$e+kr*(nt+kr*(pt+kr*wt)),nn=Sr*(_t-1+kr*(kt-dr+kr*Ot)),wn=(Nr*Nr+nn*nn)/(2*nn),kn=or*E(Nr/wn)/c;return[wn*l(kn),Sr*(1+kr*dr)+wn*(1-S(kn))]}return wr.invert=function(or,Sr){var kr=c*or/$e,Nr=Sr,nn,wn,kn=50;do{var _n=Nr*Nr,$n=$e+_n*(nt+_n*(pt+_n*wt)),Ia=Nr*(_t-1+_n*(kt-dr+_n*Ot)),ka=$n*$n+Ia*Ia,_a=2*Ia,Ba=ka/_a,Ja=Ba*Ba,mi=E($n/Ba)/c,ji=kr*mi,fe=$n*$n,Le=(2*nt+_n*(4*pt+_n*6*wt))*Nr,Be=_t+_n*(3*kt+_n*5*Ot),qe=2*($n*Le+Ia*(Be-1)),rt=2*(Be-1),ft=(qe*_a-ka*rt)/(_a*_a),Pt=S(ji),At=l(ji),Vt=Ba*Pt,Gt=Ba*At,rr=kr/c*(1/_(1-fe/Ja))*(Le*Ba-$n*ft)/Ja,Cr=Gt-or,Lr=Nr*(1+_n*dr)+Ba-Vt-Sr,Qr=ft*At+Vt*rr,ln=Vt*mi,Rr=1+ft-(ft*Pt-Gt*rr),Ur=Gt*mi,Kr=Qr*Ur-Rr*ln;if(!Kr)break;kr-=nn=(Lr*Qr-Cr*Rr)/Kr,Nr-=wn=(Cr*Ur-Lr*ln)/Kr}while((R(nn)>h||R(wn)>h)&&--kn>0);return[kr,Nr]},wr}var Ir=Pr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function sn(){return(0,g.c)(Ir).scale(149.995)}var an=Pr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function En(){return(0,g.c)(an).scale(153.93)}var Mn=Pr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function xr(){return(0,g.c)(Mn).scale(130.945)}function _r($e,nt){var pt=$e*$e,wt=nt*nt;return[$e*(1-.162388*wt)*(.87-952426e-9*pt*pt),nt*(1+wt/12)]}_r.invert=function($e,nt){var pt=$e,wt=nt,_t=50,kt;do{var Ot=wt*wt;wt-=kt=(wt*(1+Ot/12)-nt)/(1+Ot/4)}while(R(kt)>h&&--_t>0);_t=50,$e/=1-.162388*Ot;do{var dr=(dr=pt*pt)*dr;pt-=kt=(pt*(.87-952426e-9*dr)-$e)/(.87-.00476213*dr)}while(R(kt)>h&&--_t>0);return[pt,wt]};function Yr(){return(0,g.c)(_r).scale(131.747)}var zr=Pr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function gn(){return(0,g.c)(zr).scale(131.087)}function dn($e){var nt=$e(o,0)[0]-$e(-o,0)[0];function pt(wt,_t){var kt=wt>0?-.5:.5,Ot=$e(wt+kt*c,_t);return Ot[0]-=kt*nt,Ot}return $e.invert&&(pt.invert=function(wt,_t){var kt=wt>0?-.5:.5,Ot=$e.invert(wt+kt*nt,_t),dr=Ot[0]-kt*c;return dr<-c?dr+=2*c:dr>c&&(dr-=2*c),Ot[0]=dr,Ot}),pt}function Rn($e,nt){var pt=u($e),wt=u(nt),_t=S(nt),kt=S($e)*_t,Ot=l($e)*_t,dr=l(wt*nt);$e=R(C(Ot,dr)),nt=E(kt),R($e-o)>h&&($e%=o);var wr=In($e>c/4?o-$e:$e,nt);return $e>c/4&&(dr=wr[0],wr[0]=-wr[1],wr[1]=-dr),wr[0]*=pt,wr[1]*=-wt,wr}Rn.invert=function($e,nt){R($e)>1&&($e=u($e)*2-$e),R(nt)>1&&(nt=u(nt)*2-nt);var pt=u($e),wt=u(nt),_t=-pt*$e,kt=-wt*nt,Ot=kt/_t<1,dr=Wn(Ot?kt:_t,Ot?_t:kt),wr=dr[0],or=dr[1],Sr=S(or);return Ot&&(wr=-o-wr),[pt*(C(l(wr)*Sr,-l(or))+c),wt*E(S(wr)*Sr)]};function In($e,nt){if(nt===o)return[0,0];var pt=l(nt),wt=pt*pt,_t=wt*wt,kt=1+_t,Ot=1+3*_t,dr=1-_t,wr=E(1/_(kt)),or=dr+wt*kt*wr,Sr=(1-pt)/or,kr=_(Sr),Nr=Sr*kt,nn=_(Nr),wn=kr*dr,kn,_n;if($e===0)return[0,-(wn+wt*nn)];var $n=S(nt),Ia=1/$n,ka=2*pt*$n,_a=(-3*wt+wr*Ot)*ka,Ba=(-or*$n-(1-pt)*_a)/(or*or),Ja=.5*Ba/kr,mi=dr*Ja-2*wt*kr*ka,ji=wt*kt*Ba+Sr*Ot*ka,fe=-Ia*ka,Le=-Ia*ji,Be=-2*Ia*mi,qe=4*$e/c,rt;if($e>.222*c||nt<c/4&&$e>.175*c){if(kn=(wn+wt*_(Nr*(1+_t)-wn*wn))/(1+_t),$e>c/4)return[kn,kn];var ft=kn,Pt=.5*kn;kn=.5*(Pt+ft),_n=50;do{var At=_(Nr-kn*kn),Vt=kn*(Be+fe*At)+Le*E(kn/nn)-qe;if(!Vt)break;Vt<0?Pt=kn:ft=kn,kn=.5*(Pt+ft)}while(R(ft-Pt)>h&&--_n>0)}else{kn=h,_n=25;do{var Gt=kn*kn,rr=_(Nr-Gt),Cr=Be+fe*rr,Lr=kn*Cr+Le*E(kn/nn)-qe,Qr=Cr+(Le-fe*Gt)/rr;kn-=rt=rr?Lr/Qr:0}while(R(rt)>h&&--_n>0)}return[kn,-wn-wt*_(Nr-kn*kn)]}function Wn($e,nt){for(var pt=0,wt=1,_t=.5,kt=50;;){var Ot=_t*_t,dr=_(_t),wr=E(1/_(1+Ot)),or=1-Ot+_t*(1+Ot)*wr,Sr=(1-dr)/or,kr=_(Sr),Nr=Sr*(1+Ot),nn=kr*(1-Ot),wn=Nr-$e*$e,kn=_(wn),_n=nt+nn+_t*kn;if(R(wt-pt)<T||--kt===0||_n===0)break;_n>0?pt=_t:wt=_t,_t=.5*(pt+wt)}if(!kt)return null;var $n=E(dr),Ia=S($n),ka=1/Ia,_a=2*dr*Ia,Ba=(-3*_t+wr*(1+3*Ot))*_a,Ja=(-or*Ia-(1-dr)*Ba)/(or*or),mi=.5*Ja/kr,ji=(1-Ot)*mi-2*_t*kr*_a,fe=-2*ka*ji,Le=-ka*_a,Be=-ka*(_t*(1+Ot)*Ja+Sr*(1+3*Ot)*_a);return[c/4*($e*(fe+Le*kn)+Be*E($e/_(Nr))),$n]}function oa(){return(0,g.c)(dn(Rn)).scale(239.75)}function ma($e,nt,pt){var wt,_t,kt;return $e?(wt=Ta($e,pt),nt?(_t=Ta(nt,1-pt),kt=_t[1]*_t[1]+pt*wt[0]*wt[0]*_t[0]*_t[0],[[wt[0]*_t[2]/kt,wt[1]*wt[2]*_t[0]*_t[1]/kt],[wt[1]*_t[1]/kt,-wt[0]*wt[2]*_t[0]*_t[2]/kt],[wt[2]*_t[1]*_t[2]/kt,-pt*wt[0]*wt[1]*_t[0]/kt]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(_t=Ta(nt,1-pt),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function Ta($e,nt){var pt,wt,_t,kt,Ot;if(nt<h)return kt=l($e),wt=S($e),pt=nt*($e-kt*wt)/4,[kt-pt*wt,wt+pt*kt,1-nt*kt*kt/2,$e-pt];if(nt>=1-h)return pt=(1-nt)/4,wt=z($e),kt=D($e),_t=1/wt,Ot=wt*N($e),[kt+pt*(Ot-$e)/(wt*wt),_t-pt*kt*_t*(Ot-$e),_t+pt*kt*_t*(Ot+$e),2*i(v($e))-o+pt*(Ot-$e)/wt];var dr=[1,0,0,0,0,0,0,0,0],wr=[_(nt),0,0,0,0,0,0,0,0],or=0;for(wt=_(1-nt),Ot=1;R(wr[or]/dr[or])>h&&or<8;)pt=dr[or++],wr[or]=(pt-wt)/2,dr[or]=(pt+wt)/2,wt=_(pt*wt),Ot*=2;_t=Ot*dr[or]*$e;do kt=wr[or]*l(wt=_t)/dr[or],_t=(E(kt)+_t)/2;while(--or);return[l(_t),kt=S(_t),kt/S(_t-wt),_t]}function Yn($e,nt,pt){var wt=R($e),_t=R(nt),kt=N(_t);if(wt){var Ot=1/l(wt),dr=1/(y(wt)*y(wt)),wr=-(dr+pt*(kt*kt*Ot*Ot)-1+pt),or=(pt-1)*dr,Sr=(-wr+_(wr*wr-4*or))/2;return[Qn(i(1/_(Sr)),pt)*u($e),Qn(i(_((Sr/dr-1)/pt)),1-pt)*u(nt)]}return[0,Qn(i(kt),1-pt)*u(nt)]}function Qn($e,nt){if(!nt)return $e;if(nt===1)return r(y($e/2+p));for(var pt=1,wt=_(1-nt),_t=_(nt),kt=0;R(_t)>h;kt++){if($e%c){var Ot=i(wt*y($e)/pt);Ot<0&&(Ot+=c),$e+=Ot+~~($e/c)*c}else $e+=$e;_t=(pt+wt)/2,wt=_(pt*wt),_t=((pt=_t)-wt)/2}return $e/(n(2,kt)*pt)}function gr($e,nt){var pt=(b-1)/(b+1),wt=_(1-pt*pt),_t=Qn(o,wt*wt),kt=-1,Ot=r(y(c/4+R(nt)/2)),dr=v(kt*Ot)/_(pt),wr=en(dr*S(kt*$e),dr*l(kt*$e)),or=Yn(wr[0],wr[1],wt*wt);return[-or[1],(nt>=0?1:-1)*(.5*_t-or[0])]}function en($e,nt){var pt=$e*$e,wt=nt+1,_t=1-pt-nt*nt;return[.5*(($e>=0?o:-o)-C(_t,2*$e)),-.25*r(_t*_t+4*pt)+.5*r(wt*wt+pt)]}function $r($e,nt){var pt=nt[0]*nt[0]+nt[1]*nt[1];return[($e[0]*nt[0]+$e[1]*nt[1])/pt,($e[1]*nt[0]-$e[0]*nt[1])/pt]}gr.invert=function($e,nt){var pt=(b-1)/(b+1),wt=_(1-pt*pt),_t=Qn(o,wt*wt),kt=-1,Ot=ma(.5*_t-nt,-$e,wt*wt),dr=$r(Ot[0],Ot[1]),wr=C(dr[1],dr[0])/kt;return[wr,2*i(v(.5/kt*r(pt*dr[0]*dr[0]+pt*dr[1]*dr[1])))-o]};function hn(){return(0,g.c)(dn(gr)).scale(151.496)}var Bn=e(61780);function Tn($e){var nt=l($e),pt=S($e),wt=Sn($e);wt.invert=Sn(-$e);function _t(kt,Ot){var dr=wt(kt,Ot);kt=dr[0],Ot=dr[1];var wr=l(Ot),or=S(Ot),Sr=S(kt),kr=w(nt*wr+pt*or*Sr),Nr=l(kr),nn=R(Nr)>h?kr/Nr:1;return[nn*pt*l(kt),(R(kt)>o?nn:-nn)*(nt*or-pt*wr*Sr)]}return _t.invert=function(kt,Ot){var dr=_(kt*kt+Ot*Ot),wr=-l(dr),or=S(dr),Sr=dr*or,kr=-Ot*wr,Nr=dr*nt,nn=_(Sr*Sr+kr*kr-Nr*Nr),wn=C(Sr*Nr+kr*nn,kr*Nr-Sr*nn),kn=(dr>o?-1:1)*C(kt*wr,dr*S(wn)*or+Ot*l(wn)*wr);return wt.invert(kn,wn)},_t}function Sn($e){var nt=l($e),pt=S($e);return function(wt,_t){var kt=S(_t),Ot=S(wt)*kt,dr=l(wt)*kt,wr=l(_t);return[C(dr,Ot*pt-wr*nt),E(wr*pt+Ot*nt)]}}function Nn(){var $e=0,nt=(0,g.U)(Tn),pt=nt($e),wt=pt.rotate,_t=pt.stream,kt=(0,Bn.c)();return pt.parallel=function(Ot){if(!arguments.length)return $e*L;var dr=pt.rotate();return nt($e=Ot*M).rotate(dr)},pt.rotate=function(Ot){return arguments.length?(wt.call(pt,[Ot[0],Ot[1]-$e*L]),kt.center([-Ot[0],-Ot[1]]),pt):(Ot=wt.call(pt),Ot[1]+=$e*L,Ot)},pt.stream=function(Ot){return Ot=_t(Ot),Ot.sphere=function(){Ot.polygonStart();var dr=.01,wr=kt.radius(90-dr)().coordinates[0],or=wr.length-1,Sr=-1,kr;for(Ot.lineStart();++Sr<or;)Ot.point((kr=wr[Sr])[0],kr[1]);for(Ot.lineEnd(),wr=kt.radius(90+dr)().coordinates[0],or=wr.length-1,Ot.lineStart();--Sr>=0;)Ot.point((kr=wr[Sr])[0],kr[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},pt.scale(79.4187).parallel(45).clipAngle(179.999)}var qn=e(84706),va=e(16016),Da=3,Mr=E(1-1/Da)*L,Or=Tt(0);function Ar($e){var nt=Mr*M,pt=we(c,nt)[0]-we(-c,nt)[0],wt=Or(0,nt)[1],_t=we(0,nt)[1],kt=P-_t,Ot=m/$e,dr=4/m,wr=wt+kt*kt*4/m;function or(Sr,kr){var Nr,nn=R(kr);if(nn>nt){var wn=a($e-1,t(0,d((Sr+c)/Ot)));Sr+=c*($e-1)/$e-wn*Ot,Nr=we(Sr,nn),Nr[0]=Nr[0]*m/pt-m*($e-1)/(2*$e)+wn*m/$e,Nr[1]=wt+(Nr[1]-_t)*4*kt/m,kr<0&&(Nr[1]=-Nr[1])}else Nr=Or(Sr,kr);return Nr[0]*=dr,Nr[1]/=wr,Nr}return or.invert=function(Sr,kr){Sr/=dr,kr*=wr;var Nr=R(kr);if(Nr>wt){var nn=a($e-1,t(0,d((Sr+c)/Ot)));Sr=(Sr+c*($e-1)/$e-nn*Ot)*pt/m;var wn=we.invert(Sr,.25*(Nr-wt)*m/kt+_t);return wn[0]-=c*($e-1)/$e-nn*Ot,kr<0&&(wn[1]=-wn[1]),wn}return Or.invert(Sr,kr)},or}function Fr($e,nt){return[$e,nt&1?90-h:Mr]}function bn($e,nt){return[$e,nt&1?-90+h:-Mr]}function Dn($e){return[$e[0]*(1-h),$e[1]]}function yn($e){var nt=[].concat((0,qn.ik)(-180,180+$e/2,$e).map(Fr),(0,qn.ik)(180,-180-$e/2,-$e).map(bn));return{type:"Polygon",coordinates:[$e===180?nt.map(Dn):nt]}}function un(){var $e=4,nt=(0,g.U)(Ar),pt=nt($e),wt=pt.stream;return pt.lobes=function(_t){return arguments.length?nt($e=+_t):$e},pt.stream=function(_t){var kt=pt.rotate(),Ot=wt(_t),dr=(pt.rotate([0,0]),wt(_t));return pt.rotate(kt),Ot.sphere=function(){(0,va.c)(yn(180/$e),dr)},Ot},pt.scale(239.75)}function Er($e){var nt=1+$e,pt=l(1/nt),wt=E(pt),_t=2*_(c/(kt=c+4*wt*nt)),kt,Ot=.5*_t*(nt+_($e*(2+$e))),dr=$e*$e,wr=nt*nt;function or(Sr,kr){var Nr=1-l(kr),nn,wn;if(Nr&&Nr<2){var kn=o-kr,_n=25,$n;do{var Ia=l(kn),ka=S(kn),_a=wt+C(Ia,nt-ka),Ba=1+wr-2*nt*ka;kn-=$n=(kn-dr*wt-nt*Ia+Ba*_a-.5*Nr*kt)/(2*nt*Ia*_a)}while(R($n)>T&&--_n>0);nn=_t*_(Ba),wn=Sr*_a/c}else nn=_t*($e+Nr),wn=Sr*wt/c;return[nn*l(wn),Ot-nn*S(wn)]}return or.invert=function(Sr,kr){var Nr=Sr*Sr+(kr-=Ot)*kr,nn=(1+wr-Nr/(_t*_t))/(2*nt),wn=w(nn),kn=l(wn),_n=wt+C(kn,nt-nn);return[E(Sr/_(Nr))*c/_n,E(1-2*(wn-dr*wt-nt*kn+(1+wr-2*nt*nn)*_n)/kt)]},or}function Zr(){var $e=1,nt=(0,g.U)(Er),pt=nt($e);return pt.ratio=function(wt){return arguments.length?nt($e=+wt):$e},pt.scale(167.774).center([0,18.67])}var Hr=.7109889596207567,qr=.0528035274542;function An($e,nt){return nt>-Hr?($e=Ce($e,nt),$e[1]+=qr,$e):ot($e,nt)}An.invert=function($e,nt){return nt>-Hr?Ce.invert($e,nt-qr):ot.invert($e,nt)};function Fn(){return(0,g.c)(An).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Cn($e,nt){return R(nt)>Hr?($e=Ce($e,nt),$e[1]-=nt>0?qr:-qr,$e):ot($e,nt)}Cn.invert=function($e,nt){return R(nt)>Hr?Ce.invert($e,nt+(nt>0?qr:-qr)):ot.invert($e,nt)};function Hn(){return(0,g.c)(Cn).scale(152.63)}function Un($e,nt,pt,wt){var _t=_(4*c/(2*pt+(1+$e-nt/2)*l(2*pt)+($e+nt)/2*l(4*pt)+nt/2*l(6*pt))),kt=_(wt*l(pt)*_((1+$e*S(2*pt)+nt*S(4*pt))/(1+$e+nt))),Ot=pt*wr(1);function dr(kr){return _(1+$e*S(2*kr)+nt*S(4*kr))}function wr(kr){var Nr=kr*pt;return(2*Nr+(1+$e-nt/2)*l(2*Nr)+($e+nt)/2*l(4*Nr)+nt/2*l(6*Nr))/pt}function or(kr){return dr(kr)*l(kr)}var Sr=function(kr,Nr){var nn=pt*Me(wr,Ot*l(Nr)/pt,Nr/c);isNaN(nn)&&(nn=pt*u(Nr));var wn=_t*dr(nn);return[wn*kt*kr/c*S(nn),wn/kt*l(nn)]};return Sr.invert=function(kr,Nr){var nn=Me(or,Nr*kt/_t);return[kr*c/(S(nn)*_t*kt*dr(nn)),E(pt*wr(nn/pt)/Ot)]},pt===0&&(_t=_(wt/c),Sr=function(kr,Nr){return[kr*_t,l(Nr)/_t]},Sr.invert=function(kr,Nr){return[kr/_t,E(Nr*_t)]}),Sr}function da(){var $e=1,nt=0,pt=45*M,wt=2,_t=(0,g.U)(Un),kt=_t($e,nt,pt,wt);return kt.a=function(Ot){return arguments.length?_t($e=+Ot,nt,pt,wt):$e},kt.b=function(Ot){return arguments.length?_t($e,nt=+Ot,pt,wt):nt},kt.psiMax=function(Ot){return arguments.length?_t($e,nt,pt=+Ot*M,wt):pt*L},kt.ratio=function(Ot){return arguments.length?_t($e,nt,pt,wt=+Ot):wt},kt.scale(180.739)}function la($e,nt,pt,wt,_t,kt,Ot,dr,wr,or,Sr){if(Sr.nanEncountered)return NaN;var kr,Nr,nn,wn,kn,_n,$n,Ia,ka,_a;if(kr=pt-nt,Nr=$e(nt+kr*.25),nn=$e(pt-kr*.25),isNaN(Nr)){Sr.nanEncountered=!0;return}if(isNaN(nn)){Sr.nanEncountered=!0;return}return wn=kr*(wt+4*Nr+_t)/12,kn=kr*(_t+4*nn+kt)/12,_n=wn+kn,_a=(_n-Ot)/15,or>wr?(Sr.maxDepthCount++,_n+_a):Math.abs(_a)<dr?_n+_a:($n=nt+kr*.5,Ia=la($e,nt,$n,wt,Nr,_t,wn,dr*.5,wr,or+1,Sr),isNaN(Ia)?(Sr.nanEncountered=!0,NaN):(ka=la($e,$n,pt,_t,nn,kt,kn,dr*.5,wr,or+1,Sr),isNaN(ka)?(Sr.nanEncountered=!0,NaN):Ia+ka))}function ya($e,nt,pt,wt,_t){var kt={maxDepthCount:0,nanEncountered:!1};_t===void 0&&(_t=20);var Ot=$e(nt),dr=$e(.5*(nt+pt)),wr=$e(pt),or=(Ot+4*dr+wr)*(pt-nt)/6,Sr=la($e,nt,pt,Ot,dr,wr,or,wt,_t,1,kt);return Sr}function Ra($e,nt,pt){function wt(nn){return $e+(1-$e)*n(1-n(nn,nt),1/nt)}function _t(nn){return ya(wt,0,nn,1e-4)}for(var kt=1/_t(1),Ot=1e3,dr=(1+1e-8)*kt,wr=[],or=0;or<=Ot;or++)wr.push(_t(or/Ot)*dr);function Sr(nn){var wn=0,kn=Ot,_n=Ot>>1;do wr[_n]>nn?kn=_n:wn=_n,_n=wn+kn>>1;while(_n>wn);var $n=wr[_n+1]-wr[_n];return $n&&($n=(nn-wr[_n+1])/$n),(_n+1+$n)/Ot}var kr=2*Sr(1)/c*kt/pt,Nr=function(nn,wn){var kn=Sr(R(l(wn))),_n=wt(kn)*nn;return kn/=kr,[_n,wn>=0?kn:-kn]};return Nr.invert=function(nn,wn){var kn;return wn*=kr,R(wn)<1&&(kn=u(wn)*E(_t(R(wn))*kt)),[nn/wt(R(wn)),kn]},Nr}function wi(){var $e=0,nt=2.5,pt=1.183136,wt=(0,g.U)(Ra),_t=wt($e,nt,pt);return _t.alpha=function(kt){return arguments.length?wt($e=+kt,nt,pt):$e},_t.k=function(kt){return arguments.length?wt($e,nt=+kt,pt):nt},_t.gamma=function(kt){return arguments.length?wt($e,nt,pt=+kt):pt},_t.scale(152.63)}function si($e,nt){return R($e[0]-nt[0])<h&&R($e[1]-nt[1])<h}function Qo($e,nt){for(var pt=-1,wt=$e.length,_t=$e[0],kt,Ot,dr,wr=[];++pt<wt;){kt=$e[pt],Ot=(kt[0]-_t[0])/nt,dr=(kt[1]-_t[1])/nt;for(var or=0;or<nt;++or)wr.push([_t[0]+or*Ot,_t[1]+or*dr]);_t=kt}return wr.push(kt),wr}function Wo($e){var nt=[],pt,wt,_t,kt,Ot,dr,wr,or=$e[0].length;for(wr=0;wr<or;++wr)pt=$e[0][wr],wt=pt[0][0],_t=pt[0][1],kt=pt[1][1],Ot=pt[2][0],dr=pt[2][1],nt.push(Qo([[wt+h,_t+h],[wt+h,kt-h],[Ot-h,kt-h],[Ot-h,dr+h]],30));for(wr=$e[1].length-1;wr>=0;--wr)pt=$e[1][wr],wt=pt[0][0],_t=pt[0][1],kt=pt[1][1],Ot=pt[2][0],dr=pt[2][1],nt.push(Qo([[Ot-h,dr-h],[Ot-h,kt+h],[wt+h,kt+h],[wt+h,_t-h]],30));return{type:"Polygon",coordinates:[(0,qn.Uf)(nt)]}}function po($e,nt,pt){var wt,_t;function kt(wr,or){for(var Sr=or<0?-1:1,kr=nt[+(or<0)],Nr=0,nn=kr.length-1;Nr<nn&&wr>kr[Nr][2][0];++Nr);var wn=$e(wr-kr[Nr][1][0],or);return wn[0]+=$e(kr[Nr][1][0],Sr*or>Sr*kr[Nr][0][1]?kr[Nr][0][1]:or)[0],wn}pt?kt.invert=pt(kt):$e.invert&&(kt.invert=function(wr,or){for(var Sr=_t[+(or<0)],kr=nt[+(or<0)],Nr=0,nn=Sr.length;Nr<nn;++Nr){var wn=Sr[Nr];if(wn[0][0]<=wr&&wr<wn[1][0]&&wn[0][1]<=or&&or<wn[1][1]){var kn=$e.invert(wr-$e(kr[Nr][1][0],0)[0],or);return kn[0]+=kr[Nr][1][0],si(kt(kn[0],kn[1]),[wr,or])?kn:null}}});var Ot=(0,g.c)(kt),dr=Ot.stream;return Ot.stream=function(wr){var or=Ot.rotate(),Sr=dr(wr),kr=(Ot.rotate([0,0]),dr(wr));return Ot.rotate(or),Sr.sphere=function(){(0,va.c)(wt,kr)},Sr},Ot.lobes=function(wr){return arguments.length?(wt=Wo(wr),nt=wr.map(function(or){return or.map(function(Sr){return[[Sr[0][0]*M,Sr[0][1]*M],[Sr[1][0]*M,Sr[1][1]*M],[Sr[2][0]*M,Sr[2][1]*M]]})}),_t=nt.map(function(or){return or.map(function(Sr){var kr=$e(Sr[0][0],Sr[0][1])[0],Nr=$e(Sr[2][0],Sr[2][1])[0],nn=$e(Sr[1][0],Sr[0][1])[1],wn=$e(Sr[1][0],Sr[1][1])[1],kn;return nn>wn&&(kn=nn,nn=wn,wn=kn),[[kr,nn],[Nr,wn]]})}),Ot):nt.map(function(or){return or.map(function(Sr){return[[Sr[0][0]*L,Sr[0][1]*L],[Sr[1][0]*L,Sr[1][1]*L],[Sr[2][0]*L,Sr[2][1]*L]]})})},nt!=null&&Ot.lobes(nt),Ot}var eu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qf(){return po(He,eu).scale(160.857)}var Oc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ai(){return po(Cn,Oc).scale(152.63)}var Bu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ec(){return po(Ce,Bu).scale(169.529)}var so=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zo(){return po(Ce,so).scale(169.529).rotate([20,0])}var tu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function xf(){return po(An,tu,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Wi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function ru(){return po(ot,Wi).scale(152.63).rotate([-20,0])}function Zi($e,nt){return[3/m*$e*_(c*c/3-nt*nt),nt]}Zi.invert=function($e,nt){return[m/3*$e/_(c*c/3-nt*nt),nt]};function eo(){return(0,g.c)(Zi).scale(158.837)}function nu($e){function nt(pt,wt){if(R(R(wt)-o)<h)return[0,wt<0?-2:2];var _t=l(wt),kt=n((1+_t)/(1-_t),$e/2),Ot=.5*(kt+1/kt)+S(pt*=$e);return[2*l(pt)/Ot,(kt-1/kt)/Ot]}return nt.invert=function(pt,wt){var _t=R(wt);if(R(_t-2)<h)return pt?null:[0,u(wt)*o];if(_t>2)return null;pt/=2,wt/=2;var kt=pt*pt,Ot=wt*wt,dr=2*wt/(1+kt+Ot);return dr=n((1+dr)/(1-dr),1/$e),[C(2*pt,1-kt-Ot)/$e,E((dr-1)/(dr+1))]},nt}function go(){var $e=.5,nt=(0,g.U)(nu),pt=nt($e);return pt.spacing=function(wt){return arguments.length?nt($e=+wt):$e},pt.scale(124.75)}var yo=c/b;function qo($e,nt){return[$e*(1+_(S(nt)))/2,nt/(S(nt/2)*S($e/6))]}qo.invert=function($e,nt){var pt=R($e),wt=R(nt),_t=h,kt=o;wt<yo?kt*=wt/yo:_t+=6*w(yo/wt);for(var Ot=0;Ot<25;Ot++){var dr=l(kt),wr=_(S(kt)),or=l(kt/2),Sr=S(kt/2),kr=l(_t/6),Nr=S(_t/6),nn=.5*_t*(1+wr)-pt,wn=kt/(Sr*Nr)-wt,kn=wr?-.25*_t*dr/wr:0,_n=.5*(1+wr),$n=(1+.5*kt*or/Sr)/(Sr*Nr),Ia=kt/Sr*(kr/6)/(Nr*Nr),ka=kn*Ia-$n*_n,_a=(nn*Ia-wn*_n)/ka,Ba=(wn*kn-nn*$n)/ka;if(kt-=_a,_t-=Ba,R(_a)<h&&R(Ba)<h)break}return[$e<0?-_t:_t,nt<0?-kt:kt]};function Fc(){return(0,g.c)(qo).scale(97.2672)}function Yo($e,nt){var pt=$e*$e,wt=nt*nt;return[$e*(.975534+wt*(-.119161+pt*-.0143059+wt*-.0547009)),nt*(1.00384+pt*(.0802894+wt*-.02855+pt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Yo.invert=function($e,nt){var pt=u($e)*c,wt=nt/2,_t=50;do{var kt=pt*pt,Ot=wt*wt,dr=pt*wt,wr=pt*(.975534+Ot*(-.119161+kt*-.0143059+Ot*-.0547009))-$e,or=wt*(1.00384+kt*(.0802894+Ot*-.02855+kt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-nt,Sr=.975534-Ot*(.119161+3*kt*.0143059+Ot*.0547009),kr=-dr*(2*.119161+4*.0547009*Ot+2*.0143059*kt),Nr=dr*(2*.0802894+4*199025e-9*kt+2*-.02855*Ot),nn=1.00384+kt*(.0802894+199025e-9*kt)+Ot*(3*(.0998909-.02855*kt)-5*.0491032*Ot),wn=kr*Nr-nn*Sr,kn=(or*kr-wr*nn)/wn,_n=(wr*Nr-or*Sr)/wn;pt-=kn,wt-=_n}while((R(kn)>h||R(_n)>h)&&--_t>0);return _t&&[pt,wt]};function Hh(){return(0,g.c)(Yo).scale(139.98)}function Rs($e,nt){return[l($e)/S(nt),y(nt)*S($e)]}Rs.invert=function($e,nt){var pt=$e*$e,wt=nt*nt,_t=wt+1,kt=pt+_t,Ot=$e?x*_((kt-_(kt*kt-4*pt))/pt):1/_(_t);return[E($e*Ot),u(nt)*w(Ot)]};function lo(){return(0,g.c)(Rs).scale(144.049).clipAngle(89.999)}function tc($e){var nt=S($e),pt=y(p+$e/2);function wt(_t,kt){var Ot=kt-$e,dr=R(Ot)<h?_t*nt:R(dr=p+kt/2)<h||R(R(dr)-o)<h?0:_t*Ot/r(y(dr)/pt);return[dr,Ot]}return wt.invert=function(_t,kt){var Ot,dr=kt+$e;return[R(kt)<h?_t/nt:R(Ot=p+dr/2)<h||R(R(Ot)-o)<h?0:_t*r(y(Ot)/pt)/kt,dr]},wt}function sl(){return vt(tc).parallel(40).scale(158.837)}function Is($e,nt){return[$e,1.25*r(y(p+.4*nt))]}Is.invert=function($e,nt){return[$e,2.5*i(v(.8*nt))-.625*c]};function rc(){return(0,g.c)(Is).scale(108.318)}function Bc($e){var nt=$e.length-1;function pt(wt,_t){for(var kt=S(_t),Ot=2/(1+kt*S(wt)),dr=Ot*kt*l(wt),wr=Ot*l(_t),or=nt,Sr=$e[or],kr=Sr[0],Nr=Sr[1],nn;--or>=0;)Sr=$e[or],kr=Sr[0]+dr*(nn=kr)-wr*Nr,Nr=Sr[1]+dr*Nr+wr*nn;return kr=dr*(nn=kr)-wr*Nr,Nr=dr*Nr+wr*nn,[kr,Nr]}return pt.invert=function(wt,_t){var kt=20,Ot=wt,dr=_t;do{for(var wr=nt,or=$e[wr],Sr=or[0],kr=or[1],Nr=0,nn=0,wn;--wr>=0;)or=$e[wr],Nr=Sr+Ot*(wn=Nr)-dr*nn,nn=kr+Ot*nn+dr*wn,Sr=or[0]+Ot*(wn=Sr)-dr*kr,kr=or[1]+Ot*kr+dr*wn;Nr=Sr+Ot*(wn=Nr)-dr*nn,nn=kr+Ot*nn+dr*wn,Sr=Ot*(wn=Sr)-dr*kr-wt,kr=Ot*kr+dr*wn-_t;var kn=Nr*Nr+nn*nn,_n,$n;Ot-=_n=(Sr*Nr+kr*nn)/kn,dr-=$n=(kr*Nr-Sr*nn)/kn}while(R(_n)+R($n)>h*h&&--kt>0);if(kt){var Ia=_(Ot*Ot+dr*dr),ka=2*i(Ia*.5),_a=l(ka);return[C(Ot*_a,Ia*S(ka)),Ia?E(dr*_a/Ia):0]}},pt}var Gh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],bf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Wh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Yh=[[.9245,0],[0,0],[.01943,0]],jh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function nc(){return Pl(Gh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Xh(){return Pl(bf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Zh(){return Pl(Wh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Nc(){return Pl(Yh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Uc(){return Pl(jh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Pl($e,nt){var pt=(0,g.c)(Bc($e)).rotate(nt).clipAngle(90),wt=(0,Xe.c)(nt),_t=pt.center;return delete pt.rotate,pt.center=function(kt){return arguments.length?_t(wt(kt)):wt.invert(_t())},pt}var au=_(6),Nu=_(7);function Uu($e,nt){var pt=E(7*l(nt)/(3*au));return[au*$e*(2*S(2*pt/3)-1)/Nu,9*l(pt/3)/Nu]}Uu.invert=function($e,nt){var pt=3*E(nt*Nu/9);return[$e*Nu/(au*(2*S(2*pt/3)-1)),E(l(pt)*3*au/7)]};function Vc(){return(0,g.c)(Uu).scale(164.859)}function js($e,nt){for(var pt=(1+x)*l(nt),wt=nt,_t=0,kt;_t<25&&(wt-=kt=(l(wt/2)+l(wt)-pt)/(.5*S(wt/2)+S(wt)),!(R(kt)<h));_t++);return[$e*(1+2*S(wt)/S(wt/2))/(3*b),2*_(3)*l(wt/2)/_(2+b)]}js.invert=function($e,nt){var pt=nt*_(2+b)/(2*_(3)),wt=2*E(pt);return[3*b*$e/(1+2*S(wt)/S(wt/2)),E((pt+l(wt))/(1+x))]};function Kh(){return(0,g.c)(js).scale(188.209)}function wf($e,nt){for(var pt=_(6/(4+c)),wt=(1+c/4)*l(nt),_t=nt/2,kt=0,Ot;kt<25&&(_t-=Ot=(_t/2+l(_t)-wt)/(.5+S(_t)),!(R(Ot)<h));kt++);return[pt*(.5+S(_t))*$e/1.5,pt*_t]}wf.invert=function($e,nt){var pt=_(6/(4+c)),wt=nt/pt;return R(R(wt)-o)<h&&(wt=wt<0?-o:o),[1.5*$e/(pt*(.5+S(wt))),E((wt/2+l(wt))/(1+c/4))]};function Hc(){return(0,g.c)(wf).scale(166.518)}var Gc=e(47984);function Tf($e,nt){var pt=nt*nt,wt=pt*pt,_t=pt*wt;return[$e*(.84719-.13063*pt+_t*_t*(-.04515+.05494*pt-.02326*wt+.00331*_t)),nt*(1.01183+wt*wt*(-.02625+.01926*pt-.00396*wt))]}Tf.invert=function($e,nt){var pt=nt,wt=25,_t,kt,Ot,dr;do kt=pt*pt,Ot=kt*kt,pt-=_t=(pt*(1.01183+Ot*Ot*(-.02625+.01926*kt-.00396*Ot))-nt)/(1.01183+Ot*Ot*(-.23625+.21186*kt+-.05148*Ot));while(R(_t)>T&&--wt>0);return kt=pt*pt,Ot=kt*kt,dr=kt*Ot,[$e/(.84719-.13063*kt+dr*dr*(-.04515+.05494*kt-.02326*Ot+.00331*dr)),pt]};function hs(){return(0,g.c)(Tf).scale(175.295)}function iu($e,nt){return[$e*(1+S(nt))/2,2*(nt-y(nt/2))]}iu.invert=function($e,nt){for(var pt=nt/2,wt=0,_t=1/0;wt<10&&R(_t)>h;++wt){var kt=S(nt/2);nt-=_t=(nt-y(nt/2)-pt)/(1-.5/(kt*kt))}return[2*$e/(1+S(nt)),nt]};function Rl(){return(0,g.c)(iu).scale(152.63)}var Vu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ll(){return po(ae(1/0),Vu).rotate([20,0]).scale(152.63)}function ks($e,nt){var pt=l(nt),wt=S(nt),_t=u($e);if($e===0||R(nt)===o)return[0,nt];if(nt===0)return[$e,0];if(R($e)===o)return[$e*wt,o*pt];var kt=c/(2*$e)-2*$e/c,Ot=2*nt/c,dr=(1-Ot*Ot)/(pt-Ot),wr=kt*kt,or=dr*dr,Sr=1+wr/or,kr=1+or/wr,Nr=(kt*pt/dr-kt/2)/Sr,nn=(or*pt/wr+dr/2)/kr,wn=Nr*Nr+wt*wt/Sr,kn=nn*nn-(or*pt*pt/wr+dr*pt-1)/kr;return[o*(Nr+_(wn)*_t),o*(nn+_(kn<0?0:kn)*u(-nt*kt)*_t)]}ks.invert=function($e,nt){$e/=o,nt/=o;var pt=$e*$e,wt=nt*nt,_t=pt+wt,kt=c*c;return[$e?(_t-1+_((1-_t)*(1-_t)+4*pt))/(2*$e)*o:0,Me(function(Ot){return _t*(c*l(Ot)-2*Ot)*c+4*Ot*Ot*(nt-l(Ot))+2*c*Ot-kt*nt},0)]};function ac(){return(0,g.c)(ks).scale(127.267)}var ou=1.0148,vs=.23185,Ni=-.14499,ic=.02406,$h=ou,Af=5*vs,su=7*Ni,lu=9*ic,jo=1.790857183;function Sf($e,nt){var pt=nt*nt;return[$e,nt*(ou+pt*pt*(vs+pt*(Ni+ic*pt)))]}Sf.invert=function($e,nt){nt>jo?nt=jo:nt<-jo&&(nt=-jo);var pt=nt,wt;do{var _t=pt*pt;pt-=wt=(pt*(ou+_t*_t*(vs+_t*(Ni+ic*_t)))-nt)/($h+_t*_t*(Af+_t*(su+lu*_t)))}while(R(wt)>h);return[$e,pt]};function uu(){return(0,g.c)(Sf).scale(139.319)}function Mf($e,nt){if(R(nt)<h)return[$e,0];var pt=y(nt),wt=$e*l(nt);return[l(wt)/pt,nt+(1-S(wt))/pt]}Mf.invert=function($e,nt){if(R(nt)<h)return[$e,0];var pt=$e*$e+nt*nt,wt=nt*.5,_t=10,kt;do{var Ot=y(wt),dr=1/S(wt),wr=pt-2*nt*wt+wt*wt;wt-=kt=(Ot*wr+2*(wt-nt))/(2+wr*dr*dr+2*(wt-nt)*Ot)}while(R(kt)>h&&--_t>0);return Ot=y(wt),[(R(nt)<R(wt+1/Ot)?E($e*Ot):u(nt)*u($e)*(w(R($e*Ot))+o))/l(wt),wt]};function Jh(){return(0,g.c)(Mf).scale(103.74)}var Wc=e(13696),oc=e(27284);function sc($e,nt){var pt=Ef($e[1],$e[0]),wt=Ef(nt[1],nt[0]),_t=Cf(pt,wt),kt=Hu(pt)/Hu(wt);return fu([1,0,$e[0][0],0,1,$e[0][1]],fu([kt,0,0,0,kt,0],fu([S(_t),l(_t),0,-l(_t),S(_t),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function lc($e){var nt=1/($e[0]*$e[4]-$e[1]*$e[3]);return[nt*$e[4],-nt*$e[1],nt*($e[1]*$e[5]-$e[2]*$e[4]),-nt*$e[3],nt*$e[0],nt*($e[2]*$e[3]-$e[0]*$e[5])]}function fu($e,nt){return[$e[0]*nt[0]+$e[1]*nt[3],$e[0]*nt[1]+$e[1]*nt[4],$e[0]*nt[2]+$e[1]*nt[5]+$e[2],$e[3]*nt[0]+$e[4]*nt[3],$e[3]*nt[1]+$e[4]*nt[4],$e[3]*nt[2]+$e[4]*nt[5]+$e[5]]}function Ef($e,nt){return[$e[0]-nt[0],$e[1]-nt[1]]}function Hu($e){return _($e[0]*$e[0]+$e[1]*$e[1])}function Cf($e,nt){return C($e[0]*nt[1]-$e[1]*nt[0],$e[0]*nt[0]+$e[1]*nt[1])}function Ti($e,nt,pt){wt($e,{transform:null});function wt(or,Sr){if(or.edges=uc(or.face),Sr.face){var kr=or.shared=jc(or.face,Sr.face),Nr=sc(kr.map(Sr.project),kr.map(or.project));or.transform=Sr.transform?fu(Sr.transform,Nr):Nr;for(var nn=Sr.edges,wn=0,kn=nn.length;wn<kn;++wn)ds(kr[0],nn[wn][1])&&ds(kr[1],nn[wn][0])&&(nn[wn]=or),ds(kr[0],nn[wn][0])&&ds(kr[1],nn[wn][1])&&(nn[wn]=or);for(nn=or.edges,wn=0,kn=nn.length;wn<kn;++wn)ds(kr[0],nn[wn][0])&&ds(kr[1],nn[wn][1])&&(nn[wn]=Sr),ds(kr[0],nn[wn][1])&&ds(kr[1],nn[wn][0])&&(nn[wn]=Sr)}else or.transform=Sr.transform;return or.children&&or.children.forEach(function(_n){wt(_n,or)}),or}function _t(or,Sr){var kr=nt(or,Sr),Nr=kr.project([or*L,Sr*L]),nn;return(nn=kr.transform)?[nn[0]*Nr[0]+nn[1]*Nr[1]+nn[2],-(nn[3]*Nr[0]+nn[4]*Nr[1]+nn[5])]:(Nr[1]=-Nr[1],Nr)}Il($e)&&(_t.invert=function(or,Sr){var kr=kt($e,[or,-Sr]);return kr&&(kr[0]*=M,kr[1]*=M,kr)});function kt(or,Sr){var kr=or.project.invert,Nr=or.transform,nn=Sr;if(Nr&&(Nr=lc(Nr),nn=[Nr[0]*nn[0]+Nr[1]*nn[1]+Nr[2],Nr[3]*nn[0]+Nr[4]*nn[1]+Nr[5]]),kr&&or===Ot(wn=kr(nn)))return wn;for(var wn,kn=or.children,_n=0,$n=kn&&kn.length;_n<$n;++_n)if(wn=kt(kn[_n],Sr))return wn}function Ot(or){return nt(or[0]*M,or[1]*M)}var dr=(0,g.c)(_t),wr=dr.stream;return dr.stream=function(or){var Sr=dr.rotate(),kr=wr(or),Nr=(dr.rotate([0,0]),wr(or));return dr.rotate(Sr),kr.sphere=function(){Nr.polygonStart(),Nr.lineStart(),Yc(Nr,$e),Nr.lineEnd(),Nr.polygonEnd()},kr},dr.angle(pt==null?-30:pt*L)}function Yc($e,nt,pt){var wt,_t=nt.edges,kt=_t.length,Ot,dr={type:"MultiPoint",coordinates:nt.face},wr=nt.face.filter(function(kn){return R(kn[1])!==90}),or=(0,Wc.c)({type:"MultiPoint",coordinates:wr}),Sr=!1,kr=-1,Nr=or[1][0]-or[0][0],nn=Nr===180||Nr===360?[(or[0][0]+or[1][0])/2,(or[0][1]+or[1][1])/2]:(0,Oe.c)(dr);if(pt)for(;++kr<kt&&_t[kr]!==pt;);++kr;for(var wn=0;wn<kt;++wn)Ot=_t[(wn+kr)%kt],Array.isArray(Ot)?(Sr||($e.point((wt=(0,oc.c)(Ot[0],nn)(h))[0],wt[1]),Sr=!0),$e.point((wt=(0,oc.c)(Ot[1],nn)(h))[0],wt[1])):(Sr=!1,Ot!==pt&&Yc($e,Ot,nt))}function ds($e,nt){return $e&&nt&&$e[0]===nt[0]&&$e[1]===nt[1]}function jc($e,nt){for(var pt,wt,_t=$e.length,kt=null,Ot=0;Ot<_t;++Ot){pt=$e[Ot];for(var dr=nt.length;--dr>=0;)if(wt=nt[dr],pt[0]===wt[0]&&pt[1]===wt[1]){if(kt)return[kt,pt];kt=pt}}}function uc($e){for(var nt=$e.length,pt=[],wt=$e[nt-1],_t=0;_t<nt;++_t)pt.push([wt,wt=$e[_t]]);return pt}function Il($e){return $e.project.invert||$e.children&&$e.children.some(Il)}var ul=e(53285),Lf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Yi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(nt){return Lf[nt]})});function Gu($e){$e=$e||function(pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:pt});return(0,ul.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var nt=Yi.map(function(pt){return{face:pt,project:$e(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,wt){var _t=nt[pt];_t&&(_t.children||(_t.children=[])).push(nt[wt])}),Ti(nt[0],function(pt,wt){return nt[pt<-c/2?wt<0?6:4:pt<0?wt<0?2:0:pt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ps=2/_(3);function Xs($e,nt){var pt=we($e,nt);return[pt[0]*ps,pt[1]]}Xs.invert=function($e,nt){return we.invert($e/ps,nt)};function kl($e){$e=$e||function(pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:pt});return(0,g.c)(Xs).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var nt=Yi.map(function(pt){return{face:pt,project:$e(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,wt){var _t=nt[pt];_t&&(_t.children||(_t.children=[])).push(nt[wt])}),Ti(nt[0],function(pt,wt){return nt[pt<-c/2?wt<0?6:4:pt<0?wt<0?2:0:pt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function fl($e){$e=$e||function(Ot){var dr=Ot.length===6?(0,Oe.c)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,ul.c)().scale(1).translate([0,0]).rotate([-dr[0],-dr[1]])};var nt=Yi.map(function(Ot){for(var dr=Ot.map(as),wr=dr.length,or=dr[wr-1],Sr,kr=[],Nr=0;Nr<wr;++Nr)Sr=dr[Nr],kr.push(ys([or[0]*.9486832980505138+Sr[0]*.31622776601683794,or[1]*.9486832980505138+Sr[1]*.31622776601683794,or[2]*.9486832980505138+Sr[2]*.31622776601683794]),ys([Sr[0]*.9486832980505138+or[0]*.31622776601683794,Sr[1]*.9486832980505138+or[1]*.31622776601683794,Sr[2]*.9486832980505138+or[2]*.31622776601683794])),or=Sr;return kr}),pt=[],wt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ot,dr){for(var wr=Yi[dr],or=wr.length,Sr=pt[dr]=[],kr=0;kr<or;++kr)nt.push([wr[kr],Ot[(kr*2+2)%(2*or)],Ot[(kr*2+1)%(2*or)]]),wt.push(dr),Sr.push(Zs(as(Ot[(kr*2+2)%(2*or)]),as(Ot[(kr*2+1)%(2*or)])))});var _t=nt.map(function(Ot){return{project:$e(Ot),face:Ot}});wt.forEach(function(Ot,dr){var wr=_t[Ot];wr&&(wr.children||(wr.children=[])).push(_t[dr])});function kt(Ot,dr){var wr=S(dr),or=[wr*S(Ot),wr*l(Ot),l(dr)],Sr=Ot<-c/2?dr<0?6:4:Ot<0?dr<0?2:0:Ot<c/2?dr<0?3:1:dr<0?7:5,kr=pt[Sr];return _t[gs(kr[0],or)<0?8+3*Sr:gs(kr[1],or)<0?8+3*Sr+1:gs(kr[2],or)<0?8+3*Sr+2:Sr]}return Ti(_t[0],kt).angle(-30).scale(110.625).center([0,45])}function gs($e,nt){for(var pt=0,wt=$e.length,_t=0;pt<wt;++pt)_t+=$e[pt]*nt[pt];return _t}function Zs($e,nt){return[$e[1]*nt[2]-$e[2]*nt[1],$e[2]*nt[0]-$e[0]*nt[2],$e[0]*nt[1]-$e[1]*nt[0]]}function ys($e){return[C($e[1],$e[0])*L,E(t(-1,a(1,$e[2])))*L]}function as($e){var nt=$e[0]*M,pt=$e[1]*M,wt=S(pt);return[wt*S(nt),wt*l(nt),l(pt)]}function Wu(){}function Qh($e){if((pt=$e.length)<4)return!1;for(var nt=0,pt,wt=$e[pt-1][1]*$e[0][0]-$e[pt-1][0]*$e[0][1];++nt<pt;)wt+=$e[nt-1][1]*$e[nt][0]-$e[nt-1][0]*$e[nt][1];return wt<=0}function qh($e,nt){for(var pt=nt[0],wt=nt[1],_t=!1,kt=0,Ot=$e.length,dr=Ot-1;kt<Ot;dr=kt++){var wr=$e[kt],or=wr[0],Sr=wr[1],kr=$e[dr],Nr=kr[0],nn=kr[1];Sr>wt^nn>wt&&pt<(Nr-or)*(wt-Sr)/(nn-Sr)+or&&(_t=!_t)}return _t}function ev($e,nt){var pt=nt.stream,wt;if(!pt)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":wt=fc;break;case"FeatureCollection":wt=tv;break;default:wt=cu;break}return wt($e,pt)}function tv($e,nt){return{type:"FeatureCollection",features:$e.features.map(function(pt){return fc(pt,nt)})}}function fc($e,nt){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:cu($e.geometry,nt)}}function Xc($e,nt){return{type:"GeometryCollection",geometries:$e.geometries.map(function(pt){return cu(pt,nt)})}}function cu($e,nt){if(!$e)return null;if($e.type==="GeometryCollection")return Xc($e,nt);var pt;switch($e.type){case"Point":pt=hu;break;case"MultiPoint":pt=hu;break;case"LineString":pt=Zc;break;case"MultiLineString":pt=Zc;break;case"Polygon":pt=Yu;break;case"MultiPolygon":pt=Yu;break;case"Sphere":pt=Yu;break;default:return null}return(0,va.c)($e,nt(pt)),pt.result()}var uo=[],es=[],hu={point:function($e,nt){uo.push([$e,nt])},result:function(){var $e=uo.length?uo.length<2?{type:"Point",coordinates:uo[0]}:{type:"MultiPoint",coordinates:uo}:null;return uo=[],$e}},Zc={lineStart:Wu,point:function($e,nt){uo.push([$e,nt])},lineEnd:function(){uo.length&&(es.push(uo),uo=[])},result:function(){var $e=es.length?es.length<2?{type:"LineString",coordinates:es[0]}:{type:"MultiLineString",coordinates:es}:null;return es=[],$e}},Yu={polygonStart:Wu,lineStart:Wu,point:function($e,nt){uo.push([$e,nt])},lineEnd:function(){var $e=uo.length;if($e){do uo.push(uo[0].slice());while(++$e<4);es.push(uo),uo=[]}},polygonEnd:Wu,result:function(){if(!es.length)return null;var $e=[],nt=[];return es.forEach(function(pt){Qh(pt)?$e.push([pt]):nt.push(pt)}),nt.forEach(function(pt){var wt=pt[0];$e.some(function(_t){if(qh(_t[0],wt))return _t.push(pt),!0})||$e.push([pt])}),es=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function Ks($e){var nt=$e(o,0)[0]-$e(-o,0)[0];function pt(wt,_t){var kt=R(wt)<o,Ot=$e(kt?wt:wt>0?wt-c:wt+c,_t),dr=(Ot[0]-Ot[1])*x,wr=(Ot[0]+Ot[1])*x;if(kt)return[dr,wr];var or=nt*x,Sr=dr>0^wr>0?-1:1;return[Sr*dr-u(wr)*or,Sr*wr-u(dr)*or]}return $e.invert&&(pt.invert=function(wt,_t){var kt=(wt+_t)*x,Ot=(_t-wt)*x,dr=R(kt)<.5*nt&&R(Ot)<.5*nt;if(!dr){var wr=nt*x,or=kt>0^Ot>0?-1:1,Sr=-or*wt+(Ot>0?1:-1)*wr,kr=-or*_t+(kt>0?1:-1)*wr;kt=(-Sr-kr)*x,Ot=(Sr-kr)*x}var Nr=$e.invert(kt,Ot);return dr||(Nr[0]+=kt>0?c:-c),Nr}),(0,g.c)(pt).rotate([-90,-90,45]).clipAngle(179.999)}function rv(){return Ks(Rn).scale(176.423)}function Kc(){return Ks(gr).scale(111.48)}function $c($e,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function pt(or){var Sr=or.length,kr=2,Nr=new Array(Sr);for(Nr[0]=+or[0].toFixed(nt),Nr[1]=+or[1].toFixed(nt);kr<Sr;)Nr[kr]=or[kr],++kr;return Nr}function wt(or){return or.map(pt)}function _t(or){for(var Sr=pt(or[0]),kr=[Sr],Nr=1;Nr<or.length;Nr++){var nn=pt(or[Nr]);(nn.length>2||nn[0]!=Sr[0]||nn[1]!=Sr[1])&&(kr.push(nn),Sr=nn)}return kr.length===1&&or.length>1&&kr.push(pt(or[or.length-1])),kr}function kt(or){return or.map(_t)}function Ot(or){if(or==null)return or;var Sr;switch(or.type){case"GeometryCollection":Sr={type:"GeometryCollection",geometries:or.geometries.map(Ot)};break;case"Point":Sr={type:"Point",coordinates:pt(or.coordinates)};break;case"MultiPoint":Sr={type:or.type,coordinates:wt(or.coordinates)};break;case"LineString":Sr={type:or.type,coordinates:_t(or.coordinates)};break;case"MultiLineString":case"Polygon":Sr={type:or.type,coordinates:kt(or.coordinates)};break;case"MultiPolygon":Sr={type:"MultiPolygon",coordinates:or.coordinates.map(kt)};break;default:return or}return or.bbox!=null&&(Sr.bbox=or.bbox),Sr}function dr(or){var Sr={type:"Feature",properties:or.properties,geometry:Ot(or.geometry)};return or.id!=null&&(Sr.id=or.id),or.bbox!=null&&(Sr.bbox=or.bbox),Sr}if($e!=null)switch($e.type){case"Feature":return dr($e);case"FeatureCollection":{var wr={type:"FeatureCollection",features:$e.features.map(dr)};return $e.bbox!=null&&(wr.bbox=$e.bbox),wr}default:return Ot($e)}return $e}function cc($e){var nt=l($e);function pt(wt,_t){var kt=nt?y(wt*nt/2)/nt:wt/2;if(!_t)return[2*kt,-$e];var Ot=2*i(kt*l(_t)),dr=1/y(_t);return[l(Ot)*dr,_t+(1-S(Ot))*dr-$e]}return pt.invert=function(wt,_t){if(R(_t+=$e)<h)return[nt?2*i(nt*wt/2)/nt:wt,0];var kt=wt*wt+_t*_t,Ot=0,dr=10,wr;do{var or=y(Ot),Sr=1/S(Ot),kr=kt-2*_t*Ot+Ot*Ot;Ot-=wr=(or*kr+2*(Ot-_t))/(2+kr*Sr*Sr+2*(Ot-_t)*or)}while(R(wr)>h&&--dr>0);var Nr=wt*(or=y(Ot)),nn=y(R(_t)<R(Ot+1/or)?E(Nr)*.5:w(Nr)*.5+c/4)/l(Ot);return[nt?2*i(nt*nn)/nt:2*nn,Ot]},pt}function Jc(){return vt(cc).scale(131.215)}var Oo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Oo.forEach(function($e){$e[1]*=1.0144});function ms($e,nt){var pt=a(18,R(nt)*36/c),wt=d(pt),_t=pt-wt,kt=(kr=Oo[wt])[0],Ot=kr[1],dr=(kr=Oo[++wt])[0],wr=kr[1],or=(kr=Oo[a(19,++wt)])[0],Sr=kr[1],kr;return[$e*(dr+_t*(or-kt)/2+_t*_t*(or-2*dr+kt)/2),(nt>0?o:-o)*(wr+_t*(Sr-Ot)/2+_t*_t*(Sr-2*wr+Ot)/2)]}ms.invert=function($e,nt){var pt=nt/o,wt=pt*90,_t=a(18,R(wt/5)),kt=t(0,d(_t));do{var Ot=Oo[kt][1],dr=Oo[kt+1][1],wr=Oo[a(19,kt+2)][1],or=wr-Ot,Sr=wr-2*dr+Ot,kr=2*(R(pt)-dr)/or,Nr=Sr/or,nn=kr*(1-Nr*kr*(1-2*Nr*kr));if(nn>=0||kt===1){wt=(nt>=0?5:-5)*(nn+_t);var wn=50,kn;do _t=a(18,R(wt)/5),kt=d(_t),nn=_t-kt,Ot=Oo[kt][1],dr=Oo[kt+1][1],wr=Oo[a(19,kt+2)][1],wt-=(kn=(nt>=0?o:-o)*(dr+nn*(wr-Ot)/2+nn*nn*(wr-2*dr+Ot)/2)-nt)*L;while(R(kn)>T&&--wn>0);break}}while(--kt>=0);var _n=Oo[kt][0],$n=Oo[kt+1][0],Ia=Oo[a(19,kt+2)][0];return[$e/($n+nn*(Ia-_n)/2+nn*nn*(Ia-2*$n+_n)/2),wt*M]};function cl(){return(0,g.c)(ms).scale(152.63)}function vu($e){function nt(pt,wt){var _t=S(wt),kt=($e-1)/($e-_t*S(pt));return[kt*_t*l(pt),kt*l(wt)]}return nt.invert=function(pt,wt){var _t=pt*pt+wt*wt,kt=_(_t),Ot=($e-_(1-_t*($e+1)/($e-1)))/(($e-1)/kt+kt/($e-1));return[C(pt*Ot,kt*_(1-Ot*Ot)),kt?E(wt*Ot/kt):0]},nt}function Pf($e,nt){var pt=vu($e);if(!nt)return pt;var wt=S(nt),_t=l(nt);function kt(Ot,dr){var wr=pt(Ot,dr),or=wr[1],Sr=or*_t/($e-1)+wt;return[wr[0]*wt/Sr,or/Sr]}return kt.invert=function(Ot,dr){var wr=($e-1)/($e-1-dr*_t);return pt.invert(wr*Ot,wr*dr*wt)},kt}function Dl(){var $e=2,nt=0,pt=(0,g.U)(Pf),wt=pt($e,nt);return wt.distance=function(_t){return arguments.length?pt($e=+_t,nt):$e},wt.tilt=function(_t){return arguments.length?pt($e,nt=_t*M):nt*L},wt.scale(432.147).clipAngle(w(1/$e)*L-1e-6)}var _l=1e-4,Qc=1e4,$s=-180,du=$s+_l,hl=180,Js=hl-_l,ju=-90,pu=ju+_l,yi=90,gu=yi-_l;function Rf($e){return $e.length>0}function qc($e){return Math.floor($e*Qc)/Qc}function yu($e){return $e===ju||$e===yi?[0,$e]:[$s,qc($e)]}function Xu($e){var nt=$e[0],pt=$e[1],wt=!1;return nt<=du?(nt=$s,wt=!0):nt>=Js&&(nt=hl,wt=!0),pt<=pu?(pt=ju,wt=!0):pt>=gu&&(pt=yi,wt=!0),wt?[nt,pt]:$e}function If($e){return $e.map(Xu)}function hc($e,nt,pt){for(var wt=0,_t=$e.length;wt<_t;++wt){var kt=$e[wt].slice();pt.push({index:-1,polygon:nt,ring:kt});for(var Ot=0,dr=kt.length;Ot<dr;++Ot){var wr=kt[Ot],or=wr[0],Sr=wr[1];if(or<=du||or>=Js||Sr<=pu||Sr>=gu){kt[Ot]=Xu(wr);for(var kr=Ot+1;kr<dr;++kr){var Nr=kt[kr],nn=Nr[0],wn=Nr[1];if(nn>du&&nn<Js&&wn>pu&&wn<gu)break}if(kr===Ot+1)continue;if(Ot){var kn={index:-1,polygon:nt,ring:kt.slice(0,Ot+1)};kn.ring[kn.ring.length-1]=yu(Sr),pt[pt.length-1]=kn}else pt.pop();if(kr>=dr)break;pt.push({index:-1,polygon:nt,ring:kt=kt.slice(kr-1)}),kt[0]=yu(kt[0][1]),Ot=-1,dr=kt.length}}}}function Zu($e){var nt,pt=$e.length,wt={},_t={},kt,Ot,dr,wr,or;for(nt=0;nt<pt;++nt){if(kt=$e[nt],Ot=kt.ring[0],wr=kt.ring[kt.ring.length-1],Ot[0]===wr[0]&&Ot[1]===wr[1]){kt.polygon.push(kt.ring),$e[nt]=null;continue}kt.index=nt,wt[Ot]=_t[wr]=kt}for(nt=0;nt<pt;++nt)if(kt=$e[nt],kt){if(Ot=kt.ring[0],wr=kt.ring[kt.ring.length-1],dr=_t[Ot],or=wt[wr],delete wt[Ot],delete _t[wr],Ot[0]===wr[0]&&Ot[1]===wr[1]){kt.polygon.push(kt.ring);continue}dr?(delete _t[Ot],delete wt[dr.ring[0]],dr.ring.pop(),$e[dr.index]=null,kt={index:-1,polygon:dr.polygon,ring:dr.ring.concat(kt.ring)},dr===or?kt.polygon.push(kt.ring):(kt.index=pt++,$e.push(wt[kt.ring[0]]=_t[kt.ring[kt.ring.length-1]]=kt))):or?(delete wt[wr],delete _t[or.ring[or.ring.length-1]],kt.ring.pop(),kt={index:pt++,polygon:or.polygon,ring:kt.ring.concat(or.ring)},$e[or.index]=null,$e.push(wt[kt.ring[0]]=_t[kt.ring[kt.ring.length-1]]=kt)):(kt.ring.push(kt.ring[0]),kt.polygon.push(kt.ring))}}function Ku($e){var nt={type:"Feature",geometry:vl($e.geometry)};return $e.id!=null&&(nt.id=$e.id),$e.bbox!=null&&(nt.bbox=$e.bbox),$e.properties!=null&&(nt.properties=$e.properties),nt}function vl($e){if($e==null)return $e;var nt,pt,wt,_t;switch($e.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:$e.geometries.map(vl)};break;case"Point":nt={type:"Point",coordinates:Xu($e.coordinates)};break;case"MultiPoint":case"LineString":nt={type:$e.type,coordinates:If($e.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:$e.coordinates.map(If)};break;case"Polygon":{var kt=[];hc($e.coordinates,kt,pt=[]),Zu(pt),nt={type:"Polygon",coordinates:kt};break}case"MultiPolygon":{pt=[],wt=-1,_t=$e.coordinates.length;for(var Ot=new Array(_t);++wt<_t;)hc($e.coordinates[wt],Ot[wt]=[],pt);Zu(pt),nt={type:"MultiPolygon",coordinates:Ot.filter(Rf)};break}default:return $e}return $e.bbox!=null&&(nt.bbox=$e.bbox),nt}function $u($e){if($e==null)return $e;switch($e.type){case"Feature":return Ku($e);case"FeatureCollection":{var nt={type:"FeatureCollection",features:$e.features.map(Ku)};return $e.bbox!=null&&(nt.bbox=$e.bbox),nt}default:return vl($e)}}function dl($e,nt){var pt=y(nt/2),wt=l(p*pt);return[$e*(.74482-.34588*wt*wt),1.70711*pt]}dl.invert=function($e,nt){var pt=nt/1.70711,wt=l(p*pt);return[$e/(.74482-.34588*wt*wt),2*i(pt)]};function to(){return(0,g.c)(dl).scale(146.153)}function Ds($e,nt,pt){var wt=(0,oc.c)(nt,pt),_t=wt(.5),kt=(0,Xe.c)([-_t[0],-_t[1]])(nt),Ot=wt.distance/2,dr=-E(l(kt[1]*M)/l(Ot)),wr=[-_t[0],-_t[1],-(kt[0]>0?c-dr:dr)*L],or=(0,g.c)($e(Ot)).rotate(wr),Sr=(0,Xe.c)(wr),kr=or.center;return delete or.rotate,or.center=function(Nr){return arguments.length?kr(Sr(Nr)):Sr.invert(kr())},or.clipAngle(90)}function vc($e){var nt=S($e);function pt(wt,_t){var kt=(0,ul.Y)(wt,_t);return kt[0]*=nt,kt}return pt.invert=function(wt,_t){return ul.Y.invert(wt/nt,_t)},pt}function zl(){return kf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function kf($e,nt){return Ds(vc,$e,nt)}function Ju($e){if(!($e*=2))return le.O;var nt=-$e/2,pt=-nt,wt=$e*$e,_t=y(pt),kt=.5/l(pt);function Ot(dr,wr){var or=w(S(wr)*S(dr-nt)),Sr=w(S(wr)*S(dr-pt)),kr=wr<0?-1:1;return or*=or,Sr*=Sr,[(or-Sr)/(2*$e),kr*_(4*wt*Sr-(wt-or+Sr)*(wt-or+Sr))/(2*$e)]}return Ot.invert=function(dr,wr){var or=wr*wr,Sr=S(_(or+(Nr=dr+nt)*Nr)),kr=S(_(or+(Nr=dr+pt)*Nr)),Nr,nn;return[C(nn=Sr-kr,Nr=(Sr+kr)*_t),(wr<0?-1:1)*w(_(Nr*Nr+nn*nn)*kt)]},Ot}function nv(){return eh([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function eh($e,nt){return Ds(Ju,$e,nt)}function Lo($e,nt){if(R(nt)<h)return[$e,0];var pt=R(nt/o),wt=E(pt);if(R($e)<h||R(R(nt)-o)<h)return[0,u(nt)*c*y(wt/2)];var _t=S(wt),kt=R(c/$e-$e/c)/2,Ot=kt*kt,dr=_t/(pt+_t-1),wr=dr*(2/pt-1),or=wr*wr,Sr=or+Ot,kr=dr-or,Nr=Ot+dr;return[u($e)*c*(kt*kr+_(Ot*kr*kr-Sr*(dr*dr-or)))/Sr,u(nt)*c*(wr*Nr-kt*_((Ot+1)*Sr-Nr*Nr))/Sr]}Lo.invert=function($e,nt){if(R(nt)<h)return[$e,0];if(R($e)<h)return[0,o*l(2*i(nt/c))];var pt=($e/=c)*$e,wt=(nt/=c)*nt,_t=pt+wt,kt=_t*_t,Ot=-R(nt)*(1+_t),dr=Ot-2*wt+pt,wr=-2*Ot+1+2*wt+kt,or=wt/wr+(2*dr*dr*dr/(wr*wr*wr)-9*Ot*dr/(wr*wr))/27,Sr=(Ot-dr*dr/(3*wr))/wr,kr=2*_(-Sr/3),Nr=w(3*or/(Sr*kr))/3;return[c*(_t-1+_(1+2*(pt-wt)+kt))/(2*$e),u(nt)*c*(-kr*S(Nr+c/3)-dr/(3*wr))]};function Qu(){return(0,g.c)(Lo).scale(79.4183)}function mu($e,nt){if(R(nt)<h)return[$e,0];var pt=R(nt/o),wt=E(pt);if(R($e)<h||R(R(nt)-o)<h)return[0,u(nt)*c*y(wt/2)];var _t=S(wt),kt=R(c/$e-$e/c)/2,Ot=kt*kt,dr=_t*(_(1+Ot)-kt*_t)/(1+Ot*pt*pt);return[u($e)*c*dr,u(nt)*c*_(1-dr*(2*kt+dr))]}mu.invert=function($e,nt){if(!$e)return[0,o*l(2*i(nt/c))];var pt=R($e/c),wt=(1-pt*pt-(nt/=c)*nt)/(2*pt),_t=wt*wt,kt=_(_t+1);return[u($e)*c*(kt-wt),u(nt)*o*l(2*C(_((1-2*wt*pt)*(wt+kt)-pt),_(kt+wt+pt)))]};function th(){return(0,g.c)(mu).scale(79.4183)}function pl($e,nt){if(R(nt)<h)return[$e,0];var pt=nt/o,wt=E(pt);if(R($e)<h||R(R(nt)-o)<h)return[0,c*y(wt/2)];var _t=(c/$e-$e/c)/2,kt=pt/(1+S(wt));return[c*(u($e)*_(_t*_t+1-kt*kt)-_t),c*kt]}pl.invert=function($e,nt){if(!nt)return[$e,0];var pt=nt/c,wt=(c*c*(1-pt*pt)-$e*$e)/(2*c*$e);return[$e?c*(u($e)*_(wt*wt+1)-wt):0,o*l(2*i(pt))]};function av(){return(0,g.c)(pl).scale(79.4183)}function Xo($e,nt){if(!nt)return[$e,0];var pt=R(nt);if(!$e||pt===o)return[0,nt];var wt=pt/o,_t=wt*wt,kt=(8*wt-_t*(_t+2)-5)/(2*_t*(wt-1)),Ot=kt*kt,dr=wt*kt,wr=_t+Ot+2*dr,or=wt+3*kt,Sr=$e/o,kr=Sr+1/Sr,Nr=u(R($e)-o)*_(kr*kr-4),nn=Nr*Nr,wn=wr*(_t+Ot*nn-1)+(1-_t)*(_t*(or*or+4*Ot)+12*dr*Ot+4*Ot*Ot),kn=(Nr*(wr+Ot-1)+2*_(wn))/(4*wr+nn);return[u($e)*o*kn,u(nt)*o*_(1+Nr*R(kn)-kn*kn)]}Xo.invert=function($e,nt){var pt;if(!$e||!nt)return[$e,nt];nt/=c;var wt=u($e)*$e/o,_t=(wt*wt-1+4*nt*nt)/R(wt),kt=_t*_t,Ot=2*nt,dr=50;do{var wr=Ot*Ot,or=(8*Ot-wr*(wr+2)-5)/(2*wr*(Ot-1)),Sr=(3*Ot-wr*Ot-10)/(2*wr*Ot),kr=or*or,Nr=Ot*or,nn=Ot+or,wn=nn*nn,kn=Ot+3*or,_n=wn*(wr+kr*kt-1)+(1-wr)*(wr*(kn*kn+4*kr)+kr*(12*Nr+4*kr)),$n=-2*nn*(4*Nr*kr+(1-4*wr+3*wr*wr)*(1+Sr)+kr*(-6+14*wr-kt+(-8+8*wr-2*kt)*Sr)+Nr*(-8+12*wr+(-10+10*wr-kt)*Sr)),Ia=_(_n),ka=_t*(wn+kr-1)+2*Ia-wt*(4*wn+kt),_a=_t*(2*or*Sr+2*nn*(1+Sr))+$n/Ia-8*nn*(_t*(-1+kr+wn)+2*Ia)*(1+Sr)/(kt+4*wn);Ot-=pt=ka/_a}while(pt>h&&--dr>0);return[u($e)*(_(_t*_t+4)+_t)*c/4,o*Ot]};function qu(){return(0,g.c)(Xo).scale(127.16)}function Df($e,nt,pt,wt,_t){function kt(Ot,dr){var wr=pt*l(wt*dr),or=_(1-wr*wr),Sr=_(2/(1+or*S(Ot*=_t)));return[$e*or*Sr*l(Ot),nt*wr*Sr]}return kt.invert=function(Ot,dr){var wr=Ot/$e,or=dr/nt,Sr=_(wr*wr+or*or),kr=2*E(Sr/2);return[C(Ot*y(kr),$e*Sr)/_t,Sr&&E(dr*l(kr)/(nt*pt*Sr))/wt]},kt}function Qs($e,nt,pt,wt){var _t=c/3;$e=t($e,h),nt=t(nt,h),$e=a($e,o),nt=a(nt,c-h),pt=t(pt,0),pt=a(pt,100-h),wt=t(wt,h);var kt=pt/100+1,Ot=wt/100,dr=w(kt*S(_t))/_t,wr=l($e)/l(dr*o),or=nt/c,Sr=_(Ot*l($e/2)/l(nt/2)),kr=Sr/_(or*wr*dr),Nr=1/(Sr*_(or*wr*dr));return Df(kr,Nr,wr,dr,or)}function yl(){var $e=65*M,nt=60*M,pt=20,wt=200,_t=(0,g.U)(Qs),kt=_t($e,nt,pt,wt);return kt.poleline=function(Ot){return arguments.length?_t($e=+Ot*M,nt,pt,wt):$e*L},kt.parallels=function(Ot){return arguments.length?_t($e,nt=+Ot*M,pt,wt):nt*L},kt.inflation=function(Ot){return arguments.length?_t($e,nt,pt=+Ot,wt):pt},kt.ratio=function(Ot){return arguments.length?_t($e,nt,pt,wt=+Ot):wt},kt.scale(163.775)}function dc(){return yl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var ef=4*c+3*_(3),tf=2*_(2*c*_(3)/ef),_f=xe(tf*_(3)/c,tf,ef/6);function rh(){return(0,g.c)(_f).scale(176.84)}function rf($e,nt){return[$e*_(1-3*nt*nt/(c*c)),nt]}rf.invert=function($e,nt){return[$e/_(1-3*nt*nt/(c*c)),nt]};function pc(){return(0,g.c)(rf).scale(152.63)}function Ol($e,nt){var pt=S(nt),wt=S($e)*pt,_t=1-wt,kt=S($e=C(l($e)*pt,-l(nt))),Ot=l($e);return pt=_(1-wt*wt),[Ot*pt-kt*_t,-kt*pt-Ot*_t]}Ol.invert=function($e,nt){var pt=($e*$e+nt*nt)/-2,wt=_(-pt*(2+pt)),_t=nt*pt+$e*wt,kt=$e*pt-nt*wt,Ot=_(kt*kt+_t*_t);return[C(wt*_t,Ot*(1+pt)),Ot?-E(wt*kt/Ot):0]};function gc(){return(0,g.c)(Ol).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function nf($e,nt){var pt=j($e,nt);return[(pt[0]+$e/o)/2,(pt[1]+nt)/2]}nf.invert=function($e,nt){var pt=$e,wt=nt,_t=25;do{var kt=S(wt),Ot=l(wt),dr=l(2*wt),wr=Ot*Ot,or=kt*kt,Sr=l(pt),kr=S(pt/2),Nr=l(pt/2),nn=Nr*Nr,wn=1-or*kr*kr,kn=wn?w(kt*kr)*_(_n=1/wn):_n=0,_n,$n=.5*(2*kn*kt*Nr+pt/o)-$e,Ia=.5*(kn*Ot+wt)-nt,ka=.5*_n*(or*nn+kn*kt*kr*wr)+.5/o,_a=_n*(Sr*dr/4-kn*Ot*Nr),Ba=.125*_n*(dr*Nr-kn*Ot*or*Sr),Ja=.5*_n*(wr*kr+kn*nn*kt)+.5,mi=_a*Ba-Ja*ka,ji=(Ia*_a-$n*Ja)/mi,fe=($n*Ba-Ia*ka)/mi;pt-=ji,wt-=fe}while((R(ji)>h||R(fe)>h)&&--_t>0);return[pt,wt]};function nh(){return(0,g.c)(nf).scale(158.837)}},88728:function(G,H,e){e.d(H,{c:function(){return g}});function g(){return new R}function R(){this.reset()}R.prototype={constructor:R,reset:function(){this.s=this.t=0},add:function(S){C(i,S,this.t),C(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new R;function C(S,v,d){var r=S.s=v+d,t=r-v,a=r-t;S.t=v-a+(d-t)}},95384:function(G,H,e){e.d(H,{cp:function(){return T},mQ:function(){return S},oB:function(){return f}});var g=e(88728),R=e(64528),i=e(70932),C=e(16016),S=(0,g.c)(),v=(0,g.c)(),d,r,t,a,n,f={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){S.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+S;v.add(c<0?R.kD+c:c),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){v.add(R.kD)}};function u(){f.point=y}function l(){h(d,r)}function y(c,o){f.point=h,d=c,r=o,c*=R.qw,o*=R.qw,t=c,a=(0,R.W8)(o=o/2+R.wL),n=(0,R.g$)(o)}function h(c,o){c*=R.qw,o*=R.qw,o=o/2+R.wL;var p=c-t,x=p>=0?1:-1,b=x*p,P=(0,R.W8)(o),m=(0,R.g$)(o),L=n*m,M=a*P+L*(0,R.W8)(b),s=L*x*(0,R.g$)(b);S.add((0,R.WE)(s,M)),t=c,a=P,n=m}function T(c){return v.reset(),(0,C.c)(c,f),v*2}},13696:function(G,H,e){e.d(H,{c:function(){return E}});var g=e(88728),R=e(95384),i=e(84220),C=e(64528),S=e(16016),v,d,r,t,a,n,f,u,l=(0,g.c)(),y,h,T={point:c,lineStart:p,lineEnd:x,polygonStart:function(){T.point=b,T.lineStart=P,T.lineEnd=m,l.reset(),R.oB.polygonStart()},polygonEnd:function(){R.oB.polygonEnd(),T.point=c,T.lineStart=p,T.lineEnd=x,R.mQ<0?(v=-(r=180),d=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(d=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),d=-(t=90)}};function c(w,_){y.push(h=[v=w,r=w]),_<d&&(d=_),_>t&&(t=_)}function o(w,_){var D=(0,i.ux)([w*C.qw,_*C.qw]);if(u){var N=(0,i.CW)(u,D),z=[N[1],-N[0],0],F=(0,i.CW)(z,N);(0,i.cJ)(F),F=(0,i.G)(F);var U=w-a,B=U>0?1:-1,V=F[0]*C.oh*B,j,Q=(0,C.a2)(U)>180;Q^(B*a<V&&V<B*w)?(j=F[1]*C.oh,j>t&&(t=j)):(V=(V+360)%360-180,Q^(B*a<V&&V<B*w)?(j=-F[1]*C.oh,j<d&&(d=j)):(_<d&&(d=_),_>t&&(t=_))),Q?w<a?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w):r>=v?(w<v&&(v=w),w>r&&(r=w)):w>a?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w)}else y.push(h=[v=w,r=w]);_<d&&(d=_),_>t&&(t=_),u=D,a=w}function p(){T.point=o}function x(){h[0]=v,h[1]=r,T.point=c,u=null}function b(w,_){if(u){var D=w-a;l.add((0,C.a2)(D)>180?D+(D>0?360:-360):D)}else n=w,f=_;R.oB.point(w,_),o(w,_)}function P(){R.oB.lineStart()}function m(){b(n,f),R.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function L(w,_){return(_-=w)<0?_+360:_}function M(w,_){return w[0]-_[0]}function s(w,_){return w[0]<=w[1]?w[0]<=_&&_<=w[1]:_<w[0]||w[1]<_}function E(w){var _,D,N,z,F,U,B;if(t=r=-(v=d=1/0),y=[],(0,S.c)(w,T),D=y.length){for(y.sort(M),_=1,N=y[0],F=[N];_<D;++_)z=y[_],s(N,z[0])||s(N,z[1])?(L(N[0],z[1])>L(N[0],N[1])&&(N[1]=z[1]),L(z[0],N[1])>L(N[0],N[1])&&(N[0]=z[0])):F.push(N=z);for(U=-1/0,D=F.length-1,_=0,N=F[D];_<=D;N=z,++_)z=F[_],(B=L(N[1],z[0]))>U&&(U=B,v=z[0],r=N[1])}return y=h=null,v===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,d],[r,t]]}},84220:function(G,H,e){e.d(H,{CW:function(){return S},Ez:function(){return C},G:function(){return R},cJ:function(){return r},mg:function(){return v},ux:function(){return i},wx:function(){return d}});var g=e(64528);function R(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function i(t){var a=t[0],n=t[1],f=(0,g.W8)(n);return[f*(0,g.W8)(a),f*(0,g.g$)(a),(0,g.g$)(n)]}function C(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]}function S(t,a){return[t[1]*a[2]-t[2]*a[1],t[2]*a[0]-t[0]*a[2],t[0]*a[1]-t[1]*a[0]]}function v(t,a){t[0]+=a[0],t[1]+=a[1],t[2]+=a[2]}function d(t,a){return[t[0]*a,t[1]*a,t[2]*a]}function r(t){var a=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=a,t[1]/=a,t[2]/=a}},24052:function(G,H,e){e.d(H,{c:function(){return D}});var g=e(64528),R=e(70932),i=e(16016),C,S,v,d,r,t,a,n,f,u,l,y,h,T,c,o,p={sphere:R.c,point:x,lineStart:P,lineEnd:M,polygonStart:function(){p.lineStart=s,p.lineEnd=E},polygonEnd:function(){p.lineStart=P,p.lineEnd=M}};function x(N,z){N*=g.qw,z*=g.qw;var F=(0,g.W8)(z);b(F*(0,g.W8)(N),F*(0,g.g$)(N),(0,g.g$)(z))}function b(N,z,F){++C,v+=(N-v)/C,d+=(z-d)/C,r+=(F-r)/C}function P(){p.point=m}function m(N,z){N*=g.qw,z*=g.qw;var F=(0,g.W8)(z);T=F*(0,g.W8)(N),c=F*(0,g.g$)(N),o=(0,g.g$)(z),p.point=L,b(T,c,o)}function L(N,z){N*=g.qw,z*=g.qw;var F=(0,g.W8)(z),U=F*(0,g.W8)(N),B=F*(0,g.g$)(N),V=(0,g.g$)(z),j=(0,g.WE)((0,g._I)((j=c*V-o*B)*j+(j=o*U-T*V)*j+(j=T*B-c*U)*j),T*U+c*B+o*V);S+=j,t+=j*(T+(T=U)),a+=j*(c+(c=B)),n+=j*(o+(o=V)),b(T,c,o)}function M(){p.point=x}function s(){p.point=w}function E(){_(y,h),p.point=x}function w(N,z){y=N,h=z,N*=g.qw,z*=g.qw,p.point=_;var F=(0,g.W8)(z);T=F*(0,g.W8)(N),c=F*(0,g.g$)(N),o=(0,g.g$)(z),b(T,c,o)}function _(N,z){N*=g.qw,z*=g.qw;var F=(0,g.W8)(z),U=F*(0,g.W8)(N),B=F*(0,g.g$)(N),V=(0,g.g$)(z),j=c*V-o*B,Q=o*U-T*V,ee=T*B-c*U,re=(0,g._I)(j*j+Q*Q+ee*ee),ue=(0,g.qR)(re),J=re&&-ue/re;f+=J*j,u+=J*Q,l+=J*ee,S+=ue,t+=ue*(T+(T=U)),a+=ue*(c+(c=B)),n+=ue*(o+(o=V)),b(T,c,o)}function D(N){C=S=v=d=r=t=a=n=f=u=l=0,(0,i.c)(N,p);var z=f,F=u,U=l,B=z*z+F*F+U*U;return B<g.a8&&(z=t,F=a,U=n,S<g.Gg&&(z=v,F=d,U=r),B=z*z+F*F+U*U,B<g.a8)?[NaN,NaN]:[(0,g.WE)(F,z)*g.oh,(0,g.qR)(U/(0,g._I)(B))*g.oh]}},61780:function(G,H,e){e.d(H,{Q:function(){return S},c:function(){return d}});var g=e(84220);function R(r){return function(){return r}}var i=e(64528),C=e(92992);function S(r,t,a,n,f,u){if(a){var l=(0,i.W8)(t),y=(0,i.g$)(t),h=n*a;f==null?(f=t+n*i.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*i.kD));for(var T,c=f;n>0?c>u:c<u;c-=h)T=(0,g.G)([l,-y*(0,i.W8)(c),-y*(0,i.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var a=(0,i.mE)(-t[1]);return((-t[2]<0?-a:a)+i.kD-i.Gg)%i.kD}function d(){var r=R([0,0]),t=R(90),a=R(6),n,f,u={point:l};function l(h,T){n.push(h=f(h,T)),h[0]*=i.oh,h[1]*=i.oh}function y(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*i.qw,c=a.apply(this,arguments)*i.qw;return n=[],f=(0,C.O)(-h[0]*i.qw,-h[1]*i.qw,0).invert,S(u,T,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return y.center=function(h){return arguments.length?(r=typeof h=="function"?h:R([+h[0],+h[1]]),y):r},y.radius=function(h){return arguments.length?(t=typeof h=="function"?h:R(+h),y):t},y.precision=function(h){return arguments.length?(a=typeof h=="function"?h:R(+h),y):a},y}},78284:function(G,H,e){var g=e(14229),R=e(64528);H.c=(0,g.c)(function(){return!0},i,S,[-R.pi,-R.or]);function i(v){var d=NaN,r=NaN,t=NaN,a;return{lineStart:function(){v.lineStart(),a=1},point:function(n,f){var u=n>0?R.pi:-R.pi,l=(0,R.a2)(n-d);(0,R.a2)(l-R.pi)<R.Gg?(v.point(d,r=(r+f)/2>0?R.or:-R.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),a=0):t!==u&&l>=R.pi&&((0,R.a2)(d-t)<R.Gg&&(d-=t*R.Gg),(0,R.a2)(n-u)<R.Gg&&(n-=u*R.Gg),r=C(d,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),a=0),v.point(d=n,r=f),t=u},lineEnd:function(){v.lineEnd(),d=r=NaN},clean:function(){return 2-a}}}function C(v,d,r,t){var a,n,f=(0,R.g$)(v-r);return(0,R.a2)(f)>R.Gg?(0,R.MQ)(((0,R.g$)(d)*(n=(0,R.W8)(t))*(0,R.g$)(r)-(0,R.g$)(t)*(a=(0,R.W8)(d))*(0,R.g$)(v))/(a*n*f)):(d+t)/2}function S(v,d,r,t){var a;if(v==null)a=r*R.or,t.point(-R.pi,a),t.point(0,a),t.point(R.pi,a),t.point(R.pi,0),t.point(R.pi,-a),t.point(0,-a),t.point(-R.pi,-a),t.point(-R.pi,0),t.point(-R.pi,a);else if((0,R.a2)(v[0]-d[0])>R.Gg){var n=v[0]<d[0]?R.pi:-R.pi;a=r*n/2,t.point(-n,a),t.point(0,a),t.point(n,a)}else t.point(d[0],d[1])}},97208:function(G,H,e){e.d(H,{c:function(){return R}});var g=e(70932);function R(){var i=[],C;return{point:function(S,v,d){C.push([S,v,d])},lineStart:function(){i.push(C=[])},lineEnd:g.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var S=i;return i=[],C=null,S}}}},2728:function(G,H,e){e.d(H,{c:function(){return v}});var g=e(84220),R=e(61780),i=e(64528),C=e(41860),S=e(14229);function v(d){var r=(0,i.W8)(d),t=6*i.qw,a=r>0,n=(0,i.a2)(r)>i.Gg;function f(T,c,o,p){(0,R.Q)(p,d,t,o,T,c)}function u(T,c){return(0,i.W8)(T)*(0,i.W8)(c)>r}function l(T){var c,o,p,x,b;return{lineStart:function(){x=p=!1,b=1},point:function(P,m){var L=[P,m],M,s=u(P,m),E=a?s?0:h(P,m):s?h(P+(P<0?i.pi:-i.pi),m):0;if(!c&&(x=p=s)&&T.lineStart(),s!==p&&(M=y(c,L),(!M||(0,C.c)(c,M)||(0,C.c)(L,M))&&(L[2]=1)),s!==p)b=0,s?(T.lineStart(),M=y(L,c),T.point(M[0],M[1])):(M=y(c,L),T.point(M[0],M[1],2),T.lineEnd()),c=M;else if(n&&c&&a^s){var w;!(E&o)&&(w=y(L,c,!0))&&(b=0,a?(T.lineStart(),T.point(w[0][0],w[0][1]),T.point(w[1][0],w[1][1]),T.lineEnd()):(T.point(w[1][0],w[1][1]),T.lineEnd(),T.lineStart(),T.point(w[0][0],w[0][1],3)))}s&&(!c||!(0,C.c)(c,L))&&T.point(L[0],L[1]),c=L,p=s,o=E},lineEnd:function(){p&&T.lineEnd(),c=null},clean:function(){return b|(x&&p)<<1}}}function y(T,c,o){var p=(0,g.ux)(T),x=(0,g.ux)(c),b=[1,0,0],P=(0,g.CW)(p,x),m=(0,g.Ez)(P,P),L=P[0],M=m-L*L;if(!M)return!o&&T;var s=r*m/M,E=-r*L/M,w=(0,g.CW)(b,P),_=(0,g.wx)(b,s),D=(0,g.wx)(P,E);(0,g.mg)(_,D);var N=w,z=(0,g.Ez)(_,N),F=(0,g.Ez)(N,N),U=z*z-F*((0,g.Ez)(_,_)-1);if(!(U<0)){var B=(0,i._I)(U),V=(0,g.wx)(N,(-z-B)/F);if((0,g.mg)(V,_),V=(0,g.G)(V),!o)return V;var j=T[0],Q=c[0],ee=T[1],re=c[1],ue;Q<j&&(ue=j,j=Q,Q=ue);var J=Q-j,X=(0,i.a2)(J-i.pi)<i.Gg,ne=X||J<i.Gg;if(!X&&re<ee&&(ue=ee,ee=re,re=ue),ne?X?ee+re>0^V[1]<((0,i.a2)(V[0]-j)<i.Gg?ee:re):ee<=V[1]&&V[1]<=re:J>i.pi^(j<=V[0]&&V[0]<=Q)){var Y=(0,g.wx)(N,(-z+B)/F);return(0,g.mg)(Y,_),[V,(0,g.G)(Y)]}}}function h(T,c){var o=a?d:i.pi-d,p=0;return T<-o?p|=1:T>o&&(p|=2),c<-o?p|=4:c>o&&(p|=8),p}return(0,S.c)(u,l,f,a?[0,-d]:[-i.pi,d-i.pi])}},14229:function(G,H,e){e.d(H,{c:function(){return v}});var g=e(97208),R=e(32232),i=e(64528),C=e(58196),S=e(84706);function v(t,a,n,f){return function(u){var l=a(u),y=(0,g.c)(),h=a(y),T=!1,c,o,p,x={point:b,lineStart:m,lineEnd:L,polygonStart:function(){x.point=M,x.lineStart=s,x.lineEnd=E,o=[],c=[]},polygonEnd:function(){x.point=b,x.lineStart=m,x.lineEnd=L,o=(0,S.Uf)(o);var w=(0,C.c)(c,f);o.length?(T||(u.polygonStart(),T=!0),(0,R.c)(o,r,w,n,u)):w&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),o=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function b(w,_){t(w,_)&&u.point(w,_)}function P(w,_){l.point(w,_)}function m(){x.point=P,l.lineStart()}function L(){x.point=b,l.lineEnd()}function M(w,_){p.push([w,_]),h.point(w,_)}function s(){h.lineStart(),p=[]}function E(){M(p[0][0],p[0][1]),h.lineEnd();var w=h.clean(),_=y.result(),D,N=_.length,z,F,U;if(p.pop(),c.push(p),p=null,!!N){if(w&1){if(F=_[0],(z=F.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),D=0;D<z;++D)u.point((U=F[D])[0],U[1]);u.lineEnd()}return}N>1&&w&2&&_.push(_.pop().concat(_.shift())),o.push(_.filter(d))}}return x}}function d(t){return t.length>1}function r(t,a){return((t=t.x)[0]<0?t[1]-i.or-i.Gg:i.or-t[1])-((a=a.x)[0]<0?a[1]-i.or-i.Gg:i.or-a[1])}},21676:function(G,H,e){e.d(H,{c:function(){return r}});var g=e(64528),R=e(97208);function i(t,a,n,f,u,l){var y=t[0],h=t[1],T=a[0],c=a[1],o=0,p=1,x=T-y,b=c-h,P;if(P=n-y,!(!x&&P>0)){if(P/=x,x<0){if(P<o)return;P<p&&(p=P)}else if(x>0){if(P>p)return;P>o&&(o=P)}if(P=u-y,!(!x&&P<0)){if(P/=x,x<0){if(P>p)return;P>o&&(o=P)}else if(x>0){if(P<o)return;P<p&&(p=P)}if(P=f-h,!(!b&&P>0)){if(P/=b,b<0){if(P<o)return;P<p&&(p=P)}else if(b>0){if(P>p)return;P>o&&(o=P)}if(P=l-h,!(!b&&P<0)){if(P/=b,b<0){if(P>p)return;P>o&&(o=P)}else if(b>0){if(P<o)return;P<p&&(p=P)}return o>0&&(t[0]=y+o*x,t[1]=h+o*b),p<1&&(a[0]=y+p*x,a[1]=h+p*b),!0}}}}}var C=e(32232),S=e(84706),v=1e9,d=-v;function r(t,a,n,f){function u(c,o){return t<=c&&c<=n&&a<=o&&o<=f}function l(c,o,p,x){var b=0,P=0;if(c==null||(b=y(c,p))!==(P=y(o,p))||T(c,o)<0^p>0)do x.point(b===0||b===3?t:n,b>1?f:a);while((b=(b+p+4)%4)!==P);else x.point(o[0],o[1])}function y(c,o){return(0,g.a2)(c[0]-t)<g.Gg?o>0?0:3:(0,g.a2)(c[0]-n)<g.Gg?o>0?2:1:(0,g.a2)(c[1]-a)<g.Gg?o>0?1:0:o>0?3:2}function h(c,o){return T(c.x,o.x)}function T(c,o){var p=y(c,1),x=y(o,1);return p!==x?p-x:p===0?o[1]-c[1]:p===1?c[0]-o[0]:p===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,p=(0,R.c)(),x,b,P,m,L,M,s,E,w,_,D,N={point:z,lineStart:V,lineEnd:j,polygonStart:U,polygonEnd:B};function z(ee,re){u(ee,re)&&o.point(ee,re)}function F(){for(var ee=0,re=0,ue=b.length;re<ue;++re)for(var J=b[re],X=1,ne=J.length,Y=J[0],oe,le,Z=Y[0],$=Y[1];X<ne;++X)oe=Z,le=$,Y=J[X],Z=Y[0],$=Y[1],le<=f?$>f&&(Z-oe)*(f-le)>($-le)*(t-oe)&&++ee:$<=f&&(Z-oe)*(f-le)<($-le)*(t-oe)&&--ee;return ee}function U(){o=p,x=[],b=[],D=!0}function B(){var ee=F(),re=D&&ee,ue=(x=(0,S.Uf)(x)).length;(re||ue)&&(c.polygonStart(),re&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),ue&&(0,C.c)(x,h,ee,l,c),c.polygonEnd()),o=c,x=b=P=null}function V(){N.point=Q,b&&b.push(P=[]),_=!0,w=!1,s=E=NaN}function j(){x&&(Q(m,L),M&&w&&p.rejoin(),x.push(p.result())),N.point=z,w&&o.lineEnd()}function Q(ee,re){var ue=u(ee,re);if(b&&P.push([ee,re]),_)m=ee,L=re,M=ue,_=!1,ue&&(o.lineStart(),o.point(ee,re));else if(ue&&w)o.point(ee,re);else{var J=[s=Math.max(d,Math.min(v,s)),E=Math.max(d,Math.min(v,E))],X=[ee=Math.max(d,Math.min(v,ee)),re=Math.max(d,Math.min(v,re))];i(J,X,t,a,n,f)?(w||(o.lineStart(),o.point(J[0],J[1])),o.point(X[0],X[1]),ue||o.lineEnd(),D=!1):ue&&(o.lineStart(),o.point(ee,re),D=!1)}s=ee,E=re,w=ue}return N}}},32232:function(G,H,e){e.d(H,{c:function(){return C}});var g=e(41860),R=e(64528);function i(v,d,r,t){this.x=v,this.z=d,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,d,r,t,a){var n=[],f=[],u,l;if(v.forEach(function(p){if(!((x=p.length-1)<=0)){var x,b=p[0],P=p[x],m;if((0,g.c)(b,P)){if(!b[2]&&!P[2]){for(a.lineStart(),u=0;u<x;++u)a.point((b=p[u])[0],b[1]);a.lineEnd();return}P[0]+=2*R.Gg}n.push(m=new i(b,p,null,!0)),f.push(m.o=new i(b,null,m,!1)),n.push(m=new i(P,p,null,!1)),f.push(m.o=new i(P,null,m,!0))}}),!!n.length){for(f.sort(d),S(n),S(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var y=n[0],h,T;;){for(var c=y,o=!0;c.v;)if((c=c.n)===y)return;h=c.z,a.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(u=0,l=h.length;u<l;++u)a.point((T=h[u])[0],T[1]);else t(c.x,c.n.x,1,a);c=c.n}else{if(o)for(h=c.p.z,u=h.length-1;u>=0;--u)a.point((T=h[u])[0],T[1]);else t(c.x,c.p.x,-1,a);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);a.lineEnd()}}}function S(v){if(d=v.length){for(var d,r=0,t=v[0],a;++r<d;)t.n=a=v[r],a.p=t,t=a;t.n=a=v[0],a.p=t}}},68120:function(G,H,e){e.d(H,{c:function(){return g}});function g(R,i){function C(S,v){return S=R(S,v),i(S[0],S[1])}return R.invert&&i.invert&&(C.invert=function(S,v){return S=i.invert(S,v),S&&R.invert(S[0],S[1])}),C}},7376:function(G,H,e){e.d(H,{c:function(){return g}});function g(R){return R}},83356:function(G,H,e){e.r(H),e.d(H,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return lt},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return R.c},geoCentroid:function(){return i.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return d.c},geoConicConformal:function(){return Zt},geoConicConformalRaw:function(){return fr},geoConicEqualArea:function(){return Jt},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return U},geoDistance:function(){return M},geoEqualEarth:function(){return cr},geoEqualEarthRaw:function(){return Ft},geoEquirectangular:function(){return vr.c},geoEquirectangularRaw:function(){return vr.u},geoGnomonic:function(){return pr.c},geoGnomonicRaw:function(){return pr.Y},geoGraticule:function(){return Q},geoGraticule10:function(){return ee},geoIdentity:function(){return hr},geoInterpolate:function(){return re.c},geoLength:function(){return P},geoMercator:function(){return Ut},geoMercatorRaw:function(){return Ht},geoNaturalEarth1:function(){return Vr.c},geoNaturalEarth1Raw:function(){return Vr.g},geoOrthographic:function(){return Pr.c},geoOrthographicRaw:function(){return Pr.t},geoPath:function(){return Lt},geoProjection:function(){return Xt.c},geoProjectionMutator:function(){return Xt.U},geoRotation:function(){return It.c},geoStereographic:function(){return an},geoStereographicRaw:function(){return sn},geoStream:function(){return u.c},geoTransform:function(){return br.c},geoTransverseMercator:function(){return Mn},geoTransverseMercatorRaw:function(){return En}});var g=e(95384),R=e(13696),i=e(24052),C=e(61780),S=e(78284),v=e(2728),d=e(21676);function r(){var xr=0,_r=0,Yr=960,zr=500,gn,dn,Rn;return Rn={stream:function(In){return gn&&dn===In?gn:gn=(0,d.c)(xr,_r,Yr,zr)(dn=In)},extent:function(In){return arguments.length?(xr=+In[0][0],_r=+In[0][1],Yr=+In[1][0],zr=+In[1][1],gn=dn=null,Rn):[[xr,_r],[Yr,zr]]}}}var t=e(58196),a=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,a.c)(),y,h,T,c={sphere:f.c,point:f.c,lineStart:o,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function o(){c.point=x,c.lineEnd=p}function p(){c.point=c.lineEnd=f.c}function x(xr,_r){xr*=n.qw,_r*=n.qw,y=xr,h=(0,n.g$)(_r),T=(0,n.W8)(_r),c.point=b}function b(xr,_r){xr*=n.qw,_r*=n.qw;var Yr=(0,n.g$)(_r),zr=(0,n.W8)(_r),gn=(0,n.a2)(xr-y),dn=(0,n.W8)(gn),Rn=(0,n.g$)(gn),In=zr*Rn,Wn=T*Yr-h*zr*dn,oa=h*Yr+T*zr*dn;l.add((0,n.WE)((0,n._I)(In*In+Wn*Wn),oa)),y=xr,h=Yr,T=zr}function P(xr){return l.reset(),(0,u.c)(xr,c),+l}var m=[null,null],L={type:"LineString",coordinates:m};function M(xr,_r){return m[0]=xr,m[1]=_r,P(L)}var s={Feature:function(xr,_r){return w(xr.geometry,_r)},FeatureCollection:function(xr,_r){for(var Yr=xr.features,zr=-1,gn=Yr.length;++zr<gn;)if(w(Yr[zr].geometry,_r))return!0;return!1}},E={Sphere:function(){return!0},Point:function(xr,_r){return _(xr.coordinates,_r)},MultiPoint:function(xr,_r){for(var Yr=xr.coordinates,zr=-1,gn=Yr.length;++zr<gn;)if(_(Yr[zr],_r))return!0;return!1},LineString:function(xr,_r){return D(xr.coordinates,_r)},MultiLineString:function(xr,_r){for(var Yr=xr.coordinates,zr=-1,gn=Yr.length;++zr<gn;)if(D(Yr[zr],_r))return!0;return!1},Polygon:function(xr,_r){return N(xr.coordinates,_r)},MultiPolygon:function(xr,_r){for(var Yr=xr.coordinates,zr=-1,gn=Yr.length;++zr<gn;)if(N(Yr[zr],_r))return!0;return!1},GeometryCollection:function(xr,_r){for(var Yr=xr.geometries,zr=-1,gn=Yr.length;++zr<gn;)if(w(Yr[zr],_r))return!0;return!1}};function w(xr,_r){return xr&&E.hasOwnProperty(xr.type)?E[xr.type](xr,_r):!1}function _(xr,_r){return M(xr,_r)===0}function D(xr,_r){for(var Yr,zr,gn,dn=0,Rn=xr.length;dn<Rn;dn++){if(zr=M(xr[dn],_r),zr===0||dn>0&&(gn=M(xr[dn],xr[dn-1]),gn>0&&Yr<=gn&&zr<=gn&&(Yr+zr-gn)*(1-Math.pow((Yr-zr)/gn,2))<n.a8*gn))return!0;Yr=zr}return!1}function N(xr,_r){return!!(0,t.c)(xr.map(z),F(_r))}function z(xr){return xr=xr.map(F),xr.pop(),xr}function F(xr){return[xr[0]*n.qw,xr[1]*n.qw]}function U(xr,_r){return(xr&&s.hasOwnProperty(xr.type)?s[xr.type]:w)(xr,_r)}var B=e(84706);function V(xr,_r,Yr){var zr=(0,B.ik)(xr,_r-n.Gg,Yr).concat(_r);return function(gn){return zr.map(function(dn){return[gn,dn]})}}function j(xr,_r,Yr){var zr=(0,B.ik)(xr,_r-n.Gg,Yr).concat(_r);return function(gn){return zr.map(function(dn){return[dn,gn]})}}function Q(){var xr,_r,Yr,zr,gn,dn,Rn,In,Wn=10,oa=Wn,ma=90,Ta=360,Yn,Qn,gr,en,$r=2.5;function hn(){return{type:"MultiLineString",coordinates:Bn()}}function Bn(){return(0,B.ik)((0,n.Km)(zr/ma)*ma,Yr,ma).map(gr).concat((0,B.ik)((0,n.Km)(In/Ta)*Ta,Rn,Ta).map(en)).concat((0,B.ik)((0,n.Km)(_r/Wn)*Wn,xr,Wn).filter(function(Tn){return(0,n.a2)(Tn%ma)>n.Gg}).map(Yn)).concat((0,B.ik)((0,n.Km)(dn/oa)*oa,gn,oa).filter(function(Tn){return(0,n.a2)(Tn%Ta)>n.Gg}).map(Qn))}return hn.lines=function(){return Bn().map(function(Tn){return{type:"LineString",coordinates:Tn}})},hn.outline=function(){return{type:"Polygon",coordinates:[gr(zr).concat(en(Rn).slice(1),gr(Yr).reverse().slice(1),en(In).reverse().slice(1))]}},hn.extent=function(Tn){return arguments.length?hn.extentMajor(Tn).extentMinor(Tn):hn.extentMinor()},hn.extentMajor=function(Tn){return arguments.length?(zr=+Tn[0][0],Yr=+Tn[1][0],In=+Tn[0][1],Rn=+Tn[1][1],zr>Yr&&(Tn=zr,zr=Yr,Yr=Tn),In>Rn&&(Tn=In,In=Rn,Rn=Tn),hn.precision($r)):[[zr,In],[Yr,Rn]]},hn.extentMinor=function(Tn){return arguments.length?(_r=+Tn[0][0],xr=+Tn[1][0],dn=+Tn[0][1],gn=+Tn[1][1],_r>xr&&(Tn=_r,_r=xr,xr=Tn),dn>gn&&(Tn=dn,dn=gn,gn=Tn),hn.precision($r)):[[_r,dn],[xr,gn]]},hn.step=function(Tn){return arguments.length?hn.stepMajor(Tn).stepMinor(Tn):hn.stepMinor()},hn.stepMajor=function(Tn){return arguments.length?(ma=+Tn[0],Ta=+Tn[1],hn):[ma,Ta]},hn.stepMinor=function(Tn){return arguments.length?(Wn=+Tn[0],oa=+Tn[1],hn):[Wn,oa]},hn.precision=function(Tn){return arguments.length?($r=+Tn,Yn=V(dn,gn,90),Qn=j(_r,xr,$r),gr=V(In,Rn,90),en=j(zr,Yr,$r),hn):$r},hn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function ee(){return Q()()}var re=e(27284),ue=e(7376),J=(0,a.c)(),X=(0,a.c)(),ne,Y,oe,le,Z={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){Z.lineStart=$,Z.lineEnd=he},polygonEnd:function(){Z.lineStart=Z.lineEnd=Z.point=f.c,J.add((0,n.a2)(X)),X.reset()},result:function(){var xr=J/2;return J.reset(),xr}};function $(){Z.point=se}function se(xr,_r){Z.point=ae,ne=oe=xr,Y=le=_r}function ae(xr,_r){X.add(le*xr-oe*_r),oe=xr,le=_r}function he(){ae(ne,Y)}var me=Z,Me=e(73784),Te=0,Pe=0,be=0,Ee=0,xe=0,Ce=0,Ue=0,Ne=0,De=0,He,at,vt,ot,et={point:ct,lineStart:ht,lineEnd:Mt,polygonStart:function(){et.lineStart=tt,et.lineEnd=Oe},polygonEnd:function(){et.point=ct,et.lineStart=ht,et.lineEnd=Mt},result:function(){var xr=De?[Ue/De,Ne/De]:Ce?[Ee/Ce,xe/Ce]:be?[Te/be,Pe/be]:[NaN,NaN];return Te=Pe=be=Ee=xe=Ce=Ue=Ne=De=0,xr}};function ct(xr,_r){Te+=xr,Pe+=_r,++be}function ht(){et.point=gt}function gt(xr,_r){et.point=xt,ct(vt=xr,ot=_r)}function xt(xr,_r){var Yr=xr-vt,zr=_r-ot,gn=(0,n._I)(Yr*Yr+zr*zr);Ee+=gn*(vt+xr)/2,xe+=gn*(ot+_r)/2,Ce+=gn,ct(vt=xr,ot=_r)}function Mt(){et.point=ct}function tt(){et.point=Xe}function Oe(){Ze(He,at)}function Xe(xr,_r){et.point=Ze,ct(He=vt=xr,at=ot=_r)}function Ze(xr,_r){var Yr=xr-vt,zr=_r-ot,gn=(0,n._I)(Yr*Yr+zr*zr);Ee+=gn*(vt+xr)/2,xe+=gn*(ot+_r)/2,Ce+=gn,gn=ot*xr-vt*_r,Ue+=gn*(vt+xr),Ne+=gn*(ot+_r),De+=gn*3,ct(vt=xr,ot=_r)}var We=et;function ze(xr){this._context=xr}ze.prototype={_radius:4.5,pointRadius:function(xr){return this._radius=xr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(xr,_r){switch(this._point){case 0:{this._context.moveTo(xr,_r),this._point=1;break}case 1:{this._context.lineTo(xr,_r);break}default:{this._context.moveTo(xr+this._radius,_r),this._context.arc(xr,_r,this._radius,0,n.kD);break}}},result:f.c};var ke=(0,a.c)(),je,Ie,pe,we,Ve,Qe={point:f.c,lineStart:function(){Qe.point=it},lineEnd:function(){je&&st(Ie,pe),Qe.point=f.c},polygonStart:function(){je=!0},polygonEnd:function(){je=null},result:function(){var xr=+ke;return ke.reset(),xr}};function it(xr,_r){Qe.point=st,Ie=we=xr,pe=Ve=_r}function st(xr,_r){we-=xr,Ve-=_r,ke.add((0,n._I)(we*we+Ve*Ve)),we=xr,Ve=_r}var Wt=Qe;function jt(){this._string=[]}jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(xr){return(xr=+xr)!==this._radius&&(this._radius=xr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(xr,_r){switch(this._point){case 0:{this._string.push("M",xr,",",_r),this._point=1;break}case 1:{this._string.push("L",xr,",",_r);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",xr,",",_r,this._circle);break}}},result:function(){if(this._string.length){var xr=this._string.join("");return this._string=[],xr}else return null}};function Tt(xr){return"m0,"+xr+"a"+xr+","+xr+" 0 1,1 0,"+-2*xr+"a"+xr+","+xr+" 0 1,1 0,"+2*xr+"z"}function Lt(xr,_r){var Yr=4.5,zr,gn;function dn(Rn){return Rn&&(typeof Yr=="function"&&gn.pointRadius(+Yr.apply(this,arguments)),(0,u.c)(Rn,zr(gn))),gn.result()}return dn.area=function(Rn){return(0,u.c)(Rn,zr(me)),me.result()},dn.measure=function(Rn){return(0,u.c)(Rn,zr(Wt)),Wt.result()},dn.bounds=function(Rn){return(0,u.c)(Rn,zr(Me.c)),Me.c.result()},dn.centroid=function(Rn){return(0,u.c)(Rn,zr(We)),We.result()},dn.projection=function(Rn){return arguments.length?(zr=Rn==null?(xr=null,ue.c):(xr=Rn).stream,dn):xr},dn.context=function(Rn){return arguments.length?(gn=Rn==null?(_r=null,new jt):new ze(_r=Rn),typeof Yr!="function"&&gn.pointRadius(Yr),dn):_r},dn.pointRadius=function(Rn){return arguments.length?(Yr=typeof Rn=="function"?Rn:(gn.pointRadius(+Rn),+Rn),dn):Yr},dn.projection(xr).context(_r)}var Xt=e(87952);function Tr(xr){var _r=0,Yr=n.pi/3,zr=(0,Xt.U)(xr),gn=zr(_r,Yr);return gn.parallels=function(dn){return arguments.length?zr(_r=dn[0]*n.qw,Yr=dn[1]*n.qw):[_r*n.oh,Yr*n.oh]},gn}function yt(xr){var _r=(0,n.W8)(xr);function Yr(zr,gn){return[zr*_r,(0,n.g$)(gn)/_r]}return Yr.invert=function(zr,gn){return[zr/_r,(0,n.qR)(gn*_r)]},Yr}function Kt(xr,_r){var Yr=(0,n.g$)(xr),zr=(Yr+(0,n.g$)(_r))/2;if((0,n.a2)(zr)<n.Gg)return yt(xr);var gn=1+Yr*(2*zr-Yr),dn=(0,n._I)(gn)/zr;function Rn(In,Wn){var oa=(0,n._I)(gn-2*zr*(0,n.g$)(Wn))/zr;return[oa*(0,n.g$)(In*=zr),dn-oa*(0,n.W8)(In)]}return Rn.invert=function(In,Wn){var oa=dn-Wn,ma=(0,n.WE)(In,(0,n.a2)(oa))*(0,n.kq)(oa);return oa*zr<0&&(ma-=n.pi*(0,n.kq)(In)*(0,n.kq)(oa)),[ma/zr,(0,n.qR)((gn-(In*In+oa*oa)*zr*zr)/(2*zr))]},Rn}function Jt(){return Tr(Kt).scale(155.424).center([0,33.6442])}function yr(){return Jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ur=e(86420);function mt(xr){var _r=xr.length;return{point:function(Yr,zr){for(var gn=-1;++gn<_r;)xr[gn].point(Yr,zr)},sphere:function(){for(var Yr=-1;++Yr<_r;)xr[Yr].sphere()},lineStart:function(){for(var Yr=-1;++Yr<_r;)xr[Yr].lineStart()},lineEnd:function(){for(var Yr=-1;++Yr<_r;)xr[Yr].lineEnd()},polygonStart:function(){for(var Yr=-1;++Yr<_r;)xr[Yr].polygonStart()},polygonEnd:function(){for(var Yr=-1;++Yr<_r;)xr[Yr].polygonEnd()}}}function lt(){var xr,_r,Yr=yr(),zr,gn=Jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),dn,Rn=Jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),In,Wn,oa={point:function(Yn,Qn){Wn=[Yn,Qn]}};function ma(Yn){var Qn=Yn[0],gr=Yn[1];return Wn=null,zr.point(Qn,gr),Wn||(dn.point(Qn,gr),Wn)||(In.point(Qn,gr),Wn)}ma.invert=function(Yn){var Qn=Yr.scale(),gr=Yr.translate(),en=(Yn[0]-gr[0])/Qn,$r=(Yn[1]-gr[1])/Qn;return($r>=.12&&$r<.234&&en>=-.425&&en<-.214?gn:$r>=.166&&$r<.234&&en>=-.214&&en<-.115?Rn:Yr).invert(Yn)},ma.stream=function(Yn){return xr&&_r===Yn?xr:xr=mt([Yr.stream(_r=Yn),gn.stream(Yn),Rn.stream(Yn)])},ma.precision=function(Yn){return arguments.length?(Yr.precision(Yn),gn.precision(Yn),Rn.precision(Yn),Ta()):Yr.precision()},ma.scale=function(Yn){return arguments.length?(Yr.scale(Yn),gn.scale(Yn*.35),Rn.scale(Yn),ma.translate(Yr.translate())):Yr.scale()},ma.translate=function(Yn){if(!arguments.length)return Yr.translate();var Qn=Yr.scale(),gr=+Yn[0],en=+Yn[1];return zr=Yr.translate(Yn).clipExtent([[gr-.455*Qn,en-.238*Qn],[gr+.455*Qn,en+.238*Qn]]).stream(oa),dn=gn.translate([gr-.307*Qn,en+.201*Qn]).clipExtent([[gr-.425*Qn+n.Gg,en+.12*Qn+n.Gg],[gr-.214*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(oa),In=Rn.translate([gr-.205*Qn,en+.212*Qn]).clipExtent([[gr-.214*Qn+n.Gg,en+.166*Qn+n.Gg],[gr-.115*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(oa),Ta()},ma.fitExtent=function(Yn,Qn){return(0,ur.QX)(ma,Yn,Qn)},ma.fitSize=function(Yn,Qn){return(0,ur.UV)(ma,Yn,Qn)},ma.fitWidth=function(Yn,Qn){return(0,ur.Qx)(ma,Yn,Qn)},ma.fitHeight=function(Yn,Qn){return(0,ur.OW)(ma,Yn,Qn)};function Ta(){return xr=_r=null,ma}return ma.scale(1070)}var bt=e(54724),Et=e(69020),It=e(92992);function Ht(xr,_r){return[xr,(0,n.Yz)((0,n.a6)((n.or+_r)/2))]}Ht.invert=function(xr,_r){return[xr,2*(0,n.MQ)((0,n.oN)(_r))-n.or]};function Ut(){return Bt(Ht).scale(961/n.kD)}function Bt(xr){var _r=(0,Xt.c)(xr),Yr=_r.center,zr=_r.scale,gn=_r.translate,dn=_r.clipExtent,Rn=null,In,Wn,oa;_r.scale=function(Ta){return arguments.length?(zr(Ta),ma()):zr()},_r.translate=function(Ta){return arguments.length?(gn(Ta),ma()):gn()},_r.center=function(Ta){return arguments.length?(Yr(Ta),ma()):Yr()},_r.clipExtent=function(Ta){return arguments.length?(Ta==null?Rn=In=Wn=oa=null:(Rn=+Ta[0][0],In=+Ta[0][1],Wn=+Ta[1][0],oa=+Ta[1][1]),ma()):Rn==null?null:[[Rn,In],[Wn,oa]]};function ma(){var Ta=n.pi*zr(),Yn=_r((0,It.c)(_r.rotate()).invert([0,0]));return dn(Rn==null?[[Yn[0]-Ta,Yn[1]-Ta],[Yn[0]+Ta,Yn[1]+Ta]]:xr===Ht?[[Math.max(Yn[0]-Ta,Rn),In],[Math.min(Yn[0]+Ta,Wn),oa]]:[[Rn,Math.max(Yn[1]-Ta,In)],[Wn,Math.min(Yn[1]+Ta,oa)]])}return ma()}function $t(xr){return(0,n.a6)((n.or+xr)/2)}function fr(xr,_r){var Yr=(0,n.W8)(xr),zr=xr===_r?(0,n.g$)(xr):(0,n.Yz)(Yr/(0,n.W8)(_r))/(0,n.Yz)($t(_r)/$t(xr)),gn=Yr*(0,n.g3)($t(xr),zr)/zr;if(!zr)return Ht;function dn(Rn,In){gn>0?In<-n.or+n.Gg&&(In=-n.or+n.Gg):In>n.or-n.Gg&&(In=n.or-n.Gg);var Wn=gn/(0,n.g3)($t(In),zr);return[Wn*(0,n.g$)(zr*Rn),gn-Wn*(0,n.W8)(zr*Rn)]}return dn.invert=function(Rn,In){var Wn=gn-In,oa=(0,n.kq)(zr)*(0,n._I)(Rn*Rn+Wn*Wn),ma=(0,n.WE)(Rn,(0,n.a2)(Wn))*(0,n.kq)(Wn);return Wn*zr<0&&(ma-=n.pi*(0,n.kq)(Rn)*(0,n.kq)(Wn)),[ma/zr,2*(0,n.MQ)((0,n.g3)(gn/oa,1/zr))-n.or]},dn}function Zt(){return Tr(fr).scale(109.5).parallels([30,30])}var vr=e(69604);function Ye(xr,_r){var Yr=(0,n.W8)(xr),zr=xr===_r?(0,n.g$)(xr):(Yr-(0,n.W8)(_r))/(_r-xr),gn=Yr/zr+xr;if((0,n.a2)(zr)<n.Gg)return vr.u;function dn(Rn,In){var Wn=gn-In,oa=zr*Rn;return[Wn*(0,n.g$)(oa),gn-Wn*(0,n.W8)(oa)]}return dn.invert=function(Rn,In){var Wn=gn-In,oa=(0,n.WE)(Rn,(0,n.a2)(Wn))*(0,n.kq)(Wn);return Wn*zr<0&&(oa-=n.pi*(0,n.kq)(Rn)*(0,n.kq)(Wn)),[oa/zr,gn-(0,n.kq)(zr)*(0,n._I)(Rn*Rn+Wn*Wn)]},dn}function Ge(){return Tr(Ye).scale(131.154).center([0,13.9389])}var zt=1.340264,Dt=-.081106,Qt=893e-6,nr=.003796,ir=(0,n._I)(3)/2,tr=12;function Ft(xr,_r){var Yr=(0,n.qR)(ir*(0,n.g$)(_r)),zr=Yr*Yr,gn=zr*zr*zr;return[xr*(0,n.W8)(Yr)/(ir*(zt+3*Dt*zr+gn*(7*Qt+9*nr*zr))),Yr*(zt+Dt*zr+gn*(Qt+nr*zr))]}Ft.invert=function(xr,_r){for(var Yr=_r,zr=Yr*Yr,gn=zr*zr*zr,dn=0,Rn,In,Wn;dn<tr&&(In=Yr*(zt+Dt*zr+gn*(Qt+nr*zr))-_r,Wn=zt+3*Dt*zr+gn*(7*Qt+9*nr*zr),Yr-=Rn=In/Wn,zr=Yr*Yr,gn=zr*zr*zr,!((0,n.a2)(Rn)<n.a8));++dn);return[ir*xr*(zt+3*Dt*zr+gn*(7*Qt+9*nr*zr))/(0,n.W8)(Yr),(0,n.qR)((0,n.g$)(Yr)/ir)]};function cr(){return(0,Xt.c)(Ft).scale(177.158)}var pr=e(53285),br=e(15196);function hr(){var xr=1,_r=0,Yr=0,zr=1,gn=1,dn=0,Rn,In,Wn=null,oa,ma,Ta,Yn=1,Qn=1,gr=(0,br.s)({point:function(Sn,Nn){var qn=Tn([Sn,Nn]);this.stream.point(qn[0],qn[1])}}),en=ue.c,$r,hn;function Bn(){return Yn=xr*zr,Qn=xr*gn,$r=hn=null,Tn}function Tn(Sn){var Nn=Sn[0]*Yn,qn=Sn[1]*Qn;if(dn){var va=qn*Rn-Nn*In;Nn=Nn*Rn+qn*In,qn=va}return[Nn+_r,qn+Yr]}return Tn.invert=function(Sn){var Nn=Sn[0]-_r,qn=Sn[1]-Yr;if(dn){var va=qn*Rn+Nn*In;Nn=Nn*Rn-qn*In,qn=va}return[Nn/Yn,qn/Qn]},Tn.stream=function(Sn){return $r&&hn===Sn?$r:$r=gr(en(hn=Sn))},Tn.postclip=function(Sn){return arguments.length?(en=Sn,Wn=oa=ma=Ta=null,Bn()):en},Tn.clipExtent=function(Sn){return arguments.length?(en=Sn==null?(Wn=oa=ma=Ta=null,ue.c):(0,d.c)(Wn=+Sn[0][0],oa=+Sn[0][1],ma=+Sn[1][0],Ta=+Sn[1][1]),Bn()):Wn==null?null:[[Wn,oa],[ma,Ta]]},Tn.scale=function(Sn){return arguments.length?(xr=+Sn,Bn()):xr},Tn.translate=function(Sn){return arguments.length?(_r=+Sn[0],Yr=+Sn[1],Bn()):[_r,Yr]},Tn.angle=function(Sn){return arguments.length?(dn=Sn%360*n.qw,In=(0,n.g$)(dn),Rn=(0,n.W8)(dn),Bn()):dn*n.oh},Tn.reflectX=function(Sn){return arguments.length?(zr=Sn?-1:1,Bn()):zr<0},Tn.reflectY=function(Sn){return arguments.length?(gn=Sn?-1:1,Bn()):gn<0},Tn.fitExtent=function(Sn,Nn){return(0,ur.QX)(Tn,Sn,Nn)},Tn.fitSize=function(Sn,Nn){return(0,ur.UV)(Tn,Sn,Nn)},Tn.fitWidth=function(Sn,Nn){return(0,ur.Qx)(Tn,Sn,Nn)},Tn.fitHeight=function(Sn,Nn){return(0,ur.OW)(Tn,Sn,Nn)},Tn}var Vr=e(47984),Pr=e(4888),Ir=e(62280);function sn(xr,_r){var Yr=(0,n.W8)(_r),zr=1+(0,n.W8)(xr)*Yr;return[Yr*(0,n.g$)(xr)/zr,(0,n.g$)(_r)/zr]}sn.invert=(0,Ir.g)(function(xr){return 2*(0,n.MQ)(xr)});function an(){return(0,Xt.c)(sn).scale(250).clipAngle(142)}function En(xr,_r){return[(0,n.Yz)((0,n.a6)((n.or+_r)/2)),-xr]}En.invert=function(xr,_r){return[-_r,2*(0,n.MQ)((0,n.oN)(xr))-n.or]};function Mn(){var xr=Bt(En),_r=xr.center,Yr=xr.rotate;return xr.center=function(zr){return arguments.length?_r([-zr[1],zr[0]]):(zr=_r(),[zr[1],-zr[0]])},xr.rotate=function(zr){return arguments.length?Yr([zr[0],zr[1],zr.length>2?zr[2]+90:90]):(zr=Yr(),[zr[0],zr[1],zr[2]-90])},Yr([0,0,90]).scale(159.155)}},27284:function(G,H,e){e.d(H,{c:function(){return R}});var g=e(64528);function R(i,C){var S=i[0]*g.qw,v=i[1]*g.qw,d=C[0]*g.qw,r=C[1]*g.qw,t=(0,g.W8)(v),a=(0,g.g$)(v),n=(0,g.W8)(r),f=(0,g.g$)(r),u=t*(0,g.W8)(S),l=t*(0,g.g$)(S),y=n*(0,g.W8)(d),h=n*(0,g.g$)(d),T=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(d-S))),c=(0,g.g$)(T),o=T?function(p){var x=(0,g.g$)(p*=T)/c,b=(0,g.g$)(T-p)/c,P=b*u+x*y,m=b*l+x*h,L=b*a+x*f;return[(0,g.WE)(m,P)*g.oh,(0,g.WE)(L,(0,g._I)(P*P+m*m))*g.oh]}:function(){return[S*g.oh,v*g.oh]};return o.distance=T,o}},64528:function(G,H,e){e.d(H,{Gg:function(){return g},Km:function(){return u},MQ:function(){return a},SD:function(){return P},W8:function(){return f},WE:function(){return n},Yz:function(){return y},_I:function(){return o},a2:function(){return t},a6:function(){return p},a8:function(){return R},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return l},oh:function(){return d},or:function(){return C},pi:function(){return i},qR:function(){return b},qw:function(){return r},wL:function(){return S}});var g=1e-6,R=1e-12,i=Math.PI,C=i/2,S=i/4,v=i*2,d=180/i,r=i/180,t=Math.abs,a=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,y=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(m){return m>0?1:m<0?-1:0},o=Math.sqrt,p=Math.tan;function x(m){return m>1?0:m<-1?i:Math.acos(m)}function b(m){return m>1?C:m<-1?-C:Math.asin(m)}function P(m){return(m=T(m/2))*m}},70932:function(G,H,e){e.d(H,{c:function(){return g}});function g(){}},73784:function(G,H,e){var g=e(70932),R=1/0,i=R,C=-R,S=C,v={point:d,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[R,i],[C,S]];return C=S=-(i=R=1/0),r}};function d(r,t){r<R&&(R=r),r>C&&(C=r),t<i&&(i=t),t>S&&(S=t)}H.c=v},41860:function(G,H,e){e.d(H,{c:function(){return R}});var g=e(64528);function R(i,C){return(0,g.a2)(i[0]-C[0])<g.Gg&&(0,g.a2)(i[1]-C[1])<g.Gg}},58196:function(G,H,e){e.d(H,{c:function(){return v}});var g=e(88728),R=e(84220),i=e(64528),C=(0,g.c)();function S(d){return(0,i.a2)(d[0])<=i.pi?d[0]:(0,i.kq)(d[0])*(((0,i.a2)(d[0])+i.pi)%i.kD-i.pi)}function v(d,r){var t=S(r),a=r[1],n=(0,i.g$)(a),f=[(0,i.g$)(t),-(0,i.W8)(t),0],u=0,l=0;C.reset(),n===1?a=i.or+i.Gg:n===-1&&(a=-i.or-i.Gg);for(var y=0,h=d.length;y<h;++y)if(c=(T=d[y]).length)for(var T,c,o=T[c-1],p=S(o),x=o[1]/2+i.wL,b=(0,i.g$)(x),P=(0,i.W8)(x),m=0;m<c;++m,p=M,b=E,P=w,o=L){var L=T[m],M=S(L),s=L[1]/2+i.wL,E=(0,i.g$)(s),w=(0,i.W8)(s),_=M-p,D=_>=0?1:-1,N=D*_,z=N>i.pi,F=b*E;if(C.add((0,i.WE)(F*D*(0,i.g$)(N),P*w+F*(0,i.W8)(N))),u+=z?_+D*i.kD:_,z^p>=t^M>=t){var U=(0,R.CW)((0,R.ux)(o),(0,R.ux)(L));(0,R.cJ)(U);var B=(0,R.CW)(f,U);(0,R.cJ)(B);var V=(z^_>=0?-1:1)*(0,i.qR)(B[2]);(a>V||a===V&&(U[0]||U[1]))&&(l+=z^_>=0?1:-1)}}return(u<-i.Gg||u<i.Gg&&C<-i.Gg)^l&1}},62280:function(G,H,e){e.d(H,{a:function(){return R},g:function(){return i}});var g=e(64528);function R(C){return function(S,v){var d=(0,g.W8)(S),r=(0,g.W8)(v),t=C(d*r);return[t*r*(0,g.g$)(S),t*(0,g.g$)(v)]}}function i(C){return function(S,v){var d=(0,g._I)(S*S+v*v),r=C(d),t=(0,g.g$)(r),a=(0,g.W8)(r);return[(0,g.WE)(S*t,d*a),(0,g.qR)(d&&v*t/d)]}}},54724:function(G,H,e){e.d(H,{c:function(){return S},y:function(){return C}});var g=e(64528),R=e(62280),i=e(87952),C=(0,R.a)(function(v){return(0,g._I)(2/(1+v))});C.invert=(0,R.g)(function(v){return 2*(0,g.qR)(v/2)});function S(){return(0,i.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(G,H,e){e.d(H,{O:function(){return C},c:function(){return S}});var g=e(64528),R=e(62280),i=e(87952),C=(0,R.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});C.invert=(0,R.g)(function(v){return v});function S(){return(0,i.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(G,H,e){e.d(H,{c:function(){return i},u:function(){return R}});var g=e(87952);function R(C,S){return[C,S]}R.invert=R;function i(){return(0,g.c)(R).scale(152.63)}},86420:function(G,H,e){e.d(H,{OW:function(){return d},QX:function(){return C},Qx:function(){return v},UV:function(){return S}});var g=e(16016),R=e(73784);function i(r,t,a){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(a,r.stream(R.c)),t(R.c.result()),n!=null&&r.clipExtent(n),r}function C(r,t,a){return i(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),y=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([y,h])},a)}function S(r,t,a){return C(r,[[0,0],t],a)}function v(r,t,a){return i(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,y=-u*n[0][1];r.scale(150*u).translate([l,y])},a)}function d(r,t,a){return i(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],y=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,y])},a)}},53285:function(G,H,e){e.d(H,{Y:function(){return C},c:function(){return S}});var g=e(64528),R=e(62280),i=e(87952);function C(v,d){var r=(0,g.W8)(d),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(d)/t]}C.invert=(0,R.g)(g.MQ);function S(){return(0,i.c)(C).scale(144.049).clipAngle(60)}},87952:function(G,H,e){e.d(H,{c:function(){return p},U:function(){return x}});var g=e(78284),R=e(2728),i=e(21676),C=e(68120),S=e(7376),v=e(64528),d=e(92992),r=e(15196),t=e(86420),a=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(b,P){return+P?y(b,P):l(b)}function l(b){return(0,r.s)({point:function(P,m){P=b(P,m),this.stream.point(P[0],P[1])}})}function y(b,P){function m(L,M,s,E,w,_,D,N,z,F,U,B,V,j){var Q=D-L,ee=N-M,re=Q*Q+ee*ee;if(re>4*P&&V--){var ue=E+F,J=w+U,X=_+B,ne=(0,v._I)(ue*ue+J*J+X*X),Y=(0,v.qR)(X/=ne),oe=(0,v.a2)((0,v.a2)(X)-1)<v.Gg||(0,v.a2)(s-z)<v.Gg?(s+z)/2:(0,v.WE)(J,ue),le=b(oe,Y),Z=le[0],$=le[1],se=Z-L,ae=$-M,he=ee*se-Q*ae;(he*he/re>P||(0,v.a2)((Q*se+ee*ae)/re-.5)>.3||E*F+w*U+_*B<f)&&(m(L,M,s,E,w,_,Z,$,oe,ue/=ne,J/=ne,X,V,j),j.point(Z,$),m(Z,$,oe,ue,J,X,D,N,z,F,U,B,V,j))}}return function(L){var M,s,E,w,_,D,N,z,F,U,B,V,j={point:Q,lineStart:ee,lineEnd:ue,polygonStart:function(){L.polygonStart(),j.lineStart=J},polygonEnd:function(){L.polygonEnd(),j.lineStart=ee}};function Q(Y,oe){Y=b(Y,oe),L.point(Y[0],Y[1])}function ee(){z=NaN,j.point=re,L.lineStart()}function re(Y,oe){var le=(0,a.ux)([Y,oe]),Z=b(Y,oe);m(z,F,N,U,B,V,z=Z[0],F=Z[1],N=Y,U=le[0],B=le[1],V=le[2],n,L),L.point(z,F)}function ue(){j.point=Q,L.lineEnd()}function J(){ee(),j.point=X,j.lineEnd=ne}function X(Y,oe){re(M=Y,oe),s=z,E=F,w=U,_=B,D=V,j.point=re}function ne(){m(z,F,N,U,B,V,s,E,M,w,_,D,n,L),j.lineEnd=ue,ue()}return j}}var h=(0,r.s)({point:function(b,P){this.stream.point(b*v.qw,P*v.qw)}});function T(b){return(0,r.s)({point:function(P,m){var L=b(P,m);return this.stream.point(L[0],L[1])}})}function c(b,P,m,L,M){function s(E,w){return E*=L,w*=M,[P+b*E,m-b*w]}return s.invert=function(E,w){return[(E-P)/b*L,(m-w)/b*M]},s}function o(b,P,m,L,M,s){var E=(0,v.W8)(s),w=(0,v.g$)(s),_=E*b,D=w*b,N=E/b,z=w/b,F=(w*m-E*P)/b,U=(w*P+E*m)/b;function B(V,j){return V*=L,j*=M,[_*V-D*j+P,m-D*V-_*j]}return B.invert=function(V,j){return[L*(N*V-z*j+F),M*(U-z*V-N*j)]},B}function p(b){return x(function(){return b})()}function x(b){var P,m=150,L=480,M=250,s=0,E=0,w=0,_=0,D=0,N,z=0,F=1,U=1,B=null,V=g.c,j=null,Q,ee,re,ue=S.c,J=.5,X,ne,Y,oe,le;function Z(he){return Y(he[0]*v.qw,he[1]*v.qw)}function $(he){return he=Y.invert(he[0],he[1]),he&&[he[0]*v.oh,he[1]*v.oh]}Z.stream=function(he){return oe&&le===he?oe:oe=h(T(N)(V(X(ue(le=he)))))},Z.preclip=function(he){return arguments.length?(V=he,B=void 0,ae()):V},Z.postclip=function(he){return arguments.length?(ue=he,j=Q=ee=re=null,ae()):ue},Z.clipAngle=function(he){return arguments.length?(V=+he?(0,R.c)(B=he*v.qw):(B=null,g.c),ae()):B*v.oh},Z.clipExtent=function(he){return arguments.length?(ue=he==null?(j=Q=ee=re=null,S.c):(0,i.c)(j=+he[0][0],Q=+he[0][1],ee=+he[1][0],re=+he[1][1]),ae()):j==null?null:[[j,Q],[ee,re]]},Z.scale=function(he){return arguments.length?(m=+he,se()):m},Z.translate=function(he){return arguments.length?(L=+he[0],M=+he[1],se()):[L,M]},Z.center=function(he){return arguments.length?(s=he[0]%360*v.qw,E=he[1]%360*v.qw,se()):[s*v.oh,E*v.oh]},Z.rotate=function(he){return arguments.length?(w=he[0]%360*v.qw,_=he[1]%360*v.qw,D=he.length>2?he[2]%360*v.qw:0,se()):[w*v.oh,_*v.oh,D*v.oh]},Z.angle=function(he){return arguments.length?(z=he%360*v.qw,se()):z*v.oh},Z.reflectX=function(he){return arguments.length?(F=he?-1:1,se()):F<0},Z.reflectY=function(he){return arguments.length?(U=he?-1:1,se()):U<0},Z.precision=function(he){return arguments.length?(X=u(ne,J=he*he),ae()):(0,v._I)(J)},Z.fitExtent=function(he,me){return(0,t.QX)(Z,he,me)},Z.fitSize=function(he,me){return(0,t.UV)(Z,he,me)},Z.fitWidth=function(he,me){return(0,t.Qx)(Z,he,me)},Z.fitHeight=function(he,me){return(0,t.OW)(Z,he,me)};function se(){var he=o(m,0,0,F,U,z).apply(null,P(s,E)),me=(z?o:c)(m,L-he[0],M-he[1],F,U,z);return N=(0,d.O)(w,_,D),ne=(0,C.c)(P,me),Y=(0,C.c)(N,ne),X=u(ne,J),ae()}function ae(){return oe=le=null,Z}return function(){return P=b.apply(this,arguments),Z.invert=P.invert&&$,se()}}},47984:function(G,H,e){e.d(H,{c:function(){return C},g:function(){return i}});var g=e(87952),R=e(64528);function i(S,v){var d=v*v,r=d*d;return[S*(.8707-.131979*d+r*(-.013791+r*(.003971*d-.001529*r))),v*(1.007226+d*(.015085+r*(-.044475+.028874*d-.005916*r)))]}i.invert=function(S,v){var d=v,r=25,t;do{var a=d*d,n=a*a;d-=t=(d*(1.007226+a*(.015085+n*(-.044475+.028874*a-.005916*n)))-v)/(1.007226+a*(.045255+n*(-.311325+.259866*a-.06507600000000001*n)))}while((0,R.a2)(t)>R.Gg&&--r>0);return[S/(.8707+(a=d*d)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),d]};function C(){return(0,g.c)(i).scale(175.295)}},4888:function(G,H,e){e.d(H,{c:function(){return S},t:function(){return C}});var g=e(64528),R=e(62280),i=e(87952);function C(v,d){return[(0,g.W8)(d)*(0,g.g$)(v),(0,g.g$)(d)]}C.invert=(0,R.g)(g.qR);function S(){return(0,i.c)(C).scale(249.5).clipAngle(90+g.Gg)}},92992:function(G,H,e){e.d(H,{O:function(){return C},c:function(){return r}});var g=e(68120),R=e(64528);function i(t,a){return[(0,R.a2)(t)>R.pi?t+Math.round(-t/R.kD)*R.kD:t,a]}i.invert=i;function C(t,a,n){return(t%=R.kD)?a||n?(0,g.c)(v(t),d(a,n)):v(t):a||n?d(a,n):i}function S(t){return function(a,n){return a+=t,[a>R.pi?a-R.kD:a<-R.pi?a+R.kD:a,n]}}function v(t){var a=S(t);return a.invert=S(-t),a}function d(t,a){var n=(0,R.W8)(t),f=(0,R.g$)(t),u=(0,R.W8)(a),l=(0,R.g$)(a);function y(h,T){var c=(0,R.W8)(T),o=(0,R.W8)(h)*c,p=(0,R.g$)(h)*c,x=(0,R.g$)(T),b=x*n+o*f;return[(0,R.WE)(p*u-b*l,o*n-x*f),(0,R.qR)(b*u+p*l)]}return y.invert=function(h,T){var c=(0,R.W8)(T),o=(0,R.W8)(h)*c,p=(0,R.g$)(h)*c,x=(0,R.g$)(T),b=x*u-p*l;return[(0,R.WE)(p*u+x*l,o*n+b*f),(0,R.qR)(b*n-o*f)]},y}function r(t){t=C(t[0]*R.qw,t[1]*R.qw,t.length>2?t[2]*R.qw:0);function a(n){return n=t(n[0]*R.qw,n[1]*R.qw),n[0]*=R.oh,n[1]*=R.oh,n}return a.invert=function(n){return n=t.invert(n[0]*R.qw,n[1]*R.qw),n[0]*=R.oh,n[1]*=R.oh,n},a}},16016:function(G,H,e){e.d(H,{c:function(){return v}});function g(d,r){d&&i.hasOwnProperty(d.type)&&i[d.type](d,r)}var R={Feature:function(d,r){g(d.geometry,r)},FeatureCollection:function(d,r){for(var t=d.features,a=-1,n=t.length;++a<n;)g(t[a].geometry,r)}},i={Sphere:function(d,r){r.sphere()},Point:function(d,r){d=d.coordinates,r.point(d[0],d[1],d[2])},MultiPoint:function(d,r){for(var t=d.coordinates,a=-1,n=t.length;++a<n;)d=t[a],r.point(d[0],d[1],d[2])},LineString:function(d,r){C(d.coordinates,r,0)},MultiLineString:function(d,r){for(var t=d.coordinates,a=-1,n=t.length;++a<n;)C(t[a],r,0)},Polygon:function(d,r){S(d.coordinates,r)},MultiPolygon:function(d,r){for(var t=d.coordinates,a=-1,n=t.length;++a<n;)S(t[a],r)},GeometryCollection:function(d,r){for(var t=d.geometries,a=-1,n=t.length;++a<n;)g(t[a],r)}};function C(d,r,t){var a=-1,n=d.length-t,f;for(r.lineStart();++a<n;)f=d[a],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(d,r){var t=-1,a=d.length;for(r.polygonStart();++t<a;)C(d[t],r,1);r.polygonEnd()}function v(d,r){d&&R.hasOwnProperty(d.type)?R[d.type](d,r):g(d,r)}},15196:function(G,H,e){e.d(H,{c:function(){return g},s:function(){return R}});function g(C){return{stream:R(C)}}function R(C){return function(S){var v=new i;for(var d in C)v[d]=C[d];return v.stream=S,v}}function i(){}i.prototype={constructor:i,point:function(C,S){this.stream.point(C,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,H,e){e.r(H),e.d(H,{cluster:function(){return r},hierarchy:function(){return b},pack:function(){return $},packEnclose:function(){return _},packSiblings:function(){return X},partition:function(){return Te},stratify:function(){return Ue},tree:function(){return ht},treemap:function(){return Oe},treemapBinary:function(){return Xe},treemapDice:function(){return Me},treemapResquarify:function(){return We},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return tt}});function g(ze,ke){return ze.parent===ke.parent?1:2}function R(ze){return ze.reduce(i,0)/ze.length}function i(ze,ke){return ze+ke.x}function C(ze){return 1+ze.reduce(S,0)}function S(ze,ke){return Math.max(ze,ke.y)}function v(ze){for(var ke;ke=ze.children;)ze=ke[0];return ze}function d(ze){for(var ke;ke=ze.children;)ze=ke[ke.length-1];return ze}function r(){var ze=g,ke=1,je=1,Ie=!1;function pe(we){var Ve,Qe=0;we.eachAfter(function(Tt){var Lt=Tt.children;Lt?(Tt.x=R(Lt),Tt.y=C(Lt)):(Tt.x=Ve?Qe+=ze(Tt,Ve):0,Tt.y=0,Ve=Tt)});var it=v(we),st=d(we),Wt=it.x-ze(it,st)/2,jt=st.x+ze(st,it)/2;return we.eachAfter(Ie?function(Tt){Tt.x=(Tt.x-we.x)*ke,Tt.y=(we.y-Tt.y)*je}:function(Tt){Tt.x=(Tt.x-Wt)/(jt-Wt)*ke,Tt.y=(1-(we.y?Tt.y/we.y:1))*je})}return pe.separation=function(we){return arguments.length?(ze=we,pe):ze},pe.size=function(we){return arguments.length?(Ie=!1,ke=+we[0],je=+we[1],pe):Ie?null:[ke,je]},pe.nodeSize=function(we){return arguments.length?(Ie=!0,ke=+we[0],je=+we[1],pe):Ie?[ke,je]:null},pe}function t(ze){var ke=0,je=ze.children,Ie=je&&je.length;if(!Ie)ke=1;else for(;--Ie>=0;)ke+=je[Ie].value;ze.value=ke}function a(){return this.eachAfter(t)}function n(ze){var ke=this,je,Ie=[ke],pe,we,Ve;do for(je=Ie.reverse(),Ie=[];ke=je.pop();)if(ze(ke),pe=ke.children,pe)for(we=0,Ve=pe.length;we<Ve;++we)Ie.push(pe[we]);while(Ie.length);return this}function f(ze){for(var ke=this,je=[ke],Ie,pe;ke=je.pop();)if(ze(ke),Ie=ke.children,Ie)for(pe=Ie.length-1;pe>=0;--pe)je.push(Ie[pe]);return this}function u(ze){for(var ke=this,je=[ke],Ie=[],pe,we,Ve;ke=je.pop();)if(Ie.push(ke),pe=ke.children,pe)for(we=0,Ve=pe.length;we<Ve;++we)je.push(pe[we]);for(;ke=Ie.pop();)ze(ke);return this}function l(ze){return this.eachAfter(function(ke){for(var je=+ze(ke.data)||0,Ie=ke.children,pe=Ie&&Ie.length;--pe>=0;)je+=Ie[pe].value;ke.value=je})}function y(ze){return this.eachBefore(function(ke){ke.children&&ke.children.sort(ze)})}function h(ze){for(var ke=this,je=T(ke,ze),Ie=[ke];ke!==je;)ke=ke.parent,Ie.push(ke);for(var pe=Ie.length;ze!==je;)Ie.splice(pe,0,ze),ze=ze.parent;return Ie}function T(ze,ke){if(ze===ke)return ze;var je=ze.ancestors(),Ie=ke.ancestors(),pe=null;for(ze=je.pop(),ke=Ie.pop();ze===ke;)pe=ze,ze=je.pop(),ke=Ie.pop();return pe}function c(){for(var ze=this,ke=[ze];ze=ze.parent;)ke.push(ze);return ke}function o(){var ze=[];return this.each(function(ke){ze.push(ke)}),ze}function p(){var ze=[];return this.eachBefore(function(ke){ke.children||ze.push(ke)}),ze}function x(){var ze=this,ke=[];return ze.each(function(je){je!==ze&&ke.push({source:je.parent,target:je})}),ke}function b(ze,ke){var je=new s(ze),Ie=+ze.value&&(je.value=ze.value),pe,we=[je],Ve,Qe,it,st;for(ke==null&&(ke=m);pe=we.pop();)if(Ie&&(pe.value=+pe.data.value),(Qe=ke(pe.data))&&(st=Qe.length))for(pe.children=new Array(st),it=st-1;it>=0;--it)we.push(Ve=pe.children[it]=new s(Qe[it])),Ve.parent=pe,Ve.depth=pe.depth+1;return je.eachBefore(M)}function P(){return b(this).eachBefore(L)}function m(ze){return ze.children}function L(ze){ze.data=ze.data.data}function M(ze){var ke=0;do ze.height=ke;while((ze=ze.parent)&&ze.height<++ke)}function s(ze){this.data=ze,this.depth=this.height=0,this.parent=null}s.prototype=b.prototype={constructor:s,count:a,each:n,eachAfter:u,eachBefore:f,sum:l,sort:y,path:h,ancestors:c,descendants:o,leaves:p,links:x,copy:P};var E=Array.prototype.slice;function w(ze){for(var ke=ze.length,je,Ie;ke;)Ie=Math.random()*ke--|0,je=ze[ke],ze[ke]=ze[Ie],ze[Ie]=je;return ze}function _(ze){for(var ke=0,je=(ze=w(E.call(ze))).length,Ie=[],pe,we;ke<je;)pe=ze[ke],we&&z(we,pe)?++ke:(we=U(Ie=D(Ie,pe)),ke=0);return we}function D(ze,ke){var je,Ie;if(F(ke,ze))return[ke];for(je=0;je<ze.length;++je)if(N(ke,ze[je])&&F(V(ze[je],ke),ze))return[ze[je],ke];for(je=0;je<ze.length-1;++je)for(Ie=je+1;Ie<ze.length;++Ie)if(N(V(ze[je],ze[Ie]),ke)&&N(V(ze[je],ke),ze[Ie])&&N(V(ze[Ie],ke),ze[je])&&F(j(ze[je],ze[Ie],ke),ze))return[ze[je],ze[Ie],ke];throw new Error}function N(ze,ke){var je=ze.r-ke.r,Ie=ke.x-ze.x,pe=ke.y-ze.y;return je<0||je*je<Ie*Ie+pe*pe}function z(ze,ke){var je=ze.r-ke.r+1e-6,Ie=ke.x-ze.x,pe=ke.y-ze.y;return je>0&&je*je>Ie*Ie+pe*pe}function F(ze,ke){for(var je=0;je<ke.length;++je)if(!z(ze,ke[je]))return!1;return!0}function U(ze){switch(ze.length){case 1:return B(ze[0]);case 2:return V(ze[0],ze[1]);case 3:return j(ze[0],ze[1],ze[2])}}function B(ze){return{x:ze.x,y:ze.y,r:ze.r}}function V(ze,ke){var je=ze.x,Ie=ze.y,pe=ze.r,we=ke.x,Ve=ke.y,Qe=ke.r,it=we-je,st=Ve-Ie,Wt=Qe-pe,jt=Math.sqrt(it*it+st*st);return{x:(je+we+it/jt*Wt)/2,y:(Ie+Ve+st/jt*Wt)/2,r:(jt+pe+Qe)/2}}function j(ze,ke,je){var Ie=ze.x,pe=ze.y,we=ze.r,Ve=ke.x,Qe=ke.y,it=ke.r,st=je.x,Wt=je.y,jt=je.r,Tt=Ie-Ve,Lt=Ie-st,Xt=pe-Qe,Tr=pe-Wt,yt=it-we,Kt=jt-we,Jt=Ie*Ie+pe*pe-we*we,yr=Jt-Ve*Ve-Qe*Qe+it*it,ur=Jt-st*st-Wt*Wt+jt*jt,mt=Lt*Xt-Tt*Tr,lt=(Xt*ur-Tr*yr)/(mt*2)-Ie,bt=(Tr*yt-Xt*Kt)/mt,Et=(Lt*yr-Tt*ur)/(mt*2)-pe,It=(Tt*Kt-Lt*yt)/mt,Ht=bt*bt+It*It-1,Ut=2*(we+lt*bt+Et*It),Bt=lt*lt+Et*Et-we*we,$t=-(Ht?(Ut+Math.sqrt(Ut*Ut-4*Ht*Bt))/(2*Ht):Bt/Ut);return{x:Ie+lt+bt*$t,y:pe+Et+It*$t,r:$t}}function Q(ze,ke,je){var Ie=ze.x-ke.x,pe,we,Ve=ze.y-ke.y,Qe,it,st=Ie*Ie+Ve*Ve;st?(we=ke.r+je.r,we*=we,it=ze.r+je.r,it*=it,we>it?(pe=(st+it-we)/(2*st),Qe=Math.sqrt(Math.max(0,it/st-pe*pe)),je.x=ze.x-pe*Ie-Qe*Ve,je.y=ze.y-pe*Ve+Qe*Ie):(pe=(st+we-it)/(2*st),Qe=Math.sqrt(Math.max(0,we/st-pe*pe)),je.x=ke.x+pe*Ie-Qe*Ve,je.y=ke.y+pe*Ve+Qe*Ie)):(je.x=ke.x+je.r,je.y=ke.y)}function ee(ze,ke){var je=ze.r+ke.r-1e-6,Ie=ke.x-ze.x,pe=ke.y-ze.y;return je>0&&je*je>Ie*Ie+pe*pe}function re(ze){var ke=ze._,je=ze.next._,Ie=ke.r+je.r,pe=(ke.x*je.r+je.x*ke.r)/Ie,we=(ke.y*je.r+je.y*ke.r)/Ie;return pe*pe+we*we}function ue(ze){this._=ze,this.next=null,this.previous=null}function J(ze){if(!(pe=ze.length))return 0;var ke,je,Ie,pe,we,Ve,Qe,it,st,Wt,jt;if(ke=ze[0],ke.x=0,ke.y=0,!(pe>1))return ke.r;if(je=ze[1],ke.x=-je.r,je.x=ke.r,je.y=0,!(pe>2))return ke.r+je.r;Q(je,ke,Ie=ze[2]),ke=new ue(ke),je=new ue(je),Ie=new ue(Ie),ke.next=Ie.previous=je,je.next=ke.previous=Ie,Ie.next=je.previous=ke;e:for(Qe=3;Qe<pe;++Qe){Q(ke._,je._,Ie=ze[Qe]),Ie=new ue(Ie),it=je.next,st=ke.previous,Wt=je._.r,jt=ke._.r;do if(Wt<=jt){if(ee(it._,Ie._)){je=it,ke.next=je,je.previous=ke,--Qe;continue e}Wt+=it._.r,it=it.next}else{if(ee(st._,Ie._)){ke=st,ke.next=je,je.previous=ke,--Qe;continue e}jt+=st._.r,st=st.previous}while(it!==st.next);for(Ie.previous=ke,Ie.next=je,ke.next=je.previous=je=Ie,we=re(ke);(Ie=Ie.next)!==je;)(Ve=re(Ie))<we&&(ke=Ie,we=Ve);je=ke.next}for(ke=[je._],Ie=je;(Ie=Ie.next)!==je;)ke.push(Ie._);for(Ie=_(ke),Qe=0;Qe<pe;++Qe)ke=ze[Qe],ke.x-=Ie.x,ke.y-=Ie.y;return Ie.r}function X(ze){return J(ze),ze}function ne(ze){return ze==null?null:Y(ze)}function Y(ze){if(typeof ze!="function")throw new Error;return ze}function oe(){return 0}function le(ze){return function(){return ze}}function Z(ze){return Math.sqrt(ze.value)}function $(){var ze=null,ke=1,je=1,Ie=oe;function pe(we){return we.x=ke/2,we.y=je/2,ze?we.eachBefore(se(ze)).eachAfter(ae(Ie,.5)).eachBefore(he(1)):we.eachBefore(se(Z)).eachAfter(ae(oe,1)).eachAfter(ae(Ie,we.r/Math.min(ke,je))).eachBefore(he(Math.min(ke,je)/(2*we.r))),we}return pe.radius=function(we){return arguments.length?(ze=ne(we),pe):ze},pe.size=function(we){return arguments.length?(ke=+we[0],je=+we[1],pe):[ke,je]},pe.padding=function(we){return arguments.length?(Ie=typeof we=="function"?we:le(+we),pe):Ie},pe}function se(ze){return function(ke){ke.children||(ke.r=Math.max(0,+ze(ke)||0))}}function ae(ze,ke){return function(je){if(Ie=je.children){var Ie,pe,we=Ie.length,Ve=ze(je)*ke||0,Qe;if(Ve)for(pe=0;pe<we;++pe)Ie[pe].r+=Ve;if(Qe=J(Ie),Ve)for(pe=0;pe<we;++pe)Ie[pe].r-=Ve;je.r=Qe+Ve}}}function he(ze){return function(ke){var je=ke.parent;ke.r*=ze,je&&(ke.x=je.x+ze*ke.x,ke.y=je.y+ze*ke.y)}}function me(ze){ze.x0=Math.round(ze.x0),ze.y0=Math.round(ze.y0),ze.x1=Math.round(ze.x1),ze.y1=Math.round(ze.y1)}function Me(ze,ke,je,Ie,pe){for(var we=ze.children,Ve,Qe=-1,it=we.length,st=ze.value&&(Ie-ke)/ze.value;++Qe<it;)Ve=we[Qe],Ve.y0=je,Ve.y1=pe,Ve.x0=ke,Ve.x1=ke+=Ve.value*st}function Te(){var ze=1,ke=1,je=0,Ie=!1;function pe(Ve){var Qe=Ve.height+1;return Ve.x0=Ve.y0=je,Ve.x1=ze,Ve.y1=ke/Qe,Ve.eachBefore(we(ke,Qe)),Ie&&Ve.eachBefore(me),Ve}function we(Ve,Qe){return function(it){it.children&&Me(it,it.x0,Ve*(it.depth+1)/Qe,it.x1,Ve*(it.depth+2)/Qe);var st=it.x0,Wt=it.y0,jt=it.x1-je,Tt=it.y1-je;jt<st&&(st=jt=(st+jt)/2),Tt<Wt&&(Wt=Tt=(Wt+Tt)/2),it.x0=st,it.y0=Wt,it.x1=jt,it.y1=Tt}}return pe.round=function(Ve){return arguments.length?(Ie=!!Ve,pe):Ie},pe.size=function(Ve){return arguments.length?(ze=+Ve[0],ke=+Ve[1],pe):[ze,ke]},pe.padding=function(Ve){return arguments.length?(je=+Ve,pe):je},pe}var Pe="$",be={depth:-1},Ee={};function xe(ze){return ze.id}function Ce(ze){return ze.parentId}function Ue(){var ze=xe,ke=Ce;function je(Ie){var pe,we,Ve=Ie.length,Qe,it,st,Wt=new Array(Ve),jt,Tt,Lt={};for(we=0;we<Ve;++we)pe=Ie[we],st=Wt[we]=new s(pe),(jt=ze(pe,we,Ie))!=null&&(jt+="")&&(Tt=Pe+(st.id=jt),Lt[Tt]=Tt in Lt?Ee:st);for(we=0;we<Ve;++we)if(st=Wt[we],jt=ke(Ie[we],we,Ie),jt==null||!(jt+="")){if(Qe)throw new Error("multiple roots");Qe=st}else{if(it=Lt[Pe+jt],!it)throw new Error("missing: "+jt);if(it===Ee)throw new Error("ambiguous: "+jt);it.children?it.children.push(st):it.children=[st],st.parent=it}if(!Qe)throw new Error("no root");if(Qe.parent=be,Qe.eachBefore(function(Xt){Xt.depth=Xt.parent.depth+1,--Ve}).eachBefore(M),Qe.parent=null,Ve>0)throw new Error("cycle");return Qe}return je.id=function(Ie){return arguments.length?(ze=Y(Ie),je):ze},je.parentId=function(Ie){return arguments.length?(ke=Y(Ie),je):ke},je}function Ne(ze,ke){return ze.parent===ke.parent?1:2}function De(ze){var ke=ze.children;return ke?ke[0]:ze.t}function He(ze){var ke=ze.children;return ke?ke[ke.length-1]:ze.t}function at(ze,ke,je){var Ie=je/(ke.i-ze.i);ke.c-=Ie,ke.s+=je,ze.c+=Ie,ke.z+=je,ke.m+=je}function vt(ze){for(var ke=0,je=0,Ie=ze.children,pe=Ie.length,we;--pe>=0;)we=Ie[pe],we.z+=ke,we.m+=ke,ke+=we.s+(je+=we.c)}function ot(ze,ke,je){return ze.a.parent===ke.parent?ze.a:je}function et(ze,ke){this._=ze,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ke}et.prototype=Object.create(s.prototype);function ct(ze){for(var ke=new et(ze,0),je,Ie=[ke],pe,we,Ve,Qe;je=Ie.pop();)if(we=je._.children)for(je.children=new Array(Qe=we.length),Ve=Qe-1;Ve>=0;--Ve)Ie.push(pe=je.children[Ve]=new et(we[Ve],Ve)),pe.parent=je;return(ke.parent=new et(null,0)).children=[ke],ke}function ht(){var ze=Ne,ke=1,je=1,Ie=null;function pe(st){var Wt=ct(st);if(Wt.eachAfter(we),Wt.parent.m=-Wt.z,Wt.eachBefore(Ve),Ie)st.eachBefore(it);else{var jt=st,Tt=st,Lt=st;st.eachBefore(function(Jt){Jt.x<jt.x&&(jt=Jt),Jt.x>Tt.x&&(Tt=Jt),Jt.depth>Lt.depth&&(Lt=Jt)});var Xt=jt===Tt?1:ze(jt,Tt)/2,Tr=Xt-jt.x,yt=ke/(Tt.x+Xt+Tr),Kt=je/(Lt.depth||1);st.eachBefore(function(Jt){Jt.x=(Jt.x+Tr)*yt,Jt.y=Jt.depth*Kt})}return st}function we(st){var Wt=st.children,jt=st.parent.children,Tt=st.i?jt[st.i-1]:null;if(Wt){vt(st);var Lt=(Wt[0].z+Wt[Wt.length-1].z)/2;Tt?(st.z=Tt.z+ze(st._,Tt._),st.m=st.z-Lt):st.z=Lt}else Tt&&(st.z=Tt.z+ze(st._,Tt._));st.parent.A=Qe(st,Tt,st.parent.A||jt[0])}function Ve(st){st._.x=st.z+st.parent.m,st.m+=st.parent.m}function Qe(st,Wt,jt){if(Wt){for(var Tt=st,Lt=st,Xt=Wt,Tr=Tt.parent.children[0],yt=Tt.m,Kt=Lt.m,Jt=Xt.m,yr=Tr.m,ur;Xt=He(Xt),Tt=De(Tt),Xt&&Tt;)Tr=De(Tr),Lt=He(Lt),Lt.a=st,ur=Xt.z+Jt-Tt.z-yt+ze(Xt._,Tt._),ur>0&&(at(ot(Xt,st,jt),st,ur),yt+=ur,Kt+=ur),Jt+=Xt.m,yt+=Tt.m,yr+=Tr.m,Kt+=Lt.m;Xt&&!He(Lt)&&(Lt.t=Xt,Lt.m+=Jt-Kt),Tt&&!De(Tr)&&(Tr.t=Tt,Tr.m+=yt-yr,jt=st)}return jt}function it(st){st.x*=ke,st.y=st.depth*je}return pe.separation=function(st){return arguments.length?(ze=st,pe):ze},pe.size=function(st){return arguments.length?(Ie=!1,ke=+st[0],je=+st[1],pe):Ie?null:[ke,je]},pe.nodeSize=function(st){return arguments.length?(Ie=!0,ke=+st[0],je=+st[1],pe):Ie?[ke,je]:null},pe}function gt(ze,ke,je,Ie,pe){for(var we=ze.children,Ve,Qe=-1,it=we.length,st=ze.value&&(pe-je)/ze.value;++Qe<it;)Ve=we[Qe],Ve.x0=ke,Ve.x1=Ie,Ve.y0=je,Ve.y1=je+=Ve.value*st}var xt=(1+Math.sqrt(5))/2;function Mt(ze,ke,je,Ie,pe,we){for(var Ve=[],Qe=ke.children,it,st,Wt=0,jt=0,Tt=Qe.length,Lt,Xt,Tr=ke.value,yt,Kt,Jt,yr,ur,mt,lt;Wt<Tt;){Lt=pe-je,Xt=we-Ie;do yt=Qe[jt++].value;while(!yt&&jt<Tt);for(Kt=Jt=yt,mt=Math.max(Xt/Lt,Lt/Xt)/(Tr*ze),lt=yt*yt*mt,ur=Math.max(Jt/lt,lt/Kt);jt<Tt;++jt){if(yt+=st=Qe[jt].value,st<Kt&&(Kt=st),st>Jt&&(Jt=st),lt=yt*yt*mt,yr=Math.max(Jt/lt,lt/Kt),yr>ur){yt-=st;break}ur=yr}Ve.push(it={value:yt,dice:Lt<Xt,children:Qe.slice(Wt,jt)}),it.dice?Me(it,je,Ie,pe,Tr?Ie+=Xt*yt/Tr:we):gt(it,je,Ie,Tr?je+=Lt*yt/Tr:pe,we),Tr-=yt,Wt=jt}return Ve}var tt=function ze(ke){function je(Ie,pe,we,Ve,Qe){Mt(ke,Ie,pe,we,Ve,Qe)}return je.ratio=function(Ie){return ze((Ie=+Ie)>1?Ie:1)},je}(xt);function Oe(){var ze=tt,ke=!1,je=1,Ie=1,pe=[0],we=oe,Ve=oe,Qe=oe,it=oe,st=oe;function Wt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=je,Tt.y1=Ie,Tt.eachBefore(jt),pe=[0],ke&&Tt.eachBefore(me),Tt}function jt(Tt){var Lt=pe[Tt.depth],Xt=Tt.x0+Lt,Tr=Tt.y0+Lt,yt=Tt.x1-Lt,Kt=Tt.y1-Lt;yt<Xt&&(Xt=yt=(Xt+yt)/2),Kt<Tr&&(Tr=Kt=(Tr+Kt)/2),Tt.x0=Xt,Tt.y0=Tr,Tt.x1=yt,Tt.y1=Kt,Tt.children&&(Lt=pe[Tt.depth+1]=we(Tt)/2,Xt+=st(Tt)-Lt,Tr+=Ve(Tt)-Lt,yt-=Qe(Tt)-Lt,Kt-=it(Tt)-Lt,yt<Xt&&(Xt=yt=(Xt+yt)/2),Kt<Tr&&(Tr=Kt=(Tr+Kt)/2),ze(Tt,Xt,Tr,yt,Kt))}return Wt.round=function(Tt){return arguments.length?(ke=!!Tt,Wt):ke},Wt.size=function(Tt){return arguments.length?(je=+Tt[0],Ie=+Tt[1],Wt):[je,Ie]},Wt.tile=function(Tt){return arguments.length?(ze=Y(Tt),Wt):ze},Wt.padding=function(Tt){return arguments.length?Wt.paddingInner(Tt).paddingOuter(Tt):Wt.paddingInner()},Wt.paddingInner=function(Tt){return arguments.length?(we=typeof Tt=="function"?Tt:le(+Tt),Wt):we},Wt.paddingOuter=function(Tt){return arguments.length?Wt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Wt.paddingTop()},Wt.paddingTop=function(Tt){return arguments.length?(Ve=typeof Tt=="function"?Tt:le(+Tt),Wt):Ve},Wt.paddingRight=function(Tt){return arguments.length?(Qe=typeof Tt=="function"?Tt:le(+Tt),Wt):Qe},Wt.paddingBottom=function(Tt){return arguments.length?(it=typeof Tt=="function"?Tt:le(+Tt),Wt):it},Wt.paddingLeft=function(Tt){return arguments.length?(st=typeof Tt=="function"?Tt:le(+Tt),Wt):st},Wt}function Xe(ze,ke,je,Ie,pe){var we=ze.children,Ve,Qe=we.length,it,st=new Array(Qe+1);for(st[0]=it=Ve=0;Ve<Qe;++Ve)st[Ve+1]=it+=we[Ve].value;Wt(0,Qe,ze.value,ke,je,Ie,pe);function Wt(jt,Tt,Lt,Xt,Tr,yt,Kt){if(jt>=Tt-1){var Jt=we[jt];Jt.x0=Xt,Jt.y0=Tr,Jt.x1=yt,Jt.y1=Kt;return}for(var yr=st[jt],ur=Lt/2+yr,mt=jt+1,lt=Tt-1;mt<lt;){var bt=mt+lt>>>1;st[bt]<ur?mt=bt+1:lt=bt}ur-st[mt-1]<st[mt]-ur&&jt+1<mt&&--mt;var Et=st[mt]-yr,It=Lt-Et;if(yt-Xt>Kt-Tr){var Ht=(Xt*It+yt*Et)/Lt;Wt(jt,mt,Et,Xt,Tr,Ht,Kt),Wt(mt,Tt,It,Ht,Tr,yt,Kt)}else{var Ut=(Tr*It+Kt*Et)/Lt;Wt(jt,mt,Et,Xt,Tr,yt,Ut),Wt(mt,Tt,It,Xt,Ut,yt,Kt)}}}function Ze(ze,ke,je,Ie,pe){(ze.depth&1?gt:Me)(ze,ke,je,Ie,pe)}var We=function ze(ke){function je(Ie,pe,we,Ve,Qe){if((it=Ie._squarify)&&it.ratio===ke)for(var it,st,Wt,jt,Tt=-1,Lt,Xt=it.length,Tr=Ie.value;++Tt<Xt;){for(st=it[Tt],Wt=st.children,jt=st.value=0,Lt=Wt.length;jt<Lt;++jt)st.value+=Wt[jt].value;st.dice?Me(st,pe,we,Ve,we+=(Qe-we)*st.value/Tr):gt(st,pe,we,pe+=(Ve-pe)*st.value/Tr,Qe),Tr-=st.value}else Ie._squarify=it=Mt(ke,Ie,pe,we,Ve,Qe),it.ratio=ke}return je.ratio=function(Ie){return ze((Ie=+Ie)>1?Ie:1)},je}(xt)},10132:function(G,H,e){e.d(H,{ak:function(){return h}});var g=Math.PI,R=2*g,i=1e-6,C=R-i;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,o,p){this._+="Q"+ +T+","+ +c+","+(this._x1=+o)+","+(this._y1=+p)},bezierCurveTo:function(T,c,o,p,x,b){this._+="C"+ +T+","+ +c+","+ +o+","+ +p+","+(this._x1=+x)+","+(this._y1=+b)},arcTo:function(T,c,o,p,x){T=+T,c=+c,o=+o,p=+p,x=+x;var b=this._x1,P=this._y1,m=o-T,L=p-c,M=b-T,s=P-c,E=M*M+s*s;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(E>i)if(!(Math.abs(s*m-L*M)>i)||!x)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var w=o-b,_=p-P,D=m*m+L*L,N=w*w+_*_,z=Math.sqrt(D),F=Math.sqrt(E),U=x*Math.tan((g-Math.acos((D+E-N)/(2*z*F)))/2),B=U/F,V=U/z;Math.abs(B-1)>i&&(this._+="L"+(T+B*M)+","+(c+B*s)),this._+="A"+x+","+x+",0,0,"+ +(s*w>M*_)+","+(this._x1=T+V*m)+","+(this._y1=c+V*L)}},arc:function(T,c,o,p,x,b){T=+T,c=+c,o=+o,b=!!b;var P=o*Math.cos(p),m=o*Math.sin(p),L=T+P,M=c+m,s=1^b,E=b?p-x:x-p;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+L+","+M:(Math.abs(this._x1-L)>i||Math.abs(this._y1-M)>i)&&(this._+="L"+L+","+M),o&&(E<0&&(E=E%R+R),E>C?this._+="A"+o+","+o+",0,1,"+s+","+(T-P)+","+(c-m)+"A"+o+","+o+",0,1,"+s+","+(this._x1=L)+","+(this._y1=M):E>i&&(this._+="A"+o+","+o+",0,"+ +(E>=g)+","+s+","+(this._x1=T+o*Math.cos(x))+","+(this._y1=c+o*Math.sin(x))))},rect:function(T,c,o,p){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +p+"h"+-o+"Z"},toString:function(){return this._}};var d=v,r=Array.prototype.slice;function t(T){return function(){return T}}function a(T){return T[0]}function n(T){return T[1]}function f(T){return T.source}function u(T){return T.target}function l(T){var c=f,o=u,p=a,x=n,b=null;function P(){var m,L=r.call(arguments),M=c.apply(this,L),s=o.apply(this,L);if(b||(b=m=d()),T(b,+p.apply(this,(L[0]=M,L)),+x.apply(this,L),+p.apply(this,(L[0]=s,L)),+x.apply(this,L)),m)return b=null,m+""||null}return P.source=function(m){return arguments.length?(c=m,P):c},P.target=function(m){return arguments.length?(o=m,P):o},P.x=function(m){return arguments.length?(p=typeof m=="function"?m:t(+m),P):p},P.y=function(m){return arguments.length?(x=typeof m=="function"?m:t(+m),P):x},P.context=function(m){return arguments.length?(b=m??null,P):b},P}function y(T,c,o,p,x){T.moveTo(c,o),T.bezierCurveTo(c=(c+p)/2,o,c,x,p,x)}function h(){return l(y)}},94336:function(G,H,e){e.d(H,{Yn:function(){return Xe},m_:function(){return a},E9:function(){return Ze}});var g=e(8208),R=e(58931),i=e(46192),C=e(68936),S=e(32171),v=e(53528);function d(ze){if(0<=ze.y&&ze.y<100){var ke=new Date(-1,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L);return ke.setFullYear(ze.y),ke}return new Date(ze.y,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L)}function r(ze){if(0<=ze.y&&ze.y<100){var ke=new Date(Date.UTC(-1,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L));return ke.setUTCFullYear(ze.y),ke}return new Date(Date.UTC(ze.y,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L))}function t(ze,ke,je){return{y:ze,m:ke,d:je,H:0,M:0,S:0,L:0}}function a(ze){var ke=ze.dateTime,je=ze.date,Ie=ze.time,pe=ze.periods,we=ze.days,Ve=ze.shortDays,Qe=ze.months,it=ze.shortMonths,st=T(pe),Wt=c(pe),jt=T(we),Tt=c(we),Lt=T(Ve),Xt=c(Ve),Tr=T(Qe),yt=c(Qe),Kt=T(it),Jt=c(it),yr={a:Ye,A:Ge,b:zt,B:Dt,c:null,d:Q,e:Q,f:X,H:ee,I:re,j:ue,L:J,m:ne,M:Y,p:Qt,q:nr,Q:Mt,s:tt,S:oe,u:le,U:Z,V:$,w:se,W:ae,x:null,X:null,y:he,Y:me,Z:Me,"%":xt},ur={a:ir,A:tr,b:Ft,B:cr,c:null,d:Te,e:Te,f:Ce,H:Pe,I:be,j:Ee,L:xe,m:Ue,M:Ne,p:pr,q:br,Q:Mt,s:tt,S:De,u:He,U:at,V:vt,w:ot,W:et,x:null,X:null,y:ct,Y:ht,Z:gt,"%":xt},mt={a:Ht,A:Ut,b:Bt,B:$t,c:fr,d:w,e:w,f:U,H:D,I:D,j:_,L:F,m:E,M:N,p:It,q:s,Q:V,s:j,S:z,u:p,U:x,V:b,w:o,W:P,x:Zt,X:vr,y:L,Y:m,Z:M,"%":B};yr.x=lt(je,yr),yr.X=lt(Ie,yr),yr.c=lt(ke,yr),ur.x=lt(je,ur),ur.X=lt(Ie,ur),ur.c=lt(ke,ur);function lt(hr,Vr){return function(Pr){var Ir=[],sn=-1,an=0,En=hr.length,Mn,xr,_r;for(Pr instanceof Date||(Pr=new Date(+Pr));++sn<En;)hr.charCodeAt(sn)===37&&(Ir.push(hr.slice(an,sn)),(xr=n[Mn=hr.charAt(++sn)])!=null?Mn=hr.charAt(++sn):xr=Mn==="e"?" ":"0",(_r=Vr[Mn])&&(Mn=_r(Pr,xr)),Ir.push(Mn),an=sn+1);return Ir.push(hr.slice(an,sn)),Ir.join("")}}function bt(hr,Vr){return function(Pr){var Ir=t(1900,void 0,1),sn=Et(Ir,hr,Pr+="",0),an,En;if(sn!=Pr.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(Vr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(an=r(t(Ir.y,0,1)),En=an.getUTCDay(),an=En>4||En===0?g.ot.ceil(an):(0,g.ot)(an),an=R.c.offset(an,(Ir.V-1)*7),Ir.y=an.getUTCFullYear(),Ir.m=an.getUTCMonth(),Ir.d=an.getUTCDate()+(Ir.w+6)%7):(an=d(t(Ir.y,0,1)),En=an.getDay(),an=En>4||En===0?i.qT.ceil(an):(0,i.qT)(an),an=C.c.offset(an,(Ir.V-1)*7),Ir.y=an.getFullYear(),Ir.m=an.getMonth(),Ir.d=an.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),En="Z"in Ir?r(t(Ir.y,0,1)).getUTCDay():d(t(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(En+5)%7:Ir.w+Ir.U*7-(En+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):d(Ir)}}function Et(hr,Vr,Pr,Ir){for(var sn=0,an=Vr.length,En=Pr.length,Mn,xr;sn<an;){if(Ir>=En)return-1;if(Mn=Vr.charCodeAt(sn++),Mn===37){if(Mn=Vr.charAt(sn++),xr=mt[Mn in n?Vr.charAt(sn++):Mn],!xr||(Ir=xr(hr,Pr,Ir))<0)return-1}else if(Mn!=Pr.charCodeAt(Ir++))return-1}return Ir}function It(hr,Vr,Pr){var Ir=st.exec(Vr.slice(Pr));return Ir?(hr.p=Wt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Ht(hr,Vr,Pr){var Ir=Lt.exec(Vr.slice(Pr));return Ir?(hr.w=Xt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Ut(hr,Vr,Pr){var Ir=jt.exec(Vr.slice(Pr));return Ir?(hr.w=Tt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Bt(hr,Vr,Pr){var Ir=Kt.exec(Vr.slice(Pr));return Ir?(hr.m=Jt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function $t(hr,Vr,Pr){var Ir=Tr.exec(Vr.slice(Pr));return Ir?(hr.m=yt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function fr(hr,Vr,Pr){return Et(hr,ke,Vr,Pr)}function Zt(hr,Vr,Pr){return Et(hr,je,Vr,Pr)}function vr(hr,Vr,Pr){return Et(hr,Ie,Vr,Pr)}function Ye(hr){return Ve[hr.getDay()]}function Ge(hr){return we[hr.getDay()]}function zt(hr){return it[hr.getMonth()]}function Dt(hr){return Qe[hr.getMonth()]}function Qt(hr){return pe[+(hr.getHours()>=12)]}function nr(hr){return 1+~~(hr.getMonth()/3)}function ir(hr){return Ve[hr.getUTCDay()]}function tr(hr){return we[hr.getUTCDay()]}function Ft(hr){return it[hr.getUTCMonth()]}function cr(hr){return Qe[hr.getUTCMonth()]}function pr(hr){return pe[+(hr.getUTCHours()>=12)]}function br(hr){return 1+~~(hr.getUTCMonth()/3)}return{format:function(hr){var Vr=lt(hr+="",yr);return Vr.toString=function(){return hr},Vr},parse:function(hr){var Vr=bt(hr+="",!1);return Vr.toString=function(){return hr},Vr},utcFormat:function(hr){var Vr=lt(hr+="",ur);return Vr.toString=function(){return hr},Vr},utcParse:function(hr){var Vr=bt(hr+="",!0);return Vr.toString=function(){return hr},Vr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function y(ze,ke,je){var Ie=ze<0?"-":"",pe=(Ie?-ze:ze)+"",we=pe.length;return Ie+(we<je?new Array(je-we+1).join(ke)+pe:pe)}function h(ze){return ze.replace(l,"\\$&")}function T(ze){return new RegExp("^(?:"+ze.map(h).join("|")+")","i")}function c(ze){for(var ke={},je=-1,Ie=ze.length;++je<Ie;)ke[ze[je].toLowerCase()]=je;return ke}function o(ze,ke,je){var Ie=f.exec(ke.slice(je,je+1));return Ie?(ze.w=+Ie[0],je+Ie[0].length):-1}function p(ze,ke,je){var Ie=f.exec(ke.slice(je,je+1));return Ie?(ze.u=+Ie[0],je+Ie[0].length):-1}function x(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.U=+Ie[0],je+Ie[0].length):-1}function b(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.V=+Ie[0],je+Ie[0].length):-1}function P(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.W=+Ie[0],je+Ie[0].length):-1}function m(ze,ke,je){var Ie=f.exec(ke.slice(je,je+4));return Ie?(ze.y=+Ie[0],je+Ie[0].length):-1}function L(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.y=+Ie[0]+(+Ie[0]>68?1900:2e3),je+Ie[0].length):-1}function M(ze,ke,je){var Ie=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ke.slice(je,je+6));return Ie?(ze.Z=Ie[1]?0:-(Ie[2]+(Ie[3]||"00")),je+Ie[0].length):-1}function s(ze,ke,je){var Ie=f.exec(ke.slice(je,je+1));return Ie?(ze.q=Ie[0]*3-3,je+Ie[0].length):-1}function E(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.m=Ie[0]-1,je+Ie[0].length):-1}function w(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.d=+Ie[0],je+Ie[0].length):-1}function _(ze,ke,je){var Ie=f.exec(ke.slice(je,je+3));return Ie?(ze.m=0,ze.d=+Ie[0],je+Ie[0].length):-1}function D(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.H=+Ie[0],je+Ie[0].length):-1}function N(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.M=+Ie[0],je+Ie[0].length):-1}function z(ze,ke,je){var Ie=f.exec(ke.slice(je,je+2));return Ie?(ze.S=+Ie[0],je+Ie[0].length):-1}function F(ze,ke,je){var Ie=f.exec(ke.slice(je,je+3));return Ie?(ze.L=+Ie[0],je+Ie[0].length):-1}function U(ze,ke,je){var Ie=f.exec(ke.slice(je,je+6));return Ie?(ze.L=Math.floor(Ie[0]/1e3),je+Ie[0].length):-1}function B(ze,ke,je){var Ie=u.exec(ke.slice(je,je+1));return Ie?je+Ie[0].length:-1}function V(ze,ke,je){var Ie=f.exec(ke.slice(je));return Ie?(ze.Q=+Ie[0],je+Ie[0].length):-1}function j(ze,ke,je){var Ie=f.exec(ke.slice(je));return Ie?(ze.s=+Ie[0],je+Ie[0].length):-1}function Q(ze,ke){return y(ze.getDate(),ke,2)}function ee(ze,ke){return y(ze.getHours(),ke,2)}function re(ze,ke){return y(ze.getHours()%12||12,ke,2)}function ue(ze,ke){return y(1+C.c.count((0,S.c)(ze),ze),ke,3)}function J(ze,ke){return y(ze.getMilliseconds(),ke,3)}function X(ze,ke){return J(ze,ke)+"000"}function ne(ze,ke){return y(ze.getMonth()+1,ke,2)}function Y(ze,ke){return y(ze.getMinutes(),ke,2)}function oe(ze,ke){return y(ze.getSeconds(),ke,2)}function le(ze){var ke=ze.getDay();return ke===0?7:ke}function Z(ze,ke){return y(i.uU.count((0,S.c)(ze)-1,ze),ke,2)}function $(ze,ke){var je=ze.getDay();return ze=je>=4||je===0?(0,i.kD)(ze):i.kD.ceil(ze),y(i.kD.count((0,S.c)(ze),ze)+((0,S.c)(ze).getDay()===4),ke,2)}function se(ze){return ze.getDay()}function ae(ze,ke){return y(i.qT.count((0,S.c)(ze)-1,ze),ke,2)}function he(ze,ke){return y(ze.getFullYear()%100,ke,2)}function me(ze,ke){return y(ze.getFullYear()%1e4,ke,4)}function Me(ze){var ke=ze.getTimezoneOffset();return(ke>0?"-":(ke*=-1,"+"))+y(ke/60|0,"0",2)+y(ke%60,"0",2)}function Te(ze,ke){return y(ze.getUTCDate(),ke,2)}function Pe(ze,ke){return y(ze.getUTCHours(),ke,2)}function be(ze,ke){return y(ze.getUTCHours()%12||12,ke,2)}function Ee(ze,ke){return y(1+R.c.count((0,v.c)(ze),ze),ke,3)}function xe(ze,ke){return y(ze.getUTCMilliseconds(),ke,3)}function Ce(ze,ke){return xe(ze,ke)+"000"}function Ue(ze,ke){return y(ze.getUTCMonth()+1,ke,2)}function Ne(ze,ke){return y(ze.getUTCMinutes(),ke,2)}function De(ze,ke){return y(ze.getUTCSeconds(),ke,2)}function He(ze){var ke=ze.getUTCDay();return ke===0?7:ke}function at(ze,ke){return y(g.EV.count((0,v.c)(ze)-1,ze),ke,2)}function vt(ze,ke){var je=ze.getUTCDay();return ze=je>=4||je===0?(0,g.yA)(ze):g.yA.ceil(ze),y(g.yA.count((0,v.c)(ze),ze)+((0,v.c)(ze).getUTCDay()===4),ke,2)}function ot(ze){return ze.getUTCDay()}function et(ze,ke){return y(g.ot.count((0,v.c)(ze)-1,ze),ke,2)}function ct(ze,ke){return y(ze.getUTCFullYear()%100,ke,2)}function ht(ze,ke){return y(ze.getUTCFullYear()%1e4,ke,4)}function gt(){return"+0000"}function xt(){return"%"}function Mt(ze){return+ze}function tt(ze){return Math.floor(+ze/1e3)}var Oe,Xe,Ze;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(ze){return Oe=a(ze),Xe=Oe.format,Oe.parse,Ze=Oe.utcFormat,Oe.utcParse,Oe}},68936:function(G,H,e){e.d(H,{m:function(){return C}});var g=e(81628),R=e(69792),i=(0,g.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*R.iy)/R.SK},function(S){return S.getDate()-1});H.c=i;var C=i.range},69792:function(G,H,e){e.d(H,{KK:function(){return S},SK:function(){return C},cg:function(){return i},iy:function(){return R},yc:function(){return g}});var g=1e3,R=6e4,i=36e5,C=864e5,S=6048e5},73220:function(G,H,e){e.r(H),e.d(H,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return g.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return C},timeMinute:function(){return a},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return d},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return L},utcHours:function(){return M},utcMillisecond:function(){return i},utcMilliseconds:function(){return C},utcMinute:function(){return b},utcMinutes:function(){return P},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return _},utcMonths:function(){return D},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return d},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var g=e(81628),R=(0,g.c)(function(){},function(z,F){z.setTime(+z+F)},function(z,F){return F-z});R.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,g.c)(function(F){F.setTime(Math.floor(F/z)*z)},function(F,U){F.setTime(+F+U*z)},function(F,U){return(U-F)/z}):R};var i=R,C=R.range,S=e(69792),v=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,F){z.setTime(+z+F*S.yc)},function(z,F){return(F-z)/S.yc},function(z){return z.getUTCSeconds()}),d=v,r=v.range,t=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*S.yc)},function(z,F){z.setTime(+z+F*S.iy)},function(z,F){return(F-z)/S.iy},function(z){return z.getMinutes()}),a=t,n=t.range,f=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*S.yc-z.getMinutes()*S.iy)},function(z,F){z.setTime(+z+F*S.cg)},function(z,F){return(F-z)/S.cg},function(z){return z.getHours()}),u=f,l=f.range,y=e(68936),h=e(46192),T=(0,g.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,F){z.setMonth(z.getMonth()+F)},function(z,F){return F.getMonth()-z.getMonth()+(F.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),c=T,o=T.range,p=e(32171),x=(0,g.c)(function(z){z.setUTCSeconds(0,0)},function(z,F){z.setTime(+z+F*S.iy)},function(z,F){return(F-z)/S.iy},function(z){return z.getUTCMinutes()}),b=x,P=x.range,m=(0,g.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,F){z.setTime(+z+F*S.cg)},function(z,F){return(F-z)/S.cg},function(z){return z.getUTCHours()}),L=m,M=m.range,s=e(58931),E=e(8208),w=(0,g.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCMonth(z.getUTCMonth()+F)},function(z,F){return F.getUTCMonth()-z.getUTCMonth()+(F.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),_=w,D=w.range,N=e(53528)},81628:function(G,H,e){e.d(H,{c:function(){return i}});var g=new Date,R=new Date;function i(C,S,v,d){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),S(t,1),C(t),t},r.round=function(t){var a=r(t),n=r.ceil(t);return t-a<n-t?a:n},r.offset=function(t,a){return S(t=new Date(+t),a==null?1:Math.floor(a)),t},r.range=function(t,a,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<a)||!(n>0))return f;do f.push(u=new Date(+t)),S(t,n),C(t);while(u<t&&t<a);return f},r.filter=function(t){return i(function(a){if(a>=a)for(;C(a),!t(a);)a.setTime(a-1)},function(a,n){if(a>=a)if(n<0)for(;++n<=0;)for(;S(a,-1),!t(a););else for(;--n>=0;)for(;S(a,1),!t(a););})},v&&(r.count=function(t,a){return g.setTime(+t),R.setTime(+a),C(g),C(R),Math.floor(v(g,R))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(d?function(a){return d(a)%t===0}:function(a){return r.count(0,a)%t===0}):r}),r}},58931:function(G,H,e){e.d(H,{o:function(){return C}});var g=e(81628),R=e(69792),i=(0,g.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/R.SK},function(S){return S.getUTCDate()-1});H.c=i;var C=i.range},8208:function(G,H,e){e.d(H,{Ad:function(){return a},EV:function(){return C},K8:function(){return T},W_:function(){return l},Wq:function(){return n},_6:function(){return d},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return y},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var g=e(81628),R=e(69792);function i(c){return(0,g.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,p){o.setUTCDate(o.getUTCDate()+p*7)},function(o,p){return(p-o)/R.KK})}var C=i(0),S=i(1),v=i(2),d=i(3),r=i(4),t=i(5),a=i(6),n=C.range,f=S.range,u=v.range,l=d.range,y=r.range,h=t.range,T=a.range},53528:function(G,H,e){e.d(H,{i:function(){return i}});var g=e(81628),R=(0,g.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,S){C.setUTCFullYear(C.getUTCFullYear()+S)},function(C,S){return S.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/C)*C),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*C)})},H.c=R;var i=R.range},46192:function(G,H,e){e.d(H,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return a},aI:function(){return T},eC:function(){return y},eg:function(){return d},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return h},sn:function(){return l},uU:function(){return C}});var g=e(81628),R=e(69792);function i(c){return(0,g.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,p){o.setDate(o.getDate()+p*7)},function(o,p){return(p-o-(p.getTimezoneOffset()-o.getTimezoneOffset())*R.iy)/R.KK})}var C=i(0),S=i(1),v=i(2),d=i(3),r=i(4),t=i(5),a=i(6),n=C.range,f=S.range,u=v.range,l=d.range,y=r.range,h=t.range,T=a.range},32171:function(G,H,e){e.d(H,{Q:function(){return i}});var g=e(81628),R=(0,g.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,S){C.setFullYear(C.getFullYear()+S)},function(C,S){return S.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/C)*C),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*C)})},H.c=R;var i=R.range},64348:function(G,H,e){var g=e(39640)(),R=e(53664),i=g&&R("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch{i=!1}var C=R("%SyntaxError%"),S=R("%TypeError%"),v=e(2304);G.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(i)i(r,t,{configurable:u===null&&y?y.configurable:!u,enumerable:n===null&&y?y.enumerable:!n,value:a,writable:f===null&&y?y.writable:!f});else if(l||!n&&!f&&!u)r[t]=a;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,H,e){var g=e(41820),R=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,C=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},d=e(39640)(),r=S&&d,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?S(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},a=function(n,f){var u=arguments.length>2?arguments[2]:{},l=g(f);R&&(l=C.call(l,Object.getOwnPropertySymbols(f)));for(var y=0;y<l.length;y+=1)t(n,l[y],f[l[y]],u[l[y]])};a.supportsDescriptors=!!r,G.exports=a},31264:function(G){G.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},63768:function(G){G.exports=R;var H=R.canvas=document.createElement("canvas"),e=H.getContext("2d"),g=i([32,126]);R.createPairs=i,R.ascii=g;function R(C,S){Array.isArray(C)&&(C=C.join(", "));var v={},d,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?d=i(S):Array.isArray(S)?d=S:(S.o?d=i(S.o):S.pairs&&(d=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),d||(d=g),e.font=r+"px "+C;for(var a=0;a<d.length;a++){var n=d[a],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function i(C){for(var S=[],v=C[0];v<=C[1];v++)for(var d=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),a=d+t;S.push(a)}return S}},22235:function(G,H,e){var g=e(49972),R=e(48816),i={M:"moveTo",C:"bezierCurveTo"};G.exports=function(C,S){C.beginPath(),R(g(S)).forEach(function(v){var d=v[0],r=v.slice(1);C[i[d]].apply(C,r)}),C.closePath()}},72512:function(G){G.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function H(R,i,C){var S=R[C]|0;if(S<=0)return[];var v=new Array(S),d;if(C===R.length-1)for(d=0;d<S;++d)v[d]=i;else for(d=0;d<S;++d)v[d]=H(R,i,C+1);return v}function e(R,i){var C,S;for(C=new Array(R),S=0;S<R;++S)C[S]=i;return C}function g(R,i){switch(typeof i>"u"&&(i=0),typeof R){case"number":if(R>0)return e(R|0,i);break;case"object":if(typeof R.length=="number")return H(R,i,0);break}return[]}G.exports=g},28912:function(G){G.exports=H,G.exports.default=H;function H(D,N,z){z=z||2;var F=N&&N.length,U=F?N[0]*z:D.length,B=e(D,0,U,z,!0),V=[];if(!B||B.next===B.prev)return V;var j,Q,ee,re,ue,J,X;if(F&&(B=d(D,N,B,z)),D.length>80*z){j=ee=D[0],Q=re=D[1];for(var ne=z;ne<U;ne+=z)ue=D[ne],J=D[ne+1],ue<j&&(j=ue),J<Q&&(Q=J),ue>ee&&(ee=ue),J>re&&(re=J);X=Math.max(ee-j,re-Q),X=X!==0?1/X:0}return R(B,V,z,j,Q,X),V}function e(D,N,z,F,U){var B,V;if(U===_(D,N,z,F)>0)for(B=N;B<z;B+=F)V=s(B,D[B],D[B+1],V);else for(B=z-F;B>=N;B-=F)V=s(B,D[B],D[B+1],V);return V&&o(V,V.next)&&(E(V),V=V.next),V}function g(D,N){if(!D)return D;N||(N=D);var z=D,F;do if(F=!1,!z.steiner&&(o(z,z.next)||c(z.prev,z,z.next)===0)){if(E(z),z=N=z.prev,z===z.next)break;F=!0}else z=z.next;while(F||z!==N);return N}function R(D,N,z,F,U,B,V){if(D){!V&&B&&f(D,F,U,B);for(var j=D,Q,ee;D.prev!==D.next;){if(Q=D.prev,ee=D.next,B?C(D,F,U,B):i(D)){N.push(Q.i/z),N.push(D.i/z),N.push(ee.i/z),E(D),D=ee.next,j=ee.next;continue}if(D=ee,D===j){V?V===1?(D=S(g(D),N,z),R(D,N,z,F,U,B,2)):V===2&&v(D,N,z,F,U,B):R(g(D),N,z,F,U,B,1);break}}}}function i(D){var N=D.prev,z=D,F=D.next;if(c(N,z,F)>=0)return!1;for(var U=D.next.next;U!==D.prev;){if(h(N.x,N.y,z.x,z.y,F.x,F.y,U.x,U.y)&&c(U.prev,U,U.next)>=0)return!1;U=U.next}return!0}function C(D,N,z,F){var U=D.prev,B=D,V=D.next;if(c(U,B,V)>=0)return!1;for(var j=U.x<B.x?U.x<V.x?U.x:V.x:B.x<V.x?B.x:V.x,Q=U.y<B.y?U.y<V.y?U.y:V.y:B.y<V.y?B.y:V.y,ee=U.x>B.x?U.x>V.x?U.x:V.x:B.x>V.x?B.x:V.x,re=U.y>B.y?U.y>V.y?U.y:V.y:B.y>V.y?B.y:V.y,ue=l(j,Q,N,z,F),J=l(ee,re,N,z,F),X=D.prevZ,ne=D.nextZ;X&&X.z>=ue&&ne&&ne.z<=J;){if(X!==D.prev&&X!==D.next&&h(U.x,U.y,B.x,B.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0||(X=X.prevZ,ne!==D.prev&&ne!==D.next&&h(U.x,U.y,B.x,B.y,V.x,V.y,ne.x,ne.y)&&c(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;X&&X.z>=ue;){if(X!==D.prev&&X!==D.next&&h(U.x,U.y,B.x,B.y,V.x,V.y,X.x,X.y)&&c(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;ne&&ne.z<=J;){if(ne!==D.prev&&ne!==D.next&&h(U.x,U.y,B.x,B.y,V.x,V.y,ne.x,ne.y)&&c(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function S(D,N,z){var F=D;do{var U=F.prev,B=F.next.next;!o(U,B)&&p(U,F,F.next,B)&&m(U,B)&&m(B,U)&&(N.push(U.i/z),N.push(F.i/z),N.push(B.i/z),E(F),E(F.next),F=D=B),F=F.next}while(F!==D);return g(F)}function v(D,N,z,F,U,B){var V=D;do{for(var j=V.next.next;j!==V.prev;){if(V.i!==j.i&&T(V,j)){var Q=M(V,j);V=g(V,V.next),Q=g(Q,Q.next),R(V,N,z,F,U,B),R(Q,N,z,F,U,B);return}j=j.next}V=V.next}while(V!==D)}function d(D,N,z,F){var U=[],B,V,j,Q,ee;for(B=0,V=N.length;B<V;B++)j=N[B]*F,Q=B<V-1?N[B+1]*F:D.length,ee=e(D,j,Q,F,!1),ee===ee.next&&(ee.steiner=!0),U.push(y(ee));for(U.sort(r),B=0;B<U.length;B++)t(U[B],z),z=g(z,z.next);return z}function r(D,N){return D.x-N.x}function t(D,N){if(N=a(D,N),N){var z=M(N,D);g(N,N.next),g(z,z.next)}}function a(D,N){var z=N,F=D.x,U=D.y,B=-1/0,V;do{if(U<=z.y&&U>=z.next.y&&z.next.y!==z.y){var j=z.x+(U-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(j<=F&&j>B){if(B=j,j===F){if(U===z.y)return z;if(U===z.next.y)return z.next}V=z.x<z.next.x?z:z.next}}z=z.next}while(z!==N);if(!V)return null;if(F===B)return V;var Q=V,ee=V.x,re=V.y,ue=1/0,J;z=V;do F>=z.x&&z.x>=ee&&F!==z.x&&h(U<re?F:B,U,ee,re,U<re?B:F,U,z.x,z.y)&&(J=Math.abs(U-z.y)/(F-z.x),m(z,D)&&(J<ue||J===ue&&(z.x>V.x||z.x===V.x&&n(V,z)))&&(V=z,ue=J)),z=z.next;while(z!==Q);return V}function n(D,N){return c(D.prev,D,N.prev)<0&&c(N.next,D,D.next)<0}function f(D,N,z,F){var U=D;do U.z===null&&(U.z=l(U.x,U.y,N,z,F)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==D);U.prevZ.nextZ=null,U.prevZ=null,u(U)}function u(D){var N,z,F,U,B,V,j,Q,ee=1;do{for(z=D,D=null,B=null,V=0;z;){for(V++,F=z,j=0,N=0;N<ee&&(j++,F=F.nextZ,!!F);N++);for(Q=ee;j>0||Q>0&&F;)j!==0&&(Q===0||!F||z.z<=F.z)?(U=z,z=z.nextZ,j--):(U=F,F=F.nextZ,Q--),B?B.nextZ=U:D=U,U.prevZ=B,B=U;z=F}B.nextZ=null,ee*=2}while(V>1);return D}function l(D,N,z,F,U){return D=32767*(D-z)*U,N=32767*(N-F)*U,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,D|N<<1}function y(D){var N=D,z=D;do(N.x<z.x||N.x===z.x&&N.y<z.y)&&(z=N),N=N.next;while(N!==D);return z}function h(D,N,z,F,U,B,V,j){return(U-V)*(N-j)-(D-V)*(B-j)>=0&&(D-V)*(F-j)-(z-V)*(N-j)>=0&&(z-V)*(B-j)-(U-V)*(F-j)>=0}function T(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!P(D,N)&&(m(D,N)&&m(N,D)&&L(D,N)&&(c(D.prev,D,N.prev)||c(D,N.prev,N))||o(D,N)&&c(D.prev,D,D.next)>0&&c(N.prev,N,N.next)>0)}function c(D,N,z){return(N.y-D.y)*(z.x-N.x)-(N.x-D.x)*(z.y-N.y)}function o(D,N){return D.x===N.x&&D.y===N.y}function p(D,N,z,F){var U=b(c(D,N,z)),B=b(c(D,N,F)),V=b(c(z,F,D)),j=b(c(z,F,N));return!!(U!==B&&V!==j||U===0&&x(D,z,N)||B===0&&x(D,F,N)||V===0&&x(z,D,F)||j===0&&x(z,N,F))}function x(D,N,z){return N.x<=Math.max(D.x,z.x)&&N.x>=Math.min(D.x,z.x)&&N.y<=Math.max(D.y,z.y)&&N.y>=Math.min(D.y,z.y)}function b(D){return D>0?1:D<0?-1:0}function P(D,N){var z=D;do{if(z.i!==D.i&&z.next.i!==D.i&&z.i!==N.i&&z.next.i!==N.i&&p(z,z.next,D,N))return!0;z=z.next}while(z!==D);return!1}function m(D,N){return c(D.prev,D,D.next)<0?c(D,N,D.next)>=0&&c(D,D.prev,N)>=0:c(D,N,D.prev)<0||c(D,D.next,N)<0}function L(D,N){var z=D,F=!1,U=(D.x+N.x)/2,B=(D.y+N.y)/2;do z.y>B!=z.next.y>B&&z.next.y!==z.y&&U<(z.next.x-z.x)*(B-z.y)/(z.next.y-z.y)+z.x&&(F=!F),z=z.next;while(z!==D);return F}function M(D,N){var z=new w(D.i,D.x,D.y),F=new w(N.i,N.x,N.y),U=D.next,B=N.prev;return D.next=N,N.prev=D,z.next=U,U.prev=z,F.next=z,z.prev=F,B.next=F,F.prev=B,F}function s(D,N,z,F){var U=new w(D,N,z);return F?(U.next=F.next,U.prev=F,F.next.prev=U,F.next=U):(U.prev=U,U.next=U),U}function E(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function w(D,N,z){this.i=D,this.x=N,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(D,N,z,F){var U=N&&N.length,B=U?N[0]*z:D.length,V=Math.abs(_(D,0,B,z));if(U)for(var j=0,Q=N.length;j<Q;j++){var ee=N[j]*z,re=j<Q-1?N[j+1]*z:D.length;V-=Math.abs(_(D,ee,re,z))}var ue=0;for(j=0;j<F.length;j+=3){var J=F[j]*z,X=F[j+1]*z,ne=F[j+2]*z;ue+=Math.abs((D[J]-D[ne])*(D[X+1]-D[J+1])-(D[J]-D[X])*(D[ne+1]-D[J+1]))}return V===0&&ue===0?0:Math.abs((ue-V)/V)};function _(D,N,z,F){for(var U=0,B=N,V=z-F;B<z;B+=F)U+=(D[V]-D[B])*(D[B+1]+D[V+1]),V=B;return U}H.flatten=function(D){for(var N=D[0][0].length,z={vertices:[],holes:[],dimensions:N},F=0,U=0;U<D.length;U++){for(var B=0;B<D[U].length;B++)for(var V=0;V<N;V++)z.vertices.push(D[U][B][V]);U>0&&(F+=D[U-1].length,z.holes.push(F))}return z}},6688:function(G,H,e){var g=e(78484);G.exports=function(i,C){var S=[],v=[],d=[],r={},t=[],a;function n(x){d[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(b){delete r[x][b],d[b]&&n(b)})}function f(x){var b=!1;v.push(x),d[x]=!0;var P,m;for(P=0;P<t[x].length;P++)m=t[x][P],m===a?(u(a,v),b=!0):d[m]||(b=f(m));if(b)n(x);else for(P=0;P<t[x].length;P++){m=t[x][P];var L=r[m];L||(L={},r[m]=L),L[m]=!0}return v.pop(),b}function u(x,b){var P=[].concat(b).concat(x);C?C(f):S.push(P)}function l(x){for(var b=0;b<i.length;b++)b<x&&(i[b]=[]),i[b]=i[b].filter(function(P){return P>=x})}function y(x){l(x);for(var b=i,P=g(b),m=P.components.filter(function(D){return D.length>1}),L=1/0,M,s=0;s<m.length;s++)for(var E=0;E<m[s].length;E++)m[s][E]<L&&(L=m[s][E],M=s);var w=m[M];if(!w)return!1;var _=i.map(function(D,N){return w.indexOf(N)===-1?[]:D.filter(function(z){return w.indexOf(z)!==-1})});return{leastVertex:L,adjList:_}}a=0;for(var h=i.length;a<h;){var T=y(a);if(a=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var p=t[c][o];d[+p]=!1,r[p]={}}f(a),a=a+1}else a=h}if(!C)return S}},41476:function(G,H,e){var g=e(9252);G.exports=function(){return g(this).length=0,this}},74772:function(G,H,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var H=Array.from,e,g;return typeof H!="function"?!1:(e=["raz","dwa"],g=H(e),!!(g&&g!==e&&g[1]==="dwa"))}},80816:function(G,H,e){var g=e(92664).iterator,R=e(60948),i=e(17024),C=e(81304),S=e(34044),v=e(9252),d=e(42584),r=e(29768),t=Array.isArray,a=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;G.exports=function(u){var l=arguments[1],y=arguments[2],h,T,c,o,p,x,b,P,m,L;if(u=Object(v(u)),d(l)&&S(l),!this||this===Array||!i(this)){if(!l){if(R(u))return p=u.length,p!==1?Array.apply(null,u):(o=new Array(1),o[0]=u[0],o);if(t(u)){for(o=new Array(p=u.length),T=0;T<p;++T)o[T]=u[T];return o}}o=[]}else h=this;if(!t(u)){if((m=u[g])!==void 0){for(b=S(m).call(u),h&&(o=new h),P=b.next(),T=0;!P.done;)L=l?a.call(l,y,P.value,T):P.value,h?(n.value=L,f(o,T,n)):o[T]=L,P=b.next(),++T;p=T}else if(r(u)){for(p=u.length,h&&(o=new h),T=0,c=0;T<p;++T)L=u[T],T+1<p&&(x=L.charCodeAt(0),x>=55296&&x<=56319&&(L+=u[++T])),L=l?a.call(l,y,L,c):L,h?(n.value=L,f(o,c,n)):o[c]=L,++c;p=c}}if(p===void 0)for(p=C(u.length),h&&(o=new h(p)),T=0;T<p;++T)L=l?a.call(l,y,u[T],T):u[T],h?(n.value=L,f(o,T,n)):o[T]=L;return h&&(n.value=null,o.length=p),o}},60948:function(G){var H=Object.prototype.toString,e=H.call(function(){return arguments}());G.exports=function(g){return H.call(g)===e}},17024:function(G){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(g){return typeof g=="function"&&e(H.call(g))}},33208:function(G){G.exports=function(){}},85608:function(G,H,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},92928:function(G){G.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},96936:function(G,H,e){var g=e(85608),R=Math.abs,i=Math.floor;G.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:g(C)*i(R(C)))}},81304:function(G,H,e){var g=e(96936),R=Math.max;G.exports=function(i){return R(0,g(i))}},14428:function(G,H,e){var g=e(34044),R=e(9252),i=Function.prototype.bind,C=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(d,r){return function(t,a){var n,f=arguments[2],u=arguments[3];return t=Object(R(t)),g(a),n=S(t),u&&n.sort(typeof u=="function"?i.call(u,t):void 0),typeof d!="function"&&(d=n[d]),C.call(d,n,function(l,y){return v.call(t,l)?C.call(a,f,t[l],l,t,y):r})}}},38452:function(G,H,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,H,e){var g=e(54768),R=e(9252),i=Math.max;G.exports=function(C,S){var v,d,r=i(arguments.length,2),t;for(C=Object(R(C)),t=function(a){try{C[a]=S[a]}catch(n){v||(v=n)}},d=1;d<r;++d)S=arguments[d],g(S).forEach(t);if(v!==void 0)throw v;return C}},95920:function(G,H,e){var g=e(74772),R=e(38452),i=e(9252);G.exports=function(C){var S=Object(i(C)),v=arguments[1],d=Object(arguments[2]);if(S!==C&&!v)return S;var r={};return v?g(v,function(t){(d.ensure||t in C)&&(r[t]=C[t])}):R(r,C),r}},14452:function(G,H,e){var g=Object.create,R;e(63092)()||(R=e(8672)),G.exports=function(){var i,C,S;return!R||R.level!==1?g:(i={},C={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=S}),Object.defineProperties(i,C),Object.defineProperty(R,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,d){return g(v===null?i:v,d)})}()},42748:function(G,H,e){G.exports=e(14428)("forEach")},69127:function(G,H,e){var g=e(42584),R={function:!0,object:!0};G.exports=function(i){return g(i)&&R[typeof i]||!1}},42584:function(G,H,e){var g=e(33208)();G.exports=function(R){return R!==g&&R!==null}},54768:function(G,H,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,H,e){var g=e(42584),R=Object.keys;G.exports=function(i){return R(g(i)?Object(i):i)}},84323:function(G,H,e){var g=e(34044),R=e(42748),i=Function.prototype.call;G.exports=function(C,S){var v={},d=arguments[2];return g(S),R(C,function(r,t,a,n){v[t]=i.call(S,d,r,t,a,n)}),v}},50868:function(G,H,e){var g=e(42584),R=Array.prototype.forEach,i=Object.create,C=function(S,v){var d;for(d in S)v[d]=S[d]};G.exports=function(S){var v=i(null);return R.call(arguments,function(d){g(d)&&C(Object(d),v)}),v}},69932:function(G,H,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var H=Object.create,e=Object.getPrototypeOf,g={};G.exports=function(){var R=Object.setPrototypeOf,i=arguments[0]||H;return typeof R!="function"?!1:e(R(i(null),g))===g}},8672:function(G,H,e){var g=e(69127),R=e(9252),i=Object.prototype.isPrototypeOf,C=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(d,r){if(R(d),r===null||g(r))return d;throw new TypeError("Prototype must be null or an object")},G.exports=function(d){var r,t;return d?(d.level===2?d.set?(t=d.set,r=function(a,n){return t.call(v(a,n),n),a}):r=function(a,n){return v(a,n).__proto__=n,a}:r=function a(n,f){var u;return v(n,f),u=i.call(a.nullPolyfill,n),u&&delete a.nullPolyfill.__proto__,f===null&&(f=a.nullPolyfill),n.__proto__=f,u&&C(a.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:d.level})):null}(function(){var d=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(d,r)}catch{}if(Object.getPrototypeOf(d)===r)return{set:t,level:2}}return d.__proto__=r,Object.getPrototypeOf(d)===r?{level:2}:(d={},d.__proto__=r,Object.getPrototypeOf(d)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},92584:function(G,H,e){var g=e(69127);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not an Object");return R}},9252:function(G,H,e){var g=e(42584);G.exports=function(R){if(!g(R))throw new TypeError("Cannot use null or undefined");return R}},71056:function(G,H,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var H="razdwatrzy";G.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},93040:function(G){var H=String.prototype.indexOf;G.exports=function(e){return H.call(this,e,arguments[1])>-1}},29768:function(G){var H=Object.prototype.toString,e=H.call("");G.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||H.call(g)===e)||!1}},82252:function(G){var H=Object.create(null),e=Math.random;G.exports=function(){var g;do g=e().toString(36).slice(2);while(H[g]);return g}},52104:function(G,H,e){var g=e(69932),R=e(71056),i=e(21092),C=e(92664),S=e(85512),v=Object.defineProperty,d;d=G.exports=function(r,t){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?R.call(t,"key+value")?t="key+value":R.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",i("",t))},g&&g(d,S),delete d.prototype.constructor,d.prototype=Object.create(S.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(d.prototype,C.toStringTag,i("c","Array Iterator"))},76024:function(G,H,e){var g=e(60948),R=e(34044),i=e(29768),C=e(76252),S=Array.isArray,v=Function.prototype.call,d=Array.prototype.some;G.exports=function(r,t){var a,n=arguments[2],f,u,l,y,h,T,c;if(S(r)||g(r)?a="array":i(r)?a="string":r=C(r),R(t),u=function(){l=!0},a==="array"){d.call(r,function(o){return v.call(t,n,o,u),l});return}if(a==="string"){for(h=r.length,y=0;y<h&&(T=r[y],y+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++y])),v.call(t,n,T,u),!l);++y);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(G,H,e){var g=e(60948),R=e(29768),i=e(52104),C=e(80940),S=e(52891),v=e(92664).iterator;G.exports=function(d){return typeof S(d)[v]=="function"?d[v]():g(d)?new i(d):R(d)?new C(d):new i(d)}},85512:function(G,H,e){var g=e(41476),R=e(38452),i=e(34044),C=e(9252),S=e(21092),v=e(27940),d=e(92664),r=Object.defineProperty,t=Object.defineProperties,a;G.exports=a=function(n,f){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",C(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(i(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete a.prototype.constructor,t(a.prototype,R({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:S(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(a.prototype,d.iterator,S(function(){return this}))},76368:function(G,H,e){var g=e(60948),R=e(42584),i=e(29768),C=e(92664).iterator,S=Array.isArray;G.exports=function(v){return R(v)?S(v)||i(v)||g(v)?!0:typeof v[C]=="function":!1}},80940:function(G,H,e){var g=e(69932),R=e(21092),i=e(92664),C=e(85512),S=Object.defineProperty,v;v=G.exports=function(d){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");d=String(d),C.call(this,d),S(this,"__length__",R("",d.length))},g&&g(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:R(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:R(function(d){var r=this.__list__[d],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,i.toStringTag,R("c","String Iterator"))},52891:function(G,H,e){var g=e(76368);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not iterable");return R}},60964:function(G){function H(g,R){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(g),C=1;C<arguments.length;C++){var S=arguments[C];if(S!=null)for(var v=Object.keys(Object(S)),d=0,r=v.length;d<r;d++){var t=v[d],a=Object.getOwnPropertyDescriptor(S,t);a!==void 0&&a.enumerable&&(i[t]=S[t])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}G.exports={assign:H,polyfill:e}},92664:function(G,H,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,H,e){var g=e(12296),R={object:!0,symbol:!0};G.exports=function(){var i=g.Symbol,C;if(typeof i!="function")return!1;C=i("test symbol");try{String(C)}catch{return!1}return!(!R[typeof i.iterator]||!R[typeof i.toPrimitive]||!R[typeof i.toStringTag])}},53908:function(G){G.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},96863:function(G,H,e){var g=e(21092),R=Object.create,i=Object.defineProperty,C=Object.prototype,S=R(null);G.exports=function(v){for(var d=0,r,t;S[v+(d||"")];)++d;return v+=d||"",S[v]=!0,r="@@"+v,i(C,r,g.gs(null,function(a){t||(t=!0,i(this,r,g(a)),t=!1)})),r}},53540:function(G,H,e){var g=e(21092),R=e(12296).Symbol;G.exports=function(i){return Object.defineProperties(i,{hasInstance:g("",R&&R.hasInstance||i("hasInstance")),isConcatSpreadable:g("",R&&R.isConcatSpreadable||i("isConcatSpreadable")),iterator:g("",R&&R.iterator||i("iterator")),match:g("",R&&R.match||i("match")),replace:g("",R&&R.replace||i("replace")),search:g("",R&&R.search||i("search")),species:g("",R&&R.species||i("species")),split:g("",R&&R.split||i("split")),toPrimitive:g("",R&&R.toPrimitive||i("toPrimitive")),toStringTag:g("",R&&R.toStringTag||i("toStringTag")),unscopables:g("",R&&R.unscopables||i("unscopables"))})}},73852:function(G,H,e){var g=e(21092),R=e(63948),i=Object.create(null);G.exports=function(C){return Object.defineProperties(C,{for:g(function(S){return i[S]?i[S]:i[S]=C(String(S))}),keyFor:g(function(S){var v;R(S);for(v in i)if(i[v]===S)return v})})}},18376:function(G,H,e){var g=e(21092),R=e(63948),i=e(12296).Symbol,C=e(96863),S=e(53540),v=e(73852),d=Object.create,r=Object.defineProperties,t=Object.defineProperty,a,n,f;if(typeof i=="function")try{String(i()),f=!0}catch{}else i=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return a(l)},G.exports=a=function u(l){var y;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?i(l):(y=d(n.prototype),l=l===void 0?"":String(l),r(y,{__description__:g("",l),__name__:g("",C(l))}))},S(a),v(a),r(n.prototype,{constructor:g(a),toString:g("",function(){return this.__name__})}),r(a.prototype,{toString:g(function(){return"Symbol ("+R(this).__description__+")"}),valueOf:g(function(){return R(this)})}),t(a.prototype,a.toPrimitive,g("",function(){var u=R(this);return typeof u=="symbol"?u:u.toString()})),t(a.prototype,a.toStringTag,g("c","Symbol")),t(n.prototype,a.toStringTag,g("c",a.prototype[a.toStringTag])),t(n.prototype,a.toPrimitive,g("c",a.prototype[a.toPrimitive]))},63948:function(G,H,e){var g=e(53908);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not a symbol");return R}},60463:function(G,H,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,H,e){var g=e(42584),R=e(69932),i=e(92584),C=e(9252),S=e(82252),v=e(21092),d=e(76252),r=e(76024),t=e(92664).toStringTag,a=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,y;G.exports=y=function(){var h=arguments[0],T;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return T=a&&R&&WeakMap!==y?R(new WeakMap,l(this)):this,g(h)&&(n(h)||(h=d(h))),f(T,"__weakMapData__",v("c","$weakMap$"+S())),h&&r(h,function(c){C(c),T.set(c[0],c[1])}),T},a&&(R&&R(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(h){return u.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(i(h),this.__weakMapData__)}),set:v(function(h,T){return f(i(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),f(y.prototype,t,v("c","WeakMap"))},61252:function(G){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(p,x,b){return Function.prototype.apply.call(p,x,b)},g;H&&typeof H.ownKeys=="function"?g=H.ownKeys:Object.getOwnPropertySymbols?g=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:g=function(p){return Object.getOwnPropertyNames(p)};function R(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(p){return p!==p};function C(){C.init.call(this)}G.exports=C,G.exports.once=h,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var S=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");S=o}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||i(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function d(o){return o._maxListeners===void 0?C.defaultMaxListeners:o._maxListeners}C.prototype.getMaxListeners=function(){return d(this)},C.prototype.emit=function(p){for(var x=[],b=1;b<arguments.length;b++)x.push(arguments[b]);var P=p==="error",m=this._events;if(m!==void 0)P=P&&m.error===void 0;else if(!P)return!1;if(P){var L;if(x.length>0&&(L=x[0]),L instanceof Error)throw L;var M=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw M.context=L,M}var s=m[p];if(s===void 0)return!1;if(typeof s=="function")e(s,this,x);else for(var E=s.length,w=u(s,E),b=0;b<E;++b)e(w[b],this,x);return!0};function r(o,p,x,b){var P,m,L;if(v(x),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",p,x.listener?x.listener:x),m=o._events),L=m[p]),L===void 0)L=m[p]=x,++o._eventsCount;else if(typeof L=="function"?L=m[p]=b?[x,L]:[L,x]:b?L.unshift(x):L.push(x),P=d(o),P>0&&L.length>P&&!L.warned){L.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=o,M.type=p,M.count=L.length,R(M)}return o}C.prototype.addListener=function(p,x){return r(this,p,x,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(p,x){return r(this,p,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(o,p,x){var b={fired:!1,wrapFn:void 0,target:o,type:p,listener:x},P=t.bind(b);return P.listener=x,b.wrapFn=P,P}C.prototype.once=function(p,x){return v(x),this.on(p,a(this,p,x)),this},C.prototype.prependOnceListener=function(p,x){return v(x),this.prependListener(p,a(this,p,x)),this},C.prototype.removeListener=function(p,x){var b,P,m,L,M;if(v(x),P=this._events,P===void 0)return this;if(b=P[p],b===void 0)return this;if(b===x||b.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete P[p],P.removeListener&&this.emit("removeListener",p,b.listener||x));else if(typeof b!="function"){for(m=-1,L=b.length-1;L>=0;L--)if(b[L]===x||b[L].listener===x){M=b[L].listener,m=L;break}if(m<0)return this;m===0?b.shift():l(b,m),b.length===1&&(P[p]=b[0]),P.removeListener!==void 0&&this.emit("removeListener",p,M||x)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(p){var x,b,P;if(b=this._events,b===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[p]),this;if(arguments.length===0){var m=Object.keys(b),L;for(P=0;P<m.length;++P)L=m[P],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=b[p],typeof x=="function")this.removeListener(p,x);else if(x!==void 0)for(P=x.length-1;P>=0;P--)this.removeListener(p,x[P]);return this};function n(o,p,x){var b=o._events;if(b===void 0)return[];var P=b[p];return P===void 0?[]:typeof P=="function"?x?[P.listener||P]:[P]:x?y(P):u(P,P.length)}C.prototype.listeners=function(p){return n(this,p,!0)},C.prototype.rawListeners=function(p){return n(this,p,!1)},C.listenerCount=function(o,p){return typeof o.listenerCount=="function"?o.listenerCount(p):f.call(o,p)},C.prototype.listenerCount=f;function f(o){var p=this._events;if(p!==void 0){var x=p[o];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function u(o,p){for(var x=new Array(p),b=0;b<p;++b)x[b]=o[b];return x}function l(o,p){for(;p+1<o.length;p++)o[p]=o[p+1];o.pop()}function y(o){for(var p=new Array(o.length),x=0;x<p.length;++x)p[x]=o[x].listener||o[x];return p}function h(o,p){return new Promise(function(x,b){function P(L){o.removeListener(p,m),b(L)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",P),x([].slice.call(arguments))}c(o,p,m,{once:!0}),p!=="error"&&T(o,P,{once:!0})})}function T(o,p,x){typeof o.on=="function"&&c(o,"error",p,x)}function c(o,p,x,b){if(typeof o.on=="function")b.once?o.once(p,x):o.on(p,x);else if(typeof o.addEventListener=="function")o.addEventListener(p,function P(m){b.once&&o.removeEventListener(p,P),x(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(G){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},12296:function(G,H,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,H,e){var g=e(94576);G.exports=function(R){var i=typeof R;if(i==="string"){var C=R;if(R=+R,R===0&&g(C))return!1}else if(i!=="number")return!1;return R-R<1}},47520:function(G,H,e){var g=e(72512);G.exports=R;function R(i,C,S){if(!i)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,d=i.length*v,r,t,a,n;(!C||typeof C=="string")&&(C=new(g(C||"float32"))(d+S));var f=C.length-S;if(d!==f)throw new Error("source length "+d+" ("+v+"x"+i.length+") does not match destination length "+f);for(r=0,a=S;r<i.length;r++)for(t=0;t<v;t++)C[a++]=i[r][t]===null?NaN:i[r][t]}else if(!C||typeof C=="string"){var u=g(C||"float32");if(Array.isArray(i)||C==="array")for(C=new u(i.length+S),r=0,a=S,n=C.length;a<n;a++,r++)C[a]=i[r]===null?NaN:i[r];else S===0?C=new u(i):(C=new u(i.length+S),C.set(i,S))}else C.set(i,S);return C}},33888:function(G,H,e){var g=e(49395),R=[32,126];G.exports=i;function i(C){C=C||{};var S=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),d=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||R;if(d&&typeof d!="string"&&(d=g(d)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],f=0;n<=t[1];n++)a[f++]=String.fromCharCode(n);t=a}S=S.slice(),v.width=S[0],v.height=S[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=d,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,y=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,y),(l+=r[0])>S[0]-r[0]/2&&(l=r[0]/2,y+=r[1]);return v}},71920:function(G){G.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var S=Array.isArray(C.family)?C.family.join(", "):C.family;if(!S)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,d=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,d,v].join(" ")+"px "+S,a=C.origin||"top";if(H.cache[S]&&v<=H.cache[S].em)return e(H.cache[S],a);var n=C.canvas||H.canvas,f=n.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var y="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(y,0,0);var T=g(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(y,0,l);var c=g(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+T,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(y,0,l);var o=g(f.getImageData(0,0,l,l)),p=l-o-1+T;h.baseline=h.alphabetic=p,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(y,0,l*.5);var x=g(f.getImageData(0,0,l,l));h.median=h.middle=l-x-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(y,0,l*.5);var b=g(f.getImageData(0,0,l,l));h.hanging=l-b-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(y,0,l);var P=g(f.getImageData(0,0,l,l));if(h.ideographic=l-P-1+T,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=g(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=g(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=g(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=g(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=R(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var m=R(f.getImageData(0,0,l,l));h.overshoot=m-p}for(var L in h)h[L]/=v;return h.em=v,H.cache[S]=h,e(h,a)}function e(i,C){var S={};typeof C=="string"&&(C=i[C]);for(var v in i)v!=="em"&&(S[v]=i[v]-C);return S}function g(i){for(var C=i.height,S=i.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}function R(i){for(var C=i.height,S=i.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(G,H,e){var g=e(90720),R=Object.prototype.toString,i=Object.prototype.hasOwnProperty,C=function(t,a,n){for(var f=0,u=t.length;f<u;f++)i.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},S=function(t,a,n){for(var f=0,u=t.length;f<u;f++)n==null?a(t.charAt(f),f,t):a.call(n,t.charAt(f),f,t)},v=function(t,a,n){for(var f in t)i.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},d=function(t,a,n){if(!g(a))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),R.call(t)==="[object Array]"?C(t,a,f):typeof t=="string"?S(t,a,f):v(t,a,f)};G.exports=d},74336:function(G){var H="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,R="[object Function]",i=function(d,r){for(var t=[],a=0;a<d.length;a+=1)t[a]=d[a];for(var n=0;n<r.length;n+=1)t[n+d.length]=r[n];return t},C=function(d,r){for(var t=[],a=r,n=0;a<d.length;a+=1,n+=1)t[n]=d[a];return t},S=function(v,d){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=d);return r};G.exports=function(d){var r=this;if(typeof r!="function"||e.apply(r)!==R)throw new TypeError(H+r);for(var t=C(arguments,1),a,n=function(){if(this instanceof a){var h=r.apply(this,i(t,arguments));return Object(h)===h?h:this}return r.apply(d,i(t,arguments))},f=g(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(a=Function("binder","return function ("+S(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var y=function(){};y.prototype=r.prototype,a.prototype=new y,y.prototype=null}return a}},8844:function(G,H,e){var g=e(74336);G.exports=Function.prototype.bind||g},13380:function(G){G.exports=H;function H(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var R=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(R.width=g.width),typeof g.height=="number"&&(R.height=g.height);var i=g,C;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(C=R.getContext(S[v],i),C)return C}catch{C=null}return C||null}},53664:function(G,H,e){var g,R=SyntaxError,i=Function,C=TypeError,S=function(w){try{return i('"use strict"; return ('+w+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var d=function(){throw new C},r=v?function(){try{return arguments.callee,d}catch{try{return v(arguments,"callee").get}catch{return d}}}():d,t=e(71080)(),a=e(69572)(),n=Object.getPrototypeOf||(a?function(w){return w.__proto__}:null),f={},u=typeof Uint8Array>"u"||!n?g:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":R,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};if(n)try{null.error}catch(w){var y=n(n(w));l["%Error.prototype%"]=y}var h=function w(_){var D;if(_==="%AsyncFunction%")D=S("async function () {}");else if(_==="%GeneratorFunction%")D=S("function* () {}");else if(_==="%AsyncGeneratorFunction%")D=S("async function* () {}");else if(_==="%AsyncGenerator%"){var N=w("%AsyncGeneratorFunction%");N&&(D=N.prototype)}else if(_==="%AsyncIteratorPrototype%"){var z=w("%AsyncGenerator%");z&&n&&(D=n(z.prototype))}return l[_]=D,D},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),p=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),b=c.call(Function.call,String.prototype.replace),P=c.call(Function.call,String.prototype.slice),m=c.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,s=function(_){var D=P(_,0,1),N=P(_,-1);if(D==="%"&&N!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&D!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var z=[];return b(_,L,function(F,U,B,V){z[z.length]=B?b(V,M,"$1"):U||F}),z},E=function(_,D){var N=_,z;if(o(T,N)&&(z=T[N],N="%"+z[0]+"%"),o(l,N)){var F=l[N];if(F===f&&(F=h(N)),typeof F>"u"&&!D)throw new C("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:z,name:N,value:F}}throw new R("intrinsic "+_+" does not exist!")};G.exports=function(_,D){if(typeof _!="string"||_.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new C('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,_)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=s(_),z=N.length>0?N[0]:"",F=E("%"+z+"%",D),U=F.name,B=F.value,V=!1,j=F.alias;j&&(z=j[0],x(N,p([0,1],j)));for(var Q=1,ee=!0;Q<N.length;Q+=1){var re=N[Q],ue=P(re,0,1),J=P(re,-1);if((ue==='"'||ue==="'"||ue==="`"||J==='"'||J==="'"||J==="`")&&ue!==J)throw new R("property names with quotes must have matching quotes");if((re==="constructor"||!ee)&&(V=!0),z+="."+re,U="%"+z+"%",o(l,U))B=l[U];else if(B!=null){if(!(re in B)){if(!D)throw new C("base intrinsic for "+_+" exists, but the property is not available.");return}if(v&&Q+1>=N.length){var X=v(B,re);ee=!!X,ee&&"get"in X&&!("originalValue"in X.get)?B=X.get:B=B[re]}else ee=o(B,re),B=B[re];ee&&!V&&(l[U]=B)}}return B}},12408:function(G){G.exports=H;function H(e,g){var R=g[0],i=g[1],C=g[2],S=g[3],v=g[4],d=g[5],r=g[6],t=g[7],a=g[8],n=g[9],f=g[10],u=g[11],l=g[12],y=g[13],h=g[14],T=g[15];return e[0]=d*(f*T-u*h)-n*(r*T-t*h)+y*(r*u-t*f),e[1]=-(i*(f*T-u*h)-n*(C*T-S*h)+y*(C*u-S*f)),e[2]=i*(r*T-t*h)-d*(C*T-S*h)+y*(C*t-S*r),e[3]=-(i*(r*u-t*f)-d*(C*u-S*f)+n*(C*t-S*r)),e[4]=-(v*(f*T-u*h)-a*(r*T-t*h)+l*(r*u-t*f)),e[5]=R*(f*T-u*h)-a*(C*T-S*h)+l*(C*u-S*f),e[6]=-(R*(r*T-t*h)-v*(C*T-S*h)+l*(C*t-S*r)),e[7]=R*(r*u-t*f)-v*(C*u-S*f)+a*(C*t-S*r),e[8]=v*(n*T-u*y)-a*(d*T-t*y)+l*(d*u-t*n),e[9]=-(R*(n*T-u*y)-a*(i*T-S*y)+l*(i*u-S*n)),e[10]=R*(d*T-t*y)-v*(i*T-S*y)+l*(i*t-S*d),e[11]=-(R*(d*u-t*n)-v*(i*u-S*n)+a*(i*t-S*d)),e[12]=-(v*(n*h-f*y)-a*(d*h-r*y)+l*(d*f-r*n)),e[13]=R*(n*h-f*y)-a*(i*h-C*y)+l*(i*f-C*n),e[14]=-(R*(d*h-r*y)-v*(i*h-C*y)+l*(i*r-C*d)),e[15]=R*(d*f-r*n)-v*(i*f-C*n)+a*(i*r-C*d),e}},76860:function(G){G.exports=H;function H(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(G){G.exports=H;function H(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(G){G.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=H;function H(e){var g=e[0],R=e[1],i=e[2],C=e[3],S=e[4],v=e[5],d=e[6],r=e[7],t=e[8],a=e[9],n=e[10],f=e[11],u=e[12],l=e[13],y=e[14],h=e[15],T=g*v-R*S,c=g*d-i*S,o=g*r-C*S,p=R*d-i*v,x=R*r-C*v,b=i*r-C*d,P=t*l-a*u,m=t*y-n*u,L=t*h-f*u,M=a*y-n*l,s=a*h-f*l,E=n*h-f*y;return T*E-c*s+o*M+p*L-x*m+b*P}},61784:function(G){G.exports=H;function H(e,g){var R=g[0],i=g[1],C=g[2],S=g[3],v=R+R,d=i+i,r=C+C,t=R*v,a=i*v,n=i*d,f=C*v,u=C*d,l=C*r,y=S*v,h=S*d,T=S*r;return e[0]=1-n-l,e[1]=a+T,e[2]=f-h,e[3]=0,e[4]=a-T,e[5]=1-t-l,e[6]=u+y,e[7]=0,e[8]=f+h,e[9]=u-y,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=H;function H(e,g,R){var i,C,S,v=R[0],d=R[1],r=R[2],t=Math.sqrt(v*v+d*d+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,d*=t,r*=t,i=Math.sin(g),C=Math.cos(g),S=1-C,e[0]=v*v*S+C,e[1]=d*v*S+r*i,e[2]=r*v*S-d*i,e[3]=0,e[4]=v*d*S-r*i,e[5]=d*d*S+C,e[6]=r*d*S+v*i,e[7]=0,e[8]=v*r*S+d*i,e[9]=d*r*S-v*i,e[10]=r*r*S+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=H;function H(e,g,R){var i=g[0],C=g[1],S=g[2],v=g[3],d=i+i,r=C+C,t=S+S,a=i*d,n=i*r,f=i*t,u=C*r,l=C*t,y=S*t,h=v*d,T=v*r,c=v*t;return e[0]=1-(u+y),e[1]=n+c,e[2]=f-T,e[3]=0,e[4]=n-c,e[5]=1-(a+y),e[6]=l+h,e[7]=0,e[8]=f+T,e[9]=l-h,e[10]=1-(a+u),e[11]=0,e[12]=R[0],e[13]=R[1],e[14]=R[2],e[15]=1,e}},69444:function(G){G.exports=H;function H(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=H;function H(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(G){G.exports=H;function H(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=R,e[7]=0,e[8]=0,e[9]=-R,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=H;function H(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=0,e[2]=-R,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=R,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=H;function H(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=R,e[2]=0,e[3]=0,e[4]=-R,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=H;function H(e,g,R,i,C,S,v){var d=1/(R-g),r=1/(C-i),t=1/(S-v);return e[0]=S*2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(R+g)*d,e[9]=(C+i)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(G){G.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,H,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=H;function H(e,g){var R=g[0],i=g[1],C=g[2],S=g[3],v=g[4],d=g[5],r=g[6],t=g[7],a=g[8],n=g[9],f=g[10],u=g[11],l=g[12],y=g[13],h=g[14],T=g[15],c=R*d-i*v,o=R*r-C*v,p=R*t-S*v,x=i*r-C*d,b=i*t-S*d,P=C*t-S*r,m=a*y-n*l,L=a*h-f*l,M=a*T-u*l,s=n*h-f*y,E=n*T-u*y,w=f*T-u*h,_=c*w-o*E+p*s+x*M-b*L+P*m;return _?(_=1/_,e[0]=(d*w-r*E+t*s)*_,e[1]=(C*E-i*w-S*s)*_,e[2]=(y*P-h*b+T*x)*_,e[3]=(f*b-n*P-u*x)*_,e[4]=(r*M-v*w-t*L)*_,e[5]=(R*w-C*M+S*L)*_,e[6]=(h*p-l*P-T*o)*_,e[7]=(a*P-f*p+u*o)*_,e[8]=(v*E-d*M+t*m)*_,e[9]=(i*M-R*E-S*m)*_,e[10]=(l*b-y*p+T*c)*_,e[11]=(n*p-a*b-u*c)*_,e[12]=(d*L-v*s-r*m)*_,e[13]=(R*s-i*L+C*m)*_,e[14]=(y*o-l*x-h*c)*_,e[15]=(a*x-n*o+f*c)*_,e):null}},56508:function(G,H,e){var g=e(36635);G.exports=R;function R(i,C,S,v){var d,r,t,a,n,f,u,l,y,h,T=C[0],c=C[1],o=C[2],p=v[0],x=v[1],b=v[2],P=S[0],m=S[1],L=S[2];return Math.abs(T-P)<1e-6&&Math.abs(c-m)<1e-6&&Math.abs(o-L)<1e-6?g(i):(u=T-P,l=c-m,y=o-L,h=1/Math.sqrt(u*u+l*l+y*y),u*=h,l*=h,y*=h,d=x*y-b*l,r=b*u-p*y,t=p*l-x*u,h=Math.sqrt(d*d+r*r+t*t),h?(h=1/h,d*=h,r*=h,t*=h):(d=0,r=0,t=0),a=l*t-y*r,n=y*d-u*t,f=u*r-l*d,h=Math.sqrt(a*a+n*n+f*f),h?(h=1/h,a*=h,n*=h,f*=h):(a=0,n=0,f=0),i[0]=d,i[1]=a,i[2]=u,i[3]=0,i[4]=r,i[5]=n,i[6]=l,i[7]=0,i[8]=t,i[9]=f,i[10]=y,i[11]=0,i[12]=-(d*T+r*c+t*o),i[13]=-(a*T+n*c+f*o),i[14]=-(u*T+l*c+y*o),i[15]=1,i)}},80944:function(G){G.exports=H;function H(e,g,R){var i=g[0],C=g[1],S=g[2],v=g[3],d=g[4],r=g[5],t=g[6],a=g[7],n=g[8],f=g[9],u=g[10],l=g[11],y=g[12],h=g[13],T=g[14],c=g[15],o=R[0],p=R[1],x=R[2],b=R[3];return e[0]=o*i+p*d+x*n+b*y,e[1]=o*C+p*r+x*f+b*h,e[2]=o*S+p*t+x*u+b*T,e[3]=o*v+p*a+x*l+b*c,o=R[4],p=R[5],x=R[6],b=R[7],e[4]=o*i+p*d+x*n+b*y,e[5]=o*C+p*r+x*f+b*h,e[6]=o*S+p*t+x*u+b*T,e[7]=o*v+p*a+x*l+b*c,o=R[8],p=R[9],x=R[10],b=R[11],e[8]=o*i+p*d+x*n+b*y,e[9]=o*C+p*r+x*f+b*h,e[10]=o*S+p*t+x*u+b*T,e[11]=o*v+p*a+x*l+b*c,o=R[12],p=R[13],x=R[14],b=R[15],e[12]=o*i+p*d+x*n+b*y,e[13]=o*C+p*r+x*f+b*h,e[14]=o*S+p*t+x*u+b*T,e[15]=o*v+p*a+x*l+b*c,e}},97688:function(G){G.exports=H;function H(e,g,R,i,C,S,v){var d=1/(g-R),r=1/(i-C),t=1/(S-v);return e[0]=-2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+R)*d,e[13]=(C+i)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(G){G.exports=H;function H(e,g,R,i,C){var S=1/Math.tan(g/2),v=1/(i-C);return e[0]=S/R,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+i)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*i*v,e[15]=0,e}},63688:function(G){G.exports=H;function H(e,g,R,i){var C=Math.tan(g.upDegrees*Math.PI/180),S=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),d=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+d),t=2/(C+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-d)*r*.5),e[9]=(C-S)*t*.5,e[10]=i/(R-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*R/(R-i),e[15]=0,e}},30016:function(G){G.exports=H;function H(e,g,R,i){var C=i[0],S=i[1],v=i[2],d=Math.sqrt(C*C+S*S+v*v),r,t,a,n,f,u,l,y,h,T,c,o,p,x,b,P,m,L,M,s,E,w,_,D;return Math.abs(d)<1e-6?null:(d=1/d,C*=d,S*=d,v*=d,r=Math.sin(R),t=Math.cos(R),a=1-t,n=g[0],f=g[1],u=g[2],l=g[3],y=g[4],h=g[5],T=g[6],c=g[7],o=g[8],p=g[9],x=g[10],b=g[11],P=C*C*a+t,m=S*C*a+v*r,L=v*C*a-S*r,M=C*S*a-v*r,s=S*S*a+t,E=v*S*a+C*r,w=C*v*a+S*r,_=S*v*a-C*r,D=v*v*a+t,e[0]=n*P+y*m+o*L,e[1]=f*P+h*m+p*L,e[2]=u*P+T*m+x*L,e[3]=l*P+c*m+b*L,e[4]=n*M+y*s+o*E,e[5]=f*M+h*s+p*E,e[6]=u*M+T*s+x*E,e[7]=l*M+c*s+b*E,e[8]=n*w+y*_+o*D,e[9]=f*w+h*_+p*D,e[10]=u*w+T*_+x*D,e[11]=l*w+c*_+b*D,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(G){G.exports=H;function H(e,g,R){var i=Math.sin(R),C=Math.cos(R),S=g[4],v=g[5],d=g[6],r=g[7],t=g[8],a=g[9],n=g[10],f=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=S*C+t*i,e[5]=v*C+a*i,e[6]=d*C+n*i,e[7]=r*C+f*i,e[8]=t*C-S*i,e[9]=a*C-v*i,e[10]=n*C-d*i,e[11]=f*C-r*i,e}},64840:function(G){G.exports=H;function H(e,g,R){var i=Math.sin(R),C=Math.cos(R),S=g[0],v=g[1],d=g[2],r=g[3],t=g[8],a=g[9],n=g[10],f=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=S*C-t*i,e[1]=v*C-a*i,e[2]=d*C-n*i,e[3]=r*C-f*i,e[8]=S*i+t*C,e[9]=v*i+a*C,e[10]=d*i+n*C,e[11]=r*i+f*C,e}},4192:function(G){G.exports=H;function H(e,g,R){var i=Math.sin(R),C=Math.cos(R),S=g[0],v=g[1],d=g[2],r=g[3],t=g[4],a=g[5],n=g[6],f=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=S*C+t*i,e[1]=v*C+a*i,e[2]=d*C+n*i,e[3]=r*C+f*i,e[4]=t*C-S*i,e[5]=a*C-v*i,e[6]=n*C-d*i,e[7]=f*C-r*i,e}},68152:function(G){G.exports=H;function H(e,g,R){var i=R[0],C=R[1],S=R[2];return e[0]=g[0]*i,e[1]=g[1]*i,e[2]=g[2]*i,e[3]=g[3]*i,e[4]=g[4]*C,e[5]=g[5]*C,e[6]=g[6]*C,e[7]=g[7]*C,e[8]=g[8]*S,e[9]=g[9]*S,e[10]=g[10]*S,e[11]=g[11]*S,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(G){G.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=H;function H(e,g,R){var i=R[0],C=R[1],S=R[2],v,d,r,t,a,n,f,u,l,y,h,T;return g===e?(e[12]=g[0]*i+g[4]*C+g[8]*S+g[12],e[13]=g[1]*i+g[5]*C+g[9]*S+g[13],e[14]=g[2]*i+g[6]*C+g[10]*S+g[14],e[15]=g[3]*i+g[7]*C+g[11]*S+g[15]):(v=g[0],d=g[1],r=g[2],t=g[3],a=g[4],n=g[5],f=g[6],u=g[7],l=g[8],y=g[9],h=g[10],T=g[11],e[0]=v,e[1]=d,e[2]=r,e[3]=t,e[4]=a,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=y,e[10]=h,e[11]=T,e[12]=v*i+a*C+l*S+g[12],e[13]=d*i+n*C+y*S+g[13],e[14]=r*i+f*C+h*S+g[14],e[15]=t*i+u*C+T*S+g[15]),e}},86520:function(G){G.exports=H;function H(e,g){if(e===g){var R=g[1],i=g[2],C=g[3],S=g[6],v=g[7],d=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=R,e[6]=g[9],e[7]=g[13],e[8]=i,e[9]=S,e[11]=g[14],e[12]=C,e[13]=v,e[14]=d}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(G,H,e){var g=e(42771),R=e(55616),i=e(28624),C=e(55212),S=e(60463),v=e(72160),d=e(33888),r=e(14144),t=e(51160),a=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),y=e(71920),h=e(47520),T=e(308),c=T.nextPow2,o=new S,p=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(p=!0),document.body.removeChild(x)}var b=function(L){P(L)?(L={regl:L},this.gl=L.regl._gl):this.gl=C(L),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=L.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(L)?L:{})};b.prototype.createShader=function(){var L=this.regl,M=L({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:L.prop("count"),offset:L.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:L.this("sizeBuffer")},width:{offset:0,stride:8,buffer:L.this("sizeBuffer")},char:L.this("charBuffer"),position:L.this("position")},uniforms:{atlasSize:function(E,w){return[w.atlas.width,w.atlas.height]},atlasDim:function(E,w){return[w.atlas.cols,w.atlas.rows]},atlas:function(E,w){return w.atlas.texture},charStep:function(E,w){return w.atlas.step},em:function(E,w){return w.atlas.em},color:L.prop("color"),opacity:L.prop("opacity"),viewport:L.this("viewportArray"),scale:L.this("scale"),align:L.prop("align"),baseline:L.prop("baseline"),translate:L.this("translate"),positionOffset:L.prop("positionOffset")},primitive:"points",viewport:L.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:L,draw:M,atlas:s}},b.prototype.update=function(L){var M=this;if(typeof L=="string")L={text:L};else if(!L)return;L=R(L,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),L.opacity!=null&&(Array.isArray(L.opacity)?this.opacity=L.opacity.map(function(De){return parseFloat(De)}):this.opacity=parseFloat(L.opacity)),L.viewport!=null&&(this.viewport=t(L.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),L.kerning!=null&&(this.kerning=L.kerning),L.offset!=null&&(typeof L.offset=="number"&&(L.offset=[L.offset,0]),this.positionOffset=h(L.offset)),L.direction&&(this.direction=L.direction),L.range&&(this.range=L.range,this.scale=[1/(L.range[2]-L.range[0]),1/(L.range[3]-L.range[1])],this.translate=[-L.range[0],-L.range[1]]),L.scale&&(this.scale=L.scale),L.translate&&(this.translate=L.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!L.font&&(L.font=b.baseFontSize+"px sans-serif");var s=!1,E=!1;if(L.font&&(Array.isArray(L.font)?L.font:[L.font]).forEach(function(De,He){if(typeof De=="string")try{De=g.parse(De)}catch{De=g.parse(b.baseFontSize+"px "+De)}else{var at=De.style,vt=De.weight,ot=De.stretch,et=De.variant;De=g.parse(g.stringify(De)),at&&(De.style=at),vt&&(De.weight=vt),ot&&(De.stretch=ot),et&&(De.variant=et)}var ct=g.stringify({size:b.baseFontSize,family:De.family,stretch:p?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style}),ht=n(De.size),gt=Math.round(ht[0]*f(ht[1]));if(gt!==M.fontSize[He]&&(E=!0,M.fontSize[He]=gt),(!M.font[He]||ct!=M.font[He].baseString)&&(s=!0,M.font[He]=b.fonts[ct],!M.font[He])){var xt=De.family.join(", "),Mt=[De.style];De.style!=De.variant&&Mt.push(De.variant),De.variant!=De.weight&&Mt.push(De.weight),p&&De.weight!=De.stretch&&Mt.push(De.stretch),M.font[He]={baseString:ct,family:xt,weight:De.weight,stretch:De.stretch,style:De.style,variant:De.variant,width:{},kerning:{},metrics:y(xt,{origin:"top",fontSize:b.baseFontSize,fontStyle:Mt.join(" ")})},b.fonts[ct]=M.font[He]}}),(s||E)&&this.font.forEach(function(De,He){var at=g.stringify({size:M.fontSize[He],family:De.family,stretch:p?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style});if(M.fontAtlas[He]=M.shader.atlas[at],!M.fontAtlas[He]){var vt=De.metrics;M.shader.atlas[at]=M.fontAtlas[He]={fontString:at,step:Math.ceil(M.fontSize[He]*vt.bottom*.5)*2,em:M.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}}L.text==null&&(L.text=M.text)}),typeof L.text=="string"&&L.position&&L.position.length>2){for(var w=Array(L.position.length*.5),_=0;_<w.length;_++)w[_]=L.text;L.text=w}var D;if(L.text!=null||s){if(this.textOffsets=[0],Array.isArray(L.text)){this.count=L.text[0].length,this.counts=[this.count];for(var N=1;N<L.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+L.text[N-1].length,this.count+=L.text[N].length,this.counts.push(L.text[N].length);this.text=L.text.join("")}else this.text=L.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(De,He){b.atlasContext.font=De.baseString;for(var at=M.fontAtlas[He],vt=0;vt<M.text.length;vt++){var ot=M.text.charAt(vt);if(at.ids[ot]==null&&(at.ids[ot]=at.chars.length,at.chars.push(ot),D.push(ot)),De.width[ot]==null&&(De.width[ot]=b.atlasContext.measureText(ot).width/b.baseFontSize,M.kerning)){var et=[];for(var ct in De.width)et.push(ct+ot,ot+ct);l(De.kerning,u(De.family,{pairs:et}))}}})}if(L.position)if(L.position.length>2){for(var z=!L.position[0].length,F=r.mallocFloat(this.count*2),U=0,B=0;U<this.counts.length;U++){var V=this.counts[U];if(z)for(var j=0;j<V;j++)F[B++]=L.position[U*2],F[B++]=L.position[U*2+1];else for(var Q=0;Q<V;Q++)F[B++]=L.position[U][0],F[B++]=L.position[U][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),r.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:L.position};if(L.text||s){var ee=r.mallocUint8(this.count),re=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,J=0;ue<this.counts.length;ue++){for(var X=this.counts[ue],ne=this.font[ue]||this.font[0],Y=this.fontAtlas[ue]||this.fontAtlas[0],oe=0;oe<X;oe++){var le=this.text.charAt(J),Z=this.text.charAt(J-1);if(ee[J]=Y.ids[le],re[J*2]=ne.width[le],oe){var $=re[J*2-2],se=re[J*2],ae=re[J*2-1],he=ae+$*.5+se*.5;if(this.kerning){var me=ne.kerning[Z+le];me&&(he+=me*.001)}re[J*2+1]=he}else re[J*2+1]=re[J*2]*.5;J++}this.textWidth.push(re.length?re[J*2-2]*.5+re[J*2-1]:0)}L.align||(L.align=this.align),this.charBuffer({data:ee,type:"uint8",usage:"stream"}),this.sizeBuffer({data:re,type:"float",usage:"stream"}),r.freeUint8(ee),r.freeFloat(re),D.length&&this.font.forEach(function(De,He){var at=M.fontAtlas[He],vt=at.step,ot=Math.floor(b.maxAtlasSize/vt),et=Math.min(ot,at.chars.length),ct=Math.ceil(at.chars.length/et),ht=c(et*vt),gt=c(ct*vt);at.width=ht,at.height=gt,at.rows=ct,at.cols=et,at.em&&at.texture({data:d({canvas:b.atlasCanvas,font:at.fontString,chars:at.chars,shape:[ht,gt],step:[vt,vt]})})})}if(L.align&&(this.align=L.align,this.alignOffset=this.textWidth.map(function(De,He){var at=Array.isArray(M.align)?M.align.length>1?M.align[He]:M.align[0]:M.align;if(typeof at=="number")return at;switch(at){case"right":case"end":return-De;case"center":case"centre":case"middle":return-De*.5}return 0})),this.baseline==null&&L.baseline==null&&(L.baseline=0),L.baseline!=null&&(this.baseline=L.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(De,He){var at=(M.font[He]||M.font[0]).metrics,vt=0;return vt+=at.bottom*.5,typeof De=="number"?vt+=De-at.baseline:vt+=-at[De],vt*=-1,vt})),L.color!=null)if(L.color||(L.color="transparent"),typeof L.color=="string"||!isNaN(L.color))this.color=v(L.color,"uint8");else{var Me;if(typeof L.color[0]=="number"&&L.color.length>this.counts.length){var Te=L.color.length;Me=r.mallocUint8(Te);for(var Pe=(L.color.subarray||L.color.slice).bind(L.color),be=0;be<Te;be+=4)Me.set(v(Pe(be,be+4),"uint8"),be)}else{var Ee=L.color.length;Me=r.mallocUint8(Ee*4);for(var xe=0;xe<Ee;xe++)Me.set(v(L.color[xe]||0,"uint8"),xe*4)}this.color=Me}if(L.position||L.text||L.color||L.baseline||L.align||L.font||L.offset||L.opacity){var Ce=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ce){var Ue=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ue);for(var Ne=0;Ne<this.batch.length;Ne++)this.batch[Ne]={count:this.counts.length>1?this.counts[Ne]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ne]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ne*4,Ne*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ne]:this.opacity,baseline:this.baselineOffset[Ne]!=null?this.baselineOffset[Ne]:this.baselineOffset[0],align:this.align?this.alignOffset[Ne]!=null?this.alignOffset[Ne]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ne]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ne*2,Ne*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},b.prototype.destroy=function(){},b.prototype.kerning=!0,b.prototype.position={constant:new Float32Array(2)},b.prototype.translate=null,b.prototype.scale=null,b.prototype.font=null,b.prototype.text="",b.prototype.positionOffset=[0,0],b.prototype.opacity=1,b.prototype.color=new Uint8Array([0,0,0,255]),b.prototype.alignOffset=[0,0],b.maxAtlasSize=1024,b.atlasCanvas=document.createElement("canvas"),b.atlasContext=b.atlasCanvas.getContext("2d",{alpha:!1}),b.baseFontSize=64,b.fonts={};function P(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}G.exports=b},55212:function(G,H,e){var g=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},i(r)?r={container:r}:C(r)?r={container:r}:S(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}i(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),R(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),R(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch{}return r.gl}),r.gl};function R(d){if(d.container)if(d.container==document.body)document.body.style.width||(d.canvas.width=d.width||d.pixelRatio*e.g.innerWidth),document.body.style.height||(d.canvas.height=d.height||d.pixelRatio*e.g.innerHeight);else{var r=d.container.getBoundingClientRect();d.canvas.width=d.width||r.right-r.left,d.canvas.height=d.height||r.bottom-r.top}}function i(d){return typeof d.getContext=="function"&&"width"in d&&"height"in d}function C(d){return typeof d.nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"}function S(d){return typeof d.drawArrays=="function"||typeof d.drawElements=="function"}function v(){var d=document.createElement("canvas");return d.style.position="absolute",d.style.top=0,d.style.left=0,d}},26444:function(G){G.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),g=[],R=0;R<H.length-1;R++)g.push(H[R],e[R]||"");return g.push(H[R]),g.join("")}},2304:function(G,H,e){var g=e(53664),R=g("%Object.getOwnPropertyDescriptor%",!0);if(R)try{R([],"length")}catch{R=null}G.exports=R},52264:function(G,H,e){var g=e(24200),R;typeof e.g.matchMedia=="function"?R=!e.g.matchMedia("(hover: none)").matches:R=g,G.exports=R},89184:function(G,H,e){var g=e(24200);function R(){var i=!1;try{var C=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{i=!1}return i}G.exports=g&&R()},39640:function(G,H,e){var g=e(53664),R=g("%Object.defineProperty%",!0),i=function(){if(R)try{return R({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return R([],"length",{value:1}).length!==1}catch{return!0}},G.exports=i},69572:function(G){var H={foo:{}},e=Object;G.exports=function(){return{__proto__:H}.foo===H.foo&&!({__proto__:null}instanceof e)}},71080:function(G,H,e){var g=typeof Symbol<"u"&&Symbol,R=e(89320);G.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),R=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var i=42;e[g]=i;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,g);if(S.value!==i||S.enumerable!==!0)return!1}return!0}},46672:function(G,H,e){var g=e(89320);G.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(G,H,e){var g=Function.prototype.call,R=Object.prototype.hasOwnProperty,i=e(8844);G.exports=i.call(g,R)},35984:function(G,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,g,R,i,C){var S,v,d=C*8-i-1,r=(1<<d)-1,t=r>>1,a=-7,n=R?C-1:0,f=R?-1:1,u=e[g+n];for(n+=f,S=u&(1<<-a)-1,u>>=-a,a+=d;a>0;S=S*256+e[g+n],n+=f,a-=8);for(v=S&(1<<-a)-1,S>>=-a,a+=i;a>0;v=v*256+e[g+n],n+=f,a-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,i),S=S-t}return(u?-1:1)*v*Math.pow(2,S-i)},H.write=function(e,g,R,i,C,S){var v,d,r,t=S*8-C-1,a=(1<<t)-1,n=a>>1,f=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=i?0:S-1,l=i?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(d=isNaN(g)?1:0,v=a):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=f/r:g+=f*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=a?(d=0,v=a):v+n>=1?(d=(g*r-1)*Math.pow(2,C),v=v+n):(d=g*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[R+u]=d&255,u+=l,d/=256,C-=8);for(v=v<<C|d,t+=C;t>0;e[R+u]=v&255,u+=l,v/=256,t-=8);e[R+u-l]|=y*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,g){if(g){e.super_=g;var R=function(){};R.prototype=g.prototype,e.prototype=new R,e.prototype.constructor=e}}},91148:function(G,H,e){var g=e(46672)(),R=e(99676),i=R("Object.prototype.toString"),C=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:i(r)==="[object Arguments]"},S=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&i(r)!=="[object Array]"&&i(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=S,G.exports=v?C:S},24200:function(G){G.exports=!0},90720:function(G){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,R;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw R}}),R={},e(function(){throw 42},null,g)}catch(T){T!==R&&(e=null)}else e=null;var i=/^\s*class\b/,C=function(c){try{var o=H.call(c);return i.test(o)}catch{return!1}},S=function(c){try{return C(c)?!1:(H.call(c),!0)}catch{return!1}},v=Object.prototype.toString,d="[object Object]",r="[object Function]",t="[object GeneratorFunction]",a="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(y=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===a||o===n||o===f||o===d)&&c("")==null}catch{}return!1})}G.exports=e?function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,g)}catch(o){if(o!==R)return!1}return!C(c)&&S(c)}:function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return S(c);if(C(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:S(c)}},84420:function(G,H,e){var g=Object.prototype.toString,R=Function.prototype.toString,i=/^\s*(?:function)?\*/,C=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},d;G.exports=function(t){if(typeof t!="function")return!1;if(i.test(R.call(t)))return!0;if(!C){var a=g.call(t);return a==="[object GeneratorFunction]"}if(!S)return!1;if(typeof d>"u"){var n=v();d=n?S(n):!1}return S(t)===d}},96604:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,H,e){var g=e(57916),R=e(81288),i=e(85992),C=e(57740),S=e(59736),v=g(C(),Number);R(v,{getPolyfill:C,implementation:i,shim:S}),G.exports=v},57740:function(G,H,e){var g=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(G,H,e){var g=e(81288),R=e(57740);G.exports=function(){var C=R();return g(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(G){G.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},58908:function(G){var H=Object.prototype.toString;G.exports=function(e){var g;return H.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(H){for(var e=H.length,g,R=0;R<e;R++)if(g=H.charCodeAt(R),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,H,e){var g=e(46492),R=e(63436),i=e(99676),C=i("Object.prototype.toString"),S=e(46672)(),v=e(2304),d=typeof globalThis>"u"?e.g:globalThis,r=R(),t=i("Array.prototype.indexOf",!0)||function(y,h){for(var T=0;T<y.length;T+=1)if(y[T]===h)return T;return-1},a=i("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&g(r,function(l){var y=new d[l];if(Symbol.toStringTag in y){var h=f(y),T=v(h,Symbol.toStringTag);if(!T){var c=f(h);T=v(c,Symbol.toStringTag)}n[l]=T.get}});var u=function(y){var h=!1;return g(n,function(T,c){if(!h)try{h=T.call(y)===c}catch{}}),h};G.exports=function(y){if(!y||typeof y!="object")return!1;if(!S||!(Symbol.toStringTag in y)){var h=a(C(y),8,-1);return t(r,h)>-1}return v?u(y):!1}},76244:function(G){G.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},62644:function(G,H,e){G.exports=R;var g=e(93784);function R(i,C){C||(C=i,i=window);var S=0,v=0,d=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(x){var b=!1;return"altKey"in x&&(b=b||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(b=b||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(b=b||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(b=b||x.metaKey!==r.meta,r.meta=!!x.metaKey),b}function n(x,b){var P=g.x(b),m=g.y(b);"buttons"in b&&(x=b.buttons|0),(x!==S||P!==v||m!==d||a(b))&&(S=x|0,v=P||0,d=m||0,C&&C(S,v,d,r))}function f(x){n(0,x)}function u(){(S||v||d||r.shift||r.alt||r.meta||r.control)&&(v=d=0,S=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(x){a(x)&&C&&C(S,v,d,r)}function y(x){g.buttons(x)===0?n(0,x):n(S,x)}function h(x){n(S|g.buttons(x),x)}function T(x){n(S&~g.buttons(x),x)}function c(){t||(t=!0,i.addEventListener("mousemove",y),i.addEventListener("mousedown",h),i.addEventListener("mouseup",T),i.addEventListener("mouseleave",f),i.addEventListener("mouseenter",f),i.addEventListener("mouseout",f),i.addEventListener("mouseover",f),i.addEventListener("blur",u),i.addEventListener("keyup",l),i.addEventListener("keydown",l),i.addEventListener("keypress",l),i!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,i.removeEventListener("mousemove",y),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",T),i.removeEventListener("mouseleave",f),i.removeEventListener("mouseenter",f),i.removeEventListener("mouseout",f),i.removeEventListener("mouseover",f),i.removeEventListener("blur",u),i.removeEventListener("keyup",l),i.removeEventListener("keydown",l),i.removeEventListener("keypress",l),i!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var p={element:i};return Object.defineProperties(p,{enabled:{get:function(){return t},set:function(x){x?c():o()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(G){var H={left:0,top:0};G.exports=e;function e(R,i,C){i=i||R.currentTarget||R.srcElement,Array.isArray(C)||(C=[0,0]);var S=R.clientX||0,v=R.clientY||0,d=g(i);return C[0]=S-d.left,C[1]=v-d.top,C}function g(R){return R===window||R===document||R===document.body?H:R.getBoundingClientRect()}},93784:function(G,H){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var S=C.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in C){var S=C.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}H.buttons=e;function g(C){return C.target||C.srcElement||window}H.element=g;function R(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var S=g(C),v=S.getBoundingClientRect();return C.clientX-v.left}return 0}H.x=R;function i(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var S=g(C),v=S.getBoundingClientRect();return C.clientY-v.top}return 0}H.y=i},97264:function(G,H,e){var g=e(23464);G.exports=R;function R(i,C,S){typeof i=="function"&&(S=!!C,C=i,i=window);var v=g("ex",i),d=function(r){S&&r.preventDefault();var t=r.deltaX||0,a=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,a*=u,n*=u,t||a||n)return C(t,a,n,r)};return i.addEventListener("wheel",d),d}},88324:function(G,H,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(i,C,S){C[i]=C[i]||S(),G.exports?G.exports=C[i]:(g=(function(){return C[i]}).call(H,e,H,G),g!==void 0&&(G.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var i,C,S,v=Object.prototype.toString,d=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(p,x,b,P){return Object.defineProperty(p,x,{value:b,writable:!0,configurable:P!==!1})}}catch{i=function(x,b,P){return x[b]=P,x}}S=function(){var p,x,b;function P(m,L){this.fn=m,this.self=L,this.next=void 0}return{add:function(L,M){b=new P(L,M),x?x.next=b:p=b,x=b,b=void 0},drain:function(){var L=p;for(p=x=C=void 0;L;)L.fn.call(L.self),L=L.next}}}();function r(o,p){S.add(o,p),C||(C=d(S.drain))}function t(o){var p,x=typeof o;return o!=null&&(x=="object"||x=="function")&&(p=o.then),typeof p=="function"?p:!1}function a(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,p,x){var b,P;try{p===!1?x.reject(o.msg):(p===!0?b=o.msg:b=p.call(void 0,o.msg),b===x.promise?x.reject(TypeError("Promise-chain cycle")):(P=t(b))?P.call(b,x.resolve,x.reject):x.resolve(b))}catch(m){x.reject(m)}}function f(o){var p,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(p=t(o))?r(function(){var b=new y(x);try{p.call(o,function(){f.apply(b,arguments)},function(){u.apply(b,arguments)})}catch(P){u.call(b,P)}}):(x.msg=o,x.state=1,x.chain.length>0&&r(a,x))}catch(b){u.call(new y(x),b)}}}function u(o){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=o,p.state=2,p.chain.length>0&&r(a,p))}function l(o,p,x,b){for(var P=0;P<p.length;P++)(function(L){o.resolve(p[L]).then(function(s){x(L,s)},b)})(P)}function y(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new h(this);this.then=function(b,P){var m={success:typeof b=="function"?b:!0,failure:typeof P=="function"?P:!1};return m.promise=new this.constructor(function(M,s){if(typeof M!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=M,m.reject=s}),p.chain.push(m),p.state!==0&&r(a,p),m.promise},this.catch=function(b){return this.then(void 0,b)};try{o.call(void 0,function(b){f.call(p,b)},function(b){u.call(p,b)})}catch(x){u.call(p,x)}}var c=i({},"constructor",T,!1);return T.prototype=c,i(c,"__NPO__",0,!1),i(T,"resolve",function(p){var x=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new x(function(P,m){if(typeof P!="function"||typeof m!="function")throw TypeError("Not a function");P(p)})}),i(T,"reject",function(p){return new this(function(b,P){if(typeof b!="function"||typeof P!="function")throw TypeError("Not a function");P(p)})}),i(T,"all",function(p){var x=this;return v.call(p)!="[object Array]"?x.reject(TypeError("Not an array")):p.length===0?x.resolve([]):new x(function(P,m){if(typeof P!="function"||typeof m!="function")throw TypeError("Not a function");var L=p.length,M=Array(L),s=0;l(x,p,function(w,_){M[w]=_,++s===L&&P(M)},m)})}),i(T,"race",function(p){var x=this;return v.call(p)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(P,m){if(typeof P!="function"||typeof m!="function")throw TypeError("Not a function");l(x,p,function(M,s){P(s)},m)})}),T})},48816:function(G){var H=Math.PI,e=v(120);G.exports=g;function g(d){for(var r,t=[],a=0,n=0,f=0,u=0,l=null,y=null,h=0,T=0,c=0,o=d.length;c<o;c++){var p=d[c],x=p[0];switch(x){case"M":f=p[1],u=p[2];break;case"A":p=C(h,T,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(t.push(p.splice(0,7)),p.unshift("C"));break;case"S":var b=h,P=T;(r=="C"||r=="S")&&(b+=b-a,P+=P-n),p=["C",b,P,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,y=T*2-y):(l=h,y=T),p=i(h,T,l,y,p[1],p[2]);break;case"Q":l=p[1],y=p[2],p=i(h,T,p[1],p[2],p[3],p[4]);break;case"L":p=R(h,T,p[1],p[2]);break;case"H":p=R(h,T,p[1],T);break;case"V":p=R(h,T,h,p[1]);break;case"Z":p=R(h,T,f,u);break}r=x,h=p[p.length-2],T=p[p.length-1],p.length>4?(a=p[p.length-4],n=p[p.length-3]):(a=h,n=T),t.push(p)}return t}function R(d,r,t,a){return["C",d,r,t,a,t,a]}function i(d,r,t,a,n,f){return["C",d/3+.6666666666666666*t,r/3+.6666666666666666*a,n/3+.6666666666666666*t,f/3+.6666666666666666*a,n,f]}function C(d,r,t,a,n,f,u,l,y,h){if(h)M=h[0],s=h[1],m=h[2],L=h[3];else{var T=S(d,r,-n);d=T.x,r=T.y,T=S(l,y,-n),l=T.x,y=T.y;var c=(d-l)/2,o=(r-y)/2,p=c*c/(t*t)+o*o/(a*a);p>1&&(p=Math.sqrt(p),t=p*t,a=p*a);var x=t*t,b=a*a,P=(f==u?-1:1)*Math.sqrt(Math.abs((x*b-x*o*o-b*c*c)/(x*o*o+b*c*c)));P==1/0&&(P=1);var m=P*t*o/a+(d+l)/2,L=P*-a*c/t+(r+y)/2,M=Math.asin(((r-L)/a).toFixed(9)),s=Math.asin(((y-L)/a).toFixed(9));M=d<m?H-M:M,s=l<m?H-s:s,M<0&&(M=H*2+M),s<0&&(s=H*2+s),u&&M>s&&(M=M-H*2),!u&&s>M&&(s=s-H*2)}if(Math.abs(s-M)>e){var E=s,w=l,_=y;s=M+e*(u&&s>M?1:-1),l=m+t*Math.cos(s),y=L+a*Math.sin(s);var D=C(l,y,t,a,n,0,u,w,_,[s,E,m,L])}var N=Math.tan((s-M)/4),z=4/3*t*N,F=4/3*a*N,U=[2*d-(d+z*Math.sin(M)),2*r-(r-F*Math.cos(M)),l+z*Math.sin(s),y-F*Math.cos(s),l,y];if(h)return U;D&&(U=U.concat(D));for(var B=0;B<U.length;){var V=S(U[B],U[B+1],n);U[B++]=V.x,U[B++]=V.y}return U}function S(d,r,t){return{x:d*Math.cos(t)-r*Math.sin(t),y:d*Math.sin(t)+r*Math.cos(t)}}function v(d){return d*(H/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function R(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function i(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var d=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(d.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=i()?Object.assign:function(C,S){for(var v,d=R(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var a in v)e.call(v,a)&&(d[a]=v[a]);if(H){r=H(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(d[r[n]]=v[r[n]])}}return d}},76835:function(G){var H=function(e){return e!==e};G.exports=function(g,R){return g===0&&R===0?1/g===1/R:!!(g===R||H(g)&&H(R))}},39896:function(G,H,e){var g=e(81288),R=e(57916),i=e(76835),C=e(66148),S=e(16408),v=R(C(),Object);g(v,{getPolyfill:C,implementation:i,shim:S}),G.exports=v},66148:function(G,H,e){var g=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(G,H,e){var g=e(66148),R=e(81288);G.exports=function(){var C=g();return R(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(G,H,e){var g;if(!Object.keys){var R=Object.prototype.hasOwnProperty,i=Object.prototype.toString,C=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),d=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!a["$"+u]&&R.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};g=function(l){var y=l!==null&&typeof l=="object",h=i.call(l)==="[object Function]",T=C(l),c=y&&i.call(l)==="[object String]",o=[];if(!y&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var p=d&&h;if(c&&l.length>0&&!R.call(l,0))for(var x=0;x<l.length;++x)o.push(String(x));if(T&&l.length>0)for(var b=0;b<l.length;++b)o.push(String(b));else for(var P in l)!(p&&P==="prototype")&&R.call(l,P)&&o.push(String(P));if(v)for(var m=f(l),L=0;L<r.length;++L)!(m&&r[L]==="constructor")&&R.call(l,r[L])&&o.push(r[L]);return o}}G.exports=g},41820:function(G,H,e){var g=Array.prototype.slice,R=e(97344),i=Object.keys,C=i?function(d){return i(d)}:e(32764),S=Object.keys;C.shim=function(){if(Object.keys){var d=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);d||(Object.keys=function(t){return R(t)?S(g.call(t)):S(t)})}else Object.keys=C;return Object.keys||C},G.exports=C},97344:function(G){var H=Object.prototype.toString;G.exports=function(g){var R=H.call(g),i=R==="[object Arguments]";return i||(i=R!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&H.call(g.callee)==="[object Function]"),i}},32868:function(G){function H(R,i){if(typeof R!="string")return[R];var C=[R];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var S=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",d=!!i.flat;S.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),f=[];function u(l,y,h){var T=C.push(l.slice(a[0].length,-a[1].length))-1;return f.push(T),v+T+v}C.forEach(function(l,y){for(var h,T=0;l!=h;)if(h=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");C[y]=l}),f=f.reverse(),C=C.map(function(l){return f.forEach(function(y){l=l.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),a[0]+"$1"+a[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(a,n,f){for(var u=[],l,y=0;l=r.exec(a);){if(y++>1e4)throw Error("Circular references in parenthesis");u.push(a.slice(0,l.index)),u.push(t(n[l[1]],n)),a=a.slice(l.index+l[0].length)}return u.push(a),u}return d?C:t(C[0],C)}function e(R,i){if(i&&i.flat){var C=i&&i.escape||"___",S=R[0],v;if(!S)return"";for(var d=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+R);v=S,S=S.replace(d,t)}return S}return R.reduce(function a(n,f){return Array.isArray(f)&&(f=f.reduce(a,"")),n+f},"");function t(a,n){if(R[n]==null)throw Error("Reference "+n+"is undefined");return R[n]}}function g(R,i){return Array.isArray(R)?e(R,i):H(R,i)}g.parse=H,g.stringify=e,G.exports=g},51160:function(G,H,e){var g=e(55616);G.exports=R;function R(i){var C;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?C={width:i[0],height:i[0],x:0,y:0}:i.length===2?C={width:i[0],height:i[1],x:0,y:0}:C={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=g(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:i.left||0,y:i.top||0},i.width==null?i.right?C.width=i.right-C.x:C.width=0:C.width=i.width,i.height==null?i.bottom?C.height=i.bottom-C.y:C.height=0:C.height=i.height),C}},21984:function(G){G.exports=g;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(C){var S=[];return C.replace(e,function(v,d,r){var t=d.toLowerCase();for(r=i(r),t=="m"&&r.length>2&&(S.push([d].concat(r.splice(0,2))),t="l",d=d=="m"?"l":"L");;){if(r.length==H[t])return r.unshift(d),S.push(r);if(r.length<H[t])throw new Error("malformed path data");S.push([d].concat(r.splice(0,H[t])))}}),S}var R=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(C){var S=C.match(R);return S?S.map(Number):[]}},65819:function(G){G.exports=function(e,g){g||(g=[0,""]),e=String(e);var R=parseFloat(e,10);return g[0]=R,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(G,H,e){var g=e(4168);(function(){var R,i,C,S,v,d;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(G.exports=function(){return(R()-v)/1e6},i=g.hrtime,R=function(){var r;return r=i(),r[0]*1e9+r[1]},S=R(),d=g.uptime()*1e9,v=S-d):Date.now?(G.exports=function(){return Date.now()-C},C=Date.now()):(G.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(R,i,C){var S={},v,d;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var r={};for(d=0;d<i.length;d++)r[i[d]]=!0;i=r}for(v in i)i[v]=e(i[v]);var t={};for(v in i){var a=i[v];if(Array.isArray(a))for(d=0;d<a.length;d++){var n=a[d];if(C&&(t[n]=!0),n in R){if(S[v]=R[n],C)for(var f=d;f<a.length;f++)t[a[f]]=!0;break}}else v in R&&(i[v]&&(S[v]=R[v]),C&&(t[v]=!0))}if(C)for(v in R)t[v]||(S[v]=R[v]);return S};var H={};function e(g){return H[g]?H[g]:(typeof g=="string"&&(g=H[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(G){G.exports=function(e,g,R,i){var C=e[0],S=e[1],v=!1;R===void 0&&(R=0),i===void 0&&(i=g.length);for(var d=i-R,r=0,t=d-1;r<d;t=r++){var a=g[r+R][0],n=g[r+R][1],f=g[t+R][0],u=g[t+R][1],l=n>S!=u>S&&C<(f-a)*(S-n)/(u-n)+a;l&&(v=!v)}return v}},14756:function(G,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),R=e(28648),i=e(72200),C=e(11403),S=e(82368),v=e(17792),d=!1,r=R(),t;t={buildLog:function(n){return n===!0?d=g():n===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=i(!0,r,d);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=i(!1,r,d);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,d),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,d),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,d),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,d),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,d),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,r,d),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return a(n,f,t.selectUnion)},intersect:function(n,f){return a(n,f,t.selectIntersect)},difference:function(n,f){return a(n,f,t.selectDifference)},differenceRev:function(n,f){return a(n,f,t.selectDifferenceRev)},xor:function(n,f){return a(n,f,t.selectXor)}};function a(n,f,u){var l=t.segments(n),y=t.segments(f),h=t.combine(l,y),T=u(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function H(){var e,g=0,R=!1;function i(C,S){return e.list.push({type:C,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(C,S){return i("check",{seg1:C,seg2:S})},segmentChop:function(C,S){return i("div_seg",{seg:C,pt:S}),i("chop",{seg:C,pt:S})},statusRemove:function(C){return i("pop_seg",{seg:C})},segmentUpdate:function(C){return i("seg_update",{seg:C})},segmentNew:function(C,S){return i("new_seg",{seg:C,primary:S})},segmentRemove:function(C){return i("rem_seg",{seg:C})},tempStatus:function(C,S,v){return i("temp_status",{seg:C,above:S,below:v})},rewind:function(C){return i("rewind",{seg:C})},status:function(C,S,v){return i("status",{seg:C,above:S,below:v})},vert:function(C){return C===R?e:(R=C,i("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),i("log",{txt:C})},reset:function(){return i("reset")},selected:function(C){return i("selected",{segs:C})},chainStart:function(C){return i("chain_start",{seg:C})},chainRemoveHead:function(C,S){return i("chain_rem_head",{index:C,pt:S})},chainRemoveTail:function(C,S){return i("chain_rem_tail",{index:C,pt:S})},chainNew:function(C,S){return i("chain_new",{pt1:C,pt2:S})},chainMatch:function(C){return i("chain_match",{index:C})},chainClose:function(C){return i("chain_close",{index:C})},chainAddHead:function(C,S){return i("chain_add_head",{index:C,pt:S})},chainAddTail:function(C,S){return i("chain_add_tail",{index:C,pt:S})},chainConnect:function(C,S){return i("chain_con",{index1:C,index2:S})},chainReverse:function(C){return i("chain_rev",{index:C})},chainJoin:function(C,S){return i("chain_join",{index1:C,index2:S})},done:function(){return i("done")}},e}G.exports=H},28648:function(G){function H(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(R){return typeof R=="number"&&(e=R),e},pointAboveOrOnLine:function(R,i,C){var S=i[0],v=i[1],d=C[0],r=C[1],t=R[0],a=R[1];return(d-S)*(a-v)-(r-v)*(t-S)>=-e},pointBetween:function(R,i,C){var S=R[1]-i[1],v=C[0]-i[0],d=R[0]-i[0],r=C[1]-i[1],t=d*v+S*r;if(t<e)return!1;var a=v*v+r*r;return!(t-a>-e)},pointsSameX:function(R,i){return Math.abs(R[0]-i[0])<e},pointsSameY:function(R,i){return Math.abs(R[1]-i[1])<e},pointsSame:function(R,i){return g.pointsSameX(R,i)&&g.pointsSameY(R,i)},pointsCompare:function(R,i){return g.pointsSameX(R,i)?g.pointsSameY(R,i)?0:R[1]<i[1]?-1:1:R[0]<i[0]?-1:1},pointsCollinear:function(R,i,C){var S=R[0]-i[0],v=R[1]-i[1],d=i[0]-C[0],r=i[1]-C[1];return Math.abs(S*r-d*v)<e},linesIntersect:function(R,i,C,S){var v=i[0]-R[0],d=i[1]-R[1],r=S[0]-C[0],t=S[1]-C[1],a=v*t-d*r;if(Math.abs(a)<e)return!1;var n=R[0]-C[0],f=R[1]-C[1],u=(r*f-t*n)/a,l=(v*f-d*n)/a,y={alongA:0,alongB:0,pt:[R[0]+u*v,R[1]+u*d]};return u<=-e?y.alongA=-2:u<e?y.alongA=-1:u-1<=-e?y.alongA=0:u-1<e?y.alongA=1:y.alongA=2,l<=-e?y.alongB=-2:l<e?y.alongB=-1:l-1<=-e?y.alongB=0:l-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(R,i){for(var C=R[0],S=R[1],v=i[i.length-1][0],d=i[i.length-1][1],r=!1,t=0;t<i.length;t++){var a=i[t][0],n=i[t][1];n-S>e!=d-S>e&&(v-a)*(S-n)/(d-n)+a-C>e&&(r=!r),v=a,d=n}return r}};return g}G.exports=H},17792:function(G){var H={toPolygon:function(e,g){function R(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var a=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[a]})}for(var d=v(S[0]),r=1;r<S.length;r++)d=e.selectDifference(e.combine(d,v(S[r])));return d}if(g.type==="Polygon")return e.polygon(R(g.coordinates));if(g.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),C=0;C<g.coordinates.length;C++)i=e.selectUnion(e.combine(i,R(g.coordinates[C])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,R){R=e.polygon(e.segments(R));function i(u,l){return g.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function C(u){return{region:u,children:[]}}var S=C(null);function v(u,l){for(var y=0;y<u.children.length;y++){var h=u.children[y];if(i(l,h.region)){v(h,l);return}}for(var T=C(l),y=0;y<u.children.length;y++){var h=u.children[y];i(h.region,l)&&(T.children.push(h),u.children.splice(y,1),y--)}u.children.push(T)}for(var d=0;d<R.regions.length;d++){var r=R.regions[d];r.length<3||v(S,r)}function t(u,l){for(var y=0,h=u[u.length-1][0],T=u[u.length-1][1],c=[],o=0;o<u.length;o++){var p=u[o][0],x=u[o][1];c.push([p,x]),y+=x*h-p*T,h=p,T=x}var b=y<0;return b!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var a=[];function n(u){var l=[t(u.region,!1)];a.push(l);for(var y=0;y<u.children.length;y++)l.push(f(u.children[y]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var d=0;d<S.children.length;d++)n(S.children[d]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};G.exports=H},72200:function(G,H,e){var g=e(48088);function R(i,C,S){function v(T,c){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function d(T,c,o){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=g.create();function t(T,c,o,p,x,b){var P=C.pointsCompare(c,x);return P!==0?P:C.pointsSame(o,b)?0:T!==p?T?1:-1:C.pointAboveOrOnLine(o,p?x:b,p?b:x)?1:-1}function a(T,c){r.insertBefore(T,function(o){var p=t(T.isStart,T.pt,c,o.isStart,o.pt,o.other.pt);return p<0})}function n(T,c){var o=g.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return a(o,T.end),o}function f(T,c,o){var p=g.node({isStart:!1,pt:c.end,seg:c,primary:o,other:T,status:null});T.other=p,a(p,T.pt)}function u(T,c){var o=n(T,c);return f(o,T,c),o}function l(T,c){S&&S.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,a(T.other,T.pt)}function y(T,c){var o=d(c,T.seg.end,T.seg);return l(T,c),u(o,T.primary)}function h(T,c){var o=g.create();function p(z,F){var U=z.seg.start,B=z.seg.end,V=F.seg.start,j=F.seg.end;return C.pointsCollinear(U,V,j)?C.pointsCollinear(B,V,j)||C.pointAboveOrOnLine(B,V,j)?1:-1:C.pointAboveOrOnLine(U,V,j)?1:-1}function x(z){return o.findTransition(function(F){var U=p(z,F.ev);return U>0})}function b(z,F){var U=z.seg,B=F.seg,V=U.start,j=U.end,Q=B.start,ee=B.end;S&&S.checkIntersection(U,B);var re=C.linesIntersect(V,j,Q,ee);if(re===!1){if(!C.pointsCollinear(V,j,Q)||C.pointsSame(V,ee)||C.pointsSame(j,Q))return!1;var ue=C.pointsSame(V,Q),J=C.pointsSame(j,ee);if(ue&&J)return F;var X=!ue&&C.pointBetween(V,Q,ee),ne=!J&&C.pointBetween(j,Q,ee);if(ue)return ne?y(F,j):y(z,ee),F;X&&(J||(ne?y(F,j):y(z,ee)),y(F,V))}else re.alongA===0&&(re.alongB===-1?y(z,Q):re.alongB===0?y(z,re.pt):re.alongB===1&&y(z,ee)),re.alongB===0&&(re.alongA===-1?y(F,V):re.alongA===0?y(F,re.pt):re.alongA===1&&y(F,j));return!1}for(var P=[];!r.isEmpty();){var m=r.getHead();if(S&&S.vert(m.pt[0]),m.isStart){let z=function(){if(M){var F=b(m,M);if(F)return F}return s?b(m,s):!1};S&&S.segmentNew(m.seg,m.primary);var L=x(m),M=L.before?L.before.ev:null,s=L.after?L.after.ev:null;S&&S.tempStatus(m.seg,M?M.seg:!1,s?s.seg:!1);var E=z();if(E){if(i){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,w&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=m.seg.myFill;S&&S.segmentUpdate(E.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){S&&S.rewind(m.seg);continue}if(i){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=T,w?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var _;s?m.primary===s.primary?_=s.seg.otherFill.above:_=s.seg.myFill.above:_=m.primary?c:T,m.seg.otherFill={above:_,below:_}}S&&S.status(m.seg,M?M.seg:!1,s?s.seg:!1),m.other.status=L.insert(g.node({ev:m}))}else{var D=m.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(D.prev)&&o.exists(D.next)&&b(D.prev.ev,D.next.ev),S&&S.statusRemove(D.ev.seg),D.remove(),!m.primary){var N=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=N}P.push(m.seg)}r.getHead().remove()}return S&&S.done(),P}return i?{addRegion:function(T){for(var c,o=T[T.length-1],p=0;p<T.length;p++){c=o,o=T[p];var x=C.pointsCompare(c,o);x!==0&&u(v(x<0?c:o,x<0?o:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,o,p){return T.forEach(function(x){u(d(x.start,x.end,x),!0)}),o.forEach(function(x){u(d(x.start,x.end,x),!1)}),h(c,p)}}}G.exports=R},48088:function(G){var H={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,R){for(var i=e.root,C=e.root.next;C!==null;){if(R(C)){g.prev=C.prev,g.next=C,C.prev.next=g,C.prev=g;return}i=C,C=C.next}i.next=g,g.prev=i,g.next=null},findTransition:function(g){for(var R=e.root,i=e.root.next;i!==null&&!g(i);)R=i,i=i.next;return{before:R===e.root?null:R,after:i,insert:function(C){return C.prev=R,C.next=i,R.next=C,i!==null&&(i.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=H},11403:function(G){function H(e,g,R){var i=[],C=[];return e.forEach(function(S){var v=S.start,d=S.end;if(g.pointsSame(v,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}R&&R.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=r;function n(E,w,_){return a.index=E,a.matches_head=w,a.matches_pt1=_,a===r?(a=t,!1):(a=null,!0)}for(var f=0;f<i.length;f++){var u=i[f],l=u[0];u[1];var y=u[u.length-1];if(u[u.length-2],g.pointsSame(l,v)){if(n(f,!0,!0))break}else if(g.pointsSame(l,d)){if(n(f,!0,!1))break}else if(g.pointsSame(y,v)){if(n(f,!1,!0))break}else if(g.pointsSame(y,d)&&n(f,!1,!1))break}if(a===r){i.push([v,d]),R&&R.chainNew(v,d);return}if(a===t){R&&R.chainMatch(r.index);var h=r.index,T=r.matches_pt1?d:v,c=r.matches_head,u=i[h],o=c?u[0]:u[u.length-1],p=c?u[1]:u[u.length-2],x=c?u[u.length-1]:u[0],b=c?u[u.length-2]:u[1];if(g.pointsCollinear(p,o,T)&&(c?(R&&R.chainRemoveHead(r.index,T),u.shift()):(R&&R.chainRemoveTail(r.index,T),u.pop()),o=p),g.pointsSame(x,T)){i.splice(h,1),g.pointsCollinear(b,x,o)&&(c?(R&&R.chainRemoveTail(r.index,o),u.pop()):(R&&R.chainRemoveHead(r.index,o),u.shift())),R&&R.chainClose(r.index),C.push(u);return}c?(R&&R.chainAddHead(r.index,T),u.unshift(T)):(R&&R.chainAddTail(r.index,T),u.push(T));return}function P(E){R&&R.chainReverse(E),i[E].reverse()}function m(E,w){var _=i[E],D=i[w],N=_[_.length-1],z=_[_.length-2],F=D[0],U=D[1];g.pointsCollinear(z,N,F)&&(R&&R.chainRemoveTail(E,N),_.pop(),N=z),g.pointsCollinear(N,F,U)&&(R&&R.chainRemoveHead(w,F),D.shift()),R&&R.chainJoin(E,w),i[E]=_.concat(D),i.splice(w,1)}var L=r.index,M=t.index;R&&R.chainConnect(L,M);var s=i[L].length<i[M].length;r.matches_head?t.matches_head?s?(P(L),m(L,M)):(P(M),m(M,L)):m(M,L):t.matches_head?m(L,M):s?(P(L),m(M,L)):(P(M),m(L,M))}),C}G.exports=H},82368:function(G){function H(g,R,i){var C=[];return g.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);R[v]!==0&&C.push({id:i?i.segmentId():-1,start:S.start,end:S.end,myFill:{above:R[v]===1,below:R[v]===2},otherFill:null})}),i&&i.selected(C),C}var e={union:function(g,R){return H(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],R)},intersect:function(g,R){return H(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],R)},difference:function(g,R){return H(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],R)},differenceRev:function(g,R){return H(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],R)},xor:function(g,R){return H(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],R)}};G.exports=e},9696:function(G,H,e){var g=e(29936).Transform,R=e(55619);function i(){g.call(this,{readableObjectMode:!0})}i.prototype=Object.create(g.prototype),i.prototype.constructor=i,R(i.prototype),H.gS=function(S,v,d){for(var r=v,t=0;t<d.length;)if(S[r++]!==d[t++])return!1;return!0},H.wR=function(S,v){var d=[],r=0;if(v&&v==="hex")for(;r<S.length;)d.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)d.push(S.charCodeAt(r)&255);return d},H.Bz=function(S,v){return S[v]|S[v+1]<<8},H.eW=function(S,v){return S[v+1]|S[v]<<8},H.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},H.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function C(S,v,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),d&&(this.statusCode=d)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(G){function H(R,i){var C=new Error(R);return C.code=i,C}function e(R){try{return decodeURIComponent(escape(R))}catch{return R}}function g(R,i,C){this.input=R.subarray(i,C),this.start=i;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}g.prototype.each=function(R){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,R)}},g.prototype.read_uint16=function(R){var i=this.input;if(R+2>i.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?i[R]*256+i[R+1]:i[R]+i[R+1]*256},g.prototype.read_uint32=function(R){var i=this.input;if(R+4>i.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?i[R]*16777216+i[R+1]*65536+i[R+2]*256+i[R+3]:i[R]+i[R+1]*256+i[R+2]*65536+i[R+3]*16777216},g.prototype.is_subifd_link=function(R,i){return R===0&&i===34665||R===0&&i===34853||R===34665&&i===40965},g.prototype.exif_format_length=function(R){switch(R){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(R,i){var C;switch(R){case 1:case 2:return C=this.input[i],C;case 6:return C=this.input[i],C|(C&128)*33554430;case 3:return C=this.read_uint16(i),C;case 8:return C=this.read_uint16(i),C|(C&32768)*131070;case 4:return C=this.read_uint32(i),C;case 9:return C=this.read_uint32(i),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(R,i,C){var S=this.read_uint16(i);i+=2;for(var v=0;v<S;v++){var d=this.read_uint16(i),r=this.read_uint16(i+2),t=this.read_uint32(i+4),a=this.exif_format_length(r),n=t*a,f=n<=4?i+8:this.read_uint32(i+8),u=!1;if(f+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var l=[],y=f,h=0;h<t;h++,y+=a){var T=this.exif_format_read(r,y);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(R,d)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:d,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:R,tag:d,format:r,count:t,entry_offset:i+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(C(c)===!1){this.aborted=!0;return}i+=12}R===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},G.exports.ExifParser=g,G.exports.get_orientation=function(R){var i=0;try{return new g(R,0,R.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return i=C.value[0],!1}),i}catch{return-1}}},44600:function(G,H,e){var g=e(9696).eW,R=e(9696).eI;function i(n,f){if(n.length<4+f)return null;var u=R(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}G.exports.unbox=i;function C(n,f){for(var u=0;;){var l=i(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:R(l.data,4),height:R(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function S(n,f,u){for(var l=0,y=0;y<u;y++)l=l*256+(n[f+y]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,y=n[5]>>4&15,h=g(n,6),T=8,c=0;c<h;c++){var o=g(n,T);T+=2;var p=g(n,T);T+=2;var x=S(n,T,y);T+=y;var b=g(n,T);if(T+=2,p===0&&b===1){var P=S(n,T,u),m=S(n,T+u,l);f.item_loc[o]={length:m,offset:P+x}}T+=b*(u+l)}}function d(n,f){for(var u=g(n,4),l=6,y=0;y<u;y++){var h=i(n,l);if(!h)break;if(h.boxtype==="infe"){for(var T=g(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);f.item_inf[c]=T}l=h.end}}function r(n,f){for(var u=0;;){var l=i(n,u);if(!l)break;l.boxtype==="ipco"&&C(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=i(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&d(l.data,f),u=l.end}}function a(n){var f=n.reduce(function(y,h){return y.width>h.width||y.width===h.width&&y.height>h.height?y:h}),u=n.reduce(function(y,h){return y.height>h.height||y.height===h.height&&y.width>h.width?y:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}G.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=a(f.sizes),l=1;f.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=T[l],l=T[l])),h.type==="irot")for(var o=0;o<h.value;o++)l=T[l]});var y=null;return f.item_inf.Exif&&(y=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:y}}},G.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).eI,C=e(44600),S=e(11688),v=g("ftyp");G.exports=function(d){if(R(d,4,v)){var r=C.unbox(d,0);if(r){var t=C.getMimeType(r.data);if(t){for(var a,n=r.end;;){var f=C.unbox(d,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){a=f.data;break}}if(a){var u=C.readSizeFromMeta(a);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=d.length){var y=i(d,u.exif_location.offset),h=d.slice(u.exif_location.offset+y+4,u.exif_location.offset+u.exif_location.length),T=S.get_orientation(h);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).Bz,C=g("BM");G.exports=function(S){if(!(S.length<26)&&R(S,0,C))return{width:i(S,18),height:i(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).Bz,C=g("GIF87a"),S=g("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!R(v,0,C)&&!R(v,0,S)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,H,e){var g=e(9696).Bz,R=0,i=1,C=16;G.exports=function(S){var v=g(S,0),d=g(S,2),r=g(S,4);if(!(v!==R||d!==i||!r)){for(var t=[],a={width:0,height:0},n=0;n<r;n++){var f=S[6+C*n]||256,u=S[6+C*n+1]||256,l={width:f,height:u};t.push(l),(f>a.width||u>a.height)&&(a=l)}return{width:a.width,height:a.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,H,e){var g=e(9696).eW,R=e(9696).wR,i=e(9696).gS,C=e(11688),S=R("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var d=2;;){for(;;){if(v.length-d<2)return;if(v[d++]===255)break}for(var r=v[d++],t;r===255;)r=v[d++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-d<2)return;t=g(v,d)-2,d+=2}else return;if(r===217||r===218)return;var a;if(r===225&&t>=10&&i(v,d,S)&&(a=C.get_orientation(v.slice(d+6,d+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-d<t)return;var n={width:g(v,d+3),height:g(v,d+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(n.orientation=a),n}d+=t}}},37276:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).eI,C=g(`PNG\r

`),S=g("IHDR");G.exports=function(v){if(!(v.length<24)&&R(v,0,C)&&R(v,12,S))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).eI,C=g("8BPS\0");G.exports=function(S){if(!(S.length<22)&&R(S,0,C))return{width:i(S,18),height:i(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function H(a){return a===32||a===9||a===13||a===10}function e(a){return typeof a=="number"&&isFinite(a)&&a>0}function g(a){var n=0,f=a.length;for(a[0]===239&&a[1]===187&&a[2]===191&&(n=3);n<f&&H(a[n]);)n++;return n===f?!1:a[n]===60}var R=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,d=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(a){var n=a.match(C),f=a.match(S),u=a.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(a){return d.test(a)?a.match(d)[0]:"px"}G.exports=function(a){if(g(a)){for(var n="",f=0;f<a.length;f++)n+=String.fromCharCode(a[f]);var u=(n.match(R)||[""])[0];if(i.test(u)){var l=r(u),y=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(y)||!e(h)?void 0:{width:y,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),c={width:T[2],height:T[3]},o=parseFloat(c.width),p=parseFloat(c.height);if(!(!e(o)||!e(p))&&t(c.width)===t(c.height)){var x=o/p;return l.width?e(y)?{width:y,height:y/x,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:p,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).Bz,C=e(9696).eW,S=e(9696).st,v=e(9696).eI,d=g("II*\0"),r=g("MM\0*");function t(f,u,l){return l?C(f,u):i(f,u)}function a(f,u,l){return l?v(f,u):S(f,u)}function n(f,u,l){var y=t(f,u+2,l),h=a(f,u+4,l);return h!==1||y!==3&&y!==4?null:y===3?t(f,u+8,l):a(f,u+8,l)}G.exports=function(f){if(!(f.length<8)&&!(!R(f,0,d)&&!R(f,0,r))){var u=f[0]===77,l=a(f,4,u)-8;if(!(l<0)){var y=l+8;if(!(f.length-y<2)){var h=t(f,y+0,u)*12;if(!(h<=0)&&(y+=2,!(f.length-y<h))){var T,c,o,p;for(T=0;T<h;T+=12)p=t(f,y+T,u),p===256?c=n(f,y+T,u):p===257&&(o=n(f,y+T,u));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,H,e){var g=e(9696).wR,R=e(9696).gS,i=e(9696).Bz,C=e(9696).st,S=e(11688),v=g("RIFF"),d=g("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:i(n,f+6)&16383,height:i(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=C(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!R(n,0,v)&&!R(n,8,d))){var f=12,u=null,l=0,y=C(n,4)+8;if(!(y>n.length)){for(;f+8<y;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),T=C(n,f+4);h==="VP8 "&&T>=10?u=u||r(n,f+8):h==="VP8L"&&T>=9?u=u||t(n,f+8):h==="VP8X"&&T>=10?u=u||a(n,f+8):h==="EXIF"&&(l=S.get_orientation(n.slice(f+8,f+8+T)),f=1/0),f+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(G,H,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,H,e){var g=e(87480);function R(i){for(var C=Object.keys(g),S=0;S<C.length;S++){var v=g[C[S]](i);if(v)return v}return null}G.exports=function(C){return R(C)},G.exports.parsers=g},4168:function(G){var H=G.exports={},e,g;function R(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=R}catch{e=R}try{typeof clearTimeout=="function"?g=clearTimeout:g=i}catch{g=i}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===R||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function S(l){if(g===clearTimeout)return clearTimeout(l);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],d=!1,r,t=-1;function a(){!d||!r||(d=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!d){var l=C(a);d=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,d=!1,S(l)}}H.nextTick=function(l){var y=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)y[h-1]=arguments[h];v.push(new f(l,y)),v.length===1&&!d&&C(n)};function f(l,y){this.fun=l,this.array=y}f.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function u(){}H.on=u,H.addListener=u,H.once=u,H.off=u,H.removeListener=u,H.removeAllListeners=u,H.emit=u,H.prependListener=u,H.prependOnceListener=u,H.listeners=function(l){return[]},H.binding=function(l){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(l){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},3951:function(G,H,e){for(var g=e(41984),R=typeof window>"u"?e.g:window,i=["moz","webkit"],C="AnimationFrame",S=R["request"+C],v=R["cancel"+C]||R["cancelRequest"+C],d=0;!S&&d<i.length;d++)S=R[i[d]+"Request"+C],v=R[i[d]+"Cancel"+C]||R[i[d]+"CancelRequest"+C];if(!S||!v){var r=0,t=0,a=[],n=1e3/60;S=function(f){if(a.length===0){var u=g(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var y=a.slice(0);a.length=0;for(var h=0;h<y.length;h++)if(!y[h].cancelled)try{y[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return a.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<a.length;u++)a[u].handle===f&&(a[u].cancelled=!0)}}G.exports=function(f){return S.call(R,f)},G.exports.cancel=function(){v.apply(R,arguments)},G.exports.polyfill=function(f){f||(f=R),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(G,H,e){var g=e(76752),R=e(72160),i=e(45223),C=e(55616),S=e(50896),v=e(47520),d=e(37816),r=d.float32,t=d.fract32;G.exports=n;var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,y,h,T,c,o,p,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=f.buffer({usage:"static",type:"float",data:a}),M(u),y=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(E,w){return[w.viewport.x,w.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,w){return w.offset*4},divisor:1},position:{buffer:h,offset:function(E,w){return w.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,w){return w.offset*8},divisor:1},error:{buffer:o,offset:function(E,w){return w.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:a.length}),S(P,{update:M,draw:m,destroy:s,regl:f,gl:l,canvas:l.canvas,groups:b}),P;function P(E){E?M(E):E===null&&s(),m()}function m(E){if(typeof E=="number")return L(E);E&&!Array.isArray(E)&&(E=[E]),f._refresh(),b.forEach(function(w,_){if(w){if(E&&(E[_]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}L(_)}})}function L(E){typeof E=="number"&&(E=b[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],y(E),E.after&&E.after(E))}function M(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var w=0,_=0;if(P.groups=b=E.map(function(V,j){var Q=b[j];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return Q;return V=C(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Q||(b[j]=Q={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=S({},x,V)),i(Q,V,[{lineWidth:function(ee){return+ee*.5},capSize:function(ee){return+ee*.5},opacity:parseFloat,errors:function(ee){return ee=v(ee),_+=ee.length,ee},positions:function(ee,re){return ee=v(ee,"float64"),re.count=Math.floor(ee.length/2),re.bounds=g(ee,2),re.offset=w,w+=re.count,ee}},{color:function(ee,re){var ue=re.count;if(ee||(ee="transparent"),!Array.isArray(ee)||typeof ee[0]=="number"){var J=ee;ee=Array(ue);for(var X=0;X<ue;X++)ee[X]=J}if(ee.length<ue)throw Error("Not enough colors");for(var ne=new Uint8Array(ue*4),Y=0;Y<ue;Y++){var oe=R(ee[Y],"uint8");ne.set(oe,Y*4)}return ne},range:function(ee,re,ue){var J=re.bounds;return ee||(ee=J),re.scale=[1/(ee[2]-ee[0]),1/(ee[3]-ee[1])],re.translate=[-ee[0],-ee[1]],re.scaleFract=t(re.scale),re.translateFract=t(re.translate),ee},viewport:function(ee){var re;return Array.isArray(ee)?re={x:ee[0],y:ee[1],width:ee[2]-ee[0],height:ee[3]-ee[1]}:ee?(re={x:ee.x||ee.left||0,y:ee.y||ee.top||0},ee.right?re.width=ee.right-re.x:re.width=ee.w||ee.width||0,ee.bottom?re.height=ee.bottom-re.y:re.height=ee.h||ee.height||0):re={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},re}}]),Q}),w||_){var D=b.reduce(function(V,j,Q){return V+(j?j.count:0)},0),N=new Float64Array(D*2),z=new Uint8Array(D*4),F=new Float32Array(D*4);b.forEach(function(V,j){if(V){var Q=V.positions,ee=V.count,re=V.offset,ue=V.color,J=V.errors;ee&&(z.set(ue,re*4),F.set(J,re*4),N.set(Q,re*2))}});var U=r(N);h(U);var B=t(N,U);T(B),c(z),o(F)}}}function s(){h.destroy(),T.destroy(),c.destroy(),o.destroy(),p.destroy()}}},13472:function(G,H,e){var g=e(72160),R=e(76752),i=e(50896),C=e(55616),S=e(47520),v=e(28912),d=e(71152),r=e(37816),t=r.float32,a=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=p;function p(x,b){if(!(this instanceof p))return new p(x,b);if(typeof x=="function"?(b||(b={}),b.regl=x):b=x,b.length&&(b.positions=b),x=b.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=p.shaders.has(x)?p.shaders.get(x):p.shaders.set(x,p.createShaders(x)).get(x),this.update(b)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new n,p.createShaders=function(x){var b=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),P={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,E){return E.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},m=x(i({vert:l,frag:y,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},P)),L;try{L=x(i({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},P))}catch{L=m}var M=x({primitive:"triangle",elements:function(s,E){return E.triangles},offset:0,vert:h,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:P.blend,depth:{enable:!1},scissor:P.scissor,stencil:P.stencil,viewport:P.viewport});return{fill:M,rect:m,miter:L}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var x,b=[],P=arguments.length;P--;)b[P]=arguments[P];b.length&&(x=this).update.apply(x,b),this.draw()},p.prototype.draw=function(){for(var x=this,b=[],P=arguments.length;P--;)b[P]=arguments[P];return(b.length?b:this.passes).forEach(function(m,L){var M;if(m&&Array.isArray(m))return(M=x).draw.apply(M,m);typeof m=="number"&&(m=x.passes[m]),m&&m.count>1&&m.opacity&&(x.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&x.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>p.precisionThreshold||m.scale[1]*m.viewport.height>p.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=p.maxPoints)?x.shaders.rect(m):x.shaders.miter(m)))}),this},p.prototype.update=function(x){var b=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var P=this,m=P.regl,L=P.gl;if(x.forEach(function(_,D){var N=b.passes[D];if(_!==void 0){if(_===null){b.passes[D]=null;return}if(typeof _[0]=="number"&&(_={positions:_}),_=C(_,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(b.passes[D]=N={id:D,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},_=i({},p.defaults,_)),_.thickness!=null&&(N.thickness=parseFloat(_.thickness)),_.opacity!=null&&(N.opacity=parseFloat(_.opacity)),_.miterLimit!=null&&(N.miterLimit=parseFloat(_.miterLimit)),_.overlay!=null&&(N.overlay=!!_.overlay,D<p.maxLines&&(N.depth=2*(p.maxLines-1-D%p.maxLines)/p.maxLines-1)),_.join!=null&&(N.join=_.join),_.hole!=null&&(N.hole=_.hole),_.fill!=null&&(N.fill=_.fill?g(_.fill,"uint8"):null),_.viewport!=null&&(N.viewport=f(_.viewport)),N.viewport||(N.viewport=f([L.drawingBufferWidth,L.drawingBufferHeight])),_.close!=null&&(N.close=_.close),_.positions===null&&(_.positions=[]),_.positions){var z,F;if(_.positions.x&&_.positions.y){var U=_.positions.x,B=_.positions.y;F=N.count=Math.max(U.length,B.length),z=new Float64Array(F*2);for(var V=0;V<F;V++)z[V*2]=U[V],z[V*2+1]=B[V]}else z=S(_.positions,"float64"),F=N.count=Math.floor(z.length/2);var j=N.bounds=R(z,2);if(N.fill){for(var Q=[],ee={},re=0,ue=0,J=0,X=N.count;ue<X;ue++){var ne=z[ue*2],Y=z[ue*2+1];isNaN(ne)||isNaN(Y)||ne==null||Y==null?(ne=z[re*2],Y=z[re*2+1],ee[ue]=re):re=ue,Q[J++]=ne,Q[J++]=Y}if(_.splitNull){N.count-1 in ee||(ee[N.count]=N.count-1);var oe=Object.keys(ee).map(Number).sort(function(pe,we){return pe-we}),le=[],Z=0,$=N.hole!=null?N.hole[0]:null;if($!=null){var se=u(oe,function(pe){return pe>=$});oe=oe.slice(0,se),oe.push($)}for(var ae=function(pe){var we=Q.slice(Z*2,oe[pe]*2).concat($?Q.slice($*2):[]),Ve=(N.hole||[]).map(function(it){return it-$+(oe[pe]-Z)}),Qe=v(we,Ve);Qe=Qe.map(function(it){return it+Z+(it+Z<oe[pe]?0:$-oe[pe])}),le.push.apply(le,Qe),Z=oe[pe]+1},he=0;he<oe.length;he++)ae(he);for(var me=0,Me=le.length;me<Me;me++)ee[le[me]]!=null&&(le[me]=ee[le[me]]);N.triangles=le}else{for(var Te=v(Q,N.hole||[]),Pe=0,be=Te.length;Pe<be;Pe++)ee[Te[Pe]]!=null&&(Te[Pe]=ee[Te[Pe]]);N.triangles=Te}}var Ee=new Float64Array(z);d(Ee,2,j);var xe=new Float64Array(F*2+6);N.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(xe[0]=Ee[F*2-4],xe[1]=Ee[F*2-3]):(xe[0]=Ee[F*2-2],xe[1]=Ee[F*2-1]):(xe[0]=Ee[0],xe[1]=Ee[1]),xe.set(Ee,2),N.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(xe[F*2+2]=Ee[2],xe[F*2+3]=Ee[3],N.count-=1):(xe[F*2+2]=Ee[0],xe[F*2+3]=Ee[1],xe[F*2+4]=Ee[2],xe[F*2+5]=Ee[3]):(xe[F*2+2]=Ee[F*2-2],xe[F*2+3]=Ee[F*2-1],xe[F*2+4]=Ee[F*2-2],xe[F*2+5]=Ee[F*2-1]);var Ce=t(xe);N.positionBuffer(Ce);var Ue=a(xe,Ce);N.positionFractBuffer(Ue)}if(_.range?N.range=_.range:N.range||(N.range=N.bounds),(_.range||_.positions)&&N.count){var Ne=N.bounds,De=Ne[2]-Ne[0],He=Ne[3]-Ne[1],at=N.range[2]-N.range[0],vt=N.range[3]-N.range[1];N.scale=[De/at,He/vt],N.translate=[-N.range[0]/at+Ne[0]/at||0,-N.range[1]/vt+Ne[1]/vt||0],N.scaleFract=a(N.scale),N.translateFract=a(N.translate)}if(_.dashes){var ot=0,et;if(!_.dashes||_.dashes.length<2)ot=1,et=new Uint8Array([255,255,255,255,255,255,255,255]);else{ot=0;for(var ct=0;ct<_.dashes.length;++ct)ot+=_.dashes[ct];et=new Uint8Array(ot*p.dashMult);for(var ht=0,gt=255,xt=0;xt<2;xt++)for(var Mt=0;Mt<_.dashes.length;++Mt){for(var tt=0,Oe=_.dashes[Mt]*p.dashMult*.5;tt<Oe;++tt)et[ht++]=gt;gt^=255}}N.dashLength=ot,N.dashTexture({channels:1,data:et,width:et.length,height:1,mag:"linear",min:"linear"},0,0)}if(_.color){var Xe=N.count,Ze=_.color;Ze||(Ze="transparent");var We=new Uint8Array(Xe*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var ze=g(Ze,"uint8"),ke=0;ke<Xe+1;ke++)We.set(ze,ke*4);else{for(var je=0;je<Xe;je++){var Ie=g(Ze[je],"uint8");We.set(Ie,je*4)}We.set(g(Ze[0],"uint8"),Xe*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}}),x.length<this.passes.length){for(var M=x.length;M<this.passes.length;M++){var s=this.passes[M];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=x.length}for(var E=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&E.push(this.passes[w]);return this.passes=E,this}},p.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,H,e){function g(s,E){var w=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(w!=null){var _,D,N,z,F=[],U=!0,B=!1;try{if(N=(w=w.call(s)).next,E!==0)for(;!(U=(_=N.call(w)).done)&&(F.push(_.value),F.length!==E);U=!0);}catch(V){B=!0,D=V}finally{try{if(!U&&w.return!=null&&(z=w.return(),Object(z)!==z))return}finally{if(B)throw D}}return F}}function R(s,E){return S(s)||g(s,E)||d(s,E)||a()}function i(s){return C(s)||v(s)||d(s)||t()}function C(s){if(Array.isArray(s))return r(s)}function S(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function d(s,E){if(s){if(typeof s=="string")return r(s,E);var w=Object.prototype.toString.call(s).slice(8,-1);if(w==="Object"&&s.constructor&&(w=s.constructor.name),w==="Map"||w==="Set")return Array.from(s);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return r(s,E)}}function r(s,E){(E==null||E>s.length)&&(E=s.length);for(var w=0,_=new Array(E);w<E;w++)_[w]=s[w];return _}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),y=e(50896),h=e(26444),T=e(55616),c=e(45223),o=e(47520),p=e(96604),x=e(37816),b=e(51160),P=m;function m(s,E){var w=this;if(!(this instanceof m))return new m(s,E);typeof s=="function"?(E||(E={}),E.regl=s):(E=s,s=null),E&&E.length&&(E.positions=E),s=E.regl;var _=s._gl,D,N=[],z={},F=[],U=[null],B=[null],V=255,j=100;this.tooManyColors=p,D=s.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:_,groups:F,markerCache:B,markerTextures:U,palette:N,paletteIds:z,paletteTexture:D,maxColors:V,maxSize:j,canvas:_.canvas}),this.update(E);var Q={uniforms:{constPointSize:!!E.constPointSize,opacity:s.prop("opacity"),paletteSize:function(J,X){return[w.tooManyColors?0:V,D.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:D},attributes:{x:function(J,X){return X.xAttr||{buffer:X.positionBuffer,stride:8,offset:0}},y:function(J,X){return X.yAttr||{buffer:X.positionBuffer,stride:8,offset:4}},xFract:function(J,X){return X.xAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:0}},yFract:function(J,X){return X.yAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:4}},size:function(J,X){return X.size.length?{buffer:X.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(X.size*255/w.maxSize)]}},borderSize:function(J,X){return X.borderSize.length?{buffer:X.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(X.borderSize*255/w.maxSize)]}},colorId:function(J,X){return X.color.length?{buffer:X.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?N.slice(X.color*4,X.color*4+4):[X.color]}},borderColorId:function(J,X){return X.borderColor.length?{buffer:X.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?N.slice(X.borderColor*4,X.borderColor*4+4):[X.borderColor]}},isActive:function(J,X){return X.activation===!0?{constant:[1]}:X.activation?X.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},ee=y({},Q);ee.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ee.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(ee);var re=y({},Q);re.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(re.frag=re.frag.replace("smoothstep","smoothStep"),ee.frag=ee.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(re)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,E=arguments.length,w=new Array(E),_=0;_<E;_++)w[_]=arguments[_];var D=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var N=0;N<w.length;N++)this.drawItem(N,w[N]);else D.forEach(function(z,F){s.drawItem(F)});return this},m.prototype.drawItem=function(s,E){var w=this.groups,_=w[s];if(typeof E=="number"&&(s=E,_=w[E],E=null),!!(_&&_.count&&_.opacity)){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,E));for(var D=[],N=1;N<_.activation.length;N++)!_.activation[N]||_.activation[N]!==!0&&!_.activation[N].data.length||D.push.apply(D,i(this.getMarkerDrawOptions(N,_,E)));D.length&&this.drawMarker(D)}},m.prototype.getMarkerDrawOptions=function(s,E,w){var _=E.range,D=E.tree,N=E.viewport,z=E.activation,F=E.selectionBuffer,U=E.count;if(this.regl,!D)return w?[y({},E,{markerTexture:this.markerTextures[s],activation:z[s],count:w.length,elements:w,offset:0})]:[y({},E,{markerTexture:this.markerTextures[s],activation:z[s],offset:0})];var B=[],V=D.range(_,{lod:!0,px:[(_[2]-_[0])/N.width,(_[3]-_[1])/N.height]});if(w){for(var j=z[s],Q=j.data,ee=new Uint8Array(U),re=0;re<w.length;re++){var ue=w[re];ee[ue]=Q?Q[ue]:1}F.subdata(ee)}for(var J=V.length;J--;){var X=R(V[J],2),ne=X[0],Y=X[1];B.push(y({},E,{markerTexture:this.markerTextures[s],activation:w?F:z[s],offset:ne,count:Y-ne}))}return B},m.prototype.update=function(){for(var s=this,E=arguments.length,w=new Array(E),_=0;_<E;_++)w[_]=arguments[_];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var D=this.groups,N=this.gl,z=this.regl,F=this.maxSize,U=this.maxColors,B=this.palette;this.groups=D=w.map(function(V,j){var Q=D[j];if(V===void 0)return Q;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=T(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(s.tooManyColors=V.tooManyColors),Q||(D[j]=Q={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=y({},m.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=Q.marker,delete Q.marker),V.marker&&!("positions"in V)&&(V.positions=Q.positions,delete Q.positions);var ee=0,re=0;if(c(Q,V,[{snap:!0,size:function(xe,Ce){return xe==null&&(xe=m.defaults.size),ee+=xe&&xe.length?1:0,xe},borderSize:function(xe,Ce){return xe==null&&(xe=m.defaults.borderSize),ee+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Ce){return xe==null&&(xe=m.defaults.color),xe=s.updateColor(xe),re++,xe},borderColor:function(xe,Ce){return xe==null&&(xe=m.defaults.borderColor),xe=s.updateColor(xe),re++,xe},bounds:function(xe,Ce,Ue){return"range"in Ue||(Ue.range=null),xe},positions:function(xe,Ce,Ue){var Ne=Ce.snap,De=Ce.positionBuffer,He=Ce.positionFractBuffer,at=Ce.selectionBuffer;if(xe.x||xe.y)return xe.x.length?Ce.xAttr={buffer:z.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:Ce.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?Ce.yAttr={buffer:z.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:Ce.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},Ce.count=Math.max(Ce.xAttr.count,Ce.yAttr.count),xe;xe=o(xe,"float64");var vt=Ce.count=Math.floor(xe.length/2),ot=Ce.bounds=vt?f(xe,2):null;if(!Ue.range&&!Ce.range&&(delete Ce.range,Ue.range=ot),!Ue.marker&&!Ce.marker&&(delete Ce.marker,Ue.marker=null),Ne&&(Ne===!0||vt>Ne)?Ce.tree=l(xe,{bounds:ot}):Ne&&Ne.length&&(Ce.tree=Ne),Ce.tree){var et={primitive:"points",usage:"static",data:Ce.tree,type:"uint32"};Ce.elements?Ce.elements(et):Ce.elements=z.elements(et)}var ct=x.float32(xe);De({data:ct,usage:"dynamic"});var ht=x.fract32(xe,ct);return He({data:ht,usage:"dynamic"}),at({data:new Uint8Array(vt),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Ce,Ue){var Ne=Ce.activation;if(Ne.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),Ne.length=0,!xe||typeof xe[0]=="number"){var De=s.addMarker(xe);Ne[De]=!0}else{for(var He=[],at=0,vt=Math.min(xe.length,Ce.count);at<vt;at++){var ot=s.addMarker(xe[at]);He[ot]||(He[ot]=new Uint8Array(Ce.count)),He[ot][at]=1}for(var et=0;et<He.length;et++)if(He[et]){var ct={data:He[et],type:"uint8",usage:"static"};Ne[et]?Ne[et](ct):Ne[et]=z.buffer(ct),Ne[et].data=He[et]}}return xe},range:function(xe,Ce,Ue){var Ne=Ce.bounds;if(Ne)return xe||(xe=Ne),Ce.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Ce.translate=[-xe[0],-xe[1]],Ce.scaleFract=x.fract(Ce.scale),Ce.translateFract=x.fract(Ce.translate),xe},viewport:function(xe){var Ce=b(xe||[N.drawingBufferWidth,N.drawingBufferHeight]);return Ce}}]),ee){var ue=Q,J=ue.count,X=ue.size,ne=ue.borderSize,Y=ue.sizeBuffer,oe=new Uint8Array(J*2);if(X.length||ne.length)for(var le=0;le<J;le++)oe[le*2]=Math.round((X[le]==null?X:X[le])*255/F),oe[le*2+1]=Math.round((ne[le]==null?ne:ne[le])*255/F);Y({data:oe,usage:"dynamic"})}if(re){var Z=Q,$=Z.count,se=Z.color,ae=Z.borderColor,he=Z.colorBuffer,me;if(s.tooManyColors){if(se.length||ae.length){me=new Uint8Array($*8);for(var Me=0;Me<$;Me++){var Te=se[Me];me[Me*8]=B[Te*4],me[Me*8+1]=B[Te*4+1],me[Me*8+2]=B[Te*4+2],me[Me*8+3]=B[Te*4+3];var Pe=ae[Me];me[Me*8+4]=B[Pe*4],me[Me*8+5]=B[Pe*4+1],me[Me*8+6]=B[Pe*4+2],me[Me*8+7]=B[Pe*4+3]}}}else if(se.length||ae.length){me=new Uint8Array($*4+2);for(var be=0;be<$;be++)se[be]!=null&&(me[be*4]=se[be]%U,me[be*4+1]=Math.floor(se[be]/U)),ae[be]!=null&&(me[be*4+2]=ae[be]%U,me[be*4+3]=Math.floor(ae[be]/U))}he({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Q})}},m.prototype.addMarker=function(s){var E=this.markerTextures,w=this.regl,_=this.markerCache,D=s==null?0:_.indexOf(s);if(D>=0)return D;var N;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)N=s;else{N=new Uint8Array(s.length);for(var z=0,F=s.length;z<F;z++)N[z]=s[z]*255}var U=Math.floor(Math.sqrt(N.length));return D=E.length,_.push(s),E.push(w.texture({channels:1,data:N,radius:U,mag:"linear",min:"linear"})),D},m.prototype.updateColor=function(s){var E=this.paletteIds,w=this.palette,_=this.maxColors;Array.isArray(s)||(s=[s]);var D=[];if(typeof s[0]=="number"){var N=[];if(Array.isArray(s))for(var z=0;z<s.length;z+=4)N.push(s.slice(z,z+4));else for(var F=0;F<s.length;F+=4)N.push(s.subarray(F,F+4));s=N}for(var U=0;U<s.length;U++){var B=s[U];B=n(B,"uint8");var V=u(B,!1);if(E[V]==null){var j=w.length;E[V]=Math.floor(j/4),w[j]=B[0],w[j+1]=B[1],w[j+2]=B[2],w[j+3]=B[3]}D[U]=E[V]}return!this.tooManyColors&&w.length>_*4&&(this.tooManyColors=!0),this.updatePalette(w),D.length===1?D[0]:D},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var E=this.maxColors,w=this.paletteTexture,_=Math.ceil(s.length*.25/E);if(_>1){s=s.slice();for(var D=s.length*.25%E;D<_*E;D++)s.push(0,0,0,0)}w.height<_&&w.resize(E,_),w.subimage({width:Math.min(s.length*.25,E),height:_,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var L=e(50896),M=function(E,w){var _=new P(E,w),D=_.render.bind(_);return L(D,{render:D,update:_.update.bind(_),draw:_.draw.bind(_),destroy:_.destroy.bind(_),regl:_.regl,gl:_.gl,canvas:_.gl.canvas,groups:_.groups,markers:_.markerCache,palette:_.palette}),D};G.exports=M},55795:function(G,H,e){var g=e(38540),R=e(55616),i=e(76752),C=e(3951),S=e(67752),v=e(51160),d=e(47520);G.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=g(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],y=arguments.length;y--;)l[y]=arguments[y];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,C(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var y=0;y<u.length;y++)this.updateItem(y,u[y]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],p=this.traces[c].passes,x=0;x<p.length;x++)h.push(this.passes[p[x]]);o.passOffset=T,T+=o.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,y=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=R(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[f]||(this.traces[f]={id:f,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(d(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=i(h.data[c],1)}var o;h.range&&(T.range=h.range,o=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var p=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(n),p=!0):T.padding=n(h.padding));var x=T.columns,b=T.count,P=T.viewport.width,m=T.viewport.height,L=T.viewport.x,M=T.viewport.y,s=P/x,E=m/x;T.passes=[];for(var w=0;w<x;w++)for(var _=0;_<x;_++)if(!(!T.diagonal&&_===w)&&!(!T.upper&&w>_)&&!(!T.lower&&w<_)){var D=t(T.id,w,_),N=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?N.positions={x:{buffer:T.buffer,offset:_,count:b,stride:x},y:{buffer:T.buffer,offset:w,count:b,stride:x}}:N.positions={x:{buffer:T.buffer,offset:_*b,count:b},y:{buffer:T.buffer,offset:w*b,count:b}},N.bounds=a(T.bounds,w,_)),h.domain||h.viewport||h.data){var z=p?a(T.padding,w,_):T.padding;if(T.domain){var F=a(T.domain,w,_),U=F[0],B=F[1],V=F[2],j=F[3];N.viewport=[L+U*P+z[0],M+B*m+z[1],L+V*P-z[2],M+j*m-z[3]]}else N.viewport=[L+_*s+s*z[0],M+w*E+E*z[1],L+(_+1)*s-s*z[2],M+(w+1)*E-E*z[3]]}h.color&&(N.color=T.color),h.size&&(N.size=T.size),h.marker&&(N.marker=T.marker),h.borderSize&&(N.borderSize=T.borderSize),h.borderColor&&(N.borderColor=T.borderColor),h.opacity&&(N.opacity=T.opacity),h.range&&(N.range=o?a(T.range,w,_):T.range||N.bounds),T.passes.push(D)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var y=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var T=this.traces[u[h]],c=T.passes,o=T.passOffset;y.push.apply(y,S(o,o+c.length))}else if(u[h].length){var p=u[h],x=this.traces[h],b=x.passes,P=x.passOffset;b=b.map(function(m,L){y[P+L]=p})}(f=this.scatter).draw.apply(f,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var y=f.id!=null?f.id:f,h=u,T=l,c=y<<16|(h&255)<<8|T&255;return c}function a(f,u,l){var y,h,T,c,o=f[u],p=f[l];return o.length>2?(o[0],o[2],y=o[1],h=o[3]):o.length?(y=o[0],h=o[1]):(o.x,y=o.y,o.x+o.width,h=o.y+o.height),p.length>2?(T=p[0],c=p[2],p[1],p[3]):p.length?(T=p[0],c=p[1]):(T=p.x,p.y,c=p.x+p.width,p.y+p.height),[T,y,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(G){(function(H,e){G.exports=e()})(this,function(){function H(yt,Kt){this.id=he++,this.type=yt,this.data=Kt}function e(yt){if(yt.length===0)return[];var Kt=yt.charAt(0),Jt=yt.charAt(yt.length-1);if(1<yt.length&&Kt===Jt&&(Kt==='"'||Kt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(yt.substr(Kt.index+Kt[0].length)));if(Kt=yt.split("."),Kt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Jt=0;Jt<Kt.length;++Jt)yt=yt.concat(e(Kt[Jt]));return yt}function g(yt){return"["+e(yt).join("][")+"]"}function R(yt,Kt){if(typeof yt=="function")return new H(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new H(5,yt);if(Array.isArray(yt))return new H(6,yt.map(function(Jt,yr){return R(Jt)}));if(yt instanceof H)return yt}function i(){var yt={"":0},Kt=[""];return{id:function(Jt){var yr=yt[Jt];return yr||(yr=yt[Jt]=Kt.length,Kt.push(Jt),yr)},str:function(Jt){return Kt[Jt]}}}function C(yt,Kt,Jt){function yr(){var lt=window.innerWidth,bt=window.innerHeight;yt!==document.body&&(bt=ur.getBoundingClientRect(),lt=bt.right-bt.left,bt=bt.bottom-bt.top),ur.width=Jt*lt,ur.height=Jt*bt}var ur=document.createElement("canvas");ae(ur.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(ur),yt===document.body&&(ur.style.position="absolute",ae(yt.style,{margin:0,padding:0}));var mt;return yt!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(yr)}),mt.observe(yt)):window.addEventListener("resize",yr,!1),yr(),{canvas:ur,onDestroy:function(){mt?mt.disconnect():window.removeEventListener("resize",yr),yt.removeChild(ur)}}}function S(yt,Kt){function Jt(yr){try{return yt.getContext(yr,Kt)}catch{return null}}return Jt("webgl")||Jt("experimental-webgl")||Jt("webgl-experimental")}function v(yt){return typeof yt=="string"?yt.split():yt}function d(yt){return typeof yt=="string"?document.querySelector(yt):yt}function r(yt){var Kt=yt||{},Jt,yr,ur,mt;yt={};var lt=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,It=!1,Ht={},Ut=function($t){},Bt=function(){};if(typeof Kt=="string"?Jt=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?Jt=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(mt=Kt,ur=mt.canvas):("gl"in Kt?mt=Kt.gl:"canvas"in Kt?ur=d(Kt.canvas):"container"in Kt&&(yr=d(Kt.container)),"attributes"in Kt&&(yt=Kt.attributes),"extensions"in Kt&&(lt=v(Kt.extensions)),"optionalExtensions"in Kt&&(bt=v(Kt.optionalExtensions)),"onDone"in Kt&&(Ut=Kt.onDone),"profile"in Kt&&(It=!!Kt.profile),"pixelRatio"in Kt&&(Et=+Kt.pixelRatio),"cachedCode"in Kt&&(Ht=Kt.cachedCode))),Jt&&(Jt.nodeName.toLowerCase()==="canvas"?ur=Jt:yr=Jt),!mt){if(!ur){if(Jt=C(yr||document.body,Ut,Et),!Jt)return null;ur=Jt.canvas,Bt=Jt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),mt=S(ur,yt)}return mt?{gl:mt,canvas:ur,container:yr,extensions:lt,optionalExtensions:bt,pixelRatio:Et,profile:It,cachedCode:Ht,onDone:Ut,onDestroy:Bt}:(Bt(),Ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(yt,Kt){function Jt(lt){lt=lt.toLowerCase();var bt;try{bt=yr[lt]=yt.getExtension(lt)}catch{}return!!bt}for(var yr={},ur=0;ur<Kt.extensions.length;++ur){var mt=Kt.extensions[ur];if(!Jt(mt))return Kt.onDestroy(),Kt.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach(Jt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(lt){if(yr[lt]&&!Jt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function a(yt,Kt){for(var Jt=Array(yt),yr=0;yr<yt;++yr)Jt[yr]=Kt(yr);return Jt}function n(yt){var Kt,Jt;return Kt=(65535<yt)<<4,yt>>>=Kt,Jt=(255<yt)<<3,yt>>>=Jt,Kt|=Jt,Jt=(15<yt)<<2,yt>>>=Jt,Kt|=Jt,Jt=(3<yt)<<1,Kt|Jt|yt>>>Jt>>1}function f(){function yt(yr){e:{for(var ur=16;268435456>=ur;ur*=16)if(yr<=ur){yr=ur;break e}yr=0}return ur=Jt[n(yr)>>2],0<ur.length?ur.pop():new ArrayBuffer(yr)}function Kt(yr){Jt[n(yr.byteLength)>>2].push(yr)}var Jt=a(8,function(){return[]});return{alloc:yt,free:Kt,allocType:function(yr,ur){var mt=null;switch(yr){case 5120:mt=new Int8Array(yt(ur),0,ur);break;case 5121:mt=new Uint8Array(yt(ur),0,ur);break;case 5122:mt=new Int16Array(yt(2*ur),0,ur);break;case 5123:mt=new Uint16Array(yt(2*ur),0,ur);break;case 5124:mt=new Int32Array(yt(4*ur),0,ur);break;case 5125:mt=new Uint32Array(yt(4*ur),0,ur);break;case 5126:mt=new Float32Array(yt(4*ur),0,ur);break;default:return null}return mt.length!==ur?mt.subarray(0,ur):mt},freeType:function(yr){Kt(yr.buffer)}}}function u(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Ee(yt.data))}function l(yt,Kt,Jt,yr,ur,mt){for(var lt=0;lt<Kt;++lt)for(var bt=yt[lt],Et=0;Et<Jt;++Et)for(var It=bt[Et],Ht=0;Ht<yr;++Ht)ur[mt++]=It[Ht]}function y(yt,Kt,Jt,yr,ur){for(var mt=1,lt=Jt+1;lt<Kt.length;++lt)mt*=Kt[lt];var bt=Kt[Jt];if(Kt.length-Jt===4){var Et=Kt[Jt+1],It=Kt[Jt+2];for(Kt=Kt[Jt+3],lt=0;lt<bt;++lt)l(yt[lt],Et,It,Kt,yr,ur),ur+=mt}else for(lt=0;lt<bt;++lt)y(yt[lt],Kt,Jt+1,yr,ur),ur+=mt}function h(yt){return Ue[Object.prototype.toString.call(yt)]|0}function T(yt,Kt){for(var Jt=0;Jt<Kt.length;++Jt)yt[Jt]=Kt[Jt]}function c(yt,Kt,Jt,yr,ur,mt,lt){for(var bt=0,Et=0;Et<Jt;++Et)for(var It=0;It<yr;++It)yt[bt++]=Kt[ur*Et+mt*It+lt]}function o(yt,Kt,Jt,yr){function ur(Ut){this.id=Et++,this.buffer=yt.createBuffer(),this.type=Ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Jt.profile&&(this.stats={size:0})}function mt(Ut,Bt,$t){Ut.byteLength=Bt.byteLength,yt.bufferData(Ut.type,Bt,$t)}function lt(Ut,Bt,$t,fr,Zt,vr){if(Ut.usage=$t,Array.isArray(Bt)){if(Ut.dtype=fr||5126,0<Bt.length)if(Array.isArray(Bt[0])){Zt=at(Bt);for(var Ye=fr=1;Ye<Zt.length;++Ye)fr*=Zt[Ye];Ut.dimension=fr,Bt=He(Bt,Zt,Ut.dtype),mt(Ut,Bt,$t),vr?Ut.persistentData=Bt:Pe.freeType(Bt)}else typeof Bt[0]=="number"?(Ut.dimension=Zt,Zt=Pe.allocType(Ut.dtype,Bt.length),T(Zt,Bt),mt(Ut,Zt,$t),vr?Ut.persistentData=Zt:Pe.freeType(Zt)):Ee(Bt[0])&&(Ut.dimension=Bt[0].length,Ut.dtype=fr||h(Bt[0])||5126,Bt=He(Bt,[Bt.length,Bt[0].length],Ut.dtype),mt(Ut,Bt,$t),vr?Ut.persistentData=Bt:Pe.freeType(Bt))}else if(Ee(Bt))Ut.dtype=fr||h(Bt),Ut.dimension=Zt,mt(Ut,Bt,$t),vr&&(Ut.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(u(Bt)){Zt=Bt.shape;var Ge=Bt.stride,Ye=Bt.offset,zt=0,Dt=0,Qt=0,nr=0;Zt.length===1?(zt=Zt[0],Dt=1,Qt=Ge[0],nr=0):Zt.length===2&&(zt=Zt[0],Dt=Zt[1],Qt=Ge[0],nr=Ge[1]),Ut.dtype=fr||h(Bt.data)||5126,Ut.dimension=Dt,Zt=Pe.allocType(Ut.dtype,zt*Dt),c(Zt,Bt.data,zt,Dt,Qt,nr,Ye),mt(Ut,Zt,$t),vr?Ut.persistentData=Zt:Pe.freeType(Zt)}else Bt instanceof ArrayBuffer&&(Ut.dtype=5121,Ut.dimension=Zt,mt(Ut,Bt,$t),vr&&(Ut.persistentData=new Uint8Array(new Uint8Array(Bt))))}function bt(Ut){Kt.bufferCount--,yr(Ut),yt.deleteBuffer(Ut.buffer),Ut.buffer=null,delete It[Ut.id]}var Et=0,It={};ur.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){bt(this)};var Ht=[];return Jt.profile&&(Kt.getTotalBufferSize=function(){var Ut=0;return Object.keys(It).forEach(function(Bt){Ut+=It[Bt].stats.size}),Ut}),{create:function(Ut,Bt,$t,fr){function Zt(Ye){var Ge=35044,zt=null,Dt=0,Qt=0,nr=1;return Array.isArray(Ye)||Ee(Ye)||u(Ye)||Ye instanceof ArrayBuffer?zt=Ye:typeof Ye=="number"?Dt=Ye|0:Ye&&("data"in Ye&&(zt=Ye.data),"usage"in Ye&&(Ge=De[Ye.usage]),"type"in Ye&&(Qt=Ne[Ye.type]),"dimension"in Ye&&(nr=Ye.dimension|0),"length"in Ye&&(Dt=Ye.length|0)),vr.bind(),zt?lt(vr,zt,Ge,Qt,nr,fr):(Dt&&yt.bufferData(vr.type,Dt,Ge),vr.dtype=Qt||5121,vr.usage=Ge,vr.dimension=nr,vr.byteLength=Dt),Jt.profile&&(vr.stats.size=vr.byteLength*vt[vr.dtype]),Zt}Kt.bufferCount++;var vr=new ur(Bt);return It[vr.id]=vr,$t||Zt(Ut),Zt._reglType="buffer",Zt._buffer=vr,Zt.subdata=function(Ye,Ge){var zt=(Ge||0)|0,Dt;if(vr.bind(),Ee(Ye)||Ye instanceof ArrayBuffer)yt.bufferSubData(vr.type,zt,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Qt=Pe.allocType(vr.dtype,Ye.length);T(Qt,Ye),yt.bufferSubData(vr.type,zt,Qt),Pe.freeType(Qt)}else(Array.isArray(Ye[0])||Ee(Ye[0]))&&(Dt=at(Ye),Qt=He(Ye,Dt,vr.dtype),yt.bufferSubData(vr.type,zt,Qt),Pe.freeType(Qt))}else if(u(Ye)){Dt=Ye.shape;var nr=Ye.stride,ir=Qt=0,tr=0,Ft=0;Dt.length===1?(Qt=Dt[0],ir=1,tr=nr[0],Ft=0):Dt.length===2&&(Qt=Dt[0],ir=Dt[1],tr=nr[0],Ft=nr[1]),Dt=Array.isArray(Ye.data)?vr.dtype:h(Ye.data),Dt=Pe.allocType(Dt,Qt*ir),c(Dt,Ye.data,Qt,ir,tr,Ft,Ye.offset),yt.bufferSubData(vr.type,zt,Dt),Pe.freeType(Dt)}return Zt},Jt.profile&&(Zt.stats=vr.stats),Zt.destroy=function(){bt(vr)},Zt},createStream:function(Ut,Bt){var $t=Ht.pop();return $t||($t=new ur(Ut)),$t.bind(),lt($t,Bt,35040,0,1,!1),$t},destroyStream:function(Ut){Ht.push(Ut)},clear:function(){xe(It).forEach(bt),Ht.forEach(bt)},getBuffer:function(Ut){return Ut&&Ut._buffer instanceof ur?Ut._buffer:null},restore:function(){xe(It).forEach(function(Ut){Ut.buffer=yt.createBuffer(),yt.bindBuffer(Ut.type,Ut.buffer),yt.bufferData(Ut.type,Ut.persistentData||Ut.byteLength,Ut.usage)})},_initBuffer:lt}}function p(yt,Kt,Jt,yr){function ur(Ut){this.id=Et++,bt[this.id]=this,this.buffer=Ut,this.primType=4,this.type=this.vertCount=0}function mt(Ut,Bt,$t,fr,Zt,vr,Ye){Ut.buffer.bind();var Ge;if(Bt?((Ge=Ye)||Ee(Bt)&&(!u(Bt)||Ee(Bt.data))||(Ge=Kt.oes_element_index_uint?5125:5123),Jt._initBuffer(Ut.buffer,Bt,$t,Ge,3)):(yt.bufferData(34963,vr,$t),Ut.buffer.dtype=Ge||5121,Ut.buffer.usage=$t,Ut.buffer.dimension=3,Ut.buffer.byteLength=vr),Ge=Ye,!Ye){switch(Ut.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Ut.buffer.dtype=Ge}Ut.type=Ge,Bt=Zt,0>Bt&&(Bt=Ut.buffer.byteLength,Ge===5123?Bt>>=1:Ge===5125&&(Bt>>=2)),Ut.vertCount=Bt,Bt=fr,0>fr&&(Bt=4,fr=Ut.buffer.dimension,fr===1&&(Bt=0),fr===2&&(Bt=1),fr===3&&(Bt=4)),Ut.primType=Bt}function lt(Ut){yr.elementsCount--,delete bt[Ut.id],Ut.buffer.destroy(),Ut.buffer=null}var bt={},Et=0,It={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(It.uint32=5125),ur.prototype.bind=function(){this.buffer.bind()};var Ht=[];return{create:function(Ut,Bt){function $t(vr){if(vr)if(typeof vr=="number")fr(vr),Zt.primType=4,Zt.vertCount=vr|0,Zt.type=5121;else{var Ye=null,Ge=35044,zt=-1,Dt=-1,Qt=0,nr=0;Array.isArray(vr)||Ee(vr)||u(vr)?Ye=vr:("data"in vr&&(Ye=vr.data),"usage"in vr&&(Ge=De[vr.usage]),"primitive"in vr&&(zt=ot[vr.primitive]),"count"in vr&&(Dt=vr.count|0),"type"in vr&&(nr=It[vr.type]),"length"in vr?Qt=vr.length|0:(Qt=Dt,nr===5123||nr===5122?Qt*=2:(nr===5125||nr===5124)&&(Qt*=4))),mt(Zt,Ye,Ge,zt,Dt,Qt,nr)}else fr(),Zt.primType=4,Zt.vertCount=0,Zt.type=5121;return $t}var fr=Jt.create(null,34963,!0),Zt=new ur(fr._buffer);return yr.elementsCount++,$t(Ut),$t._reglType="elements",$t._elements=Zt,$t.subdata=function(vr,Ye){return fr.subdata(vr,Ye),$t},$t.destroy=function(){lt(Zt)},$t},createStream:function(Ut){var Bt=Ht.pop();return Bt||(Bt=new ur(Jt.create(null,34963,!0,!1)._buffer)),mt(Bt,Ut,35040,-1,-1,0,0),Bt},destroyStream:function(Ut){Ht.push(Ut)},getElements:function(Ut){return typeof Ut=="function"&&Ut._elements instanceof ur?Ut._elements:null},clear:function(){xe(bt).forEach(lt)}}}function x(yt){for(var Kt=Pe.allocType(5123,yt.length),Jt=0;Jt<yt.length;++Jt)if(isNaN(yt[Jt]))Kt[Jt]=65535;else if(yt[Jt]===1/0)Kt[Jt]=31744;else if(yt[Jt]===-1/0)Kt[Jt]=64512;else{et[0]=yt[Jt];var mt=ct[0],yr=mt>>>31<<15,ur=(mt<<1>>>24)-127,mt=mt>>13&1023;Kt[Jt]=-24>ur?yr:-14>ur?yr+(mt+1024>>-14-ur):15<ur?yr+31744:yr+(ur+15<<10)+mt}return Kt}function b(yt){return Array.isArray(yt)||Ee(yt)}function P(yt){return"[object "+yt+"]"}function m(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function L(yt){return!!(Array.isArray(yt)&&yt.length!==0&&b(yt[0]))}function M(yt){return Object.prototype.toString.call(yt)}function s(yt){if(!yt)return!1;var Kt=M(yt);return 0<=ze.indexOf(Kt)?!0:m(yt)||L(yt)||u(yt)}function E(yt,Kt){yt.type===36193?(yt.data=x(Kt),Pe.freeType(Kt)):yt.data=Kt}function w(yt,Kt,Jt,yr,ur,mt){if(yt=typeof je[yt]<"u"?je[yt]:xt[yt]*ke[Kt],mt&&(yt*=6),ur){for(yr=0;1<=Jt;)yr+=yt*Jt*Jt,Jt/=2;return yr}return yt*Jt*yr}function _(yt,Kt,Jt,yr,ur,mt,lt){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(gr,en){gr.internalformat=en.internalformat,gr.format=en.format,gr.type=en.type,gr.compressed=en.compressed,gr.premultiplyAlpha=en.premultiplyAlpha,gr.flipY=en.flipY,gr.unpackAlignment=en.unpackAlignment,gr.colorSpace=en.colorSpace,gr.width=en.width,gr.height=en.height,gr.channels=en.channels}function It(gr,en){if(typeof en=="object"&&en){"premultiplyAlpha"in en&&(gr.premultiplyAlpha=en.premultiplyAlpha),"flipY"in en&&(gr.flipY=en.flipY),"alignment"in en&&(gr.unpackAlignment=en.alignment),"colorSpace"in en&&(gr.colorSpace=sn[en.colorSpace]),"type"in en&&(gr.type=an[en.type]);var $r=gr.width,hn=gr.height,Bn=gr.channels,Tn=!1;"shape"in en?($r=en.shape[0],hn=en.shape[1],en.shape.length===3&&(Bn=en.shape[2],Tn=!0)):("radius"in en&&($r=hn=en.radius),"width"in en&&($r=en.width),"height"in en&&(hn=en.height),"channels"in en&&(Bn=en.channels,Tn=!0)),gr.width=$r|0,gr.height=hn|0,gr.channels=Bn|0,$r=!1,"format"in en&&($r=en.format,hn=gr.internalformat=En[$r],gr.format=In[hn],$r in an&&!("type"in en)&&(gr.type=an[$r]),$r in Mn&&(gr.compressed=!0),$r=!0),!Tn&&$r?gr.channels=xt[gr.format]:Tn&&!$r&&gr.channels!==gt[gr.format]&&(gr.format=gr.internalformat=gt[gr.channels])}}function Ht(gr){yt.pixelStorei(37440,gr.flipY),yt.pixelStorei(37441,gr.premultiplyAlpha),yt.pixelStorei(37443,gr.colorSpace),yt.pixelStorei(3317,gr.unpackAlignment)}function Ut(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(gr,en){var $r=null;if(s(en)?$r=en:en&&(It(gr,en),"x"in en&&(gr.xOffset=en.x|0),"y"in en&&(gr.yOffset=en.y|0),s(en.data)&&($r=en.data)),en.copy){var hn=ur.viewportWidth,Bn=ur.viewportHeight;gr.width=gr.width||hn-gr.xOffset,gr.height=gr.height||Bn-gr.yOffset,gr.needsCopy=!0}else if(!$r)gr.width=gr.width||1,gr.height=gr.height||1,gr.channels=gr.channels||4;else if(Ee($r))gr.channels=gr.channels||4,gr.data=$r,"type"in en||gr.type!==5121||(gr.type=Ue[Object.prototype.toString.call($r)]|0);else if(m($r)){switch(gr.channels=gr.channels||4,hn=$r,Bn=hn.length,gr.type){case 5121:case 5123:case 5125:case 5126:Bn=Pe.allocType(gr.type,Bn),Bn.set(hn),gr.data=Bn;break;case 36193:gr.data=x(hn)}gr.alignment=1,gr.needsFree=!0}else if(u($r)){hn=$r.data,Array.isArray(hn)||gr.type!==5121||(gr.type=Ue[Object.prototype.toString.call(hn)]|0);var Bn=$r.shape,Tn=$r.stride,Sn,Nn,qn,va;Bn.length===3?(qn=Bn[2],va=Tn[2]):va=qn=1,Sn=Bn[0],Nn=Bn[1],Bn=Tn[0],Tn=Tn[1],gr.alignment=1,gr.width=Sn,gr.height=Nn,gr.channels=qn,gr.format=gr.internalformat=gt[qn],gr.needsFree=!0,Sn=va,$r=$r.offset,qn=gr.width,va=gr.height,Nn=gr.channels;for(var Da=Pe.allocType(gr.type===36193?5126:gr.type,qn*va*Nn),Mr=0,Or=0;Or<va;++Or)for(var Ar=0;Ar<qn;++Ar)for(var Fr=0;Fr<Nn;++Fr)Da[Mr++]=hn[Bn*Ar+Tn*Or+Sn*Fr+$r];E(gr,Da)}else if(M($r)===Mt||M($r)===tt||M($r)===Oe)M($r)===Mt||M($r)===tt?gr.element=$r:gr.element=$r.canvas,gr.width=gr.element.width,gr.height=gr.element.height,gr.channels=4;else if(M($r)===Xe)gr.element=$r,gr.width=$r.width,gr.height=$r.height,gr.channels=4;else if(M($r)===Ze)gr.element=$r,gr.width=$r.naturalWidth,gr.height=$r.naturalHeight,gr.channels=4;else if(M($r)===We)gr.element=$r,gr.width=$r.videoWidth,gr.height=$r.videoHeight,gr.channels=4;else if(L($r)){for(hn=gr.width||$r[0].length,Bn=gr.height||$r.length,Tn=gr.channels,Tn=b($r[0][0])?Tn||$r[0][0].length:Tn||1,Sn=Ce.shape($r),qn=1,va=0;va<Sn.length;++va)qn*=Sn[va];qn=Pe.allocType(gr.type===36193?5126:gr.type,qn),Ce.flatten($r,Sn,"",qn),E(gr,qn),gr.alignment=1,gr.width=hn,gr.height=Bn,gr.channels=Tn,gr.format=gr.internalformat=gt[Tn],gr.needsFree=!0}}function $t(gr,en,$r,hn,Bn){var Tn=gr.element,Sn=gr.data,Nn=gr.internalformat,qn=gr.format,va=gr.type,Da=gr.width,Mr=gr.height;Ht(gr),Tn?yt.texSubImage2D(en,Bn,$r,hn,qn,va,Tn):gr.compressed?yt.compressedTexSubImage2D(en,Bn,$r,hn,Nn,Da,Mr,Sn):gr.needsCopy?(yr(),yt.copyTexSubImage2D(en,Bn,$r,hn,gr.xOffset,gr.yOffset,Da,Mr)):yt.texSubImage2D(en,Bn,$r,hn,Da,Mr,qn,va,Sn)}function fr(){return Wn.pop()||new Ut}function Zt(gr){gr.needsFree&&Pe.freeType(gr.data),Ut.call(gr),Wn.push(gr)}function vr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(gr,en,$r){var hn=gr.images[0]=fr();gr.mipmask=1,hn.width=gr.width=en,hn.height=gr.height=$r,hn.channels=gr.channels=4}function Ge(gr,en){var $r=null;if(s(en))$r=gr.images[0]=fr(),Et($r,gr),Bt($r,en),gr.mipmask=1;else if(It(gr,en),Array.isArray(en.mipmap))for(var hn=en.mipmap,Bn=0;Bn<hn.length;++Bn)$r=gr.images[Bn]=fr(),Et($r,gr),$r.width>>=Bn,$r.height>>=Bn,Bt($r,hn[Bn]),gr.mipmask|=1<<Bn;else $r=gr.images[0]=fr(),Et($r,gr),Bt($r,en),gr.mipmask=1;Et(gr,gr.images[0])}function zt(gr,en){for(var $r=gr.images,hn=0;hn<$r.length&&$r[hn];++hn){var Bn=$r[hn],Tn=en,Sn=hn,Nn=Bn.element,qn=Bn.data,va=Bn.internalformat,Da=Bn.format,Mr=Bn.type,Or=Bn.width,Ar=Bn.height;Ht(Bn),Nn?yt.texImage2D(Tn,Sn,Da,Da,Mr,Nn):Bn.compressed?yt.compressedTexImage2D(Tn,Sn,va,Or,Ar,0,qn):Bn.needsCopy?(yr(),yt.copyTexImage2D(Tn,Sn,Da,Bn.xOffset,Bn.yOffset,Or,Ar,0)):yt.texImage2D(Tn,Sn,Da,Or,Ar,0,Da,Mr,qn||null)}}function Dt(){var gr=oa.pop()||new vr;bt.call(gr);for(var en=gr.mipmask=0;16>en;++en)gr.images[en]=null;return gr}function Qt(gr){for(var en=gr.images,$r=0;$r<en.length;++$r)en[$r]&&Zt(en[$r]),en[$r]=null;oa.push(gr)}function nr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ir(gr,en){"min"in en&&(gr.minFilter=Ir[en.min],0<=ht.indexOf(gr.minFilter)&&!("faces"in en)&&(gr.genMipmaps=!0)),"mag"in en&&(gr.magFilter=Pr[en.mag]);var $r=gr.wrapS,hn=gr.wrapT;if("wrap"in en){var Bn=en.wrap;typeof Bn=="string"?$r=hn=Vr[Bn]:Array.isArray(Bn)&&($r=Vr[Bn[0]],hn=Vr[Bn[1]])}else"wrapS"in en&&($r=Vr[en.wrapS]),"wrapT"in en&&(hn=Vr[en.wrapT]);if(gr.wrapS=$r,gr.wrapT=hn,"anisotropic"in en&&(gr.anisotropic=en.anisotropic),"mipmap"in en){switch($r=!1,typeof en.mipmap){case"string":gr.mipmapHint=hr[en.mipmap],$r=gr.genMipmaps=!0;break;case"boolean":$r=gr.genMipmaps=en.mipmap;break;case"object":gr.genMipmaps=!1,$r=!0}!$r||"min"in en||(gr.minFilter=9984)}}function tr(gr,en){yt.texParameteri(en,10241,gr.minFilter),yt.texParameteri(en,10240,gr.magFilter),yt.texParameteri(en,10242,gr.wrapS),yt.texParameteri(en,10243,gr.wrapT),Kt.ext_texture_filter_anisotropic&&yt.texParameteri(en,34046,gr.anisotropic),gr.genMipmaps&&(yt.hint(33170,gr.mipmapHint),yt.generateMipmap(en))}function Ft(gr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ma++,this.refCount=1,this.target=gr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nr,lt.profile&&(this.stats={size:0})}function cr(gr){yt.activeTexture(33984),yt.bindTexture(gr.target,gr.texture)}function pr(){var gr=Qn[0];gr?yt.bindTexture(gr.target,gr.texture):yt.bindTexture(3553,null)}function br(gr){var en=gr.texture,$r=gr.unit,hn=gr.target;0<=$r&&(yt.activeTexture(33984+$r),yt.bindTexture(hn,null),Qn[$r]=null),yt.deleteTexture(en),gr.texture=null,gr.params=null,gr.pixels=null,gr.refCount=0,delete Ta[gr.id],mt.textureCount--}var hr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Vr={repeat:10497,clamp:33071,mirror:33648},Pr={nearest:9728,linear:9729},Ir=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Pr),sn={none:0,browser:37444},an={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},En={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Mn={};Kt.ext_srgb&&(En.srgb=35904,En.srgba=35906),Kt.oes_texture_float&&(an.float32=an.float=5126),Kt.oes_texture_half_float&&(an.float16=an["half float"]=36193),Kt.webgl_depth_texture&&(ae(En,{depth:6402,"depth stencil":34041}),ae(an,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&ae(Mn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&ae(Mn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&ae(Mn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(Mn["rgb etc1"]=36196);var xr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(Mn).forEach(function(gr){var en=Mn[gr];0<=xr.indexOf(en)&&(En[gr]=en)});var _r=Object.keys(En);Jt.textureFormats=_r;var Yr=[];Object.keys(En).forEach(function(gr){Yr[En[gr]]=gr});var zr=[];Object.keys(an).forEach(function(gr){zr[an[gr]]=gr});var gn=[];Object.keys(Pr).forEach(function(gr){gn[Pr[gr]]=gr});var dn=[];Object.keys(Ir).forEach(function(gr){dn[Ir[gr]]=gr});var Rn=[];Object.keys(Vr).forEach(function(gr){Rn[Vr[gr]]=gr});var In=_r.reduce(function(gr,en){var $r=En[en];return $r===6409||$r===6406||$r===6409||$r===6410||$r===6402||$r===34041||Kt.ext_srgb&&($r===35904||$r===35906)?gr[$r]=$r:$r===32855||0<=en.indexOf("rgba")?gr[$r]=6408:gr[$r]=6407,gr},{}),Wn=[],oa=[],ma=0,Ta={},Yn=Jt.maxTextureUnits,Qn=Array(Yn).map(function(){return null});return ae(Ft.prototype,{bind:function(){this.bindCount+=1;var gr=this.unit;if(0>gr){for(var en=0;en<Yn;++en){var $r=Qn[en];if($r){if(0<$r.bindCount)continue;$r.unit=-1}Qn[en]=this,gr=en;break}lt.profile&&mt.maxTextureUnits<gr+1&&(mt.maxTextureUnits=gr+1),this.unit=gr,yt.activeTexture(33984+gr),yt.bindTexture(this.target,this.texture)}return gr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&br(this)}}),lt.profile&&(mt.getTotalTextureSize=function(){var gr=0;return Object.keys(Ta).forEach(function(en){gr+=Ta[en].stats.size}),gr}),{create2D:function(gr,en){function $r(Bn,Tn){var Sn=hn.texInfo;nr.call(Sn);var Nn=Dt();return typeof Bn=="number"?typeof Tn=="number"?Ye(Nn,Bn|0,Tn|0):Ye(Nn,Bn|0,Bn|0):Bn?(ir(Sn,Bn),Ge(Nn,Bn)):Ye(Nn,1,1),Sn.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),hn.mipmask=Nn.mipmask,Et(hn,Nn),hn.internalformat=Nn.internalformat,$r.width=Nn.width,$r.height=Nn.height,cr(hn),zt(Nn,3553),tr(Sn,3553),pr(),Qt(Nn),lt.profile&&(hn.stats.size=w(hn.internalformat,hn.type,Nn.width,Nn.height,Sn.genMipmaps,!1)),$r.format=Yr[hn.internalformat],$r.type=zr[hn.type],$r.mag=gn[Sn.magFilter],$r.min=dn[Sn.minFilter],$r.wrapS=Rn[Sn.wrapS],$r.wrapT=Rn[Sn.wrapT],$r}var hn=new Ft(3553);return Ta[hn.id]=hn,mt.textureCount++,$r(gr,en),$r.subimage=function(Bn,Tn,Sn,Nn){Tn|=0,Sn|=0,Nn|=0;var qn=fr();return Et(qn,hn),qn.width=0,qn.height=0,Bt(qn,Bn),qn.width=qn.width||(hn.width>>Nn)-Tn,qn.height=qn.height||(hn.height>>Nn)-Sn,cr(hn),$t(qn,3553,Tn,Sn,Nn),pr(),Zt(qn),$r},$r.resize=function(Bn,Tn){var Sn=Bn|0,Nn=Tn|0||Sn;if(Sn===hn.width&&Nn===hn.height)return $r;$r.width=hn.width=Sn,$r.height=hn.height=Nn,cr(hn);for(var qn=0;hn.mipmask>>qn;++qn){var va=Sn>>qn,Da=Nn>>qn;if(!va||!Da)break;yt.texImage2D(3553,qn,hn.format,va,Da,0,hn.format,hn.type,null)}return pr(),lt.profile&&(hn.stats.size=w(hn.internalformat,hn.type,Sn,Nn,!1,!1)),$r},$r._reglType="texture2d",$r._texture=hn,lt.profile&&($r.stats=hn.stats),$r.destroy=function(){hn.decRef()},$r},createCube:function(gr,en,$r,hn,Bn,Tn){function Sn(va,Da,Mr,Or,Ar,Fr){var bn,Dn=Nn.texInfo;for(nr.call(Dn),bn=0;6>bn;++bn)qn[bn]=Dt();if(typeof va=="number"||!va)for(va=va|0||1,bn=0;6>bn;++bn)Ye(qn[bn],va,va);else if(typeof va=="object")if(Da)Ge(qn[0],va),Ge(qn[1],Da),Ge(qn[2],Mr),Ge(qn[3],Or),Ge(qn[4],Ar),Ge(qn[5],Fr);else if(ir(Dn,va),It(Nn,va),"faces"in va)for(va=va.faces,bn=0;6>bn;++bn)Et(qn[bn],Nn),Ge(qn[bn],va[bn]);else for(bn=0;6>bn;++bn)Ge(qn[bn],va);for(Et(Nn,qn[0]),Nn.mipmask=Dn.genMipmaps?(qn[0].width<<1)-1:qn[0].mipmask,Nn.internalformat=qn[0].internalformat,Sn.width=qn[0].width,Sn.height=qn[0].height,cr(Nn),bn=0;6>bn;++bn)zt(qn[bn],34069+bn);for(tr(Dn,34067),pr(),lt.profile&&(Nn.stats.size=w(Nn.internalformat,Nn.type,Sn.width,Sn.height,Dn.genMipmaps,!0)),Sn.format=Yr[Nn.internalformat],Sn.type=zr[Nn.type],Sn.mag=gn[Dn.magFilter],Sn.min=dn[Dn.minFilter],Sn.wrapS=Rn[Dn.wrapS],Sn.wrapT=Rn[Dn.wrapT],bn=0;6>bn;++bn)Qt(qn[bn]);return Sn}var Nn=new Ft(34067);Ta[Nn.id]=Nn,mt.cubeCount++;var qn=Array(6);return Sn(gr,en,$r,hn,Bn,Tn),Sn.subimage=function(va,Da,Mr,Or,Ar){Mr|=0,Or|=0,Ar|=0;var Fr=fr();return Et(Fr,Nn),Fr.width=0,Fr.height=0,Bt(Fr,Da),Fr.width=Fr.width||(Nn.width>>Ar)-Mr,Fr.height=Fr.height||(Nn.height>>Ar)-Or,cr(Nn),$t(Fr,34069+va,Mr,Or,Ar),pr(),Zt(Fr),Sn},Sn.resize=function(va){if(va|=0,va!==Nn.width){Sn.width=Nn.width=va,Sn.height=Nn.height=va,cr(Nn);for(var Da=0;6>Da;++Da)for(var Mr=0;Nn.mipmask>>Mr;++Mr)yt.texImage2D(34069+Da,Mr,Nn.format,va>>Mr,va>>Mr,0,Nn.format,Nn.type,null);return pr(),lt.profile&&(Nn.stats.size=w(Nn.internalformat,Nn.type,Sn.width,Sn.height,!1,!0)),Sn}},Sn._reglType="textureCube",Sn._texture=Nn,lt.profile&&(Sn.stats=Nn.stats),Sn.destroy=function(){Nn.decRef()},Sn},clear:function(){for(var gr=0;gr<Yn;++gr)yt.activeTexture(33984+gr),yt.bindTexture(3553,null),Qn[gr]=null;xe(Ta).forEach(br),mt.cubeCount=0,mt.textureCount=0},getTexture:function(gr){return null},restore:function(){for(var gr=0;gr<Yn;++gr){var en=Qn[gr];en&&(en.bindCount=0,en.unit=-1,Qn[gr]=null)}xe(Ta).forEach(function($r){$r.texture=yt.createTexture(),yt.bindTexture($r.target,$r.texture);for(var hn=0;32>hn;++hn)if($r.mipmask&1<<hn)if($r.target===3553)yt.texImage2D(3553,hn,$r.internalformat,$r.width>>hn,$r.height>>hn,0,$r.internalformat,$r.type,null);else for(var Bn=0;6>Bn;++Bn)yt.texImage2D(34069+Bn,hn,$r.internalformat,$r.width>>hn,$r.height>>hn,0,$r.internalformat,$r.type,null);tr($r.texInfo,$r.target)})},refresh:function(){for(var gr=0;gr<Yn;++gr){var en=Qn[gr];en&&(en.bindCount=0,en.unit=-1,Qn[gr]=null),yt.activeTexture(33984+gr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function D(yt,Kt,Jt,yr,ur,mt){function lt(Ft,cr,pr){this.target=Ft,this.texture=cr,this.renderbuffer=pr;var br=Ft=0;cr?(Ft=cr.width,br=cr.height):pr&&(Ft=pr.width,br=pr.height),this.width=Ft,this.height=br}function bt(Ft){Ft&&(Ft.texture&&Ft.texture._texture.decRef(),Ft.renderbuffer&&Ft.renderbuffer._renderbuffer.decRef())}function Et(Ft,cr,pr){Ft&&(Ft.texture?Ft.texture._texture.refCount+=1:Ft.renderbuffer._renderbuffer.refCount+=1)}function It(Ft,cr){cr&&(cr.texture?yt.framebufferTexture2D(36160,Ft,cr.target,cr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,Ft,36161,cr.renderbuffer._renderbuffer.renderbuffer))}function Ht(Ft){var cr=3553,pr=null,br=null,hr=Ft;return typeof Ft=="object"&&(hr=Ft.data,"target"in Ft&&(cr=Ft.target|0)),Ft=hr._reglType,Ft==="texture2d"||Ft==="textureCube"?pr=hr:Ft==="renderbuffer"&&(br=hr,cr=36161),new lt(cr,pr,br)}function Ut(Ft,cr,pr,br,hr){return pr?(Ft=yr.create2D({width:Ft,height:cr,format:br,type:hr}),Ft._texture.refCount=0,new lt(3553,Ft,null)):(Ft=ur.create({width:Ft,height:cr,format:br}),Ft._renderbuffer.refCount=0,new lt(36161,null,Ft))}function Bt(Ft){return Ft&&(Ft.texture||Ft.renderbuffer)}function $t(Ft,cr,pr){Ft&&(Ft.texture?Ft.texture.resize(cr,pr):Ft.renderbuffer&&Ft.renderbuffer.resize(cr,pr),Ft.width=cr,Ft.height=pr)}function fr(){this.id=ir++,tr[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Zt(Ft){Ft.colorAttachments.forEach(bt),bt(Ft.depthAttachment),bt(Ft.stencilAttachment),bt(Ft.depthStencilAttachment)}function vr(Ft){yt.deleteFramebuffer(Ft.framebuffer),Ft.framebuffer=null,mt.framebufferCount--,delete tr[Ft.id]}function Ye(Ft){var cr;yt.bindFramebuffer(36160,Ft.framebuffer);var pr=Ft.colorAttachments;for(cr=0;cr<pr.length;++cr)It(36064+cr,pr[cr]);for(cr=pr.length;cr<Jt.maxColorAttachments;++cr)yt.framebufferTexture2D(36160,36064+cr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),It(36096,Ft.depthAttachment),It(36128,Ft.stencilAttachment),It(33306,Ft.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,yt.getError()}function Ge(Ft,cr){function pr(hr,Vr){var Pr,Ir=0,sn=0,an=!0,En=!0;Pr=null;var Mn=!0,xr="rgba",_r="uint8",Yr=1,zr=null,gn=null,dn=null,Rn=!1;typeof hr=="number"?(Ir=hr|0,sn=Vr|0||Ir):hr?("shape"in hr?(sn=hr.shape,Ir=sn[0],sn=sn[1]):("radius"in hr&&(Ir=sn=hr.radius),"width"in hr&&(Ir=hr.width),"height"in hr&&(sn=hr.height)),("color"in hr||"colors"in hr)&&(Pr=hr.color||hr.colors),Pr||("colorCount"in hr&&(Yr=hr.colorCount|0),"colorTexture"in hr&&(Mn=!!hr.colorTexture,xr="rgba4"),"colorType"in hr&&(_r=hr.colorType,!Mn)&&(_r==="half float"||_r==="float16"?xr="rgba16f":(_r==="float"||_r==="float32")&&(xr="rgba32f")),"colorFormat"in hr&&(xr=hr.colorFormat,0<=Dt.indexOf(xr)?Mn=!0:0<=Qt.indexOf(xr)&&(Mn=!1))),("depthTexture"in hr||"depthStencilTexture"in hr)&&(Rn=!(!hr.depthTexture&&!hr.depthStencilTexture)),"depth"in hr&&(typeof hr.depth=="boolean"?an=hr.depth:(zr=hr.depth,En=!1)),"stencil"in hr&&(typeof hr.stencil=="boolean"?En=hr.stencil:(gn=hr.stencil,an=!1)),"depthStencil"in hr&&(typeof hr.depthStencil=="boolean"?an=En=hr.depthStencil:(dn=hr.depthStencil,En=an=!1))):Ir=sn=1;var In=null,Wn=null,oa=null,ma=null;if(Array.isArray(Pr))In=Pr.map(Ht);else if(Pr)In=[Ht(Pr)];else for(In=Array(Yr),Pr=0;Pr<Yr;++Pr)In[Pr]=Ut(Ir,sn,Mn,xr,_r);for(Ir=Ir||In[0].width,sn=sn||In[0].height,zr?Wn=Ht(zr):an&&!En&&(Wn=Ut(Ir,sn,Rn,"depth","uint32")),gn?oa=Ht(gn):En&&!an&&(oa=Ut(Ir,sn,!1,"stencil","uint8")),dn?ma=Ht(dn):!zr&&!gn&&En&&an&&(ma=Ut(Ir,sn,Rn,"depth stencil","depth stencil")),an=null,Pr=0;Pr<In.length;++Pr)Et(In[Pr]),In[Pr]&&In[Pr].texture&&(En=we[In[Pr].texture._texture.format]*Ve[In[Pr].texture._texture.type],an===null&&(an=En));return Et(Wn),Et(oa),Et(ma),Zt(br),br.width=Ir,br.height=sn,br.colorAttachments=In,br.depthAttachment=Wn,br.stencilAttachment=oa,br.depthStencilAttachment=ma,pr.color=In.map(Bt),pr.depth=Bt(Wn),pr.stencil=Bt(oa),pr.depthStencil=Bt(ma),pr.width=br.width,pr.height=br.height,Ye(br),pr}var br=new fr;return mt.framebufferCount++,pr(Ft,cr),ae(pr,{resize:function(hr,Vr){var Pr=Math.max(hr|0,1),Ir=Math.max(Vr|0||Pr,1);if(Pr===br.width&&Ir===br.height)return pr;for(var sn=br.colorAttachments,an=0;an<sn.length;++an)$t(sn[an],Pr,Ir);return $t(br.depthAttachment,Pr,Ir),$t(br.stencilAttachment,Pr,Ir),$t(br.depthStencilAttachment,Pr,Ir),br.width=pr.width=Pr,br.height=pr.height=Ir,Ye(br),pr},_reglType:"framebuffer",_framebuffer:br,destroy:function(){vr(br),Zt(br)},use:function(hr){zt.setFBO({framebuffer:pr},hr)}})}var zt={cur:null,next:null,dirty:!1,setFBO:null},Dt=["rgba"],Qt=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&Qt.push("srgba"),Kt.ext_color_buffer_half_float&&Qt.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&Qt.push("rgba32f");var nr=["uint8"];Kt.oes_texture_half_float&&nr.push("half float","float16"),Kt.oes_texture_float&&nr.push("float","float32");var ir=0,tr={};return ae(zt,{getFramebuffer:function(Ft){return typeof Ft=="function"&&Ft._reglType==="framebuffer"&&(Ft=Ft._framebuffer,Ft instanceof fr)?Ft:null},create:Ge,createCube:function(Ft){function cr(br){var hr,Vr={color:null},Pr=0,Ir=null;hr="rgba";var sn="uint8",an=1;if(typeof br=="number"?Pr=br|0:br?("shape"in br?Pr=br.shape[0]:("radius"in br&&(Pr=br.radius|0),"width"in br?Pr=br.width|0:"height"in br&&(Pr=br.height|0)),("color"in br||"colors"in br)&&(Ir=br.color||br.colors),Ir||("colorCount"in br&&(an=br.colorCount|0),"colorType"in br&&(sn=br.colorType),"colorFormat"in br&&(hr=br.colorFormat)),"depth"in br&&(Vr.depth=br.depth),"stencil"in br&&(Vr.stencil=br.stencil),"depthStencil"in br&&(Vr.depthStencil=br.depthStencil)):Pr=1,Ir)if(Array.isArray(Ir))for(br=[],hr=0;hr<Ir.length;++hr)br[hr]=Ir[hr];else br=[Ir];else for(br=Array(an),Ir={radius:Pr,format:hr,type:sn},hr=0;hr<an;++hr)br[hr]=yr.createCube(Ir);for(Vr.color=Array(br.length),hr=0;hr<br.length;++hr)an=br[hr],Pr=Pr||an.width,Vr.color[hr]={target:34069,data:br[hr]};for(hr=0;6>hr;++hr){for(an=0;an<br.length;++an)Vr.color[an].target=34069+hr;0<hr&&(Vr.depth=pr[0].depth,Vr.stencil=pr[0].stencil,Vr.depthStencil=pr[0].depthStencil),pr[hr]?pr[hr](Vr):pr[hr]=Ge(Vr)}return ae(cr,{width:Pr,height:Pr,color:br})}var pr=Array(6);return cr(Ft),ae(cr,{faces:pr,resize:function(br){var hr=br|0;if(hr===cr.width)return cr;var Vr=cr.color;for(br=0;br<Vr.length;++br)Vr[br].resize(hr);for(br=0;6>br;++br)pr[br].resize(hr);return cr.width=cr.height=hr,cr},_reglType:"framebufferCube",destroy:function(){pr.forEach(function(br){br.destroy()})}})},clear:function(){xe(tr).forEach(vr)},restore:function(){zt.cur=null,zt.next=null,zt.dirty=!0,xe(tr).forEach(function(Ft){Ft.framebuffer=yt.createFramebuffer(),Ye(Ft)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(yt,Kt,Jt,yr,ur,mt,lt){function bt(Ye){if(Ye!==vr.currentVAO){var Ge=Kt.oes_vertex_array_object;Ye?Ge.bindVertexArrayOES(Ye.vao):Ge.bindVertexArrayOES(null),vr.currentVAO=Ye}}function Et(Ye){if(Ye!==vr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var Ge=Kt.angle_instanced_arrays,zt=0;zt<$t.length;++zt){var Dt=$t[zt];Dt.buffer?(yt.enableVertexAttribArray(zt),Dt.buffer.bind(),yt.vertexAttribPointer(zt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),Ge&&Dt.divisor&&Ge.vertexAttribDivisorANGLE(zt,Dt.divisor)):(yt.disableVertexAttribArray(zt),yt.vertexAttrib4f(zt,Dt.x,Dt.y,Dt.z,Dt.w))}lt.elements?yt.bindBuffer(34963,lt.elements.buffer.buffer):yt.bindBuffer(34963,null)}vr.currentVAO=Ye}}function It(){xe(Zt).forEach(function(Ye){Ye.destroy()})}function Ht(){this.id=++fr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Kt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,Zt[this.id]=this,this.buffers=[]}function Ut(){Kt.oes_vertex_array_object&&xe(Zt).forEach(function(Ye){Ye.refresh()})}var Bt=Jt.maxAttributes,$t=Array(Bt);for(Jt=0;Jt<Bt;++Jt)$t[Jt]=new N;var fr=0,Zt={},vr={Record:N,scope:{},state:$t,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?Ut:function(){},createVAO:function(Ye){function Ge(Dt){var Qt;Array.isArray(Dt)?(Qt=Dt,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(Dt.elements?(Qt=Dt.elements,zt.ownsElements?(typeof Qt=="function"&&Qt._reglType==="elements"?zt.elements.destroy():zt.elements(Qt),zt.ownsElements=!1):mt.getElements(Dt.elements)?(zt.elements=Dt.elements,zt.ownsElements=!1):(zt.elements=mt.create(Dt.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Qt=Dt.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in Dt&&(zt.offset=Dt.offset|0),"count"in Dt&&(zt.count=Dt.count|0),"instances"in Dt&&(zt.instances=Dt.instances|0),"primitive"in Dt&&(zt.primitive=ot[Dt.primitive])),Dt={};var nr=zt.attributes;nr.length=Qt.length;for(var ir=0;ir<Qt.length;++ir){var tr=Qt[ir],Ft=nr[ir]=new N,cr=tr.data||tr;if(Array.isArray(cr)||Ee(cr)||u(cr)){var pr;zt.buffers[ir]&&(pr=zt.buffers[ir],Ee(cr)&&pr._buffer.byteLength>=cr.byteLength?pr.subdata(cr):(pr.destroy(),zt.buffers[ir]=null)),zt.buffers[ir]||(pr=zt.buffers[ir]=ur.create(tr,34962,!1,!0)),Ft.buffer=ur.getBuffer(pr),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1,Dt[ir]=1}else ur.getBuffer(tr)?(Ft.buffer=ur.getBuffer(tr),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1):ur.getBuffer(tr.buffer)?(Ft.buffer=ur.getBuffer(tr.buffer),Ft.size=(+tr.size||Ft.buffer.dimension)|0,Ft.normalized=!!tr.normalized||!1,Ft.type="type"in tr?Ne[tr.type]:Ft.buffer.dtype,Ft.offset=(tr.offset||0)|0,Ft.stride=(tr.stride||0)|0,Ft.divisor=(tr.divisor||0)|0,Ft.state=1):"x"in tr&&(Ft.x=+tr.x||0,Ft.y=+tr.y||0,Ft.z=+tr.z||0,Ft.w=+tr.w||0,Ft.state=2)}for(pr=0;pr<zt.buffers.length;++pr)!Dt[pr]&&zt.buffers[pr]&&(zt.buffers[pr].destroy(),zt.buffers[pr]=null);return zt.refresh(),Ge}var zt=new Ht;return yr.vaoCount+=1,Ge.destroy=function(){for(var Dt=0;Dt<zt.buffers.length;++Dt)zt.buffers[Dt]&&zt.buffers[Dt].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},Ge._vao=zt,Ge._reglType="vao",Ge(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var Ge=0;Ge<$t.length;++Ge){var zt=$t[Ge];zt.buffer===Ye&&(yt.disableVertexAttribArray(Ge),zt.buffer=null)}},setVAO:Kt.oes_vertex_array_object?bt:Et,clear:Kt.oes_vertex_array_object?It:function(){}};return Ht.prototype.bindAttrs=function(){for(var Ye=Kt.angle_instanced_arrays,Ge=this.attributes,zt=0;zt<Ge.length;++zt){var Dt=Ge[zt];Dt.buffer?(yt.enableVertexAttribArray(zt),yt.bindBuffer(34962,Dt.buffer.buffer),yt.vertexAttribPointer(zt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),Ye&&Dt.divisor&&Ye.vertexAttribDivisorANGLE(zt,Dt.divisor)):(yt.disableVertexAttribArray(zt),yt.vertexAttrib4f(zt,Dt.x,Dt.y,Dt.z,Dt.w))}for(Ye=Ge.length;Ye<Bt;++Ye)yt.disableVertexAttribArray(Ye);(Ye=mt.getElements(this.elements))?yt.bindBuffer(34963,Ye.buffer.buffer):yt.bindBuffer(34963,null)},Ht.prototype.refresh=function(){var Ye=Kt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),vr.currentVAO=null,Ye.bindVertexArrayOES(null))},Ht.prototype.destroy=function(){if(this.vao){var Ye=Kt.oes_vertex_array_object;this===vr.currentVAO&&(vr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Zt[this.id]&&(delete Zt[this.id],--yr.vaoCount)},vr}function F(yt,Kt,Jt,yr){function ur(fr,Zt,vr,Ye){this.name=fr,this.id=Zt,this.location=vr,this.info=Ye}function mt(fr,Zt){for(var vr=0;vr<fr.length;++vr)if(fr[vr].id===Zt.id){fr[vr].location=Zt.location;return}fr.push(Zt)}function lt(fr,Zt,vr){vr=fr===35632?It:Ht;var Ye=vr[Zt];if(!Ye){var Ge=Kt.str(Zt),Ye=yt.createShader(fr);yt.shaderSource(Ye,Ge),yt.compileShader(Ye),vr[Zt]=Ye}return Ye}function bt(fr,Zt){this.id=$t++,this.fragId=fr,this.vertId=Zt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(fr,Zt,vr){var Ye;Ye=lt(35632,fr.fragId);var Ge=lt(35633,fr.vertId);if(Zt=fr.program=yt.createProgram(),yt.attachShader(Zt,Ye),yt.attachShader(Zt,Ge),vr)for(Ye=0;Ye<vr.length;++Ye)Ge=vr[Ye],yt.bindAttribLocation(Zt,Ge[0],Ge[1]);yt.linkProgram(Zt),Ge=yt.getProgramParameter(Zt,35718),yr.profile&&(fr.stats.uniformsCount=Ge);var zt=fr.uniforms;for(Ye=0;Ye<Ge;++Ye)if(vr=yt.getActiveUniform(Zt,Ye))if(1<vr.size)for(var Dt=0;Dt<vr.size;++Dt){var Qt=vr.name.replace("[0]","["+Dt+"]");mt(zt,new ur(Qt,Kt.id(Qt),yt.getUniformLocation(Zt,Qt),vr))}else mt(zt,new ur(vr.name,Kt.id(vr.name),yt.getUniformLocation(Zt,vr.name),vr));for(Ge=yt.getProgramParameter(Zt,35721),yr.profile&&(fr.stats.attributesCount=Ge),fr=fr.attributes,Ye=0;Ye<Ge;++Ye)(vr=yt.getActiveAttrib(Zt,Ye))&&mt(fr,new ur(vr.name,Kt.id(vr.name),yt.getAttribLocation(Zt,vr.name),vr))}var It={},Ht={},Ut={},Bt=[],$t=0;return yr.profile&&(Jt.getMaxUniformsCount=function(){var fr=0;return Bt.forEach(function(Zt){Zt.stats.uniformsCount>fr&&(fr=Zt.stats.uniformsCount)}),fr},Jt.getMaxAttributesCount=function(){var fr=0;return Bt.forEach(function(Zt){Zt.stats.attributesCount>fr&&(fr=Zt.stats.attributesCount)}),fr}),{clear:function(){var fr=yt.deleteShader.bind(yt);xe(It).forEach(fr),It={},xe(Ht).forEach(fr),Ht={},Bt.forEach(function(Zt){yt.deleteProgram(Zt.program)}),Bt.length=0,Ut={},Jt.shaderCount=0},program:function(fr,Zt,vr,Ye){var Ge=Ut[Zt];Ge||(Ge=Ut[Zt]={});var zt=Ge[fr];if(zt&&(zt.refCount++,!Ye))return zt;var Dt=new bt(Zt,fr);return Jt.shaderCount++,Et(Dt,vr,Ye),zt||(Ge[fr]=Dt),Bt.push(Dt),ae(Dt,{destroy:function(){if(Dt.refCount--,0>=Dt.refCount){yt.deleteProgram(Dt.program);var Qt=Bt.indexOf(Dt);Bt.splice(Qt,1),Jt.shaderCount--}0>=Ge[Dt.vertId].refCount&&(yt.deleteShader(Ht[Dt.vertId]),delete Ht[Dt.vertId],delete Ut[Dt.fragId][Dt.vertId]),Object.keys(Ut[Dt.fragId]).length||(yt.deleteShader(It[Dt.fragId]),delete It[Dt.fragId],delete Ut[Dt.fragId])}})},restore:function(){It={},Ht={};for(var fr=0;fr<Bt.length;++fr)Et(Bt[fr],null,Bt[fr].attributes.map(function(Zt){return[Zt.location,Zt.name]}))},shader:lt,frag:-1,vert:-1}}function U(yt,Kt,Jt,yr,ur,mt,lt){function bt(It){var Ht;Ht=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var Ut=0,Bt=0,$t=yr.framebufferWidth,fr=yr.framebufferHeight,Zt=null;return Ee(It)?Zt=It:It&&(Ut=It.x|0,Bt=It.y|0,$t=(It.width||yr.framebufferWidth-Ut)|0,fr=(It.height||yr.framebufferHeight-Bt)|0,Zt=It.data||null),Jt(),It=$t*fr*4,Zt||(Ht===5121?Zt=new Uint8Array(It):Ht===5126&&(Zt=Zt||new Float32Array(It))),yt.pixelStorei(3333,4),yt.readPixels(Ut,Bt,$t,fr,6408,Ht,Zt),Zt}function Et(It){var Ht;return Kt.setFBO({framebuffer:It.framebuffer},function(){Ht=bt(It)}),Ht}return function(It){return It&&"framebuffer"in It?Et(It):bt(It)}}function B(yt){for(var Kt=Array(yt.length>>2),yr=0;yr<Kt.length;yr++)Kt[yr]=0;for(yr=0;yr<8*yt.length;yr+=8)Kt[yr>>5]|=(yt.charCodeAt(yr/8)&255)<<24-yr%32;var Jt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),ur,mt,lt,bt,Et,It,Ht,Ut,Bt,$t,fr;for(Kt[Jt>>5]|=128<<24-Jt%32,Kt[(Jt+64>>9<<4)+15]=Jt,Ut=0;Ut<Kt.length;Ut+=16){for(Jt=yt[0],ur=yt[1],mt=yt[2],lt=yt[3],bt=yt[4],Et=yt[5],It=yt[6],Ht=yt[7],Bt=0;64>Bt;Bt++){if(16>Bt)yr[Bt]=Kt[Bt+Ut];else{$t=Bt,fr=yr[Bt-2],fr=Q(fr,17)^Q(fr,19)^fr>>>10,fr=ee(fr,yr[Bt-7]);var Zt;Zt=yr[Bt-15],Zt=Q(Zt,7)^Q(Zt,18)^Zt>>>3,yr[$t]=ee(ee(fr,Zt),yr[Bt-16])}$t=bt,$t=Q($t,6)^Q($t,11)^Q($t,25),$t=ee(ee(ee(ee(Ht,$t),bt&Et^~bt&It),Qe[Bt]),yr[Bt]),Ht=Jt,Ht=Q(Ht,2)^Q(Ht,13)^Q(Ht,22),fr=ee(Ht,Jt&ur^Jt&mt^ur&mt),Ht=It,It=Et,Et=bt,bt=ee(lt,$t),lt=mt,mt=ur,ur=Jt,Jt=ee($t,fr)}yt[0]=ee(Jt,yt[0]),yt[1]=ee(ur,yt[1]),yt[2]=ee(mt,yt[2]),yt[3]=ee(lt,yt[3]),yt[4]=ee(bt,yt[4]),yt[5]=ee(Et,yt[5]),yt[6]=ee(It,yt[6]),yt[7]=ee(Ht,yt[7])}for(Kt="",yr=0;yr<32*yt.length;yr+=8)Kt+=String.fromCharCode(yt[yr>>5]>>>24-yr%32&255);return Kt}function V(yt){for(var Kt="",Jt,yr=0;yr<yt.length;yr++)Jt=yt.charCodeAt(yr),Kt+="0123456789abcdef".charAt(Jt>>>4&15)+"0123456789abcdef".charAt(Jt&15);return Kt}function j(yt){for(var Kt="",Jt=-1,yr,ur;++Jt<yt.length;)yr=yt.charCodeAt(Jt),ur=Jt+1<yt.length?yt.charCodeAt(Jt+1):0,55296<=yr&&56319>=yr&&56320<=ur&&57343>=ur&&(yr=65536+((yr&1023)<<10)+(ur&1023),Jt++),127>=yr?Kt+=String.fromCharCode(yr):2047>=yr?Kt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Kt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Kt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Kt}function Q(yt,Kt){return yt>>>Kt|yt<<32-Kt}function ee(yt,Kt){var Jt=(yt&65535)+(Kt&65535);return(yt>>16)+(Kt>>16)+(Jt>>16)<<16|Jt&65535}function re(yt){return Array.prototype.slice.call(yt)}function ue(yt){return re(yt).join("")}function J(yt){function Kt(){var Ht=[],Ut=[];return ae(function(){Ht.push.apply(Ht,re(arguments))},{def:function(){var Bt="v"+ur++;return Ut.push(Bt),0<arguments.length&&(Ht.push(Bt,"="),Ht.push.apply(Ht,re(arguments)),Ht.push(";")),Bt},toString:function(){return ue([0<Ut.length?"var "+Ut.join(",")+";":"",ue(Ht)])}})}function Jt(){function Ht(Zt,vr){Bt(Zt,vr,"=",Ut.def(Zt,vr),";")}var Ut=Kt(),Bt=Kt(),$t=Ut.toString,fr=Bt.toString;return ae(function(){Ut.apply(Ut,re(arguments))},{def:Ut.def,entry:Ut,exit:Bt,save:Ht,set:function(Zt,vr,Ye){Ht(Zt,vr),Ut(Zt,vr,"=",Ye,";")},toString:function(){return $t()+fr()}})}var yr=yt&&yt.cache,ur=0,mt=[],lt=[],bt=[],Et=Kt(),It={};return{global:Et,link:function(Ht,Ut){var Bt=Ut&&Ut.stable;if(!Bt){for(var $t=0;$t<lt.length;++$t)if(lt[$t]===Ht&&!bt[$t])return mt[$t]}return $t="g"+ur++,mt.push($t),lt.push(Ht),bt.push(Bt),$t},block:Kt,proc:function(Ht,Ut){function Bt(){var vr="a"+$t.length;return $t.push(vr),vr}var $t=[];Ut=Ut||0;for(var fr=0;fr<Ut;++fr)Bt();var fr=Jt(),Zt=fr.toString;return It[Ht]=ae(fr,{arg:Bt,toString:function(){return ue(["function(",$t.join(),"){",Zt(),"}"])}})},scope:Jt,cond:function(){var Ht=ue(arguments),Ut=Jt(),Bt=Jt(),$t=Ut.toString,fr=Bt.toString;return ae(Ut,{then:function(){return Ut.apply(Ut,re(arguments)),this},else:function(){return Bt.apply(Bt,re(arguments)),this},toString:function(){var Zt=fr();return Zt&&(Zt="else{"+Zt+"}"),ue(["if(",Ht,"){",$t(),"}",Zt])}})},compile:function(){var Ht=['"use strict";',Et,"return {"];Object.keys(It).forEach(function($t){Ht.push('"',$t,'":',It[$t].toString(),",")}),Ht.push("}");var Ut=ue(Ht).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return yr&&(Bt=V(B(j(Ut))),yr[Bt])?yr[Bt].apply(null,lt):(Ut=Function.apply(null,mt.concat(Ut)),yr&&(yr[Bt]=Ut),Ut.apply(null,lt))}}}function X(yt){return Array.isArray(yt)||Ee(yt)||u(yt)}function ne(yt){return yt.sort(function(Kt,Jt){return Kt==="viewport"?-1:Jt==="viewport"?1:Kt<Jt?-1:1})}function Y(yt,Kt,Jt,yr){this.thisDep=yt,this.contextDep=Kt,this.propDep=Jt,this.append=yr}function oe(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function le(yt){return new Y(!1,!1,!1,yt)}function Z(yt,Kt){var Jt=yt.type;if(Jt===0)return Jt=yt.data.length,new Y(!0,1<=Jt,2<=Jt,Kt);if(Jt===4)return Jt=yt.data,new Y(Jt.thisDep,Jt.contextDep,Jt.propDep,Kt);if(Jt===5)return new Y(!1,!1,!1,Kt);if(Jt===6){for(var yr=Jt=!1,ur=!1,mt=0;mt<yt.data.length;++mt){var lt=yt.data[mt];lt.type===1?ur=!0:lt.type===2?yr=!0:lt.type===3?Jt=!0:lt.type===0?(Jt=!0,lt=lt.data,1<=lt&&(yr=!0),2<=lt&&(ur=!0)):lt.type===4&&(Jt=Jt||lt.data.thisDep,yr=yr||lt.data.contextDep,ur=ur||lt.data.propDep)}return new Y(Jt,yr,ur,Kt)}return new Y(Jt===3,Jt===2,Jt===1,Kt)}function $(yt,Kt,Jt,yr,ur,mt,lt,bt,Et,It,Ht,Ut,Bt,$t,fr,Zt){function vr(Mr){return Mr.replace(".","_")}function Ye(Mr,Or,Ar){var Fr=vr(Mr);Tn.push(Mr),Bn[Fr]=hn[Fr]=!!Ar,Sn[Fr]=Or}function Ge(Mr,Or,Ar){var Fr=vr(Mr);Tn.push(Mr),Array.isArray(Ar)?(hn[Fr]=Ar.slice(),Bn[Fr]=Ar.slice()):hn[Fr]=Bn[Fr]=Ar,Nn[Fr]=Or}function zt(){var Mr=J({cache:fr}),Or=Mr.link,Ar=Mr.global;Mr.id=Da++,Mr.batchId="0";var Fr=Or(qn),bn=Mr.shared={props:"a0"};Object.keys(qn).forEach(function(Zr){bn[Zr]=Ar.def(Fr,".",Zr)});var Dn=Mr.next={},yn=Mr.current={};Object.keys(Nn).forEach(function(Zr){Array.isArray(hn[Zr])&&(Dn[Zr]=Ar.def(bn.next,".",Zr),yn[Zr]=Ar.def(bn.current,".",Zr))});var un=Mr.constants={};Object.keys(va).forEach(function(Zr){un[Zr]=Ar.def(JSON.stringify(va[Zr]))}),Mr.invoke=function(Zr,Hr){switch(Hr.type){case 0:var qr=["this",bn.context,bn.props,Mr.batchId];return Zr.def(Or(Hr.data),".call(",qr.slice(0,Math.max(Hr.data.length+1,4)),")");case 1:return Zr.def(bn.props,Hr.data);case 2:return Zr.def(bn.context,Hr.data);case 3:return Zr.def("this",Hr.data);case 4:return Hr.data.append(Mr,Zr),Hr.data.ref;case 5:return Hr.data.toString();case 6:return Hr.data.map(function(An){return Mr.invoke(Zr,An)})}},Mr.attribCache={};var Er={};return Mr.scopeAttrib=function(Zr){if(Zr=Kt.id(Zr),Zr in Er)return Er[Zr];var Hr=It.scope[Zr];return Hr||(Hr=It.scope[Zr]=new Yn),Er[Zr]=Or(Hr)},Mr}function Dt(Mr){var Or=Mr.static;Mr=Mr.dynamic;var Ar;if("profile"in Or){var Fr=!!Or.profile;Ar=le(function(Dn,yn){return Fr}),Ar.enable=Fr}else if("profile"in Mr){var bn=Mr.profile;Ar=Z(bn,function(Dn,yn){return Dn.invoke(yn,bn)})}return Ar}function Qt(Mr,Or){var Ar=Mr.static,Fr=Mr.dynamic;if("framebuffer"in Ar){var bn=Ar.framebuffer;return bn?(bn=bt.getFramebuffer(bn),le(function(yn,un){var Er=yn.link(bn),Zr=yn.shared;return un.set(Zr.framebuffer,".next",Er),Zr=Zr.context,un.set(Zr,".framebufferWidth",Er+".width"),un.set(Zr,".framebufferHeight",Er+".height"),Er})):le(function(yn,un){var Er=yn.shared;return un.set(Er.framebuffer,".next","null"),Er=Er.context,un.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),un.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Fr){var Dn=Fr.framebuffer;return Z(Dn,function(yn,un){var Hr=yn.invoke(un,Dn),Er=yn.shared,Zr=Er.framebuffer,Hr=un.def(Zr,".getFramebuffer(",Hr,")");return un.set(Zr,".next",Hr),Er=Er.context,un.set(Er,".framebufferWidth",Hr+"?"+Hr+".width:"+Er+".drawingBufferWidth"),un.set(Er,".framebufferHeight",Hr+"?"+Hr+".height:"+Er+".drawingBufferHeight"),Hr})}return null}function nr(Mr,Or,Ar){function Fr(un){if(un in bn){var Er=bn[un];un=!0;var Zr=Er.x|0,Hr=Er.y|0,qr,An;return"width"in Er?qr=Er.width|0:un=!1,"height"in Er?An=Er.height|0:un=!1,new Y(!un&&Or&&Or.thisDep,!un&&Or&&Or.contextDep,!un&&Or&&Or.propDep,function(Cn,Hn){var Un=Cn.shared.context,da=qr;"width"in Er||(da=Hn.def(Un,".","framebufferWidth","-",Zr));var la=An;return"height"in Er||(la=Hn.def(Un,".","framebufferHeight","-",Hr)),[Zr,Hr,da,la]})}if(un in Dn){var Fn=Dn[un];return un=Z(Fn,function(Cn,Hn){var Ra=Cn.invoke(Hn,Fn),Un=Cn.shared.context,da=Hn.def(Ra,".x|0"),la=Hn.def(Ra,".y|0"),ya=Hn.def('"width" in ',Ra,"?",Ra,".width|0:","(",Un,".","framebufferWidth","-",da,")"),Ra=Hn.def('"height" in ',Ra,"?",Ra,".height|0:","(",Un,".","framebufferHeight","-",la,")");return[da,la,ya,Ra]}),Or&&(un.thisDep=un.thisDep||Or.thisDep,un.contextDep=un.contextDep||Or.contextDep,un.propDep=un.propDep||Or.propDep),un}return Or?new Y(Or.thisDep,Or.contextDep,Or.propDep,function(Cn,Hn){var Un=Cn.shared.context;return[0,0,Hn.def(Un,".","framebufferWidth"),Hn.def(Un,".","framebufferHeight")]}):null}var bn=Mr.static,Dn=Mr.dynamic;if(Mr=Fr("viewport")){var yn=Mr;Mr=new Y(Mr.thisDep,Mr.contextDep,Mr.propDep,function(un,Er){var Zr=yn.append(un,Er),Hr=un.shared.context;return Er.set(Hr,".viewportWidth",Zr[2]),Er.set(Hr,".viewportHeight",Zr[3]),Zr})}return{viewport:Mr,scissor_box:Fr("scissor.box")}}function ir(Mr,Or){var Ar=Mr.static;if(typeof Ar.frag=="string"&&typeof Ar.vert=="string"){if(0<Object.keys(Or.dynamic).length)return null;var Ar=Or.static,Fr=Object.keys(Ar);if(0<Fr.length&&typeof Ar[Fr[0]]=="number"){for(var bn=[],Dn=0;Dn<Fr.length;++Dn)bn.push([Ar[Fr[Dn]]|0,Fr[Dn]]);return bn}}return null}function tr(Mr,Or,Ar){function Fr(Zr){if(Zr in bn){var Hr=Kt.id(bn[Zr]);return Zr=le(function(){return Hr}),Zr.id=Hr,Zr}if(Zr in Dn){var qr=Dn[Zr];return Z(qr,function(An,Fn){var Cn=An.invoke(Fn,qr);return Fn.def(An.shared.strings,".id(",Cn,")")})}return null}var bn=Mr.static,Dn=Mr.dynamic,yn=Fr("frag"),un=Fr("vert"),Er=null;return oe(yn)&&oe(un)?(Er=Ht.program(un.id,yn.id,null,Ar),Mr=le(function(Zr,Hr){return Zr.link(Er)})):Mr=new Y(yn&&yn.thisDep||un&&un.thisDep,yn&&yn.contextDep||un&&un.contextDep,yn&&yn.propDep||un&&un.propDep,function(Zr,Hr){var qr=Zr.shared.shader,An;An=yn?yn.append(Zr,Hr):Hr.def(qr,".","frag");var Fn;return Fn=un?un.append(Zr,Hr):Hr.def(qr,".","vert"),Hr.def(qr+".program("+Fn+","+An+")")}),{frag:yn,vert:un,progVar:Mr,program:Er}}function Ft(Mr,Or){function Ar(Cn,Hn){if(Cn in Fr){var Un=Fr[Cn]|0;return Hn?Dn.offset=Un:Dn.instances=Un,le(function(la,ya){return Hn&&(la.OFFSET=Un),Un})}if(Cn in bn){var da=bn[Cn];return Z(da,function(la,ya){var Ra=la.invoke(ya,da);return Hn&&(la.OFFSET=Ra),Ra})}if(Hn){if(Er)return le(function(la,ya){return la.OFFSET=0});if(yn)return new Y(un.thisDep,un.contextDep,un.propDep,function(la,ya){return ya.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.offset:0")})}else if(yn)return new Y(un.thisDep,un.contextDep,un.propDep,function(la,ya){return ya.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.instances:-1")});return null}var Fr=Mr.static,bn=Mr.dynamic,Dn={},yn=!1,un=function(){if("vao"in Fr){var Cn=Fr.vao;return Cn!==null&&It.getVAO(Cn)===null&&(Cn=It.createVAO(Cn)),yn=!0,Dn.vao=Cn,le(function(Un){var da=It.getVAO(Cn);return da?Un.link(da):"null"})}if("vao"in bn){yn=!0;var Hn=bn.vao;return Z(Hn,function(Un,da){var la=Un.invoke(da,Hn);return da.def(Un.shared.vao+".getVAO("+la+")")})}return null}(),Er=!1,Zr=function(){if("elements"in Fr){var Cn=Fr.elements;if(Dn.elements=Cn,X(Cn)){var Hn=Dn.elements=mt.create(Cn,!0),Cn=mt.getElements(Hn);Er=!0}else Cn&&(Cn=mt.getElements(Cn),Er=!0);return Hn=le(function(da,la){if(Cn){var ya=da.link(Cn);return da.ELEMENTS=ya}return da.ELEMENTS=null}),Hn.value=Cn,Hn}if("elements"in bn){Er=!0;var Un=bn.elements;return Z(Un,function(da,la){var ya=da.shared,wi=ya.isBufferArgs,ya=ya.elements,si=da.invoke(la,Un),Ra=la.def("null"),wi=la.def(wi,"(",si,")"),si=da.cond(wi).then(Ra,"=",ya,".createStream(",si,");").else(Ra,"=",ya,".getElements(",si,");");return la.entry(si),la.exit(da.cond(wi).then(ya,".destroyStream(",Ra,");")),da.ELEMENTS=Ra})}return yn?new Y(un.thisDep,un.contextDep,un.propDep,function(da,la){return la.def(da.shared.vao+".currentVAO?"+da.shared.elements+".getElements("+da.shared.vao+".currentVAO.elements):null")}):null}(),Hr=Ar("offset",!0),qr=function(){if("primitive"in Fr){var Cn=Fr.primitive;return Dn.primitive=Cn,le(function(Un,da){return ot[Cn]})}if("primitive"in bn){var Hn=bn.primitive;return Z(Hn,function(Un,da){var la=Un.constants.primTypes,ya=Un.invoke(da,Hn);return da.def(la,"[",ya,"]")})}return Er?oe(Zr)?Zr.value?le(function(Un,da){return da.def(Un.ELEMENTS,".primType")}):le(function(){return 4}):new Y(Zr.thisDep,Zr.contextDep,Zr.propDep,function(Un,da){var la=Un.ELEMENTS;return da.def(la,"?",la,".primType:",4)}):yn?new Y(un.thisDep,un.contextDep,un.propDep,function(Un,da){return da.def(Un.shared.vao+".currentVAO?"+Un.shared.vao+".currentVAO.primitive:4")}):null}(),An=function(){if("count"in Fr){var Cn=Fr.count|0;return Dn.count=Cn,le(function(){return Cn})}if("count"in bn){var Hn=bn.count;return Z(Hn,function(Un,da){return Un.invoke(da,Hn)})}return Er?oe(Zr)?Zr?Hr?new Y(Hr.thisDep,Hr.contextDep,Hr.propDep,function(Un,da){return da.def(Un.ELEMENTS,".vertCount-",Un.OFFSET)}):le(function(Un,da){return da.def(Un.ELEMENTS,".vertCount")}):le(function(){return-1}):new Y(Zr.thisDep||Hr.thisDep,Zr.contextDep||Hr.contextDep,Zr.propDep||Hr.propDep,function(Un,da){var la=Un.ELEMENTS;return Un.OFFSET?da.def(la,"?",la,".vertCount-",Un.OFFSET,":-1"):da.def(la,"?",la,".vertCount:-1")}):yn?new Y(un.thisDep,un.contextDep,un.propDep,function(Un,da){return da.def(Un.shared.vao,".currentVAO?",Un.shared.vao,".currentVAO.count:-1")}):null}(),Fn=Ar("instances",!1);return{elements:Zr,primitive:qr,count:An,instances:Fn,offset:Hr,vao:un,vaoActive:yn,elementsActive:Er,static:Dn}}function cr(Mr,Or){var Ar=Mr.static,Fr=Mr.dynamic,bn={};return Tn.forEach(function(Dn){function yn(Er,Zr){if(Dn in Ar){var Hr=Er(Ar[Dn]);bn[un]=le(function(){return Hr})}else if(Dn in Fr){var qr=Fr[Dn];bn[un]=Z(qr,function(An,Fn){return Zr(An,Fn,An.invoke(Fn,qr))})}}var un=vr(Dn);switch(Dn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return yn(function(Er){return Er},function(Er,Zr,Hr){return Hr});case"depth.func":return yn(function(Er){return jt[Er]},function(Er,Zr,Hr){return Zr.def(Er.constants.compareFuncs,"[",Hr,"]")});case"depth.range":return yn(function(Er){return Er},function(Er,Zr,Hr){return Er=Zr.def("+",Hr,"[0]"),Zr=Zr.def("+",Hr,"[1]"),[Er,Zr]});case"blend.func":return yn(function(Er){return[Wt["srcRGB"in Er?Er.srcRGB:Er.src],Wt["dstRGB"in Er?Er.dstRGB:Er.dst],Wt["srcAlpha"in Er?Er.srcAlpha:Er.src],Wt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Zr,Hr){function qr(Hn,Un){return Zr.def('"',Hn,Un,'" in ',Hr,"?",Hr,".",Hn,Un,":",Hr,".",Hn)}Er=Er.constants.blendFuncs;var An=qr("src","RGB"),Cn=qr("dst","RGB"),An=Zr.def(Er,"[",An,"]"),Fn=Zr.def(Er,"[",qr("src","Alpha"),"]"),Cn=Zr.def(Er,"[",Cn,"]");return Er=Zr.def(Er,"[",qr("dst","Alpha"),"]"),[An,Cn,Fn,Er]});case"blend.equation":return yn(function(Er){if(typeof Er=="string")return[Qn[Er],Qn[Er]];if(typeof Er=="object")return[Qn[Er.rgb],Qn[Er.alpha]]},function(Er,Zr,Hr){var qr=Er.constants.blendEquations,An=Zr.def(),Fn=Zr.def();return Er=Er.cond("typeof ",Hr,'==="string"'),Er.then(An,"=",Fn,"=",qr,"[",Hr,"];"),Er.else(An,"=",qr,"[",Hr,".rgb];",Fn,"=",qr,"[",Hr,".alpha];"),Zr(Er),[An,Fn]});case"blend.color":return yn(function(Er){return a(4,function(Zr){return+Er[Zr]})},function(Er,Zr,Hr){return a(4,function(qr){return Zr.def("+",Hr,"[",qr,"]")})});case"stencil.mask":return yn(function(Er){return Er|0},function(Er,Zr,Hr){return Zr.def(Hr,"|0")});case"stencil.func":return yn(function(Er){return[jt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Zr,Hr){Er=Zr.def('"cmp" in ',Hr,"?",Er.constants.compareFuncs,"[",Hr,".cmp]",":",7680);var qr=Zr.def(Hr,".ref|0");return Zr=Zr.def('"mask" in ',Hr,"?",Hr,".mask|0:-1"),[Er,qr,Zr]});case"stencil.opFront":case"stencil.opBack":return yn(function(Er){return[Dn==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,Zr,Hr){function qr(Fn){return Zr.def('"',Fn,'" in ',Hr,"?",An,"[",Hr,".",Fn,"]:",7680)}var An=Er.constants.stencilOps;return[Dn==="stencil.opBack"?1029:1028,qr("fail"),qr("zfail"),qr("zpass")]});case"polygonOffset.offset":return yn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Zr,Hr){return Er=Zr.def(Hr,".factor|0"),Zr=Zr.def(Hr,".units|0"),[Er,Zr]});case"cull.face":return yn(function(Er){var Zr=0;return Er==="front"?Zr=1028:Er==="back"&&(Zr=1029),Zr},function(Er,Zr,Hr){return Zr.def(Hr,'==="front"?',1028,":",1029)});case"lineWidth":return yn(function(Er){return Er},function(Er,Zr,Hr){return Hr});case"frontFace":return yn(function(Er){return Lt[Er]},function(Er,Zr,Hr){return Zr.def(Hr+'==="cw"?2304:2305')});case"colorMask":return yn(function(Er){return Er.map(function(Zr){return!!Zr})},function(Er,Zr,Hr){return a(4,function(qr){return"!!"+Hr+"["+qr+"]"})});case"sample.coverage":return yn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Zr,Hr){return Er=Zr.def('"value" in ',Hr,"?+",Hr,".value:1"),Zr=Zr.def("!!",Hr,".invert"),[Er,Zr]})}}),bn}function pr(Mr,Or){var Ar=Mr.static,Fr=Mr.dynamic,bn={};return Object.keys(Ar).forEach(function(Dn){var yn=Ar[Dn],un;if(typeof yn=="number"||typeof yn=="boolean")un=le(function(){return yn});else if(typeof yn=="function"){var Er=yn._reglType;Er==="texture2d"||Er==="textureCube"?un=le(function(Zr){return Zr.link(yn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(un=le(function(Zr){return Zr.link(yn.color[0])}))}else b(yn)&&(un=le(function(Zr){return Zr.global.def("[",a(yn.length,function(Hr){return yn[Hr]}),"]")}));un.value=yn,bn[Dn]=un}),Object.keys(Fr).forEach(function(Dn){var yn=Fr[Dn];bn[Dn]=Z(yn,function(un,Er){return un.invoke(Er,yn)})}),bn}function br(Mr,Or){var Ar=Mr.static,Fr=Mr.dynamic,bn={};return Object.keys(Ar).forEach(function(Dn){var yn=Ar[Dn],un=Kt.id(Dn),Er=new Yn;if(X(yn))Er.state=1,Er.buffer=ur.getBuffer(ur.create(yn,34962,!1,!0)),Er.type=0;else{var Zr=ur.getBuffer(yn);if(Zr)Er.state=1,Er.buffer=Zr,Er.type=0;else if("constant"in yn){var Hr=yn.constant;Er.buffer="null",Er.state=2,typeof Hr=="number"?Er.x=Hr:it.forEach(function(Un,da){da<Hr.length&&(Er[Un]=Hr[da])})}else{var Zr=X(yn.buffer)?ur.getBuffer(ur.create(yn.buffer,34962,!1,!0)):ur.getBuffer(yn.buffer),qr=yn.offset|0,An=yn.stride|0,Fn=yn.size|0,Cn=!!yn.normalized,Hn=0;"type"in yn&&(Hn=Ne[yn.type]),yn=yn.divisor|0,Er.buffer=Zr,Er.state=1,Er.size=Fn,Er.normalized=Cn,Er.type=Hn||Zr.dtype,Er.offset=qr,Er.stride=An,Er.divisor=yn}}bn[Dn]=le(function(Un,da){var la=Un.attribCache;if(un in la)return la[un];var ya={isStream:!1};return Object.keys(Er).forEach(function(Ra){ya[Ra]=Er[Ra]}),Er.buffer&&(ya.buffer=Un.link(Er.buffer),ya.type=ya.type||ya.buffer+".dtype"),la[un]=ya})}),Object.keys(Fr).forEach(function(Dn){var yn=Fr[Dn];bn[Dn]=Z(yn,function(un,Er){function Zr(la){Er(Cn[la],"=",Hr,".",la,"|0;")}var Hr=un.invoke(Er,yn),Fn=un.shared,qr=un.constants,An=Fn.isBufferArgs,Fn=Fn.buffer,Cn={isStream:Er.def(!1)},Hn=new Yn;Hn.state=1,Object.keys(Hn).forEach(function(la){Cn[la]=Er.def(""+Hn[la])});var Un=Cn.buffer,da=Cn.type;return Er("if(",An,"(",Hr,")){",Cn.isStream,"=true;",Un,"=",Fn,".createStream(",34962,",",Hr,");",da,"=",Un,".dtype;","}else{",Un,"=",Fn,".getBuffer(",Hr,");","if(",Un,"){",da,"=",Un,".dtype;",'}else if("constant" in ',Hr,"){",Cn.state,"=",2,";","if(typeof "+Hr+'.constant === "number"){',Cn[it[0]],"=",Hr,".constant;",it.slice(1).map(function(la){return Cn[la]}).join("="),"=0;","}else{",it.map(function(la,ya){return Cn[la]+"="+Hr+".constant.length>"+ya+"?"+Hr+".constant["+ya+"]:0;"}).join(""),"}}else{","if(",An,"(",Hr,".buffer)){",Un,"=",Fn,".createStream(",34962,",",Hr,".buffer);","}else{",Un,"=",Fn,".getBuffer(",Hr,".buffer);","}",da,'="type" in ',Hr,"?",qr.glTypes,"[",Hr,".type]:",Un,".dtype;",Cn.normalized,"=!!",Hr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Er("}}"),Er.exit("if(",Cn.isStream,"){",Fn,".destroyStream(",Un,");","}"),Cn})}),bn}function hr(Mr){var Or=Mr.static,Ar=Mr.dynamic,Fr={};return Object.keys(Or).forEach(function(bn){var Dn=Or[bn];Fr[bn]=le(function(yn,un){return typeof Dn=="number"||typeof Dn=="boolean"?""+Dn:yn.link(Dn)})}),Object.keys(Ar).forEach(function(bn){var Dn=Ar[bn];Fr[bn]=Z(Dn,function(yn,un){return yn.invoke(un,Dn)})}),Fr}function Vr(Mr,Or,Ar,Fr,bn){function Dn(Hn){var Un=un[Hn];Un&&(Zr[Hn]=Un)}var yn=ir(Mr,Or),An=Qt(Mr),un=nr(Mr,An),Er=Ft(Mr),Zr=cr(Mr),Hr=tr(Mr,bn,yn);Dn("viewport"),Dn(vr("scissor.box"));var qr=0<Object.keys(Zr).length,An={framebuffer:An,draw:Er,shader:Hr,state:Zr,dirty:qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(An.profile=Dt(Mr),An.uniforms=pr(Ar),An.drawVAO=An.scopeVAO=Er.vao,!An.drawVAO&&Hr.program&&!yn&&Jt.angle_instanced_arrays&&Er.static.elements){var Fn=!0;if(Mr=Hr.program.attributes.map(function(Hn){return Hn=Or.static[Hn],Fn=Fn&&!!Hn,Hn}),Fn&&0<Mr.length){var Cn=It.getVAO(It.createVAO({attributes:Mr,elements:Er.static.elements}));An.drawVAO=new Y(null,null,null,function(Hn,Un){return Hn.link(Cn)}),An.useVAO=!0}}return yn?An.useVAO=!0:An.attributes=br(Or),An.context=hr(Fr),An}function Pr(Mr,Or,Ar){var Fr=Mr.shared.context,bn=Mr.scope();Object.keys(Ar).forEach(function(Dn){Or.save(Fr,"."+Dn);var yn=Ar[Dn].append(Mr,Or);Array.isArray(yn)?bn(Fr,".",Dn,"=[",yn.join(),"];"):bn(Fr,".",Dn,"=",yn,";")}),Or(bn)}function Ir(Mr,Or,Ar,Fr){var un=Mr.shared,bn=un.gl,Dn=un.framebuffer,yn;en&&(yn=Or.def(un.extensions,".webgl_draw_buffers"));var Er=Mr.constants,un=Er.drawBuffer,Er=Er.backBuffer;Mr=Ar?Ar.append(Mr,Or):Or.def(Dn,".next"),Fr||Or("if(",Mr,"!==",Dn,".cur){"),Or("if(",Mr,"){",bn,".bindFramebuffer(",36160,",",Mr,".framebuffer);"),en&&Or(yn,".drawBuffersWEBGL(",un,"[",Mr,".colorAttachments.length]);"),Or("}else{",bn,".bindFramebuffer(",36160,",null);"),en&&Or(yn,".drawBuffersWEBGL(",Er,");"),Or("}",Dn,".cur=",Mr,";"),Fr||Or("}")}function sn(Mr,Or,Ar){var Fr=Mr.shared,bn=Fr.gl,Dn=Mr.current,yn=Mr.next,un=Fr.current,Er=Fr.next,Zr=Mr.cond(un,".dirty");Tn.forEach(function(Hr){if(Hr=vr(Hr),!(Hr in Ar.state)){var qr,An;if(Hr in yn){qr=yn[Hr],An=Dn[Hr];var Fn=a(hn[Hr].length,function(Cn){return Zr.def(qr,"[",Cn,"]")});Zr(Mr.cond(Fn.map(function(Cn,Hn){return Cn+"!=="+An+"["+Hn+"]"}).join("||")).then(bn,".",Nn[Hr],"(",Fn,");",Fn.map(function(Cn,Hn){return An+"["+Hn+"]="+Cn}).join(";"),";"))}else qr=Zr.def(Er,".",Hr),Fn=Mr.cond(qr,"!==",un,".",Hr),Zr(Fn),Hr in Sn?Fn(Mr.cond(qr).then(bn,".enable(",Sn[Hr],");").else(bn,".disable(",Sn[Hr],");"),un,".",Hr,"=",qr,";"):Fn(bn,".",Nn[Hr],"(",qr,");",un,".",Hr,"=",qr,";")}}),Object.keys(Ar.state).length===0&&Zr(un,".dirty=false;"),Or(Zr)}function an(Mr,Or,Ar,Fr){var bn=Mr.shared,Dn=Mr.current,yn=bn.current,un=bn.gl,Er;ne(Object.keys(Ar)).forEach(function(Zr){var Hr=Ar[Zr];if(!Fr||Fr(Hr)){var qr=Hr.append(Mr,Or);if(Sn[Zr]){var An=Sn[Zr];oe(Hr)?(Er=Mr.link(qr,{stable:!0}),Or(Mr.cond(Er).then(un,".enable(",An,");").else(un,".disable(",An,");")),Or(yn,".",Zr,"=",Er,";")):(Or(Mr.cond(qr).then(un,".enable(",An,");").else(un,".disable(",An,");")),Or(yn,".",Zr,"=",qr,";"))}else if(b(qr)){var Fn=Dn[Zr];Or(un,".",Nn[Zr],"(",qr,");",qr.map(function(Cn,Hn){return Fn+"["+Hn+"]="+Cn}).join(";"),";")}else oe(Hr)?(Er=Mr.link(qr,{stable:!0}),Or(un,".",Nn[Zr],"(",Er,");",yn,".",Zr,"=",Er,";")):Or(un,".",Nn[Zr],"(",qr,");",yn,".",Zr,"=",qr,";")}})}function En(Mr,Or){gr&&(Mr.instancing=Or.def(Mr.shared.extensions,".angle_instanced_arrays"))}function Mn(Mr,Or,Ar,Fr,bn){function Dn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function yn(Hn){Fn=Or.def(),Hn(Fn,"=",Dn(),";"),typeof bn=="string"?Hn(Hr,".count+=",bn,";"):Hn(Hr,".count++;"),$t&&(Fr?(Cn=Or.def(),Hn(Cn,"=",An,".getNumPendingQueries();")):Hn(An,".beginQuery(",Hr,");"))}function un(Hn){Hn(Hr,".cpuTime+=",Dn(),"-",Fn,";"),$t&&(Fr?Hn(An,".pushScopeStats(",Cn,",",An,".getNumPendingQueries(),",Hr,");"):Hn(An,".endQuery();"))}function Er(Hn){var Un=Or.def(qr,".profile");Or(qr,".profile=",Hn,";"),Or.exit(qr,".profile=",Un,";")}var Zr=Mr.shared,Hr=Mr.stats,qr=Zr.current,An=Zr.timer;Ar=Ar.profile;var Fn,Cn;if(Ar){if(oe(Ar)){Ar.enable?(yn(Or),un(Or.exit),Er("true")):Er("false");return}Ar=Ar.append(Mr,Or),Er(Ar)}else Ar=Or.def(qr,".profile");Zr=Mr.block(),yn(Zr),Or("if(",Ar,"){",Zr,"}"),Mr=Mr.block(),un(Mr),Or.exit("if(",Ar,"){",Mr,"}")}function xr(Mr,Or,Ar,Fr,bn){function Dn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function yn(Er,Zr,Hr){function qr(){Or("if(!",Hn,".buffer){",Fn,".enableVertexAttribArray(",Cn,");}");var ya=Hr.type,Ra;Ra=Hr.size?Or.def(Hr.size,"||",Zr):Zr,Or("if(",Hn,".type!==",ya,"||",Hn,".size!==",Ra,"||",la.map(function(wi){return Hn+"."+wi+"!=="+Hr[wi]}).join("||"),"){",Fn,".bindBuffer(",34962,",",Un,".buffer);",Fn,".vertexAttribPointer(",[Cn,Ra,ya,Hr.normalized,Hr.stride,Hr.offset],");",Hn,".type=",ya,";",Hn,".size=",Ra,";",la.map(function(wi){return Hn+"."+wi+"="+Hr[wi]+";"}).join(""),"}"),gr&&(ya=Hr.divisor,Or("if(",Hn,".divisor!==",ya,"){",Mr.instancing,".vertexAttribDivisorANGLE(",[Cn,ya],");",Hn,".divisor=",ya,";}"))}function An(){Or("if(",Hn,".buffer){",Fn,".disableVertexAttribArray(",Cn,");",Hn,".buffer=null;","}if(",it.map(function(ya,Ra){return Hn+"."+ya+"!=="+da[Ra]}).join("||"),"){",Fn,".vertexAttrib4f(",Cn,",",da,");",it.map(function(ya,Ra){return Hn+"."+ya+"="+da[Ra]+";"}).join(""),"}")}var Fn=un.gl,Cn=Or.def(Er,".location"),Hn=Or.def(un.attributes,"[",Cn,"]");Er=Hr.state;var Un=Hr.buffer,da=[Hr.x,Hr.y,Hr.z,Hr.w],la=["buffer","normalized","offset","stride"];Er===1?qr():Er===2?An():(Or("if(",Er,"===",1,"){"),qr(),Or("}else{"),An(),Or("}"))}var un=Mr.shared;Fr.forEach(function(Er){var Zr=Er.name,Hr=Ar.attributes[Zr],qr;if(Hr){if(!bn(Hr))return;qr=Hr.append(Mr,Or)}else{if(!bn(Xt))return;var An=Mr.scopeAttrib(Zr);qr={},Object.keys(new Yn).forEach(function(Fn){qr[Fn]=Or.def(An,".",Fn)})}yn(Mr.link(Er),Dn(Er.info.type),qr)})}function _r(Mr,Or,Ar,Fr,bn,Dn){for(var yn=Mr.shared,un=yn.gl,Er,Zr=0;Zr<Fr.length;++Zr){var Fn=Fr[Zr],Hr=Fn.name,qr=Fn.info.type,An=Ar.uniforms[Hr],Fn=Mr.link(Fn)+".location",Cn;if(An){if(!bn(An))continue;if(oe(An)){if(Hr=An.value,qr===35678||qr===35680)qr=Mr.link(Hr._texture||Hr.color[0]._texture),Or(un,".uniform1i(",Fn,",",qr+".bind());"),Or.exit(qr,".unbind();");else if(qr===35674||qr===35675||qr===35676)Hr=Mr.global.def("new Float32Array(["+Array.prototype.slice.call(Hr)+"])"),An=2,qr===35675?An=3:qr===35676&&(An=4),Or(un,".uniformMatrix",An,"fv(",Fn,",false,",Hr,");");else{switch(qr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}Or(un,".uniform",Er,"(",Fn,",",b(Hr)?Array.prototype.slice.call(Hr):Hr,");")}continue}else Cn=An.append(Mr,Or)}else{if(!bn(Xt))continue;Cn=Or.def(yn.uniforms,"[",Kt.id(Hr),"]")}switch(qr===35678?Or("if(",Cn,"&&",Cn,'._reglType==="framebuffer"){',Cn,"=",Cn,".color[0];","}"):qr===35680&&Or("if(",Cn,"&&",Cn,'._reglType==="framebufferCube"){',Cn,"=",Cn,".color[0];","}"),Hr=1,qr){case 35678:case 35680:qr=Or.def(Cn,"._texture"),Or(un,".uniform1i(",Fn,",",qr,".bind());"),Or.exit(qr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Hr=2;break;case 35668:case 35672:Er="3i",Hr=3;break;case 35669:case 35673:Er="4i",Hr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Hr=2;break;case 35665:Er="3f",Hr=3;break;case 35666:Er="4f",Hr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){Or(un,".uniform",Er,"(",Fn,",");var Fn=Math.pow(qr-35674+2,2),Hn=Mr.global.def("new Float32Array(",Fn,")");Array.isArray(Cn)?Or("false,(",a(Fn,function(la){return Hn+"["+la+"]="+Cn[la]}),",",Hn,")"):Or("false,(Array.isArray(",Cn,")||",Cn," instanceof Float32Array)?",Cn,":(",a(Fn,function(la){return Hn+"["+la+"]="+Cn+"["+la+"]"}),",",Hn,")"),Or(");")}else{if(1<Hr){for(var qr=[],Un=[],An=0;An<Hr;++An)Array.isArray(Cn)?Un.push(Cn[An]):Un.push(Or.def(Cn+"["+An+"]")),Dn&&qr.push(Or.def());Dn&&Or("if(!",Mr.batchId,"||",qr.map(function(da,la){return da+"!=="+Un[la]}).join("||"),"){",qr.map(function(da,la){return da+"="+Un[la]+";"}).join("")),Or(un,".uniform",Er,"(",Fn,",",Un.join(","),");")}else Dn&&(qr=Or.def(),Or("if(!",Mr.batchId,"||",qr,"!==",Cn,"){",qr,"=",Cn,";")),Or(un,".uniform",Er,"(",Fn,",",Cn,");");Dn&&Or("}")}}}function Yr(Mr,Or,Ar,Fr){function bn(ya){var Ra=Hr[ya];return Ra?Ra.contextDep&&Fr.contextDynamic||Ra.propDep?Ra.append(Mr,Ar):Ra.append(Mr,Or):Or.def(Zr,".",ya)}function Dn(){function ya(){Ar(Un,".drawElementsInstancedANGLE(",[An,Cn,da,Fn+"<<(("+da+"-5121)>>1)",Hn],");")}function Ra(){Ar(Un,".drawArraysInstancedANGLE(",[An,Fn,Cn,Hn],");")}qr&&qr!=="null"?la?ya():(Ar("if(",qr,"){"),ya(),Ar("}else{"),Ra(),Ar("}")):Ra()}function yn(){function ya(){Ar(Er+".drawElements("+[An,Cn,da,Fn+"<<(("+da+"-5121)>>1)"]+");")}function Ra(){Ar(Er+".drawArrays("+[An,Fn,Cn]+");")}qr&&qr!=="null"?la?ya():(Ar("if(",qr,"){"),ya(),Ar("}else{"),Ra(),Ar("}")):Ra()}var un=Mr.shared,Er=un.gl,Zr=un.draw,Hr=Fr.draw,qr=function(){var ya=Hr.elements,Ra=Or;return ya?((ya.contextDep&&Fr.contextDynamic||ya.propDep)&&(Ra=Ar),ya=ya.append(Mr,Ra),Hr.elementsActive&&Ra("if("+ya+")"+Er+".bindBuffer(34963,"+ya+".buffer.buffer);")):(ya=Ra.def(),Ra(ya,"=",Zr,".","elements",";","if(",ya,"){",Er,".bindBuffer(",34963,",",ya,".buffer.buffer);}","else if(",un.vao,".currentVAO){",ya,"=",Mr.shared.elements+".getElements("+un.vao,".currentVAO.elements);",$r?"":"if("+ya+")"+Er+".bindBuffer(34963,"+ya+".buffer.buffer);","}")),ya}(),An=bn("primitive"),Fn=bn("offset"),Cn=function(){var ya=Hr.count,Ra=Or;return ya?((ya.contextDep&&Fr.contextDynamic||ya.propDep)&&(Ra=Ar),ya=ya.append(Mr,Ra)):ya=Ra.def(Zr,".","count"),ya}();if(typeof Cn=="number"){if(Cn===0)return}else Ar("if(",Cn,"){"),Ar.exit("}");var Hn,Un;gr&&(Hn=bn("instances"),Un=Mr.instancing);var da=qr+".type",la=Hr.elements&&oe(Hr.elements)&&!Hr.vaoActive;gr&&(typeof Hn!="number"||0<=Hn)?typeof Hn=="string"?(Ar("if(",Hn,">0){"),Dn(),Ar("}else if(",Hn,"<0){"),yn(),Ar("}")):Dn():yn()}function zr(Mr,Or,Ar,Fr,bn){return Or=zt(),bn=Or.proc("body",bn),gr&&(Or.instancing=bn.def(Or.shared.extensions,".angle_instanced_arrays")),Mr(Or,bn,Ar,Fr),Or.compile().body}function gn(Mr,Or,Ar,Fr){En(Mr,Or),Ar.useVAO?Ar.drawVAO?Or(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Or),");"):Or(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Or(Mr.shared.vao,".setVAO(null);"),xr(Mr,Or,Ar,Fr.attributes,function(){return!0})),_r(Mr,Or,Ar,Fr.uniforms,function(){return!0},!1),Yr(Mr,Or,Or,Ar)}function dn(Mr,Or){var Ar=Mr.proc("draw",1);En(Mr,Ar),Pr(Mr,Ar,Or.context),Ir(Mr,Ar,Or.framebuffer),sn(Mr,Ar,Or),an(Mr,Ar,Or.state),Mn(Mr,Ar,Or,!1,!0);var Fr=Or.shader.progVar.append(Mr,Ar);if(Ar(Mr.shared.gl,".useProgram(",Fr,".program);"),Or.shader.program)gn(Mr,Ar,Or,Or.shader.program);else{Ar(Mr.shared.vao,".setVAO(null);");var bn=Mr.global.def("{}"),Dn=Ar.def(Fr,".id"),yn=Ar.def(bn,"[",Dn,"]");Ar(Mr.cond(yn).then(yn,".call(this,a0);").else(yn,"=",bn,"[",Dn,"]=",Mr.link(function(un){return zr(gn,Mr,Or,un,1)}),"(",Fr,");",yn,".call(this,a0);"))}0<Object.keys(Or.state).length&&Ar(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Ar(Mr.shared.vao,".setVAO(null);")}function Rn(Mr,Or,Ar,Fr){function bn(){return!0}Mr.batchId="a1",En(Mr,Or),xr(Mr,Or,Ar,Fr.attributes,bn),_r(Mr,Or,Ar,Fr.uniforms,bn,!1),Yr(Mr,Or,Or,Ar)}function In(Mr,Or,Ar,Fr){function bn(qr){return qr.contextDep&&yn||qr.propDep}function Dn(qr){return!bn(qr)}En(Mr,Or);var yn=Ar.contextDep,un=Or.def(),Er=Or.def();Mr.shared.props=Er,Mr.batchId=un;var Zr=Mr.scope(),Hr=Mr.scope();Or(Zr.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",Er,"=","a0","[",un,"];",Hr,"}",Zr.exit),Ar.needsContext&&Pr(Mr,Hr,Ar.context),Ar.needsFramebuffer&&Ir(Mr,Hr,Ar.framebuffer),an(Mr,Hr,Ar.state,bn),Ar.profile&&bn(Ar.profile)&&Mn(Mr,Hr,Ar,!1,!0),Fr?(Ar.useVAO?Ar.drawVAO?bn(Ar.drawVAO)?Hr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Hr),");"):Zr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Zr),");"):Zr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Zr(Mr.shared.vao,".setVAO(null);"),xr(Mr,Zr,Ar,Fr.attributes,Dn),xr(Mr,Hr,Ar,Fr.attributes,bn)),_r(Mr,Zr,Ar,Fr.uniforms,Dn,!1),_r(Mr,Hr,Ar,Fr.uniforms,bn,!0),Yr(Mr,Zr,Hr,Ar)):(Or=Mr.global.def("{}"),Fr=Ar.shader.progVar.append(Mr,Hr),Er=Hr.def(Fr,".id"),Zr=Hr.def(Or,"[",Er,"]"),Hr(Mr.shared.gl,".useProgram(",Fr,".program);","if(!",Zr,"){",Zr,"=",Or,"[",Er,"]=",Mr.link(function(qr){return zr(Rn,Mr,Ar,qr,2)}),"(",Fr,");}",Zr,".call(this,a0[",un,"],",un,");"))}function Wn(Mr,Or){function Ar(Zr){return Zr.contextDep&&bn||Zr.propDep}var Fr=Mr.proc("batch",2);Mr.batchId="0",En(Mr,Fr);var bn=!1,Dn=!0;Object.keys(Or.context).forEach(function(Zr){bn=bn||Or.context[Zr].propDep}),bn||(Pr(Mr,Fr,Or.context),Dn=!1);var yn=Or.framebuffer,un=!1;if(yn?(yn.propDep?bn=un=!0:yn.contextDep&&bn&&(un=!0),un||Ir(Mr,Fr,yn)):Ir(Mr,Fr,null),Or.state.viewport&&Or.state.viewport.propDep&&(bn=!0),sn(Mr,Fr,Or),an(Mr,Fr,Or.state,function(Zr){return!Ar(Zr)}),Or.profile&&Ar(Or.profile)||Mn(Mr,Fr,Or,!1,"a1"),Or.contextDep=bn,Or.needsContext=Dn,Or.needsFramebuffer=un,Dn=Or.shader.progVar,Dn.contextDep&&bn||Dn.propDep)In(Mr,Fr,Or,null);else if(Dn=Dn.append(Mr,Fr),Fr(Mr.shared.gl,".useProgram(",Dn,".program);"),Or.shader.program)In(Mr,Fr,Or,Or.shader.program);else{Fr(Mr.shared.vao,".setVAO(null);");var yn=Mr.global.def("{}"),un=Fr.def(Dn,".id"),Er=Fr.def(yn,"[",un,"]");Fr(Mr.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",yn,"[",un,"]=",Mr.link(function(qr){return zr(In,Mr,Or,qr,2)}),"(",Dn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Or.state).length&&Fr(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Fr(Mr.shared.vao,".setVAO(null);")}function oa(Mr,Or){function Ar(un){var Er=Or.shader[un];Er&&(Er=Er.append(Mr,Fr),isNaN(Er)?Fr.set(bn.shader,"."+un,Er):Fr.set(bn.shader,"."+un,Mr.link(Er,{stable:!0})))}var Fr=Mr.proc("scope",3);Mr.batchId="a2";var bn=Mr.shared,Dn=bn.current;if(Pr(Mr,Fr,Or.context),Or.framebuffer&&Or.framebuffer.append(Mr,Fr),ne(Object.keys(Or.state)).forEach(function(un){var Er=Or.state[un],Zr=Er.append(Mr,Fr);b(Zr)?Zr.forEach(function(Hr,qr){isNaN(Hr)?Fr.set(Mr.next[un],"["+qr+"]",Hr):Fr.set(Mr.next[un],"["+qr+"]",Mr.link(Hr,{stable:!0}))}):oe(Er)?Fr.set(bn.next,"."+un,Mr.link(Zr,{stable:!0})):Fr.set(bn.next,"."+un,Zr)}),Mn(Mr,Fr,Or,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var Er=Or.draw[un];Er&&(Er=Er.append(Mr,Fr),isNaN(Er)?Fr.set(bn.draw,"."+un,Er):Fr.set(bn.draw,"."+un,Mr.link(Er),{stable:!0}))}),Object.keys(Or.uniforms).forEach(function(un){var Er=Or.uniforms[un].append(Mr,Fr);Array.isArray(Er)&&(Er="["+Er.map(function(Zr){return isNaN(Zr)?Zr:Mr.link(Zr,{stable:!0})})+"]"),Fr.set(bn.uniforms,"["+Mr.link(Kt.id(un),{stable:!0})+"]",Er)}),Object.keys(Or.attributes).forEach(function(un){var Er=Or.attributes[un].append(Mr,Fr),Zr=Mr.scopeAttrib(un);Object.keys(new Yn).forEach(function(Hr){Fr.set(Zr,"."+Hr,Er[Hr])})}),Or.scopeVAO){var yn=Or.scopeVAO.append(Mr,Fr);isNaN(yn)?Fr.set(bn.vao,".targetVAO",yn):Fr.set(bn.vao,".targetVAO",Mr.link(yn,{stable:!0}))}Ar("vert"),Ar("frag"),0<Object.keys(Or.state).length&&(Fr(Dn,".dirty=true;"),Fr.exit(Dn,".dirty=true;")),Fr("a1(",Mr.shared.context,",a0,",Mr.batchId,");")}function ma(Mr){if(typeof Mr=="object"&&!b(Mr)){for(var Or=Object.keys(Mr),Ar=0;Ar<Or.length;++Ar)if(me.isDynamic(Mr[Or[Ar]]))return!0;return!1}}function Ta(Mr,Or,Ar){function Fr(qr,An){yn.forEach(function(Fn){var Cn=bn[Fn];me.isDynamic(Cn)&&(Cn=qr.invoke(An,Cn),An(Hr,".",Fn,"=",Cn,";"))})}var bn=Or.static[Ar];if(bn&&ma(bn)){var Dn=Mr.global,yn=Object.keys(bn),un=!1,Er=!1,Zr=!1,Hr=Mr.global.def("{}");yn.forEach(function(qr){var An=bn[qr];if(me.isDynamic(An))typeof An=="function"&&(An=bn[qr]=me.unbox(An)),qr=Z(An,null),un=un||qr.thisDep,Zr=Zr||qr.propDep,Er=Er||qr.contextDep;else{switch(Dn(Hr,".",qr,"="),typeof An){case"number":Dn(An);break;case"string":Dn('"',An,'"');break;case"object":Array.isArray(An)&&Dn("[",An.join(),"]");break;default:Dn(Mr.link(An))}Dn(";")}}),Or.dynamic[Ar]=new me.DynamicVariable(4,{thisDep:un,contextDep:Er,propDep:Zr,ref:Hr,append:Fr}),delete Or.static[Ar]}}var Yn=It.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Jt.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var gr=Jt.angle_instanced_arrays,en=Jt.webgl_draw_buffers,$r=Jt.oes_vertex_array_object,hn={dirty:!0,profile:Zt.profile},Bn={},Tn=[],Sn={},Nn={};Ye("dither",3024),Ye("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var qn={gl:yt,context:Bt,strings:Kt,next:Bn,current:hn,draw:Ut,elements:mt,buffer:ur,shader:Ht,attributes:It.state,vao:It,uniforms:Et,framebuffer:bt,extensions:Jt,timer:$t,isBufferArgs:X},va={primTypes:ot,compareFuncs:jt,blendFuncs:Wt,blendEquations:Qn,stencilOps:Tt,glTypes:Ne,orientationType:Lt};en&&(va.backBuffer=[1029],va.drawBuffer=a(yr.maxDrawbuffers,function(Mr){return Mr===0?[0]:a(Mr,function(Or){return 36064+Or})}));var Da=0;return{next:Bn,current:hn,procs:function(){var Mr=zt(),Or=Mr.proc("poll"),Ar=Mr.proc("refresh"),Fr=Mr.block();Or(Fr),Ar(Fr);var Er=Mr.shared,bn=Er.gl,Dn=Er.next,yn=Er.current;Fr(yn,".dirty=false;"),Ir(Mr,Or),Ir(Mr,Ar,null,!0);var un;gr&&(un=Mr.link(gr)),Jt.oes_vertex_array_object&&Ar(Mr.link(Jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Ar.def(Er.attributes),Zr=Ar.def(0),Hr=Mr.cond(Zr,".buffer");Hr.then(bn,".enableVertexAttribArray(i);",bn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",bn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(bn,".disableVertexAttribArray(i);",bn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var qr=Mr.link(yr.maxAttributes,{stable:!0});return Ar("for(var i=0;i<",qr,";++i){",Zr,"=",Er,"[i];",Hr,"}"),gr&&Ar("for(var i=0;i<",qr,";++i){",un,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Ar(Mr.shared.vao,".currentVAO=null;",Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"),Object.keys(Sn).forEach(function(An){var Fn=Sn[An],Cn=Fr.def(Dn,".",An),Hn=Mr.block();Hn("if(",Cn,"){",bn,".enable(",Fn,")}else{",bn,".disable(",Fn,")}",yn,".",An,"=",Cn,";"),Ar(Hn),Or("if(",Cn,"!==",yn,".",An,"){",Hn,"}")}),Object.keys(Nn).forEach(function(An){var Fn=Nn[An],Cn=hn[An],Hn,Un,da=Mr.block();da(bn,".",Fn,"("),b(Cn)?(Fn=Cn.length,Hn=Mr.global.def(Dn,".",An),Un=Mr.global.def(yn,".",An),da(a(Fn,function(la){return Hn+"["+la+"]"}),");",a(Fn,function(la){return Un+"["+la+"]="+Hn+"["+la+"];"}).join("")),Or("if(",a(Fn,function(la){return Hn+"["+la+"]!=="+Un+"["+la+"]"}).join("||"),"){",da,"}")):(Hn=Fr.def(Dn,".",An),Un=Fr.def(yn,".",An),da(Hn,");",yn,".",An,"=",Hn,";"),Or("if(",Hn,"!==",Un,"){",da,"}")),Ar(da)}),Mr.compile()}(),compile:function(Mr,Or,Ar,Fr,bn){var Dn=zt();Dn.stats=Dn.link(bn),Object.keys(Or.static).forEach(function(un){Ta(Dn,Or,un)}),st.forEach(function(un){Ta(Dn,Mr,un)});var yn=Vr(Mr,Or,Ar,Fr,Dn);return yn.shader.program&&(yn.shader.program.attributes.sort(function(un,Er){return un.name<Er.name?-1:1}),yn.shader.program.uniforms.sort(function(un,Er){return un.name<Er.name?-1:1})),dn(Dn,yn),oa(Dn,yn),Wn(Dn,yn),ae(Dn.compile(),{destroy:function(){yn.shader.program.destroy()}})}}}function se(yt,Kt){for(var Jt=0;Jt<yt.length;++Jt)if(yt[Jt]===Kt)return Jt;return-1}var ae=function(yt,Kt){for(var Jt=Object.keys(Kt),yr=0;yr<Jt.length;++yr)yt[Jt[yr]]=Kt[Jt[yr]];return yt},he=0,me={DynamicVariable:H,define:function(yt,Kt){return new H(yt,g(Kt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof H},unbox:R,accessor:g},Me={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pe=f();Pe.zero=f();var be=function(yt,Kt){var Jt=1;Kt.ext_texture_filter_anisotropic&&(Jt=yt.getParameter(34047));var yr=1,ur=1;Kt.webgl_draw_buffers&&(yr=yt.getParameter(34852),ur=yt.getParameter(36063));var mt=!!Kt.oes_texture_float;if(mt){mt=yt.createTexture(),yt.bindTexture(3553,mt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=yt.createFramebuffer();if(yt.bindFramebuffer(36160,lt),yt.framebufferTexture2D(36160,36064,3553,mt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)mt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var bt=Pe.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,bt),yt.getError()?mt=!1:(yt.deleteFramebuffer(lt),yt.deleteTexture(mt),mt=bt[0]===1),Pe.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=yt.createTexture(),lt=Pe.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,bt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),Pe.freeType(lt),yt.bindTexture(34067,null),yt.deleteTexture(bt),bt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Kt).filter(function(Et){return!!Kt[Et]}),maxAnisotropic:Jt,maxDrawbuffers:yr,maxColorAttachments:ur,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:mt,npotTextureCube:bt}},Ee=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},xe=function(yt){return Object.keys(yt).map(function(Kt){return yt[Kt]})},Ce={shape:function(yt){for(var Kt=[];yt.length;yt=yt[0])Kt.push(yt.length);return Kt},flatten:function(yt,Kt,Jt,yr){var ur=1;if(Kt.length)for(var mt=0;mt<Kt.length;++mt)ur*=Kt[mt];else ur=0;switch(Jt=yr||Pe.allocType(Jt,ur),Kt.length){case 0:break;case 1:for(yr=Kt[0],Kt=0;Kt<yr;++Kt)Jt[Kt]=yt[Kt];break;case 2:for(yr=Kt[0],Kt=Kt[1],mt=ur=0;mt<yr;++mt)for(var lt=yt[mt],bt=0;bt<Kt;++bt)Jt[ur++]=lt[bt];break;case 3:l(yt,Kt[0],Kt[1],Kt[2],Jt,0);break;default:y(yt,Kt,0,Jt,0)}return Jt}},Ue={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ne={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},He=Ce.flatten,at=Ce.shape,vt=[];vt[5120]=1,vt[5122]=2,vt[5124]=4,vt[5121]=1,vt[5123]=2,vt[5125]=4,vt[5126]=4;var ot={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ct=new Uint32Array(et.buffer),ht=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var Mt=P("HTMLCanvasElement"),tt=P("OffscreenCanvas"),Oe=P("CanvasRenderingContext2D"),Xe=P("ImageBitmap"),Ze=P("HTMLImageElement"),We=P("HTMLVideoElement"),ze=Object.keys(Ue).concat([Mt,tt,Oe,Xe,Ze,We]),ke=[];ke[5121]=1,ke[5126]=4,ke[36193]=2,ke[5123]=2,ke[5125]=4;var je=[];je[32854]=2,je[32855]=2,je[36194]=2,je[34041]=4,je[33776]=.5,je[33777]=.5,je[33778]=1,je[33779]=1,je[35986]=.5,je[35987]=1,je[34798]=1,je[35840]=.5,je[35841]=.25,je[35842]=.5,je[35843]=.25,je[36196]=.5;var Ie=[];Ie[32854]=2,Ie[32855]=2,Ie[36194]=2,Ie[33189]=2,Ie[36168]=1,Ie[34041]=4,Ie[35907]=4,Ie[34836]=16,Ie[34842]=8,Ie[34843]=6;var pe=function(yt,Kt,Jt,yr,ur){function mt(Ut){this.id=It++,this.refCount=1,this.renderbuffer=Ut,this.format=32854,this.height=this.width=0,ur.profile&&(this.stats={size:0})}function lt(Ut){var Bt=Ut.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Bt),Ut.renderbuffer=null,Ut.refCount=0,delete Ht[Ut.id],yr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(bt.srgba=35907),Kt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Kt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Ut){Et[bt[Ut]]=Ut});var It=0,Ht={};return mt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},ur.profile&&(yr.getTotalRenderbufferSize=function(){var Ut=0;return Object.keys(Ht).forEach(function(Bt){Ut+=Ht[Bt].stats.size}),Ut}),{create:function(Ut,Bt){function $t(Zt,vr){var Ye=0,Ge=0,zt=32854;if(typeof Zt=="object"&&Zt?("shape"in Zt?(Ge=Zt.shape,Ye=Ge[0]|0,Ge=Ge[1]|0):("radius"in Zt&&(Ye=Ge=Zt.radius|0),"width"in Zt&&(Ye=Zt.width|0),"height"in Zt&&(Ge=Zt.height|0)),"format"in Zt&&(zt=bt[Zt.format])):typeof Zt=="number"?(Ye=Zt|0,Ge=typeof vr=="number"?vr|0:Ye):Zt||(Ye=Ge=1),Ye!==fr.width||Ge!==fr.height||zt!==fr.format)return $t.width=fr.width=Ye,$t.height=fr.height=Ge,fr.format=zt,yt.bindRenderbuffer(36161,fr.renderbuffer),yt.renderbufferStorage(36161,zt,Ye,Ge),ur.profile&&(fr.stats.size=Ie[fr.format]*fr.width*fr.height),$t.format=Et[fr.format],$t}var fr=new mt(yt.createRenderbuffer());return Ht[fr.id]=fr,yr.renderbufferCount++,$t(Ut,Bt),$t.resize=function(Zt,vr){var Ye=Zt|0,Ge=vr|0||Ye;return Ye===fr.width&&Ge===fr.height||($t.width=fr.width=Ye,$t.height=fr.height=Ge,yt.bindRenderbuffer(36161,fr.renderbuffer),yt.renderbufferStorage(36161,fr.format,Ye,Ge),ur.profile&&(fr.stats.size=Ie[fr.format]*fr.width*fr.height)),$t},$t._reglType="renderbuffer",$t._renderbuffer=fr,ur.profile&&($t.stats=fr.stats),$t.destroy=function(){fr.decRef()},$t},clear:function(){xe(Ht).forEach(lt)},restore:function(){xe(Ht).forEach(function(Ut){Ut.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Ut.renderbuffer),yt.renderbufferStorage(36161,Ut.format,Ut.width,Ut.height)}),yt.bindRenderbuffer(36161,null)}}},we=[];we[6408]=4,we[6407]=3;var Ve=[];Ve[5121]=1,Ve[5126]=4,Ve[36193]=2;var Qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],it=["x","y","z","w"],st="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Lt={cw:2304,ccw:2305},Xt=new Y(!1,!1,!1,function(){}),Tr=function(yt,Kt){function Jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Ht,Ut,Bt){var $t=lt.pop()||new Jt;$t.startQueryIndex=Ht,$t.endQueryIndex=Ut,$t.sum=0,$t.stats=Bt,bt.push($t)}if(!Kt.ext_disjoint_timer_query)return null;var ur=[],mt=[],lt=[],bt=[],Et=[],It=[];return{beginQuery:function(Ht){var Ut=ur.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,Ut),mt.push(Ut),yr(mt.length-1,mt.length,Ht)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Ht,Ut;if(Ht=mt.length,Ht!==0){It.length=Math.max(It.length,Ht+1),Et.length=Math.max(Et.length,Ht+1),Et[0]=0;var Bt=It[0]=0;for(Ut=Ht=0;Ut<mt.length;++Ut){var $t=mt[Ut];Kt.ext_disjoint_timer_query.getQueryObjectEXT($t,34919)?(Bt+=Kt.ext_disjoint_timer_query.getQueryObjectEXT($t,34918),ur.push($t)):mt[Ht++]=$t,Et[Ut+1]=Bt,It[Ut+1]=Ht}for(mt.length=Ht,Ut=Ht=0;Ut<bt.length;++Ut){var Bt=bt[Ut],fr=Bt.startQueryIndex,$t=Bt.endQueryIndex;Bt.sum+=Et[$t]-Et[fr],fr=It[fr],$t=It[$t],$t===fr?(Bt.stats.gpuTime+=Bt.sum/1e6,lt.push(Bt)):(Bt.startQueryIndex=fr,Bt.endQueryIndex=$t,bt[Ht++]=Bt)}bt.length=Ht}},getNumPendingQueries:function(){return mt.length},clear:function(){ur.push.apply(ur,mt);for(var Ht=0;Ht<ur.length;Ht++)Kt.ext_disjoint_timer_query.deleteQueryEXT(ur[Ht]);mt.length=0,ur.length=0},restore:function(){mt.length=0,ur.length=0}}};return function(yt){function Kt(){if(Mn.length===0)zt&&zt.update(),zr=null;else{zr=Me.next(Kt),Ht();for(var dn=Mn.length-1;0<=dn;--dn){var Rn=Mn[dn];Rn&&Rn(nr,null,0)}$t.flush(),zt&&zt.update()}}function Jt(){!zr&&0<Mn.length&&(zr=Me.next(Kt))}function yr(){zr&&(Me.cancel(Kt),zr=null)}function ur(dn){dn.preventDefault(),yr(),xr.forEach(function(Rn){Rn()})}function mt(dn){$t.getError(),Zt.restore(),br.restore(),Ft.restore(),hr.restore(),Vr.restore(),Pr.restore(),pr.restore(),zt&&zt.restore(),Ir.procs.refresh(),Jt(),_r.forEach(function(Rn){Rn()})}function lt(dn){function Rn(hn,Bn){var Tn={},Sn={};return Object.keys(hn).forEach(function(Nn){var qn=hn[Nn];if(me.isDynamic(qn))Sn[Nn]=me.unbox(qn,Nn);else{if(Bn&&Array.isArray(qn)){for(var va=0;va<qn.length;++va)if(me.isDynamic(qn[va])){Sn[Nn]=me.unbox(qn,Nn);return}}Tn[Nn]=qn}}),{dynamic:Sn,static:Tn}}function In(hn){for(;$r.length<hn;)$r.push(null);return $r}var Wn=Rn(dn.context||{},!0),oa=Rn(dn.uniforms||{},!0),ma=Rn(dn.attributes||{},!1);dn=Rn(function(hn){function Bn(Sn){if(Sn in Tn){var Nn=Tn[Sn];delete Tn[Sn],Object.keys(Nn).forEach(function(qn){Tn[Sn+"."+qn]=Nn[qn]})}}var Tn=ae({},hn);return delete Tn.uniforms,delete Tn.attributes,delete Tn.context,delete Tn.vao,"stencil"in Tn&&Tn.stencil.op&&(Tn.stencil.opBack=Tn.stencil.opFront=Tn.stencil.op,delete Tn.stencil.op),Bn("blend"),Bn("depth"),Bn("cull"),Bn("stencil"),Bn("polygonOffset"),Bn("scissor"),Bn("sample"),"vao"in hn&&(Tn.vao=hn.vao),Tn}(dn),!1);var Ta={gpuTime:0,cpuTime:0,count:0},Yn=Ir.compile(dn,ma,oa,Wn,Ta),Qn=Yn.draw,gr=Yn.batch,en=Yn.scope,$r=[];return ae(function(hn,Bn){var Tn;if(typeof hn=="function")return en.call(this,null,hn,0);if(typeof Bn=="function")if(typeof hn=="number")for(Tn=0;Tn<hn;++Tn)en.call(this,null,Bn,Tn);else if(Array.isArray(hn))for(Tn=0;Tn<hn.length;++Tn)en.call(this,hn[Tn],Bn,Tn);else return en.call(this,hn,Bn,0);else if(typeof hn=="number"){if(0<hn)return gr.call(this,In(hn|0),hn|0)}else if(Array.isArray(hn)){if(hn.length)return gr.call(this,hn,hn.length)}else return Qn.call(this,hn)},{stats:Ta,destroy:function(){Yn.destroy()}})}function bt(dn,Rn){var In=0;Ir.procs.poll();var Wn=Rn.color;Wn&&($t.clearColor(+Wn[0]||0,+Wn[1]||0,+Wn[2]||0,+Wn[3]||0),In|=16384),"depth"in Rn&&($t.clearDepth(+Rn.depth),In|=256),"stencil"in Rn&&($t.clearStencil(Rn.stencil|0),In|=1024),$t.clear(In)}function Et(dn){return Mn.push(dn),Jt(),{cancel:function(){function Rn(){var Wn=se(Mn,Rn);Mn[Wn]=Mn[Mn.length-1],--Mn.length,0>=Mn.length&&yr()}var In=se(Mn,dn);Mn[In]=Rn}}}function It(){var dn=an.viewport,Rn=an.scissor_box;dn[0]=dn[1]=Rn[0]=Rn[1]=0,nr.viewportWidth=nr.framebufferWidth=nr.drawingBufferWidth=dn[2]=Rn[2]=$t.drawingBufferWidth,nr.viewportHeight=nr.framebufferHeight=nr.drawingBufferHeight=dn[3]=Rn[3]=$t.drawingBufferHeight}function Ht(){nr.tick+=1,nr.time=Bt(),It(),Ir.procs.poll()}function Ut(){hr.refresh(),It(),Ir.procs.refresh(),zt&&zt.update()}function Bt(){return(Te()-Dt)/1e3}if(yt=r(yt),!yt)return null;var $t=yt.gl,fr=$t.getContextAttributes();$t.isContextLost();var Zt=t($t,yt);if(!Zt)return null;var sn=i(),vr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=yt.cachedCode||{},Ge=Zt.extensions,zt=Tr($t,Ge),Dt=Te(),ir=$t.drawingBufferWidth,Qt=$t.drawingBufferHeight,nr={tick:0,time:0,viewportWidth:ir,viewportHeight:Qt,framebufferWidth:ir,framebufferHeight:Qt,drawingBufferWidth:ir,drawingBufferHeight:Qt,pixelRatio:yt.pixelRatio},ir={elements:null,primitive:4,count:-1,offset:0,instances:-1},tr=be($t,Ge),Ft=o($t,vr,yt,function(dn){return pr.destroyBuffer(dn)}),cr=p($t,Ge,Ft,vr),pr=z($t,Ge,tr,vr,Ft,cr,ir),br=F($t,sn,vr,yt),hr=_($t,Ge,tr,function(){Ir.procs.poll()},nr,vr,yt),Vr=pe($t,Ge,tr,vr,yt),Pr=D($t,Ge,tr,hr,Vr,vr),Ir=$($t,sn,Ge,tr,Ft,cr,hr,Pr,{},pr,br,ir,nr,zt,Ye,yt),sn=U($t,Pr,Ir.procs.poll,nr),an=Ir.next,En=$t.canvas,Mn=[],xr=[],_r=[],Yr=[yt.onDestroy],zr=null;En&&(En.addEventListener("webglcontextlost",ur,!1),En.addEventListener("webglcontextrestored",mt,!1));var gn=Pr.setFBO=lt({framebuffer:me.define.call(null,1,"framebuffer")});return Ut(),fr=ae(lt,{clear:function(dn){if("framebuffer"in dn)if(dn.framebuffer&&dn.framebuffer_reglType==="framebufferCube")for(var Rn=0;6>Rn;++Rn)gn(ae({framebuffer:dn.framebuffer.faces[Rn]},dn),bt);else gn(dn,bt);else bt(null,dn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:lt({}),buffer:function(dn){return Ft.create(dn,34962,!1,!1)},elements:function(dn){return cr.create(dn,!1)},texture:hr.create2D,cube:hr.createCube,renderbuffer:Vr.create,framebuffer:Pr.create,framebufferCube:Pr.createCube,vao:pr.createVAO,attributes:fr,frame:Et,on:function(dn,Rn){var In;switch(dn){case"frame":return Et(Rn);case"lost":In=xr;break;case"restore":In=_r;break;case"destroy":In=Yr}return In.push(Rn),{cancel:function(){for(var Wn=0;Wn<In.length;++Wn)if(In[Wn]===Rn){In[Wn]=In[In.length-1],In.pop();break}}}},limits:tr,hasExtension:function(dn){return 0<=tr.extensions.indexOf(dn.toLowerCase())},read:sn,destroy:function(){Mn.length=0,yr(),En&&(En.removeEventListener("webglcontextlost",ur),En.removeEventListener("webglcontextrestored",mt)),br.clear(),Pr.clear(),Vr.clear(),pr.clear(),hr.clear(),cr.clear(),Ft.clear(),zt&&zt.clear(),Yr.forEach(function(dn){dn()})},_gl:$t,_refresh:Ut,poll:function(){Ht(),zt&&zt.update()},now:Bt,stats:vr,getCachedCode:function(){return Ye},preloadCachedCode:function(dn){Object.entries(dn).forEach(function(Rn){Ye[Rn[0]]=Rn[1]})}}),yt.onDone(null,fr),fr}})},30456:function(G,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),R=g.Buffer;function i(S,v){for(var d in S)v[d]=S[d]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?G.exports=g:(i(g,H),H.Buffer=C);function C(S,v,d){return R(S,v,d)}C.prototype=Object.create(R.prototype),i(R,C),C.from=function(S,v,d){if(typeof S=="number")throw new TypeError("Argument must not be a number");return R(S,v,d)},C.alloc=function(S,v,d){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=R(S);return v!==void 0?typeof d=="string"?r.fill(v,d):r.fill(v):r.fill(0),r},C.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return R(S)},C.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(S)}},14500:function(G,H,e){var g=e(53664),R=e(64348),i=e(39640)(),C=e(2304),S=g("%TypeError%"),v=g("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&C){var u=C(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!a)&&(i?R(r,"length",t,!0,!0):R(r,"length",t)),r}},29936:function(G,H,e){G.exports=i;var g=e(61252).EventEmitter,R=e(6768);R(i,g),i.Readable=e(12348),i.Writable=e(11288),i.Duplex=e(15316),i.Transform=e(22477),i.PassThrough=e(27136),i.finished=e(15932),i.pipeline=e(38180),i.Stream=i;function i(){g.call(this)}i.prototype.pipe=function(C,S){var v=this;function d(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",d);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!S||S.end!==!1)&&(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,C.end())}function n(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function f(l){if(u(),g.listenerCount(this,"error")===0)throw l}v.on("error",f),C.on("error",f);function u(){v.removeListener("data",d),C.removeListener("drain",r),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",f),C.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),C.removeListener("close",u)}return v.on("end",u),v.on("close",u),C.on("close",u),C.emit("pipe",v),C}},92784:function(G){function H(v,d){v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.__proto__=d}var e={};function g(v,d,r){r||(r=Error);function t(n,f,u){return typeof d=="string"?d:d(n,f,u)}var a=function(n){H(f,n);function f(u,l,y){return n.call(this,t(u,l,y))||this}return f}(r);a.prototype.name=r.name,a.prototype.code=v,e[v]=a}function R(v,d){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(d," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(d," ").concat(v[0]," or ").concat(v[1]):"of ".concat(d," ").concat(v[0])}else return"of ".concat(d," ").concat(String(v))}function i(v,d,r){return v.substr(0,d.length)===d}function C(v,d,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-d.length,r)===d}function S(v,d,r){return typeof r!="number"&&(r=0),r+d.length>v.length?!1:v.indexOf(d,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,d){return'The value "'+d+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,d,r){var t;typeof d=="string"&&i(d,"not ")?(t="must not be",d=d.replace(/^not /,"")):t="must be";var a;if(C(v," argument"))a="The ".concat(v," ").concat(t," ").concat(R(d,"type"));else{var n=S(v,".")?"property":"argument";a='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(R(d,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,H,e){var g=e(4168),R=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};G.exports=r;var i=e(12348),C=e(11288);e(6768)(r,i);for(var S=R(C.prototype),v=0;v<S.length;v++){var d=S[v];r.prototype[d]||(r.prototype[d]=C.prototype[d])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(a,this)}function a(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(G,H,e){G.exports=R;var g=e(22477);e(6768)(R,g);function R(i){if(!(this instanceof R))return new R(i);g.call(this,i)}R.prototype._transform=function(i,C,S){S(null,i)}},12348:function(G,H,e){var g=e(4168);G.exports=s;var R;s.ReadableState=M,e(61252).EventEmitter;var i=function($,se){return $.listeners(se).length},C=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function d(Z){return S.from(Z)}function r(Z){return S.isBuffer(Z)||Z instanceof v}var t=e(19768),a;t&&t.debuglog?a=t.debuglog("stream"):a=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,y=e(92784).i,h=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,c=y.ERR_METHOD_NOT_IMPLEMENTED,o=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,x,b;e(6768)(s,C);var P=f.errorOrDestroy,m=["error","close","destroy","pause","resume"];function L(Z,$,se){if(typeof Z.prependListener=="function")return Z.prependListener($,se);!Z._events||!Z._events[$]?Z.on($,se):Array.isArray(Z._events[$])?Z._events[$].unshift(se):Z._events[$]=[se,Z._events[$]]}function M(Z,$,se){R=R||e(15316),Z=Z||{},typeof se!="boolean"&&(se=$ instanceof R),this.objectMode=!!Z.objectMode,se&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=l(this,Z,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(p||(p=e(86032).o),this.decoder=new p(Z.encoding),this.encoding=Z.encoding)}function s(Z){if(R=R||e(15316),!(this instanceof s))return new s(Z);var $=this instanceof R;this._readableState=new M(Z,this,$),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),C.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),s.prototype.destroy=f.destroy,s.prototype._undestroy=f.undestroy,s.prototype._destroy=function(Z,$){$(Z)},s.prototype.push=function(Z,$){var se=this._readableState,ae;return se.objectMode?ae=!0:typeof Z=="string"&&($=$||se.defaultEncoding,$!==se.encoding&&(Z=S.from(Z,$),$=""),ae=!0),E(this,Z,$,!1,ae)},s.prototype.unshift=function(Z){return E(this,Z,null,!0,!1)};function E(Z,$,se,ae,he){a("readableAddChunk",$);var me=Z._readableState;if($===null)me.reading=!1,F(Z,me);else{var Me;if(he||(Me=_(me,$)),Me)P(Z,Me);else if(me.objectMode||$&&$.length>0)if(typeof $!="string"&&!me.objectMode&&Object.getPrototypeOf($)!==S.prototype&&($=d($)),ae)me.endEmitted?P(Z,new o):w(Z,me,$,!0);else if(me.ended)P(Z,new T);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!se?($=me.decoder.write($),me.objectMode||$.length!==0?w(Z,me,$,!1):V(Z,me)):w(Z,me,$,!1)}else ae||(me.reading=!1,V(Z,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function w(Z,$,se,ae){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,Z.emit("data",se)):($.length+=$.objectMode?1:se.length,ae?$.buffer.unshift(se):$.buffer.push(se),$.needReadable&&U(Z)),V(Z,$)}function _(Z,$){var se;return!r($)&&typeof $!="string"&&$!==void 0&&!Z.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],$)),se}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(Z){p||(p=e(86032).o);var $=new p(Z);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ae="";se!==null;)ae+=$.write(se.data),se=se.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var D=1073741824;function N(Z){return Z>=D?Z=D:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function z(Z,$){return Z<=0||$.length===0&&$.ended?0:$.objectMode?1:Z!==Z?$.flowing&&$.length?$.buffer.head.data.length:$.length:(Z>$.highWaterMark&&($.highWaterMark=N(Z)),Z<=$.length?Z:$.ended?$.length:($.needReadable=!0,0))}s.prototype.read=function(Z){a("read",Z),Z=parseInt(Z,10);var $=this._readableState,se=Z;if(Z!==0&&($.emittedReadable=!1),Z===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return a("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?Y(this):U(this),null;if(Z=z(Z,$),Z===0&&$.ended)return $.length===0&&Y(this),null;var ae=$.needReadable;a("need readable",ae),($.length===0||$.length-Z<$.highWaterMark)&&(ae=!0,a("length less than watermark",ae)),$.ended||$.reading?(ae=!1,a("reading or ended",ae)):ae&&(a("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(Z=z(se,$)));var he;return Z>0?he=ne(Z,$):he=null,he===null?($.needReadable=$.length<=$.highWaterMark,Z=0):($.length-=Z,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),se!==Z&&$.ended&&Y(this)),he!==null&&this.emit("data",he),he};function F(Z,$){if(a("onEofChunk"),!$.ended){if($.decoder){var se=$.decoder.end();se&&se.length&&($.buffer.push(se),$.length+=$.objectMode?1:se.length)}$.ended=!0,$.sync?U(Z):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,B(Z)))}}function U(Z){var $=Z._readableState;a("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(a("emitReadable",$.flowing),$.emittedReadable=!0,g.nextTick(B,Z))}function B(Z){var $=Z._readableState;a("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(Z.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,X(Z)}function V(Z,$){$.readingMore||($.readingMore=!0,g.nextTick(j,Z,$))}function j(Z,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var se=$.length;if(a("maybeReadMore read 0"),Z.read(0),se===$.length)break}$.readingMore=!1}s.prototype._read=function(Z){P(this,new c("_read()"))},s.prototype.pipe=function(Z,$){var se=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=Z;break;case 1:ae.pipes=[ae.pipes,Z];break;default:ae.pipes.push(Z);break}ae.pipesCount+=1,a("pipe count=%d opts=%j",ae.pipesCount,$);var he=(!$||$.end!==!1)&&Z!==g.stdout&&Z!==g.stderr,me=he?Te:De;ae.endEmitted?g.nextTick(me):se.once("end",me),Z.on("unpipe",Me);function Me(He,at){a("onunpipe"),He===se&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,Ee())}function Te(){a("onend"),Z.end()}var Pe=Q(se);Z.on("drain",Pe);var be=!1;function Ee(){a("cleanup"),Z.removeListener("close",Ue),Z.removeListener("finish",Ne),Z.removeListener("drain",Pe),Z.removeListener("error",Ce),Z.removeListener("unpipe",Me),se.removeListener("end",Te),se.removeListener("end",De),se.removeListener("data",xe),be=!0,ae.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&Pe()}se.on("data",xe);function xe(He){a("ondata");var at=Z.write(He);a("dest.write",at),at===!1&&((ae.pipesCount===1&&ae.pipes===Z||ae.pipesCount>1&&le(ae.pipes,Z)!==-1)&&!be&&(a("false write response, pause",ae.awaitDrain),ae.awaitDrain++),se.pause())}function Ce(He){a("onerror",He),De(),Z.removeListener("error",Ce),i(Z,"error")===0&&P(Z,He)}L(Z,"error",Ce);function Ue(){Z.removeListener("finish",Ne),De()}Z.once("close",Ue);function Ne(){a("onfinish"),Z.removeListener("close",Ue),De()}Z.once("finish",Ne);function De(){a("unpipe"),se.unpipe(Z)}return Z.emit("pipe",se),ae.flowing||(a("pipe resume"),se.resume()),Z};function Q(Z){return function(){var se=Z._readableState;a("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&i(Z,"data")&&(se.flowing=!0,X(Z))}}s.prototype.unpipe=function(Z){var $=this._readableState,se={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return Z&&Z!==$.pipes?this:(Z||(Z=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,Z&&Z.emit("unpipe",this,se),this);if(!Z){var ae=$.pipes,he=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var me=0;me<he;me++)ae[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=le($.pipes,Z);return Me===-1?this:($.pipes.splice(Me,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),Z.emit("unpipe",this,se),this)},s.prototype.on=function(Z,$){var se=C.prototype.on.call(this,Z,$),ae=this._readableState;return Z==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):Z==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,a("on readable",ae.length,ae.reading),ae.length?U(this):ae.reading||g.nextTick(re,this)),se},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(Z,$){var se=C.prototype.removeListener.call(this,Z,$);return Z==="readable"&&g.nextTick(ee,this),se},s.prototype.removeAllListeners=function(Z){var $=C.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&g.nextTick(ee,this),$};function ee(Z){var $=Z._readableState;$.readableListening=Z.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function re(Z){a("readable nexttick read 0"),Z.read(0)}s.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(a("resume"),Z.flowing=!Z.readableListening,ue(this,Z)),Z.paused=!1,this};function ue(Z,$){$.resumeScheduled||($.resumeScheduled=!0,g.nextTick(J,Z,$))}function J(Z,$){a("resume",$.reading),$.reading||Z.read(0),$.resumeScheduled=!1,Z.emit("resume"),X(Z),$.flowing&&!$.reading&&Z.read(0)}s.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(Z){var $=Z._readableState;for(a("flow",$.flowing);$.flowing&&Z.read()!==null;);}s.prototype.wrap=function(Z){var $=this,se=this._readableState,ae=!1;Z.on("end",function(){if(a("wrapped end"),se.decoder&&!se.ended){var Me=se.decoder.end();Me&&Me.length&&$.push(Me)}$.push(null)}),Z.on("data",function(Me){if(a("wrapped data"),se.decoder&&(Me=se.decoder.write(Me)),!(se.objectMode&&Me==null)&&!(!se.objectMode&&(!Me||!Me.length))){var Te=$.push(Me);Te||(ae=!0,Z.pause())}});for(var he in Z)this[he]===void 0&&typeof Z[he]=="function"&&(this[he]=function(Te){return function(){return Z[Te].apply(Z,arguments)}}(he));for(var me=0;me<m.length;me++)Z.on(m[me],this.emit.bind(this,m[me]));return this._read=function(Me){a("wrapped _read",Me),ae&&(ae=!1,Z.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),s._fromList=ne,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(Z,$){if($.length===0)return null;var se;return $.objectMode?se=$.buffer.shift():!Z||Z>=$.length?($.decoder?se=$.buffer.join(""):$.buffer.length===1?se=$.buffer.first():se=$.buffer.concat($.length),$.buffer.clear()):se=$.buffer.consume(Z,$.decoder),se}function Y(Z){var $=Z._readableState;a("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,g.nextTick(oe,$,Z))}function oe(Z,$){if(a("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,$.readable=!1,$.emit("end"),Z.autoDestroy)){var se=$._writableState;(!se||se.autoDestroy&&se.finished)&&$.destroy()}}typeof Symbol=="function"&&(s.from=function(Z,$){return b===void 0&&(b=e(90555)),b(s,Z,$)});function le(Z,$){for(var se=0,ae=Z.length;se<ae;se++)if(Z[se]===$)return se;return-1}},22477:function(G,H,e){G.exports=r;var g=e(92784).i,R=g.ERR_METHOD_NOT_IMPLEMENTED,i=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function d(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new i);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){a(n,f,u)}):a(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new R("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var y=this._readableState;(l.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function a(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new S;if(n._transformState.transforming)throw new C;return n.push(null)}},11288:function(G,H,e){var g=e(4168);G.exports=M;function R(X){var ne=this;this.next=null,this.entry=null,this.finish=function(){J(ne,X)}}var i;M.WritableState=m;var C={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,d=e.g.Uint8Array||function(){};function r(X){return v.from(X)}function t(X){return v.isBuffer(X)||X instanceof d}var a=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,y=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,o=u.ERR_STREAM_NULL_VALUES,p=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,b=a.errorOrDestroy;e(6768)(M,S);function P(){}function m(X,ne,Y){i=i||e(15316),X=X||{},typeof Y!="boolean"&&(Y=ne instanceof i),this.objectMode=!!X.objectMode,Y&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=f(this,X,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=X.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){F(ne,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}m.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,Y=[];ne;)Y.push(ne),ne=ne.next;return Y},function(){try{Object.defineProperty(m.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(ne){return L.call(this,ne)?!0:this!==M?!1:ne&&ne._writableState instanceof m}})):L=function(ne){return ne instanceof this};function M(X){i=i||e(15316);var ne=this instanceof i;if(!ne&&!L.call(M,this))return new M(X);this._writableState=new m(X,this,ne),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),S.call(this)}M.prototype.pipe=function(){b(this,new T)};function s(X,ne){var Y=new p;b(X,Y),g.nextTick(ne,Y)}function E(X,ne,Y,oe){var le;return Y===null?le=new o:typeof Y!="string"&&!ne.objectMode&&(le=new l("chunk",["string","Buffer"],Y)),le?(b(X,le),g.nextTick(oe,le),!1):!0}M.prototype.write=function(X,ne,Y){var oe=this._writableState,le=!1,Z=!oe.objectMode&&t(X);return Z&&!v.isBuffer(X)&&(X=r(X)),typeof ne=="function"&&(Y=ne,ne=null),Z?ne="buffer":ne||(ne=oe.defaultEncoding),typeof Y!="function"&&(Y=P),oe.ending?s(this,Y):(Z||E(this,oe,X,Y))&&(oe.pendingcb++,le=_(this,oe,Z,X,ne,Y)),le},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&V(this,X))},M.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new x(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(X,ne,Y){return!X.objectMode&&X.decodeStrings!==!1&&typeof ne=="string"&&(ne=v.from(ne,Y)),ne}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(X,ne,Y,oe,le,Z){if(!Y){var $=w(ne,oe,le);oe!==$&&(Y=!0,le="buffer",oe=$)}var se=ne.objectMode?1:oe.length;ne.length+=se;var ae=ne.length<ne.highWaterMark;if(ae||(ne.needDrain=!0),ne.writing||ne.corked){var he=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:oe,encoding:le,isBuf:Y,callback:Z,next:null},he?he.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else D(X,ne,!1,se,oe,le,Z);return ae}function D(X,ne,Y,oe,le,Z,$){ne.writelen=oe,ne.writecb=$,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new c("write")):Y?X._writev(le,ne.onwrite):X._write(le,Z,ne.onwrite),ne.sync=!1}function N(X,ne,Y,oe,le){--ne.pendingcb,Y?(g.nextTick(le,oe),g.nextTick(re,X,ne),X._writableState.errorEmitted=!0,b(X,oe)):(le(oe),X._writableState.errorEmitted=!0,b(X,oe),re(X,ne))}function z(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function F(X,ne){var Y=X._writableState,oe=Y.sync,le=Y.writecb;if(typeof le!="function")throw new h;if(z(Y),ne)N(X,Y,oe,ne,le);else{var Z=j(Y)||X.destroyed;!Z&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&V(X,Y),oe?g.nextTick(U,X,Y,Z,le):U(X,Y,Z,le)}}function U(X,ne,Y,oe){Y||B(X,ne),ne.pendingcb--,oe(),re(X,ne)}function B(X,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,X.emit("drain"))}function V(X,ne){ne.bufferProcessing=!0;var Y=ne.bufferedRequest;if(X._writev&&Y&&Y.next){var oe=ne.bufferedRequestCount,le=new Array(oe),Z=ne.corkedRequestsFree;Z.entry=Y;for(var $=0,se=!0;Y;)le[$]=Y,Y.isBuf||(se=!1),Y=Y.next,$+=1;le.allBuffers=se,D(X,ne,!0,ne.length,le,"",Z.finish),ne.pendingcb++,ne.lastBufferedRequest=null,Z.next?(ne.corkedRequestsFree=Z.next,Z.next=null):ne.corkedRequestsFree=new R(ne),ne.bufferedRequestCount=0}else{for(;Y;){var ae=Y.chunk,he=Y.encoding,me=Y.callback,Me=ne.objectMode?1:ae.length;if(D(X,ne,!1,Me,ae,he,me),Y=Y.next,ne.bufferedRequestCount--,ne.writing)break}Y===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=Y,ne.bufferProcessing=!1}M.prototype._write=function(X,ne,Y){Y(new y("_write()"))},M.prototype._writev=null,M.prototype.end=function(X,ne,Y){var oe=this._writableState;return typeof X=="function"?(Y=X,X=null,ne=null):typeof ne=="function"&&(Y=ne,ne=null),X!=null&&this.write(X,ne),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||ue(this,oe,Y),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function Q(X,ne){X._final(function(Y){ne.pendingcb--,Y&&b(X,Y),ne.prefinished=!0,X.emit("prefinish"),re(X,ne)})}function ee(X,ne){!ne.prefinished&&!ne.finalCalled&&(typeof X._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,g.nextTick(Q,X,ne)):(ne.prefinished=!0,X.emit("prefinish")))}function re(X,ne){var Y=j(ne);if(Y&&(ee(X,ne),ne.pendingcb===0&&(ne.finished=!0,X.emit("finish"),ne.autoDestroy))){var oe=X._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&X.destroy()}return Y}function ue(X,ne,Y){ne.ending=!0,re(X,ne),Y&&(ne.finished?g.nextTick(Y):X.once("finish",Y)),ne.ended=!0,X.writable=!1}function J(X,ne,Y){var oe=X.entry;for(X.entry=null;oe;){var le=oe.callback;ne.pendingcb--,le(Y),oe=oe.next}ne.corkedRequestsFree.next=X}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),M.prototype.destroy=a.destroy,M.prototype._undestroy=a.undestroy,M.prototype._destroy=function(X,ne){ne(X)}},60328:function(G,H,e){var g=e(4168),R;function i(o,p,x){return p in o?Object.defineProperty(o,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[p]=x,o}var C=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),d=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),n=Symbol("stream");function f(o,p){return{value:o,done:p}}function u(o){var p=o[S];if(p!==null){var x=o[n].read();x!==null&&(o[t]=null,o[S]=null,o[v]=null,p(f(x,!1)))}}function l(o){g.nextTick(u,o)}function y(o,p){return function(x,b){o.then(function(){if(p[r]){x(f(void 0,!0));return}p[a](x,b)},b)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((R={get stream(){return this[n]},next:function(){var p=this,x=this[d];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(L,M){g.nextTick(function(){p[d]?M(p[d]):L(f(void 0,!0))})});var b=this[t],P;if(b)P=new Promise(y(b,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(f(m,!1));P=new Promise(this[a])}return this[t]=P,P}},i(R,Symbol.asyncIterator,function(){return this}),i(R,"return",function(){var p=this;return new Promise(function(x,b){p[n].destroy(null,function(P){if(P){b(P);return}x(f(void 0,!0))})})}),R),h),c=function(p){var x,b=Object.create(T,(x={},i(x,n,{value:p,writable:!0}),i(x,S,{value:null,writable:!0}),i(x,v,{value:null,writable:!0}),i(x,d,{value:null,writable:!0}),i(x,r,{value:p._readableState.endEmitted,writable:!0}),i(x,a,{value:function(m,L){var M=b[n].read();M?(b[t]=null,b[S]=null,b[v]=null,m(f(M,!1))):(b[S]=m,b[v]=L)},writable:!0}),x));return b[t]=null,C(p,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=b[v];m!==null&&(b[t]=null,b[S]=null,b[v]=null,m(P)),b[d]=P;return}var L=b[S];L!==null&&(b[t]=null,b[S]=null,b[v]=null,L(f(void 0,!0))),b[r]=!0}),p.on("readable",l.bind(null,b)),b};G.exports=c},47264:function(G,H,e){function g(u,l){var y=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),y.push.apply(y,h)}return y}function R(u){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?g(Object(y),!0).forEach(function(h){i(u,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(y,h))})}return u}function i(u,l,y){return l in u?Object.defineProperty(u,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):u[l]=y,u}function C(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function S(u,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,y){return l&&S(u.prototype,l),u}var d=e(33576),r=d.Buffer,t=e(21576),a=t.inspect,n=a&&a.custom||"inspect";function f(u,l,y){r.prototype.copy.call(u,l,y)}G.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(y){var h={data:y,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(y){var h={data:y,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=y+h.data;return T}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(y>>>0),T=this.head,c=0;T;)f(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(y,h){var T;return y<this.head.data.length?(T=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?T=this.shift():T=h?this._getString(y):this._getBuffer(y),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var h=this.head,T=1,c=h.data;for(y-=c.length;h=h.next;){var o=h.data,p=y>o.length?o.length:y;if(p===o.length?c+=o:c+=o.slice(0,y),y-=p,y===0){p===o.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(p));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(y){var h=r.allocUnsafe(y),T=this.head,c=1;for(T.data.copy(h),y-=T.data.length;T=T.next;){var o=T.data,p=y>o.length?o.length:y;if(o.copy(h,h.length-y,0,p),y-=p,y===0){p===o.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=o.slice(p));break}++c}return this.length-=c,h}},{key:n,value:function(y,h){return a(this,R({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(G,H,e){var g=e(4168);function R(r,t){var a=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?a._writableState?a._writableState.errorEmitted?g.nextTick(C,a):(a._writableState.errorEmitted=!0,g.nextTick(i,a,u)):g.nextTick(i,a,u):t?(g.nextTick(C,a),t(u)):g.nextTick(C,a)}),this)}function i(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function d(r,t){var a=r._readableState,n=r._writableState;a&&a.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:R,undestroy:S,errorOrDestroy:d}},15932:function(G,H,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function R(v){var d=!1;return function(){if(!d){d=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];v.apply(this,t)}}}function i(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function S(v,d,r){if(typeof d=="function")return S(v,null,d);d||(d={}),r=R(r||i);var t=d.readable||d.readable!==!1&&v.readable,a=d.writable||d.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){a=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,l=!0,a||r.call(v)},h=function(p){r.call(v,p)},T=function(){var p;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(p=new g),r.call(v,p);if(a&&!f)return(!v._writableState||!v._writableState.ended)&&(p=new g),r.call(v,p)},c=function(){v.req.on("finish",u)};return C(v)?(v.on("complete",u),v.on("abort",T),v.req?c():v.on("request",c)):a&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",u),d.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",y),v.removeListener("error",h),v.removeListener("close",T)}}G.exports=S},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,H,e){var g;function R(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var i=e(92784).i,C=i.ERR_MISSING_ARGS,S=i.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function d(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,y,h){h=R(h);var T=!1;u.on("close",function(){T=!0}),g===void 0&&(g=e(15932)),g(u,{readable:l,writable:y},function(o){if(o)return h(o);T=!0,h()});var c=!1;return function(o){if(!T&&!c){if(c=!0,d(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(o||new S("pipe"))}}}function t(u){u()}function a(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),y=0;y<u;y++)l[y]=arguments[y];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var T,c=l.map(function(o,p){var x=p<l.length-1,b=p>0;return r(o,x,b,function(P){T||(T=P),P&&c.forEach(t),!x&&(c.forEach(t),h(T))})});return l.reduce(a)}G.exports=f},24888:function(G,H,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function R(C,S,v){return C.highWaterMark!=null?C.highWaterMark:S?C[v]:null}function i(C,S,v,d){var r=R(S,d,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=d?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return C.objectMode?16:16384}G.exports={getHighWaterMark:i}},4776:function(G,H,e){G.exports=e(61252).EventEmitter},86032:function(G,H,e){var g=e(30456).Buffer,R=g.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function C(c){var o=i(c);if(typeof o!="string"&&(g.isEncoding===R||!R(c)))throw new Error("Unknown encoding: "+c);return o||c}H.o=S;function S(c){this.encoding=C(c);var o;switch(this.encoding){case"utf16le":this.text=f,this.end=u,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=y,o=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}S.prototype.write=function(c){if(c.length===0)return"";var o,p;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<c.length?o?o+this.text(c,p):this.text(c,p):o||""},S.prototype.end=n,S.prototype.text=a,S.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function d(c,o,p){var x=o.length-1;if(x<p)return 0;var b=v(o[x]);return b>=0?(b>0&&(c.lastNeed=b-1),b):--x<p||b===-2?0:(b=v(o[x]),b>=0?(b>0&&(c.lastNeed=b-2),b):--x<p||b===-2?0:(b=v(o[x]),b>=0?(b>0&&(b===2?b=0:c.lastNeed=b-3),b):0))}function r(c,o,p){if((o[0]&192)!==128)return c.lastNeed=0,"";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,""}}function t(c){var o=this.lastTotal-this.lastNeed,p=r(this,c);if(p!==void 0)return p;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function a(c,o){var p=d(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=p;var x=c.length-(p-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",o,x)}function n(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"":o}function f(c,o){if((c.length-o)%2===0){var p=c.toString("utf16le",o);if(p){var x=p.charCodeAt(p.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function u(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,p)}return o}function l(c,o){var p=(c.length-o)%3;return p===0?c.toString("base64",o):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-p))}function y(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(G,H,e){var g=e(45408),R=e(86844)("stream-parser");G.exports=d;var i=-1,C=0,S=1,v=2;function d(c){var o=c&&typeof c._transform=="function",p=c&&typeof c._write=="function";if(!o&&!p)throw new Error("must pass a Writable or Transform stream in");R("extending Parser into stream"),c._bytes=t,c._skipBytes=a,o&&(c._passthrough=n),o?c._transform=u:c._write=f}function r(c){R("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=i,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),R("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=C}function a(c,o){g(!this._parserCallback,'there is already a "callback" set!'),g(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),R("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=S}function n(c,o){g(!this._parserCallback,'There is already a "callback" set!'),g(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),R("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function f(c,o,p){this._parserInit||r(this),R("write(%o bytes)",c.length),typeof o=="function"&&(p=o),h(this,c,null,p)}function u(c,o,p){this._parserInit||r(this),R("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,p)}function l(c,o,p,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return y(c,o,p,x)}:function(){var b=o.slice(0,c._parserBytesLeft);return y(c,b,p,function(P){if(P)return x(P);if(o.length>b.length)return function(){return l(c,o.slice(b.length),p,x)}})}}function y(c,o,p,x){if(c._parserBytesLeft-=o.length,R("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===C?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&p(o),c._parserBytesLeft===0){var b=c._parserCallback;if(b&&c._parserState===C&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==C&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=i,c._parserBuffers.splice(0),b){var P=[];o&&P.push(o),p&&P.push(p);var m=b.length>P.length;m&&P.push(T(x));var L=b.apply(c,P);if(!m||x===L)return x}}else return x}var h=T(l);function T(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(G,H,e){var g=e(4168);H=G.exports=e(89416),H.log=C,H.formatArgs=i,H.save=S,H.load=v,H.useColors=R,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function R(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function i(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+H.humanize(this.diff),!!t){var a="color: "+this.color;r.splice(1,0,a,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,a)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?H.storage.removeItem("debug"):H.storage.debug=r}catch{}}function v(){var r;try{r=H.storage.debug}catch{}return!r&&typeof g<"u"&&"env"in g&&(r=g.env.DEBUG),r}H.enable(v());function d(){try{return window.localStorage}catch{}}},89416:function(G,H,e){H=G.exports=i.debug=i.default=i,H.coerce=d,H.disable=S,H.enable=C,H.enabled=v,H.humanize=e(93744),H.names=[],H.skips=[],H.formatters={};var g;function R(r){var t=0,a;for(a in r)t=(t<<5)-t+r.charCodeAt(a),t|=0;return H.colors[Math.abs(t)%H.colors.length]}function i(r){function t(){if(t.enabled){var a=t,n=+new Date,f=n-(g||n);a.diff=f,a.prev=g,a.curr=n,g=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=H.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var y=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;y++;var o=H.formatters[c];if(typeof o=="function"){var p=u[y];T=o.call(a,p),u.splice(y,1),y--}return T}),H.formatArgs.call(a,u);var h=t.log||H.log||console.log.bind(console);h.apply(a,u)}}return t.namespace=r,t.enabled=H.enabled(r),t.useColors=H.useColors(),t.color=R(r),typeof H.init=="function"&&H.init(t),t}function C(r){H.save(r),H.names=[],H.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),a=t.length,n=0;n<a;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?H.skips.push(new RegExp("^"+r.substr(1)+"$")):H.names.push(new RegExp("^"+r+"$")))}function S(){H.enable("")}function v(r){var t,a;for(t=0,a=H.skips.length;t<a;t++)if(H.skips[t].test(r))return!1;for(t=0,a=H.names.length;t<a;t++)if(H.names[t].test(r))return!0;return!1}function d(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var H=1e3,e=H*60,g=e*60,R=g*24,i=R*365.25;G.exports=function(r,t){t=t||{};var a=typeof r;if(a==="string"&&r.length>0)return C(r);if(a==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*R;case"hours":case"hour":case"hrs":case"hr":case"h":return a*g;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function S(r){return r>=R?Math.round(r/R)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=H?Math.round(r/H)+"s":r+"ms"}function v(r){return d(r,R,"day")||d(r,g,"hour")||d(r,e,"minute")||d(r,H,"second")||r+" ms"}function d(r,t,a){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+a:Math.ceil(r/t)+" "+a+"s"}},39956:function(G,H,e){var g=e(32868);G.exports=function(i,C,S){if(i==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=g.parse(i,{flat:!0,brackets:S.ignore}),d=v[0],r=d.split(C);if(S.escape){for(var t=[],a=0;a<r.length;a++){var n=r[a],f=r[a+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+C+f),a++):t.push(n)}r=t}for(var a=0;a<r.length;a++)v[0]=r[a],r[a]=g.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=H;function H(e){for(var g=e.length,R=new Array(g),i=new Array(g),C=new Array(g),S=new Array(g),v=new Array(g),d=new Array(g),r=0;r<g;++r)R[r]=-1,i[r]=0,C[r]=!1,S[r]=0,v[r]=-1,d[r]=[];var t=0,a=[],n=[];function f(h){var T=[h],c=[h];for(R[h]=i[h]=t,C[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(S[h]<o.length){for(var p=S[h];p<o.length;++p){var x=o[p];if(R[x]<0){R[x]=i[x]=t,C[x]=!0,t+=1,T.push(x),c.push(x);break}else C[x]&&(i[h]=Math.min(i[h],i[x])|0);v[x]>=0&&d[h].push(v[x])}S[h]=p}else{if(i[h]===R[h]){for(var b=[],P=[],m=0,p=T.length-1;p>=0;--p){var L=T[p];if(C[L]=!1,b.push(L),P.push(d[L]),m+=d[L].length,v[L]=a.length,L===h){T.length=p;break}}a.push(b);for(var M=new Array(m),p=0;p<P.length;p++)for(var s=0;s<P[p].length;s++)M[--m]=P[p][s];n.push(M)}c.pop()}}}for(var r=0;r<g;++r)R[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,c){return T-c}),u=[l[0]];for(var y=1;y<l.length;y++)l[y]!==l[y-1]&&u.push(l[y]);n[r]=u}}return{components:a,adjacencyList:n}}},92848:function(G,H,e){e.r(H);var g=function(){function r(t,a){var n=[],f=!0,u=!1,l=void 0;try{for(var y=t[Symbol.iterator](),h;!(f=(h=y.next()).done)&&(n.push(h.value),!(a&&n.length===a));f=!0);}catch(T){u=!0,l=T}finally{try{!f&&y.return&&y.return()}finally{if(u)throw l}}return n}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=Math.PI*2,i=function(t,a,n,f,u,l,y){var h=t.x,T=t.y;h*=a,T*=n;var c=f*h-u*T,o=u*h+f*T;return{x:c+l,y:o+y}},C=function(t,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+a),y=Math.sin(t+a);return[{x:f-u*n,y:u+f*n},{x:l+y*n,y:y-l*n},{x:l,y}]},S=function(t,a,n,f){var u=t*f-a*n<0?-1:1,l=t*n+a*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,a,n,f,u,l,y,h,T,c,o,p){var x=Math.pow(u,2),b=Math.pow(l,2),P=Math.pow(o,2),m=Math.pow(p,2),L=x*b-x*m-b*P;L<0&&(L=0),L/=x*m+b*P,L=Math.sqrt(L)*(y===h?-1:1);var M=L*u/l*p,s=L*-l/u*o,E=c*M-T*s+(t+n)/2,w=T*M+c*s+(a+f)/2,_=(o-M)/u,D=(p-s)/l,N=(-o-M)/u,z=(-p-s)/l,F=S(1,0,_,D),U=S(_,D,N,z);return h===0&&U>0&&(U-=R),h===1&&U<0&&(U+=R),[E,w,F,U]},d=function(t){var a=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,y=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,p=t.sweepFlag,x=p===void 0?0:p,b=[];if(l===0||y===0)return[];var P=Math.sin(T*R/360),m=Math.cos(T*R/360),L=m*(a-f)/2+P*(n-u)/2,M=-P*(a-f)/2+m*(n-u)/2;if(L===0&&M===0)return[];l=Math.abs(l),y=Math.abs(y);var s=Math.pow(L,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(y,2);s>1&&(l*=Math.sqrt(s),y*=Math.sqrt(s));var E=v(a,n,f,u,l,y,o,x,P,m,L,M),w=g(E,4),_=w[0],D=w[1],N=w[2],z=w[3],F=Math.abs(z)/(R/4);Math.abs(1-F)<1e-7&&(F=1);var U=Math.max(Math.ceil(F),1);z/=U;for(var B=0;B<U;B++)b.push(C(N,z)),N+=z;return b.map(function(V){var j=i(V[0],l,y,m,P,_,D),Q=j.x,ee=j.y,re=i(V[1],l,y,m,P,_,D),ue=re.x,J=re.y,X=i(V[2],l,y,m,P,_,D),ne=X.x,Y=X.y;return{x1:Q,y1:ee,x2:ue,y2:J,x:ne,y:Y}})};H.default=d},74840:function(G,H,e){var g=e(21984),R=e(49972),i=e(41976),C=e(53520),S=e(45408);G.exports=v;function v(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(S(C(d),"String is not an SVG path."),d=g(d)),S(Array.isArray(d),"Argument should be a string or an array of path segments."),d=R(d),d=i(d),!d.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=d.length;t<a;t++)for(var n=d[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(G,H,e){G.exports=R;var g=e(92848);function R(S){for(var v,d=[],r=0,t=0,a=0,n=0,f=null,u=null,l=0,y=0,h=0,T=S.length;h<T;h++){var c=S[h],o=c[0];switch(o){case"M":a=c[1],n=c[2];break;case"A":var p=g({px:l,py:y,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!p.length)continue;for(var x=0,b;x<p.length;x++)b=p[x],c=["C",b.x1,b.y1,b.x2,b.y2,b.x,b.y],x<p.length-1&&d.push(c);break;case"S":var P=l,m=y;(v=="C"||v=="S")&&(P+=P-r,m+=m-t),c=["C",P,m,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=y*2-u):(f=l,u=y),c=C(l,y,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=C(l,y,c[1],c[2],c[3],c[4]);break;case"L":c=i(l,y,c[1],c[2]);break;case"H":c=i(l,y,c[1],y);break;case"V":c=i(l,y,l,c[1]);break;case"Z":c=i(l,y,a,n);break}v=o,l=c[c.length-2],y=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=y),d.push(c)}return d}function i(S,v,d,r){return["C",S,v,d,r,d,r]}function C(S,v,d,r,t,a){return["C",S/3+.6666666666666666*d,v/3+.6666666666666666*r,t/3+.6666666666666666*d,a/3+.6666666666666666*r,t,a]}},20472:function(G,H,e){var g=e(74840),R=e(21984),i=e(22235),C=e(53520),S=e(29620),v=document.createElement("canvas"),d=v.getContext("2d");G.exports=r;function r(n,f){if(!C(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var y=Math.min(u,l),h=f.stroke||0,T=f.viewbox||f.viewBox||g(n),c=[u/(T[2]-T[0]),l/(T[3]-T[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,u,l),d.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?d.strokeStyle="white":d.strokeStyle="black",d.lineWidth=Math.abs(h)),d.translate(u*.5,l*.5),d.scale(o,o),a()){var p=new Path2D(n);d.fill(p),h&&d.stroke(p)}else{var x=R(n);i(d,x),d.fill(),h&&d.stroke()}d.setTransform(1,0,0,1,0,0);var b=S(d,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:y*.5});return b}var t;function a(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(G,H,e){var g;(function(R){var i=/^\s+/,C=/\s+$/,S=0,v=R.round,d=R.min,r=R.max,t=R.random;function a($,se){if($=$||"",se=se||{},$ instanceof a)return $;if(!(this instanceof a))return new a($,se);var ae=n($);this._originalInput=$,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=se.format||ae.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=S++}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return($.r*299+$.g*587+$.b*114)/1e3},getLuminance:function(){var $=this.toRgb(),se,ae,he,me,Me,Te;return se=$.r/255,ae=$.g/255,he=$.b/255,se<=.03928?me=se/12.92:me=R.pow((se+.055)/1.055,2.4),ae<=.03928?Me=ae/12.92:Me=R.pow((ae+.055)/1.055,2.4),he<=.03928?Te=he/12.92:Te=R.pow((he+.055)/1.055,2.4),.2126*me+.7152*Me+.0722*Te},setAlpha:function($){return this._a=B($),this._roundA=v(100*this._a)/100,this},toHsv:function(){var $=y(this._r,this._g,this._b);return{h:$.h*360,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=y(this._r,this._g,this._b),se=v($.h*360),ae=v($.s*100),he=v($.v*100);return this._a==1?"hsv("+se+", "+ae+"%, "+he+"%)":"hsva("+se+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var $=u(this._r,this._g,this._b);return{h:$.h*360,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=u(this._r,this._g,this._b),se=v($.h*360),ae=v($.s*100),he=v($.l*100);return this._a==1?"hsl("+se+", "+ae+"%, "+he+"%)":"hsla("+se+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHex:function($){return T(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return c(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[T(this._r,this._g,this._b,!0)]||!1},toFilter:function($){var se="#"+o(this._r,this._g,this._b,this._a),ae=se,he=this._gradientType?"GradientType = 1, ":"";if($){var me=a($);ae="#"+o(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+se+",endColorstr="+ae+")"},toString:function($){var se=!!$;$=$||this._format;var ae=!1,he=this._a<1&&this._a>=0,me=!se&&he&&($==="hex"||$==="hex6"||$==="hex3"||$==="hex4"||$==="hex8"||$==="name");return me?$==="name"&&this._a===0?this.toName():this.toRgbString():($==="rgb"&&(ae=this.toRgbString()),$==="prgb"&&(ae=this.toPercentageRgbString()),($==="hex"||$==="hex6")&&(ae=this.toHexString()),$==="hex3"&&(ae=this.toHexString(!0)),$==="hex4"&&(ae=this.toHex8String(!0)),$==="hex8"&&(ae=this.toHex8String()),$==="name"&&(ae=this.toName()),$==="hsl"&&(ae=this.toHslString()),$==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function($,se){var ae=$.apply(null,[this].concat([].slice.call(se)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function($,se){return $.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},a.fromRatio=function($,se){if(typeof $=="object"){var ae={};for(var he in $)$.hasOwnProperty(he)&&(he==="a"?ae[he]=$[he]:ae[he]=J($[he]));$=ae}return a($,se)};function n($){var se={r:0,g:0,b:0},ae=1,he=null,me=null,Me=null,Te=!1,Pe=!1;return typeof $=="string"&&($=le($)),typeof $=="object"&&(oe($.r)&&oe($.g)&&oe($.b)?(se=f($.r,$.g,$.b),Te=!0,Pe=String($.r).substr(-1)==="%"?"prgb":"rgb"):oe($.h)&&oe($.s)&&oe($.v)?(he=J($.s),me=J($.v),se=h($.h,he,me),Te=!0,Pe="hsv"):oe($.h)&&oe($.s)&&oe($.l)&&(he=J($.s),Me=J($.l),se=l($.h,he,Me),Te=!0,Pe="hsl"),$.hasOwnProperty("a")&&(ae=$.a)),ae=B(ae),{ok:Te,format:$.format||Pe,r:d(255,r(se.r,0)),g:d(255,r(se.g,0)),b:d(255,r(se.b,0)),a:ae}}function f($,se,ae){return{r:V($,255)*255,g:V(se,255)*255,b:V(ae,255)*255}}function u($,se,ae){$=V($,255),se=V(se,255),ae=V(ae,255);var he=r($,se,ae),me=d($,se,ae),Me,Te,Pe=(he+me)/2;if(he==me)Me=Te=0;else{var be=he-me;switch(Te=Pe>.5?be/(2-he-me):be/(he+me),he){case $:Me=(se-ae)/be+(se<ae?6:0);break;case se:Me=(ae-$)/be+2;break;case ae:Me=($-se)/be+4;break}Me/=6}return{h:Me,s:Te,l:Pe}}function l($,se,ae){var he,me,Me;$=V($,360),se=V(se,100),ae=V(ae,100);function Te(Ee,xe,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<.16666666666666666?Ee+(xe-Ee)*6*Ce:Ce<.5?xe:Ce<.6666666666666666?Ee+(xe-Ee)*(.6666666666666666-Ce)*6:Ee}if(se===0)he=me=Me=ae;else{var Pe=ae<.5?ae*(1+se):ae+se-ae*se,be=2*ae-Pe;he=Te(be,Pe,$+.3333333333333333),me=Te(be,Pe,$),Me=Te(be,Pe,$-.3333333333333333)}return{r:he*255,g:me*255,b:Me*255}}function y($,se,ae){$=V($,255),se=V(se,255),ae=V(ae,255);var he=r($,se,ae),me=d($,se,ae),Me,Te,Pe=he,be=he-me;if(Te=he===0?0:be/he,he==me)Me=0;else{switch(he){case $:Me=(se-ae)/be+(se<ae?6:0);break;case se:Me=(ae-$)/be+2;break;case ae:Me=($-se)/be+4;break}Me/=6}return{h:Me,s:Te,v:Pe}}function h($,se,ae){$=V($,360)*6,se=V(se,100),ae=V(ae,100);var he=R.floor($),me=$-he,Me=ae*(1-se),Te=ae*(1-me*se),Pe=ae*(1-(1-me)*se),be=he%6,Ee=[ae,Te,Me,Me,Pe,ae][be],xe=[Pe,ae,ae,Te,Me,Me][be],Ce=[Me,Me,Pe,ae,ae,Te][be];return{r:Ee*255,g:xe*255,b:Ce*255}}function T($,se,ae,he){var me=[ue(v($).toString(16)),ue(v(se).toString(16)),ue(v(ae).toString(16))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function c($,se,ae,he,me){var Me=[ue(v($).toString(16)),ue(v(se).toString(16)),ue(v(ae).toString(16)),ue(X(he))];return me&&Me[0].charAt(0)==Me[0].charAt(1)&&Me[1].charAt(0)==Me[1].charAt(1)&&Me[2].charAt(0)==Me[2].charAt(1)&&Me[3].charAt(0)==Me[3].charAt(1)?Me[0].charAt(0)+Me[1].charAt(0)+Me[2].charAt(0)+Me[3].charAt(0):Me.join("")}function o($,se,ae,he){var me=[ue(X(he)),ue(v($).toString(16)),ue(v(se).toString(16)),ue(v(ae).toString(16))];return me.join("")}a.equals=function($,se){return!$||!se?!1:a($).toRgbString()==a(se).toRgbString()},a.random=function(){return a.fromRatio({r:t(),g:t(),b:t()})};function p($,se){se=se===0?0:se||10;var ae=a($).toHsl();return ae.s-=se/100,ae.s=j(ae.s),a(ae)}function x($,se){se=se===0?0:se||10;var ae=a($).toHsl();return ae.s+=se/100,ae.s=j(ae.s),a(ae)}function b($){return a($).desaturate(100)}function P($,se){se=se===0?0:se||10;var ae=a($).toHsl();return ae.l+=se/100,ae.l=j(ae.l),a(ae)}function m($,se){se=se===0?0:se||10;var ae=a($).toRgb();return ae.r=r(0,d(255,ae.r-v(255*-(se/100)))),ae.g=r(0,d(255,ae.g-v(255*-(se/100)))),ae.b=r(0,d(255,ae.b-v(255*-(se/100)))),a(ae)}function L($,se){se=se===0?0:se||10;var ae=a($).toHsl();return ae.l-=se/100,ae.l=j(ae.l),a(ae)}function M($,se){var ae=a($).toHsl(),he=(ae.h+se)%360;return ae.h=he<0?360+he:he,a(ae)}function s($){var se=a($).toHsl();return se.h=(se.h+180)%360,a(se)}function E($){var se=a($).toHsl(),ae=se.h;return[a($),a({h:(ae+120)%360,s:se.s,l:se.l}),a({h:(ae+240)%360,s:se.s,l:se.l})]}function w($){var se=a($).toHsl(),ae=se.h;return[a($),a({h:(ae+90)%360,s:se.s,l:se.l}),a({h:(ae+180)%360,s:se.s,l:se.l}),a({h:(ae+270)%360,s:se.s,l:se.l})]}function _($){var se=a($).toHsl(),ae=se.h;return[a($),a({h:(ae+72)%360,s:se.s,l:se.l}),a({h:(ae+216)%360,s:se.s,l:se.l})]}function D($,se,ae){se=se||6,ae=ae||30;var he=a($).toHsl(),me=360/ae,Me=[a($)];for(he.h=(he.h-(me*se>>1)+720)%360;--se;)he.h=(he.h+me)%360,Me.push(a(he));return Me}function N($,se){se=se||6;for(var ae=a($).toHsv(),he=ae.h,me=ae.s,Me=ae.v,Te=[],Pe=1/se;se--;)Te.push(a({h:he,s:me,v:Me})),Me=(Me+Pe)%1;return Te}a.mix=function($,se,ae){ae=ae===0?0:ae||50;var he=a($).toRgb(),me=a(se).toRgb(),Me=ae/100,Te={r:(me.r-he.r)*Me+he.r,g:(me.g-he.g)*Me+he.g,b:(me.b-he.b)*Me+he.b,a:(me.a-he.a)*Me+he.a};return a(Te)},a.readability=function($,se){var ae=a($),he=a(se);return(R.max(ae.getLuminance(),he.getLuminance())+.05)/(R.min(ae.getLuminance(),he.getLuminance())+.05)},a.isReadable=function($,se,ae){var he=a.readability($,se),me,Me;switch(Me=!1,me=Z(ae),me.level+me.size){case"AAsmall":case"AAAlarge":Me=he>=4.5;break;case"AAlarge":Me=he>=3;break;case"AAAsmall":Me=he>=7;break}return Me},a.mostReadable=function($,se,ae){var he=null,me=0,Me,Te,Pe,be;ae=ae||{},Te=ae.includeFallbackColors,Pe=ae.level,be=ae.size;for(var Ee=0;Ee<se.length;Ee++)Me=a.readability($,se[Ee]),Me>me&&(me=Me,he=a(se[Ee]));return a.isReadable($,he,{level:Pe,size:be})||!Te?he:(ae.includeFallbackColors=!1,a.mostReadable($,["#fff","#000"],ae))};var z=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=a.hexNames=U(z);function U($){var se={};for(var ae in $)$.hasOwnProperty(ae)&&(se[$[ae]]=ae);return se}function B($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function V($,se){ee($)&&($="100%");var ae=re($);return $=d(se,r(0,parseFloat($))),ae&&($=parseInt($*se,10)/100),R.abs($-se)<1e-6?1:$%se/parseFloat(se)}function j($){return d(1,r(0,$))}function Q($){return parseInt($,16)}function ee($){return typeof $=="string"&&$.indexOf(".")!=-1&&parseFloat($)===1}function re($){return typeof $=="string"&&$.indexOf("%")!=-1}function ue($){return $.length==1?"0"+$:""+$}function J($){return $<=1&&($=$*100+"%"),$}function X($){return R.round(parseFloat($)*255).toString(16)}function ne($){return Q($)/255}var Y=function(){var $="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+se+")|(?:"+$+")",he="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",me="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oe($){return!!Y.CSS_UNIT.exec($)}function le($){$=$.replace(i,"").replace(C,"").toLowerCase();var se=!1;if(z[$])$=z[$],se=!0;else if($=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=Y.rgb.exec($))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=Y.rgba.exec($))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=Y.hsl.exec($))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=Y.hsla.exec($))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=Y.hsv.exec($))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=Y.hsva.exec($))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=Y.hex8.exec($))?{r:Q(ae[1]),g:Q(ae[2]),b:Q(ae[3]),a:ne(ae[4]),format:se?"name":"hex8"}:(ae=Y.hex6.exec($))?{r:Q(ae[1]),g:Q(ae[2]),b:Q(ae[3]),format:se?"name":"hex"}:(ae=Y.hex4.exec($))?{r:Q(ae[1]+""+ae[1]),g:Q(ae[2]+""+ae[2]),b:Q(ae[3]+""+ae[3]),a:ne(ae[4]+""+ae[4]),format:se?"name":"hex8"}:(ae=Y.hex3.exec($))?{r:Q(ae[1]+""+ae[1]),g:Q(ae[2]+""+ae[2]),b:Q(ae[3]+""+ae[3]),format:se?"name":"hex"}:!1}function Z($){var se,ae;return $=$||{level:"AA",size:"small"},se=($.level||"AA").toUpperCase(),ae=($.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:se,size:ae}}G.exports?G.exports=a:(g=(function(){return a}).call(H,e,H,G),g!==void 0&&(G.exports=g))})(Math)},37816:function(G){G.exports=g,G.exports.float32=G.exports.float=g,G.exports.fract32=G.exports.fract=e;var H=new Float32Array(1);function e(R,i){if(R.length){if(R instanceof Float32Array)return new Float32Array(R.length);i instanceof Float32Array||(i=g(R));for(var C=0,S=i.length;C<S;C++)i[C]=R[C]-i[C];return i}return g(R-g(R))}function g(R){return R.length?R instanceof Float32Array?R:new Float32Array(R):(H[0]=R,H[0])}},23464:function(G,H,e){var g=e(65819);G.exports=S;var R=96;function i(v,d){var r=g(getComputedStyle(v).getPropertyValue(d));return r[0]*S(r[1],v)}function C(v,d){var r=document.createElement("div");r.style["font-size"]="128"+v,d.appendChild(r);var t=i(r,"font-size")/128;return d.removeChild(r),t}function S(v,d){switch(d=d||document.body,v=(v||"px").trim().toLowerCase(),(d===window||d===document)&&(d=document.body),v){case"%":return d.clientHeight/100;case"ch":case"ex":return C(v,d);case"em":return i(d,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return R;case"cm":return R/2.54;case"mm":return R/25.4;case"pt":return R/72;case"pc":return R/6}return 1}},55712:function(G,H,e){e.d(H,{NO:function(){return C}});function g(d,r){for(var t,a=d.length,n=a-r;n<--a;)t=d[n],d[n++]=d[a],d[a]=t}function R(d){return d}function i(d){if(d==null)return R;var r,t,a=d.scale[0],n=d.scale[1],f=d.translate[0],u=d.translate[1];return function(l,y){y||(r=t=0);var h=2,T=l.length,c=new Array(T);for(c[0]=(r+=l[0])*a+f,c[1]=(t+=l[1])*n+u;h<T;)c[h]=l[h],++h;return c}}function C(d,r){return typeof r=="string"&&(r=d.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(d,t)})}:S(d,r)}function S(d,r){var t=r.id,a=r.bbox,n=r.properties==null?{}:r.properties,f=v(d,r);return t==null&&a==null?{type:"Feature",properties:n,geometry:f}:a==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:a,properties:n,geometry:f}}function v(d,r){var t=i(d.transform),a=d.arcs;function n(T,c){c.length&&c.pop();for(var o=a[T<0?~T:T],p=0,x=o.length;p<x;++p)c.push(t(o[p],p));T<0&&g(c,x)}function f(T){return t(T)}function u(T){for(var c=[],o=0,p=T.length;o<p;++o)n(T[o],c);return c.length<2&&c.push(c[0]),c}function l(T){for(var c=u(T);c.length<4;)c.push(c[0]);return c}function y(T){return T.map(l)}function h(T){var c=T.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":o=f(T.coordinates);break;case"MultiPoint":o=T.coordinates.map(f);break;case"LineString":o=u(T.arcs);break;case"MultiLineString":o=T.arcs.map(u);break;case"Polygon":o=y(T.arcs);break;case"MultiPolygon":o=T.arcs.map(y);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(G,H,e){var g=e(54612);G.exports=function(R){if(typeof R!="function"||!hasOwnProperty.call(R,"length"))return!1;try{if(typeof R.length!="number"||typeof R.call!="function"||typeof R.apply!="function")return!1}catch{return!1}return!g(R)}},57980:function(G,H,e){var g=e(81680),R=e(7328),i=e(33940),C=e(18856),S=function(v,d){return v.replace("%v",C(d))};G.exports=function(v,d,r){if(!R(r))throw new TypeError(S(d,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=i(r.errorMessage);throw g(t)||(t=d),new TypeError(S(t,v))}},32336:function(G){G.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},18856:function(G,H,e){var g=e(32336),R=/[\n\r\u2028\u2029]/g;G.exports=function(i){var C=g(i);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(R,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(G,H,e){var g=e(81680),R={object:!0,function:!0,undefined:!0};G.exports=function(i){return g(i)?hasOwnProperty.call(R,typeof i):!1}},87396:function(G,H,e){var g=e(57980),R=e(85488);G.exports=function(i){return R(i)?i:g(i,"%v is not a plain function",arguments[1])}},85488:function(G,H,e){var g=e(73384),R=/^\s*class[\s{/}]/,i=Function.prototype.toString;G.exports=function(C){return!(!g(C)||R.test(i.call(C)))}},54612:function(G,H,e){var g=e(7328);G.exports=function(R){if(!g(R))return!1;try{return R.constructor?R.constructor.prototype===R:!1}catch{return!1}}},33940:function(G,H,e){var g=e(81680),R=e(7328),i=Object.prototype.toString;G.exports=function(C){if(!g(C))return null;if(R(C)){var S=C.toString;if(typeof S!="function"||S===i)return null}try{return""+C}catch{return null}}},18496:function(G,H,e){var g=e(57980),R=e(81680);G.exports=function(i){return R(i)?i:g(i,"Cannot use %v",arguments[1])}},81680:function(G){var H=void 0;G.exports=function(e){return e!==H&&e!==null}},14144:function(G,H,e){var g=e(308),R=e(10352),i=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:R([32,0]),UINT16:R([32,0]),UINT32:R([32,0]),BIGUINT64:R([32,0]),INT8:R([32,0]),INT16:R([32,0]),INT32:R([32,0]),BIGINT64:R([32,0]),FLOAT:R([32,0]),DOUBLE:R([32,0]),DATA:R([32,0]),UINT8C:R([32,0]),BUFFER:R([32,0])});var C=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",d=e.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=R([32,0])),d.BIGUINT64||(d.BIGUINT64=R([32,0])),d.BIGINT64||(d.BIGINT64=R([32,0])),d.BUFFER||(d.BUFFER=R([32,0]));var r=d.DATA,t=d.BUFFER;H.free=function(s){if(i.isBuffer(s))t[g.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var E=s.length||s.byteLength,w=g.log2(E)|0;r[w].push(s)}};function a(M){if(M){var s=M.length||M.byteLength,E=g.log2(s);r[E].push(M)}}function n(M){a(M.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=a,H.freeBuffer=function(s){t[g.log2(s.length)].push(s)},H.malloc=function(s,E){if(E===void 0||E==="arraybuffer")return f(s);switch(E){case"uint8":return u(s);case"uint16":return l(s);case"uint32":return y(s);case"int8":return h(s);case"int16":return T(s);case"int32":return c(s);case"float":case"float32":return o(s);case"double":case"float64":return p(s);case"uint8_clamped":return x(s);case"bigint64":return P(s);case"biguint64":return b(s);case"buffer":return L(s);case"data":case"dataview":return m(s);default:return null}return null};function f(s){var s=g.nextPow2(s),E=g.log2(s),w=r[E];return w.length>0?w.pop():new ArrayBuffer(s)}H.mallocArrayBuffer=f;function u(M){return new Uint8Array(f(M),0,M)}H.mallocUint8=u;function l(M){return new Uint16Array(f(2*M),0,M)}H.mallocUint16=l;function y(M){return new Uint32Array(f(4*M),0,M)}H.mallocUint32=y;function h(M){return new Int8Array(f(M),0,M)}H.mallocInt8=h;function T(M){return new Int16Array(f(2*M),0,M)}H.mallocInt16=T;function c(M){return new Int32Array(f(4*M),0,M)}H.mallocInt32=c;function o(M){return new Float32Array(f(4*M),0,M)}H.mallocFloat32=H.mallocFloat=o;function p(M){return new Float64Array(f(8*M),0,M)}H.mallocFloat64=H.mallocDouble=p;function x(M){return C?new Uint8ClampedArray(f(M),0,M):u(M)}H.mallocUint8Clamped=x;function b(M){return S?new BigUint64Array(f(8*M),0,M):null}H.mallocBigUint64=b;function P(M){return v?new BigInt64Array(f(8*M),0,M):null}H.mallocBigInt64=P;function m(M){return new DataView(f(M),0,M)}H.mallocDataView=m;function L(M){M=g.nextPow2(M);var s=g.log2(M),E=t[s];return E.length>0?E.pop():new i(M)}H.mallocBuffer=L,H.clearCache=function(){for(var s=0;s<32;++s)d.UINT8[s].length=0,d.UINT16[s].length=0,d.UINT32[s].length=0,d.INT8[s].length=0,d.INT16[s].length=0,d.INT32[s].length=0,d.FLOAT[s].length=0,d.DOUBLE[s].length=0,d.BIGUINT64[s].length=0,d.BIGINT64[s].length=0,d.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(G){var H=/[\'\"]/;G.exports=function(g){return g?(H.test(g.charAt(0))&&(g=g.substr(1)),H.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(G){G.exports=function(e,g,R){Array.isArray(R)||(R=[].slice.call(arguments,2));for(var i=0,C=R.length;i<C;i++){var S=R[i];for(var v in S)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var d;if(S[v]===!0)d=g[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(d=S[v](g[v],e,g),d===void 0))continue}e[v]=d}}return e}},96656:function(G,H,e){G.exports=g;function g(i,C){if(R("noDeprecation"))return i;var S=!1;function v(){if(!S){if(R("throwDeprecation"))throw new Error(C);R("traceDeprecation")?console.trace(C):console.warn(C),S=!0}return i.apply(this,arguments)}return v}function R(i){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[i];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,H,e){var g=e(91148),R=e(84420),i=e(96632),C=e(7728);function S(Me){return Me.call.bind(Me)}var v=typeof BigInt<"u",d=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),a=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(d)var u=S(Symbol.prototype.valueOf);function l(Me,Te){if(typeof Me!="object")return!1;try{return Te(Me),!0}catch{return!1}}H.isArgumentsObject=g,H.isGeneratorFunction=R,H.isTypedArray=C;function y(Me){return typeof Promise<"u"&&Me instanceof Promise||Me!==null&&typeof Me=="object"&&typeof Me.then=="function"&&typeof Me.catch=="function"}H.isPromise=y;function h(Me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Me):C(Me)||Q(Me)}H.isArrayBufferView=h;function T(Me){return i(Me)==="Uint8Array"}H.isUint8Array=T;function c(Me){return i(Me)==="Uint8ClampedArray"}H.isUint8ClampedArray=c;function o(Me){return i(Me)==="Uint16Array"}H.isUint16Array=o;function p(Me){return i(Me)==="Uint32Array"}H.isUint32Array=p;function x(Me){return i(Me)==="Int8Array"}H.isInt8Array=x;function b(Me){return i(Me)==="Int16Array"}H.isInt16Array=b;function P(Me){return i(Me)==="Int32Array"}H.isInt32Array=P;function m(Me){return i(Me)==="Float32Array"}H.isFloat32Array=m;function L(Me){return i(Me)==="Float64Array"}H.isFloat64Array=L;function M(Me){return i(Me)==="BigInt64Array"}H.isBigInt64Array=M;function s(Me){return i(Me)==="BigUint64Array"}H.isBigUint64Array=s;function E(Me){return r(Me)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function w(Me){return typeof Map>"u"?!1:E.working?E(Me):Me instanceof Map}H.isMap=w;function _(Me){return r(Me)==="[object Set]"}_.working=typeof Set<"u"&&_(new Set);function D(Me){return typeof Set>"u"?!1:_.working?_(Me):Me instanceof Set}H.isSet=D;function N(Me){return r(Me)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function z(Me){return typeof WeakMap>"u"?!1:N.working?N(Me):Me instanceof WeakMap}H.isWeakMap=z;function F(Me){return r(Me)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function U(Me){return F(Me)}H.isWeakSet=U;function B(Me){return r(Me)==="[object ArrayBuffer]"}B.working=typeof ArrayBuffer<"u"&&B(new ArrayBuffer);function V(Me){return typeof ArrayBuffer>"u"?!1:B.working?B(Me):Me instanceof ArrayBuffer}H.isArrayBuffer=V;function j(Me){return r(Me)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function Q(Me){return typeof DataView>"u"?!1:j.working?j(Me):Me instanceof DataView}H.isDataView=Q;var ee=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(Me){return r(Me)==="[object SharedArrayBuffer]"}function ue(Me){return typeof ee>"u"?!1:(typeof re.working>"u"&&(re.working=re(new ee)),re.working?re(Me):Me instanceof ee)}H.isSharedArrayBuffer=ue;function J(Me){return r(Me)==="[object AsyncFunction]"}H.isAsyncFunction=J;function X(Me){return r(Me)==="[object Map Iterator]"}H.isMapIterator=X;function ne(Me){return r(Me)==="[object Set Iterator]"}H.isSetIterator=ne;function Y(Me){return r(Me)==="[object Generator]"}H.isGeneratorObject=Y;function oe(Me){return r(Me)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=oe;function le(Me){return l(Me,t)}H.isNumberObject=le;function Z(Me){return l(Me,a)}H.isStringObject=Z;function $(Me){return l(Me,n)}H.isBooleanObject=$;function se(Me){return v&&l(Me,f)}H.isBigIntObject=se;function ae(Me){return d&&l(Me,u)}H.isSymbolObject=ae;function he(Me){return le(Me)||Z(Me)||$(Me)||se(Me)||ae(Me)}H.isBoxedPrimitive=he;function me(Me){return typeof Uint8Array<"u"&&(V(Me)||ue(Me))}H.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Me){Object.defineProperty(H,Me,{enumerable:!1,value:function(){throw new Error(Me+" is not supported in userland")}})})},35840:function(G,H,e){var g=e(4168),R=Object.getOwnPropertyDescriptors||function(ee){for(var re=Object.keys(ee),ue={},J=0;J<re.length;J++)ue[re[J]]=Object.getOwnPropertyDescriptor(ee,re[J]);return ue},i=/%[sdj%]/g;H.format=function(Q){if(!b(Q)){for(var ee=[],re=0;re<arguments.length;re++)ee.push(d(arguments[re]));return ee.join(" ")}for(var re=1,ue=arguments,J=ue.length,X=String(Q).replace(i,function(Y){if(Y==="%%")return"%";if(re>=J)return Y;switch(Y){case"%s":return String(ue[re++]);case"%d":return Number(ue[re++]);case"%j":try{return JSON.stringify(ue[re++])}catch{return"[Circular]"}default:return Y}}),ne=ue[re];re<J;ne=ue[++re])o(ne)||!M(ne)?X+=" "+ne:X+=" "+d(ne);return X},H.deprecate=function(Q,ee){if(typeof g<"u"&&g.noDeprecation===!0)return Q;if(typeof g>"u")return function(){return H.deprecate(Q,ee).apply(this,arguments)};var re=!1;function ue(){if(!re){if(g.throwDeprecation)throw new Error(ee);g.traceDeprecation?console.trace(ee):console.error(ee),re=!0}return Q.apply(this,arguments)}return ue};var C={},S=/^$/;if(g.env.NODE_DEBUG){var v=g.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}H.debuglog=function(Q){if(Q=Q.toUpperCase(),!C[Q])if(S.test(Q)){var ee=g.pid;C[Q]=function(){var re=H.format.apply(H,arguments);console.error("%s %d: %s",Q,ee,re)}}else C[Q]=function(){};return C[Q]};function d(Q,ee){var re={seen:[],stylize:t};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),c(ee)?re.showHidden=ee:ee&&H._extend(re,ee),m(re.showHidden)&&(re.showHidden=!1),m(re.depth)&&(re.depth=2),m(re.colors)&&(re.colors=!1),m(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=r),n(re,Q,re.depth)}H.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(Q,ee){var re=d.styles[ee];return re?"\x1B["+d.colors[re][0]+"m"+Q+"\x1B["+d.colors[re][1]+"m":Q}function t(Q,ee){return Q}function a(Q){var ee={};return Q.forEach(function(re,ue){ee[re]=!0}),ee}function n(Q,ee,re){if(Q.customInspect&&ee&&w(ee.inspect)&&ee.inspect!==H.inspect&&!(ee.constructor&&ee.constructor.prototype===ee)){var ue=ee.inspect(re,Q);return b(ue)||(ue=n(Q,ue,re)),ue}var J=f(Q,ee);if(J)return J;var X=Object.keys(ee),ne=a(X);if(Q.showHidden&&(X=Object.getOwnPropertyNames(ee)),E(ee)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return u(ee);if(X.length===0){if(w(ee)){var Y=ee.name?": "+ee.name:"";return Q.stylize("[Function"+Y+"]","special")}if(L(ee))return Q.stylize(RegExp.prototype.toString.call(ee),"regexp");if(s(ee))return Q.stylize(Date.prototype.toString.call(ee),"date");if(E(ee))return u(ee)}var oe="",le=!1,Z=["{","}"];if(T(ee)&&(le=!0,Z=["[","]"]),w(ee)){var $=ee.name?": "+ee.name:"";oe=" [Function"+$+"]"}if(L(ee)&&(oe=" "+RegExp.prototype.toString.call(ee)),s(ee)&&(oe=" "+Date.prototype.toUTCString.call(ee)),E(ee)&&(oe=" "+u(ee)),X.length===0&&(!le||ee.length==0))return Z[0]+oe+Z[1];if(re<0)return L(ee)?Q.stylize(RegExp.prototype.toString.call(ee),"regexp"):Q.stylize("[Object]","special");Q.seen.push(ee);var se;return le?se=l(Q,ee,re,ne,X):se=X.map(function(ae){return y(Q,ee,re,ne,ae,le)}),Q.seen.pop(),h(se,oe,Z)}function f(Q,ee){if(m(ee))return Q.stylize("undefined","undefined");if(b(ee)){var re="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(re,"string")}if(x(ee))return Q.stylize(""+ee,"number");if(c(ee))return Q.stylize(""+ee,"boolean");if(o(ee))return Q.stylize("null","null")}function u(Q){return"["+Error.prototype.toString.call(Q)+"]"}function l(Q,ee,re,ue,J){for(var X=[],ne=0,Y=ee.length;ne<Y;++ne)U(ee,String(ne))?X.push(y(Q,ee,re,ue,String(ne),!0)):X.push("");return J.forEach(function(oe){oe.match(/^\d+$/)||X.push(y(Q,ee,re,ue,oe,!0))}),X}function y(Q,ee,re,ue,J,X){var ne,Y,oe;if(oe=Object.getOwnPropertyDescriptor(ee,J)||{value:ee[J]},oe.get?oe.set?Y=Q.stylize("[Getter/Setter]","special"):Y=Q.stylize("[Getter]","special"):oe.set&&(Y=Q.stylize("[Setter]","special")),U(ue,J)||(ne="["+J+"]"),Y||(Q.seen.indexOf(oe.value)<0?(o(re)?Y=n(Q,oe.value,null):Y=n(Q,oe.value,re-1),Y.indexOf(`
`)>-1&&(X?Y=Y.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(le){return"   "+le}).join(`
`))):Y=Q.stylize("[Circular]","special")),m(ne)){if(X&&J.match(/^\d+$/))return Y;ne=JSON.stringify(""+J),ne.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ne=ne.slice(1,-1),ne=Q.stylize(ne,"name")):(ne=ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ne=Q.stylize(ne,"string"))}return ne+": "+Y}function h(Q,ee,re){var ue=Q.reduce(function(J,X){return X.indexOf(`
`)>=0,J+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?re[0]+(ee===""?"":ee+`
 `)+" "+Q.join(`,
  `)+" "+re[1]:re[0]+ee+" "+Q.join(", ")+" "+re[1]}H.types=e(41088);function T(Q){return Array.isArray(Q)}H.isArray=T;function c(Q){return typeof Q=="boolean"}H.isBoolean=c;function o(Q){return Q===null}H.isNull=o;function p(Q){return Q==null}H.isNullOrUndefined=p;function x(Q){return typeof Q=="number"}H.isNumber=x;function b(Q){return typeof Q=="string"}H.isString=b;function P(Q){return typeof Q=="symbol"}H.isSymbol=P;function m(Q){return Q===void 0}H.isUndefined=m;function L(Q){return M(Q)&&D(Q)==="[object RegExp]"}H.isRegExp=L,H.types.isRegExp=L;function M(Q){return typeof Q=="object"&&Q!==null}H.isObject=M;function s(Q){return M(Q)&&D(Q)==="[object Date]"}H.isDate=s,H.types.isDate=s;function E(Q){return M(Q)&&(D(Q)==="[object Error]"||Q instanceof Error)}H.isError=E,H.types.isNativeError=E;function w(Q){return typeof Q=="function"}H.isFunction=w;function _(Q){return Q===null||typeof Q=="boolean"||typeof Q=="number"||typeof Q=="string"||typeof Q=="symbol"||typeof Q>"u"}H.isPrimitive=_,H.isBuffer=e(75272);function D(Q){return Object.prototype.toString.call(Q)}function N(Q){return Q<10?"0"+Q.toString(10):Q.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var Q=new Date,ee=[N(Q.getHours()),N(Q.getMinutes()),N(Q.getSeconds())].join(":");return[Q.getDate(),z[Q.getMonth()],ee].join(" ")}H.log=function(){console.log("%s - %s",F(),H.format.apply(H,arguments))},H.inherits=e(6768),H._extend=function(Q,ee){if(!ee||!M(ee))return Q;for(var re=Object.keys(ee),ue=re.length;ue--;)Q[re[ue]]=ee[re[ue]];return Q};function U(Q,ee){return Object.prototype.hasOwnProperty.call(Q,ee)}var B=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');if(B&&ee[B]){var re=ee[B];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,B,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var ue,J,X=new Promise(function(oe,le){ue=oe,J=le}),ne=[],Y=0;Y<arguments.length;Y++)ne.push(arguments[Y]);ne.push(function(oe,le){oe?J(oe):ue(le)});try{ee.apply(this,ne)}catch(oe){J(oe)}return X}return Object.setPrototypeOf(re,Object.getPrototypeOf(ee)),B&&Object.defineProperty(re,B,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,R(ee))},H.promisify.custom=B;function V(Q,ee){if(!Q){var re=new Error("Promise was rejected with a falsy value");re.reason=Q,Q=re}return ee(Q)}function j(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');function ee(){for(var re=[],ue=0;ue<arguments.length;ue++)re.push(arguments[ue]);var J=re.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var X=this,ne=function(){return J.apply(X,arguments)};Q.apply(this,re).then(function(Y){g.nextTick(ne.bind(null,null,Y))},function(Y){g.nextTick(V.bind(null,Y,ne))})}return Object.setPrototypeOf(ee,Object.getPrototypeOf(Q)),Object.defineProperties(ee,R(Q)),ee}H.callbackify=j},5408:function(G,H,e){var g=e(13380);G.exports=function(i){return g("webgl",i)}},96632:function(G,H,e){var g=e(46492),R=e(63436),i=e(57916),C=e(99676),S=e(2304),v=C("Object.prototype.toString"),d=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=R(),a=C("String.prototype.slice"),n=Object.getPrototypeOf,f=C("Array.prototype.indexOf",!0)||function(T,c){for(var o=0;o<T.length;o+=1)if(T[o]===c)return o;return-1},u={__proto__:null};d&&S&&n?g(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=n(T),o=S(c,Symbol.toStringTag);if(!o){var p=n(c);o=S(p,Symbol.toStringTag)}u["$"+h]=i(o.get)}}):g(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(u["$"+h]=i(c))});var l=function(T){var c=!1;return g(u,function(o,p){if(!c)try{"$"+o(T)===p&&(c=a(p,1))}catch{}}),c},y=function(T){var c=!1;return g(u,function(o,p){if(!c)try{o(T),c=a(p,1)}catch{}}),c};G.exports=function(T){if(!T||typeof T!="object")return!1;if(!d){var c=a(v(T),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:y(T)}return S?l(T):null}},67020:function(G,H,e){var g=e(38700),R=e(50896),i=g.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var y=u.match(v);return y?y[0]:""}var h=this._validateYear(u),T=u.month(),c=""+this.toChineseMonth(h,T);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(d);return l?l[0]:""}var y=this._validateYear(u),h=u.month(),T=this.toChineseMonth(y,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,h)&&(c=""+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var y=this._validateYear(u),h=u.month(),T=this.toChineseMonth(y,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,h)&&(c=""+c),c},parseMonth:function(u,l){u=this._validateYear(u);var y=parseInt(l),h;if(isNaN(y))l[0]===""&&(h=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),y=1+["","","","","","","","","","","",""].indexOf(l);else{var T=l[l.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(u,y,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,y){var h=this.intercalaryMonth(u),T=y&&l!==h;if(T||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!y&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var y=this.intercalaryMonth(u),h=y?12:11;if(l<0||l>h)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return y?l<y?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],y=l>>13;return y},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var y=this.intercalaryMonth(u);return!!y&&y===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,y){var h=this._validateYear(u,g.local.invalidyear),T=a[h-a[0]],c=T>>9&4095,o=T>>5&15,p=T&31,x;x=i.newDate(c,o,p),x.add(4-(x.dayOfWeek()||7),"d");var b=this.toJD(u,l,y)-x.toJD();return 1+Math.floor(b/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var y=t[u-t[0]],h=y>>13,T=h?12:11;if(l>T)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=y&1<<12-l?30:29;return c},weekDay:function(u,l,y){return(this.dayOfWeek(u,l,y)||7)<6},toJD:function(u,l,y){var h=this._validate(u,c,y,g.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),y=h.day();var T=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),o=f(u,c,y,T);return i.toJD(o.year,o.month,o.day)},fromJD:function(u){var l=i.fromJD(u),y=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,h,y.day)},fromString:function(u){var l=u.match(S),y=this._validateYear(+l[1]),h=+l[2],T=!!l[3],c=this.toMonthIndex(y,h,T),o=+l[4];return this.newDate(y,c,o)},add:function(u,l,y){var h=u.year(),T=u.month(),c=this.isIntercalaryMonth(h,T),o=this.toChineseMonth(h,T),p=Object.getPrototypeOf(C.prototype).add.call(this,u,l,y);if(y==="y"){var x=p.year(),b=p.month(),P=this.isIntercalaryMonth(x,o),m=c&&P?this.toMonthIndex(x,o,!0):this.toMonthIndex(x,o,!1);m!==b&&p.month(m)}return p}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,d=/^??[]?/m,r=/^??[]?/m;g.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,y,h){var T,c;if(typeof u=="object")T=u,c=l||{};else{var o=typeof u=="number"&&u>=1888&&u<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var p=typeof l=="number"&&l>=1&&l<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var x=typeof y=="number"&&y>=1&&y<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:y},c={}}var b=a[T.year-a[0]],P=T.year<<9|T.month<<5|T.day;c.year=P>=b?T.year:T.year-1,b=a[c.year-a[0]];var m=b>>9&4095,L=b>>5&15,M=b&31,s,E=new Date(m,L-1,M),w=new Date(T.year,T.month-1,T.day);s=Math.round((w-E)/864e5);var _=t[c.year-t[0]],D;for(D=0;D<13;D++){var N=_&1<<12-D?30:29;if(s<N)break;s-=N}var z=_>>13;return!z||D<z?(c.isIntercalary=!1,c.month=1+D):D===z?(c.isIntercalary=!0,c.month=D):(c.isIntercalary=!1,c.month=D),c.day=1+s,c}function f(u,l,y,h,T){var c,o;if(typeof u=="object")o=u,c=l||{};else{var p=typeof u=="number"&&u>=1888&&u<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var x=typeof l=="number"&&l>=1&&l<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var b=typeof y=="number"&&y>=1&&y<=30;if(!b)throw new Error("Lunar day outside range 1 - 30");var P;typeof h=="object"?(P=!1,c=h):(P=!!h,c={}),o={year:u,month:l,day:y,isIntercalary:P}}var m;m=o.day-1;var L=t[o.year-t[0]],M=L>>13,s;M&&(o.month>M||o.isIntercalary)?s=o.month:s=o.month-1;for(var E=0;E<s;E++){var w=L&1<<12-E?30:29;m+=w}var _=a[o.year-a[0]],D=_>>9&4095,N=_>>5&15,z=_&31,F=new Date(D,N-1,z+m);return c.year=F.getFullYear(),c.month=1+F.getMonth(),c.day=F.getDate(),c}},89792:function(G,H,e){var g=e(38700),R=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),C<0&&C++,d.day()+(d.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(S/30)+1,r=S-(d-1)*30+1;return this.newDate(v,d,r)}}),g.calendars.coptic=i},55668:function(G,H,e){var g=e(38700),R=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,d){var r=this.dayOfWeek(S,v,d);return r>=2&&r<=6},extraInfo:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),d=r.day(),d+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var d=Math.floor(S/32)+1,r=S-(d-1)*32+1;return this.newDate(v<=0?v-1:v,d,r)}});var C={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=i},65168:function(G,H,e){var g=e(38700),R=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),C<0&&C++,d.day()+(d.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(S/30)+1,r=S-(d-1)*30+1;return this.newDate(v,d,r)}}),g.calendars.ethiopian=i},2084:function(G,H,e){var g=e(38700),R=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,C(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&C(this.daysInYear(S),10)===5?30:v===9&&C(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==6},extraInfo:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);S=r.year(),v=r.month(),d=r.day();var t=S<=0?S+1:S,a=this.jdEpoch+this._delay1(t)+this._delay2(t)+d+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)a+=this.daysInMonth(S,n);for(var n=1;n<v;n++)a+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)a+=this.daysInMonth(S,n);return a},_delay1:function(S){var v=Math.floor((235*S-234)/19),d=12084+13753*v,r=v*29+Math.floor(d/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),d=this._delay1(S),r=this._delay1(S+1);return r-d===356?2:d-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var d=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,d,this.daysInMonth(v,d));)d++;var r=S-this.toJD(v,d,1)+1;return this.newDate(v,d,r)}});function C(S,v){return S-v*Math.floor(S/v)}g.calendars.hebrew=i},26368:function(G,H,e){var g=e(38700),R=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==5},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),S=d.month(),v=d.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(S-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var S=Math.floor((30*(C-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((C-29-this.toJD(S,1,1))/29.5)+1),d=C-this.toJD(S,v,1)+1;return this.newDate(S,v,d)}}),g.calendars.islamic=i},24747:function(G,H,e){var g=e(38700),R=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),S=d.month(),v=d.day(),C<0&&C++,S<=2&&(C--,S+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(C){var S=Math.floor(C+.5),v=S+1524,d=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*d),t=Math.floor((v-r)/30.6001),a=t-Math.floor(t<14?1:13),n=d-Math.floor(a>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,f)}}),g.calendars.julian=i},65616:function(G,H,e){var g=e(38700),R=e(50896);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=d.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var d=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";d=d*20+t}return d},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,d,r){return this._validate(v,d,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,d){return this._validate(v,d,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate);return t.day()},weekDay:function(v,d,r){return this._validate(v,d,r,g.local.invalidDate),!0},extraInfo:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate),a=t.toJD(),n=this._toHaab(a),f=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var d=C(v+8+17*20,365);return[Math.floor(d/20)+1,C(d,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var d=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(d,r,t)}});function C(v,d){return v-d*Math.floor(v/d)}function S(v,d){return C(v-1,d)+1}g.calendars.mayan=i},30632:function(G,H,e){var g=e(38700),R=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar;var C=g.instance("gregorian");R(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidMonth),t=r.year();t<0&&t++;for(var a=r.day(),n=1;n<r.month();n++)a+=this.daysPerMonth[n-1];return a+C.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var d=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;d>this.daysInMonth(v,r);)d-=this.daysInMonth(v,r),r++;return this.newDate(v,r,d)}}),g.calendars.nanakshahi=i},73040:function(G,H,e){var g=e(38700),R=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);if(C=S.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,d=this.minMonth;d<=12;d++)v+=this.NEPALI_CALENDAR_DATA[C][d];return v},daysInMonth:function(C,S){return C.year&&(S=C.month(),C=C.year()),this._validate(C,S,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[C][S]},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);C=d.year(),S=d.month(),v=d.day();var r=g.instance(),t=0,a=S,n=C;this._createMissingCalendarData(C);var f=C-(a>9||a===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,a--);a!==9;)a<=0&&(a=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][a],a--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(C){var S=g.instance(),v=S.fromJD(C),d=v.year(),r=v.dayOfYear(),t=d+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][a]-n+1;r>f;)a++,a>12&&(a=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][a];var u=this.NEPALI_CALENDAR_DATA[t][a]-(f-r);return this.newDate(t,a,u)},_createMissingCalendarData:function(C){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=i},1104:function(G,H,e){var g=e(38700),R=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==5},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);S=r.year(),v=r.month(),d=r.day();var t=S-(S>=0?474:473),a=474+C(t,2820);return d+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),d=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var a=Math.floor(r/366),n=C(r,366);t=Math.floor((2134*a+2816*n+2815)/1028522)+a+1}var f=t+2820*d+474;f=f<=0?f-1:f;var u=S-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),y=S-this.toJD(f,l,1)+1;return this.newDate(f,l,y)}});function C(S,v){return S-v*Math.floor(S/v)}g.calendars.persian=i,g.calendars.jalali=i},51456:function(G,H,e){var g=e(38700),R=e(50896),i=g.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return i.leapYear(d)},weekOfYear:function(t,v,d){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(S){var v=i.fromJD(S),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),g.calendars.taiwan=C},4592:function(G,H,e){var g=e(38700),R=e(50896),i=g.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return i.leapYear(d)},weekOfYear:function(t,v,d){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(S){var v=i.fromJD(S),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),g.calendars.thai=C},45348:function(G,H,e){var g=e(38700),R=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,d=1;d<=12;d++)v+=this.daysInMonth(S,d);return v},daysInMonth:function(S,v){for(var d=this._validate(S,v,this.minDay,g.local.invalidMonth),r=d.toJD()-24e5+.5,t=0,a=0;a<C.length;a++){if(C[a]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==5},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,a=r.day()+C[t-1]-1;return a+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,d=0,r=0;r<C.length&&!(C[r]>v);r++)d++;var t=d+15292,a=Math.floor((t-1)/12),n=a+1,f=t-12*a,u=v-C[d-1]+1;return this.newDate(n,f,u)},isValid:function(S,v,d){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,d,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=i;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,H,e){var g=e(50896);function R(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(R.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var a=this._localCals[r+"-"+t];if(!a&&this.calendars[r]&&(a=new this.calendars[r](t),this._localCals[r+"-"+t]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return a},newDate:function(r,t,a,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,a)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(a){return r[a]})}},substituteChineseDigits:function(r,t){return function(a){for(var n="",f=0;a>0;){var u=a%10;n=(u===0?"":r[u]+t[f])+n,f++,a=Math.floor(a/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,t,a,n){if(this._calendar=r,this._year=t,this._month=a,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(i.prototype,{newDate:function(r,t,a){return this._calendar.newDate(r??this,t,a)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,a){if(!this._calendar.isValid(r,t,a))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function S(){this.shortYearCutoff="+10"}g(S.prototype,{_validateLevel:0,newDate:function(r,t,a){return r==null?this.today():(r.year&&(this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate),a=r.day(),t=r.month(),r=r.year()),new i(this,r,t,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var a=this._validate(r,t,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(r,t){var a=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,a,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),a},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,a){var n=this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,a){var n=this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,a){return this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(r,t,a){return this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,a),t,a)},_add:function(r,t,a){if(this._validateLevel++,a==="d"||a==="w"){var n=r.toJD()+t*(a==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(a==="y"?t:0),l=r.monthOfYear()+(a==="m"?t:0),f=r.day(),y=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var o=c.monthsInYear(u);l>o-1+c.minMonth;)u++,l-=o,o=c.monthsInYear(u)};a==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):a==="m"&&(y(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,a,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=a<0?-1:1;t=this._add(r,a*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,a){this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n=a==="y"?t:r.year(),f=a==="m"?t:r.month(),u=a==="d"?t:r.day();return(a==="y"||a==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,a){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,a){var n=this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(d.instance().fromJSDate(r).toJD())},_validate:function(r,t,a,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,a))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,a);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),a=t.year()+(t.year()<0?1:0);return a%4===0&&(a%100!==0||a%400===0)},weekOfYear:function(r,t,a){var n=this.newDate(r,t,a);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var a=this._validate(r,t,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(r,t,a){return(this.dayOfWeek(r,t,a)||7)<6},toJD:function(r,t,a){var n=this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),a=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+a+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),a=Math.floor((t-186721625e-2)/36524.25);a=t+1+a-Math.floor(a/4);var n=a+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),y=n-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),T=f-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,y)},toJSDate:function(r,t,a){var n=this._validate(r,t,a,d.local.invalidDate||d.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var d=G.exports=new R;d.cdate=i,d.baseCalendar=S,d.calendars.gregorian=v},15168:function(G,H,e){var g=e(50896),R=e(38700);g(R.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),R.local=R.regionalOptions[""],g(R.cdate.prototype,{formatDate:function(i,C){return typeof i!="string"&&(C=i,i=""),this._calendar.formatDate(i||"",this,C)}}),g(R.baseCalendar.prototype,{UNIX_EPOCH:R.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:R.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,C,S){if(typeof i!="string"&&(S=C,C=i,i=""),!C)return"";if(C.calendar()!==this)throw R.local.invalidFormat||R.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,d=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,a=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(b,P){for(var m=1;x+m<i.length&&i.charAt(x+m)===b;)m++;return x+=m-1,Math.floor(m/(P||1))>1},f=function(b,P,m,L){var M=""+P;if(n(b,L))for(;M.length<m;)M="0"+M;return M},u=function(b,P,m,L){return n(b)?L[P]:m[P]},l=this,y=function(b){return typeof r=="function"?r.call(l,b,n("m")):c(f("m",b.month(),2))},h=function(b,P){return P?typeof a=="function"?a.call(l,b):a[b.month()-l.minMonth]:typeof t=="function"?t.call(l,b):t[b.month()-l.minMonth]},T=this.local.digits,c=function(b){return S.localNumbers&&T?T(b):b},o="",p=!1,x=0;x<i.length;x++)if(p)i.charAt(x)==="'"&&!n("'")?p=!1:o+=i.charAt(x);else switch(i.charAt(x)){case"d":o+=c(f("d",C.day(),2));break;case"D":o+=u("D",C.dayOfWeek(),v,d);break;case"o":o+=f("o",C.dayOfYear(),3);break;case"w":o+=f("w",C.weekOfYear(),2);break;case"m":o+=y(C);break;case"M":o+=h(C,n("M"));break;case"y":o+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),o+=C.formatYear();break;case"J":o+=C.toJD();break;case"@":o+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":p=!0;break;default:o+=i.charAt(x)}return o},parseDate:function(i,C,S){if(C==null)throw R.local.invalidArguments||R.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;i=i||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var d=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,a=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,u=-1,l=-1,y=-1,h=-1,T=-1,c=!1,o=!1,p=function(D,N){for(var z=1;E+z<i.length&&i.charAt(E+z)===D;)z++;return E+=z-1,Math.floor(z/(N||1))>1},x=function(D,N){var z=p(D,N),F=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],U=new RegExp("^-?\\d{1,"+F+"}"),B=C.substring(s).match(U);if(!B)throw(R.local.missingNumberAt||R.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=B[0].length,parseInt(B[0],10)},b=this,P=function(){if(typeof a=="function"){p("m");var D=a.call(b,C.substring(s));return s+=D.length,D}return x("m")},m=function(D,N,z,F){for(var U=p(D,F)?z:N,B=0;B<U.length;B++)if(C.substr(s,U[B].length).toLowerCase()===U[B].toLowerCase())return s+=U[B].length,B+b.minMonth;throw(R.local.unknownNameAt||R.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},L=function(){if(typeof f=="function"){var D=p("M")?f.call(b,C.substring(s)):n.call(b,C.substring(s));return s+=D.length,D}return m("M",n,f)},M=function(){if(C.charAt(s)!==i.charAt(E))throw(R.local.unexpectedLiteralAt||R.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,E=0;E<i.length;E++)if(o)i.charAt(E)==="'"&&!p("'")?o=!1:M();else switch(i.charAt(E)){case"d":h=x("d");break;case"D":m("D",d,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":y=P();break;case"M":y=L();break;case"y":var w=E;c=!p("y",2),E=w,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":u=x("J")+.5,C.charAt(s)==="."&&(s++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=C.length;break;case"'":p("'")?M():o=!0;break;default:M()}if(s<C.length)throw R.local.unexpectedText||R.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof y=="string"&&(y=t.call(this,l,y)),T>-1){y=1,h=T;for(var _=this.daysInMonth(l,y);h>_;_=this.daysInMonth(l,y))y++,h-=_}return u>-1?this.fromJD(u):this.newDate(l,y,h)},determineDate:function(i,C,S,v,d){S&&typeof S!="object"&&(d=v,v=S,S=null),typeof v!="string"&&(d=v,v="");var r=this,t=function(a){try{return r.parseDate(v,a,d)}catch{}a=a.toLowerCase();for(var n=(a.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(a);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(a);return n};return C=C?C.newDate():null,i=i==null?C:typeof i=="string"?t(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?C:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(G,H,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var C=[],S=0;S<g.length;S++)typeof R[g[S]]=="function"&&(C[C.length]=g[S]);return C}},67756:function(G,H,e){e.d(H,{qy:function(){return Ee},Gz:function(){return le}});function g(xe,Ce,Ue){xe.prototype=Ce.prototype=Ue,Ue.constructor=xe}function R(xe,Ce){var Ue=Object.create(xe.prototype);for(var Ne in Ce)Ue[Ne]=Ce[Ne];return Ue}function i(){}var C=.7,S=1/C,v="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(d,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(d,"\\)$")),l=new RegExp("^hsl\\(".concat(d,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(d,",").concat(r,",").concat(r,",").concat(d,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(i,x,{copy:function(Ce){return Object.assign(new this.constructor,this,Ce)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:o,formatRgb:p,toString:p});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return F(this).formatHsl()}function p(){return this.rgb().formatRgb()}function x(xe){var Ce,Ue;return xe=(xe+"").trim().toLowerCase(),(Ce=t.exec(xe))?(Ue=Ce[1].length,Ce=parseInt(Ce[1],16),Ue===6?b(Ce):Ue===3?new M(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):Ue===8?P(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):Ue===4?P(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=a.exec(xe))?new M(Ce[1],Ce[2],Ce[3],1):(Ce=n.exec(xe))?new M(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=f.exec(xe))?P(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=u.exec(xe))?P(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=l.exec(xe))?z(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=y.exec(xe))?z(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):h.hasOwnProperty(xe)?b(h[xe]):xe==="transparent"?new M(NaN,NaN,NaN,0):null}function b(xe){return new M(xe>>16&255,xe>>8&255,xe&255,1)}function P(xe,Ce,Ue,Ne){return Ne<=0&&(xe=Ce=Ue=NaN),new M(xe,Ce,Ue,Ne)}function m(xe){return xe instanceof i||(xe=x(xe)),xe?(xe=xe.rgb(),new M(xe.r,xe.g,xe.b,xe.opacity)):new M}function L(xe,Ce,Ue,Ne){return arguments.length===1?m(xe):new M(xe,Ce,Ue,Ne??1)}function M(xe,Ce,Ue,Ne){this.r=+xe,this.g=+Ce,this.b=+Ue,this.opacity=+Ne}g(M,L,R(i,{brighter:function(Ce){return Ce=Ce==null?S:Math.pow(S,Ce),new M(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new M(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},rgb:function(){return this},clamp:function(){return new M(D(this.r),D(this.g),D(this.b),_(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:E,formatRgb:w,toString:w}));function s(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function E(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var xe=_(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function _(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function D(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function N(xe){return xe=D(xe),(xe<16?"0":"")+xe.toString(16)}function z(xe,Ce,Ue,Ne){return Ne<=0?xe=Ce=Ue=NaN:Ue<=0||Ue>=1?xe=Ce=NaN:Ce<=0&&(xe=NaN),new B(xe,Ce,Ue,Ne)}function F(xe){if(xe instanceof B)return new B(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof i||(xe=x(xe)),!xe)return new B;if(xe instanceof B)return xe;xe=xe.rgb();var Ce=xe.r/255,Ue=xe.g/255,Ne=xe.b/255,De=Math.min(Ce,Ue,Ne),He=Math.max(Ce,Ue,Ne),at=NaN,vt=He-De,ot=(He+De)/2;return vt?(Ce===He?at=(Ue-Ne)/vt+(Ue<Ne)*6:Ue===He?at=(Ne-Ce)/vt+2:at=(Ce-Ue)/vt+4,vt/=ot<.5?He+De:2-He-De,at*=60):vt=ot>0&&ot<1?0:at,new B(at,vt,ot,xe.opacity)}function U(xe,Ce,Ue,Ne){return arguments.length===1?F(xe):new B(xe,Ce,Ue,Ne??1)}function B(xe,Ce,Ue,Ne){this.h=+xe,this.s=+Ce,this.l=+Ue,this.opacity=+Ne}g(B,U,R(i,{brighter:function(Ce){return Ce=Ce==null?S:Math.pow(S,Ce),new B(this.h,this.s,this.l*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new B(this.h,this.s,this.l*Ce,this.opacity)},rgb:function(){var Ce=this.h%360+(this.h<0)*360,Ue=isNaN(Ce)||isNaN(this.s)?0:this.s,Ne=this.l,De=Ne+(Ne<.5?Ne:1-Ne)*Ue,He=2*Ne-De;return new M(Q(Ce>=240?Ce-240:Ce+120,He,De),Q(Ce,He,De),Q(Ce<120?Ce+240:Ce-120,He,De),this.opacity)},clamp:function(){return new B(V(this.h),j(this.s),j(this.l),_(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ce=_(this.opacity);return"".concat(Ce===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(Ce===1?")":", ".concat(Ce,")"))}}));function V(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function j(xe){return Math.max(0,Math.min(1,xe||0))}function Q(xe,Ce,Ue){return(xe<60?Ce+(Ue-Ce)*xe/60:xe<180?Ue:xe<240?Ce+(Ue-Ce)*(240-xe)/60:Ce)*255}var ee=function(xe){return function(){return xe}};function re(xe,Ce){return function(Ue){return xe+Ue*Ce}}function ue(xe,Ce,Ue){return xe=Math.pow(xe,Ue),Ce=Math.pow(Ce,Ue)-xe,Ue=1/Ue,function(Ne){return Math.pow(xe+Ne*Ce,Ue)}}function J(xe){return(xe=+xe)==1?X:function(Ce,Ue){return Ue-Ce?ue(Ce,Ue,xe):ee(isNaN(Ce)?Ue:Ce)}}function X(xe,Ce){var Ue=Ce-xe;return Ue?re(xe,Ue):ee(isNaN(xe)?Ce:xe)}var ne=function xe(Ce){var Ue=J(Ce);function Ne(De,He){var at=Ue((De=L(De)).r,(He=L(He)).r),vt=Ue(De.g,He.g),ot=Ue(De.b,He.b),et=X(De.opacity,He.opacity);return function(ct){return De.r=at(ct),De.g=vt(ct),De.b=ot(ct),De.opacity=et(ct),De+""}}return Ne.gamma=xe,Ne}(1);function Y(xe,Ce){var Ue=Ce?Ce.length:0,Ne=xe?Math.min(Ue,xe.length):0,De=new Array(Ne),He=new Array(Ue),at;for(at=0;at<Ne;++at)De[at]=Ee(xe[at],Ce[at]);for(;at<Ue;++at)He[at]=Ce[at];return function(vt){for(at=0;at<Ne;++at)He[at]=De[at](vt);return He}}function oe(xe,Ce){var Ue=new Date;return xe=+xe,Ce=+Ce,function(Ne){return Ue.setTime(xe*(1-Ne)+Ce*Ne),Ue}}function le(xe,Ce){return xe=+xe,Ce=+Ce,function(Ue){return xe*(1-Ue)+Ce*Ue}}function Z(xe){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},Z(xe)}function $(xe,Ce){var Ue={},Ne={},De;(xe===null||Z(xe)!=="object")&&(xe={}),(Ce===null||Z(Ce)!=="object")&&(Ce={});for(De in Ce)De in xe?Ue[De]=Ee(xe[De],Ce[De]):Ne[De]=Ce[De];return function(He){for(De in Ue)Ne[De]=Ue[De](He);return Ne}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(se.source,"g");function he(xe){return function(){return xe}}function me(xe){return function(Ce){return xe(Ce)+""}}function Me(xe,Ce){var Ue=se.lastIndex=ae.lastIndex=0,Ne,De,He,at=-1,vt=[],ot=[];for(xe=xe+"",Ce=Ce+"";(Ne=se.exec(xe))&&(De=ae.exec(Ce));)(He=De.index)>Ue&&(He=Ce.slice(Ue,He),vt[at]?vt[at]+=He:vt[++at]=He),(Ne=Ne[0])===(De=De[0])?vt[at]?vt[at]+=De:vt[++at]=De:(vt[++at]=null,ot.push({i:at,x:le(Ne,De)})),Ue=ae.lastIndex;return Ue<Ce.length&&(He=Ce.slice(Ue),vt[at]?vt[at]+=He:vt[++at]=He),vt.length<2?ot[0]?me(ot[0].x):he(Ce):(Ce=ot.length,function(et){for(var ct=0,ht;ct<Ce;++ct)vt[(ht=ot[ct]).i]=ht.x(et);return vt.join("")})}function Te(xe,Ce){Ce||(Ce=[]);var Ue=xe?Math.min(Ce.length,xe.length):0,Ne=Ce.slice(),De;return function(He){for(De=0;De<Ue;++De)Ne[De]=xe[De]*(1-He)+Ce[De]*He;return Ne}}function Pe(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function be(xe){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},be(xe)}function Ee(xe,Ce){var Ue=be(Ce),Ne;return Ce==null||Ue==="boolean"?ee(Ce):(Ue==="number"?le:Ue==="string"?(Ne=x(Ce))?(Ce=Ne,ne):Me:Ce instanceof x?ne:Ce instanceof Date?oe:Pe(Ce)?Te:Array.isArray(Ce)?Y:typeof Ce.valueOf!="function"&&typeof Ce.toString!="function"||isNaN(Ce)?$:le)(xe,Ce)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ce={};function Ae(G){var H=ce[G];if(H!==void 0)return H.exports;var e=ce[G]={exports:{}};return q[G].call(e.exports,e,e.exports,Ae),e.exports}(function(){Ae.n=function(G){var H=G&&G.__esModule?function(){return G.default}:function(){return G};return Ae.d(H,{a:H}),H}})(),function(){Ae.d=function(G,H){for(var e in H)Ae.o(H,e)&&!Ae.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:H[e]})}}(),function(){Ae.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ae.o=function(G,H){return Object.prototype.hasOwnProperty.call(G,H)}}(),function(){Ae.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var _e=Ae(13792);return _e}()})})(sS);var jz=sS.exports;(function(A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var O=ce(oS),q=ce(jz);function ce(G){return G&&G.__esModule?G:{default:G}}var Ae=(0,O.default)(q.default),_e=Ae;A.default=_e})(iS);const Xz=Pb(iS);function Zz({data:A}){const[O,q]=Wr.useState("R"),[ce,Ae]=Wr.useState(["ALL"]),[_e,G]=Wr.useState([]),H=["R","HR","RBI","SB","TB","AVG","OBP","IP","K","ERA","WHIP","SV"],e=[...new Set(A.map(i=>i.team_name))];Wr.useEffect(()=>{if(A.length>0){const C=(ce.includes("ALL")?e:ce).map(S=>({type:"scatter",mode:"lines+markers",name:S,x:A.filter(v=>v.team_name===S).map(v=>v.week),y:A.filter(v=>v.team_name===S).map(v=>v[O]),line:{shape:"linear"}}));G(C)}},[A,O,ce]);const g=i=>{q(i.target.value)},R=i=>{const{target:{value:C}}=i;C[C.length-1]==="ALL"||C.length===0?Ae(["ALL"]):C.includes("ALL")?Ae(C.filter(S=>S!=="ALL")):Ae(C)};return xn.jsxs("div",{style:{backgroundColor:"white",padding:"20px"},children:[xn.jsxs(Gf,{container:!0,alignItems:"center",spacing:2,children:[xn.jsx(Gf,{item:!0,children:xn.jsx(Mb,{variant:"h6",color:"black",children:"Please select a stat to graph:"})}),xn.jsx(Gf,{item:!0,children:xn.jsx(Eb,{width:200,children:xn.jsxs(zy,{fullWidth:!0,children:[xn.jsx(Oy,{id:"stat-select-label",children:"Select Stat"}),xn.jsx(E0,{size:"small",labelId:"stat-select-label",id:"stat-select",value:O,label:"Select Stat",onChange:g,children:H.map((i,C)=>xn.jsx(n0,{value:i,children:i},C))})]})})})]}),xn.jsxs(Gf,{container:!0,alignItems:"center",spacing:2,sx:{mt:2,mb:2},children:[xn.jsx(Gf,{item:!0,children:xn.jsx(Mb,{variant:"h6",color:"black",children:"Please select teams to compare:"})}),xn.jsx(Gf,{item:!0,xs:!0,children:xn.jsx(Eb,{width:200,children:xn.jsxs(zy,{fullWidth:!0,children:[xn.jsx(Oy,{id:"team-select-label",children:"Select Teams"}),xn.jsxs(E0,{size:"small",labelId:"team-select-label",id:"team-select",multiple:!0,value:ce,onChange:R,input:xn.jsx(Q3,{label:"Select Teams"}),renderValue:i=>i.join(", "),children:[xn.jsxs(n0,{value:"ALL",children:[xn.jsx(iT,{checked:ce.includes("ALL")}),"All Teams"]}),e.map(i=>xn.jsxs(n0,{value:i,children:[xn.jsx(iT,{checked:ce.includes(i)}),i]},i))]})]})})})]}),xn.jsx(Xz,{data:_e,layout:{title:`Weekly Trends for ${O} Across Teams`,xaxis:{title:"Week",tickmode:"linear",tick0:1,dtick:1},yaxis:{title:O},margin:{t:60},autosize:!0},useResizeHandler:!0,style:{width:"100%",height:"100%"}})]})}function Kz(){const[A,O]=Wr.useState([]),[q,ce]=Wr.useState([]),[Ae,_e]=Wr.useState(0);Wr.useEffect(()=>{w4("/data/leaders_2024.csv").then(H=>{O(H)}).catch(H=>console.error("Error loading or parsing CSV:",H))},[]),Wr.useEffect(()=>{w4("/data/stats_2024.csv").then(H=>{ce(H)}).catch(H=>console.error("Error loading or parsing CSV:",H))},[]);const G=(H,e)=>{_e(e)};return xn.jsxs(Eb,{children:[xn.jsx(RI,{position:"static",children:xn.jsxs(oz,{children:[xn.jsx(Mb,{variant:"h6",component:"div",sx:{flexGrow:0,mr:2},children:"The Errors of Ersen"}),xn.jsxs(Bz,{value:Ae,onChange:G,textColor:"inherit",indicatorColor:"secondary",sx:{".Mui-selected":{outline:"none"}},children:[xn.jsx(gx,{label:"Weekly Stat Leaders"}),xn.jsx(gx,{label:"Team Stats"}),xn.jsx(gx,{label:"Team Stat Trends"})]})]})}),Ae===0&&xn.jsx(Wz,{data:A}),Ae===1&&xn.jsx(Yz,{data:q}),Ae===2&&xn.jsx(Zz,{data:q})]})}wx.createRoot(document.getElementById("root")).render(xn.jsx(pf.StrictMode,{children:xn.jsx(Kz,{})}));
